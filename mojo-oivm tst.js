var xmjd=mstrmojo&&mstrmojo.descriptors
var mstrmojo={helpPath:function(){return(mstrApp.helpUrl||"../help/")+"MSTRWeb/WebHelp/Lang_"+(mstrApp.helpLocaleId||mstrApp.localeId)+"/Content/"
	},helpPathMobileAdmin:function(){return(mstrApp.helpUrl||"../help/")+"MobileAdmin/WebHelp/Lang_"+(mstrApp.helpLocaleId||mstrApp.localeId)+"/"
	},upgradeHelpPath:function(){return(mstrApp.upgradeHelpUrl||"../help/")+"WebHelp/Lang_"+(mstrApp.helpLocaleId||mstrApp.localeId)+"/Content/"
	},descriptors:xmjd||{},meta:{TP:"t",STP:"st"},emptyFn:function(){},tstid:function(B){var A
	if(B){if(typeof (B)==="object"){A=B.tstid
		}else{A=B
	}}return A?'tstid="'+A+'"':""
	},getMissingFn:function getMissingFn(){return function(){var C=this.scriptClass,A
		try{for(A in this){if(this[A]===arguments.callee){C+="."+A
			break
		}}}catch(B){}throw new Error("Missing abstract method: "+C)
	}
	},now:function now(){return new Date().getTime()
	},usesFrames:false,getObj:function getObj(A){if(!A||A.destroyed){return null
	}return A
},inClosureProps:{inClosure:true}}
(function(){mstrmojo.global=(function(){var F=function(){return this
}
return F.call(null)
}())
mstrmojo.dbg=mstrmojo.emptyFn
mstrmojo.dbg_stack=mstrmojo.emptyFn
mstrmojo.dbg_xhr=mstrmojo.emptyFn
mstrmojo.dbg_profile=mstrmojo.emptyFn
mstrmojo.debugBundles=(function(){return(window.mstrConfig&&(mstrConfig.debugFlags!==undefined)&&((mstrConfig.debugFlags&4)>0))
})()
mstrmojo.platform={}
mstrmojo.prompt={}
mstrmojo.settings={}
mstrmojo.models={datasets:{},template:{}}
mstrmojo.ui={editors:{controls:{}},menus:{},pathbar:{}}
mstrmojo.prefs={}
mstrmojo.ACL={}
mstrmojo.CMS={}
mstrmojo.storage={}
mstrmojo.maps={}
mstrmojo.maps.androidmap={}
mstrmojo.maps.jsmap={}
mstrmojo.graph={}
mstrmojo.sm={}
mstrmojo.sort={}
mstrmojo.customviz={}
mstrmojo.ME={}
mstrmojo.architect={ui:{editors:{},panels:{},factories:{}},obj:{},menu:{},projectmanagement:{}}
mstrmojo.warehouse={ui:{editors:{}},obj:{},dbroles:{},menu:{}}
mstrmojo.plugins={}
mstrmojo.AS={}
mstrmojo.DI={controller:{},model:{},ui:{dialogs:{}}}
mstrmojo.Refine={}
mstrmojo.qb={bigquery:{},es:{},mdx:{},menu:{},thirdParty:{},s4hana:{},cc:{},}
mstrmojo.WH={}
mstrmojo.fe={}
mstrmojo.txEditor={}
mstrmojo.condTx={}
mstrmojo.threshold={}
mstrmojo.express={ui:{}}
mstrmojo.rw={model:{},xtab:{}}
mstrmojo.util={ui:{}}
mstrmojo.android={controllers:{},factories:{},inputControls:{},large:{controllers:{},factories:{},ui:{}},medium:{controllers:{},factories:{},ui:{nativebar:{}}},selectors:{},ui:{},nativedialog:{}}
mstrmojo.mobile={vi:{ui:{rw:{xtab:{}}}},kpicard:{},mapbox:{},customviz:{},netviz:{},gm:{},ngm:{},gmaps:{layer:{mapbox:{}}},ag:{ui:{}}}
mstrmojo.vi={controllers:{},factories:{},models:{editors:{}},enums:{},ui:{menus:{},editors:{fe:{},cm:{},nlp:{}},rw:{selectors:{},xtab:{}},tabs:{},toolbars:{}},viz:{},util:{}}
mstrmojo.ag={models:{editors:{},template:{}},ui:{},chart:{}}
mstrmojo.onetier={controllers:{},vi:{acl:{},prefs:{model:{}},ui:{}}}
mstrmojo.config={vi:{},onetier:{}}
mstrmojo.chart={common:{},enums:{},model:{enums:{}}}
mstrmojo.nativeandroid={}
mstrmojo.gm={touch:{}}
mstrmojo.ngm={}
mstrmojo.heatmap={vi:{}}
mstrmojo.netviz={}
mstrmojo.imagelayout={}
mstrmojo.kpicard={layout:{},editors:{}}
mstrmojo.surveys={}
mstrmojo.iphone={}
mstrmojo.winphone={}
mstrmojo.mstr={search:{}}
mstrmojo.mstr.ui={}
mstrmojo.gmaps={basemap:{},graphic:{},geometry:{},layer:{svg:{},canvas:{},mapbox:{}}}
mstrmojo.esrimap={}
mstrmojo.mapbox={ui:{selectors:{}}}
mstrmojo.examples={}
mstrmojo.home={controllers:{},models:{},views:{},ui:{}}
mstrmojo.workstation={pages:{}}
mstrmojo.err=function D(I,H){var G=I.name+': "'+I.message+'"'
	if(mstrmojo.debug){if(I.fileName){G+=" at\n    "+I.fileName
		}if(I.hasOwnProperty("lineNumber")){G+=": "+I.lineNumber
		}else{if(I.hasOwnProperty("line")&&I.sourceURL){var F=I.sourceURL.split("/")
			G+="("+F[F.length>1?F.length-1:0]+":"+I.line+")"
		}}}this.dbg(G)
		if(mstrmojo.Dialog){mstrmojo.error({longDesc:I.message,code:I.code},H,{title:I.name})
			}else{window.alert(G)
		}}
		mstrmojo.confirm=function B(F){return window.confirm(F)
		}
		mstrmojo.alert=function E(F){window.alert(F)
		}
		var C=!!(/return true/.test(String(function(){return true
		})))
		mstrmojo.mixin=function A(J,H){if(J){H=H||{}
			var I=/this\.\_super/
			var G=function(N,M){return function L(){var P=this._super
				this._super=M
				var O=N.apply(this,arguments||[])
				this._super=P
				return O
			}
			}
			var F=J.__onmixin__
			if(F){delete J.__onmixin__
			}var K
			for(K in J){if((typeof J[K]==="function")&&(!C||I.test(J[K]))){H[K]=G(J[K],H[K])
				}else{H[K]=J[K]
			}}if(F){J.__onmixin__=F
			}}return H
		}
}())
(function(){var $XHR
	var $MISSING={}
	var getApp=function(){return mstrmojo.global.mstrApp||{}
		},getJsRoot=function(){return getApp().jsRoot||"../javascript/"
		},getJsBundlesRoot=function(){return getJsRoot()+"bundles/"
		},getJsMojoRoot=function(){return getApp().jsMojoRoot||"../javascript/mojo/js/source/"
		},getPluginRoot=function(){return getApp().pluginRoot||"../plugins/"
		},getPluginMojoRoot=function(){return getApp().pluginMojoRoot||getJsMojoRoot()
	},isIE=!!document.all
	function getXHR(){$XHR=self.XMLHttpRequest?new XMLHttpRequest():(self.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null)
		}function encodeParams(params){var x=-1,url=[],p
		if(params){for(p in params){if(params.hasOwnProperty(p)){url[++x]=p+"="+encodeURIComponent(params[p])
		}}}return url.join("&")
		}function appendUrlParams(method,baseUrl,params){if(method!=="GET"||!params){return baseUrl
		}return baseUrl+"?"+encodeParams(params)
		}function syncXHR(method,baseUrl,params){var result=null
		method=method.toUpperCase()
		if(!$XHR){getXHR()
			}if($XHR){try{var m=null,app=window.mstrApp
				if(window.microstrategy!==undefined&&microstrategy){m=microstrategy
	}params.taskContentType=params.taskContentType||"json"
	params.taskEnv="xhr"
	params.xts=mstrmojo.now()
	params=mstrmojo.addCSRFTokenToTaskParams(params)
	var ptp=(app&&app.persistTaskParams)||(m&&m.persistParams)
	if(ptp){mstrmojo.requiresCls("mstrmojo.hash")
	mstrmojo.hash.copy(ptp,params)
	}$XHR.open(method,appendUrlParams(method,baseUrl,params),false)
	$XHR.setRequestHeader("X-Requested-With","XMLHttpRequest")
	if(method!=="POST"){params=null
	}else{params=encodeParams(params)
	$XHR.setRequestHeader("Content-type","application/x-www-form-urlencoded")
	}$XHR.send(params)
	result=$XHR.responseText||null
	}catch(localerr){if(window.console){window.console.log(localerr)
	}}}return result
	}function _jsGet(file,nullCheck){var js=mstrmojo.loadFileSync(file)
	if(js){try{eval(js)
	return nullCheck?!!verifyJsLoaded(nullCheck):true
	}catch(localerr){window.alert("JavaScript compile error:\n\nFile: "+file+"\n\nError: "+localerr.message)
	}}return false
	}mstrmojo.requiresBundle=function reqBundle(bundleNames){var bundles=(bundleNames||"").split(",")
	return bundles.every(function(bundleName){bundleName=getJsBundlesRoot()+bundleName.trim()
	var loaded=reqCache[bundleName]
	if(!loaded&&_jsGet(bundleName)){reqCache[bundleName]=true
	loaded=true
	}return loaded
	})
	}
	mstrmojo.requiresDepLib=function requiresDepLib(file,AMD){if(reqCache[file]){return true
	}function isAMD(){return"function"===typeof define&&define.amd
	}var AMDCache=window.define
	if(!AMD&&isAMD()){delete window.define
	}var value=_jsGet(file)
	reqCache[file]=true
	window.define=AMDCache
	return value
	}
	mstrmojo.loadFileSync=function loadFileSync(file){var result=null
	if(!$XHR){getXHR()
	}if($XHR){try{$XHR.open("GET",mstrmojo.util.version.getResourcePathWithVersion(file),false)
	$XHR.setRequestHeader("X-Requested-With","XMLHttpRequest")
	$XHR.send(null)
	result=$XHR.responseText||null
	}catch(localerr){}if(!isIE&&$XHR.abort){$XHR.abort()
	}}return result
	}
	mstrmojo.loadScript=function loadScript(file,onload,onerror){var script=document.createElement("script")
	script.onload=function(){if(onload){onload()
	}}
	script.onerror=function(){if(onerror){onerror("Failed to load: "+file)
	}}
	script.src=file
	document.head.appendChild(script)
	}
	mstrmojo.insertCSSLinks=function insertCSSLinks(files,onLoadFn){var css,firsthead
	if(files&&files.length>0){firsthead=document.getElementsByTagName("head")[0]
	files.forEach(function(file){css=document.createElement("link")
	css.setAttribute("id",file.replace(/[^a-zA-Z0-9]/g,""))
	css.setAttribute("rel","stylesheet")
	css.setAttribute("type","text/css")
	css.setAttribute("href",file)
	if(onLoadFn){css.addEventListener("load",function(){onLoadFn(file)
	})
	}firsthead.appendChild(css)
	})
	}}
	mstrmojo.loader={loaded:{mstrmojo:true,"mstrmojo.loader":true},isLoaded:function isLd(fqcn){var isLoaded=!!verifyJsLoaded(fqcn)
	if(isLoaded){this.loaded[fqcn]=true
	}return isLoaded
	},load:function ld(fqcn){if($MISSING[fqcn]){return false
	}if(this.loaded[fqcn]||this.isLoaded(fqcn)){return true
	}if(_jsGet(this.fqcnToFile(fqcn),fqcn)){this.loaded[fqcn]=true
	return true
	}$MISSING[fqcn]=true
	return false
	},fqcnToFile:function fqcnToFile(fqcn){if(fqcn.match(/^mstrmojo\.plugins\./)){var pluginName=fqcn.substring(17,fqcn.indexOf(".",17)),pluginFile=pluginName+"/javascript/"+getPluginMojoRoot()+fqcn.replace("mstrmojo.plugins."+pluginName+".","").replace(/\./gm,"/")
	if(mstrApp&&mstrApp.supportFeature&&mstrApp.supportFeature(mstrmojo.vi.enums.EnumFeatures.SUPPORT_LIVEMODE)&&mstrApp.getWSLiveMode()&&mstrConfig.dossierServerPluginNames&&mstrConfig.dossierServerPluginNames.indexOf(pluginName)>-1){fqcn=mstrApp.dossierServerBaseUrl+"plugins/"+pluginFile
	}else{fqcn=getPluginRoot()+pluginFile
	}}else{if(fqcn.match(/^mstrmojo\./)){fqcn=getJsMojoRoot()+fqcn.replace("mstrmojo.","").replace(/\./gm,"/")
	}else{fqcn=getJsRoot()+fqcn.replace(/\./gm,"/")
	}}return fqcn+".js"
	},loadBundleWithCss:function loadBundleWithCss(jsClass,bundlePath,cssPaths,callback){if(this.isLoaded(jsClass)){callback()
	return 
	}mstrmojo.requiresBundle(bundlePath)
	if(cssPaths&&cssPaths.length){mstrmojo.insertCSSLinks(cssPaths,callback)
	}else{if(callback){callback()
	}}}}
	var $LOADER=mstrmojo.loader,isLoaded=$LOADER.loaded
	var reqCache={},addPackagesToReqCache=function addPkg(n,ns){var ps=n.split("."),klen=ps.length,k
	for(k=1
	k<klen
	k++){var s=ps.slice(0,k).join(".")
	if(!reqCache[s]){ns.push(s)
	reqCache[s]=true
	}}},loadInputScripts=function loadInputScripts(ns){var jlen=ns.length,j
	for(j=0
	j<jlen
	j++){if(!$LOADER.load(ns[j])){window.alert("Warning: Javascript class not found:\n"+ns[j])
	break
	}}}
	mstrmojo.requiresCls=function reqCls(){var argLen=arguments.length,ns=[],i,len
	for(i=0,len=argLen
	i<len
	i++){var n=arguments[i]
	if(!n||isLoaded[n]||$MISSING[n]){continue
	}else{if(reqCache[n]){loadInputScripts([n])
	reqCache[n]=false
	continue
	}}if(!n.match(/^mstrmojo\.plugins\./)){addPackagesToReqCache(n,ns)
	}ns.push(n)
	reqCache[n]=true
	}loadInputScripts(ns)
	return true
	}
	mstrmojo.requiresClsP=function reqClsP(){var argLen=arguments.length,ns=[],pkgName=arguments[0],i,len
	addPackagesToReqCache(pkgName,ns)
	for(i=1,len=argLen
	i<len
	i++){var n=pkgName+"."+arguments[i]
	if(!n||isLoaded[n]||$MISSING[n]){continue
	}else{if(reqCache[n]){loadInputScripts([n])
	reqCache[n]=false
	continue
	}}if(!n.match(/^mstrmojo\.plugins\./)){ns.push(n)
	reqCache[n]=true
	}}loadInputScripts(ns)
	return true
	}
	var $DESCRIPTORS=mstrmojo.descriptors,descPrefix="mstrWeb."
	function populateDescriptors(ds){if(ds){var dlen=ds.length,di
	for(di=0
	di<dlen
	di++){var d=ds[di]
	$DESCRIPTORS[d.key]=d.v
	}}}mstrmojo.populateDescriptors=populateDescriptors
	if(window.mstrConfig!==undefined){populateDescriptors(mstrConfig.mstrDescs&&mstrConfig.mstrDescs.descriptors)
	mstrConfig.mstrDescs=null
	populateDescriptors(mstrConfig.customDescs&&mstrConfig.customDescs.descriptors)
	mstrConfig.customDescs=null
	}if(window.mstrApp!==undefined){populateDescriptors(mstrApp.mstrDescs&&mstrApp.mstrDescs.descriptors)
	}var requestDescriptor=function(prefix,ids){var ns=[],len=ids.length,i
	for(i=0
	i<len
	i++){var k=ids[i]
	if(k&&!($DESCRIPTORS.hasOwnProperty(prefix+k))){ns.push(k)
	}}if(ns.length>0){var response=syncXHR("POST",(window.mstrConfig&&mstrConfig.taskURL)||"taskProc",{taskId:"getDescriptors",keys:ns.join(","),prefix:prefix})
	if(response){var r=JSON.parse(response.replace(/\\'/g,"'"))
	populateDescriptors(r&&r.descriptors)
	}}}
	mstrmojo.requiresDescsWPrefix=function reqDescP(prefix){var args=[].slice.call(arguments)
	args[0]=null
	requestDescriptor(prefix,args)
	}
	mstrmojo.requiresDescs=function reqDesc(){if(window.mstrConfig!==undefined&&!mstrConfig.onMobileDevice){requestDescriptor(descPrefix,arguments)
	}}
	mstrmojo.desc=function desc(descID,defText){if(descID!==null&&descID!==undefined){mstrmojo.requiresDescs(descID)
	if($DESCRIPTORS.hasOwnProperty(descPrefix+descID)){return $DESCRIPTORS[descPrefix+descID]
	}defText=defText||"No string descriptor found for descID="+descID
	}var decDefText="["+defText+"]"
	$DESCRIPTORS[descPrefix+descID]=decDefText
	return decDefText
	}
	mstrmojo.descP=function descP(prefix,descID,defText){mstrmojo.requiresDescsWPrefix(prefix,descID)
	if($DESCRIPTORS.hasOwnProperty(prefix+descID)){return $DESCRIPTORS[prefix+descID]
	}defText=defText||"No string descriptor found for descID="+descID
	var decDefText="*"+defText+"*"
	$DESCRIPTORS[prefix+descID]=decDefText
	return decDefText
	}
	mstrmojo.provide=function prv(fqcn,cls){isLoaded[fqcn]=!!cls
	return cls
	}
	mstrmojo.invalidateCls=function rel(fqcn){reqCache[fqcn]=false
	isLoaded[fqcn]=false
	this.invalidateJsLoaded(fqcn)
	}
	var mx=mstrmojo.mixin
	mstrmojo.declare=function declare(SuperCls,mixins,config){function Constr(props){if((!props||!props.dontInit)&&this.init){this.init(props)
	}}if(SuperCls){Constr.prototype=new SuperCls({dontInit:true})
	Constr.prototype.constructor=Constr
	}var proto=Constr.prototype
	var cnt=(mixins&&mixins.length)||0,i
	for(i=0
	i<cnt
	i++){mx(mixins[i],proto)
	}if(config){mx(config,proto)
	if(config.scriptClass){isLoaded[config.scriptClass]=true
	}}return Constr
	}
	mstrmojo.findAncestor=function findAncestor(src,property,value,limitClass){var ancestor=src&&src.parent
	while(ancestor&&(!limitClass||!(ancestor instanceof limitClass))){var targetProperty=ancestor[property]
	if(targetProperty!==undefined){if(value!==undefined&&value!==null){if(targetProperty===value){return ancestor
	}}else{return ancestor
	}}ancestor=ancestor.parent
	}return null
	}
	mstrmojo.isDescendant=function isDescendant(parent,child){var ancestor
	if(!child||!parent){return false
	}ancestor=child.parent
	while(ancestor){if(ancestor===parent){return true
	}ancestor=ancestor.parent
	}return false
	}
	mstrmojo.getCSRFToken=function getCSRFToken(url){var tkn=null
	try{if(url){if(url.indexOf("validateRandNum=")>=0){return tkn
	}if(this.isUrlExternal(url)){return tkn
	}}if(window.mstrApp&&mstrApp.validateRandNum){tkn=mstrApp.validateRandNum
	}else{if(window.mstrConfig&&mstrConfig.validateRandNum){tkn=mstrConfig.validateRandNum
	}else{if(window.microstrategy!==undefined&&microstrategy&&microstrategy.validateRandNum){tkn=microstrategy.validateRandNum
	}}}}catch(err){}return tkn
	}
	mstrmojo.addCSRFTokenToURL=function addCSRFTknToURL(url){if(!url){return""
	}var tkn=mstrmojo.getCSRFToken(url)
	if(tkn&&tkn.length>0){if(url.indexOf("?")>-1){url+="&"
	}else{url+="?"
	}url+="validateRandNum="+tkn
	}return url
	}
	mstrmojo.addCSRFTokenToTaskParams=function addCSRFTknToTaskParams(params){if(params){var tkn=mstrmojo.getCSRFToken()
	if(tkn&&tkn.length>0){params.validateRandNum=tkn
	}}return params
	}
	mstrmojo.getInstance=function getInstance(config){var Clazz=mstrmojo.hash.walk(config.scriptClass,window)
	if(Clazz){return new Clazz(config)
	}return null
	}
	mstrmojo.isUrlExternal=function isUrlExternal(url){var curURL=window.location.href
	var servletName=window.mstrApp&&mstrApp.name,taskProcName=window.mstrConfig.taskURL&&mstrConfig.taskURL,isSameWebApp=(url.indexOf("?")===0||url.indexOf(servletName)===0||url.indexOf("./"+servletName)===0||url.indexOf(taskProcName)===0||url.indexOf("./"+taskProcName)===0||url.indexOf(curURL)===0||((curURL.indexOf("?")>0)&&(url.indexOf(curURL.substring(0,curURL.indexOf("?")))===0)))
	return !isSameWebApp
	}
	mstrmojo.resolveFeature=function resolveFeature(feature){var features=mstrApp.features
	return features&&features[feature]
	}
	mstrmojo.getStyleRoot=function getStyleRoot(){var c=mstrConfig||{},styleRoot=c.styleRoot||"../style"
	return styleRoot
	}
	mstrmojo.getJsRoot=getJsRoot
	function verifyJsLoaded(name){name=name.trim()
	var path=name.split(".")
	var o=window
	for(var i=0
	i<path.length
	i++){o=o[path[i]]
	if(!o){break
	}}return o
	}mstrmojo.invalidateJsLoaded=function invalidateJsLoaded(name){var path=name&&name.trim().split("."),len=(path&&path.length)||0,tmp=window,i
	for(i=0
	i<len-1
	i++){if(!tmp){return 
	}tmp=tmp[path[i]]
	}if(tmp&&path[i]){tmp[path[i]]=undefined
	}}
	mstrmojo.util.version=mstrmojo.provide("mstrmojo.util.version",{getResourcePathWithVersion:function(filePath){var versionStr=""
	if(window.mstrConfig){if(mstrConfig.webVersion){versionStr="?v="+mstrConfig.webVersion+(filePath.indexOf("plugins/")>=0&&mstrConfig.appVersion?"&apv="+mstrConfig.appVersion:"")
	}}return filePath+versionStr
	}})
	}())
	mstrmojo.EnumSelectionType={ALL:0,ELEMENT:1,BRANCH:2,LEVEL:3,BRANCH_LEVEL:4}
	mstrmojo._ShowsStatus=mstrmojo.provide("mstrmojo._ShowsStatus",{showStatus:function showStatus(A,G,D){var C=this._STATUS
	if(!this.hasRendered||!C){return 
	}var E=C.style
	if(!A){if(this.showingStatus){E.display="none"
	}}else{if(C){var F=this._STATUS_TXT
	if(F){F.innerHTML=G||""
	}var B=this._STATUS_BAR
	if(B){B.style.width=(D||0)+"%"
	}if(!this.isStatusBarPositioned){E.top=Math.max((this.scrollboxHeight||0)-50,12)+"px"
	this.isStatusBarPositioned=true
	}if(!this.showingStatus){E.display="block"
	}}}this.showingStatus=A
	},updateStatus:function updateStatus(A,B){this.showStatus(this.showingStatus,A,B)
	}})
	mstrmojo.mstr.EnumWebAPIErrorCodes={MSI_INBOX_MSG_NOT_FOUND:-2147468986,MSI_GRAPH_NO_DATA:-2147468857,POOL_OBJECT_NOT_FOUND_BY_ID:-2147467398,DOCDATA_PREPARE_TASK_REPORT_INCOMP:-2147466604,AUTHEN_E_LOGIN_FAIL_EXPIRED_PWD:-2147216963,AUTHEN_E_LOGIN_FAILED_NEW_PASSWORD_REQD:-2147216960,AUTHEN_E_LOGIN_FAIL:-2147216959,E_INVALID_EXPRESSION:-2147214839,MSI_ADDUSERJOB_ERROR:-2147209185,E_MSI_USERMGR_USER_NOTFOUND:-2147209051,MSI_SERVER_NOT_FOUND:-2147206923,DFC_QRYENG_RES_TRUNC:-2147205488,MSI_CUBE_NOT_PUBLISHED:-2147072488,MDSVR_E_NO_ID:-2147216373,E_TARGET_PAGE_NOT_FOUND:-2147156940,E_UNUSED:4294967295,MSI_JOB_CANCELED_ERROR:-2147209196,UICMD_DEFAULT_ERROR:10,MDX_LIMIT_ERROR:-2147204406,XJOIN_ERROR:-2147179489}
	mstrmojo.EnumRWUnitType={LAYOUT:0,HEADER:2,FOOTER:3,SUBSECTION:4,DETAILS:5,PAGEHEADER:6,PAGEFOOTER:7,PANELSTACK:8,PANEL:9,UNITCONTAINER:11,IWPARENTSECTION:14,GRID:521,GRAPH:522,GRIDGRAPH:527,RECTANGLE:101,SHAPE:101,IMAGE:102,LINE:105,TEXTFIELD:106,HTMLCONTAINER:107,SURVEYCONTAINER:108,SELECTOR:111,ROUNDEDRECTANGLE:112,VISUALIZATION:114,MOJOVISUALIZATION:115}
	mstrmojo.chart.model.enums.EnumDSSAxisName={DssAxisReserved:0,DssAxisRows:1,DssAxisColumns:2,DssAxisPages:3,DssAxisChapters:4,DssAxisAll:5,DssAxisDropZoneIndexRoot:8,DssAxisDropZoneIndexEnd:8+255,DssAxisDynamicShortcutRoot:300,DssAxisDynamicShortcutEnd:300+255}
	(function(){var B={NetworkVisualizationStyle:{b:"vi-network.js",s:"VisualizationServerJsonDataStyle",c:"netviz.VisNetwork",oivmb:"oivm-network.js",vib:"vi-network.js"},ReportTimelineAjaxVisualizationStyle:{s:"TimelineMojoVisualizationDataStyle",c:"VisTimeline"},visAjaxDatePicker:{s:"AjaxDatePickerReportStyle",c:"VisDateSelection"},SurveyVisualizationStyle:{s:"VisualizationDataStyle",c:"SurveyVis"},KPICardVisualizationStyle:{b:"vi-kpi.js",s:"VisualizationServerJsonDataStyle",c:"kpicard.VisKPICard",lib:'[["libraries/echarts.common.min.js"],["libraries/slick/slick.min.js"]]'},VIHeatMapVisualizationStyle:{b:"vi-heatmap.js",s:"VisualizationServerJsonDataStyle",c:"heatmap.vi.VisHeatMap",oivmb:"oivm-heatmap.js",vib:"vi-heatmap.js"},GraphMatrixVisualizationStyle:{b:"vi-gm.js",s:"VisualizationServerJsonDataStyle",c:"gm.VisGraphMatrix",oivmb:"oivm-gm.js",vib:"vi-gm.js"},ESRIMapVisualizationStyle:{b:"mojo-map.js",s:"MojoXtabMapStyle",c:"VisMapBase"},MapboxVisualizationStyle:{b:"mojo-map.js",s:"MojoXtabMapStyle",c:"mapbox.VisMapbox",lib:'[["libraries/mapbox/mapbox-gl.js"],["libraries/mapbox/supercluster.min.js"],["libraries/mapbox/turf.min.4.7.3.js"]]'},NewGraphMatrixVisualizationStyle:{b:"vi-gm.js,vi-ngm.js",s:"VisualizationServerJsonDataStyle",c:"ngm.VisNewGraphMatrix",lib:'[["../VisFramework/ngm/dist/bundle/ngm.js"]]',oivmb:"oivm-gm.js,oivm-ngm.js",vib:"vi-gm.js,vi-ngm.js"},GoogleMapVisualizationStyle:{b:"mojo-map.js",s:"MojoXtabMapStyle",c:"VisMapBase"}}
	var E={"com.microstrategy.web.vf.viewer.EsriMapApplicationViewer":"ESRIMapVisualizationStyle","com.microstrategy.web.vf.viewer.HeatMapApplicationViewer":"VIHeatMapVisualizationStyle","com.microstrategy.flex.viewer.GraphMatrixViewer":"GraphMatrixVisualizationStyle","com.microstrategy.flex.viewer.NewGraphMatrixViewer":"NewGraphMatrixVisualizationStyle","com.microstrategy.web.vf.viewer.DatePickerApplicationViewer":"visAjaxDatePicker","com.microstrategy.flex.viewer.NetViz":"NetworkVisualizationStyle"}
	mstrmojo.ExpressVisList=mstrmojo.provide("mstrmojo.ExpressVisList",{getVis:function D(F){return B[F]||(mstrConfig&&mstrConfig.pluginsVisList&&mstrConfig.pluginsVisList[F])||null
	},findVisName:function(F){return E[F]||(mstrConfig&&mstrConfig.pluginsWidgetVisMap[F])||null
	},findWidgetName:function C(H){var G
	for(var F in E){if(E.hasOwnProperty(F)&&E[F]===H){G=F
	break
	}}if(!G&&mstrConfig&&mstrConfig.pluginsWidgetVisMap){for(var F in mstrConfig.pluginsWidgetVisMap){if(mstrConfig.pluginsWidgetVisMap.hasOwnProperty(F)&&mstrConfig.pluginsWidgetVisMap[F]===H){G=F
	break
	}}}return G
	},getVisClass:function A(F,G){if(G.txi&&G.t===115){F=mstrmojo.DynamicClassFactory.newComponent(F,[mstrmojo._CanSupportTransaction,mstrmojo._IsEditableXtab])
	}return F
	}})
	}())
	mstrmojo.gmaps.MapEnums={}
	mstrmojo.gmaps.EnumBaseMapType={Reserved:"-1",Esri:"1",Google:"2",Image:"3",Mapbox:"4"}
	mstrmojo.gmaps.EnumDefaultMapStyle={Esri:"Light Gray Map",Google:"0",Image:"",Mapbox:"mapbox://styles/microstrategy/cj4fnd0xu1ax82rnuq287rwvu"}
	mstrmojo.gmaps.EnumLanguagePattern={"{name}":["coalesce",["get","name"],["get","name_en"]],"{name_en}":["coalesce",["get","name_en"],["get","name"]],"{name_en}\n{name}":["concat",["coalesce",["get","name_en"],["get","name"]],"\n",["coalesce",["get","name"],["get","name_en"]]]}
	mstrmojo.gmaps.EnumLanguageType={Local:"{name}",English:"{name_en}",Both:"{name_en}\n{name}"}
	mstrmojo.gmaps.LANGUAGE_TYPE_REG={Both:/\{name_en\}[\s\S]*\{name\}/}
	mstrmojo.gmaps.EnumGraphicType={Marker:"1",Bubble:"2",Area:"3",Density:"4",Path:"5"}
	mstrmojo.gmaps.EnumMarkerType={Pin:"1",Square:"2",Diamond:"3",Image:"4",Circle:"5"}
	mstrmojo.gmaps.EnumPolygonSource={Cloud:"1",Custom:"2",MapBoxPolygon:"3",MapboxCustomShape:"4"}
	mstrmojo.gmaps.EnumShapeType={polygon:"polygon",multiPolygon:"multipolygon"}
	mstrmojo.gmaps.EnumGeometryType={Point:"Point",Extent:"2",Polygon:"Polygon"}
	mstrmojo.gmaps.EnumExtraCfgTaskId={Esri:"getESRIExtraConfig",Google:"getGoogleExtraConfig"}
	mstrmojo.gmaps.EnumGlobalCfgName={Esri:"esriConfig",Google:"googleConfig"}
	mstrmojo.gmaps.EnumThresholdType={Default:-1,Number:2,Text:3,Image:4,Url:5,QuickSymbol:10}
	mstrmojo.gmaps.EnumPropertyType={applyThreshold:"at",clusterMode:"mc",clusterRadius:"cr",clusterMaxZoom:"cmz",shapeFile:"lid",mapStyle:"dv",languageType:"lang",themeType:"dms",markerType:"mtp",zoomSetting:"rosa",legendSwitch:"ls",tooltipSwitch:"ts",legendWidthScale:"lwr",imageUrl:"mstyl",needMapToolbar:"mt",attributeId:"atf",useAttributeForm:"af",showZoomBtns:"zb",showAffinityLines:"da",showArcsLines:"dal",maxLineThickness:"lwm",maxBubbleSize:"mbs",useAbsolute:"mss",customInfoWinTpl:"iwd",pathColor:"pcp",affinityLineGrid:"ag",collapseLegend:"clgd",legendSize:"lgds",satf:"satf",dm:"dm",mvo:"mvo",baseMapType:"bmt",editingLayerIdx:"elx",mapGeoExtent:"mext",graphicType:"gtp",layerName:"ln",layerIdx:"lx",isRemoved:"ird",isHidden:"ih",enableZoomThroughLayer:"eztl",minLayerZoomLvl:"minlzl",maxLayerZoomLvl:"maxlzl",freezePanAndZoom:"fpz",MAX_SIZE_TYPE:"maxst",MAX_SIZE_VALUE:"maxsv",MIN_SIZE_TYPE:"minst",MIN_SIZE_VALUE:"minsv",showMapLable:"mlb",mapLabelOnTop:"mlbt",distUnit:"mdu",geoAttribute:"ga",latitude:"lat",longitute:"lng",slice:"slc",angle:"amt",colorby:"cmt",sizeby:"smt",tooltip:"tooltip",geometry:"gmt",keepZoomAndPos:"kzp",zoomLevel:"mz",mapCenter:"mp",mapBearing:"mbr",mapPitch:"mpt",dirtyVp:"dirtyVp",plotMapBasedOn:"pmbo",tooltipForms:"ttpmf",colorByOpacity:"cbo"}
	mstrmojo.gmaps.EnumGeographicRole={EnumGeographicRoleNone:"0",EnumGeographicRoleCity:"1",EnumGeographicRoleState:"2",EnumGeographicRoleCountry:"3",EnumGeographicRoleLocation:"4",EnumGeographicRoleLatitiude:"5",EnumGeographicRoleLongitude:"6",EnumGeographicRoleOther:"7",EnumGeographicRoleZipCode:"8",EnumGeographicRoleCounty:"9",EnumGeographicRoleLastOne:"10",EnumGeographicRoleGeometry:"11"}
	mstrmojo.gmaps.EnumClusterMode={MOBILE_OFF:"0",MOBILE_ON:"1",ON:"2",OFF:"3",PIE:"4"}
	mstrmojo.gmaps.EnumZoomBehavior={Keep:"0",Automatic:"1"}
	mstrmojo.gmaps.EnumDistUnitType={KM:"0",Miles:"1"}
	mstrmojo.gmaps.EnumDataLabel={DATA_LABEL_SHOW:"dlShw",DATA_LABEL_SHOW_ALL:"dlShwAll",DATA_LABEL_FONT_SIZE:"dlFntSz",DATA_LABEL_FONT_FAMILY:"dlFntFml",DATA_LABEL_FONT_COLOR:"dlFntClr",DATA_LABEL_FONT_STYLE:"dlFntStyle",DATA_LABEL_FONT_HALO_COLOR:"dlFntHaloClr",DATA_LABEL_FONT_HALO_WIDTH:"dlFntHaloWidth"}
	mstrmojo.gmaps.EnumShapeFormatting={SHAPE_FORMAT_FILL_COLOR:"shapeClr",SHAPE_FORMAT_FILL_OPACITY:"shapeFillTrans",SHAPE_FORMAT_BORDER_COLOR:"shapeLineClr",SHAPE_FORMAT_BORDER_STYLE:"shapeLineStyle"}
	mstrmojo.gmaps.EnumCombinedLineStyle={NONE:99,THIN:1,THICK:2,DASHED:3,DOTTED:4}
	mstrmojo.gmaps.EnumDefaultShapeFormatStyle={FILL_COLOR:"#436CD3",FILL_OPACITY:"85",FILL_OPACITY_VALUE:"0.85",FILL_OPACITY_FACTOR_HOVER:0.75,FILL_OPACITY_FACTOR_UNSEL:0.5,BORDER_STYLE:mstrmojo.gmaps.EnumCombinedLineStyle.THIN,BORDER_STYLE_CIRCLE:mstrmojo.gmaps.EnumCombinedLineStyle.NONE,BORDER_COLOR:"#FFFFFF",BORDER_WIDTH:"1"}
	mstrmojo.gmaps.DEFAULT_DATA_LABEL_PROPS={dlShw:[0],dlShwAll:[false],dlFntFml:["Arial"],dlFntSz:["8pt"],dlFntStyle:[0],dlFntClr:[0]}
	mstrmojo.gmaps.EnumDataLabelShowOption={NONE:0,SHOW_TEXT:1,SHOW_VALUE:2,SHOW_BOTH:3}
	mstrmojo.gmaps.MarkerAlignOption={CENTER:0,TOP:1,LEFT:2,RIGHT:3,BOTTOM:4,TOP_LEFT:5,TOP_RIGHT:6,BOTTOM_LEFT:7,BOTTOM_RIGHT:8}
	mstrmojo.gmaps.EnumToolbarButtonType={DRILL:1,SINGLE_SELECT:2,RECTANGLE_SELECT:4,EDIT_INFO_WINDOW:8,CLEAR_ALL:16,AFFINITY:32,FREE_SELECT:64,CIRCLE_SELECT:128,ZOOM:256,LAYERS_SELECT:512,KEEP_ONLY:1024,EXCLUDE:2048,SHOW_DATA:4096,SEARCH_BAR:8192,MAP_STYLE:16384}
	mstrmojo.gmaps.EnumToolbarState={NORMAL:0,SINGLE_SELECT:1,RECTANGLE_SELECT:2,ZOOM:3,AFFINITY:4,FREE_SELECT:5,CIRCLE_SELECT:6,CLEAR_ALL:7,LAYERS_SELECT:8,MARKERTYPE:9,CLUSTER:10,MAP_TYPE:11}
	mstrmojo.gmaps.EnumActions={rename:"renameUnit",remove:"removeDropZoneUnit",add:"addDropZoneUnit",addForm:"addForm",removeForm:"removeForm"}
	mstrmojo.gmaps.TARGET_MAPOPTIONS=1
	mstrmojo.gmaps.TARGET_FORMATTING_LAYERS=2
	mstrmojo.gmaps.SelectionHashType={PRIMARY:0,TEMPLATE_SELECTION:1,EDITING_LAYER:2,RMC_LAYER:3}
	mstrmojo.gmaps.EnumTransformState={ReadyToUse:-1,UseExistingLine:0,CrossFromExistingToNewLine:1,UseNewLine:2,CrossFromNewToExistingLine:3}
	mstrmojo.gmaps.EnumDrillLinkAnswerType={SAME_PROMPT:1,DO_NOT_ANSWER:2,CLOSE:3,DYNAMIC:4,STATIC:5,CURRENT_UNIT:6,ALL_VALID_UNITS:7,USE_DEFAULT_ANSWER:8,DYNAMIC_OR_SAME_PROMPT:9}
	mstrmojo.gmaps.EnumMinSizeType={PROPORTIONAL:1,FULL_RANGE:2,ADJUSTED_RANGE:3}
	mstrmojo.gmaps.EnumMaxSizeType={AUTOMATIC:1,MANUAL:2}
	mstrmojo.gmaps.EnumDynamicZoomStatus={INIT:0,NO_GEO_ATTR:1,FIRST_ADD_GEO_ARR:2,FIRST_GEO_ADD_FINISHED:3}
	mstrmojo.gmaps.ZoomAnimationDelta=0.15
	mstrmojo.gmaps.LAYER_INDEX_MAX=100
	mstrmojo.gmaps.LASSOLAYER_ZINDEX=mstrmojo.gmaps.LAYER_INDEX_MAX+1
	mstrmojo.gmaps.ZOOMBTN_ZINDEX=mstrmojo.gmaps.LAYER_INDEX_MAX+50
	mstrmojo.gmaps.ENABLE_MAX_MIN_SIZE_CONTROL=true
	mstrmojo.gmaps.EnumRenderMethod={svg:"svg",canvas:"canvas",mapbox:"mapbox"}
	mstrmojo.gmaps.EnumLayerZoneSource={DROP_ZONE:"dzpn",PROPERTY_PANEL:"pppn"}
	mstrmojo.gmaps.CustomShapeId="3000"
	mstrmojo.gmaps.MapStyleToolips={Basic:mstrmojo.desc(18348,"Make different land types pop with topography-based colors."),White:mstrmojo.desc(18339,"Stand out against a darker background."),Light:mstrmojo.desc(18342,"Display data on a gray color palette."),Dark:mstrmojo.desc(18346,"Match the map to a dark background."),Street:mstrmojo.desc(18344,"Highlight all street data for a classic navigational look."),Topographic:mstrmojo.desc(18349,"Show terrain and landscape details."),Physical:mstrmojo.desc(18350,"Show the Earth's features, like landscapes, mountains, deserts, rivers, lakes, and oceans."),Relief:mstrmojo.desc(18343,"Show the elevation and depression of a given area."),Satellite:mstrmojo.desc(18341,"Display what Earth looks like from outer space."),SatelliteStreet:mstrmojo.desc(18347,"Display what Earth looks like from outer space with street data."),Border:mstrmojo.desc(18351,"Only show geographic borders."),Focused:mstrmojo.desc(18336,"Focus only on the geographic area where you have data.")}
	mstrmojo.gmaps.STYLES_MAP={"mapbox://styles/microstrategy/cj4huc3z734b32sqpcyursd8s":"mapbox://styles/microstrategy/ck8zbihxj08ij1iqgj5g9tcf1","mapbox://styles/microstrategy/cj4fnd0xu1ax82rnuq287rwvu":"mapbox://styles/microstrategy/ck9i5q6ja1hsv1jphvxmqzrt5","mapbox://styles/microstrategy/cj8o35v4u8ayz2rqutqgwhvxp":"mapbox://styles/microstrategy/ck9i6pst74k6r1imxbfxq4rmh","mapbox://styles/microstrategy/cj4gonmj72rih2ss2n132hwla":"mapbox://styles/microstrategy/ck9i7d7l11m1s1ilzj8ieqqa5","mapbox://styles/microstrategy/cj4fdoz771jrx2rmhajhl8yxv":"mapbox://styles/microstrategy/ck9i9pa3j68ax1iml8bqyt1af","mapbox://styles/microstrategy/cj4gpwfca95l52so2gkz3y2is":"mapbox://styles/microstrategy/ckbiqy01o0f841imq8qtkvsj0","mapbox://styles/microstrategy/cj4grefys96zg2smv7okfp8c5":"mapbox://styles/microstrategy/ck9jelaz30qfr1io6mv3tnerp","mapbox://styles/microstrategy/cj4guy8nn2y7e2so0c9h2uiav":"mapbox://styles/microstrategy/ck9jhftrm0sxo1jpndrnww4rl","mapbox://styles/microstrategy/cj621ujgo32ve2rmpuxixebjq":"mapbox://styles/microstrategy/ck9jjrsqu007s1ip5lnukt0qp","mapbox://styles/microstrategy/cj4gnpv6t2r9m2rpe417d51s1":"mapbox://styles/microstrategy/ck9je20z80ppn1ipl3hgih06s"}
	mstrmojo.gmaps.MapboxKeyStyles={V7_DEFAULT:"mapbox://styles/microstrategy/cj4fnd0xu1ax82rnuq287rwvu",V8_DEFAULT:"mapbox://styles/microstrategy/ck9i5q6ja1hsv1jphvxmqzrt5",BORDER:"mapbox://styles/microstrategy/ckdgsxrq70j6g1jpcr6apfyp4",FOCUSED:"mapbox://styles/microstrategy/cke29lrdk0pkd19mjlevkrgug"}
	mstrmojo.chart.enums.EnumFontStyle={FS_NORMAL:0,FS_BOLD:1,FS_ITALIC:2,FS_BOTH:3,FS_UNDERLINE:4,FS_STRIKETHROUGH:8}
	(function(){mstrmojo.util.XtabHelper=mstrmojo.provide("mstrmojo.util.XtabHelper",{isDisplayOutline:function B(D,C){return D&&D.olm&&!(D.rw&&D.rw.row.bc>0)&&(C&&!C.txi)
	},getOutlineSubMode:function A(C){var D=C.gridProps||{}
	if(D.olmt){return D.olmt
	}return mstrmojo.util.XtabHelper.ENUM_OUTLINE_SUB_MODE.COMPACT
	},ENUM_GROUP_HEADER_ID:"outlineModeGroup",ENUM_GROUP_ROW_SPAN_CELL_VALUE:-1,ENUM_OUTLINE_SUB_MODE:{COMPACT:1,STANDARD:2},ENUM_GRID_PROPS:{SHOW_DEF_GRID_DZ:"shwdgdz",OUTLINE_SUB_MODE:"olmt"}})
	})()
	mstrmojo.chart.model.enums.EnumDSSBaseFormType={DssBaseFormReserved:0,DssBaseFormDateTime:1,DssBaseFormNumber:2,DssBaseFormText:3,DssBaseFormPicture:4,DssBaseFormUrl:5,DssBaseFormEmail:6,DssBaseFormHTMLTag:7,DssBaseFormDate:8,DssBaseFormTime:9,DssBaseFormSymbol:10,DssBaseFormBigDecimal:11}
	(function(){mstrmojo.boxmodel=mstrmojo.provide("mstrmojo.boxmodel",{rangeIntersect:function E(J,H,I,G){if(J<I){return I<=H
	}if(J>I){return J<=G
	}return true
	},px2Inches:function C(H,G){G=parseInt(G,10)
	return mstrmojo.NumberFormat.format(parseFloat((G/H.zf/H.dpi).toFixed(4)))
	},offset:function F(I,H){var L=I,G=0,K=0
	while(I){G+=(I.className==="mstrd-Page")?0:I.offsetLeft
	K+=I.offsetTop
	I=I.offsetParent
	if(I===H){break
	}}var J
	for(J=L&&L.parentNode
	J&&J!==H
	J=J.parentNode){if(J.scrollTop){K-=J.scrollTop
	}if(J.scrollLeft){G-=J.scrollLeft
	}}return{left:G,top:K}
	},convert2px:function D(K,I){if(!/px$/.test(I)){var H=document.createElement("img"),G=H.style,J
	G.zIndex=-1
	G.left=I
	K.appendChild(H)
	J=G.pixelLeft
	K.removeChild(H)
	return J+"px"
	}return I
	},getEdgeQuadrantByPoint:function B(I,H){var G=H.x-I.x,M=H.y-I.y,J=I.w,L=I.h,K=[["Left","Bottom"],["Top","Right"]]
	if(M>L/J*G){K=K[0]
	}else{K=K[1]
	}return(M<-L/J*G+L)?K[0]:K[1]
	},isPtInPolygon:function A(I,K){var G=I.x,J=I.y,H=false
	K.forEach(function(N,L){var M=K[L-1]||K[K.length-1]
	if((N.y>=J)!==(M.y>=J)){if((G<(M.x-N.x)*(J-N.y)/(M.y-N.y)+N.x)){H=!H
	}}})
	return H
	}})
	}())
	mstrmojo.vi.models.EnumPanelTypes={GENERIC:0,FILTERS:1,VIS_CONTENT:2,PAGEBY:3,VISUALIZATION:4}
	(function(){var E=2147762227,A=2147762262,D=2147762890,B=2147762269
	mstrmojo.RaErrorHandler=mstrmojo.provide("mstrmojo.RaErrorHandler",{embeddedErrStr:'<div class="{@cssClass}"><div class="error-content" style="visibility: visible"><div class="text ra-limit-err-title" style="padding-top: 0">'+mstrmojo.desc(16605,"QueryEngine encountered error:")+'</div><div class="text">'+mstrmojo.desc(16606,"Maximum number of result rows retrieved per MDX Query was exceeded. Please filter your data.")+"</div></div></div>",handleRAPopUpError:function C(G){var F=parseInt(G.code,10)+4294967296
	if(F!==E&&F!==A&&F!==B){if(F===D){var H={shortDesc:'<div style ="font-weight:bold">'+mstrmojo.desc(16605,"QueryEngine encountered error:")+"</div>",longDesc:mstrmojo.desc(16606,"Maximum number of result rows retrieved per MDX Query was exceeded. Please filter your data.")}
	mstrmojo.error(H)
	}else{mstrmojo.alert(G.message)
	}}}})
	}())
	(function(){function b(e){var f=[].slice.call(e),g=f[f.length-1],h=function(k,j){return k===j
	}
	if(/function|string/.test(typeof g)){h=typeof g==="function"?g:function(k,j){return k[g]===j[g]
	}
	f=f.slice(0,f.length-1)
	}return{sets:f,compareFunc:h}
	}mstrmojo.array=mstrmojo.provide("mstrmojo.array",{indexOf:function E(f,h){var e=(f&&f.length)||0,g
	for(g=0
	g<e
	g++){if(f[g]==h){return g
	}}return -1
	},includes:function(e,f){if(!e||!e.length){return false
	}return e.indexOf(f)>-1
	},indexOfMulti:function X(e,f){var k=[],j={},h=0,g=this
	g.forEach(e,function(m,l){g.forEach(f,function(n,o){var p=(n===m)
	if(p){k[o]=j[o]=l
	h++
	}return !p
	})
	})
	return{indices:k.length?k:null,map:j,count:h}
	},forEach:function U(g,l,j){var e=(g&&g.length)||0,h
	for(h=0
	h<e
	h++){var k=h===(e-1)
	if(j){if(l.call(j,g[h],h,g,k)===false){break
	}}else{if(l(g[h],h,g,k)===false){break
	}}}return g
	},map:function c(g,k){var e=(g&&g.length)||0,h=[],j
	for(j=0
	j<e
	j++){h[j]=k(g[j],j)
	}return h
	},filter:function L(g,h,j){var m=[],l=0,f=(g&&g.length)||0,e=(j&&j.max)||0,k
	for(k=0
	k<f
	k++){if(h(g[k],k,g)){m[l]=g[k]
	l++
	if(e&&l>=e){break
	}}}return m
	},filterOne:function N(e,f){var g=this.filter(e,f,{max:1})
	if(g.length){return g[0]
	}return null
	},ensureArray:function R(e){return[].concat(e||[])
	},find:function O(f,k,g){var e=(f&&f.length)||0,h
	for(h=0
	h<e
	h++){var j=f[h]
	if(j&&j[k]==g){return h
	}}return -1
	},findLast:function B(f,k,g){var e=(f&&f.length)||0,h
	for(h=e-1
	h>-1
	h--){var j=f[h]
	if(j&&j[k]===g){return h
	}}return -1
	},distinct:function C(f,k){if(f.reduce&&!k){return f.reduce(function(m,l){if(m.indexOf(l)<0){m.push(l)
	}return m
	},[])
	}var e=(f&&f.length)||0,g,j,h=[]
	for(g=0
	g<e
	g++){j=f[g]
	if((j!==undefined)&&((k&&this.find(h,k,j[k])<0)||(!k&&this.indexOf(h,j)<0))){h.push(j)
	}}return h
	},findBin:function F(g,o,q,f){var n=(f||g.length)-1,j=0,e,k=o[q]
	while(n-j>1){if(g[e=n+j>>1][q]<k){j=e
	}else{n=e
	}}if(g[j][q]===k){return j
	}return g[n][q]===k?n:-1
	},search:function J(r,j,n){var k=r.length,g=-1,f,q=j.toUpperCase(),e=j.length
	while(k-g>1){if(r[f=k+g>>1][n].substr(0,e).toUpperCase()<q){g=f
	}else{k=f
	}}return k
	},findMulti:function S(m,f,p){if(!p){return{indices:null,map:{},count:0}
	}var o=p.length,t=[],e={},q=0,h=(m&&m.length)||0,l
	for(l=0
	l<h
	l++){var r=m[l][f],g
	for(g=0
	g<o
	g++){if(p[g][f]===r){t[g]=l
	e[g]=l
	q++
	break
	}}}return{indices:t,map:e,count:q}
	},removeItem:function a(e,g){var f=this.indexOf(e,g)
	if(f>-1){this.removeIndices(e,f,1)
	}return f
	},removeItems:function P(e,k,f){var g=this.findMulti(e,k,f)
	if(g.count){var j=g.indices.concat().sort(this.numSorter).slice(0,g.count),h
	for(h=j.length-1
	h>-1
	h--){e.splice(j[h],1)
	}}},numSorter:function d(f,e){return Number(f)-Number(e)
	},stringSorter:function K(g,f){var e=g.toLowerCase(),h=f.toLowerCase()
	if(e<h){return -1
	}if(e>h){return 1
	}return 0
	},objectKeySorter:function(f,e){if(typeof e==="undefined"){e="asc"
	}return function(h,g){if(!h.hasOwnProperty(f)||!g.hasOwnProperty(f)){return 0
	}var k=(typeof h[f]==="string")?h[f].toUpperCase():h[f]
	var j=(typeof g[f]==="string")?g[f].toUpperCase():g[f]
	var l=0
	if(k>j){l=1
	}else{if(k<j){l=-1
	}}return((e==="asc")?l:(l*-1))
	}
	},removeIndices:function Q(e,g,f){e.splice(g,f)
	},insert:function G(f,e,g){if(!f){f=[]
	}if(e===null||e===undefined){e=f.length
	}Array.prototype.splice.apply(f,[e,0].concat(g))
	return f
	},hash:function D(f,j){j=j||{}
	var e=(f&&f.length)||0,g
	for(g=0
	g<e
	g++){j[f[g]]=true
	}return j
	},get:function Y(f,j){if(!j){return null
	}var g=[],e=j.length,h
	for(h=0
	h<e
	h++){g[h]=f[j[h]]
	}return g
	},deepSortArr:function H(f,h,e,g){return f.sort(function(l,j){var m=l[e][h],k=j[e][h]
	if(!g){return(m<=k)
	}return(m>k)?-1:1
	})
	},isArray:function(e){var f=Array.isArray
	if(f){return f(e)
	}return Object.prototype.toString.call(e)==="[object Array]"
	},some:function M(f,g){if(!f){return false
	}if(f.some){return f.some(g)
	}var e=false
	this.forEach(f,function(j,h){e=g(j,h,f)
	return !e
	})
	return e
	},difference:function Z(){if(arguments.length<2){throw new Error("difference should get at least 2 parameters")
	}var h=b(arguments),f=h.sets,g=h.compareFunc,j=f[0],e=[].concat.apply([],f.slice(1))
	return j.filter(function(k){return !e.some(function(l){return g(k,l)
	})
	})
	},intersection:function W(){if(arguments.length<2){throw new Error("intersection should get at least 2 parameters")
	}var j=b(arguments),g=j.sets,h=j.compareFunc,e=g[0],f=g.slice(1)
	f.forEach(function(k){e=e.filter(function(l){return k.some(function(m){return h(l,m)
	})
	})
	})
	return e
	},fnReduceNumber:function A(e,f){return e+f
	},applyLargeArray:function I(h,l,n,o){var j=h.length,m=1000,e,f,g,k=n
	if(j){for(e=0,f=m
	e<j
	e=f,f+=m){g=l.apply(o,h.slice(e,f))
	k=l.apply(o,[k,g])
	}}else{k=l.apply(o,h)
	}return k
	}})
	}())
	(function(){mstrmojo._HasDrillLinks=mstrmojo.provide("mstrmojo._HasDrillLinks",{_mixinName:"mstrmojo._HasDrillLinks",update:function A(E){this._super(E)
	var B=E.defn.dl,F=E.data.dl,D=this.drillLinkItems=((B&&B.items)||[]).concat((F&&F.items)||[]).sort(function(H,G){return H.index-G.index
	}),C
	for(C=D.length-1
	C>=0
	C--){if(C&&D[C].index===D[C-1].index){D.splice(C,1)
	}}if(B&&B.target){for(C=0
	C<D.length
	C++){D[C].target=B.target
	}}}})
	}())
	mstrmojo.mstr.EnumDSSXMLTokenTypes={EndOfInput:-1,Reserved:0,Error:1,Unknown:2,Empty:3,ExclamationPoint:33,NumberSign:35,Dollar:36,Percent:37,Ampersand:38,LeftParen:40,RightParen:41,Asterisk:42,PlusSign:43,Comma:44,MinusSign:45,Dot:46,FwdSlash:47,Colon:58,Semicolon:59,LeftAngleBracket:60,EqualSign:61,RightAngleBracket:62,QuestionMark:63,AtSign:64,LeftSquareBracket:91,RightSquareBracket:93,Caret:94,Underscore:95,LeftAccolade:123,VerticalBar:124,RightAccolade:125,Tilda:126,Literal:258,Identifier:259,Reserved1:260,DoubleQString:261,Integer:262,Float:263,AttrRef:264,DimRef:265,MetricRef:266,AggMetricRef:267,FactRef:268,ReportRef:269,FilterRef:270,RoleRef:271,TableRef:272,PromptRef:273,ColumnRef:274,AttrFormRef:275,DimFormRef:276,SimpInfixFun1:277,SimpInfixFun2:278,SimpPrefixFun:279,AggFun:280,RelativeFun:281,CompareFun:282,AndFun:283,OrFun:284,NotFun:285,BoolPrefixFun:286,IntersectFun:287,Reserved2:288,InSetFun:289,BetweenFun:290,LikeFun:291,EnhCompareFun:292,EnhBetweenFun:293,ArrowUp:294,ArrowDown:295,ArrowUpDown:296,AggFirstInFact:297,AggLastInFact:298,KwdTrue:299,KwdFalse:300,KwdBreakBy:301,KwdSortBy:302,KwdFactID:303,DateTime:304,CaseFun:305,FreeVariable:306,LongNumber:307,RWMetricRef:308,CSQLRef:309,ConsolidationRef:310,DssTokenTypeKwdCSIUpdate:312,DssTokenTypeKwdCSISet:313,DssTokenTypeKwdCSIInsert:314,DssTokenTypeKwdCSIDelete:315,DssTokenTypeKwdCSIWhere:316,DssTokenTypeKwdCSIInto:317,DssTokenTypeKwdCSIValues:318,DssTokenTypeKwdCSIFrom:319,DssTokenTypeCSIFieldUnit:321,Elements:323,ConsolidationElementRef:324,EndOfTypes:340}
	mstrmojo.chart.model.enums.EnumDSSXMLAxesBitMap={DssXmlAxisNone:0,DssXmlAxisRowsBit:1,DssXmlAxisColumnsBit:2,DssXmlAxisPagesBit:4,DssXmlAxisChaptersBit:8}
	(function(){mstrmojo.vi.ui._IsUnitContainerTitleBar=mstrmojo.provide("mstrmojo.vi.ui._IsUnitContainerTitleBar",{_mixinName:"mstrmojo.vi.ui._IsUnitContainerTitleBar",layoutConfig:{w:{leftToolNode:"auto",textNode:"100%",rightToolNode:"auto"},xt:true},setDimensions:function A(D,C){return this._super("auto",C)
	},getTitleChildrenLayoutOffsets:function B(){return{h:0,w:12}
	}})
	}())
	mstrmojo.vi.viz.EnumVisualizationTemplates={UNKNOWN_GRAPHMATRIX_TYPE:-1,GRID:0,HEATMAP:1,GOOGLEMAP:2,PIE:3,RING:4,GRAPHMATRIXVERTICALBARSTACKED:6,GRAPHMATRIXVERTICALBARCLUSTERED:7,GRAPHMATRIXVERTICALBARPERCENT:8,GRAPHMATRIXHORIZONTALBARSTACKED:9,GRAPHMATRIXHORIZONTALBARCLUSTERED:10,GRAPHMATRIXHORIZONTALBARPERCENT:11,GRAPHMATRIXVERTICALLINESTACKED:12,GRAPHMATRIXVERTICALLINECLUSTERED:13,GRAPHMATRIXVERTICALLINEPERCENT:14,GRAPHMATRIXHORIZONTALLINESTACKED:15,GRAPHMATRIXHORIZONTALLINECLUSTERED:16,GRAPHMATRIXHORIZONTALLINEPERCENT:17,GRAPHMATRIXSCATTERCIRCLEMM:18,GRAPHMATRIXSCATTERGRIDCIRCLEAA:19,GRAPHMATRIXBUBBLECIRCLEMM:21,GRAPHMATRIXBUBBLEGRIDCIRCLEAA:22,GRAPHMATRIXSCATTERSQUAREAM:23,GRAPHMATRIXSCATTERSQUAREMM:24,GRAPHMATRIXSCATTERGRIDSQUAREAA:25,GRAPHMATRIXBUBBLESQUAREAM:26,GRAPHMATRIXBUBBLESQUAREMM:27,GRAPHMATRIXBUBBLEGRIDSQUAREAA:28,GRAPHHORIZONTALBARCLUSTERED:29,GRAPHMATRIXVERTICALAREASTACKED:30,GRAPHMATRIXVERTICALAREAPERCENT:31,GRAPHMATRIXVERTICALAREACLUSTERED:32,GRAPHMATRIXHORIZONTALAREASTACKED:40,GRAPHMATRIXHORIZONTALAREAPERCENT:41,GRAPHMATRIXHORIZONTALAREACLUSTERED:42,GRAPHHORIZONTALBARDUALAXISCLUSTERED:33,GRAPHHORIZONTALBARDUALAXISABSOLUTE:34,GRAPHHORIZONTALLINEABSOLUTE:35,GRAPHHORIZONTALLINEDUALAXISABSOLUTE:36,GRAPHHORIZONTALAREAABSOLUTE:37,GRAPHHORIZONTALAREADUALAXISABSOLUTE:38,GRAPHVERTICALBARCLUSTERED:39,GRAPHVERTICALBARDUALAXISCLUSTERED:43,GRAPHVERTICALBARDUALAXISABSOLUTE:44,GRAPHVERTICALBARDUALAXISSTACKED:45,GRAPHVERTICALLINEABSOLUTE:46,GRAPHVERTICALLINESTACKED:47,GRAPHVERTICALLINEPERCENT:48,GRAPHVERTICALLINEDUALAXISABSOLUTE:49,GRAPHVERTICALLINEDUALAXISSTACKED:50,GRAPHVERTICALAREAABSOLUTE:51,GRAPHVERTICALAREAPERCENT:52,GRAPHVERTICALAREASTACKED:53,GRAPHVERTICALAREADUALAXISABSOLUTE:54,GRAPHVERTICALAREADUALAXISSTACKED:55,GRAPHCOMBINATIONBARAREA:56,GRAPHCOMBINATIONBARAREADUALAXIS:57,NETWORK:58,IMAGELAYOUT:59,GOOGLEMAPDENSITY:60,GRAPHMATRIXPIE:61,GRAPHMATRIXRING:62,GRAPHHORIZONTALBARABSOLUTE:63,GRAPHHORIZONTALBARPERCENT:64,GRAPHHORIZONTALBARSTACKED:65,GRAPHVERTICALBARABSOLUTE:66,GRAPHVERTICALBARPERCENT:67,GRAPHVERTICALBARSTACKED:68,ESRIMAP:69,GRAPHMATRIXVERTICALBARAUTOMATIC:70,GRAPHMATRIXHORIZONTALBARAUTOMATIC:71,GRAPHMATRIXVERTICALLINEAUTOMATIC:72,GRAPHMATRIXHORIZONTALLINEAUTOMATIC:73,GRAPHMATRIXVERTICALAREAAUTOMATIC:74,GRAPHMATRIXHORIZONTALAREAAUTOMATIC:75,GRAPHMATRIXVERTICALHISTOGRAM:76,GRAPHMATRIXGRIDCHART:78,GRAPHMATRIXVERTICALBOXPLOT:79,GRAPHMATRIXHORIZONTALBOXPLOT:80,GRAPHMATRIXVERTICALWATERFALL:81,GRAPHMATRIXHORIZONTALWATERFALL:82,KPICARD:83,VERTICALSYNCHRONIZEDAXISBAR:84,HORIZONTALSYNCHRONIZEDAXISBAR:85,VERTICALCLUSTEREDSYNCHRONIZEDAXISBAR:86,VERTICALDUALAXISLINECHART:87,HORIZONTALDUALAXISLINECHART:88}
	var T=mstrmojo.vi.viz.EnumVisualizationTemplates
	mstrmojo.vi.viz.EnumAggregatedVisTemplates={COMBOCHART:[T.GRAPHHORIZONTALBARDUALAXISCLUSTERED,T.GRAPHHORIZONTALBARDUALAXISABSOLUTE,T.GRAPHHORIZONTALLINEDUALAXISABSOLUTE,T.GRAPHHORIZONTALAREADUALAXISABSOLUTE,T.GRAPHVERTICALBARDUALAXISCLUSTERED,T.GRAPHVERTICALBARDUALAXISABSOLUTE,T.GRAPHVERTICALBARDUALAXISSTACKED,T.GRAPHVERTICALLINEDUALAXISABSOLUTE,T.GRAPHVERTICALLINEDUALAXISSTACKED,T.GRAPHVERTICALAREADUALAXISABSOLUTE,T.GRAPHVERTICALAREADUALAXISSTACKED,T.GRAPHCOMBINATIONBARAREADUALAXIS,T.GRAPHCOMBINATIONBARAREA],BUBBLECHART:[T.GRAPHMATRIXSCATTERCIRCLEMM,T.GRAPHMATRIXSCATTERGRIDCIRCLEAA,T.GRAPHMATRIXBUBBLECIRCLEMM,T.GRAPHMATRIXBUBBLEGRIDCIRCLEAA,T.GRAPHMATRIXSCATTERSQUAREAM,T.GRAPHMATRIXSCATTERSQUAREMM,T.GRAPHMATRIXSCATTERGRIDSQUAREAA,T.GRAPHMATRIXBUBBLESQUAREAM,T.GRAPHMATRIXBUBBLESQUAREMM,T.GRAPHMATRIXBUBBLEGRIDSQUAREAA],BARCHART:[T.GRAPHHORIZONTALBARCLUSTERED,T.GRAPHVERTICALBARCLUSTERED,T.GRAPHHORIZONTALBARABSOLUTE,T.GRAPHHORIZONTALBARPERCENT,T.GRAPHHORIZONTALBARSTACKED,T.GRAPHVERTICALBARABSOLUTE,T.GRAPHVERTICALBARPERCENT,T.GRAPHVERTICALBARSTACKED,],VERTICALBARCHART:[T.GRAPHMATRIXVERTICALBARAUTOMATIC],HORIZONTALBARCHART:[T.GRAPHMATRIXHORIZONTALBARAUTOMATIC],VERTICALCLUSTEREDBARCHART:[T.GRAPHMATRIXVERTICALBARCLUSTERED],VERTICALSTACKEDBARCHART:[T.GRAPHMATRIXVERTICALBARSTACKED],VERTICALPERCENTBARCHART:[T.GRAPHMATRIXVERTICALBARPERCENT],HORIZONTALCLUSTEREDBARCHART:[T.GRAPHMATRIXHORIZONTALBARCLUSTERED],HORIZONTALSTACKEDBARCHART:[T.GRAPHMATRIXHORIZONTALBARSTACKED],HORIZONTALPERCENTBARCHART:[T.GRAPHMATRIXHORIZONTALBARPERCENT],SYNCAXISBARCHART:[T.VERTICALSYNCHRONIZEDAXISBAR,T.HORIZONTALSYNCHRONIZEDAXISBAR,T.VERTICALCLUSTEREDSYNCHRONIZEDAXISBAR],MatrixBarCHART:[T.GRAPHMATRIXGRIDCHART],LINECHART:[T.GRAPHMATRIXVERTICALLINESTACKED,T.GRAPHMATRIXVERTICALLINECLUSTERED,T.GRAPHMATRIXVERTICALLINEPERCENT,T.GRAPHMATRIXHORIZONTALLINESTACKED,T.GRAPHMATRIXHORIZONTALLINECLUSTERED,T.GRAPHMATRIXHORIZONTALLINEPERCENT,T.GRAPHHORIZONTALLINEABSOLUTE,T.GRAPHVERTICALLINEABSOLUTE,T.GRAPHVERTICALLINESTACKED,T.GRAPHVERTICALLINEPERCENT,T.GRAPHMATRIXVERTICALLINEAUTOMATIC,T.GRAPHMATRIXHORIZONTALLINEAUTOMATIC],DUALAXISLINECHART:[T.VERTICALDUALAXISLINECHART,T.HORIZONTALDUALAXISLINECHART],PIECHART:[T.PIE,T.GRAPHMATRIXPIE,],RINGCHART:[T.RING,T.GRAPHMATRIXRING],AREACHART:[T.GRAPHHORIZONTALAREAABSOLUTE,T.GRAPHVERTICALAREAABSOLUTE,T.GRAPHVERTICALAREAPERCENT,T.GRAPHVERTICALAREASTACKED],STACKEDAREACHART:[T.GRAPHMATRIXVERTICALAREASTACKED,T.GRAPHMATRIXVERTICALAREAPERCENT,T.GRAPHMATRIXHORIZONTALAREASTACKED,T.GRAPHMATRIXHORIZONTALAREAPERCENT,T.GRAPHMATRIXVERTICALAREAAUTOMATIC,T.GRAPHMATRIXHORIZONTALAREAAUTOMATIC],ABSOLUTEAREACHART:[T.GRAPHMATRIXVERTICALAREACLUSTERED,T.GRAPHMATRIXHORIZONTALAREACLUSTERED],HISTOGRAM:[T.GRAPHMATRIXVERTICALHISTOGRAM,],BOXPLOT:[T.GRAPHMATRIXVERTICALBOXPLOT,T.GRAPHMATRIXHORIZONTALBOXPLOT],WATERFALL:[T.GRAPHMATRIXVERTICALWATERFALL,T.GRAPHMATRIXHORIZONTALWATERFALL]}
	mstrmojo.vi.viz.EnumVisualizationTemplatesName={}
	var V=mstrmojo.vi.viz.EnumVisualizationTemplatesName
	V[T.GRID]=mstrmojo.desc(114,"Grid")
	V[T.GRAPHMATRIXVERTICALBARAUTOMATIC]=mstrmojo.desc(18354,"Vertical Bar Chart")
	V[T.GRAPHMATRIXHORIZONTALBARAUTOMATIC]=mstrmojo.desc(18356,"Horizontal Bar Chart")
	V[T.GRAPHMATRIXVERTICALBARCLUSTERED]=mstrmojo.desc(18357,"Vertical Clustered Bar Chart")
	V[T.GRAPHMATRIXHORIZONTALBARCLUSTERED]=mstrmojo.desc(18358,"Horizontal Clustered Bar Chart")
	V[T.GRAPHMATRIXVERTICALBARSTACKED]=mstrmojo.desc(18359,"Vertical Stacked Bar Chart")
	V[T.GRAPHMATRIXHORIZONTALBARSTACKED]=mstrmojo.desc(18355,"Horizontal Stacked Bar Chart")
	V[T.GRAPHMATRIXVERTICALBARPERCENT]=mstrmojo.desc(18362,"Vertical Percent Bar Chart")
	V[T.GRAPHMATRIXHORIZONTALBARPERCENT]=mstrmojo.desc(18360,"Horizontal Percent Bar Chart")
	V[T.VERTICALSYNCHRONIZEDAXISBAR]=V[T.HORIZONTALSYNCHRONIZEDAXISBAR]=V[T.HORIZONTALSYNCHRONIZEDAXISBAR]=mstrmojo.desc(18361,"Synchronized Axis Bar Chart")
	V[T.GRAPHMATRIXGRIDCHART]=mstrmojo.desc(18931,"Matrix Bar Chart")
	V[T.GRAPHCOMBINATIONBARAREADUALAXIS]=mstrmojo.desc(11824,"Combo Chart")
	V[T.GRAPHMATRIXVERTICALLINEAUTOMATIC]=V[T.GRAPHMATRIXHORIZONTALLINEAUTOMATIC]=mstrmojo.desc(8121,"Line Chart")
	V[T.VERTICALDUALAXISLINECHART]=V[T.HORIZONTALDUALAXISLINECHART]=mstrmojo.desc(19130,"Dual Axis Line Chart")
	V[T.GRAPHMATRIXVERTICALAREASTACKED]=V[T.GRAPHMATRIXHORIZONTALAREASTACKED]=mstrmojo.desc(15233,"Stacked Area Chart")
	V[T.GRAPHMATRIXVERTICALAREACLUSTERED]=V[T.GRAPHMATRIXHORIZONTALAREACLUSTERED]=mstrmojo.desc(15236,"Absolute Area Chart")
	V[T.GRAPHMATRIXPIE]=mstrmojo.desc(11823,"Pie Chart")
	V[T.GRAPHMATRIXRING]=mstrmojo.desc(8296,"Ring Chart")
	V.MapboxVisualizationStyle=V.GoogleMapVisualizationStyle=V.ESRIMapVisualizationStyle=mstrmojo.desc(7736,"Map")
	V.KPICardVisualizationStyle=mstrmojo.desc(15800,"KPI")
	V[T.GRAPHMATRIXVERTICALWATERFALL]=V[T.GRAPHMATRIXVERTICALWATERFALL]=mstrmojo.desc(5594,"Waterfall")
	V.VIHeatMapVisualizationStyle=mstrmojo.desc(11819,"Heat Map")
	V[T.GRAPHMATRIXBUBBLECIRCLEMM]=mstrmojo.desc(11822,"Bubble Chart")
	V[T.GRAPHMATRIXVERTICALHISTOGRAM]=mstrmojo.desc(350,"Histogram")
	V[T.GRAPHMATRIXVERTICALBOXPLOT]=V[T.GRAPHMATRIXHORIZONTALBOXPLOT]=mstrmojo.desc(3156,"Box Plot")
	V.NetworkVisualizationStyle=mstrmojo.desc(11827,"Network")
	(function(){mstrmojo.cookies={}
	var C="%26",E="%3D",B=mstrmojo.cookies,D=function(){var F=document.cookie
	if(!F||!(typeof F==="string")||F.indexOf("bSet")<0){return false
	}return true
	},A=function(){var F=document.cookie
	F=F.split("
	")
	for(s in F){if(F[s].indexOf("bSet")>=0){return F[s]
	}}return null
	}
	mstrmojo.cookies.updateCookieSetting=function(H,N,J){try{if(!D()&&!J){return 
	}var K=document.cookie,M=H+E+N+C
	if(K.indexOf(H)>=0){var F=H+E,G=F+(B.getCookieSetting(H)||0),I=F+N
	if(I!=G){document.cookie=K.replace(G,I)
	}}else{if(K.indexOf("bSet")>=0){document.cookie=K.replace("bSet=","bSet="+M)
	}else{if(J){document.cookie="bSet="+M+"
	"+K
	}}}}catch(L){mstrmojo.alert(L)
	return 
	}}
	mstrmojo.cookies.getCookieSetting=function(F){try{return B.getCookieList()[F]
	}catch(G){mstrmojo.alert(G)
	return 
	}}
	mstrmojo.cookies.getCookieList=function(){try{if(!D()){return[]
	}var G=A(),F={},H=null
	G=G.replace("bSet=","").split(C)
	for(H in G){H=G[H].split(E)
	F[H[0]]=H[1]
	}return F
	}catch(I){mstrmojo.alert(I)
	return 
	}}
	mstrmojo.cookies.enabledCookieOnBrowser=function(){var F=document.cookie
	if(!F||!(typeof F==="string")){return false
	}return true
	}
	})()
	mstrmojo.mstr.EnumNodeDimty={NodeDimtyReserved:0,NodeDimtyNone:1,NodeDimtyContinuation:2,NodeDimtyExclusiveContinuation:3,NodeDimtyOutputLevel:4,NodeDimtyBreakBy:5,NodeDimtyEmbedded:6,NodeDimtyUnspecified:7}
	mstrmojo.mstr.EnumDSSConsolidationType={DssNormal:0,DssDerivedElement:1,DssRecursiveDerivedElement:2}
	mstrmojo.mstr.EnumDSSXMLDrillType={DssXmlDrillReserved:0,DssXmlDrillToParent:1,DssXmlDrillToChild:2,DssXmlDrillToUnit:3,DssXmlDrillToTemplate:4,DssXmlDrillToForm:5,DssXmlDrillToDetails:6,DssXmlDrillToMetric:7,DssXmlDrillFixTemplate:8,DssXmlDrillRemoveMetric:9,DssXmlDrillRemoveUnit:10,DssXmlDrillToGraphCoordinates:11}
	(function(){mstrmojo._IsSelectorTarget=mstrmojo.provide("mstrmojo._IsSelectorTarget",{_mixinName:"mstrmojo._IsSelectorTarget",setDirty:function A(C){var D=(C?"add":"remove")+"DirtyKey",B=this.parent
	if(B&&B[D]){this.parent[D](this.k)
	}}})
	}())
	mstrmojo.mstr.EnumDataType={DataTypeUnknown:-1,DataTypeReserved:0,DataTypeInteger:1,DataTypeUnsigned:2,DataTypeNumeric:3,DataTypeDecimal:4,DataTypeReal:5,DataTypeDouble:6,DataTypeFloat:7,DataTypeChar:8,DataTypeVarChar:9,DataTypeLongVarChar:10,DataTypeBinary:11,DataTypeVarBin:12,DataTypeLongVarBin:13,DataTypeDate:14,DataTypeTime:15,DataTypeTimeStamp:16,DataTypeShort:21,DataTypeLong:22,DataTypeMBChar:23,DataTypeBool:24,DataTypePattern:25,DataTypeBigDecimal:30,DataTypeCellFormatData:31,DataTypeInt64:34}
	mstrmojo.chart.model.enums.EnumDSSGraphObject={DssGraphNull:-3,DssGraphBackground:1,DssGraphFrame:2,DssGraphFootnote:3,DssGraphSubtitle:4,DssGraphTitle:5,DssGraphLegendArea:6,DssGraphLegendLine:7,DssGraphLegendMarker:8,DssGraphLegendText:9,DssGraphCurve:257,DssGraphDataLine:258,DssGraphDataMarker:259,DssGraphDataText:260,DssGraphDivBiPolar:261,DssGraphErrorBar:262,DssGraphLinrExp:263,DssGraphLinrLine:264,DssGraphLinrLog:265,DssGraphLinrNatLog:266,DssGraphLinrNPoly:267,DssGraphLinrText:268,DssGraphMeanLine:269,DssGraphMovAvgLine:270,DssGraphO1Body:271,DssGraph2DO1Label:272,DssGraphO1Major:273,DssGraphO1Minor:274,DssGraphO1Super:275,DssGraphO1Title:276,DssGraphO2Body:277,DssGraph2DO2Label:278,DssGraphO2Major:279,DssGraphO2Minor:280,DssGraphO2Title:281,DssGraphConnectDataLine:282,DssGraphRiser:286,DssGraphRiserShadow:287,DssGraphStdDevLine:288,DssGraphX1Body:289,DssGraphX1Label:290,DssGraphX1Major:291,DssGraphX1Minor:292,DssGraphXTitle:293,DssGraphY1Body:295,DssGraphY1Label:296,DssGraphY1Major:297,DssGraphY1Minor:298,DssGraphY1Title:299,DssGraphY2Body:301,DssGraphY2Label:302,DssGraphY2Major:303,DssGraphY2Minor:304,DssGraphY2Title:305,DssGraph3DShowColumnHeaders:318,DssGraph3DShowLeftHeaders:321,DssGraph3DShowRightHeaders:323,DssGraph3DShowRowHeaders:325,DssGraphOBPBox:329,DssGraphOBPMedian:330,DssGraphOBPStem:331,DssGraphOBPTail:332,DssGraphPieFeelerLine:337,DssGraphPieFeelerLabel:338,DssGraphPieGroupLabel:339,DssGraphPieRingLabel:340,DssGraphPieSlice:341,DssGraphSeriesTitle:398,DssGraphConnectStackLine:399,DssGraphDataTextStackTotal:401,DssGraphOPILBLValue:418,DssGraphUserLine1:414,DssGraphUserLine2:415,DssGraphUserLine3:416,DssGraphUserLine4:417,DssGraphNestedBracket:777,DssGraphDataTextConnectLine:431,DssGraphGauge:444,DssGraphGaugeTitle:450,DssGraphGaugeRange:451,DssGraphY3Body:477,DssGraphY3Label:478,DssGraphY3Major:479,DssGraphY3Minor:480,DssGraphY4Body:483,DssGraphY4Label:484,DssGraphY4Major:485,DssGraphY4Minor:486,DssGraph3DColHeader:512,DssGraph3DColTitle:515,DssGraph3DDataText:518,DssGraph3DRowHeader:552,DssGraph3DRowTitle:555,DssGraph3DRYHeader:558,DssGraph3DRYTitle:561,DssGraphGaugeBorder:1319,DssGraphGaugeNeedleBase:1320,DssGraphGaugeNeedleBaseLine:1330,DssGraphZBody:10003,DssGraphTrendLine:10004,DssGraphY1RightBody:10005,DssGraphY1RightTitle:10006,DssGraphReferenceLine:10007,DssGraphStraightLine:10008,DssGraphTargetLine:10009,DssGraphRefLineText:10010,DssGraphTrendLineText:10011,DssGraphUserLabel1:100100,DssGraphUserLabel2:100101,DssGraphUserLabel3:100102,DssGraphUserLabel4:100103,DssGraphX2Body:100200,DssGraphX2Label:100201,DssGraphX2Major:100202,DssGraphX2Minor:100203,DssGraphX2Title:100204}
	(function(){mstrmojo._Fetchable=mstrmojo.provide("mstrmojo._Fetchable",{_mixinName:"mstrmojo._Fetchable",blockBegin:1,blockCount:-1,concat:false,items:null,size:function A(){var B=this.items
	return(B&&B.length)||0
	},next:function(B){if(this.hasNext()){this.getItems(this.blockBegin+this.blockCount,B)
	}},previous:function(B){if(this.hasPrevious()){var C=this.blockBegin-this.blockCount
	C=C<0?0:C
	this.getItems(C,B)
	}},getItems:function(H,F,B){F=F||{}
	var E=this,D=mstrmojo.emptyFn,C=F.success||D,G=F.failure||D,I=F.complete||D
	this._retrieveItems(H,{success:function(J){E.blockBegin=H
	E.blockCount=J.bc||30
	E.set("items",(E.concat?(E.items||[]).concat(J.items||[]):(J.items||[])))
	if(J.totalSize){E.totalSize=J.totalSize
	}C(J)
	},failure:function(J){G(J)
	},complete:function(J){I(J)
	}},B)
	},_retrieveItems:function(D,C,B){alert("Object which mixes in this mixin has not implemented this method - _retrieveItems().")
	},hasNext:function(){return(((this.concat?1:this.blockBegin)+((this.items&&this.items.length)||0))<((mstrApp.isAppStatePause&&mstrApp.isAppStatePause())?this.totalSize:(this.totalSize+1)))
	},hasPrevious:function(){return this.blockBegin>1
	}})
	}())
	(function(){mstrmojo.FlexHelper=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.FlexHelper",getWidget:function C(D){var E=D.split("x")
	return mstrApp.docModel.getUnitInstance(E[0],E[1])
	},getZoomFactor:function A(){return mstrApp.docModel.getZoomFactor()*100
	}})
	var B=new mstrmojo.FlexHelper()
	window.getFlexHelper=function(){return B
	}
	})()
	mstrmojo.vi.enums.EnumPromptType={RESERVED:0,CONSTANT:1,ATTRIBUTE_LELMENT_LSIT:2,EXPRESSION:3,OBJECTS:4,DIMENSIONALITY:5}
	mstrmojo.vi.viz.EnumDSSDropZones={Reserved:0,Rows:1,Columns:2,XAxis:3,YAxis:4,BreakBy:5,SliceBy:6,ColorBy:7,SizeBy:8,AdditionalMetrics:9,Angle:10,Grouping:11,GeoAttribute:12,Layout:13,FromItem:14,ToItem:15,ItemSize:16,Latitude:17,Longitude:18,Metric:19,Trend:20,Geometry:21}
	mstrmojo.mstr.EnumDSSXMLObjectSubTypes={Unknown:-1,Reserved:0,Filter:256,CustomGroup:257,Template:512,ReportGrid:768,ReportGraph:769,ReportEngine:770,ReportText:771,ReportDatamart:772,ReportBase:773,ReportGridAndGraph:774,ReportNonInteractive:775,ReportCube:776,ReportIncrementalRefresh:777,ReportTransaction:778,ReportEmmaCube:779,ReportEmmaIncrementalRefresh:780,Metric:1024,SubtotalDefinition:1025,SystemSubtotal:1026,MetricDMX:1027,DssSubTypeMetricTraining:1028,Style:1536,AggMetric:1792,Folder:2048,Device:2304,Prompt:2560,PromptBoolean:2561,PromptLong:2562,PromptString:2563,PromptDouble:2564,PromptDate:2565,PromptObjects:2566,PromptElements:2567,PromptExpression:2568,PromptExpressionDraft:2569,PromptDimty:2570,PromptBigDecimal:2571,Function:2816,Attribute:3072,AttributeRole:3073,AttributeTransformation:3074,AttributeAbstract:3075,AttributeRecursive:3076,Fact:3328,DimensionSystem:3584,DimensionUser:3585,DimensionOrdered:3586,DimensionUserHierarchy:3587,Table:3840,TablePartitionMD:3841,TablePartitionWH:3842,DatamartReport:4096,FactGroup:4352,Resolution:4864,AttributeForm:5376,FormSystem:5377,FormNormal:5378,Schema:5632,Format:5888,Catalog:6144,CatalogDefn:6400,Column:6656,PropertyGroup:6912,PropertySet:7168,DBRole:7424,DBRoleDataImport:7425,DBRoleOAuth:7427,DBRoleGenericDataConnector:7430,DBLogin:7680,DBConnection:7936,Project:8192,ServerDef:8448,User:8704,UserGroup:8705,Transmitter:8705,Configuration:9216,Request:9472,Search:9984,SearchFolder:10240,Datamart:10496,FunctionPackageDefinition:10752,Role:11008,RoleTransformation:11009,SecurityRole:11264,InBox:11520,InBoxMsg:11776,Consolidation:12032,ConsolidationManaged:12033,ConsolidationElement:12288,ScheduleEvent:12544,ScheduleObject:12800,ScheduleTrigger:13056,Link:13312,DBTable:13568,DBTablePMT:13569,TableSource:13824,DocumentDefinition:14080,ReportWritingDocument:14081,DocumentTheme:14082,DrillMap:14336,DBMS:14592,MDSecurityFilter:14848,MonitorPerformance:15104,MonitorJobs:15105,MonitorUserConnections:15106,MonitorDBConnections:15107,PromptAnswer:15232,PromptAnswers:15360,PromptAnswerBoolean:15233,PromptAnswerLong:15234,PromptAnswerString:15235,PromptAnswerDouble:15236,PromptAnswerDate:15237,PromptAnswerObjects:15238,PromptAnswerElements:15239,PromptAnswerExpression:15240,PromptAnswerExpressionDraft:15241,PromptAnswerDimty:15242,PromptAnswerBigDecimal:15243,PromptAnswerInt64:15244,GraphStyle:15616,ChangeJournalSearch:15872,BlobUnknown:16128,BlobOther:16129,BlobImage:16130,BlobProjectPackage:16131,BlobExcel:16132,BlobHTMLTemplate:16133,DashboardTemplate:16384,Flag:16640,ChangeJournal:16896,ExternalShortcutUnknown:17152,ExternalShortcutURL:17153,ExternalShortcutSnapshot:17154,ExternalShortcutTarget:17408,Reconciliation:17664,DerivedAttribute:3077,PaletteSystem:17920,PaletteCustom:17921,Thresholds:18432,SubscriptionAddress:65281,SubscriptionContact:65282,SubscriptionInstance:65283}
	mstrmojo.mstr.EnumFunction={FunctionCustom:-1,FunctionReserved:0,FunctionPlus:1,FunctionMinus:2,FunctionTimes:3,FunctionDivide:4,FunctionUnaryMinus:5,FunctionEquals:6,FunctionNotEqual:7,FunctionGreater:8,FunctionLess:9,FunctionGreaterEqual:10,FunctionLessEqual:11,FunctionSum:12,FunctionCount:13,FunctionAvg:14,FunctionMin:15,FunctionMax:16,FunctionBetween:17,FunctionLike:18,FunctionAnd:19,FunctionOr:20,FunctionNot:21,FunctionIn:22,FunctionRank:23,FunctionAbs:24,FunctionRunningSum:25,FunctionRunningAvg:26,FunctionMovingSum:28,FunctionMovingAvg:27,FunctionProduct:29,FunctionMedian:30,FunctionMode:31,FunctionStdev:32,FunctionVar:33,FunctionGeomean:34,FunctionEqualEnhanced:35,FunctionNotEqualEnhanced:36,FunctionGreaterEqualEnhanced:37,FunctionLessEqualEnhanced:38,FunctionBetweenEnhanced:39,FunctionBanding:40,FunctionBandingC:41,FunctionBandingP:42,FunctionNotLike:43,FunctionNotBetween:44,FunctionIntersect:45,FunctionIntersectIn:46,FunctionNullToZero:47,FunctionZeroToNull:48,FunctionApplySimple:49,FunctionApplyAggregation:50,FunctionApplyLogic:51,FunctionApplyComparison:52,FunctionApplyRelative:53,FunctionIsNull:54,FunctionIsNotNull:55,FunctionUcase:56,FunctionNotIn:57,FunctionNTile:58,FunctionPercentile:59,FunctionMovingMax:60,FunctionMovingMin:61,FunctionMovingDifference:62,FunctionMovingStdev:63,FunctionExpWghMovingAvg:64,FunctionMovingCount:65,FunctionRunningMax:66,FunctionRunningMin:67,FunctionRunningStdev:68,FunctionRunningCount:69,FunctionExpWghRunningAvg:70,FunctionNotBetweenEnhanced:71,FunctionConcat:72,FunctionFirstInRange:73,FunctionLastInRange:74,FunctionValueSegment:75,FunctionContains:76,FunctionBeginsWith:77,FunctionEndsWith:78,FunctionNotContains:79,FunctionNotBeginsWith:80,FunctionNotEndsWith:81,FunctionCase:82,FunctionCaseV:83,FunctionStdevP:84,FunctionRunningStdevP:85,FunctionMovingStdevP:86,FunctionNTileS:87,FunctionNTileVS:88,FunctionVarP:89,FunctionCurrentDate:90,FunctionDayOfMonth:91,FunctionDayOfWeek:92,FunctionDayOfYear:93,FunctionWeek:94,FunctionMonth:95,FunctionQuarter:96,FunctionYear:97,FunctionCurrentDateTime:98,FunctionCurrentTime:99,FunctionHour:100,FunctionMinute:101,FunctionSecond:102,FunctionMilliSecond:103,FunctionConcatNoBlank:104,FunctionLength:105,FunctionLower:106,FunctionLTrim:107,FunctionPosition:108,FunctionRTrim:109,FunctionSubStr:110,FunctionInitCap:111,FunctionTrim:112,FunctionRightStr:113,FunctionLeftStr:114,FunctionGreatest:115,FunctionLeast:116,FunctionFirst:117,FunctionLast:118,FunctionAdd:134,FunctionAverage:135,FunctionMultiply:136,FunctionBandingM:137,FunctionOLAPSum:138,FunctionOLAPAvg:139,FunctionOLAPCount:140,FunctionOLAPMax:141,FunctionOLAPMin:142,FunctionLag:143,FunctionLead:144,FunctionPercentRank:166,FunctionConcatAgg:177,FunctionTuple:1000}
	mstrmojo.requiresDescs(5547,5217,5218,5219,5220,5221)
	var EnumWebPromptsList=[{n:"Hierarchy Qualification Prompt",desc:"Hierarchy Qualification prompt",descId:5547,value:"editPrompt",name:"hierarchyPrompt",params:{evt:3004,target:"editPrompt",promptType:3,promptExpressionType:16}},{n:"Attribute Qualification Prompt",desc:"Attribute Qualification prompt",descId:5217,name:"aqPrompt",value:"editPrompt",params:{evt:3004,target:"editPrompt",promptType:3,promptExpressionType:17}},{n:"Attribute Element List",desc:"Att Element List prompt",descId:5218,value:"editPrompt",name:"attributePrompt",params:{evt:3004,target:"editPrompt",promptType:2}},{n:"Metric Qualification Prompt",desc:"Metric Qualification prompt",descId:5219,value:"editPrompt",name:"mqPrompt",params:{evt:3004,target:"editPrompt",promptType:3,promptExpressionType:10}},{n:"Object Prompt",desc:"Object",descId:5220,value:"editPrompt",name:"objectPrompt",params:{evt:3004,target:"editPrompt",promptType:4,}},{n:"Value Prompt",desc:"Value",descId:5221,value:"editPrompt",name:"valuePrompt",params:{evt:3004,target:"editPrompt",promptType:1,constDataType:14}}]
	mstrmojo.mstr.ui.EnumWebPromptsList={get:function(){var A=mstrApp.servletName||mstrApp.name
	return mstrmojo.array.map(EnumWebPromptsList,function(B){B.src=A+B.evt
	return B
	})
	}}
	(function(){mstrmojo._CanRenderChildrenOnShow=mstrmojo.provide("mstrmojo._CanRenderChildrenOnShow",{_subs_renderOnShow:null,childRenderCheck:function B(D){if(this.renderMode!=="onshow"){return this._super(D)
	}if(D.visible){return this._super(D)
	}var C=this._subs_renderOnShow
	if(!C){C={}
	this._subs_renderOnShow=C
	}if(!C[D.id]){C[D.id]=D.attachEventListener("visibleChange",this.id,"_on_child_visibleChange")
	}return false
	},_on_child_visibleChange:function A(C){if(this.hasRendered){var E=C&&C.src
	if(E&&this.childRenderCheck(E)){var D=this._subs_renderOnShow
	if(D){E.detachEventListener(D[E.id])
	delete D[E.id]
	}E.render()
	}}}})
	}())
	mstrmojo.gm.GMEnums={}
	mstrmojo.gm.DualAxisSubAxisBit={PRIMARY:0,SECONDARY:1}
	mstrmojo.gm.StackExetrmeId={PRIMARY_Y_AXIS:-2,SECONDARY_Y_AXIS:-18,PRIMARY_X_AXIS:-1,SECONDARY_X_AXIS:-17}
	mstrmojo.gm.FormNameType={OFF:0,ON:1,FORM_NAME_ONLY:2,SHOW_ATT_NAME_ONCE:3,AUTO:4}
	mstrmojo.gm.EnumSelectionOptionLevel={GLOBAL:1,ITSELF:2,ATTS_METRIC_COMBINATION:3,METRIC_AXIS:4,METRIC:5,AXIS:6,COLOR_BY:7,ALL_SHAPE:8,ITSELF_RESOLVED:9}
	mstrmojo.gm.EnumLabelRotation={VERTICAL:2,HORIZONTAL:0,AUTOMATIC:-1,CUSTOM:7}
	mstrmojo.gm.EnumIdentityType={LEGEND:Math.pow(2,0),GRAPH_SHAPE:Math.pow(2,1),X_AXIS:Math.pow(2,2),Y_AXIS:Math.pow(2,3),X2_AXIS:Math.pow(2,4),Y2_AXIS:Math.pow(2,5),GRID_LINE:Math.pow(2,6),TREND_LINE:Math.pow(2,7),REF_LINE:Math.pow(2,8),DATA_LABEL:Math.pow(2,9),COLOR_SQUARE:Math.pow(2,10),ROW_TITLE:Math.pow(2,11),COL_TITLE:Math.pow(2,12),ROW_HEADER:Math.pow(2,13),COL_HEADER:Math.pow(2,14),LOG_SCALE:Math.pow(2,15),H_MATRIX_LINE:Math.pow(2,16),V_MATRIX_LINE:Math.pow(2,17),LEGEND_TEXT:Math.pow(2,18),SHAPE_COLLECTION:Math.pow(2,19),MINOR_GRID_LINE:Math.pow(2,20),AXIS_SCALE:Math.pow(2,22),AXIS_ORIGIN:Math.pow(2,23),ROWS_BACKGROUND:Math.pow(2,24),COLS_BACKGROUND:Math.pow(2,25),X_NUMERIC:Math.pow(2,26),X_CATEGORY:Math.pow(2,27),Y_NUMERIC:Math.pow(2,28),Y_CATEGORY:Math.pow(2,29),X_METRIC_AXIS_TITLE:Math.pow(2,30),Y_METRIC_AXIS_TITLE:Math.pow(2,31),VIZ_BOX_TITLE:Math.pow(2,32),REF_LINE_LABEL:Math.pow(2,33),LINE_MARKER:Math.pow(2,34),X_AXIS_ORIGIN_LABEL:Math.pow(2,35),Y_AXIS_ORIGIN_LABEL:Math.pow(2,36),X_AXIS_ORIGIN_LINE:Math.pow(2,37),Y_AXIS_ORIGIN_LINE:Math.pow(2,38),Y_ATTRIBUTE_AXIS_TITLE:Math.pow(2,39),ROW_HEADER_TEXT:Math.pow(2,40),ROW_TITLE_TEXT:Math.pow(2,41),COL_HEADER_TEXT:Math.pow(2,42),COL_TITLE_TEXT:Math.pow(2,43),VIZ_BOX_CONTAINER:Math.pow(2,44),X_ATTRIBUTE_AXIS_TITLE:Math.pow(2,45),AXIS_ORIGIN_DEFINE:Math.pow(2,46),SYNC_AXIS_SCALE:Math.pow(2,47)}
	mstrmojo.gm.EnumGMZoneIds={ROWS:1,COLUMNS:2,XAXIS:3,YAXIS:4,BREAKBY:5,SLICEBY:6,COLORBY:7,SIZEBY:8,TOOLTIP:9,ANGLEBY:10}
	mstrmojo.gm.EnumClickType={NONE:-1,LEFT_CLICK:1,RIGHT_CLICK:2,DOUBLE_CLICK:3}
	mstrmojo.gm.EnumLegendSlot={RIGHT_TOP:1,RIGHT_MIDDLE:2,RIGHT_BOTTOM:3,LEFT_TOP:4,LEFT_MIDDLE:5,LEFT_BOTTOM:6,LEFT:7,RIGHT:8}
	mstrmojo.gm.EnumAxisType={ATTRIBUTE:0,METRIC:1}
	mstrmojo.gm.EnumGraphType={UNDEFINED:-1,AREA:1,BAR:2,LINE:3,SCATTER:4,BUBBLE:5,PIE:6,GRID:7,HISTOGRAM:8,BOXPLOT:9,WATERFALL:10,RING:11}
	mstrmojo.gm.EnumContextMenu={SEPARATOR:0,KEEP_ONLY:1,EXCLUDE:2,SORT_ASCENDING:3,SORT_DESCENDING:4,CLEAR_SORT:5,SHOW_DATA:6,SWITCH_THEME:7,KEEP_ONLY_AND_SHOW:8,CLOSE_LEGEND:9,OPEN_LEGEND:10,AXIS_SCALE:11,DRILL_TO:100,CHART_TYPE:200,AREA_ABS:201,AREA_STACKED:202,AREA_PERCENT:203,BAR_SBS:204,BAR_ABS:205,BAR_STACKED:206,BAR_PERCENT:207,LINE_ABS:208,LINE_STACKED:209,LINE_PERCENT:210,BUBBLE:211,SCATTER:212,H_AREA_ABS:213,H_AREA_STACKED:214,H_AREA_PERCENT:215,H_BAR_SBS:216,H_BAR_ABS:217,H_BAR_STACKED:218,H_BAR_PERCENT:219,H_LINE_ABS:220,H_LINE_STACKED:221,H_LINE_PERCENT:222,GRID:223,CIRCLE:224,SQUARE:225,PIE:226,TICKER:227,RING:228,CANVAS:229,SVG:230,LARGE_ABL:231,OUTPUT_EXTREMES:232,COMBINATION:233,ENABLE_PARTIAL_RENDERING:234,DISABLE_PARTIAL_RENDERING:235,OUTPUT_DATA_COUNT:236,ENABLE_TIMER:239,DISABLE_TIMER:240,ENABLE_CE_TIMER:241,DISABLE_CE_TIMER:242}
	mstrmojo.gm.EnumColorRankMode={RANK_MODE_VALUE:0,RANK_MODE_TOP:1,RANK_MODE_BOTTOM:2,RANK_MODE_TOP_PERCENT:3,RANK_MODE_BOTTOM_PERCENT:4}
	mstrmojo.gm.EnumColorByType={NULL:0,ATT:1,METRICS_ITEM:2,METRICS:3,ATT_METRICS:4}
	mstrmojo.gm.EnumDockPosition={TOP:1,RIGHT:2,BOTTOM:3,LEFT:4}
	mstrmojo.gm.EnumXAxisLabelStatus={NORMAL:1,STAGGER:2,ROTATE_90:3,HORI_DROP:4,ROTATE_30:5,ROTATE_45:6,ROTATE_60:7,WRAPPED:8}
	mstrmojo.gm.EnumABLDirection={UNDEFINED:-1,NONE:0,HORIZONTAL:1,VERTICAL:2}
	mstrmojo.gm.EnumMetricsPosition={MetricsByRow:0,MetricsByColumn:1,MetricsByAxis:2,MetricsByBreakBy:3,MetricsBySlice:4,MetricsByXAxis:5,MetricsByYAxis:6}
	mstrmojo.gm.EnumDrawingAPI={GET_CHART_WIDTH:0,GET_CHART_HEIGHT:1,GET_ROW_HEADER:2,GET_COLUMN_HEADER:3,CREATE_UNIT_Y_AXIS:4,CREATE_UNIT_X_AXIS:5,GET_FULL_FLEDGED_CHART:6,GET_ROW_SPAN:7,GET_COLUMN_SPAN:8,GET_METRICS_ON_X:9,GET_METRICS_ON_Y:10,GET_METRICS_ON_SIZE_BY:11,UPDATE_MINI_CHART:12,UPDATE_X_AXIS:13,UPDATE_Y_AXIS:14,MAX_RADIUS_CALC:15,GET_EXTRA_COLUMN_HEADER:16,UPDATE_COLUMN_HEADER:17,UPDATE_ROW_HEADER:18,LAYOUT_ALL_X_AXIS_LABELS:19,LAYOUT_ONE_X_AXIS_LABELS:20,GET_EXTRA_X_AXIS_WIDTH:21,BUILD_MERGED_TITLE:22}
	mstrmojo.gm.WidgetPropertyTag={FIT_TO:"FitTo",AXIS_SCALE:"MinMax",SHAPE:"Shape",SUB_TYPE:"Subtype",VIS_TYPE:"visType",USER_VIS_TYPE:"userVisType",DATA_LABEL:"DataLabel",BAR_DATA_LABEL_POSITION:"bdlp",PIE_DATA_LABEL_POSITION:"pdlp",PIE_DATA_LABEL_LEADER_LINE:"pdlll",PIE_USE_NEW_SIZE_RATIO:"pnsr",DATA_LABELS_PLACEMENT:"DataLabelPalcement",METRIC_LEVEL_DATA_LABEL:"mtcLvlDataLabel",DATA_LABELS_ROTATE:"dlrtt",ORDINAL_XAXIS_LABEL_ROTATION:"oxalr",GM_OPT_1132:"opt1132",SET_FEATURE_FLAG:"featureFlag",DATA_LABEL_FONT_SIZE_CONSTRAINT:"DataLabelFontSizeConstraint",DATA_LABEL_TEXT_ANGLE:"DataLabelTextAngle",BANDING:"Banding",SHOW_ALL_LABELS:"ShwAllLbl",LEGEND_VISIBLE:"LegendVisibleness",COL_ALIGNMENT:"Columnalignment",ROW_ALIGNMENT:"Rowalignment",MAX_SIZE_TYPE:"SizeType",MAX_SIZE_VALUE:"SizeValue",MIN_SIZE_TYPE:"minSizeType",MIN_SIZE_VALUE:"minSizeValue",OUTSIDE_BORDER:"OutSideBorder",AXES:"AxisLine",MATRIX_LINES:"MatrixLine",GRID_LINES:"GridLine",SELECTION_TYPE:"SelectionType",SELECTIONS:"Selections",LEGEND_MODE:"lm",LEGEND_POSITION:"LegendPosition",SCALE_LEGEND_WIDTH:"lwr",SCALE_CHART_HEIGHT:"rr",SCALE_CHART_WIDTH:"cr",SCALE_ROW_HEADERS:"rvr",SCALE_COL_HEADERS:"chr",SCALE_Y:"yr",SCALE_X:"xr",SCALE_Y2:"y2r",SCALE_X2:"x2r",SCALE_ALL:"scales",SCALE_V_EXTRA_LINE:"vExtraLine",SORT_ORDER:"so",SORT_INDEX:"si",PIE_SORT_ORDER:"pso",AXIS_SCALE_DATA:"AxisScale",AXIS_SCALE_SYNC_MODE:"AxisScaleSyncMode",AXIS_SCALE_REAL_MIN:"rMin",AXIS_SCALE_REAL_MAX:"rMax",AXIS_SCALE_MANUAL_MIN:"mMin",AXIS_SCALE_MANUAL_MAX:"mMax",AXIS_SCALE_AUTO_MIN:"autoMin",AXIS_SCALE_AUTO_MAX:"autoMax",SINGLE_AXIS_SCALE_TYPE:"scaleType",LOG_SCALE:"logScale",GROUP_INFO:"groupInfo",METRIC_SHAPES:"metricShapes",AXIS_ORIGIN:"axisOrigin",AXIS_ORIGIN_AUTO:"axOriAuto",AXIS_ORIGIN_VALUE:"axOriValue",TREND_LINE_DEF:"trdDef",REF_LINE_DEF:"refDef",TREND_TYPE:"trdTp",TREND_LEVEL:"trdLvl",TREND_ENABLED:"trdEnabled",TREND_INCLUDE_BREAK_BY:"trdIncBB",TREND_POLY_DEGREE:"trdDgr",TREND_FORECAST_ENABLED:"trdFstEnabled",TREND_BWD_FORECAST:"trdBwdFst",TREND_FWD_FORECAST:"trdFwdFst",TREND_SEASONALITY:"trdSeason",TREND_BUBBLE_FORE_DEF:"trdBbForeDef",TREND_BUBBLE_FORE_FWD:"trdBbForeFwd",TREND_BUBBLE_FORE_BWD:"trdBbForeBwd",TREND_BUBBLE_FORE_ENABLED:"trdBbForeEnabled",TREND_BUBBLE_MAX:"trdBbMax",TREND_BUBBLE_MIN:"trdBbMin",REF_TYPE:"refTp",REF_LEVEL:"refLvl",REF_ENABLED:"refEnabled",REF_SHOW_LABEL:"refLbShw",REF_LABEL_TYPE:"refLbTp",REF_CONST_VALUE:"refCstVl",REF_LINE_NAME:"refLnName",TREND_REF_LINE_THICKNESS:"trdRefLnThk",TREND_REF_LINE_COLOR:"trdRefLnClr",TREND_REF_LINE_STYLE:"trdRefLnStyle",TREND_REF_LINE_COMBINED_STYLE:"trdRefLnCmbStyle",FORMATS_ON_COMBINATION:"fmtOnComb",PARTIAL_RENDER:"prtRdn",SHOW_BOTH_TOTALS:"totalShw:intSumShw"}
	mstrmojo.gm.FormatingPropertyTag={IS_DEFAULT_VALUE:"_default",MODIFIED_DEF_FILL_COLOR:"modDefFillClr",ALL_SHAPE_FORMAT:"allShpFmt",SHAPE_LINE_THICKNESS:"shpLnThk",SHAPE_LINE_COLOR:"shpLnClr",SHAPE_LINE_STYLE:"shpLnStyle",SHAPE_LINE_COMBINED_STYLE:"shpLnCmbStyle",SHAPE_FILL_COLOR:"shpFillClr",SHAPE_FILL_COLOR_DEFAULT:"shpFillClr_default",SHAPE_FILL_STYLE:"shpFillStyle",SHAPE_FILL_TRANSPARENCY:"shpFillTrans",SHAPE_FILL_EFFECT:"shpFillEff",SHAPE_BORDER_COLOR:"shpBdrClr",SHAPE_BORDER_STYLE:"shpBdrStyle",SHAPE_BORDER_COMBINED_STYLE:"shpBdrCmbStyle",SHAPE_BORDER_THICKNESS:"shpBdrThk",LINE_MARKER_SHOW:"lnMkShw",LINE_MARKER_SHAPE:"lnMkShp",LINE_MARKER_SIZE:"lnMkSz",LINE_MARKER_COLOR:"lnMkClr",LINE_MARKER_COLOR_EQUAL:"lnMkClrEq",LINE_MARKER_BORDER_COLOR:"lnMkBdrClr",PIE_EXPLODE:"pieExpl",DATA_LABELS_SHOW:"dlShw",DATA_LABELS_FONT_FAMILY:"dlFntFml",DATA_LABELS_FONT_SIZE:"dlFntSz",DATA_LABELS_FONT_STYLE:"dlFntStyle",DATA_LABELS_FONT_COLOR:"dlFntClr",REF_LABELS_FONT_FAMILY:"rfLnFntFml",REF_LABELS_FONT_SIZE:"rfLnFntSz",REF_LABELS_FONT_STYLE:"rfLnFntStyle",REF_LABELS_FONT_COLOR:"rfLnFntClr",LEGEND_BG_COLOR:"lgdBgFillClr",LEGEND_BG_FILL_STYLE:"lgdBgFillStyle",LEGEND_BG_FILL_EFFECT:"lgdBgFillEff",LEGEND_BG_FILL_TRANSPARENCY:"lgdBgFillTrans",LEGEND_FONT_SIZE:"lgdFntSz",LEGEND_FONT_FAMILY:"lgdFntFml",LEGEND_FONT_STYLE:"lgdFntStyle",LEGEND_FONT_COLOR:"lgdFntClr",LEGEND_BORDER_SHOW:"lgdBdrShw",LEGEND_BORDER_COLOR:"lgdBdrClr",LEGEND_BORDER_THICKNESS:"lgdBdrThk",LEGEND_BORDER_LINE_STYLE:"lgdBdrStyle",LEGEND_BORDER_LINE_COMBINED_STYLE:"lgdBdrCmbStyle",ALL_LINE_SHOW:"allLnShw",ALL_LINE_COLOR:"allLnClr",ALL_LINE_STYLE:"allLnStyle",ALL_LINE_COMBINED_STYLE:"allLnCmbStyle",ALL_LINE_THICKNESS:"allLnThk",ALL_AXIS_ORIGIN_LINE_SHOW:"axOriLnShw",ALL_AXIS_ORIGIN_LINE_COLOR:"axOriLnClr",ALL_AXIS_ORIGIN_LINE_COMBINED_STYLE:"axOriLnCmbStyle",X_AXIS_ORIGIN_LINE_SHOW:"xAxOriLnShw",X_AXIS_ORIGIN_LINE_COLOR:"xAxOriLnClr",X_AXIS_ORIGIN_LINE_STYLE:"xAxOriLnStyle",X_AXIS_ORIGIN_LINE_COMBINED_STYLE:"xAxOriLnCmbStyle",X_AXIS_ORIGIN_LINE_THICKNESS:"xAxOriLnThk",Y_AXIS_ORIGIN_LINE_SHOW:"yAxOriLnShw",Y_AXIS_ORIGIN_LINE_COLOR:"yAxOriLnClr",Y_AXIS_ORIGIN_LINE_STYLE:"yAxOriLnStyle",Y_AXIS_ORIGIN_LINE_COMBINED_STYLE:"yAxOriLnCmbStyle",Y_AXIS_ORIGIN_LINE_THICKNESS:"yAxOriLnThk",ALL_AXIS_LINE_SHOW:"allAxLnShw",ALL_AXIS_LINE_COLOR:"allAxLnClr",ALL_AXIS_LINE_STYLE:"allAxLnStyle",ALL_AXIS_LINE_COMBINED_STYLE:"allAxLnCmbStyle",ALL_AXIS_LINE_THICKNESS:"allAxLnThk",ALL_AXIS_TITLE_SHOW:"allAxTtShw",ALL_AXIS_TITLE_CONTENT:"allAxTtCtt",ALL_AXIS_TITLE_FONT_COLOR:"allAxTtFntClr",ALL_AXIS_TITLE_FONT_FAMILY:"allAxTtFntFml",ALL_AXIS_TITLE_FONT_STYLE:"allAxTtFntStyle",ALL_AXIS_TITLE_FONT_SIZE:"allAxTtFntSz",ALL_AXIS_LABELS_FONT_SIZE:"allAxLbFntSz",ALL_AXIS_LABELS_FONT_FAMILY:"allAxLbFntFml",ALL_AXIS_LABELS_FONT_STYLE:"allAxLbFntStyle",ALL_AXIS_LABELS_FONT_COLOR:"allAxLbFntClr",ALL_AXIS_LABELS_ROTATION:"allAxLbRtt",ALL_AXIS_LABELS_SHOW:"allAxLbShw",X_AXIS_LINE_SHOW:"xAxLnShw",X_AXIS_LINE_COLOR:"xAxLnClr",X_AXIS_LINE_STYLE:"xAxLnStyle",X_AXIS_LINE_COMBINED_STYLE:"xAxLnCmbStyle",X_AXIS_LINE_THICKNESS:"xAxLnThk",X_AXIS_TITLE_SHOW:"xAxTtShw",X_AXIS_TITLE_CONTENT:"xAxTtCtt",X_AXIS_TITLE_FONT_COLOR:"xAxTtFntClr",X_AXIS_TITLE_FONT_FAMILY:"xAxTtFntFml",X_AXIS_TITLE_FONT_STYLE:"xAxTtFntStyle",X_AXIS_TITLE_FONT_SIZE:"xAxTtFntSz",X_AXIS_LABELS_FONT_SIZE:"xAxLbFntSz",X_AXIS_LABELS_FONT_FAMILY:"xAxLbFntFml",X_AXIS_LABELS_FONT_STYLE:"xAxLbFntStyle",X_AXIS_LABELS_FONT_COLOR:"xAxLbFntClr",X_AXIS_LABELS_ROTATION:"xAxLbRtt",X_AXIS_LABELS_ROTATION_CUSTOM_ANGLE:"xAxLbAng",X_AXIS_LABELS_WRAP_TEXT:"xAxLbWrapText",X_AXIS_LABELS_SHOW:"xAxLbShw",X_AXIS_NESTED_LABEL:"xAxLbNestedLabel",Y_AXIS_LINE_SHOW:"yAxLnShw",Y_AXIS_LINE_COLOR:"yAxLnClr",Y_AXIS_LINE_STYLE:"yAxLnStyle",Y_AXIS_LINE_COMBINED_STYLE:"yAxLnCmbStyle",Y_AXIS_LINE_THICKNESS:"yAxLnThk",Y_AXIS_TITLE_SHOW:"yAxTtShw",Y_AXIS_TITLE_CONTENT:"yAxTtCtt",Y_AXIS_TITLE_FONT_COLOR:"yAxTtFntClr",Y_AXIS_TITLE_FONT_FAMILY:"yAxTtFntFml",Y_AXIS_TITLE_FONT_STYLE:"yAxTtFntStyle",Y_AXIS_TITLE_FONT_SIZE:"yAxTtFntSz",Y_AXIS_LABELS_FONT_SIZE:"yAxLbFntSz",Y_AXIS_LABELS_FONT_FAMILY:"yAxLbFntFml",Y_AXIS_LABELS_FONT_STYLE:"yAxLbFntStyle",Y_AXIS_LABELS_FONT_COLOR:"yAxLbFntClr",Y_AXIS_LABELS_ROTATION:"yAxLbRtt",Y_AXIS_LABELS_SHOW:"yAxLbShw",ALL_FILL_COLOR:"allFillClr",ALL_FILL_TRANSPARENCY:"allFillTrans",BG_COLOR:"bgFillClr",BG_FILL_EFFECT:"bgFillEff",BG_FILL_STYLE:"bgFillStyle",BG_FILL_TRANSPARENCY:"bgFillTrans",ROW_HEADER_FILL_COLOR:"rwHdrFillClr",ROW_HEADER_FILL_EFFECT:"rwHdrFillEff",ROW_HEADER_FILL_STYLE:"rwHdrFillStyle",ROW_HEADER_FILL_TRANSPARENCY:"rwHdrFillTrans",COLUMN_HEADER_FILL_COLOR:"colHdrFillClr",COLUMN_HEADER_FILL_EFFECT:"colHdrFillEff",COLUMN_HEADER_FILL_STYLE:"colHdrFillStyle",COLUMN_HEADER_FILL_TRANSPARENCY:"colHdrFillTrans",ALL_MATRIX_LINES_SHOW:"allMatrixLnShw",ALL_MATRIX_LINES_COLOR:"allMatrixLnClr",ALL_MATRIX_LINES_THICKNESS:"allMatrixLnThk",ALL_MATRIX_LINES_STYLE:"allMatrixLnStyle",ALL_MATRIX_LINES_COMBINED_STYLE:"allMatrixLnCmbStyle",V_MATRIX_LINES_SHOW:"vMatrixLnShw",V_MATRIX_LINES_COLOR:"vMatrixLnClr",V_MATRIX_LINES_THICKNESS:"vMatrixLnThk",V_MATRIX_LINES_STYLE:"vMatrixLnStyle",V_MATRIX_LINES_COMBINED_STYLE:"vMatrixLnCmbStyle",H_MATRIX_LINES_SHOW:"hMatrixLnShw",H_MATRIX_LINES_COLOR:"hMatrixLnClr",H_MATRIX_LINES_THICKNESS:"hMatrixLnThk",H_MATRIX_LINES_STYLE:"hMatrixLnStyle",H_MATRIX_LINES_COMBINED_STYLE:"hMatrixLnCmbStyle",OUTSIDE_BORDER_SHOW:"outBdrShw",OUTSIDE_BORDER_COLOR:"outBdrClr",OUTSIDE_BORDER_STYLE:"outBdrStyle",OUTSIDE_BORDER_THICKNESS:"outBdrThk",OUTSIDE_BORDER_COMBINED_STYLE:"outBdrCmbStyle",GRID_LINE_AUTO:"gridLineAuto",ALL_GRID_LINES_SHOW:"allGridLnShw",ALL_GRID_LINES_COLOR:"allGridLnClr",ALL_GRID_LINES_THICKNESS:"allGridLnThk",ALL_GRID_LINES_STYLE:"allGridLnStyle",ALL_GRID_LINES_COMBINED_STYLE:"allGridLnCmbStyle",AUTO_GRID_LINES_COLOR:"autoGridLnClr",AUTO_GRID_LINES_COMBINED_STYLE:"autoGridLnCmbStyle",MAJOR_GRID_LINES_SHOW:"majorGridLnShw",MAJOR_GRID_LINES_COLOR:"majorGridLnClr",MAJOR_GRID_LINES_THICKNESS:"majorGridLnThk",MAJOR_GRID_LINES_STYLE:"majorGridLnStyle",MAJOR_GRID_LINES_COMBINED_STYLE:"majorGridLnCmbStyle",MINOR_GRID_LINES_SHOW:"minerGridLnShw",MINER_GRID_LINES_COLOR:"minerGridLnClr",MINER_GRID_LINES_THICKNESS:"minerGridLnThk",MINER_GRID_LINES_STYLE:"minerGridLnStyle",MINER_GRID_LINES_COMBINED_STYLE:"minerGridLnCmbStyle",ALL_NGM_GRID_LINES_SHOW:"allNGMGridLnShw",X_GRID_LINES_SHOW:"xGridLnShw",Y_GRID_LINES_SHOW:"yGridLnShw",ALL_ROW_COLUMN_SHOW:"allRwColShw",COLUMN_TEXT_SHOW:"colTxtShw",ROW_TEXT_SHOW:"rwTxtShw",COLUMN_HEADER_SHOW:"colHdrShw",ROW_HEADER_SHOW:"rwHdrShw",COLUMN_VALUES_SHOW:"colVlShw",ROW_VALUES_SHOW:"rwVlShw",ALL_TEXT_FONT_COLOR:"allTxtFntClr",ALL_TEXT_FONT_SIZE:"allTxtFntSz",ALL_TEXT_FONT_FAMILY:"allTxtFntFml",ALL_TEXT_FONT_STYLE:"allTxtFntStyle",ALL_ROW_COLUMN_TEXT_FONT_COLOR:"allRwColTxtFntClr",ALL_ROW_COLUMN_TEXT_FONT_SIZE:"allRwColTxtFntSz",ALL_ROW_COLUMN_TEXT_FONT_FAMILY:"allRwColTxtFntFml",ALL_ROW_COLUMN_TEXT_FONT_STYLE:"allRwColTxtFntStyle",ALL_ROW_COLUMN_TEXT_ALIGNMENT_HORIZONTAL:"allRwColTxtAlignH",ALL_ROW_COLUMN_TEXT_ALIGNMENT_VERTICAL:"allRwColTxtAlignV",ROW_TEXT_TEXT_FONT_COLOR:"rwTxtTxtFntClr",ROW_TEXT_TEXT_FONT_SIZE:"rwTxtTxtFntSz",ROW_TEXT_TEXT_FONT_FAMILY:"rwTxtTxtFntFml",ROW_TEXT_TEXT_FONT_STYLE:"rwTxtTxtFntStyle",ROW_TEXT_TEXT_ALIGNMENT_HORIZONTAL:"rwTxtTxtAlignH",ROW_TEXT_TEXT_ALIGNMENT_VERTICAL:"rwTxtTxtAlignV",COLUMN_TEXT_TEXT_FONT_COLOR:"colTxtTxtFntClr",COLUMN_TEXT_TEXT_FONT_SIZE:"colTxtTxtFntSz",COLUMN_TEXT_TEXT_FONT_FAMILY:"colTxtTxtFntFml",COLUMN_TEXT_TEXT_FONT_STYLE:"colTxtTxtFntStyle",COLUMN_TEXT_TEXT_ALIGNMENT_HORIZONTAL:"colTxtTxtAlignH",COLUMN_TEXT_TEXT_ALIGNMENT_VERTICAL:"colTxtTxtAlignV",ROW_HEADER_TEXT_FONT_COLOR:"rwHdrTxtFntClr",ROW_HEADER_TEXT_FONT_SIZE:"rwHdrTxtFntSz",ROW_HEADER_TEXT_FONT_FAMILY:"rwHdrTxtFntFml",ROW_HEADER_TEXT_FONT_STYLE:"rwHdrTxtFntStyle",ROW_HEADER_TEXT_ALIGNMENT_HORIZONTAL:"rwHdrTxtAlignH",ROW_HEADER_TEXT_ALIGNMENT_VERTICAL:"rwHdrTxtAlignV",COLUMN_HEADER_TEXT_FONT_COLOR:"colHdrTxtFntClr",COLUMN_HEADER_TEXT_FONT_SIZE:"colHdrTxtFntSz",COLUMN_HEADER_TEXT_FONT_FAMILY:"colHdrTxtFntFml",COLUMN_HEADER_TEXT_FONT_STYLE:"colHdrTxtFntStyle",COLUMN_HEADER_TEXT_ALIGNMENT_HORIZONTAL:"colHdrTxtAlignH",COLUMN_HEADER_TEXT_ALIGNMENT_VERTICAL:"colHdrTxtAlignV",ROW_VAVLUE_TEXT_FONT_COLOR:"rwVlTxtFntClr",ROW_VAVLUE_TEXT_FONT_SIZE:"rwVlTxtFntSz",ROW_VAVLUE_TEXT_FONT_FAMILY:"rwVlTxtFntFml",ROW_VAVLUE_TEXT_FONT_STYLE:"rwVlTxtFntStyle",ROW_VAVLUE_TEXT_ALIGNMENT_HORIZONTAL:"rwVlTxtAlignH",ROW_VAVLUE_TEXT_ALIGNMENT_VERTICAL:"rwVlTxtAlignV",COLUMN_VAVLUE_TEXT_FONT_COLOR:"colVlTxtFntClr",COLUMN_VAVLUE_TEXT_FONT_SIZE:"colVlTxtFntSz",COLUMN_VAVLUE_TEXT_FONT_FAMILY:"colVlTxtFntFml",COLUMN_VAVLUE_TEXT_FONT_STYLE:"colVlTxtFntStyle",COLUMN_VAVLUE_TEXT_ALIGNMENT_HORIZONTAL:"colVlTxtAlignH",COLUMN_VAVLUE_TEXT_ALIGNMENT_VERTICAL:"colVlTxtAlignV",TITLE_FONT_COLOR:"ttlFntClr",TITLE_FONT_SIZE:"ttlFntSz",TITLE_FONT_FAMILY:"ttlFntFml",TITLE_FONT_STYLE:"ttlFntStyle",COLOR_SQUARE_COLOR:"clrSqrClr",SELECTION_LIMIT:"slctnLmt",CONTAINER_FIT_MODE:"cntrFitMode",SHOW_MODEBAR:"showModeBar",MEAN_SD:"meanSD",POINT_SIZE:"ptSize",PTSZ_TYPE:"ptSzType",JITTER:"jitter",JTR_TYPE:"jtrType",POINT_POS:"ptPos",PTPOS_TYPE:"ptPosType",SHOW_OUTLIERS:"shwOutliers",CUSTOM_BINS_MODE:"custMode",MANUAL_BINS_MODE:"manualBinsMode",RANGE_TYPE:"rangeType",NUM_BINS:"numBins",XBINS_START:"xBinsStart",XBINS_END:"xBinsEnd",XBINS_SIZE:"xBinsSize",HAS_UNCHECKED_AUTO:"hasUncheckedAuto",HAS_UNCHECKED_DATASET_RANGE:"hasUncheckedDstRng",DISPLAY_MODE:"displayMode",CONNECTION_LINE_STYLE:"connectionLnStyle",TOTAL_SHOW:"totalShw",TOTAL_LABEL:"totalLabel",INT_SUM_SHOW:"intSumShw",POSITIVE_COLOR:"posClr",NEGATIVE_COLOR:"negClr",START_COLOR:"startClr",TOTAL_COLOR:"totalClr",INT_SUM_COLOR:"intSumClr",INT_SUM_FULL:"intSumFull"}
	mstrmojo.gm.EnumAxis={DssAxisReserved:0,DssAxisRows:1,DssAxisColumns:2,DssAxisPages:3,DssAxisChapters:4,DssAxisAll:5}
	mstrmojo.gm.EnumCombinedLineStyle={NONE:99,THIN:1,THICK:2,DASHED:3,DOTTED:4}
	mstrmojo.gm.EnumSizeByType={SQUARE:1,CIRCLE:4}
	mstrmojo.gm.EnumTheme={DARK:0,LIGHT:1}
	mstrmojo.gm.EnumFitTo={NONE:1,AUTOMATIC:2,COMPACT:3,MANUAL:4}
	mstrmojo.gm.EnumAxisScale={GLOBAL:0,PERROWCOL:1,PERCELL:2,CUSTOM:3,DIFFERENT:4,SYNCHRONIZE:5}
	mstrmojo.gm.EnumShape={GENERIC:-1,AREA:0,BAR:1,LINE:2,STEPLINE:3,CIRCLE:4,RECTANGLE:5,SQUARE:6,TICK:7,PIESLICE:8,POLYGON:9,PIE:10,RING:11,DEFAULT:12,BULLET:13}
	mstrmojo.gm.EnumSubtype={AUTO:1,ABSOLUTE:2,STACKED:3,CLUSTERED:4,PERCENT:5}
	mstrmojo.gm.EnumDataLabels={HIDE:1,SHOW_VALUE_ONLY:2,SHOW_TEXT_ONLY:4,SHOW_BOTH_TEXT_VALUE:6,SHOW_PERCENT_ONLY:8,SHOW_BOTH_VALUE_PERCENT:10,SHOW_BOTH_TEXT_PERCENT:12,SHOW_TEXT_VALUE_PERCENT:14}
	mstrmojo.gm.EnumBarDataLabelPosition={AUTO:0,OUTSIDE_END:1,INSIDE_END:2,INSIDE_BASE:3}
	mstrmojo.gm.EnumPieDataLabelPosition={INSIDE:1,OUTSIDE:2}
	mstrmojo.gm.EnumLeaderLineMode={AUTO:1,SHOW:2,HIDE:3}
	mstrmojo.gm.EnumDataLabelPlacements={AUTOMATIC:1,GENERIC:2,RESERVED:3}
	mstrmojo.gm.EnumLegend={SHOW:0,HIDE:1,MINIMIZED:2}
	mstrmojo.gm.EnumLegendMode={RESTORED:1,MINIMIZED:2}
	mstrmojo.gm.EnumTextAlignH={LEFT:0,MIDDLE:1,RIGHT:2}
	mstrmojo.gm.EnumTextAlignV={TOP:0,MIDDLE:1,BOTTOM:2}
	mstrmojo.gm.EnumMaxSizeType={AUTO:1,MANUAL:2,AUTO_FIT:3}
	mstrmojo.gm.EnumMinSizeType={AUTO:1,MANUAL:2,PROPORTIONAL:3}
	mstrmojo.gm.EnumAxes={SHOW_BOTH:1,SHOW_NONE:2,SHOW_X:3,SHOW_Y:4}
	mstrmojo.gm.EnumMatrixLines={SHOW_ALL:1,SHOW_NONE:2,SHOW_HORIZONTAL:3,SHOW_VERTICAL:4}
	mstrmojo.gm.EnumGridLines={AUTO:1,SHOW:2,HIDE:3,SHOW_MAJOR_ONLY:4}
	mstrmojo.gm.EnumNGMGridLines={SHOW_Y:1,SHOW_X:2,SHOW:3,HIDE:4,AUTO:5}
	mstrmojo.gm.LineMarkerShape={Circle:4,Square:1}
	mstrmojo.gm.ShapeFillType={Solid:0,Gradient:14,Pattern:3}
	mstrmojo.gm.ShapeFillEffect={None:1,Bevel:2}
	mstrmojo.gm.Enum3DGMapping={SizeType:"9999_1002",SizeValue:"9999_1003",lgdBgFillClr:"6_564",lgdBgFillStyle:"6_10002",lgdBgFillEff:"6_608",lgdFntSz:"9_603",lgdFntFml:"9_576",lgdFntStyle:"9_584",lgdFntClr:"9_574",LegendVisibleness:"9999_116",xAxShw:"9999_124",xAxTtCtt:"293_9999",xAxTtFntClr:"293_574",xAxTtFntFml:"293_576",xAxTtFntStyle:"293_584",xAxLbFntSz:"272_603",xAxLbFntFml:"272_576",xAxLbFntStyle:"272_584",yAxShw:"9999_125",yAxTtCtt:"299_9999",yAxTtFntClr:"299_574",yAxTtFntFml:"299_576",yAxTtFntStyle:"299_584",yAxLbFntSz:"296_603",yAxLbFntFml:"296_576",yAxLbFntStyle:"296_584",bgFillClr:"1_564",bgFillEff:"1_879",bgFillTrans:"1_608",outBdrClr:"1_588"}
	mstrmojo.gm.EnumRefLineModelType={MAX:1,MIN:2,AVG:3,MED:4,FIRST:5,LAST:6,CONST:7}
	mstrmojo.gm.EnumTrendLineModelType={BEST_FIT:256,LINEAR:257,LOG:258,EXP:259,POW:260,POLY:261}
	mstrmojo.gm.EnumTrendRefLevel={DssModelLevelReserved:0,DssModelLevelPerCell:1,DssModelLevelPerRow:2,DssModelLevelPerColumn:3,DssModelLevelPerPanel:4,DssModelLevelLastOne:5}
	mstrmojo.gm.EnumTimeRole={None:0,YearOfDecade:3083,QuarterOfYear:2826,MonthOfYear:2825,MonthOfQuarter:2569,WeekOfYear:2824,WeekOfQuarter:2568,WeekOfMonth:2312,DayOfYear:2823,DayOfQuarter:2567,DayOfMonth:2311,DayOfWeek:2055,HourOfDay:1798,MinuteOfDay:1797,MinuteOfHour:1541,SecondOfDay:1796,SecondOfHour:1540,SecondOfMinute:1284}
	mstrmojo.gm.EnumTrendRefModelLabels={DssModelLabelsReserved:-1,DssModelLabelsNone:0,DssModelLabelsType:1,DssModelLabelsMetric:2,DssModelLabelsValue:4}
	mstrmojo.gm.EnumTRFManipulations={AddTRLine:"141",RemoveTRLine:"142",UpdateTRLine:"143",UpdateForecastInfo:"144"}
	mstrmojo.gm.EnumShapeFormatStatus={NORMAL:0,PER_COLORBY:1,PER_SHAPE:2}
	mstrmojo.gm.EnumNGMSubtype={CLUSTERED:0,STACKED:1,PERCENT:2}
	mstrmojo.gm.EnumBoxPlotMean={NO_MEAN:0,ONLY_MEAN:1,MEAN_STDEV:2}
	mstrmojo.gm.EnumBoxPlotOutliers={OUTLIERS:0,ALL_POINTS:1,JITTER:0,JTR_MAN:0.5,POINT_POS:0,POS_MAN:-1.8,POINT_SIZE:6,SIZE_MAN:10,MANUAL:1}
	mstrmojo.gm.EnumHistogram={AUTOMATIC:1,MANUAL:0,CUST_INPUT:2,DATASET:3,BY_BIN_SIZE:4,BY_BIN_NUMBER:5}
	mstrmojo.gm.EnumContainerFitModes={AUTOMATIC:0,FIT_TO_CONTAINER:1,FIT_TO_CONTENT:2}
	mstrmojo.gm.GMConstants={DP_WARNING_THRESHOLD:2000}
	mstrmojo.gm.EnumDefaultProperty={PIE_DATA_LABEL_LEADER_LINE:mstrmojo.gm.EnumLeaderLineMode.AUTO,PIE_USE_NEW_SIZE_RATIO:1,ORDINAL_XAXIS_LABEL_ROTATION:1,X_AXIS_LABELS_WRAP_TEXT:true,PIE_SORT_ORDER:4,BAR_DATA_LABEL_POSITION:mstrmojo.gm.EnumBarDataLabelPosition.AUTO,X_AXIS_NESTED_LABEL:true,GM_OPT_1132:true}
	mstrmojo.gm.EnumFeatureFlags={ftFgGrpA:{ApplyOriginalFitTo:1,UseWaterfallNewMode:2,EnableSmartOrdinalXAxisLabel:4,HideGMLegendByDefault:8,ApplyMetricNamesOnAxisToRowColumn:16,DataLabelMultiInfo:32,EnableYLabelWrap:64,DataLabelOpt:128}}
	mstrmojo.vi.viz.EnumWidgetTypes={GRID:0,GRAPH_MATRIX:1,HEATMAP:2,NETWORK:3,IMAGELAYOUT:4,ESRIMAP:5,GOOGLEMAP:6,CUSTOM:7,MAPBOX:8,KPICARD:9}
	(function(){function B(J,E){if(!E.domNode){return 0
	}var K="_fixed"+J
	if(E[K]){return E[K]
	}var H=E.getFormats(),I=J.toLowerCase()
	if(H&&H.hasOwnProperty(I)){var F=H[I]
	if(F.charAt(F.length-1)!=="%"){var G=parseInt(F,10)
	if(!isNaN(G)){E[K]=G
	return G
	}}}return(E.domNode["client"+J]||0)
	}mstrmojo._ContainsDocObjects=mstrmojo.provide("mstrmojo._ContainsDocObjects",{getHeight:function D(){return B("Height",this)
	},getWidth:function A(){return B("Width",this)
	},getMaxZIndex:function C(){var F=0
	mstrmojo.array.forEach(this.children,function E(G){F=Math.max(F,parseInt(G.getFormats()["z-index"],10))
	})
	return F
	}})
	}())
	mstrmojo.mstr.EnumNodeProperties={NORMAL:0,DRILL:1,CONDITION:2}
	mstrmojo.chart.enums.EnumGraphMajorType={GMT_INVALID:0,GMT_CATEGORY:1,GMT_PIE:2,GMT_SCATTER:3,GMT_POLAR:4,GMT_RADAR:5,GMT_BUBBLE:6,GMT_STOCK:7,GMT_HISTOGRAM:8,GMT_GAUGE:9,GMT_FUNNEL:10,GMT_BOX:11,GMT_GANTT:12,GMT_SPECTRAL:13,GMT_TABLE:14,GMT_3D_CATEGORY:15,GMT_3D_SCATTER:16,GMT_GRID:17}
	mstrmojo.vi.enums.EnumFeatures={SUPPORT_RESPONSIVE:"support-responsive",INFO_WINDOW:"support-info-window",PANEL_STACK:"support-dossier-panelstack",PANEL_STACK_COPY_MOVE:"support-dossier-panelstack-copy-move",X_PANEL_STACK_MOVE:"support-dossier-move-across-panelstack",SUPPORT_RESPONSIVE_RESIZING:"support-responsive-resizing",SUPPORT_GHOST_IMG:"support-ghost-img",SUPPORT_NLP:"use-natural-language",SUPPORT_CONDITION_METRIC:"support_condition_metric",USE_WORKSTATION_NAMING_STYLE:"use-workstation-naming-style",SUPPORT_TOC_UPDATEPOISITION:"support-toc-updatePosition",SUPPORT_LIVEMODE:"support-livemode",SUPPORT_FREE_FORM_LAYOUT:"support-free-form-layout",NUMBER_FORMATTING:"number-formatting",SAVE_ANALYSIS:"save-analysis",INSERT_NEW_METRIC:"insert-new-metric",DATA_ENGINE_VERSION:"data-engine-version",WEB_DRILL_AND_LINK:"web-drill-and-link",WEB_IMPORT_DATABASE:"web-import-database",APPSCHEMA:"enable-app-schema",USE_METRIC_EDITOR:"use-metric-editor",USE_SUPER_GRID:"use-super-grid",USE_SUPER_GRID_DEV:"use-super-grid-dev",USE_MICROCHART:"use-microchart",SUPPORT_METRICS_IN_ROWS:"support-metrics-in-rows",SUPPORT_MULTI_XTAB_DUPLICATE:"support-multi-xtab-duplicate",CREATE_APP_OBJ:"create-app-object",SUPPORT_AMSELECTOR:"support-amselector",DOSSIER_LINKING:"dossier_linking",TEXT_IMAGE_DOSSIER_LINKING:"text_image_dossier_linking",CREATE_SURVEY:"create-survey",M2020_VERSION:"m2020-version",DUP_FIELD:"duplicate-field",DYNAMIC_SEL_AND_SORT:"dynamic-sel-and-sort",GRID_PROPERTY:"grid-Props",COMPOUND_GRID_LINKING:"compound-grid-linking",SUPPORT_DATA_SOURCE_STATE:"support-data-source-state",DOSSIER_LEVEL_FILTER:"dossier-level-filter",DOSSIER_PDF_TABLE_OF_CONTENTS:"dossier-pdf-toc",DOSSIER_PDF_GRID_PAGING_MODE:"dossier-pdf-grid-paging-mode",DOSSIER_REACT_FORMAT_PANEL:"show-react-dossier-format",RICH_TEXT:"use-richtextbox",FILL_OPACITY:"fill-opacity",SHOW_VIEW_IN_LIBRARY:"show-view-in-library",SUPPORT_ANSWER_PROMPT_WITH_FILTER_PANEL_SELECTIONS:"support-answer-prompt-with-filter-panel-selections",MODIFY_ALLOW_HTML_CONTENT:"modify-allow-html-content",CREATE_HTML_CONTAINER:"create-html-container",ENCODE_HTML_CONTENT:"encode-html-content",SERVER_CAN_RESTRICT_HTML_CONTENT:"server-can-restrict-html-content",ALLOW_DOSSIER_TIMEZONE:"allow-dossier-timezone",ENABLE_SURVEY:"features.dossier-survey-widget",ENV_ALLOWS_CUSTOM_HTML:"features.dossier-custom-html-js",MAP_ESRI:"features.mapping-esri",MAP_GOOGLE:"features.mapping-google",MAP_MAPBOX:"features.mapping-mapbox"}
	mstrmojo.vi.enums.DefaultFeatureValues={"features.mapping-esri":true,"features.mapping-google":true,"features.mapping-mapbox":true,"features.dossier-survey-widget":true,"features.dossier-custom-html-js":true}
	(function(){mstrmojo.mstr.search._IconCssClassBuilder=mstrmojo.provide("mstrmojo.mstr.search._IconCssClassBuilder",{_mixinName:"mstrmojo.mstr.search._IconCssClassBuilder",getIconCssClass:function A(B){B=B||this.data
	return B.ccss||("t"+B.t+(B.st?" st"+B.st:"")+(B.isc?" isc":"")+(B.dvm?" dvm"+B.dvm:""))
	}})
	}())
	mstrmojo.mstr.EnumDSSXMLBaseFormType={DssXmlBaseFormReserved:0,DssXmlBaseFormHidden:-1,DssXmlBaseFormDateTime:1,DssXmlBaseFormNumber:2,DssXmlBaseFormText:3,DssXmlBaseFormPicture:4,DssXmlBaseFormUrl:5,DssXmlBaseFormEmail:6,DssXmlBaseFormHTMLTag:7,DssXmlBaseFormDate:8,DssXmlBaseFormTime:9,DssXmlBaseFormSymbol:10,DssXmlBaseFormBigDecimal:11,DssXmlBaseFormPhoneNumber:12}
	mstrmojo.mstr.EnumDSSXMLBaseFormType.convertDataType2BaseFormType=function(B){var A={0:2,1:2,2:2,3:2,4:2,5:2,6:2,7:2,8:3,9:3,10:3,11:2,12:2,13:2,14:8,15:9,16:1,17:3,18:3,21:2,22:2,23:3,30:11,31:2,33:3,34:2}
	return A[B]||0
	}
	(function(){mstrmojo._IsGraphDataService=mstrmojo.provide("mstrmojo._IsGraphDataService",{handleUserSingleTap:function A(D,E,B,G,C,F){if(mstrApp.onMobileDevice()){mstrApp.serverRequest({taskId:"handleUserSingleTap",sliceID:D,nodekey:E,x:B,y:G,selectable:C},F)
	}}})
	}())
	(function(){var A=400,B=1500
	mstrmojo._CanHandleTwoClicks=mstrmojo.provide("mstrmojo._CanHandleTwoClicks",{firstClickTimeStamp:undefined,firstClickTarget:undefined,onclick:function(D){var E=new Date(),C=E.getTime()
	if(E-this.firstClickTimeStamp<B&&E-this.firstClickTimeStamp>A){D.secondTarget=D.getTarget()
	D.firstTarget=this.firstClickTarget
	this.onTwoClicks(D)
	D.cancel()
	}else{this.firstClickTarget=D.getTarget()
	this.firstClickTimeStamp=C
	}if(this._super){this._super(D)
	}},onTwoClicks:mstrmojo.emptyFn})
	}())
	mstrmojo.vi.viz.EnumVizStyles={GRAPH_MATRIX:"GraphMatrixVisualizationStyle",NETWORK:"NetworkVisualizationStyle",HEAT_MAP:"VIHeatMapVisualizationStyle",GOOGLE_MAP:"GoogleMapVisualizationStyle",ESRI_MAP:"ESRIMapVisualizationStyle",IMAGE_LAYOUT:"ImageLayoutVisualizationStyle",NEW_GRAPH_MATRIX:"NewGraphMatrixVisualizationStyle",MAPBOX:"MapboxVisualizationStyle",KPICARD:"KPICardVisualizationStyle"}
	(function(){mstrmojo._HasPopup=mstrmojo.provide("mstrmojo._HasPopup",{_mixinName:"mstrmojo._HasPopup",_lastOpened:null,openPopup:function A(G,E){var C=!!G&&(typeof G==="string")&&!G.match(/\./)&&!!this[G],D=mstrmojo.registry.ref(C?this[G]:G)
	if(D&&D.open){if(C){this[G]=D
	}if(D.disposable!==false){this.addDisposable(D)
	}var J=D.slot&&this[D.slot]
	if(J){if(D.parent!==this){if(this.addChildren){this.addChildren([D])
	}else{var I=false,F=D.domNode||D.placeholder
	if(F&&typeof F==="string"){F=document.getElementById(F)
	}if(!F){I=true
	F=document.createElement("span")
	D.placeholder=F
	}if(I||(F.parentNode!==J)){J.appendChild(F)
	}}}}try{D.open(this,E)
	}catch(H){console.log("Error opening popup: "+H)
	}this._lastOpened=D
	}},closePopup:function B(){var C=this._lastOpened
	if(C&&C.visible&&C.close){C.close()
	delete this._lastOpened
	}}})
	}())
	(function(){mstrmojo.models.template.Title=mstrmojo.declare(null,null,{init:function G(J){this.title=J.title
	},getActionType:function(){return this.title.at
	},getDrillPath:function(){return this.title.dp
	},getHeaderValues:function B(){return this.title.es
	},getHeaderName:function F(J){return this.title.es[J].n
	},getHeaderId:function F(J){return this.title.es[J].id
	},getForms:function E(){return this.title.fs
	},getFormId:function D(){return this.title.fid
	},getFormType:function I(){return this.title.ftp
	},getUnitId:function H(){return this.title.id
	},getLinkMap:function C(){return this.title.lm
	},getName:function A(){return this.title.n
	},getUnitDssType:function(){return this.title.otp
	},getSelectorControl:function(){return this.title.sc
	}})
	}())
	mstrmojo.mstr.EnumDSSXMLObjectTypes={Generic:-2,Unknown:-1,Reserved:0,Filter:1,Template:2,ReportDefinition:3,Metric:4,Style:6,AggMetric:7,Folder:8,SubscriptionDevice:9,Prompt:10,Function:11,Attribute:12,Fact:13,Dimension:14,Table:15,DatamartReport:16,FactGroup:17,Shortcut:18,Resolution:19,Monitor:20,AttributeForm:21,Schema:22,Format:23,Catalog:24,CatalogDefn:25,Column:26,PropertySet:28,DBRole:29,DBLogin:30,DBConnection:31,Project:32,ServerDef:33,User:34,Configuration:36,Request:37,Script:38,Search:39,SearchFolder:40,Datamart:41,FunctionPackageDefinition:42,Role:43,SecurityRole:44,Locale:45,Consolidation:47,ConsolidationElement:48,ScheduleEvent:49,ScheduleObject:50,ScheduleTrigger:51,Link:52,DbTable:53,TableSource:54,DocumentDefinition:55,DrillMap:56,DBMS:57,MDSecurityFilter:58,PromptAnswer:59,PromptAnswers:60,ObjectTag:65,ReservedLastOne:66}
	mstrmojo.vi.controllers.EnumEvents={UPDATE_TOC:"updateTOC",MANIPULATE_LAYOUT:"layoutManipulation",MANIPULATE_PANEL:"panelManipulation",LAST_MODIFIED_CHANGE:"lastModifiedChange",CHANGE_COVER_IMAGE:"changeCoverImage",WSITEM_DRAG_OVER:"WSItemDragOver",WSITEM_DRAG_ENTER:"WSItemDragEnter",WSITEM_DRAG_EXIT:"WSItemDragExit",WSITEM_DROP:"WSItemDrop",CONTENTS_PANEL_VISIBILITY_CHANGE:"contentPanelVisibilityChange",DO_LAYOUT:"doLayout",SELECT_PAGE:"viPageSelected",SELECT_UNIT:"viUnitSelected"}
	mstrmojo.vi.enums.EnumFilterClearActionType={CLEAR_ALL:0,CLEAR_KEEP_ONLY:1,CLEAR_ADV_QUALIFICATION:2,CLEAR_LINKING:3,CLEAR_KEEP_ONLY_AND_LINKING:4,CLEAR_DRILLING:5,CLEAR_DOSSIER_LINKING:6}
	(function(){function D(K){var J=this.h.idx
	if(J!==-1){return this.t.es[J][K]
	}return""
	}mstrmojo.models.template.Header=mstrmojo.declare(null,null,{init:function H(J){this.h=J.h
	this.t=J.t
	},getName:function A(){return D.call(this,"n")
	},getElementId:function I(){return D.call(this,"id")
	},getObjectId:function B(){return D.call(this,"oid")
	},getElementIndex:function G(){return this.h.idx
	},getActionType:function F(){return this.h.at
	},isTotal:function E(){return this.h.otr===1
	},getFormIndex:function C(){return this.h.fi
	}})
	}())
	mstrmojo.vi.enums.EnumCanvasSizeType={AUTOMATIC:1,FIXED_VALUE_RESOLUTION:2,RANGE_RESOLUTION:3,FIXED_ASPECT_RATIO:4}
	(function(){mstrmojo.models.template.MetricValue=mstrmojo.declare(null,null,{init:function G(H){this.data=H.data
	this.value=H.value
	},getValue:function B(){return this.value.v
	},getThresholdType:function D(){return this.value.ty
	},getRawValue:function A(){return this.value.rv
	},getCSS:function C(){return this.data.css[this.value.cni].n
	},getThresholdValue:function F(H){if(this.value.ti===undefined){return H
	}return this.data.th[this.value.ti].n
	},getFillColor:function E(H){if(this.value.ci===undefined){return H
	}return this.data.fc[this.value.ci].n
	}})
	}())
	(function(){if(!mstrmojo.LoadedExternalJSURLs){mstrmojo.LoadedExternalJSURLs={}
	}var LOADING_STATUS={LOADING:0,LOADED:1}
	function getUrl4AllPlatform(url){if(url.substr(0,7)==="file://"){url=url.substr(7)
	}else{if(mstrApp.isSingleTier&&url.substr(0,4)!=="http"){url="http:"+url
	}}return url
	}window.LoadScriptsExternalJSCallback=function(){mstrmojo.LoadedExternalJSURLs[mstrmojo._LoadsScript.esScripts.splice(0,1)[0].url]={status:LOADING_STATUS.LOADED}
	mstrmojo._LoadsScript.requiresExternalScripts(mstrmojo._LoadsScript.esScripts,mstrmojo._LoadsScript.callback,mstrmojo._LoadsScript.esScritsContext)
	mstrmojo._LoadsScript.ExternalJSCallbackIsBusy=false
	}
	if(!mstrmojo._LoadsScript){mstrmojo._LoadsScript=mstrmojo.provide("mstrmojo._LoadsScript",{_meta_usesSuper:false,requiresMethod:function requiresMethod(n){if(!n){return false
	}if(typeof this[n]==="function"){return true
	}var fqcn=this[n]||(this.methods&&(this.methods[n]||this.methods["*"]))
	if(typeof fqcn==="string"){this.requiresCls(fqcn)
	return typeof this[n]==="function"
	}return false
	},requiresCls:function req(mixins,callback){if(mixins){if(typeof mixins==="string"){mixins=[mixins]
	}mstrmojo.requiresCls.apply(mstrmojo,mixins)
	var p=this.constructor.prototype,pm=p.mixins
	if(!pm){p.mixins={}
	pm=p.mixins
	}var mx=mstrmojo.mixin,i,len
	for(i=0,len=mixins.length
	i<len
	i++){var fqcn=mixins[i]
	if(!pm[fqcn]){var m=eval(mixins[i])
	mx(m,p)
	pm[fqcn]=true
	if(m.__onmixin__){m.__onmixin__.apply(this,[])
	}}}if(callback){callback.apply(this,[])
	}}},requiresContrib:function reqCb(propName,bForceStartup){var fqcn=this[propName]
	if(fqcn){var c,firstTime=false
	if(typeof fqcn==="string"){c=mstrmojo.registry.ref(fqcn)
	this[propName]=c
	firstTime=true
	}else{c=fqcn
	}if(c&&(firstTime||bForceStartup)){c.parent=this
	if(c.startup){c.startup()
	}}return c
	}return null
	},requiresExternalScripts:function requiresExternalScripts(esScripts,callback,context){if(esScripts&&esScripts instanceof Array){if(esScripts.length===0){if(callback){callback.call(context)
	}return false
	}var nextScriptConfig=esScripts[0],originalUrl=nextScriptConfig&&nextScriptConfig.url,scriptLoadedInfo=mstrmojo.LoadedExternalJSURLs[originalUrl],onScriptLoaded=function(){esScripts.splice(0,1)
	return this.requiresExternalScripts(esScripts,callback,context)
	}.bind(this)
	if(nextScriptConfig&&nextScriptConfig.forceReload===false&&scriptLoadedInfo){if(scriptLoadedInfo.status===LOADING_STATUS.LOADED){return onScriptLoaded()
	}else{return scriptLoadedInfo.onLoadedCallbacks.push(onScriptLoaded)
	}}var script=document.createElement("script"),isIE=!!document.all,onError=nextScriptConfig.onError
	script.type="text/javascript"
	script.src=getUrl4AllPlatform(originalUrl)
	if(onError){script.onerror=function(){if(onError&&onError.callback&&context){onError.callback.call(context,onError.params)
	}}
	}var callbackParamName=nextScriptConfig.callbackParamName
	if(!callbackParamName){var onScriptFirstLoaded=function(){var loadedInfo=mstrmojo.LoadedExternalJSURLs[nextScriptConfig.url],onLoadedCallbacks=loadedInfo&&loadedInfo.onLoadedCallbacks
	loadedInfo.status=LOADING_STATUS.LOADED
	onScriptLoaded()
	if(loadedInfo&&onLoadedCallbacks.length>0){var i=0
	for(
	i<onLoadedCallbacks.length
	i++){onLoadedCallbacks[i]()
	}loadedInfo.onLoadedCallbacks=[]
	}}
	if(isIE){script.onreadystatechange=function(){if(script.readyState==="loaded"||script.readyState==="complete"){script.onreadystatechange=null
	script.onerror=null
	onScriptFirstLoaded()
	}}
	}else{script.onload=function(){script.error=null
	script.onload=null
	onScriptFirstLoaded()
	}
	}}else{if(callbackParamName.length!==0){if(mstrmojo._LoadsScript.ExternalJSCallbackIsBusy&&mstrmojo._LoadsScript.ExternalJSCallbackIsBusy===true){var that=this
	window.setTimeout(function(){that.requiresExternalScripts(esScripts,callback,context)
	},500)
	return 
	}mstrmojo._LoadsScript.ExternalJSCallbackIsBusy=true
	script.src+="&"+callbackParamName+"=LoadScriptsExternalJSCallback"
	mstrmojo._LoadsScript.esScripts=esScripts
	mstrmojo._LoadsScript.callback=callback
	mstrmojo._LoadsScript.esScritsContext=context
	}}mstrmojo.LoadedExternalJSURLs[originalUrl]={status:LOADING_STATUS.LOADING,onLoadedCallbacks:[]}
	document.getElementsByTagName("head")[0].appendChild(script)
	}}})
	}}())
	(function(){mstrmojo.requiresDescs(2121,2122,2125,2127,2123,2124,2126,2128,2129,2130)
	var A=mstrmojo.desc
	mstrmojo.EnumSubtotals={}
	mstrmojo.EnumSubtotals.TYPES=[{n:A(2121,"Total"),v:-10},{n:A(2122,"Average"),v:-12},{n:A(2125,"Maximum"),v:-14},{n:A(2127,"Minimum"),v:-13},{n:A(2123,"Count"),v:-11},{n:A(2124,"Geometric Mean"),v:-20},{n:A(2126,"Median"),v:-16},{n:A(2128,"Mode"),v:-17},{n:A(2129,"Product"),v:-15},{n:A(2130,"Standard Deviation"),v:-18},{n:A(2132,"Variance"),v:-19}]
	})()
	(function(){var C="xviPopopNode"
	function A(G){var H={}
	H[C]=G
	return H
	}mstrmojo.ui.menus._IsMenuPopup=mstrmojo.provide("mstrmojo.ui.menus._IsMenuPopup",{init:function E(G){this._super(G)
	var J=this.popupConfig
	if(!J){throw new Error("Cannot instantiate popup without supplying the popupConfig property.")
	}this.addDisposable(J)
	var H=mstrmojo.all[J.hostId],I=J.hostElement
	if(J.isHostedWithin&&H&&I){H.addSlots(A(I))
	this.slot=C
	}},closeAllMenus:function F(){var G=this.opener
	if(G&&G.closePopup){G.closePopup()
	}if(G&&G.closeAllMenus){G.closeAllMenus()
	}},open:function B(H,G){if(this._super){this._super(H,G)
	}},close:function D(G){if(this.slot===C){this.opener.removeSlots(A(null))
	}if(this._super){this._super(G)
	}var H=mstrmojo.all[this.popupConfig.hostId]
	if(H){H.closePopup()
	}this.destroy()
	}})
	}())
	mstrmojo.vi.models.EnumFieldTypes={SHAPE:1,IMAGE:2,TEXT:3,HTML_CONTAINER:10,}
	mstrmojo.vi.enums.EnumVisFilterType={KEEP_ONLY:0,ADV_QUALIFICATION:1,LINKING:2,DRILLING:3,DOSSIER_LINKING:4}
	(function(){var B=1,C=2,A=4
	mstrmojo._IsThresholdConditionTarget=mstrmojo.provide("mstrmojo._IsThresholdConditionTarget",{_mixinName:"mstrmojo._IsThresholdConditionTarget",update:function D(G){var E=G.data.tta
	var F=(E&B)>0,H=(E&C)>0
	if(F&&this.preservedEnabled===undefined){this.preservedEnabled=!!this.enabled
	}if(H&&this.preservedVisible===undefined){this.preservedVisible=!!this.visible
	}this.set("enabled",F?false:this.preservedEnabled!==undefined?this.preservedEnabled:this.enabled)
	this.set("visible",H?false:this.preservedVisible!==undefined?this.preservedVisible:this.visible)
	this.set("required",(E&A)>0)
	if(this._super){this._super(G)
	}}})
	}())
	mstrmojo.EnumReadystate={IDLE:1,WAITING:3,ERROR:4,SUCCESS:5,CANCELLED:6,TIMEOUT:7}
	(function(){mstrmojo.StringBuffer=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.StringBuffer",append:function A(C){if(!this.buf){this.reset()
	}this.buf[++this.len]=C
	return this
	},reset:function B(){this.buf=[]
	this.len=-1
	}})
	mstrmojo.StringBuffer.prototype.toString=function(D){var C=this.buf
	return(C&&C.join(D||""))||""
	}
	}())
	mstrmojo.chart.model.enums.EnumDSSGraphDataTextShowType={DssGraphDataTextNone:0,DssGraphDataTextValue:1,DssGraphDataTextLabel:2,DssGraphDataTextBoth:3,DssGraphDataTextAbs:4,DssGraphDataTextAbsValue:5,DssGraphDataTextAbsBoth:7,DssGraphDataTextTotal:8,DssGraphDataTextZValue:16,DssGraphDataTextPercent:32,DssGraphDataTextYValue:64,DssGraphDataTextInternal:128,DssGraphDataTextSeriesDependent:256,DssGraphDataTextQualityObjectMode:512}
	(function(){mstrmojo.vi._MonitorsAppState=mstrmojo.provide("mstrmojo.vi._MonitorsAppState",{onAppStateChange:function(B){if(this._super){this._super(B)
	}},init:function A(B){this._super(B)
	if(mstrApp.attachEventListener){mstrApp.attachEventListener("appStateChange",this.id,"onAppStateChange")
	}}})
	}())
	(function(){function B(L,Q,N){var M,O
	M=0
	if(N){M=Math.max(L,L-Q)
	M=Math.max(M,-Q)
	}else{M=L-Q
	}if(M===0){this.mIsShown=false
	return 1
	}var P=M
	O=1
	while(M<1){M*=10
	O/=10
	}while(M>=10){M/=10
	O*=10
	}if(M<1.8){O*=2
	O/=10
	}else{if(M<3.1){O*=4
	O/=10
	}else{if(M<4.6){O*=5
	O/=10
	}else{if(M>=8.1){O*=2
	}}}}return O
	}function K(P){var L,N
	this.mStep=B.call(this,this.mMaximum,this.mMinimum,P.mAlwaysIncludeZero)
	this.mMaxTick=Math.ceil(this.mMaximum/this.mStep)*this.mStep
	this.mMinTick=Math.floor(this.mMinimum/this.mStep)*this.mStep
	this.mMinTick=(this.mMinTick*this.mMinimum<0)?0:this.mMinTick
	if(P.mAlwaysIncludeZero){this.mMaxTick=(this.mMaximum<0)?0:this.mMaxTick
	this.mMinTick=(this.mMinimum>0)?0:this.mMinTick
	}var M=this.mMaxTick-this.mMinTick
	if(this.mStep>=M){return 
	}L=Math.floor((this.mMaxTick-this.mMinTick+this.mStep/100)/this.mStep)+1
	for(N=1
	N<L-1
	++N){var O=this.mMinTick+N*this.mStep
	this.mTicks.push(O)
	}}function C(M){var L
	this.mMaxTick=1
	this.mStep=this.mMinimum<0?0.2:0.1
	if(M.mUseCustomMinMax){this.mMaxTick=M.mAxisMaxValue
	this.mMinTick=M.mAxisMinValue
	this.mMaxTick=Math.min(1,this.mMaxTick)
	this.mMinTick=Math.max(-1,this.mMinTick)
	this.mStep=0.1
	}else{if(this.mMaximum>=0.5){this.mMaxTick=1
	this.mMinTick=Math.floor(this.mMinimum/this.mStep)*this.mStep
	this.mMinTick=(this.mMinTick*this.mMinimum<0)?0:(this.mMinTick>0?0:this.mMinTick)
	if(this.mMinimum<-0.5){this.mMinTick=-1
	}}else{if(this.mMaximum>0){this.mMaxTick=Math.ceil(this.mMaximum/this.mStep)*this.mStep
	this.mMinTick=-1
	}else{this.mStep=0.1
	this.mMaxTick=0
	this.mMinTick=-1
	}}}for(L=this.mMinTick+this.mStep
	L+0.01<this.mMaxTick
	L+=this.mStep){this.mTicks.push(Math.round(L*100)/100)
	}}function I(L){return Math.log(L)/Math.log(10)
	}function H(O){var N,L,M
	this.mStep=1
	if(this.mMaximum<=0){this.mMinTick=1
	this.mMaxTick=10
	return 
	}if(this.mMinimum<=0){L=this.mMaximum>1?0:-1
	this.mMinTick=Math.pow(10,L)
	if(O.mUseCustomMinMax){this.mMaxTick=this.mMaximum
	N=Math.floor(I.call(this,this.mMaximum))
	if(I.call(this,this.mMaximum)===N){N--
	}}else{N=Math.ceil(I.call(this,this.mMaximum))
	this.mMaxTick=Math.pow(10,N)
	}for(M=L+1
	M<N
	++M){this.mTicks.push(Math.pow(10,Math.floor(M)))
	}return 
	}if(O.mUseCustomMinMax){N=I.call(this,this.mMaximum)
	L=I.call(this,this.mMinimum)
	this.mMaxTick=this.mMaximum
	this.mMinTick=this.mMinimum
	}else{N=Math.ceil(I.call(this,this.mMaximum))
	L=Math.floor(I.call(this,this.mMinimum))
	this.mMaxTick=Math.pow(10,N)
	this.mMinTick=Math.pow(10,L)
	}for(M=L+1
	M<N
	++M){this.mTicks.push(Math.pow(10,Math.floor(M)))
	}}function J(L){this.mTicks.splice(0,this.mTicks.length)
	if(this.mIsPercent){return C.call(this,L)
	}if(L.mUseLogarithmicScale){return H.call(this,L)
	}K.call(this,L)
	}function G(Q){if(Q.mUseCustomMinMax||Q.mUseLogarithmicScale){return 
	}var M=0.1,O=false,L=false,P=[]
	this.GetTicks(P)
	if(P.length>=2){var N=P.length
	L=((Math.abs(this.mMaximum-P[N-2])<M*this.mStep))
	O=((Math.abs(this.mMinimum-P[1])<M*this.mStep))
	if(this.mIsPercent){L=false
	}}if(L&&O){this.mMinTick=this.mMinimum
	this.mMaxTick=this.mMaximum
	Q.mUseMinValue=Q.mShowMinLabel=true
	Q.mUseMaxValue=Q.mShowMaxLabel=true
	}else{if(L){this.mMaxTick=this.mMaximum
	Q.mUseMaxValue=Q.mShowMaxLabel=true
	}else{if(O){this.mMinTick=this.mMinimum
	Q.mUseMinValue=Q.mShowMinLabel=true
	}else{}}}if(Q.mAlwaysIncludeZero){this.mMaxTick=(this.mMaximum<0)?0:this.mMaxTick
	this.mMinTick=(this.mMinimum>0)?0:this.mMinTick
	}}mstrmojo.chart.common.ScalePlate=mstrmojo.provide("mstrmojo.chart.common.ScalePlate",{mOptions:{mShowMinLabel:true,mShowMaxLabel:true},isStackedChart:false,mStep:0,mIsPercent:false,mMinimum:0,mMaximum:0,mMaxTick:0,mMinTick:0,mTicks:[],clear:function F(){this.isStackedChart=this.mIsPercent=false
	this.mMinimum=this.mMaximum=0
	this.mMinTick=this.mMaxTick=0
	this.mStep=0
	this.mTicks=[]
	},GetTicks:function A(M){if(this.mOptions.mShowMinLabel){M.push(this.mMinTick)
	}var L
	for(L=0
	L<this.mTicks.length
	++L){M.push(this.mTicks[L])
	}if(this.mOptions.mShowMaxLabel){M.push(this.mMaxTick)
	}},getMaxMinTickValue:function D(O,N,L,M){this.computeTicks(O,N,L,M)
	return{Max:this.mMaxTick,Min:this.mMinTick}
	},computeTicks:function E(Q,P,L,N){this.mMinimum=N
	this.mMaximum=L
	this.mIsPercent=!!(P&1)
	this.isStackedChart=!!(P&2)
	var O=1e-14
	if(!Q.mUseLogarithmicScale&&this.isStackedChart){this.mMinimum=Math.min(this.mMinimum,0)
	this.mMaximum=Math.max(this.mMaximum,0)
	}if(Q.mDrawCustomLine){this.mMinimum=Math.min(this.mMinimum,Q.mAxisCustomValue)
	this.mMaximum=Math.max(this.mMaximum,Q.mAxisCustomValue)
	}if(this.mIsPercent&&this.mMinimum===this.mMaximum&&1===this.mMaximum){if(this.mMinimum===1){this.mMinimum=0
	}}if(Math.abs(this.mMinimum-this.mMaximum)<O){if(this.mMinimum<-O||this.mMinimum>O){var M=Math.abs(this.mMinimum)*0.5
	this.mMaximum=this.mMaximum+M
	this.mMinimum=this.mMinimum-M
	}else{this.mMinimum=-6
	this.mMaximum=6
	}}J.call(this,Q)
	if(Q.mUseLogarithmicScale&&this.isStackedChart){this.mMaximum=Q.mDrawCustomLine?Math.max(this.mMaximum+this.mMinTick,Q.mAxisCustomValue):this.mMaximum+this.mMinTick
	this.mMinimum=Math.min(this.mMinimum,0)
	this.mTicks.splice(0,this.mTicks.length)
	H.call(this,Q)
	}G.call(this,Q)
	}})
	}())
	mstrmojo.warehouse.EnumObjectTypes={FILTER:1,METRIC:4,ATTRIBUTE:12,FACT:13,DIMENSION:14,TABLE:15,TABLE_LOGICAL_VIEW:151,TABLE_PARTITION:152,FORM:21,COLUMN:26,DBROLE:29,PROJECT:32,TRANSFORMATION:43,DBTABLE:53,LAYER:70,RELATIONSHIP:99,COMPOUND_FORM:1001,RELATIONSHIP_ATTRIBUTE:1002}
	mstrmojo.VisEnum={ControlType:{BUTTON:"button",LASSO_SELECTOR:"lasso-selector",LASSO_RESIZER:"lasso-resizer",SPLITTER:"splitter",GM_ROW_HEADER:"rh",GM_ROW_HEADER_TEXT:"rhtext",GM_ROW_HEADER_EXTRA:"rhext",GM_COL_HEADER:"ch",GM_COL_HEADER_TEXT:"chtext",GM_COL_HEADER_EXTRA:"chext",GM_YAXIS:"y",GM_XAXIS:"x",GM_YLABEL:"y-label",GM_XLABEL:"x-label",GM_ROW_HEADER_TITLE:"rht",GM_ROW_HEADER_TITLE_TEXT:"rhttext",GM_COL_HEADER_TITLE:"cht",GM_COL_HEADER_TITLE_TEXT:"chttext",GM_MINI_CHART:"chart",GM_TEXT_BODY:"text-body",GM_SHAPE:"shape",GM_MARKER:"marker",GM_SET_SHAPE:"set-shape",GM_YAXIS2:"y2",GM_XAXIS2:"x2",GM_TREND_LINE:"trendLine",GM_TREND_LINE_HOVER:"trendLineHover",GM_TREND_LINE_SELECT:"trendLineSelect",GM_REF_LINE:"referenceLine",GM_REF_LINE_HOVER:"referenceLineHover",GM_REL_LINE_SELECT:"referenceLineSelect",GM_HIGHLIGHT_BOX:"highlight-box",GM_AXIS_TEXT:"axis-text",GM_AXIS_WORD:"axis-word",GM_SVG_X_NUMERIC:"svg-x-numeric",GM_SVG_X_CATEGORY:"svg-x-category",GM_SVG_Y_NUMERIC:"svg-y-numeric",GM_SVG_Y_CATEGORY:"svg-y-category",GM_X_NUMERIC:"x-numeric",GM_X_CATEGORY:"x-category",GM_Y_NUMERIC:"y-numeric",GM_Y_CATEGORY:"y-category",GM_SVG_CHART:"svg-chart",GM_DATA_LABEL:"data-label",GM_YAXIS_LINE:"y-line",GM_XAXIS_LINE:"x-line",GM_YAXIS2_LINE:"y2-line",GM_XAXIS2_LINE:"x2-line",LGD_TITLE:"lgd-title",LGD_TEXT:"lgd-text",LGD_COLORBOX:"lgd-colorbox",LGD_COLORBOX_CTN:"lgd-colorbox-ctn",LGD_CANVAS:"lgd-canvas",LINE_CONTAINER:"line-ctn",GM_V_MATRIX_LINE:"v-line",GM_H_MATRIX_LINE:"h-line",GM_V_CHART_LINE:"v-ctline",GM_H_CHART_LINE:"h-ctline",GM_CHART_ROW:"ct-row",GM_CHART_COL:"ct-col",GM_H_GRID_LINE:"h-gline",GM_V_GRID_LINE:"v-gline",GM_H_MINOR_GRID_LINE:"h-gline-minor",GM_V_MINOR_GRID_LINE:"v-gline-minor",GM_ORIGIN_LINE:"originLine",GM_ORIGIN_LABEL:"origin-label",GM_ORIGIN_LINE_H:"origin-line-h",GM_ORIGIN_LINE_V:"origin-line-v",GM_ORIGIN_LABEL_H:"origin-label-h",GM_ORIGIN_LABEL_V:"origin-label-v",GM_DUMMY_A:"dummy-a",GM_V_EXTRA_LINE:"v-extra-line",GM_REF_LABEL:"ref-label",GM_RIGHT_BORDER:"border-r",GM_BOTTOM_BORDER:"border-b",KPI_V_SCROLLBAR:"kpi-vertical-scrollbar",KPI_H_SCROLLBAR:"kpi-horizontal-scrollbar"},GMDropZoneID:{ROWS:1,COLUMNS:2,XAXIS:3,YAXIS:4,BREAKBY:5,SLICEBY:6,COLORBY:7,SIZEBY:8,TOOLTIP:9,ANGLEBY:10},NETWORK_LOCAL_PROPS:{ZOOM_FACTOR:"zf",NODE_POSITION:"np"},NETWORK_PROPERTIES:{showLegend:"showLegend",showEdgeDirection:"showedgearrow",showTransition:"animatelayout",nodeSizeAggregation:"nodesizeaggfunc",minNodeSize:"minns",maxNodeSize:"maxns",themeType:"th",circleLabelFont:"BubFnt",modifiedNodes:"mn",layoutMode:"layout",legendPosition:"legendposition",dragMode:"mode",bubbleStyle:"bbs",propsCategory:"pc",lgdBgFillClr:"lgdBgFillClr",lgdBgFillTrans:"lgdBgFillTrans",lgdFntClr:"lgdFntClr",lgdFntSz:"lgdFntSz",lgdFntFml:"lgdFntFml",lgdFntStyle:"lgdFntStyle"},NETWORK_LAYOUT:{CIRCULAR:"circular",LINEAR:"linear",FORCE_DIRECTED:"forceDirected"},NETWORK_DRAG_MODE:{pan:0,select:1},NETWORK_AGGREGATION_METHOD:{"Count of":0,"Sum of":1,"Average of":2,"Min of":3,"Max of":4},NETWORK_MIN_NODE_SIZE_TYPE:{PROPORTIONAL:1,FULL_RANGE:2,ADJUSTED_RANGE:3},NETWORK_MAX_NODE_SIZE_TYPE:{AUTOMATIC:1,MANUAL:2},NETWORK_FORCE_DIRECTED_LAYOUT_EDGE_CURVATURE:[0,0.2],HEATMAP_PROPERTIES:{showLegend:"showLegend",deleteButton:"ed",showMetricValues:"mv",labelSize:"lb",layout:"la",themeType:"th",headerType:"he",deletedList:"dl",refreshType:"rt",metricList:"ml",colorByType:"cbt",absoluteFixed:"abs",blendColor:"blc",background:"bg",legendBackground:"lbg",headerColors:"hcl",fonts:"fts",propsCategory:"pc",attrColorByOpacity:"acbo",metricColorByOpacity:"mcbo"},HEATMAP_LABEL_SIZE:{On:0,Off:1,Proportional:2},MAPS_PROPERTIES:{SHOW_LEGEND:"showLegend"},VIS_CARDLIMIT:{GRID:250,NON_GRID:8000,AREA_MAP:1000},GMLegendDataType:{COLOR_BY:1,SIZE_BY:2},GMLegendFormatingPropertyTag:{LEGEND_BG_COLOR:"lgdBgFillClr",LEGEND_BG_FILL_STYLE:"lgdBgFillStyle",LEGEND_BG_FILL_EFFECT:"lgdBgFillEff",LEGEND_BG_FILL_TRANSPARENCY:"lgdBgFillTrans",LEGEND_FONT_SIZE:"lgdFntSz",LEGEND_FONT_FAMILY:"lgdFntFml",LEGEND_FONT_STYLE:"lgdFntStyle",LEGEND_FONT_COLOR:"lgdFntClr",LEGEND_BORDER_SHOW:"lgdBdrShw",LEGEND_BORDER_COLOR:"lgdBdrClr",LEGEND_BORDER_THICKNESS:"lgdBdrThk",LEGEND_BORDER_LINE_STYLE:"lgdBdrStyle",LEGEND_BORDER_LINE_COMBINED_STYLE:"lgdBdrCmbStyle",COLOR_SQUARE_COLOR:"clrSqrClr"},LegendPropertyTag:{LEGEND_MODE:"lm",LEGEND_POSITION:"LegendPosition",SCALE_LEGEND_WIDTH:"lwr"},EnumLegendMode:{RESTORED:1,MINIMIZED:2},EnumSingleLegendMode:{RESTORE:1,COLLAPSE:2},EnumColorRankMode:{INVALID:-1,VALUE:0,TOP:1,BOTTOM:2,TOP_PERCENT:3,BOTTOM_PERCENT:4},FormNameDisplayType:{OFF:0,ON:1,FORM_NAME_ONLY:2,SHOW_ATT_NAME_ONCE:3,AUTO:4},SERVER_JSON_ERROR_TYPE:{EMPTY_DATA:0,NO_DATASET:1,AE_ERROR:2,NO_TEMPLATE_UNIT:3},NETWORK_CIRCLE_BORDER_WIDTH:8,IMAGELAYOUT_PROPERTIES:{DISPLAY_MODE:"mt",MAX_SIZE_TYPE:"ty",MAX_SIZE_VALUE:"val",MIN_SIZE_TYPE:"mst",MIN_SIZE_VALUE:"msv",MAP_FILE_PATH:"mf",SHAPE_FILL_OPC_PER:"shapeFillTrans",SHAPE_FILL_COLOR:"shapeClr",SHAPE_BORDER_STYLE:"shapeBorderCmbStyle",SHAPE_BORDER_COLOR:"shapeBorderClr",DATA_LABEL_SWITCH:"dls",DATA_LABEL_FONT_SIZE:"dlFntSz",DATA_LABEL_FONT_FAMILY:"dlFntFml",DATA_LABEL_FONT_COLOR:"dlFntClr",DATA_LABEL_FONT_STYLE:"dlFntStyle",BLANK_MAP_BORDER_STYLE:"blankMapBorderStyle",BLANK_MAP_BORDER_COLOR:"blankMapBorderClr",BLANK_MAP_COLOR:"blankMapClr",DEFAULT_MAP_COLOR:"dftMapClr",DEFAULT_BUBBLE_COLOR:"dftBubbleClr",DEFAULT_MAP_BORDER_COLOR:"dftMapBorderClr",DEFAULT_BUBBLE_BORDER_COLOR:"dftBubbleBorderClr",LEGEND_FONT_SIZE:"lgFntSz",LEGEND_FONT_FAMILY:"lgFntFml",LEGEND_FONT_COLOR:"lgFntClr",LEGEND_FONT_STYLE:"lgFntStyle",LEGEND_BACKGROUND_COLOR:"lgBgClr",LEGEND_OPC_PER:"lgBgFillTrans",LEGEND_POSITION:"lgPos",LEGEND_SHOW:"lgShow",LEGEND_MODE:"lgMode",LEGEND_SCALE:"lgScale",H_MATRIX_LINE_COLOR:"hMatrixLnClr",V_MATRIX_LINE_COLOR:"vMatrixLnClr",ALL_MATRIX_LINE_COLOR:"allMatrixLnClr",H_MATRIX_LINE_STYLE:"hMatrixLnCmbStyle",V_MATRIX_LINE_STYLE:"vMatrixLnCmbStyle",ALL_MATRIX_LINE_STYLE:"allMatrixLnCmbStyle"},TOOLTIP_STATE:{STATE_DEFAULT:0,STATE_SUMMARY:1,STATE_COMBINED:2,STATE_VERTICAL:3,STATE_EMPTY_CONTENT:4},OBJECT_HIGHLIGHT_STATE:{HIGHLIGHT_CONTEXTMENU:0,HIGHLIGHT_SELECTION:1,HIGHLIGHT_COMBINED:2},EnumFeatureFlags:{ftFgGrpA:{HideLegendByDefault:1}}}
	(function(){var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",G=String.fromCharCode
	function D(H){H=H.replace(/\r\n/g,"\n")
	var I=""
	for(var K=0
	K<H.length
	K++){var J=H.charCodeAt(K)
	if(J<128){I+=G(J)
	}else{if((J>127)&&(J<2048)){I+=G((J>>6)|192)
	I+=G((J&63)|128)
	}else{I+=G((J>>12)|224)
	I+=G(((J>>6)&63)|128)
	I+=G((J&63)|128)
	}}}return I
	}function F(L){var H="",J=0,M=0,K=0,I=0
	while(J<L.length){M=L.charCodeAt(J)
	if(M<128){H+=G(M)
	J++
	}else{if((M>191)&&(M<224)){K=L.charCodeAt(J+1)
	H+=G(((M&31)<<6)|(K&63))
	J+=2
	}else{K=L.charCodeAt(J+1)
	I=L.charCodeAt(J+2)
	H+=G(((M&15)<<12)|((K&63)<<6)|(I&63))
	J+=3
	}}}return H
	}mstrmojo.base64=mstrmojo.provide("mstrmojo.base64",{decodeHttpHeader:function E(K){var I=/\=\?UTF-8\?B\?(.+?)\?\=/g
	if(K&&K.indexOf("=?UTF-8?B?")===0){var J="",H
	while((H=I.exec(K))!==null){J+=mstrmojo.base64.decode(H[1])
	}return J
	}return K
	},encode:function B(J){var H=""
	var Q,O,M,P,N,L,K
	var I=0
	J=D(J)
	while(I<J.length){Q=J.charCodeAt(I++)
	O=J.charCodeAt(I++)
	M=J.charCodeAt(I++)
	P=Q>>2
	N=((Q&3)<<4)|(O>>4)
	L=((O&15)<<2)|(M>>6)
	K=M&63
	if(isNaN(O)){L=K=64
	}else{if(isNaN(M)){K=64
	}}H+=A.charAt(P)+A.charAt(N)+A.charAt(L)+A.charAt(K)
	}return H
	},decode:function C(J){var H="",I=0
	var Q,O,M,P,N,L,K
	J=J.replace(/[^A-Za-z0-9\+\/\=]/g,"")
	while(I<J.length){P=A.indexOf(J.charAt(I++))
	N=A.indexOf(J.charAt(I++))
	L=A.indexOf(J.charAt(I++))
	K=A.indexOf(J.charAt(I++))
	Q=(P<<2)|(N>>4)
	O=((N&15)<<4)|(L>>2)
	M=((L&3)<<6)|K
	H+=G(Q)
	if(L!==64){H+=G(O)
	}if(K!==64){H+=G(M)
	}}H=F(H)
	return H
	}})
	})()
	(function(){var A=/^mstrmojo./
	mstrmojo.DynamicClassFactory={newComponent:function(C,B,F){var H=C.prototype.scriptClass.replace(A,"")
	for(var E=0,D=B&&B.length||0
	E<D
	E++){if(!B[E]._mixinName){throw new Error('Mixins must have a "_mixinName" property to be used with DynamicClassFactory')
	}H+="_"+B[E]._mixinName.replace(A,"")
	}var G=mstrmojo[H]
	if(!G){G=mstrmojo.declare(C,B,F)
	mstrmojo[H]=G
	}return G
	}}
	}())
	mstrmojo.EnumAuthenticationModes={DEFAULT:0,STANDARD:1,NTCREDENTIAL:2,PASSTHRU:4,ANONYMOUS:8,LDAP:16,DATABASE:32,PLUGIN:64,INTEGRATED:128,USHER:256}
	mstrmojo.chart.model.enums.EnumDSSDynamicShortcut={DssDynamicShortcutReserved:0,DssDynamicShortcutAuto:1,DssDynamicShortcutAcrossThenDown:2,DssDynamicShortcutDownThenAcross:3,DssDynamicShortcutColumns:4,DssDynamicShortcutRows:5,DssDynamicShortcutCell:6,DssDynamicShortcutShape:7,DssDynamicShortcutLastOne:8,DssDynamicShortcutRangeEnd:255}
	(function(){var E=new RegExp("^[A-Z0-9]{8}[A-Z0-9]{4}[A-Z0-9]{4}[A-Z0-9]{4}[A-Z0-9]{12}$","i")
	var A=2147483648
	var G=Array.apply(null,Array(256)).map(function(H,I){return(I<16?"0":"")+I.toString(16).toUpperCase()
	})
	var F=(window.crypto&&window.crypto.getRandomValues)?function(){var H=new Uint32Array(4)
	window.crypto.getRandomValues(H)
	return{d0:H[0],d1:H[1],d2:H[2],d3:H[3]}
	}:function(){return{d0:Math.abs(Math.floor(Math.random()*A)^(+new Date())),d1:Math.abs(Math.floor(Math.random()*A)^(+new Date())),d2:Math.abs(Math.floor(Math.random()*A)^(+new Date())),d3:Math.abs(Math.floor(Math.random()*A)^(+new Date()))}
	}
	function D(H){var L=H.d0,K=H.d1,J=H.d2,I=H.d3
	return G[L&255]+G[L>>8&255]+G[L>>16&255]+G[L>>24&255]+G[K&255]+G[K>>8&255]+G[K>>16&15|64]+G[K>>24&255]+G[J&63|128]+G[J>>8&255]+G[J>>16&255]+G[J>>24&255]+G[I&255]+G[I>>8&255]+G[I>>16&255]+G[I>>24&255]
	}mstrmojo.UUID=mstrmojo.provide("mstrmojo.UUID",{create:function C(){return D(F())
	},isUUID:function B(H){return H&&E.test(H.toString())
	}})
	mstrmojo.UUID.EMPTY="00000000000000000000000000000000"
	}())
	mstrmojo.vi.enums.EnumHiddenSections={NONE:0,HEADER:1,PATH:2,DOCKTOP:4,DATASETS:8,GALLERY:16,DOCKLEFT:32,EDITOR:64,FILTER:128,PROPERTIES:256,TOV:512,VIPANE:64+128+256+1024,LAYERS:1024}
	(function(){mstrmojo.hash=mstrmojo.provide("mstrmojo.hash",{copy:function N(X,W){if(X){W=W||{}
	var Y
	for(Y in X){W[Y]=X[Y]
	}}return W
	},copyProps:function K(Y,a,W){W=W||{}
	if(a){var Z=(Y&&Y.length)||0,X
	for(X=0
	X<Z
	X++){var b=Y[X]
	if(a[b]!==undefined){W[b]=a[b]
	}}}return W
	},forEach:function Q(Z,Y,X){if(Z){var W
	for(W in Z){if(X){if(Y.call(X,Z[W],W,Z)===false){break
	}}else{if(Y(Z[W],W,Z)===false){break
	}}}}return Z
	},walk:function R(a,X){if(!X){X=mstrmojo.global
	}var Z=a.split(".")
	if(Z.length===1){return X[a]
	}var Y=(Z&&Z.length)||0,W
	for(W=0
	W<Y
	W++){X=X[Z[W]]
	if(!X){break
	}}return X
	},walkModify:function D(b,X,Z){if(!X){X=mstrmojo.global
	}var a=b.split(".")
	if(a.length===1){X[b]=Z
	return true
	}var Y=(a&&a.length)||0,W
	for(W=0
	W<Y-1
	W++){X=X[a[W]]
	if(!X){return false
	}}X[a[Y-1]]=Z
	return true
	},isEmpty:function H(X){if(!X){return true
	}var W
	for(W in X){if(X[W]!==null&&X[W]!==undefined){return false
	}}return true
	},clear:function J(X){if(X){var W
	for(W in X){delete X[W]
	}}return X
	},any:function G(Z,a){var Y
	if(Z){var X=this.keyarray(Z)
	if(X.length>0){var W=X[0]
	Y=a?W:Z[W]
	}}return Y
	},clone:function S(a){if(!a){return null
	}var d
	if(a.constructor===Array){d=a.concat()
	var b=d[0]
	if(b&&typeof b==="object"){var W=d.length,Z
	for(Z=0
	Z<W
	Z++){d[Z]=this.clone(a[Z])
	}}}else{d={}
	var Y
	for(Y in a){var X=a[Y]
	if(X&&typeof X==="object"){d[Y]=this.clone(X)
	}else{d[Y]=X
	}}}return d
	},cloneArray:function O(X){var Y=[],W=(X&&X.length)||0,Z
	for(Z=0
	Z<W
	Z++){Y[Z]=this.clone(X[Z])
	}return Y
	},cloneNoCycle:function E(Y){var X=new Map()
	function W(d){if(d===null||typeof d!=="object"){return d
	}if(X.get(d)){return X.get(d)
	}var a=Array.isArray(d)?[]:{}
	X.set(d,a)
	var c=Object.keys(d),Z=c.length
	for(var b=0
	b<Z
	b++){a[c[b]]=W(d[c[b]])
	}return a
	}return W(Y)
	},cloneArrayNoCycle:function F(X){var Y=[],W=(X&&X.length)||0,Z
	for(Z=0
	Z<W
	Z++){Y[Z]=this.cloneNoCycle(X[Z])
	}return Y
	},keyarray:function A(Y,Z){var W=[],X
	if(Y){if(Object.keys&&!Z){W=Object.keys(Y)
	}else{for(X in Y){W.push(Z?Number(X):X)
	}}}return W
	},valarray:function I(Y){var W=[]
	if(Y){var X
	for(X in Y){W.push(Y[X])
	}}return W
	},equals:function U(d,c){var X=mstrmojo.hash,b=(d&&c)||(!d&&!c&&(d===c))
	if(b&&d){b=(d.constructor===c.constructor)
	if(b){if(d.constructor===Array){var a=d.length
	b=(a===c.length)
	if(b&&a){var Y
	for(Y=0
	Y<a
	Y++){b=b&&X.equals(d[Y],c[Y])
	}}}else{if(typeof d==="object"){var e=X.keyarray(d),Z=X.keyarray(c)
	b=e.length===Z.length
	if(b){var W
	for(W in d){b=b&&(X.equals(d[W],c[W]))
	}}}else{b=(d===c)
	}}}}return b
	},obj2array:function L(b){var c
	for(c in b){var a=b[c]
	if(a&&typeof a==="object"){b[c]=this.obj2array(a)
	}}var X=b.isArray
	if(X!==undefined&&X===true){var Z=[],W=b.length,Y
	for(Y=0
	Y<W
	Y++){Z.push(b[Y])
	}return Z
	}return b
	},min:function M(Z,a,b){var W=null,Y
	if(Z){for(Y in Z){var X=a?Z[Y]:Y
	if(b){X=Number(X)
	}if((W===null)||(X<W)){W=X
	}}}return W
	},max:function P(Z,a,b){var W=null,Y
	if(Z){for(Y in Z){var X=a?Z[Y]:Y
	if(b){X=Number(X)
	}if((W===null)||(X>W)){W=X
	}}}return W
	},make:function C(X,Y,W){if(!X||!Y){return null
	}if(X.attachEventListener){return X
	}if(Y.makeObservable){X=Y.makeObservable(X,W)||X
	}else{this.copy(Y.prototype,X)
	if(X.init){X=X.init(W)||X
	}}return X
	},mergeHashes:function B(W,X){W=this.clone(W)||{}
	if(X){mstrmojo.array.forEach(mstrmojo.array.distinct(this.keyarray(X).concat(this.keyarray(W))),function(Y){var a=W[Y],Z=X[Y]
	if(a===undefined){W[Y]=Z
	}else{if(a&&Z){if(typeof a==="object"){if(a.constructor===Array){W[Y]=a.concat(Z)
	}else{W[Y]=this.mergeHashes(a,Z)
	}}else{W[Y]=Z
	}}}},this)
	}return W
	},invert:function(X){var Y={}
	if(X){var W
	for(W in X){if(X.hasOwnProperty(W)){if(typeof W==="number"||typeof W==="string"){Y[X[W].toString()]=W
	}}}}return Y
	}})
	}())
	(function(){if(!mstrmojo.PerformanceLogOutput){var G={},D=true
	mstrmojo.PerformanceLogOutput=mstrmojo.provide("mstrmojo.PerformanceLogOutput",{mTimers:[],mUseTimer:true,timerId:0,startTimer:function C(L,K){if(this.mUseTimer){if(K&&this.getTimerIdByName(K)>=0){return 
	}var J=this.timerId++
	this.mTimers.push({timeStamp:new Date(),timerId:J,desc:L.functionName+": "+L.purpose})
	if(K){G[K]=J
	}return J
	}},getTimerIdByName:function F(J){var K=G[J]
	return isNaN(K)?-1:K
	},endTimer:function A(M){var K
	if(typeof M==="string"){K=this.getTimerIdByName(M)
	}else{K=M
	}if(this.mUseTimer){var J,P=this.mTimers
	if(K===undefined){J=P.pop()
	}else{var L,R
	for(L=0
	L<P.length
	L++){R=P[L]
	if(R.timerId===K){J=R
	P.splice(L,1)
	break
	}}}if(J){var O=J.desc
	var N=new Date()-J.timeStamp
	var Q=[O,N]
	this.visPrint("%c"+J.desc+": "+N+"ms","color: blue")
	H(Q)
	delete G[M]
	}}},visPrint:function I(){if(D&&window.mstr_profile&&mstr_profile.enabled&&console){Function.prototype.apply.call(console.log,console,arguments)
	}},recordJSHeapMemory:function E(L){var N=window.performance,M=N&&N.memory
	if(this.mUseTimer&&M){L=L?(L+": "):""
	var K=["usedJSHeapSize","totalJSHeapSize","jsHeapSizeLimit"],J=this
	K.forEach(function(P){var Q=L+P,O=M[P]/1000
	J.visPrint("%c"+Q+": "+O+"KB","color: blue")
	H([Q,O])
	})
	}},exportToCsv:function B(){var K=mstrApp.rootCtrl.docCtrl.model.n+".csv",P=window.perfResults
	var Q=function(X,U){var W=""
	var S=X[U]===null?"":X[U].toString()
	if(X[U] instanceof Date){S=X[U].toLocaleString()
	}var R=S.replace(/"/g,'""')
	if(R.search(/("|,|\n)/g)>=0){R='"'+R+'"'
	}W+=R
	return W+","
	}
	var O=""
	for(var M=0
	M<P.length
	M++){O+=Q(P[M],0)
	}O+="\n"
	for(var M=0
	M<P.length
	M++){O+=Q(P[M],1)
	}O+="\n"
	var J=new Blob([O],{type:"text/csv
	charset=utf-8
	"})
	if(navigator.msSaveBlob){navigator.msSaveBlob(J,K)
	}else{var N=document.createElement("a")
	if(N.download!==undefined){var L=URL.createObjectURL(J)
	N.setAttribute("href",L)
	N.setAttribute("download",K)
	N.style.visibility="hidden"
	document.body.appendChild(N)
	N.click()
	document.body.removeChild(N)
	}}window.perfResults=[]
	}})
	function H(K){var J=window.perfResults
	if(!J){J=window.perfResults=[]
	}J.push(K)
	}}})()
	(function(){mstrmojo.url=mstrmojo.provide("mstrmojo.url",{isAbsoluteURL:function I(J){return(/^(http|https|ftp|file):\/\//i.test(J))
	},isImageDataURL:function H(J){return(J.indexOf("data:image/")===0)
	},isQueryURL:function A(J){return(J.indexOf("?")!==-1)
	},isRelativeStaticImageURL:function C(J){return !(this.isImageDataURL(J)||this.isAbsoluteURL(J)||this.isQueryURL(J))
	},getAbsoluteURL:function E(J,K){if(this.isAbsoluteURL(J)){return J
	}if(K){return K+(/\/$/.test(K)?"":"/")+J
	}return"http://"+J
	},getRealURL:function F(K){var J=K
	if(mstrApp.getWSLiveMode&&mstrApp.getWSLiveMode()){J=this.getAbsoluteURL(K,this.getWebServerUrl())
	}return J
	},getWebServerUrl:function B(N){var R=null
	if(N){if(mstrApp!==undefined&&mstrApp.getConfiguration){R=mstrApp.getConfiguration().getCurrentProjectWebServerUrl()
	}}else{if(mstrApp.getWSLiveMode&&mstrApp.getWSLiveMode()){R=mstrApp.env.getDossierServerURL()
	}else{var L=document.location&&document.location.href
	if(L){var M=L.toLowerCase()
	var K="/app/",U="/servlet/",S="/asp/"
	var J=M.indexOf(K),P=M.indexOf(U),Q=M.indexOf(S)
	if(J>=0){R=L.substr(0,J+1)
	}else{if(P>=0){if(Q<0){R=L.substr(0,P+1)
	}else{if(Q>=0){var O=(P>Q)?Q:P
	R=L.substr(0,O+1)
	}}}else{if(P<0){if(Q>=0){R=L.substr(0,Q+1)
	}}}}}}}return R
	},getFullPath:function G(S){var N=S,K=/^[A-z]:\/\//,R=mstrApp&&mstrApp.getWSLiveMode&&mstrApp.getWSLiveMode(),Q,L
	if(!(mstrApp&&mstrApp.isDossier||R)||!S||S.indexOf("data:image")===0){return S
	}if(K.test(S)){N=S
	}else{var P=/^(\.\.\/|\.\.\\)/
	var O=/^(\.\/|\.\\)/
	var M=/^(\/|\\)/
	S=S.replace(P,"")
	S=S.replace(O,"")
	S=S.replace(M,"")
	if(mstrApp&&mstrApp.getConfiguration){var J=R?mstrApp.env.getDossierServerURL():this.getWebServerUrl(this.isTablet)
	if(!J){N=S
	}else{N=this.getAbsoluteURL(S,J)
	}}}return N
	},getPlaceholderImageURL:function D(){return mstrmojo.getJsRoot()+"../images/1ptrans.gif"
	}})
	}())
	(function(){mstrmojo.vi._MonitorsLayoutMode=mstrmojo.provide("mstrmojo.vi._MonitorsLayoutMode",{onLayoutModeChange:function(B){if(this._super){this._super(B)
	}},init:function A(B){this._super(B)
	if(mstrApp.attachEventListener){mstrApp.attachEventListener("layoutModeChange",this.id,"onLayoutModeChange")
	}}})
	}())
	(function(){function E(H,G,F){return H>=G&&H<=F
	}function A(G,F){return{start:G,end:F}
	}function C(I,G){var L=this.renderedRowsArr,K=B.call(this,I,1),J=K.index,H=L[J],F
	if(!K.between){if(H&&I>H.end+1){J++
	L.splice(J,0,A(I,G))
	}else{L.splice(J,0,A(I,G))
	}H=L[J]
	}else{H.end=Math.max(H.end,G)
	}while(J<L.length-1){J++
	F=L[J]
	if(H.end+1>=F.start){H.end=Math.max(H.end,F.end)
	L.splice(J,1)
	J--
	}else{break
	}}}function B(G,L){var K=this.renderedRowsArr,H=0,I=K.length-1,F,J
	while(H<=I){F=(H+I)/2|0
	J=K[F]
	if(E(G,J.start,J.end+L||0)){return{between:true,index:F}
	}else{if(G<J.start){I=F-1
	}else{H=F+1
	}}}return{between:false,index:F}
	}mstrmojo._RowRendTracker=mstrmojo.provide("mstrmojo._RowRendTracker",{_mixinName:"mstrmojo._RowRendTracker",renderedRowsArr:undefined,init:function D(F){this._super(F)
	this.renderedRowsArr=[]
	},markPages:function(G,F){C.call(this,G,F)
	},searchRow:function(H){var G=B.call(this,H,0),F
	if(G.between){F=this.renderedRowsArr[G.index]
	return{rendered:true,min:F.start,max:F.end}
	}return null
	},unMarkAllPages:function(){this.renderedRowsArr.length=[]
	}})
	}())
	(function(){function A(C){return function B(H){if(!this.domNode){return 0
	}var G=this.children
	if(H!==undefined&&!isNaN(H)){G=(G&&[G[H-1]])
	}var E=(G&&G.length)||0,D=0,F
	for(F=0
	F<E
	F++){D+=G[F]["get"+C]()
	}return D
	}
	}mstrmojo._CanMeasureChildren=mstrmojo.provide("mstrmojo._CanMeasureChildren",{getHeight:A("Height"),getWidth:A("Width")})
	}())
	(function(){mstrmojo.requiresDescs(9380,9381,9382,9383,9384,9385,9379,15106,15107,10639,10159,9705,9704)
	mstrmojo.DI.DIConstants=mstrmojo.provide("mstrmojo.DI.DIConstants",{invalidObjectNameChars:'\\"[]',invalidObjectNameCharsRegex:/[\\"\[\]]/,acceptFileTypes:".xls,.xlsx,.csv,.txt,.tsv,.prn,.json,.sas7bdat,.geojson,.kml",acceptFileTypesMatcher:/(\.xls|\.xlsx|\.csv|\.txt|\.tsv|\.prn|\.json|\.sas7bdat|\.geojson|\.kml)$/i,sourceItemLinkType:{dbList:0,oauthPara:1},setDefaultOAuthParamCMD:"MSTR_DEFAULT_OAUTH_PARAMS",actions:{none:0,importSource:1,editImport:2,transform:3,changeSheet:4,publish:5,changeMappings:6,refine:7,quickPreview:8,savePublish:9,getFlatPreview:10,refreshData:11,mergeCube:12},ccActions:{data:1,logout:2},localStorageKey:{HGOSFileTypeTooltipPop:"HGOSFileTypeTooltipPop"},requestFlag:{mapping:1,preview:2,sourceInfo:4,refineSourceInfo:8,sheets:16,crb:32,transformations:64,transformedPreview:128,relationship:256,stateInfo:512,anyState:268435456,fullData:1024,refineInnerData:2048},formMappingFlag:{formMappingFlagReserved:0,formMappingFlagRemoveGeoRole:1,formMappingFlagRemoveTimeRole:2,formMappingFlagRemoveDeriveFlags:4},browseFlag:{reportBindingTable:1,dataPreview:4,publish:16,cubeConfig:68,reportLevelProperty:256},importBehaviorFlag:{reserved:0,newColumnsSilent:1,dataTypeSilent:2},saveAsFlags:{saveAsOverWrite:32,saveAsManaged:524288,saveAsDDA:33554432,saveAsInMemory:67108864,saveAsWithPrompts:4096,saveAsWithAnswers:4},connectLiveSupport:{connectLiveSupportUnknown:0,connectLiveSupportDDAOrInMemory:1,connectLiveSupportInMemoryOnly:2,connectLiveSupportDDAOnly:3},xdaType:{excel:272,text:288,refine:384,salesforce:337,querybuilder:352,ffsql:304,mdx:2,customFreeFormSQL:3,googleAnalytics:390,googleBigQuery:341,googleBigQueryFFSQL:342,googleBigQuerySingleTable:345,qbSingleTable:368,twitter:343,facebook:344,dataImport:256,projectsImport:400,sparkDataset:416,cloudConnector:600,dataImportFileExcel:16|256,dataImportFileText:32|256,dataImportCustomSQL:48|256,dataImportTable:64|256,dataImportOAuth:80|256,dataImportBISource:144|256,dataImportOAuthSalesforce:1|336,dataImportOAuthGDocs:2|336,dataImportOAuthGDrive:2|336,dataImportOAuthDropbox:3|336,dataImportOAuthGAnalytics:4|336,dataImportOAuthGBigQuery:5|336,dataImportOAuthGBigQueryFFSQL:6|336,dataImportOAuthGBigQuerySingleTable:9|336,spark:160|256},fileTypes:[{n:"CSV/TXT",v:"CSV"},{n:"PARQUET",v:"PARQUET"},{n:"AVRO",v:"AVRO"},{n:"ORC",v:"ORC"},{n:"JSON",v:"JSON"},{n:"PARQ",v:"PARQUET",visible:false}],sourceInfoDesc:{json:"DB_FILE_TYPE_JSON"},sourceType:{file:1,salesforce:2,dropbox:3,googleDrive:4,googleAnalytics:5,googleBigQuery:6,querybuilder:7,mstrFile:8,mdx:9,hadoop:10,twitter:11,facebook:12,bisource:13,remoteProject:14,importfromcube:15,dataFromPushApi:16,newConnector:17,cloudElement:18,dbRoleOAuth:19,ccOAuth:20},sourceSubtype:{localFile:1,url:2,salesforce:3,dropbox:4,googleDrive:5,googleAnalytics:6,googleBigQuery:7,querybuilder:8,samplefile:9,clipboard:10,googleBigQueryFFSQL:11,searchOnSource:12,mdx:13,hadoop:14,twitter:15,facebook:16,bisource:17,remoteProject:18,googleBigQuerySingleTable:19,hanaSingleTable:20,publicData:21,importfromcube:22,dataFromPushApi:23,cloudElement:24,mstrConnector:25,dbRoleOAuth:26,s4hana:27,amazonS3:28,azureDataLake:29,ccOAuth:30,googleCloudStorage:31,bw4hana:32,sapBW:33,sapECC:34,salesforceSandbox:35,python:36},backendSourceSubtype:{localFile:65537,url:65539,samplefile:65540,clipboard:65538,newConnector:65544,cloudElement:65552,hadoopFileBrowser:65541,customSQL:131073,customSQLWizard:131074,singleTable:131075,bISources:131076,searchAsASource:131078,salesforce:196609,dropbox:196610,facebook:196611,twitter:196612,googleDrive:196613,googleAnalytics:196614,googleBigQuery:196615,googleBigQueryFFSQLModel:196616,googleBigQuerySingleTable:196617,OLAPSources:327681,publicData:65542,dataFromPushApi:65543,dataFromPushApiV2:65545,s4hana:393217,bw4hana:393218,sapBW:393219,sapECC:393220,python:458753},sourceItemType:{file:0,url:1,database:2,hadoop:3,olap:4,publicData:5,salesforce:6,googleAnalytics:7,googleBigQuery:8,googleDrive:9,dropbox:10,searchAsASource:11,clipboard:12,bISources:13,facebook:14,twitter:15,samplefile:16,importFromCube:17,addNewConnector:18,newConnector:19,cloudElement:20,mstrConnector:21,s4hana:22,amazonS3:23,azureDataLake:24,googleCloudStorage:25,bw4hana:26,sapBW:27,sapECC:28,financialforce:29,veevacrm:30,servicemax:31,nativeSDKConnector:32,unknow:-1},columnState:{reserved:0,unchanged:1,newColumn:2,missing:4,changed:8},operationMode:{create:0,edit:1,refresh:2,subscribe:3,enterCredentials:4,oauth:5,pickTable:6,hadoopPickTable:7,ffsql:8,hadoopFFsql:9},statusCode:{obtainSource:-2147071874,xformsError:-2147071872,mappingError:-2147071871,edit:1,republish:2,schedule:3,enterCredentials:4,pickTable:5,hadoopPickTable:6,ffsql:7,hadoopFFsql:8},pageType:{intro:0,file:1,database:2,emmaPreview:3,redirect:4,analytics:5,dataSelection:6,suggestNewSource:7,sourceIntro:8,sourceObjects:10,sampleFiles:11,dataset:12,externalPage:13,preview:14,clipboard:15,refine:16,parse:17,mstrFile:18,allProjectSource:19,hadoop:20,twitter:21,facebook:22,sourceObjectsDnD:23,schedule:24,publicData:25,republish:26,sourceAdmin:27,importFromCube:28,addNewConnector:29,newConnector:30,addConnectorList:31,cloudElement:32,s4hana:33,cloudConnector:34,python:35,dbTables:36},backendError:{overwriteObject:-2147212339,noPermission:-2147214579,invalidObjectName:-2147213715,unexpectedDataType:-2147212539,noExternalSession:-2147071844,noPrivilege:-2147212082,salesforceUnsavedReport:-2147212081,salesforceObsoleteReport:-2147212080,maxSizeExceeded:-2147212076,maxSizeExceededURL:-2147212121,salesforceUnresolvedFilter:-2147212074,incrementalRefresh:-2147212287,invalidUrl:-2147212062,fileVersionError:-2147212064,emptySheet:-2147212144,refreshTokenUnavailable:-2147202875,cubeQuotaExceeded:-2147071825,notEnoughSpace:-2147071811,importedURLInvalid:-2147212122,unsupportedFileFormat:-2147212063,objectNameTooLong:-2147217407,noExternalSourceInfo:-2147215346,memoryConsumptionExceeded:-2147215346,cubeQuotaReached:-2147071870,switchingFileType:-2147212140,memoryGovernSizeExceeded:-2147181051,stringTooLong:-2147213718,missingColumn:-2147071871,dataDiscoveryError:-2147211998,refineApplyError:-2147202299,serverOutOfMemory:-2147212055,columnCountMatchError:-2147467259,incompatibleDataTypeError:-2147211983,reportTimeout:-2147212335,requestTimeout:-2147206497,databaseCredentialsNotAvailable:-2147212037,ddasupportIncompatible:-2147215326,mergeInvalidXdatype:-2147215325,notFullyControl:-2147214579,shouldBeIgnored:-2147212123,CECredentialNotAvailable:-2147215317,AuthenticationError:-2147215346,queryEngineGeneralError:-2147212544,objectNotFound:-2147216373,clientSecretNotFound:-2147180962,retrieveRefreshTokenFailed:-2147202857,cancelPublishFailed:-2147463843,invalidArgumentError:-2147024809},transformation:{xtab:1,delimiter:2},application:{platform:"Platform",cloudPersonal:"Personal",cloudProfessional:"Professional"},refreshOptions:{replace:1,append:2,update:4},cubeRefreshType:{dummy:-1,reserved:0,add:1,remove:2,update:3,upsert:4,addNewTable:5,deleteTable:6,replaceTable:7,preserve:8},tableStatsExecutionAction:{reserved:0,forceExecution:1,ignore:4,requireFreshData:268435456},sourcesInfoFlags:{none:0,getReports:1,getUserName:2,getTokensInfo:4,revokeSession:8,getGAnalyticsAccount:64},queryBuilderType:{individualTable:1,multipleTables:2,queryScript:3},relationshipEditType:{create:1,changeERType:2,remove:3,flip:8001},ERType:{reserved:0,ERType11:1,ERType1M:2,ERTypeM1:3,ERTypeMM:4,ERTypeParallel:5,ERTypePerpendicular:6},RSType:{reserved:0,auto:1,geo:2,defined:3},tableStates:{newly:1,old:2},behaviorChangeFlag:{multiSheet:4,remapping:8,refreshData:16},menuItems:{SEPARATOR:-1,NONE:0,TABLE_RENAME:1,DO_NOT_IMPORT:2,FLIP_ORDER:3,DELETE:4,RELATIONSHIP_TYPE:5,ONE_TO_ONE:6,ONE_TO_MANY:7,MANY_TO_ONE:8,MANY_TO_MANY:9,REMOVE:10,REFRESH_DATA:11,REFINE:12,CANCEL_REFINE:13,UNLINK:14,CHANGE_DATA_TYPE:15,MARK_GEO_ROLES:16,CREATE_TIME_ATTRIBUTES:17,TO_METRIC:18,TO_ATTRIBUTE:19,MAP_TO_PROJECT_ATTRIBUTE:20,UNMAP:21,MODIFY_ATTRIBUTE_GROUP:22,CREATE_ATTRIBUTE_GROUP:23,HIDE_ALL_ATTRIBUTE_FORMS:24,DEFINE_RELATIONSHIPS:25,LINK:26,ITEM_RENAME:27,CREATE_MULTIFORM_ATTRIBUTE:28,EDIT_MULTIFORM_ATTRIBUTE:29,ADDTO_MULTIFORM_ATTRIBUTE:30,SHOW_ALL_ATTRIBUTE_FORMS:31,SHOW_ALL_COLUMNS:32,PARTITION:33,REFINE_RENAME:34,REFINE_DELETE:35,REFINE_DELETE_ALL:36,REFINE_RESET:37,REFINE_RESET_ALL:38,PARSE:39,IMPORT:40,UNLINK_ALL:41,CREATE_HIERARCHY_ATTRIBUTE:42,EDIT_HIERARCHY_ATTRIBUTE:43,RESET_HIERARCHY_ATTRIBUTE:44,DESCRIPTION:45,EDIT_PROJECT_ATTRIBUTE:46},dataTypeMenuItems:{DATE_TIME:"1",NUMBER:"2",TEXT:"3",URL:"5",EMAIL:"6",HTML_TAG:"7",DATE:"8",TIME:"9",SYMBOL:"10",BIG_DECIMAL:"11",PHONE_NUMBER:"12"},columnDataTypes:{reserved:0,integer:1,unsigned:2,numeric:3,decimal:4,real:5,dtdouble:6,dtfloat:7,dtchar:8,varChar:9,longVarChar:10,binary:11,varBin:12,longVarBin:13,date:14,dttime:15,timeStamp:16,nChar:17,nVarChar:18,nlong:22,bigDecimal:30,cellFormatData:31,utf8Char:33,int64:34},formsOptions:{CREATE_MULTIFORM_ATTRIBUTE:1,EDIT_MULTIFORM_ATTRIBUTE:2,ADDTO_MULTIFORM_ATTRIBUTE:3},hierarchyOptions:{CREATE_HIERARCHY_ATTRIBUTE:1,EDIT_HIERARCHY_ATTRIBUTE:2,RESET_HIERARCHY_ATTRIBUTE:3},rdcsFlag:{ID:1,JOIN_ID:2,FILTER_ID:3,DISTANCE:4},timeRoles:{NONE:0,DATE:1,DATE_TIME:2,TIME:3,SECOND:4,MINUTE:5,HOUR:6,DAY:7,WEEK:8,MONTH:9,QUARTER:10,YEAR:11},contextMenuType:{ITEM_MENU:0,TABLE_MENU:1,PREVIEW_ITEM_MENU:2,LINK_MENU:3},dialogType:{fixRefreshErrorDialog:1,allObjectsViewDialog:2,missingColumnsDialog:3,diPageDialog:4,refreshHistoryDialog:5,alternateSourceValidateDialog:6,ddaConfirmDialog:7,publishStatusDialog:8,saveAsDialog:9,cubesList:10,refinePage:11,multiFormEditor:12,sheetsSelectionDialog:13,partitionGroupDialog:14,parseDataDialog:15,errorDialog:16,warningDialog:17,relationDefineDialog:18,qbImportOptionDialog:19,previewRenameDialog:20,mapProjectsAttributeDialog:21,setOAuthParaDialog:22,objectPicker:23,refineClusteringPage:24,refineExtractDialog:25,refineImportDialog:26,twitterAdvOptDialog:27,credentialsDialog:28,mapProjectsAttributeDialog2:29,setWhiteListDialog:30,binaryUploadDialog:31,authenticationDialog:32,sharingDialog:33,hadoopGatewayManagerDialog:34,hadoopGatewayDialog:35,addConnectorDialog:36,hierarchyAttributeDialog:37,hierarchyAttributeResetDialog:38,objectDescDialog:39,mstrConnectorConfigDialog:40,nativeSDKConnectorOAuthConfigDialog:41,sharepointFilesConfigDialog:42,salesforceEnvironmentDialog:43,workdayConfigDialog:44,},dataEvents:{DATA_PREVIEW_EVENT:"dataReturned",NO_DATA_RETURNED_EVENT:"noDataReturned"},cubeSchedStatus:{unexecuted:1,successful:2,unscheduled:3,failed:4},privilegeType:{accessDatabase:1,accessFile:2,accessCloud:3},displayOption:{relational:1,mdx:2,SearchEngine:4,webServices:8,bigData:16,hadoop:32},dbType:{MS_ACCESS:100,ORACLE:200,SQL_SERVER:300,INFORMIX:400,SYBASE:500,REDBRICK:600,DB2:700,TANDEM:800,TERADATA:900,UNKNOWN:1000,GENERIC:1100,SAP:1200,NETEZZA:1300,EXCEL:1400,MSFT_AS:1500,ESSBASE:1600,MYSQL:1700,POSTGRESQL:1800,HPNEOVIEW:1900,METAMATRIX:2000,DATALLEGRO:2100,COMPOSITE:2200,ASTER:2300,VERTICA:2400,OPENACCESS:2500,SYBASE_SQL_ANY:2600,SYBASE_IQ:2700,PARACCEL:2800,TM1:2900,XQUERY:3000,HIVE:3100,SAND:3200,SALESFORCE:3300,HIVETHRIFT:3400,VECTORWISE:3500,ENTERPRISEDB:3600,KOGNITIOWX2:3700,EXASOLUTION:3800,INFORMATICA:3900,SAPHANA:4000,IMPALA:4100,AMAZON_REDSHIFT:4200,DENODO:4300,GOOGLE_DRIVE:4400,DROPBOX:4500,GOOGLE_ANALYTICS:4600,GOOGLE_BIGQUERY:4700,CONNECTION_CLOUD:4800,GOOGLE_BIG_QUERY_FFSQL_MODEL:4900,PARSTREAM:5100,MONGODB:5200,MARKLOGIC:5300,BIG_DATA_ENGINE:5400,SEARCH_ENGINE_SOLR:5500,SPLUNK:5600,TWITTER:5700,FACEBOOK:5800,PIG:6400,MEMSQL:6700,URL:7700,newConnector:7900,LOCALFILE:8200,SAPHANAMDX:18300,SNOWFLAKE:7600,SAPS4HANA:11300,SAPBW4HANA:11500,SAPBW:13700,SAPECC:13800,MicrosoftDynamics365:13900,CLOUD_GATEWAY_S3:18500,CLOUD_GATEWAY_ADLS2:18600,CLOUD_GATEWAY_GCS:18700,KYVOSMDX:18800,KYLIGENCEMDX:18900},getCubeQuotaAndInfosOptions:{GetCubeQuotaAndInfosReserved:0,GetCubeQuotaAndInfosDefault:1,GetCubeQuotaAndInfosQuotaOnly:2,GetCubeQuotaAndInfosAll:3,GetCubeQuotaAndInfosVI:4},homepageViewMode:{GRID_VIEW:0,LIST_VIEW:1},datasetServeMode:{inMemory:1,dda:2,unknow:3},cubePollStatus:{msgID:0,result:1,prompt:2,error:3,xmlResult:21},ibmDb2Versions:[17,18,21,22,23,24,25,37,45,46,47,48,63,66,74,89,92,101,103,105,123,134,157,172,202,232,268],hadoopDbTypes:[3100,1100,700,4100,7300,6800,6400,8100],formCategory:{longitude:"2345134F4F5E261C3BB902A874467080",latitude:"B191051C48221A6AE44CA2B65B1B65E3"},formCategoryName:{ID:"ID",DESC:"DESC",GEOMETRY:"Geometry"},urlAuthDBRoles:{anonymous:"CB1CB472A07E41D5AE038232839F2064",windows:"95A5ACC02FE94CBABCB65E4F2D2415B2",kerberos:"317D6F016D784836A724AD4D739E1E9C",integrated:"E966E1A0A4C949108287B2E5086B68EB"},urlAuthDBMSId:"497F2406FA154B86810C71EA3D401D6D",newConnectorDBMSId:"565D5DC3A1124726B85FE53EF992472A",s4AuthDBMSId:"E4A10C0974334E5F985F941A78E43987",bw4AuthDBMSId:"CAEDBBE4FF43473A932592DD58034DF7",sapBWAuthDBMSId:"F51360595B6A4A49A3576479BC358E58",sapECCAuthDBMSId:"4E9D233B34134347A5C61AC5D1CBBE91",dbms:{cloudGatewayS3:"CD24C7F473194C5984A0B2F8AEF688F7",cloudGatewayGCS:"0ED3A7C42FF3452ABB22F0E18297E98C",cloudGatewayADLS2:"D649DA37F4514289AA44D93B128F3BD5",SQLDataBaseforWindowsAzure:"68CD44338CF911D5801122C04F780609",Azure_DW:"19AF6FB465F04552A872D7FB5CC79952"},hadoopGateWay:{HGoS_CONFIG_HAS_EXIT:1510,CONNOT_AUTHENTICATE:1511,SPACE_OVER:1512,FAIL_COPY_TO_HOST:1513,INSUFFICIENT:1514,DIRECTORY_NO_EXIST:1515,HGOS_DEPLOYED:1518,HGOS_DEPLOYING:1519,CONNOT_AUTHENTICATE2:1520,HGOS_RUNNING:1521,HGOS_STOPPED:1522,HGOS_NOT_DEPLOYING:1523,HGOST_TAR_NOT_EXIST:1524,HGOS_CONF_NOT_EXIST:1530},workstation:{filerBreakLine:new RegExp("[\r\n]","g"),utils:{shouldShowTitleBar:function(){var A=mstrApp.getRootController().rootView.inPageDialog
	return !!mstrApp.isWorkstation&&(!!mstrApp.isPopup||!!A)
	},shouldHideTitleBar:function(){var A=mstrApp.getRootController().rootView.inPageDialog
	return !!mstrApp.isWorkstation&&!mstrApp.isPopup&&!A
	},setNativeWindow:function(C,F){var B=1010,E=552,D=parseInt(C,10),A=parseInt(F,10)
	if(C.match(/%$/)&&F.match(/%$/)){window.FormWrapper.setWindowContentSize(1200,680)
	}else{D=D<B?B:D
	A=A<E?E:A
	window.FormWrapper.setWindowContentSize(D,A)
	}},lockResize:function(){if(!window.FormWrapper||!window.FormWrapper.lockResize){return 
	}window.FormWrapper.lockResize()
	},unlockResize:function(){if(!window.FormWrapper||!window.FormWrapper.unlockResize){return 
	}window.FormWrapper.unlockResize()
	}}},authMode:{ANONYMOUS:0,UNAME:1,OAUTH:2,CC:3},authModePrefix:{ANONYMOUS:"AuthMode=Anonymous
	URL=",UNAME:"AuthMode=Basic
	URL=",OAUTH:"AuthMode=OAuth
	URL=",CC:"AuthMode=CC
	URL="},sdkUrl:{MARKPLACE_URL:"https://community.microstrategy.com/s/gallery?tabset-89baf=202df",QUICK_START_URL:"https://lw.microstrategy.com/msdz/MSDL/GARelease_Current/docs/projects/DataConnectorSDK/Content/topics/Quick_Start_Guide.htm"},originalConnector:{elastic:"DE4A8E15405A36D80BF1E1A2BA6F9B66",tapClicks:"1E8ADD3975DA4609B8D00E6211ACAB6A"},googleAnalyticsUrl:{queryExplorer:"https://ga-dev-tools.appspot.com/query-explorer/"},weekDay:[{n:mstrmojo.desc(9380,"Monday"),v:0},{n:mstrmojo.desc(9381,"Tuesday"),v:1},{n:mstrmojo.desc(9382,"Wednesday"),v:2},{n:mstrmojo.desc(9383,"Thursday"),v:3},{n:mstrmojo.desc(9384,"Friday"),v:4},{n:mstrmojo.desc(9385,"Saturday"),v:5},{n:mstrmojo.desc(9379,"Sunday"),v:6}],dateMon:[{n:mstrmojo.desc(15106,"1st day"),v:"1"},{n:mstrmojo.desc(15107,"15th day"),v:"15"}],timeOfDay:[{n:"12:00AM",v:"12:00AM"},{n:"1:00AM",v:"1:00AM"},{n:"2:00AM",v:"2:00AM"},{n:"3:00AM",v:"3:00AM"},{n:"4:00AM",v:"4:00AM"},{n:"5:00AM",v:"5:00AM"},{n:"6:00AM",v:"6:00AM"},{n:"7:00AM",v:"7:00AM"},{n:"8:00AM",v:"8:00AM"},{n:"9:00AM",v:"9:00AM"},{n:"10:00AM",v:"10:00AM"},{n:"11:00AM",v:"11:00AM"},{n:"12:00PM",v:"12:00PM"},{n:"1:00PM",v:"1:00PM"},{n:"2:00PM",v:"2:00PM"},{n:"3:00PM",v:"3:00PM"},{n:"4:00PM",v:"4:00PM"},{n:"5:00PM",v:"5:00PM"},{n:"6:00PM",v:"6:00PM"},{n:"7:00PM",v:"7:00PM"},{n:"8:00PM",v:"8:00PM"},{n:"9:00PM",v:"9:00PM"},{n:"10:00PM",v:"10:00PM"},{n:"11:00PM",v:"11:00PM"}],schedule:{DAILY:"Daily",WEEKDAY:"Weekday",WEEKLY:"Weekly",MONTHLY:"Monthly"},scheduleTemp:{CUSTOM:"Custom",EXISTED:"Existed",NONE:"None"},clockMode:[{n:"AM",v:"am"},{n:"PM",v:"pm"}],twelveHourOfDay:[{n:"12:00",v:"12:00"},{n:"1:00",v:"1:00"},{n:"2:00",v:"2:00"},{n:"3:00",v:"3:00"},{n:"4:00",v:"4:00"},{n:"5:00",v:"5:00"},{n:"6:00",v:"6:00"},{n:"7:00",v:"7:00"},{n:"8:00",v:"8:00"},{n:"9:00",v:"9:00"},{n:"10:00",v:"10:00"},{n:"11:00",v:"11:00"},],mainPage:{GRID_MODE:0,LIST_MODE:1},sourceIconClsName:{0:"ds-Generic",1:"ds-DB2",2:"ds-DB2",3:"ds-DB2",4:"ds-InformixWire",5:"ds-InformixXPS",6:"ds-PostgreSQL",7:"ds-SAP",8:"ds-SAP",9:"ds-Oracle",10:"ds-MicroSoft",11:"ds-Teradata",12:"ds-MySQL",13:"ds-GreenPlum",14:"ds-Netezza",15:"ds-WebServices",17:"ds-Infobright",18:"ds-Salesforce",19:"ds-MicroSoft",20:"ds-Actian-n",21:"ds-Amazon-Redshift",22:"ds-Impala",23:"ds-Aster",25:"ds-Actian-n",26:"ds-EnterpriseDB",27:"ds-Vertica",28:"ds-Denodo",29:"ds-CiscoDataVirtualization",31:"ds-MicroSoft",32:"ds-GoogleBigQuery",33:"ds-SAP",35:"ds-IBMBigInsights",39:"ds-TM1",41:"ds-WebServices",43:"ds-Amazon-EMR",44:"ds-Apache-Hive",45:"ds-ClouderaHive",46:"ds-HortonworksHive",47:"ds-MapRHive",48:"ds-apache",49:"ds-SharkSpark",50:"ds-MongoDB",52:"ds-MariaDB",51:"ds-MarkLogic",54:"ds-Splunk",55:"ds-DataDirectCloud",56:"ds-ParStream",58:"ds-Phoenix",59:"ds-MicroSoft",60:"ds-DB2",61:"ds-Oracle",62:"ds-Teradata",63:"ds-SAP",65:"ds-PostgreSQL",66:"ds-MySQL",67:"ds-MariaDB",68:"ds-Amazon-EMR",69:"ds-Apache-Hive",70:"ds-ClouderaHive",71:"ds-HortonworksHive",72:"ds-MapRHive",73:"ds-SharkSpark",75:"ds-Amazon-Redshift",76:"ds-PIVOTALHAWQ",77:"ds-MemSQL",78:"ds-Arcadia-Platform",79:"ds-Altibase",80:"ds-MongoDB",81:"ds-Presto",82:"ds-DB2",83:"ds-DB2",84:"ds-InformixWire",85:"ds-SAP",86:"ds-MicroSoft",87:"ds-MicroSoft",88:"ds-MemSQL",90:"ds-GreenPlum",91:"ds-PIVOTALHAWQ",92:"ds-Netezza",93:"ds-Infobright",94:"ds-Actian-n",95:"ds-Impala",96:"ds-IBMBigInsights",97:"ds-Aster",99:"ds-Actian-n",100:"ds-EnterpriseDB",101:"ds-Vertica",102:"ds-Denodo",103:"ds-CiscoDataVirtualization",105:"ds-DataDirectCloud",106:"ds-ParStream",107:"ds-Arcadia-Platform",109:"ds-Presto",110:"ds-Phoenix",111:"ds-Kognitio",112:"ds-Kognitio",113:"ds-Informatica",114:"ds-Informatica",115:"ds-Apache-Cassandra-JDBC",116:"ds-SAP",117:"ds-Actian",118:"ds-Actian",119:"ds-InformixXPS",120:"ds-Apache-Cassandra-JDBC",121:"ds-MapRDrill",122:"ds-Cirro",123:"ds-EXASolution",124:"ds-EXASolution",125:"ds-Oracle",126:"ds-Oracle",127:"ds-Snowflake",128:"ds-Snowflake",129:"ds-Amazon-Aurora",130:"ds-Amazon-Aurora",131:"ds-Amazon-Athena",132:"ds-Amazon-Athena",133:"ds-MapRDrill",134:"ds-Druid",135:"ds-Druid",139:"ds-MongoBI",157:"ds-GoogleBigQuery",158:"ds-CDataOData",161:"ds-MapD",168:"ds-HortonworksSpark",169:"ds-HortonworksSpark",170:"ds-Yellowbrick",},dbId:{WebServices:15,GBQ_JDBC:157,SalesforceSOQL:179,DATABRICKS:196,CDataOData:158,IBMNPS:171,IBMNPS_JDBC:172,SQLServer:10,SQLServer_JDBC:59,PostgreSQL:6,PostgreSQL_JDBC:65,MEMSQL:77,MEMSQL_JDBC:88,},TREE_SPLIT_CHARACTER:".",dispTag:{1:"Database",2:"OLAP",4:"BigData",8:"Database",16:"BigData",32:"BigData"},searchTags:{100:["Database","ODBC"],200:["Database","ODBC"],300:["Database","ODBC"],400:["Database","ODBC"],500:["Database","ODBC"],600:["Database","ODBC"],700:["Database","ODBC"],900:["Database","ODBC"],1100:["Database","ODBC"],1200:["OLAP","Cube"],1300:["Database","ODBC"],1400:["Database"],1500:["OLAP","Cube"],1600:["OLAP","Cube"],1700:["Database","ODBC"],1800:["Database","ODBC"],2200:["Database","ODBC"],2300:["Database","ODBC"],2400:["Database","ODBC"],2800:["Database","ODBC"],2900:["OLAP","Cube"],3000:["Database"],3100:["Database","BigData","Hadoop"],3300:["Cloud"],3500:["Database","ODBC"],3600:["Database","ODBC","BigData"],3800:["Database"],3900:["Database"],4000:["Database","ODBC"],4100:["Database","BigData","Hadoop"],4200:["Database","ODBC"],4300:["Database","ODBC"],4700:["Database","Cloud","BigData"],4800:["Cloud"],5200:["Database","NoSQL"],5300:["Database","NoSQL"],5400:["Hadoop"],6400:["Database","BigData","Hadoop"],6600:["Database"],6700:["Database"],6800:["BigData"],6900:["BigData"],7100:["NoSQL"],7200:["Database","BigData","Hadoop"],7300:["BigData","Hadoop"],7500:["Database"],7600:["Database"],8000:["Database"],8100:["BigData"],},srcItemTypes:{ALL_SOURCES:"ALL_SOURCES",STATIC_SOURCE:"STATIC_SOURCE",DBTYPE_SOURCE:"DBTYPE_SOURCE",CUSTOM_CONNECTOR:"CUSTOM_CONNECTOR",CLOUDELEMENT_CONNECTOR:"CLOUDELEMENT_CONNECTOR"},combination:{BigData:["BigData","NoSQL","Search","Hadoop"],Apps:["Apps","oAuth","Cloud","Social","BI","PublicData","CE"]},GenericDBStr:"Generic",dataSourceType:{MONGODB:"mongodb",FILE_URL:"fileUrl",FILE_LOCAL:"fileLocal",SAMPLE_FILE:"sampleFile",ES:"elasticsearch",DROPBOX:"dropbox",GOOGLE_DRIVE:"googleDrive",GOOGLE_ANALYTICS:"googleAnalytics",GOOGLE_BIGQUERY:"googleBigQuery",SALESFORCE:"salesforce",FILE:"file",GENERIC_JDBC:"genericJdbc"},salesforceEnvironmentIDP:{3:4,35:5,},salesforceDBRoleID:{0:"AC41E217C55342DC871C511E77EBE4D0",3:"136A993630BE4A72B6E24C8029DC7FEE",35:"B1FC634FBB214FF8884C0ADEBED36AA0"},ERDF:{ENUM_LOAD_REPORT_BROWSE_TYPE_BINDINGTABLE:1,ENUM_LOAD_REPORT_BROWSE_TYPE_DATAPREVIEW:4,ENUM_LOAD_REPORT_BINDING_FLAG_ALL:15,ENUM_LOAD_REPORT_PREVIEW_FLAG_MappingInfo:1,ENUM_LOAD_REPORT_PREVIEW_FLAG_DataInfo:2,ENUM_LOAD_REPORT_PREVIEW_FLAG_SourceInfo:4,ENUM_LOAD_REPORT_PREVIEW_FLAG_InnerDataInfo:2048,},DSSSubType:{DSSSUBTYPEATTRIBUTE:3072,DSSSUBTYPEATTRIBUTEROLE:3073,DSSSUBTYPEATTRIBUTETRANSFORMATION:3074,DSSSUBTYPEATTRIBUTEABSTRACT:3075,DSSSUBTYPEATTRIBUTERECURSIVE:3076,DSSSUBTYPEATTRIBUTETIMEZONE:3078},DSSExType:{DSSEXDISPARK:416},URLMode:{NormalUrl:0,NewConnector:1,NewConnectorEdit:2,CloudElement:3},disableFeatures:{DISABLE_CUSTOM_CONNECTOR:"disableCustomerConnector",DISABLE_DDA:"disableDDA",DISABLE_QUOTA:"disableQuota",DISABLE_HADOOP:"disableHadoop",DISABLE_BI_TOOLS:"disableBITools",DISABLE_CLIP_BOARD:"disableClipboard",DISABLE_FACE_BOOK:"disableFacebook",DISABLE_TWITTER:"disableTwitter",DISABLE_SAMPLE_FILES:"disableSampleFiles",DISABLE_PUBLIC_DATA:"disablePublicData",DISABLE_MERGE_CUBE:"disableMergeCube",DISABLE_CE_SOURCE:"disableCESource",DISABLE_FLATTERN_DB_SOURCE:"disabledSources"},DssXmlPrivileges:{DssXmlPrivilegesUseDatabaseInstanceManager:57},Enum_SourceCategoryType:{File:1,BigData:2,Database:3,OLAP:4,Customized:5,Apps:6,},fileTypesDesc:{DB_FILE_TYPE_EXCEL:"DB_FILE_TYPE_EXCEL",DB_FILE_TYPE_CSV:"DB_FILE_TYPE_CSV",DB_FILE_TYPE_HTML:"DB_FILE_TYPE_HTML",DB_FILE_TYPE_JSON:"DB_FILE_TYPE_JSON",DB_FILE_TYPE_SAS:"DB_FILE_TYPE_SAS"},mimeType:{JSON:"application/json",},FormThatDisableGeo:{Latitude:"Latitude",Longitude:"Longitude",Geometry:"Geometry"},DSSViewMedia:{dssViewMediaAvailablePushDataAPI:1048576},multiSheetFileTypes:["PARQUET","AVRO","ORC","JSON",],storageType:{CSV:"CSV",MULTI_SHEET:"MULTI_SHEET",UNKNOWN:"UNKNOWN"},dbmsObjectsFetchedEvt:"serverDBMSObjectsFetched",nativeAppOAuth2Solution:{NOT_SUPPORTED:0,LOOPBACK_INTERFACE_REDIRECTION:1,MANUAL_COPY_PASTE:2},nativeSDKConnectorEvt:{MSTR_CONN_1ST_SAVE:"dbRole1stTimeSlientSave",NATIVESDK_DBROLE_FETCHED:"NativeSDKConnectorDBRolesFetched"},nativeSDKConnectors:{mstr:"F72DF5DBDBB44F85B8FC4218523CA398",surveyMonkey:"7EAF57EA11EB493A8E4EFF2050274D05",surveyGizmo:"EB6F5F098F2B4928AB34D8A9734237B8",box:"BD033C929B064691AB0B3040EEEAA49C",onedrive:"3BEC897ADE7C48E1A30DC3CAF4C8E58C",sharepointFiles:"2AB8423295094B6D998DB5E53371884A",workday:"E88B20C1F30443E0AA8DEA709F2356BC"},nativeAndManagedUrlDBRoleEvt:"nativeAndManagedDBRFetched",noGatewayAgentDBs:[15,41,32,157,127,128,86,87,151,180,39,183,210,37,38,36,170,195,196],mciDisabledDBs:[0,5,8,13,14,15,17,19,20,23,25,27,29,31,51,52,54,55,58,77,78,81,111,113,122,123,129,131,139,140,143,144,145,146,147,148,149,150,158,161,166,171,194],mciDisabledURLPatterns:[/.*?:\/\/127\.0\.0\.1/i,/.*?:\/\/localhost/i,/.*?:\/\/0\.0\.0\.0/i,/.*?:\/\/\[::\]/i,/.*?:\/\/0000::1/i,/.*?:\/\/2130706433/i],QBImportOptions:{HADOOP_FILES:"0",SELECT_TABLES:"1",BUILD_A_QUERY:"2",TYPE_A_QUERY:"3"},cancelStatus:{NOT_START:0,ON_LOADING:1,},hadoopGatewayFeature:"mstrApp.diParams.hadoopGatewayFeature",deploymentType:{OnPrem:0,MCI:1,MCP:2,MCE:3,MCG:4},cubeType:{dda:0,inmemory:1,optimizeDDA:2},VLDB_REPORT:"VLDB Report",LIVE_CONNECT_TABLE_CACHE_USAGE_NAME:"Live Connect Table Cache Usage",feature:{PYTHON:"GD/PythonConnector",WORKDAY:"GD/Workday"},sensitiveFields:["REFRESHTOKEN","CLIENTSECRET","OAUTHREFRESHTOKEN","OAUTHCLIENTSECRET"],clearExtrSensitiveFields:"mstr_clear_extr",defaultScheduleTriggers:{0:"1F1CB6555A044B199CB320E8CCA0BE8A",1:"297A791FAA5A462EA92F925FC507521E",2:"473AC7C12B524BD9B7932D49565F1F2D",3:"6D12BF67BB324E358ECB9CDBB0A5EC6D",4:"BBB47C25619D4401B44DA06126927ADC",5:"0CDF19F6C327421C88BE1D0F87F1703C",6:"B585FB2A299E4D42B82713B31DFEF285",7:"ABBCC90BAC4B49E0A2F952CAE1B7FA29",8:"F64E91C4CE314BE79F23CCB9E9C7368D",9:"55558DC52B7942AF9528B93FB8E8729B",10:"C002B0F5E75C4958AAC472CE9E12FE50",11:"725649D3CC8E4E5CB608610A9DE56B4C",12:"F0D51E65224741F9BE95080CE4C54917",13:"FAE0B2D2844E4DBF89D8A1724F7BE36B",14:"24E7B18DDA1C4480AFC9A14B0D549927",15:"C90D253D749A4AD99126124C599B514D",16:"7835BCA90A3C464DAD2F7738927E9F6C",17:"A7C73679F727411EAC947E5AAF4CF6CF",18:"8CC62F71CC7B42C18D2D6A3E77A4B695",19:"43E72B80DEE844F9B779CF874A107ED2",20:"537DF2B73F324AE5A01AA95FBCA79FB4",21:"F56D5A0F76EB4F088B0128A3D404C399",22:"92A6AB9D954F40A8B8F7A50AC585753C",23:"ACD5F308B2D64D7C97057581AC2475DB"}})
	}())
	(function(){function Aa(BE,BF){return BF||(BE||window).event
	}function AD(BE){var BF=parseInt(BE,10)
	return BF===null||isNaN(BF)?0:BF
	}mstrmojo.PositionType=null
	var A9=!!document.all,AY=document.documentMode,AJ=navigator.userAgent,AC=false,z=false,w=false,v=false,b=false,Z=!A9&&"ActiveXObject" in window,AL=false
	A9=A9||Z
	if(A9){if(window.mstrConfig&&mstrConfig.isEdgeModeEnabled){AC=!!AJ.match(/MSIE 6/)
	z=((!!AJ.match(/MSIE 7/)&&!AY)||AY===7)
	w=(AY===8)
	v=(AY===9)
	b=(AY===10)
	AL=(!AY||AY<=9)
	}else{AC=!!AJ.match(/MSIE 6/)
	z=!!AJ.match(/MSIE 7/)
	w=!!AJ.match(/MSIE 8/)
	v=!!AJ.match(/MSIE 9/)
	b=!!AJ.match(/MSIE 10/)
	AL=!b
	}}var u=!A9&&!!AJ.match(/Firefox/),AE=0,AK=!!AJ.match(/Android/),A8=!!AJ.match(/DossierMobile/),Ay=!!AJ.match(/iPad/),Af=!!AJ.match(/iPhone/),p=!!AJ.match(/Macintosh/)&&"ontouchend" in document,An=!!document.createTouch||AK,AI=!!AJ.match(/PlayBook/),X=!!AJ.match(/Windows Phone/),BA=!A9&&!!AJ.match(/Trident.*rv/),t=u?"-moz-":(A9||BA)?"":"-webkit-",AZ=u?"Moz":(b||BA)?"":A9?"ms":"webkit",Ak=((b||BA)?"t":"T"),Ae=AZ+Ak+"ransition"
	var q="mstrevent",C="mstreventmark",N=["showFunctionHelpTopicNode","dynamicClickNode","todoRefactorNode"],j=null
	function A3(){return AZ+Ak+"ransform"
	}function AW(){return Ae+"Property"
	}function c(){return Ae+"Duration"
	}function W(){return(b||u)?"transitionend":"webkitTransitionEnd"
	}function x(){return AZ+"BoxShadow"
	}var A6=A3(),At=AW(),AR=c(),A=W(),AG=x()
	function Aj(){if(!AE&&u){var BE=AJ.match(/.*Firefox\/([\d|\.]*).*/)
	if(BE){AE=parseFloat(BE[1])
	}}return AE
	}function Ap(){var BF=0,BJ=0,BG=window,BH=document,BE=BH.body,BI=BH.documentElement
	if(typeof BG.pageYOffset==="number"){BJ=BG.pageYOffset
	BF=BG.pageXOffset
	}else{if(BE&&(BE.scrollLeft||BE.scrollTop)){BJ=BE.scrollTop
	BF=BE.scrollLeft
	}else{if(BI&&(BI.scrollLeft||BI.scrollTop)){BJ=BI.scrollTop
	BF=BI.scrollLeft
	}}}return{x:BF,y:BJ}
	}function AX(BE){BE=BE||0
	BE=String(BE)
	return((BE.indexOf("%",0))!==-1)?BE:(BE+"px")
	}function Ah(BG,BK,BJ,BI,BH){if(!mstrmojo.dom.isWinPhone){BI=(BI||false||this.isHWAccelerated)
	}else{BI=false
	}var BF=BH+(BI?"3d":"")+"(",BE=BI?(","+BJ+")"):")"
	return BF+BG+","+BK+BE
	}var Av=2,h=3
	function AM(BM,BK,BO,BF,BP){var BN=BM.style,BI=BN.display,BJ=this.windowDim(),BH=Ap()
	BN.display="block"
	var BL=BJ.w-(BF||BM.clientWidth),BQ=Math.max(BJ.h-(BP||BM.clientHeight),0),BE={4:0,5:BL,3:BL/2},BG={1:0,3:BQ/2,2:BQ}
	BN.left=BE[BK]+BH.x+"px"
	BN.top=BG[BO]+BH.y+"px"
	BN.display=BI
	}function AF(BH,BG,BI,BE){if(BH.addEventListener){return BH.addEventListener(BG,BI,!!BE)
	}BI._id=BI._id||AF.guid++
	BH.events=BH.events||{}
	var BF=BH.events[BG]
	if(!BF){BF=BH.events[BG]={}
	if(BH["on"+BG]){BF[0]=BH["on"+BG]
	}}BF[BI._id]=BI
	function BJ(BM){BM=BM||window.event
	var BL=this.events[BM.type],BK
	for(BK in BL){BL[BK].call(this,BM)
	}}BH["on"+BG]=BJ
	}AF.guid=1
	function AA(BG,BF,BH,BE){if(!BG){return 
	}if(BG.removeEventListener){BG.removeEventListener(BF,BH,!!BE)
	}else{if(BG.events&&BG.events[BF]){delete BG.events[BF][BH._id]
	}}}mstrmojo.Enum_Keys={BACKSPACE:8,TAB:9,ENTER:13,CTRL:17,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46}
	mstrmojo.dom=mstrmojo.provide("mstrmojo.dom",{userAgent:AJ,isIE:A9,isIE6:AC,isIE7:z,isIE8:w,isIE9:v,isIE10:b,isIE11:Z,isIEW3C:BA,isNSIE:AL,isDXIE:AL,isFF:u,isWK:!!AJ.match(/AppleWebKit/),isSafari:!!AJ.match(/Safari/)&&!AJ.match(/Chrome/),isChrome:!!AJ.match(/AppleWebKit/)&&AJ.match(/Chrome/),isEdge:!!AJ.match(/Edge/),isHWAccelerated:!AK,isAndroid:AK,isAndroidLibrary:A8,isIPad:Ay,isIPhone:Af,isPlayBook:AI,isWinPhone:X,isMobile:Ay||Af||X||AK,isIOSTouch:(Ay||Af||p)&&!window.MSStream,supportsTouches:An,TOUCHSTART:An?"touchstart":"mousedown",TOUCHMOVE:An?"touchmove":"mousemove",TOUCHEND:An?"touchend":"mouseup",TOUCHCANCEL:An?"touchcancel":"",RESIZE:An?"orientationchange":"resize",CSS3_PREFIX:t,CSS3_BOXSHADOW:AG,CSS3_TRANSFORM:A6,CSS3_TRANSITION:Ae,CSS3_TRANSITION_PROPERTY:At,CSS3_TRANSITION_DURATION:AR,CSS3_TRANSITION_END:A,cssFeatures:{GRADIENTS:"gd",ROUND_CORNERS:"rc",TEXT_ROTATION:"tr",DROP_SHADOW:"sh",INNER_TEXT:"innerText"},htmlFeatures:{FILE_READER:"fr"},MOUSE_BUTTON:{LEFT:1,RIGHT:2},isTouchOptimizationEnabled:function AP(){return A8
	},supports:function B(BE){var BF=this.isFF&&Aj()
	switch(BE){case this.cssFeatures.GRADIENTS:return(this.isIE||this.isIEW3C||this.isWK||BF>=3.6||this.isWinPhone)
	case this.cssFeatures.ROUND_CORNERS:return(this.isWK||this.isFF||this.isWinPhone||this.isIE10)
	case this.cssFeatures.TEXT_ROTATION:case this.cssFeatures.DROP_SHADOW:return(this.isIE||this.isWK||BF>=3.5||this.isWinPhone||this.isIE10||this.isIEW3C)
	case this.htmlFeatures.FILE_READER:return !!(window.FileReader)
	case this.cssFeatures.INNER_TEXT:return !this.isFF||BF>44
	}return false
	},getOSInfo:function Ag(){var BE="Unknown",BF=navigator.appVersion,BM=navigator.userAgent,BG=BE
	var BL=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}]
	var BI
	for(BI=0
	BI<BL.length
	BI++){var BK=BL[BI]
	if(BK.r.test(BM)){BG=BK.s
	break
	}}var BH=BE,BJ
	if(/Windows/.test(BG)){BJ=/Windows (.*)/.exec(BG)
	BH=BJ&&BJ[1]
	BG="Windows"
	}else{switch(BG){case"Mac OS":BJ=/Macintosh.* (\d+[\.\_\d]+)/.exec(BM)
	BH=BJ&&BJ[1]
	break
	case"Android":BJ=/Android ([\.\_\d]+)/.exec(BM)
	BH=BJ&&BJ[1]
	break
	case"iOS":BJ=/OS (\d+)_(\d+)_?(\d+)?/.exec(BF)
	BH=BJ&&(BJ[1]+"."+BJ[2]+"."+(BJ[3]|0))
	break
	}}return{name:BG,version:BH||BE}
	},transEndEvtNames:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},closest:function Aw(BF,BE){if(!BF){return null
	}if(BF.closest){return BF.closest(BE)
	}if(!BF.matches){BF.matches=BF.msMatchesSelector||BF.webkitMatchesSelector
	}do{if(BF.matches(BE)){return BF
	}BF=BF.parentElement||BF.parentNode
	}while(BF!==null&&BF.nodeType===1)
	return null
	},animationEndEvtNames:{WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",animation:"animationend"},replace:function AH(BG,BE){if(BG&&BE){var BF=BG.parentNode
	if(BF){BF.replaceChild(BE,BG)
	}}return BE
	},attachEvent:function l(BG,BF,BH,BE){if(BG.addEventListener){return BG.addEventListener(BF,BH,!!BE)
	}return BG.attachEvent("on"+BF,BH)
	},detachEvent:function Ar(BG,BF,BH,BE){if(!BG){return 
	}if(BG.removeEventListener){BG.removeEventListener(BF,BH,!!BE)
	}else{BG.detachEvent("on"+BF,BH)
	}},attachMarkupEvent:function AO(BH,BG,BE){var BF=function(BI){mstrmojo.all[BH].captureDomEvent(BE,window,BI)
	}
	this.attachEvent(BG,BE,BF)
	return BF
	},attachOneTimeEvent:function k(BH,BF,BI,BE){var BG=function(BJ){BI(BJ)
	if(BE){AA(this,BF,BG)
	}else{mstrmojo.dom.detachEvent(this,BF,BG)
	}}
	if(BE){AF(BH,BF,BG)
	}else{this.attachEvent(BH,BF,BG)
	}BH=null
	return BG
	},attachMouseMoveEvents:function E(BH,BE){var BG=this,BF=function(BI){if(BE){BE(BI)
	}BG.detachEvent(document,"mousemove",BH)
	BG.detachEvent(document,"mouseup",BF)
	}
	BG.attachEvent(document,"mousemove",BH)
	BG.attachEvent(document,"mouseup",BF)
	},captureDomEvent:function Ad(BJ,BH,BF,BI,BG){var BE=mstrmojo.all[BJ]
	if(BE){BE.captureDomEvent(BH,BF,BI,BG)
	}},captureEventInfo:function Ac(BH){var BF=mstrmojo.hash.copy(BH,{}),BG=BF.hWin=BF.hWin||window,BE=BF.e=BF.e||BG.event
	BF.node=this.eventTarget(BG,BE)
	BF.pos=this.getMousePosition(BE,BG)
	return BF
	},translate:function S(BG,BF,BJ,BI,BE,BH){BE=(BE&&" "+BE)||""
	BG.style[((mstrmojo.dom.isWinPhone||mstrmojo.dom.isIE9||mstrmojo.dom.isIE10)?"ms":"webkit")+"Transform"]=this.createTranslateString(BF,BJ,BI,BH)+BE
	},createTranslateString:function Y(BE,BH,BG,BF){BE=AX(BE)
	BH=AX(BH)
	BG=AX(BG)
	return Ah(BE,BH,BG,BF,"translate")
	},createScaleString:function AN(BE,BH,BG,BF){BE=BE||0
	BH=BH||0
	BG=BG||0
	return Ah(BE,BH,BG,BF,"scale")
	},_bufferSize:200,_bufferConnects:{},attachBufferedEvent:function D(BG,BE,BH,BJ){var BF=BG.id+"-"+BE,BI=this._bufferConnects[BF]
	if(!BI){BI=this._bufferConnects[BF]={elId:BG.id,eventName:BE,timer:null,bufferSize:BJ,listeners:[],callback:function(BK){mstrmojo.dom._callback(BK,mstrmojo.global,BF)
	return true
	}}
	this.attachEvent(BG,BE,BI.callback)
	}BI.listeners.push(BH)
	},_callback:function A2(BI,BE,BG){var BH=this._bufferConnects[BG],BJ=BH&&BH.timer
	if(BH&&!BJ){var BF=(BH.bufferSize===null)?this._bufferSize:BH.bufferSize
	if(BH.bufferSize){BH.timer=BE.setTimeout(function(){mstrmojo.dom.updateBuffers(BG)
	},BF)
	}else{mstrmojo.dom.updateBuffers(BG)
	}}},updateBuffers:function L(BH){var BI=this._bufferConnects[BH],BF=BI&&BI.listeners,BE=(BF&&BF.length)||0,BG
	for(BG=0
	BG<BE
	BG++){BF[BG]()
	}if(BI&&BI.timer){delete BI.timer
	}},detachBufferedEvent:function AU(BF,BJ,BK){if(!BF){return 
	}var BM=BF.id+"-"+BJ,BG=this._bufferConnects[BM],BI=BG&&BG.listeners,BL=(BI&&BI.length)||0,BH
	if(BL){for(BH=BL-1
	BH>-1
	BH--){if(BI[BH]===BK){BI.splice(BH,1)
	}}if(!BI.length){this.detachEvent(BF,BJ,BG.callback)
	delete this._bufferConnects[BM]
	if(BG.timer){var BE=mstrmojo.global
	BE.clearTimeout(BG.timer)
	}}}},eventTarget:function AS(BE,BF){BF=Aa(BE,BF)
	return BF&&(BF.target||BF.srcElement)
	},isMac:function AQ(){return this.getOSInfo().name.toLowerCase().indexOf("mac")>=0
	},isMetaKey:function P(BE,BH){var BG=this.isMac(),BF=Aa(BE,BH)||{}
	return(BF.ctrlKey&&!BG)||(BF.metaKey&&BG)
	},ctrlKey:function A5(BE,BF){return(Aa(BE,BF)||{}).ctrlKey
	},shiftKey:function AT(BE,BF){return(Aa(BE,BF)||{}).shiftKey
	},metaKey:function o(BE,BF){return(Aa(BE,BF)||{}).metaKey
	},getButton:function Al(BE,BF){return((Number(Aa(BE,BF).button))===2)?2:1
	},isPrimaryMouseBtn:function Az(BF,BE){return this.getButton(BE||window,BF)===1
	},isRMC:function Au(BF,BE){return BF&&(BF.button===2||BF.type==="contextmenu"||this.isMac()&&this.ctrlKey(BE,BF)&&BF.button===0)
	},getMousePosition:function AB(BH,BG){BG=BG||window
	var BF,BK
	if(mstrmojo.dom.isIE){BH=BH||BG.event
	var BI=document,BE=BI.body,BJ=BI.documentElement
	BF=BH.clientX+BE.scrollLeft+(BJ.scrollLeft||0)
	BK=BH.clientY+BE.scrollTop+(BJ.scrollTop||0)
	}else{BF=BH.pageX
	BK=BH.pageY
	}return{x:BF,y:BK}
	},position:function Am(BF,BG){var BJ={x:0,y:0,w:0,h:0}
	if(BF&&BF.getBoundingClientRect){try{BJ=BF.getBoundingClientRect()
	}catch(BI){BJ={left:0,top:0,right:0,bottom:0,height:0,width:0}
	}BJ={x:BJ.left,y:BJ.top,w:BJ.right-BJ.left,h:BJ.bottom-BJ.top}
	if(this.isIE6||this.isIE7){var BE=BF.ownerDocument
	if(BE){var BL=BE.documentElement,BK=BL.getBoundingClientRect()
	BJ.x-=BK.left
	BJ.y-=BK.top
	}}}if(BG){var BH=Ap()
	BJ.x+=BH.x
	BJ.y+=BH.y
	}return BJ
	},delta:function I(BG,BE){BE=BE||document.body
	var BF=this.position(BG),BH=this.position(BE)
	return{x:Math.round(BF.x-BH.x),y:Math.round(BF.y-BH.y)}
	},windowDim:function a(){var BE=0,BG=0,BH=window,BI=document,BJ=BI.documentElement,BF=BI.body
	if(typeof (BH.innerWidth)=="number"&&typeof (BH.innerHeight)=="number"){BE=BH.innerWidth
	BG=BH.innerHeight
	}else{if(BJ&&(BJ.clientWidth||BJ.clientHeight)){BE=BJ.clientWidth
	BG=BJ.clientHeight
	}else{if(BF&&(BF.clientWidth||BF.clientHeight)){BE=BF.clientWidth
	BG=BF.clientHeight
	}}}return{w:BE,h:BG}
	},center:function Ab(BG,BF,BE){AM.call(this,BG,h,h,BF,BE)
	},bottomCenter:function F(BE){AM.call(this,BE,h,Av)
	},clearBrowserHighlights:function Q(BE){BE=BE||self
	if(!BE.getSelection){var BK=BE.document,BJ=BK&&BK.selection,BH=BJ&&BJ.empty
	if(BH){try{BJ.empty()
	}catch(BG){}}}else{var BF=BE.getSelection,BI=BF&&BE.getSelection()
	if(BI&&!BI.isCollapsed){if(BI.empty){BI.empty()
	}else{if(BI.removeAllRanges){BI.removeAllRanges()
	}}}}},findAncestorByAttr:function Ai(BI,BG,BF,BE){var BJ=BF?BI:BI&&BI.parentNode
	while(BJ&&(BJ!==BE)){var BH=BJ.getAttribute&&BJ.getAttribute(BG)
	if(BH!=null){return{node:BJ,value:BH}
	}BJ=BJ.parentNode
	}return null
	},findAncestorByName:function A4(BG,BJ,BF,BE){BJ=BJ&&BJ.toLowerCase()
	var BH=BF?BG:BG&&BG.parentNode
	while(BH&&(BH!==BE)){var BI=BH.nodeName
	if(BI&&(BI.toLowerCase()===BJ)){return BH
	}BH=BH.parentNode
	}return null
	},findAncestorByClassName:function H(BH,BG,BF,BE){if(!BG||!BG.length){return BH
	}var BI=BF?BH:BH&&BH.parentNode
	while(BI&&(BI!==BE)){var BJ=BI.className&&BI.className.indexOf(BG)!==-1
	if(BJ){return BI
	}BI=BI.parentNode
	}},contains:function O(BH,BI,BF,BE){var BG=BI
	if(!BF){BG=BG.parentNode
	}while(BG){if(BG===BH){return true
	}if(BG===BE){break
	}BG=BG.parentNode
	}return false
	},toggleSelection:function BB(BF,BE){BF.setAttribute("unselectable",BE?"off":"on")
	mstrmojo.css.toggleClass(BF,"unselectable",!BE)
	BF.onselectstart=function(){return BE
	}
	if(!BE){this.clearBrowserHighlights()
	}},preventDefault:function e(BE,BF){BF=BF||BE.event
	if(BF.preventDefault){BF.preventDefault()
	}else{BF.returnValue=false
	}},stopPropogation:function U(BE,BF){BF=BF||BE.event
	if(BF.stopPropagation){BF.stopPropagation()
	}else{BF.cancelBubble=true
	}},firstTouch:function Ao(BE,BF){return BF&&BF.touches&&BF.touches.length?BF.touches[0]:(BF||BE.event)
	},firstChangedTouch:function Ax(BE,BF){return BF&&BF.changedTouches&&BF.changedTouches.length?BF.changedTouches[0]:(BF||BE.event)
	},isLandscape:function d(){return !this.supportsTouches||(Math.abs(window.orientation)===90)
	},findWidget:function Aq(BE){while(BE){var BF=BE.mstrmojoId
	if(BF!==null&&BF!==undefined){return mstrmojo.all[BF]
	}BE=BE.parentNode
	}return null
	},setCaret:function J(BE,BG){if(BE.setSelectionRange){BE.focus()
	BE.setSelectionRange(BG,BG)
	}else{if(BE.createTextRange){var BF=BE.createTextRange()
	BF.move("character",BG)
	BF.select()
	}}},setInputSelection:function m(BE){if(BE.select){BE.focus()
	BE.select()
	}else{if(BE.createTextRange){BE.createTextRange().select()
	}}},setElementSelection:function r(BG){if(window.getSelection){var BE=document.createRange(),BF=window.getSelection()
	BE.selectNodeContents(BG)
	BF.removeAllRanges()
	BF.addRange(BE)
	}else{if(document.body.createTextRange){var BH=document.body.createTextRange()
	BH.moveToElementText(BG)
	BH.select()
	}}},getHorizontalScroll:function A7(){return Ap().x
	},getVerticalScroll:function AV(){return Ap().y
	},getMaxScrollHeight:function K(){return mstrmojo.dom.windowDim().h-22
	},getComputedScrollbarWidth:function A0(BF){if(BF){var BE=mstrmojo.css.getComputedStyle(BF)
	if(BE){return(BF.offsetWidth-AD(BE.borderLeftWidth)-AD(BE.borderRightWidth)-BF.clientWidth)
	}}return null
	},removeNode:function A1(BG){var BF=document.getElementById(BG),BE=BF&&BF.parentNode
	if(BE){return BE.removeChild(BF)
	}},redirectUrlToFormWrapper:function As(BH){var BG=function BG(BJ){BJ.preventDefault()
	var BL=BJ.target,BK=BL&&BL.href
	if(BK&&window&&window.FormWrapper){window.FormWrapper.openPage(BK.replace(/ /g,"%20"))
	}}
	var BI=BH&&BH.getElementsByTagName("a"),BF=BI.length
	for(var BE=0
	BE<BF
	BE++){if(!BI[BE].openWithFormWrapper){BI[BE].addEventListener("click",BG,true)
	BI[BE].openWithFormWrapper=true
	}}},checkTagName:function BD(BF,BE){return BF&&BF.tagName&&BF.tagName.toLowerCase()===BE
	},getComputedMargin:function G(BF){var BE=mstrmojo.css.getComputedStyle(BF)
	return[parseInt(BE.marginTop,10)||0,parseInt(BE.marginRight,10)||0,parseInt(BE.marginBottom,10)||0,parseInt(BE.marginLeft,10)||0]
	},emptyNode:function f(BE){while(BE&&BE.firstChild){BE.removeChild(BE.firstChild)
	}},inIframe:function g(){try{return window.self!==window.top
	}catch(BE){return true
	}},isCSPEnabled:function BC(){if(j===null){try{j=!!mstrmojo.hash.walk("features.contentSecurityPolicy",dossierConfig||null)
	}catch(BE){j=false
	}}return j
	},recursiveReplaceInlineEventListeners:function M(BF,BE,BH){if(!this.isCSPEnabled()){return 
	}var BG=this
	function BI(BU,BM){var BS=BM&&BM.id,BT=BU.getAttribute&&BU.getAttribute(q),BK=BU.getAttribute&&BU.getAttribute(C),BN=BM&&BM.eventHandlerMap,BR
	if(BT){var BJ=BT.split(" ")
	for(BR=0
	BR<BJ.length
	BR++){var BQ=BJ[BR],BO="on"+BQ
	if(BK){if(N.indexOf(BK)!==-1&&BU.hasAttribute(BO)){BG.singleReplaceInlineEventListeners(BU,BQ)
	}else{if(BN){var BL=BN[BK]&&BN[BK][BQ]
	if(BL){BG.singleReplaceInlineEventListenersByMap(BU,BQ,BM,BL)
	}}}}else{if(BE){BG.attachEvent(BU,BQ,function(BV){BG.captureDomEvent(this.wId,this.evtName,self,BV)
	}.bind({wId:BS,evtName:BQ}))
	}}}BU.removeAttribute(q)
	BU.removeAttribute(C)
	}if(BU.hasChildNodes()){var BP=BU.childNodes
	for(BR=0
	BR<BP.length
	BR++){BI(BP[BR],BM)
	}}}BI(BF,BH)
	},singleReplaceInlineEventListeners:function n(BF,BH){var BG="on"+BH,BE=BF.getAttribute(BG)
	this.attachEvent(BF,BH,function(BI){new Function(BE).bind(BF)(BI)
	})
	BF.removeAttribute(BG)
	},singleReplaceInlineEventListenersByMap:function R(BI,BL,BK,BE){var BF=BE.requiredParams,BJ="on"+BL
	if(BF&&BF.length!==0){var BH={},BG
	for(BG=0
	BG<BF.length
	BG++){BH[BF[BG]]=BK[BF[BG]]
	}this.attachEvent(BI,BL,BE.handlerFn(BH))
	}else{this.attachEvent(BI,BL,BE.handlerFn())
	}if(BI.hasAttribute(BJ)){BI.removeAttribute(BJ)
	}}})
	}())
	(function(){function Q(W,R,S){if(W.nodeType===3&&R){return W
	}else{var U=(R&&W.nodeType===1&&W.lastChild)?W.lastChild:F(W,S)
	return U?D(U,S):null
	}}function F(S,R){return(S===R)?null:(S.previousSibling||F(S.parentNode,R))
	}function D(S,R){if(S===R){return null
	}if(S.nodeType===3&&I(S)){return S
	}else{if(S.nodeType===1&&S.lastChild){return D(S.lastChild)
	}else{return D(F(S,R))
	}}}function I(R){return R.textContent||R.nodeValue||R.innerText
	}function M(W,R,S){if(W.nodeType===3&&R){return W
	}else{var U=(R&&W.nodeType===1&&W.firstChild)?W.firstChild:B(W,S)
	return U?E(U,S):null
	}}function B(S,R){return(S===R)?null:(S.nextSibling||B(S.parentNode,R))
	}function E(S,R){if(S===R){return null
	}if(S.nodeType===3&&I(S)){return S
	}else{if(S.nodeType===1&&S.firstChild){return E(S.firstChild)
	}else{return E(B(S,R))
	}}}mstrmojo.range=mstrmojo.provide("mstrmojo.range",{EDGE:{EDGE_BEGIN:1,EDGE_END:2,EDGE_MIDDLE:-1},getEdgeInfo:function P(U,W){var R=0,S
	if(U.nodeType===1){if(window.getSelection){S=document.createRange()
	S.selectNode(U)
	R=S.toString().length
	}else{S=document.body.createTextRange()
	S.moveToElementText(U)
	R=S.text.length
	}}else{R=I(U).length
	}return W===R?this.EDGE.EDGE_END:(W===0?this.EDGE.EDGE_BEGIN:this.EDGE.EDGE_MIDDLE)
	},collapseOnNode:function K(W,S){if(!W.offsetParent){return 
	}var U=this.getSelection(),R=this.getRange()
	if(window.getSelection){R.selectNodeContents(W)
	R.collapse(S)
	U.removeAllRanges()
	U.addRange(R)
	}else{R.moveToElementText(W)
	R.collapse(S)
	R.select()
	}},collapseOnTextNode:function L(W,X){var U=this.getSelection(),S=this.getRange()
	if(window.getSelection){var R=M(W,true)
	S.setStart(R,X)
	S.collapse(true)
	U.removeAllRanges()
	U.addRange(S)
	}else{S.moveToElementText(W)
	S.collapse(true)
	S.move("character",X)
	S.select()
	}},collapseOnTextNodeIE:function C(S,U){var W=M(S,true),R
	while(W!==null){R=I(W).length
	if(R>=U){this.collapseOnTextNode(W,U)
	break
	}else{U-=R
	W=M(W,false)
	}}},getRangeInfo:function J(Z,g){var b=null,m,e=this.getRange(),d
	if(Z&&Z===e.startContainer){var j=e.startContainer.firstChild,W=j&&j.firstChild,f=W&&W.firstChild
	if(f){e.setStart(f,e.startOffset)
	e.setEnd(f,e.endOffset)
	}}if(window.getSelection){var Y=function(o,q,p){var n=o.cloneRange()
	n.collapse(p)
	n.setStartBefore(q)
	return n.toString().length
	},S=e.startContainer,h=e.startOffset
	if(S.nodeType===1){h=Y(e,S,true)
	}b={collapsed:e.collapsed,startContainer:S,startOffset:g?g.startOffset:h}
	if(!e.collapsed){var X=e.endContainer,R=e.endOffset
	if(X.nodeType===1){R=Y(e,X,false)
	}b.endContainer=X
	b.endOffset=R
	}b.range=e
	}else{var l,c,a=function(q,t){var p=q.duplicate(),n=document.body.createTextRange(),o
	p.collapse(t)
	o=p.parentElement()
	n.moveToElementText(o)
	n.setEndPoint("EndToStart",p)
	return{container:o,offset:n.text.length}
	},k=a(e,true),U
	b={collapsed:(e.compareEndPoints("StartToEnd",e)===0),startContainer:k.container,startOffset:k.offset}
	if(!b.collapsed){U=a(e,false)
	b.endContainer=U.container
	b.endOffset=U.offset
	}}return b
	},collapse:function O(S){if(window.getSelection){var U=this.getSelection()
	if(S){U.collapseToStart()
	}else{U.collapseToEnd()
	}}else{var R=this.getRange()
	R.collapse(S)
	R.select()
	}},selectSingleNode:function H(U){var S=this.getSelection(),R=this.getRange()
	if(window.getSelection){R.selectNodeContents(U)
	S.removeAllRanges()
	S.addRange(R)
	}else{R.moveToElementText(U)
	R.select()
	}},selectMultipleNodes:function N(Y,S,Z,W){var X=this.getSelection(),U=this.getRange()
	if(window.getSelection){U.setStart(Y,S)
	U.setEnd(Z,W)
	X.removeAllRanges()
	X.addRange(U)
	}else{Y=(Y.nodeType===3)?Y.parentNode:Y
	U.moveToElementText(Y)
	U.move("character",S)
	Z=(Z.nodeType===3)?Z.parentNode:Z
	var R=document.body.createTextRange()
	R.moveToElementText(Z)
	R.move("character",W)
	U.setEndPoint("EndToStart",R)
	U.select()
	}},getSelection:function G(){if(window.getSelection){return window.getSelection()
	}else{return document.selection
	}},getRange:function A(){if(window.getSelection){selection=window.getSelection()
	if(selection.rangeCount>0){return selection.getRangeAt(0)
	}else{return document.createRange()
	}}else{return document.selection.createRange()
	}}})
	}())
	mstrmojo.warehouse.EnumDatabaseType={SAP:1200,MSAS:1500,EssBase:1600,TM1:2900,XQuery:3000,SAPHana:4000,BDE:5400,SearchEngineSOLR:5500,Hive:3100,Impala:4100,SearchEngineSPLUNK:5600,Pig:6400,PHOENIX:6800,IBMBigInsights:700,Drill:7300,DB_TYPE_NEWDB_1:8100,SAPHANAMDX:18300,KYVOSMDX:18800,KYLIGENCEMDX:18900,DB_TYPE_NEWDB_5:8500,AzureCosmosDB:8700}
	mstrmojo.vi.models.EnumDragSources={DATASETS:1,VIZ_EDITOR:2,FILTERS:3,ALL_OBJECT_LIST:4,VIZ:5,TOC_CHAPTER:6,TOC_PAGES_LIST:7,VIZ_LAYER:8,VIZ_GALLERY:9}
	(function(){function A(C){return C.replace(/&apos
	/g,"'").replace(/&quot
	/g,'"').replace(/&gt
	/g,">").replace(/&lt
	/g,"<").replace(/&amp
	/g,"&")
	}mstrmojo._ImageHelper=mstrmojo.provide("mstrmojo._ImageHelper",{getImage:function B(D){var E=mstrApp,C=E.getConfiguration()
	if(D){if(D.indexOf("\\")>=0){D=D.replace(/\\/g,"/")
	}D=A(D)
	if(D===decodeURI(D)){D=encodeURI(D)
	}}if(C&&D&&D.indexOf("://")===-1){D=C.getHostUrlByProject(E.getCurrentProjectId())+D
	}return(mstrApp.useBinaryFormat)?String(mstrMobileApp.getImage(D)):D
	}})
	}())
	mstrmojo.chart.model.enums.EnumDSSGraphProperty={DssGraphTextContent:9999,DssGraphContent:9999,DssGraphPropertyReserved:0,DssGraphAutoFitO1:4,DssGraphAutoFitO2:5,DssGraphAutoFitX:6,DssGraphAutoFitY1:7,DssGraphAutoFitY2:8,DssGraphGroupSpacing:10,DssGraphRiserWidth:11,DssGraphColorBySeries:12,DssGraphCurveColorAsSeries:13,DssGraphSDMOVAFactor:14,DssGraph2DAngle:18,DssGraph2DDepth:20,DssGraphDepthMode:21,DssGraph2ScaleDirectionX:22,DssGraph2ScaleDirectionY1:23,DssGraph2ScaleDirectionY2:24,DssGraph2ExcludeZeroX:25,DssGraph2ExcludeZeroY1:26,DssGraph2ExcludeZeroY2:27,DssGraphFormatDataTextX:28,DssGraphFormatDataTextY1:29,DssGraphFormatDataTextY2:30,DssGraphFormatX:33,DssGraphFormatY1:34,DssGraphFormatY2:35,DssGraphFormatZ:36,DssGraphGridLineO1:37,DssGraphGridLineO2:38,DssGraphGridLineX:39,DssGraphGridLineY1:40,DssGraphGridLineY2:41,DssGraphLabelModeO1:48,DssGraphLabelModeO2:49,DssGraphLegendLocation:52,DssGraphTitleXLocation:54,DssGraphTitleY1Location:55,DssGraphTitleY2Location:56,DssGraph2LogScaleX:57,DssGraph2LogScaleY1:58,DssGraph2LogScaleY2:59,DssGraphMarkerShape:60,DssGraphMarkerSize:61,DssGraph2DPlaceX:65,DssGraph2DPlaceY1:66,DssGraph2DPlaceY2:67,DssGraphConnectLine:68,DssGraphShowStepLine:70,DssGraph2ScaleEndX:74,DssGraph2ScaleEndY1:75,DssGraph2ScaleEndY2:76,DssGraph2DScaleFreqO1:87,DssGraph2DScaleFreqO2:88,DssGraph2DScaleFreqX:89,DssGraph2DScaleFreqY1:90,DssGraph2DScaleFreqY2:91,DssGraphScaleX:92,DssGraphScaleY1:93,DssGraphScaleY2:94,DssGraphShowSDDataLineType:96,DssGraphSDRiserType:97,DssGraphShowSDLine:98,DssGraphShowSDCurve:99,DssGraphShowSDLinrCorr:101,DssGraphShowSDLinrExp:102,DssGraphShowSDLinrFormula:103,DssGraphShowSDLinrLine:104,DssGraphShowSDLinrLog:105,DssGraphShowSDLinrNatLog:106,DssGraphShowSDLinrNPoly:107,DssGraphSDPolyFactor:108,DssGraphShowSDMeanLine:109,DssGraphShowSDMOVALine:110,DssGraphShowSDSTDDLine:111,DssGraphShowDataText:113,DssGraphShowDivBiPolar:114,DssGraphShowErrorBar:115,DssGraphShowLegendText:116,DssGraphShow2DO1Label:117,DssGraphShow2DO1:-117,DssGraphShow2DO2:118,DssGraphOffScaleTypeX:119,DssGraphOffScaleTypeY1:120,DssGraphOffScaleTypeY2:121,DssGraphShowQuadrants:122,DssGraphShowRiserShadows:123,DssGraphShow2DXTitle:124,DssGraphShow2DY1Title:125,DssGraphShow2DY2Title:126,DssGraphShow2DXLabel:127,DssGraphShow2DX:-127,DssGraphShow2DY1Label:128,DssGraphShow2DY1:-128,DssGraphShow2DY2Label:129,DssGraphShow2DY2:-129,DssGraphShowZeroLineX:130,DssGraphShowZeroLineY1:131,DssGraphShowZeroLineY2:132,DssGraph2DSideO1:133,DssGraph2DSideO2:134,DssGraph2DSideX:135,DssGraph2DSideY1:136,DssGraph2DSideY2:137,DssGraph2DSDSplitY:140,DssGraphStaggerO1:142,DssGraphStaggerO2:143,DssGraphStaggerX:144,DssGraphStaggerY1:145,DssGraphStaggerY2:146,DssGraphUniformBorders:148,DssGraphPieDepthValue:192,DssGraphPieHoleSizeValue:198,DssGraphPieInset:200,DssGraphPiesPerRowValue:201,DssGraphPieRotationValue:202,DssGraphShowFeeler:204,DssGraphShowLBLFeelerLabel:205,DssGraphShowLBLFeeler:-205,DssGraphShowLBLPie:206,DssGraphShowLBLRing:207,DssGraphDeleteSlice:208,DssGraphDetachSlice:209,DssGraphPieRestore:210,DssGraphPieTiltValue:211,DssGraphPieTiltOn:212,DssGraphShowPolarCoordinateAxis:215,DssGraphShowPolarConnectLines:218,DssGraphStockDataValueType:222,DssGraphShowBubbleGrid:245,DssGraphSDShowDataText:247,DssGraphShowTitleSeries:248,DssGraphConnectStackBars:249,DssGraphLegendBox:250,DssGraphLinkColors:260,DssGraph3DCustomView:265,DssGraph3DGridFloor:277,DssGraph3DGridLWall:278,DssGraph3DGridRiser:279,DssGraph3DGridRWall:280,DssGraph3DColTitleLocation:285,DssGraph3DLYTitleLocation:287,DssGraph3DRowTitleLocation:288,DssGraph3DRYTitleLocation:289,DssGraph3DScalefreqX:299,DssGraph3DScalefreqY:300,DssGraph3DScalefreqZ:301,DssGraphShow3DScatterLine:308,DssGraphShow3DLineToLWall:309,DssGraphShow3DLineToFloor:310,DssGraphShow3DLineToRWall:311,DssGraphSD3DRiserType:312,DssGraphShow3DShowDataLabelsBox:313,DssGraph3DOffScaleTypeX:314,DssGraph3DOffScaleTypeY:315,DssGraph3DOffScaleTypeZ:316,DssGraphShow3DCHeader:318,DssGraphShow3DColTitle:319,DssGraph3DShowDataText:320,DssGraphShow3DLNumber:321,DssGraphShow3DLYTitle:322,DssGraphShow3DRNumber:323,DssGraphShow3DRYTitle:324,DssGraphShow3DRHeader:325,DssGraphShow3DRowTitle:326,DssGraphShow3DFloor:327,DssGraphShow3DLegend:328,DssGraphShow3DLWall:329,DssGraphShow3DRWall:330,DssGraph3DViewStruct:337,DssGraphACMColorModel:549,DssGraphLegendItems:554,DssGraphSeriesColor:556,DssGraphReverseGroup:558,DssGraphReverseSeries:559,DssGraphSeriesByColumn:560,DssGraphAreaBackColor:561,DssGraphAreaTransparency:563,DssGraphAreaColor:564,DssGraphAreaPattern:566,DssGraphAreaSFX:567,DssGraphFontAlign:570,DssGraphFontTransparency:573,DssGraphFontColor:574,DssGraphFontName:576,DssGraphFontRotation:578,DssGraphVirtualFontSize:583,DssGraphFontStyle:584,DssGraphType:585,DssGraphLineTransparency:587,DssGraphLineColor:588,DssGraphLinePattern:589,DssGraphVirtualLineWidth:591,DssGraphFootnoteLocation:592,DssGraphFrameLocation:593,DssGraphSubTitleLocation:594,DssGraphTitleLocation:595,DssGraphShowfootnote:596,DssGraphShowSubtitle:597,DssGraphShowTitle:598,DssGraphFontBox:601,DssGraphFontSize:603,DssGraphLockFontSize:604,DssGraphLineWidth:605,DssGraphAreaAlpha:608,DssGraphLineAlpha:609,DssGraphFontAlpha:610,DssGraphAreaCustomBevelEffect:612,DssGraphFormatDataTextAdv:616,DssGraphFormatXAdv:618,DssGraphFormatY1Adv:619,DssGraphFormatY2Adv:620,DssGraphFormatZAdv:621,DssGraphMiddleValue:630,DssGraphSplitYPosition:631,DssGraphAxisShowUserLine:632,DssGraphAxisUserLineValue:633,DssGraphAxisUserLineAxis:634,DssGraphMarkerLayout:637,DssGraphPieDataValueLoc:638,DssGraphPieDataLabelLoc:639,DssGraph2DOrdSpaceMode:642,DssGraphLegendLock:644,DssGraphGridStepY1:645,DssGraphGridStepY2:646,DssGraphGridStepX:647,DssGraphDataTextShowConnectLine:652,DssGraphGridLineZ:658,DssGraphScaleZ:659,DssGraphStaggerZ:660,DssGraph2ScaleEndZ:662,DssGraph2ExcludeZeroZ:663,DssGraph2ScaleDirectionZ:664,DssGraphGridStepZ:665,DssGraphGaugeInfo:668,DssGraphGaugeFancyBox:669,DssGraphSDMarkerSize:671,DssGraphSDMarkerShape:683,DssGraphMetric1:690,DssGraphMetric2:691,DssGraphStockStyle:692,DssGraph2ScaleDirectionY3:693,DssGraph2ExcludeZeroY3:694,DssGraphGridLineY3:697,DssGraphFormatY3Adv:699,DssGraphGridStepY3:701,DssGraphOffScaleTypeY3:702,DssGraphShow2DY3:704,DssGraph2DSideY3:706,DssGraphStaggerY3:707,DssGraph2DPlaceY3:709,DssGraph2ScaleEndY3:710,DssGraph2DScaleFreqY3:713,DssGraphScaleY3:714,DssGraph2ScaleDirectionY4:715,DssGraph2ExcludeZeroY4:716,DssGraphGridLineY4:719,DssGraphFormatY4Adv:721,DssGraphGridStepY4:723,DssGraphOffScaleTypeY4:724,DssGraphShow2DY4:726,DssGraph2DSideY4:728,DssGraphStaggerY4:729,DssGraph2DPlaceY4:731,DssGraph2ScaleEndY4:732,DssGraph2DScaleFreqY4:735,DssGraphScaleY4:736,DssGraphSpiderLines:739,DssGraphPolarStartAngle:740,DssGraphMetric3:742,DssGraphRadarCircularDataLines:782,DssGraphRemoteAxis:784,DssGraphConnectFirstLast:790,DssGraphGaugeShowAxisLabelsOutside:791,DssGraphGaugeShowNeedle:792,DssGraphTailShape:793,DssGraphPieForceRound:794,DssGraphGaugeStyleValue:795,DssGraphGaugeBorderStyleValue:796,DssGraphGaugeBorderThicknessValue:797,DssGraphGaugeRangeThicknessValue:798,DssGraphGaugeRangeStartAngleValue:799,DssGraphGaugeRangeStopAngleValue:800,DssGraphGaugeNeedleStyleValue:801,DssGraphCurvedLines:804,DssGraphAreaBevelEffect:879,DssGraphFontAntiAlias:881,DssGraphFormatDataTextY3:695,DssGraphFormatDataTextY4:717,DssGraphColorPalette:10000,DssGraphOriContent:10001,DssGraphFillEffect:10002,DssGraphGradient:10003,DssGraphSDShowToolTip:10004,DssGraphSDToolTip:10005,DssGraphSDRegressionType:10006,DssGraph2LogScale:10007,DssGraphManualMajor:10008,DssGraphManualMinor:10009,DssGraph2ScaleDirection:10010,DssGraphShow2DAxisLine:10011,DssGraph2ExcludeZero:10012,DssGraph2ScaleUseMax:10013,DssGraph2ScaleUseMin:10014,DssGraph2ScaleMax:10015,DssGraph2ScaleMin:10016,DssGraphShow2DAxisLabels:10017,DssGraph2ScaleEndMax:10018,DssGraph2ScaleEndMin:10019,DssGraphShow2DAxisMajor:10020,DssGraphShow2DAxisMinor:10021,DssGraph2DSide:10022,DssGraphStyleMajor:10023,DssGraphStyleMinor:10024,DssGraphCountMajor:10025,DssGraphCountMinor:10026,DssGraphShowTotalValue:10027,DssGraph2DPie:10028,DssGraphShowDataValue:10029,DssGraphShowDVPercent:10030,DssGraphShowDataLabel:10031,DssGraphShowPieLabelOnSide:10032,DssGraphShowMarker:10033,DssGraphShowMetric1:10034,DssGraphShowMetric2:10035,DssGraphShowMetric3:10036,DssGraphMetric1Style:10037,DssGraphMetric2Style:10038,DssGraphMetric3Style:10039,DssGraphShowLine:10040,DssGraphShowToolTip:10041,DssGraphToolTip:10042,DssGraphAxisAutoFit:10043,DssGraphAxisStagger:10044,DssGraphAxisScaleFreq:10045,DssGraphMetric1Value:10046,DssGraphMetric2Value:10047,DssGraphMetric3Value:10048,DssGraph2AxisFormatText:10049,DssGraph2AxisFormatDataText:10050,DssGraphDPI:10051,DssGraphDocSize:10052,DssGraphAutoArrange:10053,DssGraph2DSplitYAutomatic:10054,DssGraphHistogramRangeMin:10055,DssGraphHistogramRangeMax:10056,DssGraphHistogramBuckets:10057,DssGraphGaugeSAngle:10058,DssGraphGaugeEAngle:10059,DssGraphGaugeThickness:10060,DssGraphGauge1Show:10061,DssGraphGauge1Min:10062,DssGraphGauge1Max:10063,DssGraphGauge2Show:10064,DssGraphGauge2Min:10065,DssGraphGauge2Max:10066,DssGraphGauge3Show:10067,DssGraphGauge3Min:10068,DssGraphGauge3Max:10069,DssGraphGauge4Show:10070,DssGraphGauge4Min:10071,DssGraphGauge4Max:10072,DssGraphGauge5Show:10073,DssGraphGauge5Min:10074,DssGraphGauge5Max:10075,DssGraphAxisDataTextPlace:10076,DssGraphAxisNumberFormat:10077,DssGraphAxisDataNumberFormat:10078,DssGraphAxisHasErrorBar:10079,DssGraphAxisHasMiddleValue:10080,DssGraphHeight:10081,DssGraphWidth:10082,DssGraphPicture:10083,DssGraph3DTurnXCounterClockwise:10084,DssGraph3DTurnYCounterClockwise:10085,DssGraph3DTurnZCounterClockwise:10086,DssGraph3DTurnXClockwise:10087,DssGraph3DTurnYClockwise:10088,DssGraph3DTurnZClockwise:10089,DssGraph3DMoveXTowardsOrigin:10090,DssGraph3DMoveYTowardsOrigin:10091,DssGraph3DMoveZTowardsOrigin:10092,DssGraph3DMoveXAwayFromOrigin:10093,DssGraph3DMoveYAwayFromOrigin:10094,DssGraph3DMoveZAwayFromOrigin:10095,DssGraph3DDecreaseCubeX:10096,DssGraph3DDecreaseCubeY:10097,DssGraph3DDecreaseCubeZ:10098,DssGraph3DIncreaseCubeX:10099,DssGraph3DIncreaseCubeY:10100,DssGraph3DIncreaseCubeZ:10101,DssGraph3DDecreaseWallX:10102,DssGraph3DDecreaseWallY:10103,DssGraph3DDecreaseWallZ:10104,DssGraph3DIncreaseWallX:10105,DssGraph3DIncreaseWallY:10106,DssGraph3DIncreaseWallZ:10107,DssGraph3DPanXLeft:10108,DssGraph3DPanYUp:10109,DssGraph3DRelative:10110,DssGraph3DPanXRight:10111,DssGraph3DPanYDown:10112,DssGraph3DAbsolute:10113,DssGraph3DZoomIn:10114,DssGraph3DIncreasePerspectiveDistortion:10115,DssGraph3DStepSize:10116,DssGraph3DZoomOut:10117,DssGraph3DDecreasePerspectiveDistortion:10118,DssGraph3DInitMatrix:10119,DssGraphGaugeQBShow:10120,DssGraphGaugeQBStart:10121,DssGraphGaugeQBStop:10122,DssGraphEnhancedSeriesEffect:10123,DssGraphLocale:10124,DssGraph3DViewStructName:10125,DssGraphLabelsDistance:10126,DssGraphLegendDetails:10127,DssGraphDefaultsInitialized:10128,DssGraphShow3DAxisMajor:10129,DssGraphGradientColorMode:10130,DssGraphLegendDetailsNEW:10131,DssGraphFrameLocationNEW:10132,DssGraph3DColTitleLocationNEW:10133,DssGraph3DRowTitleLocationNEW:10134,DssGraphLabelsDistanceNEW:10135,DssGraphDocSizeNEW:10136,DssGraphUseManualHistogramBuckets:10137,DssGraphFontSize100:10138,DssGraphUseSpecialSeries:10140,DssGraphIsOnlyAdditionalMetrics:10170}
	mstrmojo.chart.model.enums.EnumDSSObjectType={DssTypeUnknown:-1,DssTypeReserved:0,DssTypeGeneric:5,DssTypeFormatBAD:46,DssTypeFilter:1,DssTypeTemplate:2,DssTypeReportDefinition:3,DssTypeMetric:4,DssTypeStyle:6,DssTypeAggMetric:7,DssTypeFolder:8,DssTypeDevice:9,DssTypePrompt:10,DssTypeFunction:11,DssTypeAttribute:12,DssTypeFact:13,DssTypeDimension:14,DssTypeTable:15,DssTypeDatamartReport:16,DssTypeFactGroup:17,DssTypeShortcut:18,DssTypeResolution:19,DssTypeMonitor:20,DssTypeAttributeForm:21,DssTypeSchema:22,DssTypeFormat:23,DssTypeCatalog:24,DssTypeCatalogDefn:25,DssTypeColumn:26,DssTypePropertyGroup:27,DssTypePropertySet:28,DssTypeDBRole:29,DssTypeDBLogin:30,DssTypeDBConnection:31,DssTypeProject:32,DssTypeServerDef:33,DssTypeUser:34,DssTypeTransmitter:35,DssTypeConfiguration:36,DssTypeRequest:37,DssTypeScript:38,DssTypeSearch:39,DssTypeSearchFolder:40,DssTypeDatamart:41,DssTypeFunctionPackageDefinition:42,DssTypeRole:43,DssTypeSecurityRole:44,DssTypeLocale:45,DssTypeConsolidation:47,DssTypeConsolidationElement:48,DssTypeScheduleEvent:49,DssTypeScheduleObject:50,DssTypeScheduleTrigger:51,DssTypeLink:52,DssTypeDbTable:53,DssTypeTableSource:54,DssTypeDocumentDefinition:55,DssTypeDrillMap:56,DssTypeDBMS:57,DssTypeMDSecurityFilter:58,DssTypePromptAnswer:59,DssTypePromptAnswers:60,DssTypeGraphStyle:61,DssTypeChangeJournalSearch:62,DssTypeNCSObjects:255,DssTypeReservedLastOne:63}
	(function(){mstrmojo.requiresDescs(5774,2266,2287,2496,2495,2493,2267,2498,2500,2279,2491,2476,2271,2478,2268,2492,2273,2280,2490,2488,2494,2487,2269,2477,2499,2292,2489,2281,2484,2483,2480,2497,2274,2485,2486,2282,2481,2479,2482,2290,2293)
	var B=[{n:mstrmojo.desc(5774,"No Fill"),id:"transparent"},{n:mstrmojo.desc(2266,"Black"),id:"#000000"},{n:mstrmojo.desc(2287,"Brown"),id:"#993300"},{n:mstrmojo.desc(2496,"Olive Green"),id:"#333300"},{n:mstrmojo.desc(2495,"Dark Green"),id:"#003300"},{n:mstrmojo.desc(2493,"Dark Teal"),id:"#003366"},{n:mstrmojo.desc(2267,"Dark Blue"),id:"#000080"},{n:mstrmojo.desc(2498,"Indigo"),id:"#333399"},{n:mstrmojo.desc(2500,"Grey-80%"),id:"#333333"},{n:mstrmojo.desc(2279,"Dark Red"),id:"#800000"},{n:mstrmojo.desc(2491,"Orange"),id:"#ff6600"},{n:mstrmojo.desc(2476,"Dark Yellow"),id:"#808000"},{n:mstrmojo.desc(2271,"Green"),id:"#008000"},{n:mstrmojo.desc(2478,"Teal"),id:"#008080"},{n:mstrmojo.desc(2268,"Blue"),id:"#0000ff"},{n:mstrmojo.desc(2492,"Blue-Grey"),id:"#666699"},{n:mstrmojo.desc(2273,"Grey-50%"),id:"#808080"},{n:mstrmojo.desc(2280,"Red"),id:"#ff0000"},{n:mstrmojo.desc(2490,"Light Orange"),id:"#ff9900"},{n:mstrmojo.desc(2488,"Lime"),id:"#99cc00"},{n:mstrmojo.desc(2494,"Sea Green"),id:"#339966"},{n:mstrmojo.desc(2487,"Aqua"),id:"#33cccc"},{n:mstrmojo.desc(2269,"Light Blue"),id:"#3366ff"},{n:mstrmojo.desc(2477,"Violet"),id:"#800080"},{n:mstrmojo.desc(2499,"Grey-40%"),id:"#969696"},{n:mstrmojo.desc(2292,"Pink"),id:"#ff00ff"},{n:mstrmojo.desc(2489,"Gold"),id:"#ffcc00"},{n:mstrmojo.desc(2281,"Yellow"),id:"#ffff00"},{n:mstrmojo.desc(2484,"Bright Green"),id:"#00ff00"},{n:mstrmojo.desc(2483,"Turquoise"),id:"#00ffff"},{n:mstrmojo.desc(2480,"Sky Blue"),id:"#00ccff"},{n:mstrmojo.desc(2497,"Plum"),id:"#993366"},{n:mstrmojo.desc(2274,"Grey-25%"),id:"#c0c0c0"},{n:mstrmojo.desc(2485,"Rose"),id:"#ff99cc"},{n:mstrmojo.desc(2486,"Tan"),id:"#ffcc99"},{n:mstrmojo.desc(2282,"Light Yellow"),id:"#ffff99"},{n:mstrmojo.desc(2481,"Light Green"),id:"#ccffcc"},{n:mstrmojo.desc(2479,"Light Turquoise"),id:"#ccffff"},{n:mstrmojo.desc(2482,"Pale Blue"),id:"#99ccff"},{n:mstrmojo.desc(2290,"Lavender"),id:"#cc99ff"},{n:mstrmojo.desc(2293,"White"),id:"#ffffff"}]
	var F=[]
	mstrmojo.util.ui.ColorPicker={getBasicColors:function C(){return B.slice()
	},getCustomColors:function E(){return F.slice()
	},addCustomColor:function D(I,H){var G=function(J){return J.id===I
	}
	if(!B.filter(G)[0]&&!F.filter(G)[0]){F.push({n:I,id:I})
	if(!H){if(F.length>8){F.shift()
	}}}},removeCustomColor:function A(G){F=F.filter(function(H){return !mstrmojo.hash.equals(H.id,G)
	})
	}}
	}())
	mstrmojo.EnumDSSDisplayMode={RESERVED:0,GRID:1,GRAPH:2,ENGINE:3,TEXT:4,DATAMART:5,BASE:6,GRIDGRAPH:7,NONINTERACTIVE:8}
	(function(){function G(O,W,U,Q,S,P,R){if(W>P){return false
	}return(!R)||(O===0)||((O<Q)&&(W>=S-(P-S)))
	}function M(R,O,X,W,Q,U,P,S){if(X>P){return false
	}return(!S)||((O<Q)&&(X>=U-R.getHeight()))
	}function N(O,Q,P){O.renderMode="scroll"
	O.render()
	O.numChildrenRendered=0
	Q.numChildrenRendered++
	if(P&&!O.builtChildren){O.buildChildren()
	}}function E(){return this.useScrollBuffer?this.scrollBuffer:0
	}mstrmojo._CanRenderDocOnScroll=mstrmojo.provide("mstrmojo._CanRenderDocOnScroll",{_mixinName:"mstrmojo._CanRenderDocOnScroll",renderMode:"scroll",scrollBuffer:0,preBuildRendering:function K(){if(!!mstrApp.features["ignore-incremental-rendering"]){this.renderMode=null
	}if(this._super){this._super()
	}},postBuildRendering:function B(){if(this.renderMode===null){return this._super()
	}this.renderChildren()
	return true
	},childRenderOnAddCheck:function(O){if(this.renderMode===null){return this._super(O)
	}return false
	},renderChildren:function L(){var P
	if(this.renderMode==="scroll"){var Q=this
	while(Q){if(Q.scrollboxNode&&(Q.scrollboxWidthFixed||Q.scrollboxHeightFixed)&&Q.connectScrollbox){P=Q
	break
	}Q=Q.parent
	}}if((this.renderMode!=="scroll")||!P){this._super()
	return 
	}if(this.containerNode){this.scrollboxOwner=P
	P.connectScrollbox(this)
	this.numChildrenRendered=0
	var O=this.numChildren
	if(O===undefined){this.numChildren=O=this._getModelChildNodes(this.node,false,0,0,true).total
	}this.sectionsToRender=O
	this.subsectionsToRender=0
	if(O){this._startSubsectionThread(false)
	}}if(this.resizeOrReposition){this.resizeOrReposition()
	}},onscroll:function I(){if(!this.renderingSubsections){this.useScrollBuffer=true
	this._startSubsectionThread(true)
	}},_startSubsectionThread:function A(R){var P=this
	var Q=function(U,S){if(P[U]){if(S){self.clearTimeout(P[U])
	}else{self.clearInterval(P[U])
	}delete P[U]
	}}
	var O=function(U){P.renderingSubsections=false
	var S=function(){Q("renderCtlsTimer")
	P.showRenderStatus(false)
	P.renderCtrlsInViewport()
	P.raiseEvent({name:"afterScroll"})
	P=null
	}
	if(U){P.renderCtlsTimer=self.setTimeout(S,P.scrollboxOwner.scrollInterval+1)
	}else{S()
	}}
	Q("renderSubsTimer")
	Q("renderCtlsTimer",true)
	this.renderingSubsections=true
	if((this.sectionsToRender||this.subsectionsToRender)&&!this._renderSubsectionsToScroll()){this.showRenderStatus(true)
	this.renderSubsTimer=self.setInterval(function(){if(P._renderSubsectionsToScroll()){Q("renderSubsTimer")
	O(R)
	}else{P.showRenderStatus(true)
	}},this.scrollboxOwner.scrollInterval)
	}else{O(R)
	}},showRenderStatus:function F(P,W){var U=this.parent
	if(!U||!U.showStatus){return 
	}var O=W,Q
	if(P){var R=this.numChildrenRendered,S=this.numChildren
	Q=S&&parseInt(100*R/S,10)
	O="*Rendering section "+R+" of "+S+".*"
	}U.showStatus(P,O,Q)
	},_renderSubsectionsToScroll:function J(){var b=this.scrollboxOwner,c=b.scrollboxTop,R=b.scrollboxLeft,W=b.scrollboxBottom+E.call(this),o=b.scrollboxRight,d=W-c,Z=0,Y=0,X=null,e=null,a,k
	W+=1
	function l(){X=Y
	e=X+d
	}var O=this.numChildren,U=this.children||[],Q=this.model,h=this.node,g=false
	for(k=0
	k<O
	k++){var n=U[k]
	if(!n){n=this.addChildren(this.builder.build(this._getModelChildNodes(h,false,k,1,true).nodes,Q))[0]
	U=this.children||[]
	}var P=g
	g=!!n.defn.horiz
	a=(k>0&&n.node.data.bh)
	if((!g&&P)||(a&&P)){Z=0
	Y+=U[k-1].getHeight()
	if(Y>W){return true
	}if((e!==null)&&(Y>e)){return false
	}}if(!n.hasRendered){if(!G(Z,Y,R,o,c,W,g)){if(g){continue
	}else{return true
	}}this._renderSection(n,k)
	this.sectionsToRender--
	this.subsectionsToRender+=(n.children&&n.children.length)||0
	if(X===null){l()
	}}var S=n.children||[],j=null,f,m
	for(f=0,m=S.length
	f<m
	f++){j=S[f]
	if(!j.hasRendered){if(!M(j,Z,Y,R,o,c,W,g)){if(g){break
	}else{return true
	}}N(j,n)
	this.subsectionsToRender--
	if(X===null){l()
	}}if(g){Z+=j.getWidth()
	if(Z>o){break
	}}else{Y+=j.getHeight()
	if(Y>W){return true
	}if((e!==null)&&(Y>e)){return false
	}}}}return true
	},_renderSection:function H(O,P){N(O,this,true)
	},_getModelChildNodes:function(Q,P,S,O,R){return this.model.getChildren(Q,P,S,O,R)
	},renderCtrlsInViewport:function D(){var Z=this.scrollboxOwner,b=Z.scrollboxTop,P=Z.scrollboxLeft,S=Z.scrollboxBottom+E.call(this),p=Z.scrollboxRight,W=0,U=0,g=false,R=this.children||[],O,X,k,a
	var f=function(c){if(g){W+=c.getWidth()
	}else{U+=c.getHeight()
	}}
	var n=function(w,c,v,z,u){var t=parseInt(c,10)||0,x=parseInt(v,10)
	return(isNaN(x))?(w+t<=u):mstrmojo.boxmodel.rangeIntersect(w+t,w+t+x,z,u)
	}
	for(k=0,a=(R&&R.length)||0
	k<a
	k++){var q=R[k]
	O=g
	g=!!q.defn.horiz
	X=(k>0&&q.node.data.bh)
	if((!g&&O)||(X&&O)){W=0
	U+=R[k-1].getHeight()
	if(U>S){return 
	}}if(!q.hasRendered){if(!g){return 
	}continue
	}var m=q.children,Q=(m&&m.length)||0,e,j
	for(e=0
	e<Q
	e++){j=m[e]
	if(!j.hasRendered){break
	}if(j.builtChildren&&(j.numChildrenRendered===((j.children&&j.children.length)||0))){f(j)
	}else{if((U+j.getHeight()>=b)&&(!g||(W+j.getWidth()>=P))){var r=j.children,d=(r&&r.length)||0
	if(!d&&!j.builtChildren){j.buildChildren()
	r=j.children
	d=(r&&r.length)||0
	}var h=[],l
	for(l=0
	l<d
	l++){var o=r[l]
	if(o.hasRendered){continue
	}var Y=o.getFormats()||{}
	if(n(U,Y.top,Y.height,b,S)&&n(W,Y.left,Y.width,P,p)){o.render()
	h.push(o)
	}}j.performCanGrowCanShrink(h,true)
	}f(j)
	}if((g&&W>p)||(!g&&U>S)){break
	}}}},unrender:function C(P){var O=this.scrollboxOwner
	if(O){O.disconnectScrollbox(this)
	}this._super(P)
	}})
	}())
	(function(){mstrmojo.ui.editors._HostsControls=mstrmojo.provide("mstrmojo.ui.editors._HostsControls",{_mixinName:"mstrmojo.ui.editors._HostsControls",setFormatSource:function E(G){this.throwAbstractMethodError("setFormatSource")
	},syncControls:function A(G){var H=this._sync
	this._sync=true
	G.call(this)
	this._sync=H
	},raiseFormatValueChange:function F(H,I,G){if(this._sync){return false
	}this.onGroupValueChange(H,I,G)
	return true
	},raiseCanvasSizeChange:function D(H,G){if(this._sync){return false
	}this.onCanvasSizeChange(H,G)
	return true
	},raiseFormatLayoutChange:function B(H,I,G){if(this._sync){return false
	}this.onGroupLayoutChange(H,I,G)
	return true
	},onGroupValueChange:function C(H,I,G){},onGroupLayoutChange:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.vi.ui.theme=mstrmojo.provide("mstrmojo.vi.ui.theme",{getThemeClass:function A(){var D=this.parent||this.opener,C="",B
	while(D){var E=D.themeClassName
	if(E){C=E
	break
	}B=D.parent||D.opener
	if(B===D){break
	}D=B
	}return C
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.EnumDSSDisplayMode")
	mstrmojo.requiresDescs(981)
	var B=mstrmojo.vi.viz
	mstrmojo.vi.viz.KnownVisualizations={CUSTOM:-2,UNKNOWN:-1,GRID:0,ESRIMAP:2,GRAPHMATRIX:3,NEWGRAPHMATRIX:13,IMAGELAYOUT:4,HEATMAP:16,GOOGLEMAP:17,NETWORK:18,MAPBOX:19,KPICARD:20,getDefinition:function A(E){var F=B.KnownVisualizations,H={Grid:{id:F.GRID,displayMode:mstrmojo.EnumDSSDisplayMode.GRID,title:mstrmojo.desc(981,"Grid")},visAjaxDatePicker:{id:1},ESRIMapVisualizationStyle:{id:F.ESRIMAP,mobileVIStyles:{IPhoneVisualization:"ViEsriMapAdapter",IPadVisualization:"ViEsriMapAdapter"}},GraphMatrixVisualizationStyle:{id:F.GRAPHMATRIX,displayMode:mstrmojo.EnumDSSDisplayMode.GRID,widgetEnable:"-1",mobileVIStyles:{IPadVisualization:"IPadGraphMatrix2Style"}},NewGraphMatrixVisualizationStyle:{id:F.NEWGRAPHMATRIX,displayMode:mstrmojo.EnumDSSDisplayMode.GRID,widgetEnable:"-1",mobileVIStyles:{IPadVisualization:"IPadGraphMatrix2Style"}},ImageLayoutVisualizationStyle:{id:F.IMAGELAYOUT,mobileVIStyles:{IPadVisualization:"IPhoneImageMapStyle",ATabletVisualization:"AndroidImageMapStyle"}},SurveyVisualizationStyle:{id:8,mobileVIStyles:{IPadVisualization:"SurveyVisualizationStyle"}},VIHeatMapVisualizationStyle:{id:F.HEATMAP,mobileVIStyles:{IPadVisualization:"IPadHeatMapStyle",ATabletVisualization:"HeatMapVisualizationStyle"}},GoogleMapVisualizationStyle:{id:F.GOOGLEMAP,mobileVIStyles:{IPhoneVisualization:"IPhoneMapStyle",IPadVisualization:"IPadMapStyle"}},MapboxVisualizationStyle:{id:F.MAPBOX,mobileVIStyles:{IPhoneVisualization:"IPhoneMapboxStyle",IPadVisualization:"IPhoneMapboxStyle"}},NetworkVisualizationStyle:{id:F.NETWORK,mobileVIStyles:{IPadVisualization:"IPhoneNetVizStyle"}},KPICardVisualizationStyle:{id:F.KPICARD,mobileVIStyles:{IPadVisualization:"IPhoneKPICardStyle"}}}
	var G=H[E]
	if(!G){var C=mstrConfig.pluginsVisList,D=C&&C[E]
	G={id:D?F.CUSTOM:F.UNKNOWN}
	G.mobileVIStyles=(D&&D.mobileVIStyles)||{}
	}return G
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.chart.model.enums.EnumDSSObjectType","mstrmojo.hash")
	var J=mstrmojo.array,B=mstrmojo.hash,E="u
	",D="-1",C="hid"
	mstrmojo.elementHelper=mstrmojo.provide("mstrmojo.elementHelper",{buildElemsTerseID:function G(S,R,X){var Q,P
	for(P in S){Q=S[P]
	if(Q.v){var U=Q.v.replace(/\\\\/g,"\u001e").replace(/\\\
	/g,"\u001f")
	var W=U.split("
	")
	if(W&&W.length>1){W[1]=R
	if(X&&W.length>2){W.pop()
	}Q.v=W.join("
	").replace(/\u001e/g,"\\\\").replace(/\u001f/g,"\\
	")
	}}}return S
	},buildElemsCountStr:function L(W,R,Q){W=(!W||!W.length)?[]:W
	R=(!R||!R.length)?[]:R
	function U(X){return X.filter(function(Y){return !Y[C]
	})
	}var S=U(W).length,P=U(R).length
	if(J.find(R,"v",E)>-1){P-=1
	}if(J.find(R,"v",D)>-1){P-=1
	}if(Q){S=(S<P)?P-S:0
	}if(J.find(W,"v",E)>-1||J.indexOf(W,E)>-1){S=P
	}return this.buildElemsCountStrByNum(S,P)
	},buildElemsCountStrByNum:function L(Q,P){if(Q===P){if(P===0){return""
	}return P.toString()
	}else{if(P===0){return Q+" "+mstrmojo.desc(514)
	}else{if(Q>P){return"("+P+")"
	}}}return mstrmojo.desc(4891,"").replace("##",String(Q)).replace("###",String(P))
	},browseElements:function H(R,S,Q){var P={doNotHold:!(Q&&mstrApp.serverProxy),silent:true}
	mstrApp.serverRequest(mstrmojo.hash.copy(Q,S),R,P)
	},getIdPresentation:function K(S){if(!!S){var R=S.charAt(0),P,Q,U
	if((R>="g"&&R<="w")||(R>="V"&&R<="Z")){Q=false
	for(U=1
	U<S.length
	++U){if(Q){Q=false
	}else{switch(S.charAt(U)){case"
	":return"terseLong"
	case"\\":Q=true
	break
	}}}return"terse"
	}if(R>="B"&&R<="Q"){if(S.length>2){P=S.charAt(1)
	if(P>="A"&&P<="Q"){if(S.charAt(2)===":"){return"oldLong"
	}}}}if(S.length>=33&&S.charAt(32)===":"){return"old"
	}}return null
	},terseLong2OldShort:function O(Q){if(this.getIdPresentation(Q)!=="terseLong"){return Q
	}var P=Q.replace(/\\\\/g,"\u001e").replace(/\\\
	/g,"\u001f"),R=P.substring(1,P.length).split("
	")
	return(R[1]+":"+R[0]).replace(/\u001e/g,"\\\\").replace(/\u001f/g,"\\
	")
	},oldShort2terseLong:function M(Q,U){if(this.getIdPresentation(Q)!=="old"){return Q
	}var P=Q.replace(/\\\\/g,"\u001e").replace(/\\\:/g,"\u001f"),S=P.split(":"),R=S.shift()
	return(U||"h")+(S.join(":")+"
	"+R).replace(/\u001e/g,"\\\\").replace(/\u001f/g,"\\:")
	},isNullElem:function I(P){if(!P){return true
	}var S=this.getIdPresentation(P),Q=false,R
	switch(S){case"terse":case"terseLong":R=P.substring(1,P.length).split("
	")
	Q=R[0].indexOf(this.TERSE_NULL)>-1
	break
	case"old":case"oldLong":Q=P.indexOf(this.OLD_NULL)>-1
	break
	}return Q
	},isNonGroupNull:function(R){var P=R.eid||(R._e&&R._e.id),Q=P&&P.split(":")[0]
	return Q&&Q===this.NON_GROUP_NULL
	},getAttributeId:function N(R){var Q,P
	if(R){P=R.split("
	")
	Q=P[1]
	}return Q
	},getElementValue:function A(Q){var R,P
	if(Q){P=Q.split("
	")
	if(P.length>2){R=P[0]+" "+P[2]
	}else{R=P[0]
	}}return R
	},isAttributeIdsLinked:function F(Q,P,R){var U=false,S=B.keyarray(R)
	J.forEach(S,function(W){if(W===Q){J.forEach(R[W],function(X){if(X===P){U=true
	return false
	}})
	}if(U){return false
	}})
	return U
	},ELEM_ALL_ID:"u
	",ELEM_DUMMY_ID:"-1",ELEM_SEPARATOR:"\u001E",OLD_NULL:"~!@@~~!@@~",TERSE_NULL:"\\N",NON_GROUP_NULL:"n00000000000000000000000000000000",ELEM_ALL:{t:mstrmojo.chart.model.enums.EnumDSSObjectType.DssTypeDimension,v:"u
	",n:"(All)"}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.models.EnumDragSources")
	function D(H){this.cleanUpAfterTarget(H)
	var G=H.tgtData
	if(G){delete H.tgtData
	}var I=this.getContextDragData(H)
	if(I&&I.setAvatarClass){I.setAvatarClass("")
	}}mstrmojo.vi.ui._IsDropTarget=mstrmojo.provide("mstrmojo.vi.ui._IsDropTarget",{_mixinName:"mstrmojo.vi.ui._IsDropTarget",dropZone:true,getDropAvatarIcon:function B(G){return"add"
	},getContextDragData:function F(G){return G.getCtxtDragData()
	},cleanUpAfterTarget:mstrmojo.emptyFn,ondragenter:function A(G){var H=this.getContextDragData(G)
	if(H&&H.setAvatarClass){H.setAvatarClass(this.getDropAvatarIcon(G))
	}if(this._super){this._super(G)
	}},ondragleave:function E(G){D.call(this,G)
	if(this._super){this._super(G)
	}},ondrop:function C(G){D.call(this,G)
	if(this._super){this._super(G)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom")
	mstrmojo._HTMLMediaController=mstrmojo.provide("mstrmojo._HTMLMediaController",{_mixinName:"mstrmojo._HTMLMediaController",postBuildRendering:function(){if(this._super){this._super()
	}var D=this
	var C=this.id
	if(!D._infoWClosedListener&&D.model){D._infoWClosedListener=D.model.attachEventListener("infoWindowClosed",C,function(E){if(D.isInInfoWindow(E.psKey)){D.stopVedio()
	}})
	}},isInInfoWindow:function B(D){var C=this.parent
	while(C){if(C instanceof mstrmojo.DocInfoWindow){return C.psKey===D
	}C=C.parent
	}return false
	},stopVedio:function A(){if(this.domNode){if(this.domNode.nodeName==="IFRAME"){this.domNode.src=""
	}mstrmojo.array.forEach(this.domNode.querySelectorAll("iframe"),function(C){C.src=""
	})
	mstrmojo.array.forEach(this.domNode.querySelectorAll("video"),function(C){C.pause()
	})
	mstrmojo.array.forEach(this.domNode.querySelectorAll("audio"),function(C){C.pause()
	})
	}},destroy:function(){if(this._infoWClosedListener&&this.model){this.model.detachEventListener(this._infoWClosedListener)
	delete this._infoWClosedListener
	}if(this._super){this._super()
	}},})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom")
	var J=mstrmojo.dom
	var I=1,C=2
	function E(P){var Q=this.defn,R=Q.vc,S=Q.hc
	if(!P||P.length===0||(!R&&!S)){return{}
	}return{v:!!R,h:!!S}
	}function B(P){return parseInt(this.getFormats()[(P===I)?"height":"width"],10)
	}function H(Q){var P=this.getFormats()["max-"+((Q===I)?"height":"width")]
	return P&&parseInt(P,10)
	}function G(U,S){var Q=this.defn,R=U&&(U.dimNode||U.domNode),P=Q.ck&&Q.ck[U&&(U.k||U.content.k)]
	if(R&&P&&(P&S)>0){return R
	}return null
	}function F(Q,U,S,a){var P=parseInt(S.style[(U===I)?"top":"left"],10)||(Q.fmts&&parseInt(Q.fmts[(U===I)?"top":"left"],10))||0
	if(!!a){return P+a
	}var R=(Q.fmts&&Q.fmts.fx)||{},W=(!J.isIE7&&(R.rt===1||R.rt===3))?((U===I)?C:I):U,Y=(W===I)?"Height":"Width"
	a=S["offset"+Y]+(R.ds||0)
	if(!J.isDXIE&&((U===I&&R.rt===3)||(U===C&&R.rt===1))){P=P-a
	}var X=P+a
	if(J.isIE7&&Y==="Width"&&Q instanceof mstrmojo.XtabBase){var Z=Q.contentNode.offsetWidth
	if(X<Z){X+=Z
	}}return X
	}function L(P,Q,R){if(P>Q){if(R){P=Math.min(P,R)
	}return P
	}return Q
	}function D(X,U,W){var P=this.getCanGrowShrinkNode(),R=(X===I)?"Height":"Width",Q=R.toLowerCase(),S=parseInt(P.style[Q],10)
	if(U&&U!==S&&!(U<S&&!!W)){S=U
	P.style[Q]=S+"px"
	this.afterCanGrowShrink()
	}this["_fixed"+R]=S
	}function A(Y,S,W){var X=H.call(this,S),Z=B.call(this,S),U=Y.length,Q
	for(Q=0
	Q<U
	Q++){var P=Y[Q],R=G.call(this,P,S)
	if(!R){continue
	}Z=L(F.call(this,P,S,R),Z,X)
	if(Z===X){break
	}}D.call(this,S,Z,W)
	}function O(W,U,Q,S){var R=G.call(this,W,U)
	if(!R){return 
	}var P=F.call(this,W,U,R,Q)
	D.call(this,U,L(P,B.call(this,U),H.call(this,U)),S)
	}mstrmojo._CanGrowOrShrink=mstrmojo.provide("mstrmojo._CanGrowOrShrink",{getCanGrowShrinkNode:function N(){return this.domNode
	},performCanGrowCanShrink:function M(Q,R){var P=E.call(this,Q)
	if(P.v){A.call(this,Q,I,R)
	}if(P.h){A.call(this,Q,C,R)
	}},fixedSizeCanGrowShrink:function K(X,P,U,W){var R=E.call(this,X&&[X])
	var S=parseInt(P,10),Q=parseInt(U,10)
	if(R.v&&!isNaN(S)){O.call(this,X,I,S,W)
	}if(R.h&&!isNaN(Q)){O.call(this,X,C,Q,W)
	}},afterCanGrowShrink:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom")
	mstrmojo.fx={enabled:true}
	var E=mstrmojo.dom
	mstrmojo.fx._Effect=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.fx._Effect",duration:500,interval:50,delay:null,target:null,getTarget:null,widget:null,slot:null,preStart:null,postStart:null,onCancel:null,onEnd:null,revertOnCancel:true,isPlaying:false,started:false,init:function R(Y){mstrmojo.hash.copy(Y,this)
	},play:function C(){this.isPlaying=true
	this.started=false
	if(this.delay){var Y=this
	this.delayTimer=window.setTimeout(function(){Y._start()
	Y=null
	},this.delay)
	}else{this._start()
	}},pause:function H(){if(this.delayTimer){window.clearTimeout(this.delayTimer)
	delete this.delayTimer
	}if(this.timer){window.clearInterval(this.timer)
	delete this.timer
	}this.isPlaying=false
	},cancel:function W(){this.pause()
	if(this.started){if(this.revertOnCancel){this.counter=0
	this.exec()
	}if(this.onCancel){this.onCancel()
	}this.started=false
	}},_start:function F(){this.started=true
	this._doTarget()
	this.steps=Math.max(Math.ceil(this.duration/this.interval),1)
	var Y=this.ease
	if(typeof Y==="string"){this.ease=mstrmojo.registry.ref(Y)
	}if(this._doPreStart()===false){this.started=false
	this.isPlaying=false
	return 
	}this.counter=0
	this.exec()
	this.counter++
	this._doPostStart()
	if(this.counter>=this.steps){this._end()
	}else{var Z=this
	if(this.timer){window.clearInterval(this.timer)
	}this.timer=window.setInterval(function a(){if(Z){Z.exec()
	Z.counter++
	if(Z.counter>=Z.steps){Z._end()
	Z=null
	}}},this.interval)
	}},exec:null,_end:function D(){this.pause()
	this.started=false
	if(this.onEnd){this.onEnd()
	}},_doTarget:function U(){if(this.getTarget){this.target=this.getTarget()
	}else{if(this.widget){this.target=this.widget[this.slot||"domNode"]
	}else{if(this.target){var Z=this.target
	if(Z&&this.slot&&Z.scriptClass){var a=Z[this.slot]
	if(a){this.widget=Z
	this.target=a
	}}}}}if(!this.target){var Y=this
	while(Y=Y.parent){if(!Y||Y.domNode){break
	}}if(Y){this.widget=Y
	this.target=Y[this.slot||"domNode"]
	}}},_doPreStart:function N(){if(this.preStart){return this.preStart()
	}},_doPostStart:function S(){if(this.postStart){this.postStart()
	}}})
	function M(b,c){var Z=b.children,Y=(Z&&Z.length)||0,a
	for(a=0
	a<Y
	a++){Z[a][c]()
	}}mstrmojo.fx.Parallel=mstrmojo.declare(mstrmojo.fx._Effect,null,{scriptClass:"mstrmojo.fx.Parallel",init:function R(b){this._super(b)
	var a=this.children
	mstrmojo.registry.refArray(a)
	var Y=(a&&a.length)||0,Z
	for(Z=0
	Z<Y
	Z++){a[Z].parent=this
	}},_start:function F(){this.started=true
	if(this.preStart){this.preStart()
	}M(this,"play")
	if(this.postStart){this.postStart()
	}},pause:function H(){M(this,"pause")
	},cancel:function W(){M(this,"cancel")
	}})
	mstrmojo.fx.AnimateProp=mstrmojo.declare(mstrmojo.fx._Effect,null,{scriptClass:"mstrmojo.fx.AnimateProp",props:null,_start:function O(){var a=this.props,b
	for(b in a){var Z=a[b],Y=Z.ease
	if(typeof Y==="string"){Z.ease=mstrmojo.registry.ref(Y,{dontInst:true})
	}}this._super()
	},exec:function P(){var b=this.props,c
	for(c in b){var Z=b[c],Y=(Z.ease||mstrmojo.ease.sin)(this.counter,Z.start,Z.stop-Z.start,this.steps-1)
	if(Z.fn){Y=Z.fn(Y)
	}if(Z.suffix){Y+=Z.suffix
	}var a=Z.isStyle===false?this.target:this.target.style
	a[c]=Y
	}}})
	mstrmojo.fx.Typewriter=mstrmojo.declare(mstrmojo.fx._Effect,null,{scriptClass:"mstrmojo.fx.Typewriter",charGroupSize:1,srcProp:"text",_doPreStart:function(){this._super()
	this._dynStop=false
	if(this.stop==null){var c=this.srcProp,a
	if(c){var Y=this.widget||this.parent
	a=Y&&Y[c]
	if((a!=null)&&(typeof (a)!=="string")){a=String(a)
	}}this.stop=a
	this._dynStop=true
	}if(this.stop==null){this.stop=""
	}var b=this.target,d=null,Z=1
	if(b){b.innerHTML=""
	d=document.createTextNode("")
	b.appendChild(d)
	Z=Math.max(Math.floor(this.stop.length/this.steps),1)
	}this.targetTextNode=d
	this.charGroupSize=Z
	},exec:function(){var Z=this.targetTextNode
	if(!Z){return 
	}var Y
	if(this.counter>=this.steps-1){Y=this.stop
	}else{if(this.counter===0){Y=""
	}else{Y=this.stop.substring(0,this.charGroupSize*this.counter)+"_"
	}}Z.nodeValue=Y
	},_end:function D(){this._super()
	if(this._dynStop){this.stop=null
	delete this._dynStop
	}},cancel:function W(){if(this._dynStop){this.stop=null
	delete this._dynStop
	}}})
	mstrmojo.requiresCls("mstrmojo.dom")
	mstrmojo.fx.Fade=mstrmojo.declare(mstrmojo.fx._Effect,null,{scriptClass:"mstrmojo.fx.Fade",start:null,stop:null,ease:null,suffix:null,exec:function P(Y){if(Y==null){Y=(this.ease||mstrmojo.ease.sin)(this.counter,this.start,this.stop-this.start,this.steps-1)
	}if(E.isIE&&!E.isWinPhone){this.target.style.filter="alpha(opacity="+parseInt(Y*100,10)+")"
	}else{this.target.style.opacity=Y
	}}})
	mstrmojo.fx.FadeOut=mstrmojo.declare(mstrmojo.fx.Fade,null,{scriptClass:"mstrmojo.fx.FadeOut",start:1,stop:0,revertOnCancel:true,cssDisplay:"block",_end:function D(){if(this.cssDisplay){this.target.style.display="none"
	this.exec(this.start)
	}this._super()
	},cancel:function W(){if(this.started&&this.cssDisplay){this.target.style.display=this.cssDisplay
	}this._super()
	}})
	mstrmojo.fx.FadeIn=mstrmojo.declare(mstrmojo.fx.Fade,null,{scriptClass:"mstrmojo.fx.FadeIn",start:0,stop:1,revertOnCancel:true,cssDisplay:"block",_doPostStart:function X(){if(this.cssDisplay){this.target.style.display=this.cssDisplay
	}this._super()
	},cancel:function(){if(this.started&&this.revertOnCancel&&this.cssDisplay){this.target.style.display="none"
	}this._super()
	}})
	function I(a,Z,b){var Y=Math.pow(10,b||2)
	if(Z){return parseInt(Y*a/Z,10)/Y
	}return parseInt(Y*a,10)/Y
	}mstrmojo.ease={linear:function L(Z,Y,e,a){if(Z===a){return Y+e
	}if(Z===0){return Y
	}return Y+e*I(Z,a)
	},sin:function A(Z,Y,e,a){return Y+e*Math.sin((Math.PI/2)*Z/a)
	},cos:function B(Z,Y,e,a){return Y+e*Math.cos((Math.PI/2)*(1-Z/a))
	},sincos:function K(Z,Y,e,a){if(Z>a/2){return Y+e*Math.cos((Math.PI/2)*(1-Z/a))
	}return Y+e*Math.sin((Math.PI/2)*Z/a)
	},cossin:function Q(Z,Y,e,a){if(Z>a/2){return Y+e*Math.sin((Math.PI/2)*Z/a)
	}return Y+e*Math.cos((Math.PI/2)*(1-Z/a))
	},bounce:function G(Z,Y,e,a){if((Z/=a)<(1/2.75)){return e*(7.5625*Z*Z)+Y
	}if(Z<(2/2.75)){return e*(7.5625*(Z-=(1.5/2.75))*Z+0.75)+Y
	}if(Z<(2.5/2.75)){return e*(7.5625*(Z-=(2.25/2.75))*Z+0.9375)+Y
	}return e*(7.5625*(Z-=(2.625/2.75))*Z+0.984375)+Y
	},shake:function J(Z,Y,e,a){if(Z<a/2){return Y+e*I(Math.sin(2*Math.PI*Z/8),null,2)*2*Z/a
	}return Y+e*I(Math.sin(2*Math.PI*Z/8),null,2)*2*(1-Z/a)
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.array")
	var H=mstrmojo.array,G=mstrmojo.dom
	mstrmojo._IsDocXtab={_mixinName:"mstrmojo._IsDocXtab",isDocXtab:true,formatHandlers:{domNode:["RW","T","font"],msgNode:["height","background-color"],viewport:["D","background-color","B","fx"]},preBuildRendering:function B(){var I=this.getFormats(),L="",K=function K(M){if(I[M]){var N=this[M]||I[M]
	this[M]=N
	if(this.isFullScreenWidget){I[M]=N
	}this[M+"Limit"]=parseInt(N,10)
	}}
	K.call(this,"height")
	K.call(this,"width")
	var J=function(P,O){var M=I[P]
	if(M&&M.charAt(M.length-1)!=="%"){var N=parseInt(M,10)
	if(!isNaN(N)){if(O){N-=O
	}L+=P+":"+N+"px
	"
	}}return null
	}
	J("height",0)
	J("width",0)
	this.scrollboxNodeCssText=L
	return this._super()
	},postBuildRendering:function D(){var J=this._super()
	var I=this.gridData
	if((I.afw||I.afc)&&this.hasCustomScrollbar&&!this.node.data.eg&&this.scrollboxNode.firstChild){this.scrollboxNode.firstChild.style.width=this.getFormats().width
	}return J
	},resize:function A(){this.clearCache()
	var K=this.getFormats(),J=parseInt(K.height,10),I=parseInt(K.width,10)
	if(I>0&&J>0){if(!this.visible&&this.forcedHidden){this.set("visible",true)
	this.forcedHidden=false
	}H.forEach([this.scrollboxNode,this.viewport],function(M){var L=M.style
	L.height=J+"px"
	L.width=I+"px"
	})
	if(this.scrollboxNode){this.scrollboxHeightFixed=J&&(J!=="auto")
	if(this.scrollboxHeightFixed){this.scrollboxHeight=parseInt(J,10)
	this.heightLimit=this.scrollboxHeight
	this.scrollboxBottom=this.scrollboxTop+J
	}if(I>0){this.widthLimit=I
	}if(this.lockHeadersCase){this.resizeScrollBox(G.isIE)
	}}this.delegateGridAction(function(L){if(L&&L.onscroll){L.onscroll()
	}},"scrollOnResize")
	if(!(this.gridData&&this.gridData.eg!==undefined)){this.onGridWidthChanged()
	if(this.refreshResizeHandlers){this.refreshResizeHandlers()
	}}if(this.lockHeadersCase){this._refreshClonedNodes()
	}}else{if(this.visible){this.set("visible",false)
	this.forcedHidden=true
	}}},renderPortalState:function E(){this.clearCache()
	this.unrender()
	this.render()
	},unrender:function F(I){this.clearCache()
	if(this._super){this._super(I)
	}},defaultAction:function C(N,I){if(this._super(N,I)){var M=this.model.sti,L=M&&M.titleId,K=M&&M.deselectCurrent
	this._currentSelectedTD=K?undefined:N
	if(L){var J=this.zone
	this.delegateGridAction(function(P){var O=P.domNode,Q=O&&O.firstChild
	if(!J&&Q&&(N.offsetParent===Q||N.offsetParent===O)){J=P
	}},"defaultClickAction")
	if(J){J.clearHilites(L)
	if(!K){J.setHilites(L,N)
	}J.hiliteKey=L
	this.model.sti=null
	}}return true
	}return false
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom")
	var D=mstrmojo.dom
	var G=mstrmojo.array
	mstrmojo._FillsBrowser=mstrmojo.provide("mstrmojo._FillsBrowser",{_mixinName:"mstrmojo._FillsBrowser",getBrowserDimensions:function F(I){if(I){return{w:I.innerWidth,h:I.innerHeight}
	}var H=D.windowDim(),J=(D.isFF||D.isWK)?0:2
	return{w:Math.max(H.w,0)+"px",h:Math.max(H.h-J,0)+"px"}
	},preBuildRendering:function B(){var J=this._super(),I=this.getBrowserDimensions()
	if(!this.browserResized||this.browserResized(I)!==true){this.height=I.h
	this.width=I.w
	}if(!this._listenerProc){var L=this.id,K=null,H=this._listenerProc=function(N){if(mstrApp&&mstrApp.isExporting){var M=N||window.event
	mstrmojo.all[L].monitorWindow(M)
	}else{window.clearTimeout(K)
	K=window.setTimeout(function(){var O=N||window.event
	mstrmojo.all[L].monitorWindow(O)
	},150)
	}}
	D.attachEvent(window,"resize",H)
	}return J
	},destroy:function C(H){if(this._listenerProc){D.detachEvent(window,"resize",this._listenerProc)
	}this._super(H)
	},getResizeDimensions:function A(H){var K=H.currentTarget,J=this.getBrowserDimensions(),I={w:(K?K.innerWidth+"px":J.w),h:(K?K.innerHeight+"px":J.h)}
	return I
	},monitorWindow:function E(I){var J=this.getResizeDimensions(I)
	var H=["iframe","video"],N=[],M=false,L=this,K=document.fullscreenElement
	if(K){G.forEach(H,function(O){N=N.concat([].slice.call(L.domNode.getElementsByTagName(O)))
	})
	G.forEach(N,function(O){if(O===K){M=true
	return false
	}})
	}if((J.h===this.height&&J.w===this.width)||parseInt(J.h,10)<=20||parseInt(J.w,10)<=20||M){return 
	}if(!this.browserResized||this.browserResized(J,true)!==true){if(J.h!==this.height){this.set("height",J.h)
	}if(J.w!==this.width){this.set("width",J.w)
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash")
	var D=mstrmojo.dom,L=mstrmojo.hash
	var O=100
	var F=D.supportsTouches?0.5:1
	var G=1
	var R=100
	var P={onvscrollVisibleChange:function(){var W=this.vscrollNode,X=W&&W.style
	if(!X){return 
	}if(this.vscrollVisible){var U=this.maxPos,Y=this.clientSize
	X.height=Math.round(Y.y*Y.y/U.y)+"px"
	X.left=(Y.x-5)+"px"
	X.display="block"
	X.opacity=0.5
	}else{X.opacity=0
	}},onhscrollVisibleChange:function(){var X=this.hscrollNode,W=X&&X.style
	if(!W){return 
	}if(this.hscrollVisible){var U=this.maxPos,Y=this.clientSize
	W.width=Math.round(Y.x*Y.x/U.x)+"px"
	W.top=(Y.y-5)+"px"
	W.display="block"
	W.opacity=0.5
	}else{W.opacity=0
	}}}
	var M=L.copy({onposChange:function(){var X=this.clientSize,W=this.maxPos,U=0,Y=0
	if(this.scrollsVert){Y=this.pos.y
	if(this.vscrollVisible){this.vscrollNode.style[D.CSS3_TRANSFORM]="translateY("+Math.round((X.y-(X.y*X.y/W.y))*this.pos.y/W.y)+"px)"
	}}if(this.scrollsHoriz){U=this.pos.x
	if(this.hscrollVisible){this.hscrollNode.style[D.CSS3_TRANSFORM]="translateX("+Math.round((X.x-(X.y*X.x/W.x))*this.pos.x/W.x)+"px)"
	}}this.scrollChild.style[D.CSS3_TRANSFORM]="translate3d(-"+parseInt(U,10)+"px, -"+parseInt(Y,10)+"px, 0px)"
	},ondeceleratingChange:function(){this.scrollChild.style[D.CSS3_TRANSITION]=this.decelerating?(D.CSS3_PREFIX+"transform 0.2s linear"):""
	}},L.copy(P))
	var H=L.copy({onposChange:function(){var X=this.clientSize,W=this.maxPos,U=0,Z=0,Y=this.scrollboxNode
	if(this.scrollsVert){Z=this.pos.y
	if(this.vscrollVisible){this.vscrollNode.style.top=Math.round((X.y-(X.y*X.y/W.y))*this.pos.y/W.y)+"px"
	}Y.scrollTop=parseInt(Z,10)
	}if(this.scrollsHoriz){U=this.pos.x
	if(this.hscrollVisible){this.hscrollNode.style.left=Math.round((X.x-(X.y*X.x/W.x))*this.pos.x/W.x)+"px"
	}Y.scrollLeft=parseInt(U,10)
	}}},L.copy(P))
	mstrmojo._TouchScrolling=mstrmojo.provide("mstrmojo._TouchScrolling",{FRICTION:0.65,BOUNCEFRICTION:0.5,usesTouches:false,bounces:true,scrollsHoriz:true,scrollsVert:true,pos:null,preBuildRendering:function N(){this.usesTouches=(mstrmojo.dom.supportsTouches&&this.usesTouches&&(this.scrollsHoriz||this.scrollsVert))
	if(this.usesTouches){this.pos={x:0,y:0}
	}if(this._super){this._super()
	}},postBuildRendering:function C(){if(this._super){this._super()
	}if(this.usesTouches){var Y=this.scrollboxNode,X=this.itemsContainerNode||Y.firstChild
	if(Y&&Y!==X){this.scrollChild=X
	var U=Y.style
	U.position="relative"
	U.overflow="hidden"
	var W=X.style
	W.position="absolute"
	W.left=0
	W.top=0
	this.markupMethods=L.copy(D.isSafari?M:H,L.copy(this.markupMethods))
	this.attachTouchEvents()
	}}},unrender:function(U){if(this.usesTouches){this.detachTouchEvents()
	}this._super(U)
	},attachTouchEvents:function(){var W=this.touchNode||this.scrollboxNode
	if(W){if(!this._tsCallback){var U=this
	this._tsCallback=function(X){U.touchesBegin(self,X)
	}
	this._tmCallback=function(X){U.touchesMoved(self,X)
	}
	this._teCallback=function(X){U.touchesEnd(self,X)
	}
	}D.attachEvent(W,D.TOUCHSTART,this._tsCallback)
	this._tsNode=W
	}},detachTouchEvents:function(){var U=this._tsNode
	if(U){D.detachEvent(U,D.TOUCHSTART,this._tsCallback)
	delete this._tsNode
	}},touchesBegin:function J(U,X){var W=X.target&&X.target.tagName
	if(W&&(W==="SELECT"||W==="INPUT")){return 
	}D.preventDefault(U,X)
	this.stopDeceleration()
	this.startTime=new Date()
	this.startTimePos={x:this.pos.x,y:this.pos.y}
	this.startTouchPos=D.getMousePosition(D.firstTouch(U,X),U)
	this.dragging=false
	D.attachEvent(window,D.TOUCHMOVE,this._tmCallback)
	D.attachEvent(window,D.TOUCHEND,this._teCallback)
	},touchesMoved:function E(d,g){var b=D.getMousePosition(D.firstTouch(d,g),d)
	D.preventDefault(d,g)
	if(!this.dragging){var U=5,k=Math.abs
	if((this.scrollsHoriz&&k(b.x-this.pos.x)>U)||(this.scrollsVert&&k(b.y-this.pos.y)>U)){this.dragging=true
	this.dragStartTime=new Date()
	this.startTouchPos=b
	var X=this.scrollboxNode,a={x:X.clientWidth,y:X.clientHeight},h={x:X.scrollWidth,y:X.scrollHeight}
	this.clientSize=a
	this.scrollSize=h
	this.maxPos={x:Math.max(h.x-a.x,0),y:Math.max(h.y-a.y,0)}
	this.showScroll()
	}}if(this.dragging){D.stopPropogation(d,g)
	var f=this.startTimePos,Z=this.startTouchPos,c=this.maxPos
	var Y={x:this.scrollsHoriz?Math.max(Math.min(f.x-(b.x-Z.x),c.x),0):0,y:this.scrollsVert?Math.max(Math.min(f.y-(b.y-Z.y),c.y),0):0}
	this.set("pos",Y)
	this.nextLastDragPos=this.lastDragPos
	this.lastDragPos=b
	var W=new Date(),j=this.lastDragTime
	this.nextLastDragTime=j
	this.lastDragTime=W
	if((W-j)>R){this.startTime=this.lastDragTime
	this.dragStartTime=this.startTime
	this.startTimePos={x:Y.x,y:Y.y}
	this.startTouchPos=b
	}}},touchesEnd:function I(U,W){D.preventDefault(U,W)
	D.detachEvent(window,D.TOUCHMOVE,this._tmCallback)
	D.detachEvent(window,D.TOUCHEND,this._teCallback)
	if(this.dragging){this.dragging=false
	D.stopPropogation(U,W)
	if((new Date())-this.lastDragTime<=R){this.startDeceleration(U,W)
	}else{this.hideScroll()
	}}},startDeceleration:function B(a,b){var Y=D.getMousePosition(D.firstChangedTouch(a,b),a),f=((mstrmojo.dom.supportsTouches===null)?this.lastDragPos:this.nextLastDragPos)||Y,d={x:Y.x-f.x,y:Y.y-f.y},U=((mstrmojo.dom.supportsTouches===null)?this.lastDragTime:this.nextLastDragTime),g=U?(new Date())-U:0,X={x:g?Number(d.x*O*F/g).toFixed(2):0,y:g?Number(d.y*O*F/g).toFixed(2):0}
	var c=this,W=function(e){return(c.scrollsHoriz&&Math.abs(e.x)>=G)||(c.scrollsVert&&Math.abs(e.y)>=G)
	}
	if(W(X)){this.velocity=X
	this.friction={x:this.FRICTION,y:this.FRICTION}
	this.set("decelerating",true)
	var Z=function(){c.decelerate()
	if(!W(c.velocity)){c.stopDeceleration()
	c=null
	}}
	Z()
	if(this.decelerating){this.decelerationTimer=window.setInterval(Z,O)
	}}else{this.hideScroll()
	}},stopDeceleration:function A(){this.set("decelerating",false)
	delete this.velocity
	if(this.decelerationTimer){window.clearTimeout(this.decelerationTimer)
	delete this.decelerationTimer
	}this.hideScroll()
	},decelerate:function S(){var Y=this.pos,X=this.velocity,W=this.friction,b=this.maxPos,Z={x:Y.x-X.x,y:Y.y-X.y},d=this.bounces,U=this.BOUNCEFRICTION
	var c=Z.x
	if(c<0||c>b.x){Z.x=(c<0)?0:b.x
	X.x*=d?-U:0
	W.x=U
	}var a=Z.y
	if(a<0||a>b.y){Z.y=(a<0)?0:b.y
	X.y*=d?-U:0
	W.y=U
	}this.set("pos",Z)
	this.velocity={x:W.x*X.x,y:W.y*X.y}
	},hideScroll:function K(){this.set("vscrollVisible",false)
	this.set("hscrollVisible",false)
	},showScroll:function Q(){var U=this.maxPos
	if(this.scrollsVert&&U.y&&this.vscrollNode){this.set("vscrollVisible",true)
	}if(this.scrollsHoriz&&U.x&&this.hscrollNode){this.set("hscrollVisible",true)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom")
	var C=mstrmojo.dom
	function D(J,I){var G=[]
	if(J){var F
	for(F in J){var H=Number(F)
	if(H>=I){G.push(H)
	}}}G.sort(mstrmojo.array.numSorter)
	return G
	}mstrmojo.ListSelector=mstrmojo.provide("mstrmojo.ListSelector",{premousedown:function E(L,F,N){if(C.isPrimaryMouseBtn(N.e)){var I=N.hWin,J=N.e,G=C.eventTarget(I,J),M=L.listMapper.findIndex(L,F,G)
	if(M>-1){var H=L.multiSelect,K=C.ctrlKey(I,J),O=C.shiftKey(I,J)
	if(K||O){C.clearBrowserHighlights(I)
	}if(H&&(K||(L.selectionPolicy==="toggle"))){L.toggleSelect(M)
	}else{if(H&&O){L.rangeSelect(M)
	}else{L.singleSelect(M)
	}}}}},premouseup:function B(H,K,G){var F=G.hWin,J=G.e,L=C.ctrlKey(F,J),I=C.shiftKey(F,J)
	if(L||I){C.clearBrowserHighlights(F)
	}},onadd:function A(I,H){var M=H&&H.value&&H.value.length
	if(M){var G=H.index,K=I.selectedIndices,L=D(K,G),J
	for(J=L.length-1
	J>-1
	J--){var F=L[J]
	K[F+M]=true
	delete K[F]
	}if(I.selectedIndex>=G){I.selectedIndex+=M
	}}},onremove:function A(Q,S){var O=S&&S.value&&S.value.length
	if(O){var R=S.index,I=R+O-1,M=Q.selectedIndices,L=Q.selectedIndex,G=[],U=[],P=false
	if(M){var H
	for(H in M){var K=Number(H)
	if(K>I){G.push(K)
	}else{if(K>=R){U.push(K)
	P=true
	}}}}G.sort(mstrmojo.array.numSorter)
	var J,N
	for(J=0,N=G.length
	J<N
	J++){var F=G[J]
	M[F-O]=true
	delete M[F]
	}if(L>I){Q.selectedIndex-=O
	}if(P){Q.removeSelect(U)
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash")
	var E=mstrmojo.dom,M=mstrmojo.hash,B,I=mstrmojo.global.document,K="mousedown",O="mousemove",Q="mouseup"
	function G(Z){if(E.isPrimaryMouseBtn(Z)){B.startDragCheck(self,Z)
	}}var W,P,A="mstrmojo-dnd-avatar",U
	function F(a,Z){if(Z!==undefined&&Z!==null){P.innerHTML=Z
	}U.left=a.x+"px"
	U.top=a.y+"px"
	}function L(a,Z){if(!W){W=I.createElement("div")
	U=W.style
	W.className=A
	W.innerHTML='<div class="'+A+'-inner"></div>'
	P=W.firstChild
	I.body.appendChild(W)
	}F(a,Z)
	U.display="block"
	}function R(){if(U){U.display="none"
	}}function H(Z){var a=++B.ctxt.moveCount
	if(a>=B.minMoves){B.stopDragCheck()
	if((Z.buttons===1||Z.buttons===undefined||E.isIE9)&&(Z.which===1||Z.button===0||E.isIE8)){B.startDrag(self,Z)
	}}}function N(Z){if(E.isPrimaryMouseBtn(Z)){B.stopDragCheck()
	delete B.ctxt
	}}function D(Z){B.onDragMove(self,Z)
	}function C(Z){if(E.isPrimaryMouseBtn(Z)){B.stopDrag(window,Z)
	}}function J(a){var Z=E.findWidget(a)
	while(Z){if(Z.draggable){return Z
	}Z=Z.parent
	}return null
	}function S(Z){var b=Z.src,a=J(b.node)
	if(!a){return null
	}if(a.getDragAction){Z.action=a.getDragAction(Z)
	}b.widget=a
	b.data=a.getDragData&&a.getDragData(Z)
	if(a.isDragValid){if(!a.isDragValid(Z)){if(!mstrApp.isInVFInteractMode&&(!a.shouldDragBubble||a.shouldDragBubble(Z)===true)){Z.src.node=a.domNode.parentNode
	return S(Z)
	}return null
	}}if(a.ondragstart){a.ondragstart(Z)
	}return a
	}function Y(b,a){var Z=E.findWidget(b),c=a.tgt&&a.tgt.widget
	while(Z){if(Z.dropZone){if(Z===c){return Z
	}if(Z.allowDrop&&Z.allowDrop(a)){return Z
	}}Z=Z.parent
	}return null
	}function X(){if(this.set){this.set("allowingDrop",false)
	}}mstrmojo.dnd=mstrmojo.dnd||mstrmojo.provide("mstrmojo.dnd",{minMoves:3,enable:function(){if(!mstrmojo.dndEnabled){E.attachEvent(I,K,G)
	mstrmojo.dndEnabled=true
	}},disable:function(){mstrmojo.dndEnabled=false
	E.detachEvent(I,K,G)
	},startDragCheck:function(Z,a){delete this.ctxt
	var b=E.captureEventInfo({hWin:Z,e:a})
	this.ctxt={src:b,moveCount:0,last:M.copy(b.pos),getDirection:function(c){return !!this.dir[c]
	},getCtxtDragData:function(){var c=this.src
	return(c&&c.data)||{}
	},getCtxtDropData:function(){var c=this.tgt
	return(c&&c.data)||{}
	}}
	if(this.minMoves){E.attachEvent(I,O,H)
	E.attachEvent(I,Q,N)
	}else{this.startDrag(Z,a)
	}},stopDragCheck:function(){E.detachEvent(I,O,H)
	E.detachEvent(I,Q,N)
	},startDrag:function(Z,c){var a=this.ctxt
	a.id=mstrmojo.now()
	var b=S(a)
	if(!b){return 
	}E.clearBrowserHighlights(Z)
	E.preventDefault(self,c)
	E.attachEvent(I,O,D)
	E.attachEvent(I,Q,C)
	var f=window.mstrApp
	if(f&&f.setInteractive){this._changeAppStatus=f.setInteractive(false)
	}if(!b.ownAvatar){var d=a.src
	L(d.pos,d.data&&d.data.html)
	}},stopDrag:function(Z,g){E.detachEvent(I,O,D)
	E.detachEvent(I,Q,C)
	var c=this.ctxt,b=c.tgt||{},a=E.captureEventInfo({hWin:Z,e:g,data:b.data}),f=Y(a.node,c)
	a.widget=f
	c.tgt=a
	if(f){if(f.ondrop){f.ondrop(c)
	}else{X.call(f)
	}}var d=c.src.widget
	if(d&&d.ondragend){d.ondragend(c)
	}if(d&&!d.ownAvatar){R()
	}if(this._changeAppStatus){window.mstrApp.setInteractive(true)
	delete this._changeAppStatus
	}},onDragMove:function(d,g){if(E.isSafari){E.clearBrowserHighlights()
	}var Z=this.ctxt,c=Z.tgt||{},a=c.widget,f=E.captureEventInfo({hWin:d,e:g,data:c.data}),k=f.widget=Y(f.node,Z),j=Z.last,b=f.pos
	Z.dir={x:b.x>j.x,y:b.y>j.y}
	Z.last=M.copy(f.pos)
	Z.tgt=f
	if(a!==k){if(a){if(a.ondragleave){a.ondragleave(Z)
	}else{X.call(a)
	}}if(k){Z.tgt.data=(k.getDropData&&k.getDropData(Z))||{}
	if(k.ondragenter){k.ondragenter(Z)
	}else{if(k.set){k.set("allowingDrop",true)
	}}}}if(k){if(k.ondragover){k.ondragover(Z)
	}}var h=Z.src.widget
	if(h&&h.ondragmove){h.ondragmove(Z)
	}if(h&&!h.ownAvatar){F(f.pos)
	}}})
	B=mstrmojo.dnd
	B.enable()
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom")
	var B=mstrmojo.dom
	mstrmojo.ui.pathbar._PreAppExit=mstrmojo.provide("mstrmojo.ui.pathbar._PreAppExit",{_mixinName:"mstrmojo.ui.pathbar._PreAppExit",onmouseover:function C(E){if(this._super){this._super(E)
	}if(this.handleMouseOver){var H=E.target||B.eventTarget(E.hWin,E.e),F=B.findAncestorByAttr(H,"idx",true,this.domNode),D=F&&parseInt(F.value,10),G=this.items[D]
	this.handleMouseOver(E,G)
	}},onclick:function A(E){var J=E.target||B.eventTarget(E.hWin,E.e),H=B.findAncestorByAttr(J,"idx",true,this.domNode),D=H&&parseInt(H.value,10),I=this.items[D]
	if(this.handleClick){var F=this.handleClick(E,I)
	if(F){E.cancel()
	return 
	}}if(this._super){this._super(E)
	}if(!J.attributes.menu&&I&&I.en!==false){var G=function(){mstrmojo.form.sendLink(I.href,I.target)
	}
	if(mstrApp.onNavigateOut(I,G)!==true){G()
	}return false
	}return true
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom")
	var E=mstrmojo.dom
	mstrmojo.ui._IsIncFetchList=mstrmojo.provide("mstrmojo.ui._IsIncFetchList",{_mixinName:"mstrmojo.ui._IsIncFetchList",ifDataHelper:null,supportsIncFetch:false,isFetching:false,initScroll:function A(){var I=this.ifDataHelper,H=this,G=this.scrollNode||this.domNode
	this.supportsIncFetch=I&&I.hasNext()
	if(I&&this.supportsIncFetch){this._scroll=function F(){var J=this.scrollNode||this.domNode||G
	if(Math.ceil(J.offsetHeight+J.scrollTop)>=J.scrollHeight){H.raiseEvent({name:"incFetch",id:H.id})
	}}
	E.attachEvent(G,"scroll",this._scroll)
	this.attachEventListener("incFetch",this.id,function(J){if(!this.supportsIncFetch||this.isFetching){return 
	}if(this.preNext){this.preNext()
	}this.set("isFetching",true)
	I.next({complete:function(K){if(H.postNext){H.postNext()
	}H.set("isFetching",false)
	},success:function(K){H.addItems(K.items||null)
	},failure:function(K){H.supportsIncFetch=false
	mstrmojo.alert("Error in fetching next: "+K)
	}})
	})
	}},unrender:function D(F){var G=this.scrollNode||this.domNode
	E.detachEvent(G,"scroll",this._scroll)
	this._super(F)
	},render:function C(){this._super()
	if(this.supportsIncFetch){var F=this.scrollNode||this.domNode
	E.attachEvent(F,"scroll",this._scroll)
	}},addItems:function B(F){if(this._super){this._super(F)
	}if(!this.ifDataHelper.hasNext()){this.supportsIncFetch=false
	var G=this.scrollNode||this.domNode
	E.detachEvent(G,"scroll",this._scroll)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom")
	var G=mstrmojo.dom
	var Y="touchstart",K="mousedown",Q=G.isIOSTouch,D=G.isTouchOptimizationEnabled(),U=(Q||D)?Y:K
	function Z(b){var a=b[b.hotSlot||"domNode"]
	if(a){if(!b._closeCallback){var d=b.id,c=function(e){return function(g){var f=mstrmojo.all[d]
	if(f&&!f.ignoreHover){f["auto"+e](g,self)
	}}
	}
	b._uncloseCallback=c("Unclose")
	b._closeCallback=c("Close")
	}G.attachEvent(a,"mouseover",b._uncloseCallback)
	G.attachEvent(a,"mouseout",b._closeCallback)
	}}function C(b){if(b._closeCallback){var a=b[b.hotSlot||"domNode"]
	if(a){G.detachEvent(a,"mouseover",b._uncloseCallback)
	G.detachEvent(a,"mouseout",b._closeCallback)
	}}}function H(d,b){var a=d,c
	while(a){if(a.open||a.openPopup){c=a.ignoreHoverCount||0
	c=b?(c+1):(c>0?c-1:c)
	a.ignoreHoverCount=c
	if(a.set){a.set("ignoreHover",(c>0))
	}else{a.ignoreHover=(c>0)
	}}a=a.opener||a.parent
	if(a&&a.shouldPropagateLockHover&&!a.shouldPropagateLockHover()){break
	}}}function F(){var c=this._lockHoverCallback,b=this.curtainNode,e=this._onClickChange
	if(c){G.detachEvent(document.body,U,c,true)
	delete this._lockHoverCallback
	}if(!b||!e){return 
	}var a=mstrApp&&mstrApp.isTouchApp&&mstrApp.isTouchApp()||Q,d=a?Y:K
	G.detachEvent(b,d,e)
	delete this._onClickChange
	}mstrmojo._CanAutoClose=mstrmojo.provide("mstrmojo._CanAutoClose",{autoCloses:false,autoCloseDelay:100,locksHover:false,hotSlot:null,closeOnClick:false,curtainNode:null,postBuildRendering:function W(){this._super()
	if(this.autoCloses){Z(this)
	}this.oncloseOnClickChange()
	},onautoClosesChange:function O(){var a=(this.autoCloses)?Z:C
	a(this)
	},oncloseOnClickChange:function J(){if(!this.curtainNode){return 
	}var c=this,a=mstrApp&&mstrApp.isTouchApp&&mstrApp.isTouchApp()||Q,b=a?Y:K
	this._onClickChange=function(){c.close()
	if(a){mstrmojo.touchManager.notify([])
	}}
	G.attachEvent(c.curtainNode,b,this._onClickChange)
	},autoUnclose:function I(){var a=this._autoCloseTimer
	if(a){self.clearTimeout(a)
	delete this._autoCloseTimer
	}},autoClose:function M(){if(this.ignoreHover){return 
	}if(this._autoCloseTimer){self.clearTimeout(this._autoCloseTimer)
	}if(this.opener){if(this.autoCloseDelay){var a=this.opener.id
	this._autoCloseTimer=self.setTimeout(function(){mstrmojo.all[a].closePopup()
	},this.autoCloseDelay)
	}else{this.opener.closePopup()
	}}},destroy:function X(a){F.call(this)
	this._super(a)
	},moveLockHoverToBack:function(){if(this._lockHoverCallback){G.detachEvent(document.body,U,this._lockHoverCallback,true)
	G.attachEvent(document.body,U,this._lockHoverCallback,true)
	}},lockHover:function S(){H(this,true)
	if(!this._lockHoverCallback){var b=this.id,a=this._lockHoverCallback=function(c){mstrmojo.all[b]._unlockHoverCheck(c,self)
	}
	if((G.isIE7||G.isIE8)&&window.event&&(window.event.type===U)&&this.opener){this.opener._ignoreMousedown=true
	}G.attachEvent(document.body,U,a,true)
	}},unlockHover:function P(){H(this,false)
	F.call(this)
	},hoverLock:function(a){H(this,a)
	},suppressClose:function B(a){return G.contains(this.domNode,a,true,document.body)
	},_unlockHoverCheck:function E(d,a){var b=this.opener
	if(b&&b._ignoreMousedown){delete b._ignoreMousedown
	return 
	}var c=G.eventTarget(a,d)
	if(!this.suppressClose(c)){if(this.isWithinParentWidget(c)){return 
	}if(b&&b.onPopupAutoClosed){b.onPopupAutoClosed(d,a)
	}this.close(c)
	}},isWithinParentWidget:function R(b){var a=G.findWidget(b)
	while(a){if(a===this){return true
	}a=a.parent||a.opener
	}return false
	},open:function L(b,a){if(this.autoCloses){this.autoUnclose()
	}this._super(b,a)
	if(this.locksHover){this.lockHover()
	}},close:function N(a){if(this.locksHover){this.unlockHover()
	}this._super(a)
	},shouldPropagateLockHover:function A(){return true
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom")
	var J=mstrmojo.dom
	var a=5
	var m=1
	var X=2
	var N=4
	var l=0
	var O=true
	var I=0
	var F=86400000
	mstrmojo.VisChartUtils=mstrmojo.provide("mstrmojo.VisChartUtils",{getScreenZoomFactor:function b(){if(I==0){if(mstrMobileApp){var q=mstrMobileApp.getDeviceDPI()
	console.log("dpi:"+q)
	I=q/160
	}else{I=1
	}}return I
	},changeElementSize:function c(u,z,x){if(z=="fontSize"||z=="height"||z=="line-height"){var w=mstrmojo.css.getStyleValue(u,z)
	var t=Math.round(x*parseInt(w))
	u.style[z]=t+"px"
	}else{if(z=="font"){var v=mstrmojo.css.getStyleValue(u,"fontSize")
	var t=Math.round(x*parseInt(v))
	var r=mstrmojo.css.getStyleValue(u,"fontWeight")
	var q=mstrmojo.css.getStyleValue(u,"fontFamily")
	u.style.font=r+" "+t+"px "+q
	}}},rgbaStr2rgba:function L(q){var t=null
	q=q.replace(/ /g,"")
	var r=q.indexOf("rgba")
	if(r>=0){q=q.substring(r+5,q.length-1)
	t=q.split(",")
	}return t
	},fillBackground:function d(u,q,AD,r,w){var v=r||u.context,t=q||u.canvas.width,AA=AD||u.canvas.height,AB=u.themeColor||"#000000",z=null,AC=w||1
	if(!v){v=u.canvas.getContext("2d")
	if(!v){return 
	}}v.save()
	if(u.noBackground){}else{if(!u.isAndroid&&!u.isTimeSeries){z=v.createLinearGradient(0,0,0,AA/2)
	v.fillStyle=AB
	v.fillRect(0,0,t,AA)
	v.globalAlpha=0.4
	z.addColorStop(0,"#fff")
	z.addColorStop(0.1,"#fff")
	z.addColorStop(1,AB)
	v.fillStyle=z
	v.rect(0,0,t,AA/2)
	v.fill()
	v.globalAlpha=0.1
	v.fillStyle="#fff"
	v.fillRect(0,0,t,AA/2)
	}else{if(u.isTimeSeries){var x=u.formatProp
	z=v.createLinearGradient(0,0,0,AA)
	v.globalAlpha=x.backgroundAlpha
	v.fillStyle=this.rgb2rgbStr(x.backgroundClr)||"#000000"
	v.rect(0,0,t,AA)
	v.fill()
	}else{v.globalAlpha=AC
	v.fillStyle=AB
	v.fillRect(0,0,t,AA)
	}}}v.restore()
	},rgb2rgbStr:function Y(r,t){var q=""
	if(!r||r.length!=3){return q
	}if(t||t==0){q="rgba("+r[0]+","+r[1]+","+r[2]+","+t+")"
	}else{q="rgb("+r[0]+","+r[1]+","+r[2]+")"
	}return q
	},getRGBWithOpacity:function R(r,q,t){if(isNaN(q)){return 
	}if(!t){t=[255,255,255]
	}var u=[]
	for(color in r){u[color]=parseInt(r[color]*(1-q)+t[color]*q)
	}return u
	},fillMasterChartBackground:function S(z,r,q,u,AF,x,v){var AA=v||z.context,w=u||z.canvas.width,AD=AF||z.canvas.height,AE=z.themeColor,AC=null
	var AB=z.formatProp
	AA.save()
	AA.globalAlpha=AB.backgroundAlpha
	AA.fillStyle=this.rgb2rgbStr(AB.backgroundClr)||"#000000"
	AA.fillRect(0,0,w,q+AF+x)
	AA.globalAlpha=1
	AA.strokeStyle=this.rgb2rgbStr(z.formatProp.textClr,0.5)
	AA.lineWidth=1
	var t=q+0.5
	this.drawLineSet(this,[{x:r,y:t},{x:r+w,y:t}],false,AA)
	t=q+AD-0.5
	this.drawLineSet(this,[{x:r,y:t},{x:r+w,y:t}],false,AA)
	AA.restore()
	},drawLineSetWithSplit:function(w,AB,AA,r,x){var t=AB.length,z=Math.ceil(t/x),q,u
	for(var v=0
	v<z
	v++){q=v*x
	u=Math.min(q+x+1,t)
	this.drawLineSet(w,AB.slice(q,u),AA,r)
	}},drawLineSet:function M(v,AC,AB,q){var w=null,t=AC.length,AA=null
	if(q){w=q
	}else{w=v.context
	}var x=null,r=false
	w.beginPath()
	var u=0
	while(u<t){if(AC[u]){w.moveTo(AC[u].x,AC[u].y)
	x=AC[u]
	r=true
	u++
	break
	}u++
	}var z=false
	for(
	u<t
	u++){AA=AC[u]
	if(AA){if(!z){w.lineTo(AA.x,AA.y)
	r=false
	}else{w.moveTo(AA.x,AA.y)
	r=true
	x=AA
	z=false
	}}else{if(!z){z=true
	if(r){w.arc(x.x,x.y,1,0,Math.PI*2,false)
	}}}}if(AB){w.closePath()
	w.fill()
	}else{w.stroke()
	}},getMinYPosition:function H(r,v,q){var u=v,t
	while(u<=q){if(r[u]){t=r[u].y
	break
	}u++
	}for(u=v
	u<=q
	u++){if(r[u]){t=Math.min(t,r[u].y)
	}}return t
	},drawLineAreaWithSplit:function(x,AE,q,v,u,z,r,AA){var t=v-q+1,AC=Math.ceil(t/AA),AD,AB
	for(var w=0
	w<AC
	w++){AD=q+w*AA
	AB=Math.min(AD+AA,q+t-1)
	this.drawLineArea(x,AE,AD,AB,u,z,r)
	}},drawLineArea:function M(w,q,AA,v,z,AE,t){var AD=null,AH=q.length,AC=null,AI=0,AB=0
	if(t){AD=t
	}else{AD=w.context
	}var u=null,AG=false
	AD.save()
	AD.lineWidth=0
	AD.beginPath()
	var AJ=AA,x
	while(AJ<=v){if(q[AJ]){AI=q[AJ].x
	AD.moveTo(AI,z)
	u=q[AJ]
	AG=true
	break
	}AJ++
	}x=AJ
	var AF=false
	for(
	AJ<=v
	AJ++){AC=q[AJ]
	if(AC){if(!AF){AD.lineTo(AC.x,AC.y)
	AG=false
	AB=AC.x
	}else{AI=AC.x
	AD.moveTo(AI,z)
	if(AJ+1<=v&&q[AJ+1]){AD.lineTo(AC.x,AC.y)
	}u=AC
	AF=false
	x=AJ
	}}else{if(!AF){AF=true
	if(!AG){AD.lineTo(AB,z)
	AD.lineTo(AI,z)
	var r=this.getMinYPosition(q,x,AJ)||0
	AD.fillStyle=this.rgb2rgbStr(AE,1)
	AD.globalAlpha=0.65
	AD.fill()
	}}}}if(!AG){AD.lineTo(AB,z)
	AD.lineTo(AI,z)
	var r=this.getMinYPosition(q,x,v)||0
	AD.closePath()
	AD.fillStyle=this.rgb2rgbStr(AE,1)
	AD.globalAlpha=0.65
	AD.fill()
	}AD.restore()
	},drawRectangle:function n(z,q,AB,t,v,AA,u){var r=null
	if(u){r=u
	}else{r=z.context
	}if(AA){r.fillRect(q,AB,t,v)
	}else{r.strokeRect(q,AB,t,v)
	}},drawArc:function Q(u,AB,AA,w,z,r,t,AC,q){var v=null
	if(q){v=q
	}else{v=u.context
	}v.beginPath()
	v.arc(AB,AA,w,z,r,t)
	if(AC){v.fill()
	}else{v.stroke()
	}},drawRoundRect:function K(u,q,AB,t,v,z,AA){z=Math.min(t/2,v/2,z)
	u.beginPath()
	u.moveTo(q+z,AB)
	u.arcTo(q+t,AB,q+t,AB+v,z)
	u.arcTo(q+t,AB+v,q,AB+v,z)
	u.arcTo(q,AB+v,q,AB,z)
	u.arcTo(q,AB,q+t,AB,z)
	u.closePath()
	if(AA){u.fill()
	}else{u.stroke()
	}},drawHalfRoundedRectangle:function p(u,AB,AA,AC,v,q,AD,t){var z=null
	if(t){z=t
	}else{z=u.context
	}z.beginPath()
	z.moveTo(AB+AC,AA)
	z.lineTo(AB+q,AA)
	z.arcTo(AB,AA,AB,AA+q,q)
	z.lineTo(AB,AA+v-q)
	z.arcTo(AB,AA+v,AB+q,AA+v,q)
	z.lineTo(AB+AC,AA+v)
	if(AD){z.fill()
	}else{z.stroke()
	}},drawStartEndPoints:function Z(z,AF,t,v){var u=AF.length
	var AA=null,q=z.startEndPointRadius
	if(t){AA=t
	}else{AA=z.context
	}AA.save()
	var AC="#f0f43e",AB="#f0f43e",AD="#663300"
	if(z.startPointColor){AC=z.startPointColor
	}if(z.endPointColor){AB=z.endPointColor
	}else{var AE=AF[0].y,x=AF[u-1].y
	if(AE>x){AB="#008000"
	}else{if(AE<x){AB="#8d1616"
	}else{AB=AC
	}}}if(z.otherPointColor){AD=z.otherPointColor
	}if(v&m&&AF[0]){AA.strokeStyle=AC
	AA.fillStyle=AC
	this.drawArc(this,AF[0].x,AF[0].y,q,0,Math.PI*2,true,true,AA)
	}if(v&X&&AF[u-1]){AA.strokeStyle=AB
	AA.fillStyle=AB
	this.drawArc(this,AF[u-1].x,AF[u-1].y,q,0,Math.PI*2,true,true,AA)
	}if(v&N){AA.strokeStyle=AD
	AA.fillStyle=AD
	for(var w=1
	w<u-1
	w++){if(AF[w]){this.drawArc(this,AF[w].x,AF[w].y,q,0,Math.PI*2,true,true,AA)
	}}}AA.restore()
	},getColor:function U(q){return(parseInt(q.themeColor.substr(1),16)>8388607)?"#000000":"#ffffff"
	},drawHighlightLine:function f(r,x){var q=r.context,v=r.margin,u=v.l,t=r.isTimeSeries?r.chartWidth+v.l:r.getWidth()-v.r
	q.save()
	q.globalAlpha=1
	q.strokeStyle=this.rgb2rgbStr(r.formatProp.textClr,0.35)
	q.lineWidth=1
	q.lineCap="round"
	while(u<t){q.beginPath()
	q.moveTo(u,x)
	u+=2
	q.lineTo(u,x)
	q.stroke()
	u+=3
	}q.restore()
	},addLabel:function o(AI,AJ,AH,AF,r,AB,AC){var AE=document.createElement("div")
	AE.className="mstrmojo-Chart-lbl"
	AE.style.color=this.rgb2rgbStr(AI.formatProp.textClr,0.8)
	AE.innerHTML=AJ
	if(r){AE.style.width=r+"px"
	}var v=null
	var AD=0
	if(AI.isTimeSeries){if(AC.w>=0){v=AI.xdiv
	AD=AI.animationCanvas.width
	}else{v=AI.domNode.getElementsByClassName("mstrmojo-chart-ylbl-div")[0]
	if(!v){v=document.createElement("div")
	v.id="mstrmojo-chart-ylbl-div"
	v.className="mstrmojo-chart-ylbl-div"
	AI.domNode.appendChild(v)
	}v.style.width=AI.margin.l-1+"px"
	}}else{v=AI.domNode
	AD=AI.getWidth()
	}v.appendChild(AE)
	var u=AE.offsetWidth||(AI.getTextWidth&&AI.getTextWidthByElem(AJ,AE))
	var AG=AE.offsetHeight||22*(I||1)
	var t=r||u||100
	var AA=AI.xLabelPadding/2
	var z=AI.yLabelPadding/2
	if(AC.w>=0&&AI.isTimeSeries&&AI._scroller.origin){var AK=AH-AI._scroller.origin.x
	if(AK<=0&&(AK+u/2>-AI.maxYLblWidth)){AI.needRedrawVerticalLine=true
	v.removeChild(AE)
	return null
	}var q=AK-AI.getChartWidthOnScreen()
	if((q-u/2)<=0&&q>=0){AI.needRedrawVerticalLine=true
	v.removeChild(AE)
	return null
	}}if(AC.w>=0){AH=AH-t/2
	}if(AC.h>=0&&((AF>=AC.y-z&&AF<=AC.y+AC.h)||(AF+AG>=AC.y-z&&AF+AG<=AC.y+AC.h)||(AF+AG>=AI.canvas.height-AI.margin.b))){v.removeChild(AE)
	return null
	}if(AC.w>=0&&(((AH>=AC.x&&AH<AC.x+AC.w+AA))||AH<AC.x||AH<AI.margin.l||AH+t>AD)){v.removeChild(AE)
	return null
	}if(AI.isTimeSeries&&AC.h>=0){v.style.top=(AI.margin.t-AG/2)+"px"
	v.style.height=(AI.canvas.height-AI.margin.t-AI.margin.b-1+AG/2)+"px"
	this.translateCSS(AH,(AF-AI.margin.t)+AG/2,AB,AE)
	}else{this.translateCSS(AH,AF,AB,AE)
	AE.style.maxHeight=AG+"px"
	}AC.x=AH
	AC.y=AF
	if(AC.h>=0){AC.h=AG
	}if(AC.w>=0){AC.w=t
	AE.style.textAlign="center"
	}return AE
	},addDataLabel:function o(r,u,x,t){var q=(r.margin.l>r.margin.r)?a:r.getWidth()-r.margin.r+a,v=(r.margin.l>r.margin.r)?r.margin.l:r.margin.r
	return this.addLabel(r,u,q,x-10,v-a*2,false,t)
	},translateCSS:function h(q,v,r,u){var t="translate("+q+"px,"+v+"px)"
	if(r){t+=" rotate(45deg)"
	}u.style[J.CSS3_TRANSFORM]=t
	},getTouchXYOnWidget:function B(r,q,v){var u=mstrmojo.TouchScroller,t=(u&&v.parent&&u.getScrollPositionTotals(v.parent))||{x:0,y:0}
	r=r-v.offsetLeft+t.x
	q=q-v.offsetTop+t.y
	return{touchX:r,touchY:q}
	},getYValue:function A(v,r){var q=v.canvas.height,u=v.margin,t=v.model.mvalues
	return q-u.b-4-((parseFloat(r)-t[0])*v.RTY)
	},getMasterYValue:function g(u,r,v){var q=u.masterCanvas.height,t=u.model.mvalues
	return q-v.b-3-((parseFloat(r)-t[0])*u.MRTY)
	},getSeriesIndexAndYValue:function C(AA,q,AB){var AC=AA.model.series,u=AC.length,x=0
	y=this.getYValue(AA,AC[x].rv[q])||0
	var z=AB-y<0?-(AB-y):AB-y,r=z
	for(var v=1
	v<u
	v++){var t=this.getYValue(AA,AC[v].rv[q])||0
	z=AB-t<0?-(AB-t):AB-t
	if(z<r){y=t
	r=z
	x=v
	}}return{y:y,si:x}
	},getLabelWidthForMargin:function k(q,u){var t=document.createElement("div")
	t.className="mstrmojo-Chart-lbl"
	t.innerHTML=u
	q.domNode.appendChild(t)
	var r=t.offsetWidth||60
	q.domNode.removeChild(t)
	return r+a*2
	},animateLineSet:function W(AD,t,AB,z){var AE=[],AC=AD.animationContext,u=AB.length
	AC.clearRect(0,0,AD.getWidth(),AD.canvas.height)
	if(!z.index){z.index=0
	}else{if(z.index>=z.rate){this.drawLineSet(AD,AB,false,AC)
	AD.drawLabels()
	if(AD.isFillLinesArea){this.fillLinesArea(AD,AB.slice(0))
	}if(AD.isDrawStartEndPoints){this.drawStartEndPoints(AD,AB,AC,AD.isDrawStartEndPoints)
	}return 
	}}for(var v=0
	v<u
	v++){var r=AB[v],q=t[v]
	AE[v]={x:(z.index*(r.x-q.x)/z.rate)+q.x,y:(z.index*(r.y-q.y)/z.rate)+q.y}
	}this.drawLineSet(AD,AE,false,AC)
	var AA=this
	z.index++
	window.setTimeout(function(){AA.animateLineSet(AD,t,AB,z)
	},40)
	},fillLinesArea:function G(r,v){var t=r.canvas.height
	v.push({x:r.getWidth()-r.margin.r,y:t-r.margin.b})
	v.push({x:r.margin.l,y:t-r.margin.b})
	var x=new Array()
	if(r.fillinColor){mstrmojo.requiresCls("mstrmojo.color")
	var u=mstrmojo.color.hex2rgb(r.fillinColor).join(",")
	x[0]="rgba("+u+", 0.8)"
	x[1]="rgba("+u+", 0.2)"
	}else{x=["rgba(255,128,0,0.8)","rgba(255,128,0,0.2)"]
	}var q=r.animationContext
	var u=q.createLinearGradient(0,0,0,t)
	u.addColorStop(0,x[0])
	u.addColorStop(0.75,x[1])
	q.fillStyle=u
	this.drawLineSet(r,v,true,q)
	},convertRawValueToMilliseconds:function j(t){var u=Number(t),q=u-((Date.UTC(1970,1,1)-Date.UTC(1899,12,30))/F)-l,r=new Date(q*F)
	return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()).getTime()
	},getAncestorBgColor:function D(t){var x=null,w=t,AC=w.modelData?w.modelData:w.model,AB=null
	if(w.hasOwnProperty("xtabModel")&&w.xtabModel.hasOwnProperty("docModel")){AB=w.xtabModel.docModel
	}if(AB&&AB.defn&&AB.defn.layouts&&AB.defn.layouts.length>0){var AA=AB.defn.layouts,u
	var r
	for(r in AA){if(AA[r].loaded){u=AA[r]
	}}if(u&&u.hasOwnProperty("units")){var v=u.units
	var z=AC.parent
	while(z){var q=z.k||null
	if(v[q]&&v[q].fmts&&v[q].fmts["background-color"]){x=v[q].fmts["background-color"]
	break
	}else{z=z.parent||null
	}}if(!x){if(u.fmts&&u.fmts["background-color"]){x=u.fmts["background-color"]
	}}}}return x
	},isLightColor:function e(w){var t=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,x,q,z,AC,AB,v=false
	if(w){var AD,AA
	if(/^(rgba|RGBA)/.test(w)){AA=w.replace(/rgba\(|RGBA\(/,"")
	AA=AA.replace(")","")
	AD=AA.split(",")
	q=AD[0]
	z=AD[1]
	AC=AD[2]
	}else{if(/^(rgb|RGB)/.test(w)){AA=w.replace(/rgb\(|RGB\(/,"")
	AA=AA.replace(")","")
	AD=AA.split(",")
	q=AD[0]
	z=AD[1]
	AC=AD[2]
	}else{if(t.test(w)){if(w.length===4){AD="#"
	for(x=1
	x<4
	x++){AD+=w.slice(x,x+1).concat(w.slice(x,x+1))
	}w=AD
	}var u=[]
	for(x=1
	x<7
	x+=2){u.push(parseInt("0x"+w.slice(x,x+2)))
	}q=u[0]
	z=u[1]
	AC=u[2]
	}}}AB=(q*299+z*587+AC*114)/1000
	if(AB>150){v=true
	}}return v
	},getPointDistanceSquare:function E(r,q){return(r.x-q.x)*(r.x-q.x)+(r.y-q.y)*(r.y-q.y)
	},truncateTextToLine:function(r,AD,AH){AD.className=r.className
	AD.style.whiteSpace="nowrap"
	var x=AD.innerHTML=r.innerHTML
	var u=parseInt(r.offsetWidth)-parseInt(r.style.width)
	var AF=AH*parseInt(r.style.width)+u
	var v=x
	if(AD.offsetWidth>AF){var z=0,t=x.length-1
	while(z<=t){var AC=Math.round((z+t)/2)
	var AG=x.substr(0,AC+1)
	var AE=x.substr(0,AC+2)
	AD.innerHTML=AG
	var AB=AD.offsetWidth
	AD.innerHTML=AE
	var w=AD.offsetWidth
	if(AB<=AF&&w>AF){break
	}else{if(AB>AF){t=AC-1
	}else{if(w<=AF){z=AC+1
	}}}}v=x.substr(0,AC+1)
	if(v.length<x.length){if(v.charAt(v.length-1)===" "){v=v.substr(0,v.length-1)
	}var AA=v.lastIndexOf(" ")
	var q=v.length-1-AA
	if(q>=2&&q<=8){v=v.substr(0,v.length-q-1)+"..."
	}else{v=v.substr(0,v.length-3)+"..."
	}}}r.innerHTML=v
	},getLen:function(u,t,r,q){t.innerHTML=u
	var v=t.offsetWidth+r-q
	return v
	},splitWordIfTooLong:function(v,AG,AD,z,AB){var AF=v.split(" ")
	var AA=[]
	var AC=AF.length
	var w=0
	var u=0
	for(w=0
	w<AC
	w++){var r=AF[w]
	while(true){var AH=this.getLen(r,AG,AB,z)
	if(AH>AD){var AE=(AD/AH)*r.length
	var q=Math.round(AE)
	while(q>0){var x=r.substr(0,q)
	var t=this.getLen(x,AG,AB,z)
	if(t<=AD){AA.push(x)
	break
	}else{q--
	}}r=r.substr(q,r.length-q)
	}else{AA.push(r)
	break
	}}}return AA.join(" ")
	},truncateTextToLineWithWordWrap:function(AQ,AM,AJ){AM.className=AQ.className
	AM.style.whiteSpace="nowrap"
	var AI=7
	var AA=-1
	if(AQ.style&&AQ.style.width&&AQ.style.width.length>0){AA=parseFloat(AQ.style.width)
	}if(AA<0){AA=parseFloat(mstrmojo.css.getComputedStyle(AQ).width)
	}var AK=AQ.innerHTML
	var AP=parseFloat(AQ.offsetWidth)-AA
	AK=this.splitWordIfTooLong(AK,AM,AA,AP,AI)
	var AC=AK.split(" ")
	var v=[]
	var AF=[]
	var AO=0
	var q=0
	var AH=AC.length
	AM.innerHTML="&nbsp
	"
	var AR=AM.offsetWidth-AP
	AF.push(0)
	for(AO=0
	AO<AH
	AO++){var r=this.getLen(AC[AO],AM,AI,AP)
	if(r>AA){var AB=AC[AO]
	var AN=(AA/r)*AB.length
	AC[AO]=AB.substr(0,parseInt(AN))
	r=AA
	}v.push(r)
	q+=r
	AF.push(q)
	if(AO!==AH-1){q+=AR
	}}var AE=0,AL=0
	var AD=AJ
	for(
	AL<AF.length
	){var z=AF[AL]-AF[AE]
	if(AE>0&&AL!=AE){z-=AR
	}var x=AF[AL+1]-AF[AE]
	if(AE>0&&AL+1!=AE){x-=AR
	}if(z<=AA&&((AL+1==AF.length)||(x>AA))){AD--
	if(AD==0||AL===AH){break
	}else{AE=AL
	AL++
	}}else{AL++
	}}if(AL>AH){AL=AH
	}var AG=AF[AL]-AF[AE]
	if(AE>0&&AL!=AE){AG-=AR
	}var AS
	if(AL>=AH&&AG<AA){AS=AC.join(" ")
	}else{AS=AC.slice(0,AL).join(" ")
	var u=this.getLen("...",AM,AI,AP)
	if(AG+u<=AA){AS+="..."
	}else{if(AS.charAt(AS.length-1)===" "){AS=AS.substr(0,AS.length-1)
	}var w=AS.lastIndexOf(" ")
	var t=AS.length-1-w
	if(t===3){AS=AS.substr(0,AS.length-3)+" ..."
	}else{AS=AS.substr(0,AS.length-3)+"..."
	}}}AQ.innerHTML=AS
	},getLen2:function(x,r,q){var t=q
	var u=t.getContext("2d")
	u.font=r
	u.textAlign="center"
	u.fillStyle="blue"
	var w=u.measureText(x)
	var v=w.width
	return v
	},splitWordIfTooLong2:function(w,AD,v,x){var AF=w.split(" ")
	var AB=[]
	var AC=AF.length
	var z=0
	var u=0
	for(z=0
	z<AC
	z++){var r=AF[z]
	while(true){var AG=this.getLen2(r,v,x)
	if(AG>AD){var AE=(AD/AG)*r.length
	var q=Math.max(Math.round(AE),1)
	while(q>0){var AA=r.substr(0,q)
	var t=this.getLen2(AA,v,x)
	if(t<=AD||q==1){AB.push(AA)
	break
	}else{q--
	}}r=r.substr(q,r.length-q)
	}else{AB.push(r)
	break
	}}}return AB.join(" ")
	},getComputedFontStyle:function P(q){var r=q.fontStyle+" "+q.fontWeight+" "+q.fontSize+"/"+q.fontVariant+" "+q.fontFamily
	return r
	},truncateTextToLineWithWordWrap2:function(AT,AM,AD,AL){var AC=-1
	if(AT.style&&AT.style.width&&AT.style.width.length>0){var AQ=0
	var AS=mstrmojo.css.getComputedStyle(AT)
	if(AS.paddingLeft){AQ+=parseFloat(AS.paddingLeft)
	}if(AS.paddingRight){AQ+=parseFloat(AS.paddingRight)
	}var AR=AT.offsetWidth
	AC=AR?AR-AQ:parseInt(AT.style.width)
	}if(AC<0){AT.innerHTML="..."
	return 
	}var z=mstrmojo.css.getComputedStyle(AT)
	var t=this.getComputedFontStyle(z)
	AM=this.splitWordIfTooLong2(AM,AC,t,AD)
	var AF=AM.split(" ")
	var w=[]
	var AI=[]
	var AP=0
	var q=0
	var AK=AF.length
	var AU=this.getLen2(" ",t,AD)
	AI.push(0)
	for(AP=0
	AP<AK
	AP++){var r=this.getLen2(AF[AP],t,AD)
	if(r>AC){var AE=AF[AP]
	var AO=(AC/r)*AE.length
	AF[AP]=AE.substr(0,parseInt(AO))
	r=AC
	}w.push(r)
	q+=r
	AI.push(q)
	if(AP!==AK-1){q+=AU
	}}var AH=0,AN=0
	var AG=AL
	for(
	AN<AI.length
	){var AB=AI[AN]-AI[AH]
	if(AH>0&&AN!=AH){AB-=AU
	}var AA=AI[AN+1]-AI[AH]
	if(AH>0&&AN+1!=AH){AA-=AU
	}if(AB<=AC&&((AN+1==AI.length)||(AA>AC))){AG--
	if(AG==0||AN===AK){break
	}else{AH=AN
	AN++
	}}else{AN++
	}}if(AN>AK){AN=AK
	}var AJ=AI[AN]-AI[AH]
	if(AH>0&&AN!=AH){AJ-=AU
	}var AV
	if(AN>=AK&&AJ<AC){AV=AF.join(" ")
	}else{AV=AF.slice(0,AN).join(" ")
	var v=this.getLen2("...",t,AD)
	if(AJ+v<=AC){AV+="..."
	}else{if(AV.charAt(AV.length-1)===" "){AV=AV.substr(0,AV.length-1)
	}var x=AV.lastIndexOf(" ")
	var u=AV.length-1-x
	if(u===3){AV=AV.substr(0,AV.length-3)+" ..."
	}else{AV=AV.substr(0,AV.length-3)+"..."
	}}}AT.innerHTML=AV
	return AV.indexOf("...")>-1
	},truncateDivContent:function(w,AB,t){AB.innerHTML=w
	if(AB.offsetHeight>t){var x=0,r=w.length-1
	while(x<=r){var AC=Math.round((x+r)/2)
	var AE=w.substr(0,AC+1)
	var AD=w.substr(0,AC+2)
	AB.innerHTML=AE
	var AA=AB.offsetHeight
	AB.innerHTML=AD
	var v=AB.offsetHeight
	if(AA<=t&&v>t){break
	}else{if(AA>t){r=AC-1
	}else{if(v<=t){x=AC+1
	}}}}var u=w.substr(0,AC+1)
	if(u.length<w.length){if(u.charAt(u.length-1)===" "){u=u.substr(0,u.length-1)
	}var z=u.lastIndexOf(" ")
	var q=u.length-1-z
	if(q>=2&&q<=8){u=u.substr(0,u.length-q-1)+"..."
	}else{u=u.substr(0,u.length-3)+"..."
	}}return u
	}else{return w
	}},positionTooltip:function(AJ,t,AO,z){if(!AJ||!t||!AO){return 
	}if(isNaN(z)){z=45
	}var AL=AO.offsetWidth,AA=AO.offsetHeight,w=AJ.offsetWidth,AI=AJ.offsetHeight,AE=AJ.style,AB=0,AM=0
	function x(){return w+z<t.x&&AI<AA
	}function u(){return AI+z<t.y&&w<AL
	}function v(){return t.x+z+w<AL&&AI<AA
	}function AD(){return t.y+z+AI<AA&&w<AL
	}function r(){return t.x>w/2&&(AL-t.x)>w/2
	}function q(){return t.y>AI/2&&(AA-t.y)>AI/2
	}function AN(){return u()&&x()
	}function AK(){return u()&&r()
	}function AH(){return u()&&v()
	}function AP(){return x()&&q()
	}function AG(){return AD()&&x()
	}function AQ(){return v()&&q()
	}function AF(){return AD()&&r()
	}function AC(){return AD()&&v()
	}if(AN()){AB=t.x-z-w
	AM=t.y-z-AI
	}else{if(AK()){AB=t.x-w/2
	AM=t.y-z-AI
	}else{if(AH()){AB=t.x+z
	AM=t.y-z-AI
	}else{if(AP()){AB=t.x-z-w
	AM=t.y-AI/2
	}else{if(AG()){AB=t.x-z-w
	AM=t.y+z
	}else{if(AQ()){AB=t.x+z
	AM=t.y-AI/2
	}else{if(AF()){AB=t.x-w/2
	AM=t.y+z
	}else{if(AC()){AB=t.x+z
	AM=t.y+z
	}}}}}}}}AE.left=AB+"px"
	AE.top=AM+"px"
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom")
	var F=mstrmojo.dom
	function H(K){return(K&&K.id)
	}mstrmojo._HasScrollbox=mstrmojo.provide("mstrmojo._HasScrollbox",{_mixinName:"mstrmojo._HasScrollbox",scrollListeners:null,scrollListenerCount:0,scrollInterval:50,scrollboxNode:undefined,scrollTo:function G(M,L){var K=this.scrollboxNode
	K.scrollLeft=M.x
	K.scrollTop=M.y
	if(L){this.notifyScrollListeners(M)
	}},connectScrollbox:function E(L){if(!H(L)){return 
	}var M=this.scrollListeners,K=L.id
	if(!M){M={}
	this.scrollListeners=M
	}if(!M[K]){M[K]=L
	this.scrollListenerCount++
	if(this.scrollListenerCount===1){this._attachScrollDom()
	}}},disconnectScrollbox:function D(L){if(!H(L)){return 
	}var M=this.scrollListeners,K=L.id
	if(M&&M.hasOwnProperty(K)){delete this.scrollListeners[K]
	this.scrollListenerCount--
	if(!this.scrollListenerCount){this._detachScrollDom()
	}}},notifyScrollListeners:function C(N){var Q=N||this.getScrollPos(),P=Q.y,O=Q.x,K=P-this.scrollboxTop,M=O-this.scrollboxLeft
	this.scrollboxTop=P
	this.scrollboxLeft=O
	this.scrollboxRight=O+this.scrollboxWidth
	this.scrollboxBottom=P+this.scrollboxHeight
	var L=this.scrollListeners,R
	for(R in L){L[R].onscroll(this,{deltaX:M,deltaY:K})
	}},getScrollPos:function I(){var K=this.scrollboxNode
	return{x:K.scrollLeft,y:K.scrollTop}
	},_attachScrollDom:function A(){var P=this.scrollboxNode
	if(P){var O=this.usesTouches
	if(!O){if(!this.scrollCallback){var N=this.id
	this.scrollCallback=function(){mstrmojo.all[N].notifyScrollListeners()
	}
	}var K=false,L=this.scrollCallback
	if(F.isSafari){this.wheelCallback=function(){L()
	K=true
	}
	this.scrollCallback=function(){if(K){K=false
	return 
	}L()
	}
	F.attachBufferedEvent(P,"wheel",this.wheelCallback,this.scrollInterval)
	}F.attachBufferedEvent(P,"scroll",this.scrollCallback,this.scrollInterval)
	}if(this.scrollboxTop===null){this.scrollboxTop=O?0:P.scrollTop
	}if(this.scrollboxLeft===null){this.scrollboxLeft=O?0:P.scrollLeft
	}var M=function(S){var R=S.toLowerCase()
	var Q=P.style[R]
	return(!isNaN(Q)&&Q.charAt(Q.length-1)!=="%")?parseInt(Q,10):P["client"+S]
	}
	if(this.scrollboxHeight===null){this.scrollboxHeight=M("Height")
	}if(this.scrollboxWidth===null){this.scrollboxWidth=M("Width")
	}this.scrollboxBottom=this.scrollboxTop+this.scrollboxHeight
	this.scrollboxRight=this.scrollboxLeft+this.scrollboxWidth
	this._attachedScrollbox=P
	}},_detachScrollDom:function J(){var K=this._attachedScrollbox
	if(K&&this.scrollCallback){if(F.isSafari){F.detachBufferedEvent(K,"wheel",this.wheelCallback,this.scrollInterval)
	}F.detachBufferedEvent(K,"scroll",this.scrollCallback,this.scrollInterval)
	}delete this._attachedScrollbox
	},scrollboxTop:null,scrollboxLeft:null,scrollboxHeight:null,scrollboxBottom:null,buildRendering:function B(){this._detachScrollDom()
	this._super()
	if(this.scrollListenerCount){this._attachScrollDom()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom")
	var G=mstrmojo.dom,H=Math
	var D=1,F=2,K=4,E=5,A=6
	function B(w){var N=this.anchor
	if(!N){return false
	}var Z=this.baseTipClass,a=this[this.tipNodeName]
	a.className=Z+" top"
	var m=this[this.boundaryNodeName],AA=this[this.popupNodeName],AE=this.boundaryOffset,k=this.anchorOffset,x=this.anchorOrientation,v=this.hasScrollbars(),g=mstrmojo.hash.copy(this.anchorPosition||G.position(N,true)),Q=G.position(m,true),AF=Q.w,O=Q.h,n=AA.offsetWidth,S=AA.offsetHeight,d=n/2,L=S/2,f=G.position(a),r=H.min(f.h,f.w),X=H.max(f.h,f.w)/2,p=parseInt(this.placement,10)
	if(w){g=G.position(N,true)
	}if(v){AF-=15
	O-=15
	}var h=G.contains(m,AA),t=h?0:Q.y,AD=AF/2-d,Y=O/2-L+t,z=-1000,AG=-1000,P,q=["borderBottomColor","borderTopColor","borderRightColor","borderLeftColor"],AH=0
	if(h){g.x=g.x-Q.x-AE
	g.y=g.y-Q.y-AE
	}var o=g.y+g.h,R=g.x+g.w,W=this.canFitsAllDirections({x:g.x,y:g.y,w:R,h:o},{h:S,w:n},{w:AF,h:O}),AB=W.right,b=W.above,u=W.bottom,e=function(AI,AK,AJ){return H.min(H.max(AI,AJ),H.max(AK,0))
	},U=function(){if((g.x<AF)&&(u||b)){var AI=g.x+(g.w/2),AJ=(p===K&&u)||!b
	if(AJ){P="top"
	AG=o
	AH=0
	Y=o+r-k
	}else{P="bottom"
	AG=g.y-r
	AH=1
	Y=AG-S+k
	}AD=e(0,AF-n,AI-d)
	z=e(g.x,R,AI)-X
	return true
	}return false
	},l=function(){if((g.y<O)&&(AB||g.x>n)){var AI=g.y+(g.h/2),AJ=!(p===E&&g.x>n)&&AB
	if(AJ){P="left"
	z=R
	AH=2
	AD=R+r-k
	}else{P="right"
	z=g.x-r
	AH=3
	AD=z-n+k
	}Y=e(t,O-S,AI-L)
	AG=e(g.y,o,AI)-X
	return true
	}return false
	},c=[U,l],AC=0
	if(p===F){Y=this.popPosition.top
	AD=this.popPosition.left
	AG=-1000
	z=-1000
	P=null
	}else{if(p===E||p===A||(p===D&&x==="h")){c.reverse()
	}for(AC
	AC<c.length
	AC++){if(c[AC]()){break
	}}Y=H.round(Y)
	AD=H.round(AD)
	AG=H.round(AG)
	z=H.round(z)
	}a.className=Z+" "+(P||"hidden")
	var j=a.style,M=AA.style
	j.top=AG+"px"
	j.left=z+"px"
	if(this.tipNodeColor){mstrmojo.array.forEach(q,function(AI){j[AI]=""
	})
	j[q[AH]]=this.tipNodeColor
	}M.top=Y+"px"
	M.left=AD+"px"
	return true
	}mstrmojo._IsAnchorable={anchor:null,anchorPosition:null,boundaryNodeName:"curtainNode",popupNodeName:"editorNode",tipNodeName:"tipNode",baseTipClass:"mstrmojo-Editor-tip",anchorOffset:25,boundaryOffset:0,anchorOrientation:"v",placement:D,popPosition:null,canFitsAllDirections:function I(M,L,N){return{right:((M.w+L.w)<N.w),above:M.y>L.h,bottom:((M.h+L.h)<N.h)}
	},hasScrollbars:function C(){return(!mstrApp.isTouchApp||!mstrApp.isTouchApp())
	},prepareAnchor:mstrmojo.emptyFn,positionDialog:function J(L){this.prepareAnchor()
	if(!B.apply(this,[L])){if(typeof this._super==="function"){this._super()
	}}}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom")
	var B="mstrmojo-floating-toolbar-lightbox"
	var G="mstrmojo-floating-toolbar"
	var M="mstrmojo-floating-toolbar-cell"
	var I="mstrmojo-fixed-toolbar-lightbox"
	var A="mstrmojo-fixed-toolbar"
	var N="mstrmojo-fixed-toolbar-cell"
	var H=" hasToolBar"
	var E="mstrmojo-Button mstrmojo-InteractiveButton mstrmojo-oivmSprite "
	var D="mstrmojo-Button-text"
	var L=27
	mstrmojo._HasToolbar=mstrmojo.provide("mstrmojo._HasToolbar",{_mixinName:"mstrmojo._HasToolbar",postBuildRendering:function C(){this._super()
	var O=this.getToolbarCfg()
	if(!O||this.defn.ttl){return 
	}var S=this.containerNode
	if(S){var Q=this._createToolbar(G,M)
	Q.className=B
	S.className+=H
	S.insertBefore(Q,S.firstChild)
	var P=this.domNode,R=mstrmojo.boxmodel.offset(P,this.parent&&this.parent.domNode)
	if(R.top<L){Q.style.top=(L-R.top)+"px"
	}}},_createToolbar:function F(X,c){var S=this.getToolbarCfg(),a=this,Y=document,P=Y.createElement("div"),W=Y.createElement("table"),Z=Y.createElement("tr"),R=Y.createElement("td")
	P.appendChild(W)
	W.className=X
	R.className=c
	Z.appendChild(R)
	W.appendChild(Z)
	var b=function(d){a.onClick(d)
	},U
	for(U in S){var O=Y.createElement("div")
	O.className=E+S[U].css[0]
	var Q=Y.createElement("div")
	Q.className=D
	Q.nodeValue="&nbsp
	"
	Q.setAttribute("ix",U)
	Q.setAttribute("cix","0")
	O.appendChild(Q)
	R.appendChild(O)
	O.onclick=b
	}return P
	},renderToolbar:function K(Q){if(!this.getToolbarCfg()){return 
	}var P=Q.firstChild,O=this._createToolbar(A,N)
	O.className=I
	if(P){Q.insertBefore(O,P)
	}else{Q.appendChild(O)
	}},onClick:function J(W,P){var X=mstrmojo.dom,O=X.eventTarget(P,W),S=O.getAttribute("cix"),R=O.getAttribute("ix")
	var Q=this.toolbarCfg[R],U=Q.callback
	if(U&&this[U]&&this[U]()){S=++S%Q.css.length
	O.parentNode.className=E+Q.css[S]
	O.setAttribute("cix",S)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DI.DIConstants")
	mstrmojo.vi.util.DIUtils=mstrmojo.provide("mstrmojo.vi.util.DIUtils",{DIConstants:mstrmojo.DI.DIConstants,loadDIBundle:function C(){if(!mstrmojo.loader.isLoaded("mstrmojo.DI.DIContainer")){mstrmojo.requiresBundle("vi-di.js")
	}},createClass:function D(E){mstrmojo.vi.util.DIUtils.loadDIBundle()
	return mstrmojo.getInstance({scriptClass:E})
	},insertDIContainer:function B(){mstrmojo.vi.util.DIUtils.loadDIBundle()
	return mstrmojo.insert({scriptClass:"mstrmojo.DI.DIContainer"})
	},DIHelpers:{standardizeDBRolesFormat:function A(E){mstrmojo.vi.util.DIUtils.loadDIBundle()
	return mstrmojo.DI.DIHelpers.standardizeDBRolesFormat(E)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash")
	var A=mstrmojo.hash
	mstrmojo.requiresDescs(2213,3326,3327,3329,4531,13283,13284,13285,13286)
	mstrmojo.ME.Enum={METRIC_ACTIONS:{ADD:"add",EDIT:"edit",EDIT_NEW:"editNew"},EDITOR_IDS:{ADVANCED:"mstrME",FORMULA:"mstrME",WIZARD:"mstrFE",SIMPLE:"mstrSME",SELECOTR:"mstrFSE"},EDITOR_TYPES:{ADVANCED:"ADVANCED",FUNCTION:"FUNCTION",SIMPLE:"SIMPLE",SELECTOR:"SELECTOR"},METRIC_EDIT_TYPES:{ADVANCED:65536,SIMPLE:131072,FUNCTION:196608},METRIC_TYPES:{65536:"ADVANCED",131072:"SIMPLE",196608:"FUNCTION"},NEW_METRIC_DEFINITION:{did:"",n:mstrmojo.desc(2213,"New Metric"),tks:{items:[],vs:0,vm:""},mhfts:{},mvfts:{}},getNewDefinition:function(){return{did:"",n:mstrmojo.desc(2213,"New Metric"),tks:{items:[],vs:0,vm:""},mhfts:{},mvfts:{}}
	},FBFlag:{Automatic:0,Manual:3},AFB:{Automatic:-1,False:0,True:1},SFB:{Automatic:-1,False:1,True:2},UI_OBJECT_TYPE:{Dimty:-1,Sub_Expression:-2,Level:-4,Condition:-5,Transformation:-6,Row_Count:-7},UI_DATA_TYPE:{Sortby:-1,Breakby:-2,Level:-4,Condition:-5,Transformation:-6},SHORTCUT_FUNCTIONS:{Level:-4,Condition:-5,Transformation:-6,Row_Count:-7},DYNAMIC_DIMTY:{CODES:{auto:{n:mstrmojo.desc(4531,"Automatic"),did:"@auto",t:-1},page:{n:mstrmojo.desc(3329,"Grand Total"),did:"@p",t:-1},byCol:{n:mstrmojo.desc(3326,"By Columns"),did:"@cols",t:-1},byRow:{n:mstrmojo.desc(3327,"By Rows"),did:"@rows",t:-1},byCell:{n:mstrmojo.desc(13283,"By Cell"),did:"@cell",t:-1},byShape:{n:mstrmojo.desc(13284,"By Shape"),did:"@shape",t:-1},downCross:{n:mstrmojo.desc(13285,"Down, Then Across"),did:"@cr",t:-1},crossDown:{n:mstrmojo.desc(13286,"Across, Then Down"),did:"@rc",t:-1}},getItems:function D(G){var F=this.CODES,E=[]
	switch(G){case"breakby":E=[F.auto,A.copy({n:mstrmojo.desc(2057,"None")},A.copy(F.page)),A.copy({n:mstrmojo.desc(122,"Columns")},A.copy(F.byCol)),A.copy({n:mstrmojo.desc(2968,"Rows")},A.copy(F.byRow)),A.copy({n:mstrmojo.desc(13399,"Cell")},A.copy(F.byCell)),A.copy({n:mstrmojo.desc(2923,"Shape")},A.copy(F.byShape))]
	break
	case"level":E=[F.auto,F.page,F.byCol,F.byRow,F.byCell,F.byShape]
	break
	case"sortby":E=[F.auto,F.downCross,F.crossDown]
	}return E
	},getAutomaticDimtyObject:function C(){return A.copy(this.CODES.auto)
	},getDimtyObject:function B(E,H){var F=null
	var G=false
	if(H){A.forEach(mstrmojo.ME.Enum.DYNAMIC_DIMTY.CODES,function(I){if(I.did===E){F=A.copy(I)
	G=true
	return false
	}})
	}if(!G){F={n:E,t:-1,dimty:true}
	}return F
	}},NonExposableParams:["IsNewOLAP","OLAPPattern","OLAPHasWindow"]}
	mstrmojo.ME.Enum.DEFAULT_MPS={mps:{afb:mstrmojo.ME.Enum.AFB.False,sfb:mstrmojo.ME.Enum.SFB.False,fbf:mstrmojo.ME.Enum.FBFlag.Automatic}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.EnumRWUnitType")
	var B=mstrmojo.hash,J=mstrmojo.EnumRWUnitType
	mstrmojo.vi.ui._CanFreeformGroup=mstrmojo.provide("mstrmojo.vi.ui._CanFreeformGroup",{_mixinName:"mstrmojo.vi.ui._CanFreeformGroup",notifyGroup:function G(){this.raiseEvent({name:"member_changed",unit_box:this})
	},updateByGroup:function E(Q){var Y=Q.delta,P=this.parent,X=P.boxLayoutConfig,U=this.domNode.style,W=parseFloat(U.left),S=parseFloat(U.top),R=!!this.getBoxBorderWidth?this.getBoxBorderWidth():0
	P.updateChildNode(this,{newLayout:{left:(W+Y.x)+"px",top:(S+Y.y)+"px",width:parseFloat(U.width)+R+"px",height:parseFloat(U.height)+R+"px"}})
	},updateConfigNode:function C(S){var P=this.parent,R=P.getFloatGroupTree()
	if(R){var Q=P.groupTreeLayoutConfig.getFloatGroupTreeNode(this.k)
	if(Q.node){P.groupTreeLayoutConfig.updateConfigNode(Q.node,S)
	}}},updateFreeformLayout:function F(R){var Q=this,P=this.parent
	P.snapGuide.boxIntervalOperations(Q,"delete")
	Q.raiseEvent({name:"member_snap_guide_changed_pre"})
	P.boxLayoutConfig.updateFloatLayout(R,Q)
	P.applyGroupTree(undefined,Q.getPUKeys(false))
	Q.updateSelfSplitter()
	P.snapGuide.boxIntervalOperations(Q,"insert")
	Q.raiseEvent({name:"member_snap_guide_changed_post"})
	},createGroup:function I(P){return this.parent.groupTreeLayoutConfig.createGroup(P)
	},getPUKeys:function M(Q){var R=this.getParentGroup(),P=this.k
	if(!R){return null
	}if(!R.parent){return[P]
	}if(Q){return[R.k].concat(R.children.map(function(S){return S.k
	}))
	}return[R.k,P]
	},isGrouped:function N(){var Q=this.parent,P=false,S=Q.getFloatGroupTree()
	if(S){var R=Q.groupTreeLayoutConfig.findGroupByKey(S.k)
	if(R&&R.children.indexOf(this)<0){P=true
	}}return P
	},getParentGroup:function L(){var P=this.parent,Q=P.groupTreeLayoutConfig.getFloatGroupTreeNode(this.k)
	return P.groupTreeLayoutConfig.findGroupByKey(Q&&Q.parent&&Q.parent.k)
	},selectGroup:function A(){this.parent.groupTreeLayoutConfig.selectGroupByChild(this)
	},moveToGroup:function D(R){var P=this.parent,Q=P.groupTreeLayoutConfig
	R.addGroupMemberNode(Q.getFloatGroupTreeNode(this.k).node)
	},unGroup:function K(P){if(!P){P=this.parent
	}var S=P.getFloatGroupTree(),Q=P.groupTreeLayoutConfig.unGroup(this.k)
	if(Q){if(Q.children.length===1&&Q.k!==S.k){var R=P.groupTreeLayoutConfig.findGroupByKey(S.k)
	R.addGroupMemberNode(P.groupTreeLayoutConfig.getFloatGroupTreeNode(Q.children[0].k).node)
	}}},onvisibleChange:function O(R){var U=this,Q=this.parent,W=R.value,P=R.valueWas,S=W?"insert":"delete"
	if(P===W){return 
	}if(W){U.set("visible",W)
	Q.snapGuide.boxIntervalOperations(U,S)
	}else{Q.snapGuide.boxIntervalOperations(U,S)
	U.set("visible",W)
	}},updateNodeHiddenHandler:function H(P){if(P){this.onlyRedraw=true
	this.refresh()
	this.onlyRedraw=false
	if(B.walk("defn.t",this)===J.TEXTFIELD){this.rebuildBoxContent()
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash")
	var I=mstrmojo.array,M=mstrmojo.hash
	function J(W){if(W!==null){return(W.constructor!==Array)?[W]:W
	}return null
	}function F(g,e,a){if(!e){return null
	}var h=[],X=g.selectedIndices,W=g.allIdx,c=g.noneIdx
	if(g.multiSelect&&(c>-1)&&(I.indexOf(e,c)>-1)){return h
	}var Z,b,f=g.items,d=g.itemIdField,Y=g.selectedItems,k
	if(g.multiSelect&&(W>-1)&&(I.indexOf(e,g.allIdx)>-1)){for(Z=0,b=f.length
	Z<b
	Z++){if(!X[Z]){h.push(Z)
	X[Z]=true
	g.selectedIndex=Z
	g.selectedItem=f[Z]
	}}}else{for(Z=0,b=e.length
	Z<b
	Z++){var j=e[Z]
	if(!X[j]){X[j]=true
	if(a){h.push({idx:j,positions:a})
	}else{h.push(j)
	}g.selectedIndex=j
	k=g.selectedItem=f[j]
	if(Y){Y[k[d]]=k
	}}}}return h
	}function D(Z,W){var Y=[],a=Z.selectedIndices,b=Z.selectedItems,X
	for(X in a){delete a[X]
	if(W){Y.push({idx:parseInt(X,10),positions:W})
	}else{Y.push(parseInt(X,10))
	}}Z.selectedIndex=-1
	Z.selectedItem=null
	if(b){Z.selectedItems={}
	}return Y
	}function U(g,f,a){if(!f){return null
	}var c=[],X=g.selectedIndices,j=I.indexOf,W=g.allIdx,d=g.noneIdx,e=g.itemIdField,Y=g.selectedItems
	if(g.multiSelect&&(((W>-1)&&(j(f,W)>-1))||((d>-1)&&(j(f,d)>-1)))){return D(g)
	}if(f.length>0&&X[W]){if(j(f,W)<0){f.push(W)
	}}var b=f.length,Z
	for(Z=0
	Z<b
	Z++){var h=f[Z]
	if(X[h]){delete X[h]
	if(a){c.push({idx:h,positions:a})
	}else{c.push(h)
	}if(Y){delete Y[g.items[h][e]]
	}if(g.selectedIndex===h){g.selectedIndex=-1
	g.selectedItem=null
	}}}return c
	}function C(Z,a,X,W){if(W){return 
	}if(this.raiseEvent){if((Z&&Z.length)||(a&&a.length)){try{this.raiseEvent({name:"selectionChange",added:Z,removed:a})
	}catch(Y){U(this,Z)
	F(this,a)
	throw Y
	}}}}function B(X){var Y=this.itemIdField,W=this.items
	if(typeof X==="object"&&Y){return I.find(W,Y,X[Y])
	}return I.indexOf(W,X)
	}mstrmojo._ListSelections={multiSelect:false,allIdx:-1,noneIdx:-1,itemIdField:"",items:null,selectedIndices:null,selectedIndex:-1,selectedIndices_bindEvents:"selectionChange",selectedIndex_bindEvents:"selectionChange",selectedItem:null,selectedItem_bindEvts:"selectionChange",allowUnlistedValues:true,selectedItems:null,supportsIncFetch:false,init:function(W){this._super(W)
	if(this.supportsIncFetch&&this.itemIdField){this.selectedItems={}
	}if(!this.items){this.items=[]
	}if(!this.selectedIndices){this.selectedIndices={}
	if(this.selectedIndex>-1){this._set_selectedIndex("selectedIndex",this.selectedIndex,true)
	}else{if(this.selectedItem){this._set_selectedItem("selectedItem",this.selectedItem,true)
	}}}},addItems:function K(f){f=J(f)
	if(!f){return 
	}var c=this.items,W=this.items.length,Y=this.selectedItems,a=[],X
	c=this.items=c.concat(f)
	X=c.length
	if(Y){var b=this.itemIdField,Z,e
	for(Z=W
	Z<c.length
	Z++){e=c[Z]
	if(Y[e[b]]){a.push(Z)
	}}}if(a&&a.length){F(this,a)
	}if(X>W){var d=this.itemsContainerNode
	if(d){d.innerHTML+=this._buildItemsMarkup(W,X-1).join("")
	}}},addSelectedItems:function S(W){this.selectItems(W,false)
	},setSelectedItems:function L(W){this.selectItems(W,true)
	},selectItems:function R(e,g){e=J(e)
	if(!e){return 
	}if(g&&this.selectedItems){this.selectedItems={}
	}var Y=this.selectedItems,c=this.itemIdField,W=[],a=this.items.length,b=[],X=this.allowUnlistedValues,f,d,Z
	for(Z=0
	Z<e.length
	Z++){f=e[Z]
	d=B.call(this,f)
	if(d<0){if(Y===null){if(X){W.push(f)
	d=a++
	b.push(d)
	}}else{Y[f[c]]=f
	}}else{b.push(d)
	}}if(W.length>0){this.addItems(W)
	}if(b.length>0){if(g){this.select(b)
	}else{this.addSelect(b)
	}}},unselectItems:function A(X){X=J(X)
	if(!X){return 
	}var c=this.selectedItems,Y=[],b=this.itemIdField,a,W,Z
	if(c===null){return 
	}for(Z=0
	Z<X.length
	Z++){a=X[Z]
	if(c){delete c[a[b]]
	}W=B.call(this,a)
	if(W<0){Y.push(W)
	}}if(Y.length>0){this.removeSelect(Y)
	}},getSelectedItems:function G(){if(this.selectedItems){return M.valarray(this.selectedItems)
	}return I.get(this.items,M.keyarray(this.selectedIndices,true))
	},singleSelect:function(X,Y,W){if(X!==-1){this.select([X],Y,W)
	}},singleSelectByField:function O(X,Y,W){this.singleSelect(I.find(this.items,Y,X),W)
	},toggleSelect:function Q(W){var Y,X
	if(this.selectedIndices[W]){X=U(this,[W])
	}else{Y=F(this,[W])
	}C.call(this,Y,X,[W])
	},select:function(Y,X,W){Y=J(Y)
	if(!Y){return 
	}var a=D(this,W),c=F(this,Y,W),Z
	if(this.selectionPolicy!=="reselect"){for(Z=a.length-1
	Z>=0
	Z--){var b=I.indexOf(c,a[Z])
	if(b>-1){a.splice(Z,1)
	c.splice(b,1)
	}}}C.call(this,c,a,Y,X)
	},rangeSelect:function H(X,W){var c=this.selectedIndex,a=c,b=this.allIdx,Y=[],Z
	if(X===b||this.selectedIndices[b]){Y.push(b)
	}else{if(a===-1&&this.selectedIndices){for(Z in this.selectedIndices){a=parseInt(Z,10)
	break
	}}a=a===-1?0:a
	if(a>X){a=X
	X=c
	}for(Z=a
	Z<=X
	Z++){Y.push(Z)
	}}this.select(Y,W)
	this.selectedIndex=c
	},clearSelect:function(W){C.call(this,null,D(this),[],W)
	if(!W){this.raiseEvent({name:"clearSelection"})
	if(this.parent){this.parent.raiseEvent({name:"clearSelection"})
	}}},addSelect:function(Z,W,X){Z=J(Z)
	if(!Z){return 
	}var Y=F(this,Z,X),b=null,a=this.noneIdx
	if(this.multiSelect&&(a>-1&&I.indexOf(Z,a)>-1)){b=U(this,Z)
	}C.call(this,Y,b,Z,W)
	},removeSelect:function(Y,W,X){Y=J(Y)
	if(!Y){return 
	}C.call(this,null,U(this,Y,X),Y,W)
	},_set_selectedIndices:function P(Y,e,W){if(this.selectedItems){this.selectedItems={}
	}var X=this.selectedIndices
	if(X===e){return false
	}if(!X){X={}
	this.selectedIndices=X
	}if(!e){e={}
	}var c=this.selectedIndex,b=[],d
	for(d in X){if(!e[d]){d=parseInt(d,10)
	delete X[d]
	b.push(d)
	if(c===d){this.selectedIndex=-1
	this.selectedItem=null
	}}}var h=[],f=this.items,a=this.itemIdField,g
	for(d in e){if(!X[d]){d=parseInt(d,10)
	X[d]=true
	h.push(d)
	this.selectedIndex=d
	g=this.selectedItem=f[d]
	if(this.selectedItems){this.selectedItems[g[a]]=g
	}}}if(W!==true){var Z=[]
	for(d in e){if(X[d]){d=parseInt(d,10)
	Z.push(d)
	}}C.call(this,h,b,Z)
	}return(h.length||b.length)
	},_set_selectedIndex:function N(Z,X,W){var Y={}
	if(X>-1){Y[X]=true
	}return this._set_selectedIndices("selectedIndices",Y,W)
	},_set_selectedItem:function E(Z,Y,X){var W=B.call(this,Y)
	if((W<0)&&(Y!==null&&Y!==undefined)&&this.allowUnlistedValues&&this.items){this.set("items",this.items.concat(Y))
	W=this.items.length-1
	}return this._set_selectedIndex("selectedIndex",W,X)
	},_addSelections:function(W){return F(this,W)
	},_removeAll:function(){return D(this)
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash")
	var O=/this\.([\w\.\[\]\'\"\-]+)/m,D=/this\./m,M=/mstrmojo\.all\[[\'\"]([\w]+)[\'\"]\]\.([\w\.\[\]\'\"\-]+)/m,R=/mstrmojo\.all\[/m,L=/mstrmojo\.all\.([\w]+)\.([\w\.\[\]\'\"\-]+)/m,B=/mstrmojo\.all\./m,C=/\[(\d+)\]/g,E=/\[\'([\w\-]+)\'\]/g,P=/\[\"([\w\-]+)\"\]/g,H=/([\[\]].*)/
	mstrmojo.Binding=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.Binding",parent:null,source:null,destination:null,enabled:false,setter:"set",executing:0,init:function N(S){mstrmojo.hash.copy(S,this)
	mstrmojo.registry.add(this)
	},destroy:function F(){mstrmojo.publisher.clearSubscriptions(this.id)
	mstrmojo.registry.remove(this)
	},exec:function K(){this.executing++
	var Y=this._sourceFn
	if(!Y){var X=this.source
	if(X!=null){if(typeof (X)=="string"){if(!(X.match("return "))&&!(X.match(/\
	\s*\S/))){X="return "+X
	}Y=new Function(X)
	}else{if(typeof (X)=="function"){Y=X
	}}this._sourceFn=Y
	}}var S,Z=this.parent
	if(Y){try{S=Y.apply(Z,[])
	}catch(W){}}var U=this.setter,a=this.destination
	if(U==null){Z[a]=S
	}else{if(typeof (U)=="string"){Z[U](a,S)
	}else{if(typeof (U)=="function"){U.apply(Z,[a,S])
	}}}this.executing--
	},enable:function A(){if(!this.enabled){this.exec()
	var U=this._chains
	if(!U){this._parseChains()
	U=this._chains
	}for(var S in U){this._attachChain(U[S])
	}this.enabled=true
	}},disable:function J(){if(this.enabled){var U=this._chains
	if(U){for(var S in U){this._detachChain(U[S])
	}}this.enabled=false
	}},_chains:null,_parseChains:function(){this._chains={}
	var W=this._chains
	var U=this.source
	if(U&&(typeof (U)=="function")){U=U.toString&&U.toString()
	}if(!U){return 
	}function S(d,g,X,Z){var Y=d,b
	while(b=Y.match(g)){var e=b[0],c=e.length,f=true
	e=e.replace(C,".$1").replace(E,".$1").replace(P,".$1").replace(H,"")
	for(var a in W){if(a.substr(0,c)===e){f=false
	break
	}else{if(e.indexOf(a)===0){delete W[a]
	}}}if(f){W[e]={host:(X==null)?null:b[X],parts:b[Z].replace(C,".$1").replace(E,".$1").replace(P,".$1").replace(H,"").split(".")}
	}Y=Y.substr(b.index+c)
	}}if(D.test(U)){S(U,O,null,1)
	}if(R.test(U)){S(U,M,1,2)
	}if(B.test(U)){S(U,L,1,2)
	}},_attachChain:function Q(S,W){if(!S.evt2idx){S.evt2idx={}
	}if(!S.idx2evt){S.idx2evt=[]
	}var f=S.evt2idx,j=S.idx2evt,b=S.parts
	var g=(W>=0)?W:0,d=this.id,Y=mstrmojo.all,e=(W>0)?Y[j[g-1].context][b[g-1]]:(S.host?Y[S.host]:this.parent),U=b[g]
	var X=mstrmojo.array
	while(e&&U){if(e.attachEventListener){var h=e[U+"_bindEvents"]||(U+"Change")
	if(typeof (h)=="string"){h=[h]
	}var a=[]
	for(var c=0,Z=h.length
	c<Z
	c++){a[c]=e.attachEventListener(h[c],d,"_callback")
	}for(var c=0
	c<h.length
	c++){f[e.id+"_"+h[c]]=g
	}j[g]={context:e.id,evts:h,subs:a}
	}e=e[U]
	U=S.parts[++g]
	}},_detachChain:function G(S,U){var W=mstrmojo.all,l=S.idx2evt,f=S.evt2idx,c=this.id
	var a=(U>-1)?U:0,d=l.length
	if(a<d){for(
	a<d
	a++){var b=l[a]
	if(!b){break
	}var Y=b.context,e=W[Y],k=b.evts
	if(e&&e.detachEventListener){var m=b.subs
	for(var h=0,X=m.length
	h<X
	h++){e.detachEventListener(m[h])
	}}l[a]=null
	for(var Z=0,g=k.length
	Z<g
	Z++){delete f[Y+"_"+k[Z]]
	}}}},_callback:function I(U){this.exec()
	if(!U||!U.name||!U.src){return 
	}var W=U.src.id+"_"+U.name,Y=this._chains
	for(var Z in Y){var X=Y[Z],S=X.evt2idx[W]
	if(S!=null){this._detachChain(X,S+1)
	this._attachChain(X,S+1)
	}}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array")
	var H=mstrmojo.array,B=mstrmojo.hash,J=B.isEmpty
	var G=1
	function D(Q){return(typeof Q==="object")?Q:{}
	}function E(R,Q){B.forEach(Q,function(S,X){var U=R[X]
	if(U===undefined){delete Q[X]
	return true
	}S=Q[X]=D(S)
	U=R[X]=D(U)
	if(J(S)&&J(U)){throw (G)
	}else{if(J(U)){delete R[X]
	if(J(R[X])){E(R,Q)
	}}else{if(J(S)){delete R[X]
	if(J(R[X])){E(R,Q)
	}}else{try{E(R[X],Q[X])
	}catch(W){switch(W){case G:R[X]=Q[X]={}
	break
	}}}}}})
	}function I(Q){B.forEach(Q,function(R){B.forEach(R,function(W,S){var U=W.include,Y=W.exclude
	if(J(U)||J(Y)){return true
	}if(!J(U)&&!J(Y)){try{E(Y,U)
	}catch(X){switch(X){case G:R[S]={}
	break
	}}}})
	})
	return Q
	}function F(S,R,Q){B.forEach(S,function(W,U){if(W===true||J(W)){Q.push(R+U)
	}else{F(W,R+U+".",Q)
	}})
	return Q
	}function P(Q){B.forEach(Q,function(R){B.forEach(R,function(W,S){var U=[]
	F(W.include,"",U)
	F(W.exclude,"!",U)
	R[S]=U.join("
	")
	})
	})
	return Q
	}function K(Q,R){B.forEach(Q,function(S,W){var U=R[W]
	if(U!==undefined){if(S!==true&&U!==true){K(S,U)
	}else{if(S===true&&U!==true){R[W]=true
	}else{if(S!==true&&U===true){Q[W]=true
	}}}}})
	}function L(R,S){var Q=true
	B.forEach(R,function(a,U){var Y=S[U]
	if(Y){var W=a.include,b=a.exclude,Z=Y.include,X=Y.exclude
	if(!J(X)&&!J(b)){Q=false
	return Q
	}if(!J(Z)&&!J(W)){K(Z,W)
	}}return Q
	})
	return Q
	}function C(S,Q){Q=Q||{}
	if(S){var R=Q
	H.forEach(S.split("."),function(Y,W,U,X){R[Y]=X?true:{}
	R=R[Y]
	})
	}return Q
	}mstrmojo.rw.model.RetrievalKeysConfig=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.rw.model.RetrievalKeysConfig",init:function M(){this.nodes=[]
	this.filters={}
	},addNode:function A(R,U){var S=this.filters,Q=S[R]
	if(!Q){this.nodes.push(R)
	Q=S[R]={data:{},defn:{}}
	}if(U){if(L(Q,U)){S[R]=B.mergeHashes(Q,U)
	}else{throw ("The new filters for node key ## cannot be merged with the filters currently defined".replace("##",R))
	}}return this
	}})
	mstrmojo.rw.model.RetrievalKeysConfig.getConsolidatedConfig=function O(U){var Q={},W={},S={}
	H.forEach(U,function R(Y){var X=Y.partialRetrieval
	if(X){H.forEach(X.nodes,function(Z){W[Z]=true
	})
	S=B.mergeHashes(S,X.filters)
	delete Y.partialRetrieval
	}H.forEach(Y.actions,R)
	})
	if(!J(W)){Q.nodes=B.keyarray(W)
	}if(!J(S)){Q.filters=P(I(S))
	}return Q
	}
	mstrmojo.rw.model.RetrievalKeysConfig.parseResponseFilters=function N(R){var Q=function(U){var S={}
	B.forEach(U,function(Y,X){var W=S[X]={serialized:Y,include:{},exclude:{}}
	H.forEach(Y.split("
	"),function(a){var Z=a.indexOf("!")===0
	a=Z?a.slice(1):a
	C(a,Z?W.exclude:W.include)
	})
	})
	return S
	}
	return{data:Q(R.data),defn:Q(R.defn)}
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array")
	mstrmojo.vi.ui.rw.SelectionType={EMPTY:"empty",ATTS:"att",METRICS:"metric",COL_HEADERS:"col-headers",ROW_HEADERS:"row-headers",METRIC_VALUES:"metric-values"}
	var A=function(AF){var AD=(mstrApp&&mstrApp.docModelData&&mstrApp.docModelData.mid)||"",AE=AF.k||AF.key
	return AE+"-"+AD
	},G={},t={},U=mstrmojo.hash,a=mstrmojo.array,N=function(AF){var AD=U.keyarray(AF).sort(),AE=[],AG
	a.forEach(AD,function(AH){AG=[]
	a.forEach(AF[AH],function(AI){AG.push(this.model.getNormalizedFormElementId(AI.id))
	},this)
	AE.push(AH+"-"+AG.sort().join("@"))
	},this)
	return AE.join("#")
	},M=function(AD){var AE=N.call(this,AD)
	if(!this._viSelections[AE]){this._viSelections[AE]=AD
	if(mstrApp&&mstrApp.isInVFConfigMode){return 
	}G[A(this)]={_selectionType:this.getSelectionType(),_viSelections:this.getSelectionHash()}
	}},AC=function(AD){var AE=N.call(this,AD)
	if(!this._viContextMenuSelections[AE]){this._viContextMenuSelections[AE]=AD
	}},q=function(AE){var AF=N.call(this,AE),AD=this._viSelections[AF]
	if(AD){delete this._viSelections[AF]
	if(mstrApp&&mstrApp.isInVFConfigMode){return 
	}G[A(this)]={_selectionType:this.getSelectionType(),_viSelections:this.getSelectionHash()}
	}return AD
	},f=function(AE){var AF=N.call(this,AE),AD=this._viContextMenuSelections[AF]
	if(AD){delete this._viContextMenuSelections[AF]
	}return AD
	},m=function(){var AD=A(this)
	t=t||{}
	if(G[AD]){t[AD]=U.clone(G[AD])
	}},AB=function(AG,AF,AK,AH,AD,AJ,AE){var AI={}
	AI[AG]=[{id:AF,n:AK,fm:AE,ui:AH,o:AD,axis:AJ}]
	return AI
	},H=mstrmojo.vi.ui.rw.SelectionType
	mstrmojo.vi.ui.rw._HasVisSelections=mstrmojo.provide("mstrmojo.vi.ui.rw._HasVisSelections",{_mixinName:"mstrmojo.vi.ui.rw._HasVisSelections",init:function(AD){if(this._super){this._super(AD)
	}this._viSelections={}
	},update:function e(AE){var AD=true
	if(this._super){AD=this._super(AE)
	}this.clearViSelection()
	if(!mstrApp.isInVFConfigMode){U.copy(G[A(this)],this)
	}if(!this.updateForInteractiveMode){m.call(this)
	}return AD
	},onSelectionChange:function L(AD){if(this._super){this._super(AD)
	}},_viSelections:{},_viContextMenuSelections:{},_selectionType:H.EMPTY,_contextMenuSelectionType:H.EMPTY,_cellSelections:[],getSelectionType:function(){return this._selectionType
	},getContextMenuSelectionType:function(){return this._contextMenuSelectionType
	},isSingleAttrSelection:function(){var AE=null,AD
	if(this.getSelectionType()===H.ATTS){AD=this.getSelections()
	if(AD.length>1){return !AD.some(function(AF){if(!AE){AE=AF[0].tid
	return false
	}return AE!=AF[0].tid
	},this)
	}return true
	}return false
	},isSingleContextMenuAttrSelection:function(){var AE=null,AD
	if(this.getContextMenuSelectionType()===H.ATTS){AD=this.getContextMenuSelections()
	if(AD.length>1){return !AD.some(function(AF){if(!AE){AE=AF[0].tid
	return false
	}return AE!=AF[0].tid
	},this)
	}return true
	}return false
	},isSingleSelection:function(){return(this._viSelections&&U.keyarray(this._viSelections).length===1)
	},isSingleContextMenuSelection:function(){return(this._viContextMenuSelections&&U.keyarray(this._viContextMenuSelections).length===1)
	},getSelectionSize:function u(){return(this._viSelections&&U.keyarray(this._viSelections).length)||0
	},getCxtMnuSelectionSize:function C(){return(this._viContextMenuSelections&&U.keyarray(this._viContextMenuSelections).length)||0
	},getSelectionHash:function S(){return this._viSelections
	},getContextMenuSelectionHash:function l(){return this._viContextMenuSelections
	},getSelectionCache:function B(){return G[A(this)]
	},setSelectionCache:function Y(AD){G[A(this)]=AD
	},getPrevSelectionInfo:function K(){return t[A(this)]
	},getSelections:function p(){var AD=[],AE
	U.forEach(this.getSelectionHash(),function(AF){AE=[]
	AD.push(AE)
	U.forEach(AF,function(AG,AH){a.forEach(AG,function(AI){AE.push({tid:AH,eid:AI.id,v:AI.n,level:AI.level})
	})
	})
	})
	return AD
	},getContextMenuSelections:function d(){var AD=[],AE
	U.forEach(this.getContextMenuSelectionHash(),function(AF){AE=[]
	AD.push(AE)
	U.forEach(AF,function(AG,AH){a.forEach(AG,function(AI){AE.push({tid:AH,eid:AI.id,fm:AI.fm,v:AI.n,axis:AI.axis,o:AI.o,ui:AI.ui})
	})
	})
	})
	return AD
	},isMetricValueSelected:function w(AD){return !!this._viSelections[N.call(this,AD)]
	},isAttSelected:function W(AE,AD){return this.isMetricValueSelected(AB(AE,AD))
	},isCtxMnuMetricValueSelected:function D(AD){return !!this._viContextMenuSelections[N.call(this,AD)]
	},isCtxMnuAttSelected:function AA(AE,AD){return this.isCtxMnuMetricValueSelected(AB(AE,AD))
	},addAttributeSelection:function j(AE,AD,AF){if(this._selectionType!==H.ATTS){this.clearSelections()
	this._selectionType=H.ATTS
	}var AG=AB.call(this,AE,AD,AF)
	M.call(this,AG)
	return AG[AE]
	},addContextMenuAttributeSelection:function g(AG,AF,AJ,AH,AD,AI,AE){if(this._contextMenuSelectionType!==H.ATTS){this.clearCxtMnuSelection()
	this._contextMenuSelectionType=H.ATTS
	}var AK=AB.call(this,AG,AF,AJ,AH,AD,AI,AE)
	AC.call(this,AK)
	return AK[AG]
	},removeAttributeSelection:function J(AE,AD){return q.call(this,AB.call(this,AE,AD))
	},removeContextMenuAttributeSelection:function X(AE,AD){return f.call(this,AB.call(this,AE,AD))
	},addMetricValueSelection:function o(AD){if(this._selectionType!==H.METRICS){this.clearSelections()
	this._selectionType=H.METRICS
	}M.call(this,AD)
	},addContextMenuMetricValueSelection:function o(AD){if(this._contextMenuSelectionType!==H.METRICS){this.clearCxtMnuSelection()
	this._contextMenuSelectionType=H.METRICS
	}AC.call(this,AD)
	},addAttrOrMetricCellSelection:function x(AF,AE,AD){this._cellSelections.push({parentElementIds:AF,target:{selectionType:AD?H.ATTS:H.METRICS,id:AE}})
	},getCellSelections:function k(){var AD=this
	AD.clearCellSelections()
	var AE=function(AG,AF){var AH=[]
	if(AG){while(AF.hasOwnProperty("_p")){AH.push(AF._p._e.id)
	AF=AF._p
	}}else{var AI=AD.model.getCellDataUnion(AF)
	a.forEach(AI,function(AJ){AH.push(AJ.eid)
	})
	}return AH
	}
	a.forEach(AD.highlights,function(AJ){var AF=AD.getCellForNode(AJ),AK=!AF.hasOwnProperty("mix")&&AF._e&&!AF.fi,AI=AE(AK,AF)
	if(AK){var AG=AF._e.id
	AD.addAttrOrMetricCellSelection(AI,AG,true)
	}else{var AH=AF._tp._e.oid
	AD.addAttrOrMetricCellSelection(AI,AH,false)
	}})
	return this._cellSelections
	},removeMetricValueSelection:function O(AD){return q.call(this,AD)
	},removeContextMenuMetricValueSelection:function P(AD){return f.call(this,AD)
	},clearSelections:function c(){if(this._super){this._super()
	}this._viContextMenuSelections={}
	this._contextMenuSelectionType=H.EMPTY
	this._viSelections={}
	this._selectionType=H.EMPTY
	if(typeof this.clearSelectedGraphicInfo==="function"){this.clearSelectedGraphicInfo()
	}},clearViSelection:function I(){this._viSelections={}
	this._selectionType=H.EMPTY
	},clearCxtMnuSelection:function v(){if(this._super){this._super()
	}this._viContextMenuSelections={}
	this._contextMenuSelectionType=H.EMPTY
	},clearCellSelections:function Q(){this._cellSelections=[]
	},clearSelectionsCache:function R(){G={}
	},clearUnitSelections:function c(AE){if(this._super){this._super()
	}var AD={}
	U.forEach(this._viSelections,function(AG,AF){if(U.keyarray(AG)[0]!==AE){AD[AF]=AG
	}})
	this._viSelections=AD
	},clearAllSelectionsAndHighlight:function h(){this.clearSelections(true)
	this.endSelections()
	},endSelections:function F(){if(mstrApp&&mstrApp.isInVFConfigMode){return 
	}G[A(this)]={_selectionType:this.getSelectionType(),_viSelections:this.getSelectionHash()}
	this.raiseGraphicsSelectedEvent(this)
	if(this.isInFilterPanel()&&mstrApp&&mstrApp.isDossier){this.raiseGraphicsSelectionChangeEvent()
	return 
	}this.onSelectionChange(this.getSelectionHash())
	},isInFilterPanel:function E(){var AD=this.node&&this.node.defn
	return AD&&AD.iifp
	},addSelectionsFromExpression:function z(AF){this.clearSelections()
	this._selectionType=AF.type
	var AD=this,AE=function(AL){var AM=20,AJ=19,AK=function(AN){return(AN.nds||[]).length===1?AM:AN.fn
	},AI=function(AN){return parseInt(AN.et,10)===5||parseInt(AK(AN),10)===AJ
	},AG=function(AN){a.forEach(AN.es,function(AO){AD.addAttributeSelection(AN.a.did,AO.v,AO.n)
	})
	},AH=function(AP){var AO={},AN=function(AQ){a.forEach(AQ.es,function(AR){U.copy(AB.call(AD,AQ.a.did,AR.v,AR.n),AO)
	})
	}
	if(AP.nds){a.forEach(AP.nds,AN)
	}else{if(AP.es){AN(AP)
	}}AD.addMetricValueSelection(AO)
	}
	if(AI(AL)){AL={nds:[AL]}
	}a.forEach(AL.nds,function(AN){if(AI(AN)){if(AF.type===H.ATTS){AG(AN)
	}else{AH(AN)
	}}else{AE(AN)
	}})
	}
	AE(AF.data)
	},raiseGraphicsSelectedEvent:function r(){if(window.mstrApp&&window.mstrApp.isEmbedded){var AJ=this,AI=AJ.model,AH=AI&&AI.data,AF=AH&&AH.k,AD=AH&&AH.gts,AN=AD&&AD.row,AG=AD&&AD.col,AK=a.ensureArray(AN).concat(AG||[]),AE=function(AP){var AO
	a.forEach(AK,function(AQ){if(AQ&&AQ.id===AP){AO=AQ.n
	return false
	}})
	return AO
	},AL=[],AM=this.getSelectionHash()
	U.forEach(AM,function(AP){var AO=[]
	U.forEach(AP,function(AS,AR){var AQ=AE(AR)
	a.forEach(AS,function(AT){AO.push({n:AQ,nid:AR,v:AT.n,vid:AT.id})
	})
	})
	AL.push(AO)
	})
	mstrApp.raiseEvent({name:"graphicsSelected",value:{graphics:AL,vizKey:AF}})
	}},raiseGraphicsSelectionChangeEvent:function b(){if(mstrApp&&(typeof mstrApp.raiseEvent==="function")){mstrApp.raiseEvent({name:"graphicsSelectionChange",value:{selections:G[A(this)],vizKey:this.k}})
	}},copyToContextMenuSelection:function n(){this._contextMenuSelectionType=this._selectionType
	U.copy(this._viSelections,this._viContextMenuSelections)
	}})
	mstrmojo.vi.ui.rw._HasVisSelections.VisSelectionType=null
	mstrmojo.vi.ui.rw._HasVisSelections.clearAllSelectionsCache=function Z(){G={}
	t={}
	}
	}())
	mstrmojo.DPIManager={classes:[],registerClass:function registerClass(B,C,D,A){this.classes.push({c:B,d:C,s:D,v:A})
	},setDPI:function(){var A=mstrMobileApp.getDeviceDPI()
	mstrmojo.array.forEach(this.classes,function(B){B.c.prototype.layoutConfig[B.d][B.s]=B.v[A]+"px"
	})
	this.classes=[]
	}}
	(function(){document.msCSSOMElementFloatMetrics=true
	mstrmojo.requiresCls("mstrmojo.hash")
	var S=mstrmojo.hash,H="containerNode",G="auto",Q="px"
	var I={v:G,c:undefined,sv:G}
	function E(e,h,g){var j=this._layoutWidgets[h],m=e.slot||H,k=j.f,l=j.p,f=(k&&k[m]!==undefined),d=(l&&l[m]!==undefined)
	if(m&&((!g&&f)||d)){return f?k[m]:(j.x*parseInt(l[m],10)/100)+Q
	}return e[(h==="h")?"height":"width"]
	}function K(k,f,d){if(k.ignoreLayout){return 
	}var e=(f===G)||f==="NaNpx",j=(d===G)||d==="NaNpx"
	var g=k.getLayoutOffsets&&k.getLayoutOffsets()
	if(g){if(!e){f=(parseInt(f,10)-g.h)+Q
	}if(!j){d=(parseInt(d,10)-g.w)+Q
	}}if(k.setDimensions){k.setDimensions(f,d)
	}else{if(k.set){if(!e){k.set("height",f)
	}if(!j){k.set("width",d)
	}}}}function b(g){var e=this.children,k,m
	for(k=0,m=(e&&e.length)||0
	k<m
	k++){var f=e[k],n=f.slot||H
	if(n){var l=E.call(this,f,"h",g),o=E.call(this,f,"w",g)
	this.setSlotDimensions(n,l,o)
	K(f,l,o)
	var d=E.call(this,f,"h",g),j=E.call(this,f,"w",g)
	if(d!==l||j!==o){K(f,d,j)
	}this.setSlotDimensions(n,d,j)
	}}this.afterLayout()
	}function B(){var e=this.children,d=this._layoutWidgets
	S.forEach(this.slotNames,function(k,l){if(!k||this.skipsSlotLayout(l)){return 
	}var j=(d.h&&d.h.getSlotSizeInfo(l,e))||I,f=(d.w&&d.w.getSlotSizeInfo(l,e))||I,g=j.c||f.c
	mstrmojo.array.forEach(g,function(h){K(h,j.v,f.v)
	})
	this.setSlotDimensions(l,j.sv,f.sv)
	},this)
	this.afterLayout()
	}function D(e){var d=this.layoutConfig.xt?B:b
	d.call(this,e)
	}function U(l,g,j){var k=l.slot||H,h=g&&g.a
	if(!h||h[k]===undefined){return 
	}var e=this[k]["offset"+j],f=h[k]
	if(e===f){return 
	}g.x-=(e-f)
	h[k]=e
	}function J(d){this.beforeLayout()
	var e=this._layoutWidgets,f=d.src
	U.call(this,f,e.h,"Height")
	U.call(this,f,e.w,"Width")
	D.call(this,true)
	}function O(f,k){if(!f){return null
	}var d=this.children,u=k.toLowerCase(),l=parseInt(this[u],10),n=l,p={},r={},j={},e={},q={},m,o,g,w,t
	for(t in f){if(!f.hasOwnProperty(t)){continue
	}w=f[t]
	if(w.match(/px$/)){l-=parseInt(w,10)
	p[t]=w
	}else{if(w.match(/%$/)){r[t]=w
	}else{if(w.match(/all/)){q[t]=n
	}else{j[t]=w
	}}}}if(!S.isEmpty(j)&&!S.isEmpty(r)){for(m=0,o=(d&&d.length)||0
	m<o
	m++){g=d[m]
	t=g.slot||H
	if(t&&j[t]&&!g.ignoreLayout){if(g.hasRendered){var h=this[t]
	e[t]=h.getBoundingClientRect?Math.round(h.getBoundingClientRect()[k.toLowerCase()]):h["offset"+k]
	l-=e[t]
	}else{e[t]=0
	g.attachEventListener((g instanceof mstrmojo.Container)?"childrenRendered":"renderComplete",this.id,J)
	}}}}return{f:S.isEmpty(p)?undefined:p,p:S.isEmpty(r)?undefined:r,a:S.isEmpty(e)?undefined:e,n:S.isEmpty(q)?undefined:q,x:l,getSlotSizeInfo:function(AE,z){if(!f[AE]){return I
	}var x=mstrmojo.array.filter(z,function(AG){var AF=AG.slot
	return AF===AE||(AE===H&&!AF)
	}),AC,AD
	var v=p[AE]
	if(v){AD=v
	}var AB=r[AE]
	if(AB){AD=(this.x*parseInt(AB,10)/100)+Q
	}if(j[AE]){AD=e[AE]
	if(AD){AD+=Q
	}else{AD=G
	}AC=G
	}var AA=q[AE]
	if(AA){AD=AC=AA+Q
	}AD=AD||"0px"
	return{v:AD,c:x,sv:AC||AD}
	}}
	}function R(e){var d=this.domNode
	if(!d||!this.layoutConfig){return 
	}d.style[e]=this[e]
	this.doLayout()
	}mstrmojo._HasLayout=mstrmojo.provide("mstrmojo._HasLayout",{_mixinName:"mstrmojo._HasLayout",height:"auto",width:"auto",ignoreLayout:false,beforeLayout:mstrmojo.emptyFn,afterLayout:mstrmojo.emptyFn,forceLayout:false,layoutConfig:null,init:function X(d){this._super(d)
	this.layoutConfig=S.clone(this.layoutConfig)
	},preBuildRendering:function C(){var f=this.cssText||""
	var d=this.height
	if(d&&d!==G){f+="height:"+this.height+"
	"
	}var e=this.width
	if(e&&e!==G){f+="width:"+this.width+"
	"
	}this.cssText=f
	return(this._super)?this._super():true
	},postBuildRendering:function Y(){this.doLayout()
	return this._super()
	},modifyLayoutConfig:function a(f,e){var d=this.layoutConfig=this.layoutConfig||{}
	d.h=S.copy(f,d.h)
	d.w=S.copy(e,d.w)
	this.doLayout()
	},getLayoutOffsets:mstrmojo.emptyFn,set:function P(f,d){var e=this._super(f,d)
	if(f==="visible"&&this._pendingLayoutOnVisible){delete this._pendingLayoutOnVisible
	this.doLayout()
	}return e
	},doLayout:function A(){var d=this.layoutConfig
	if(!d||(this.height===G&&this.width===G)){return 
	}if(d.xt){if(!this.visible){this._pendingLayoutOnVisible=true
	return 
	}}this.beforeLayout()
	this._layoutWidgets={h:O.call(this,d.h,"Height"),w:O.call(this,d.w,"Width")}
	D.call(this,false)
	this.widgetResized()
	},browserResized:function F(d){this.setDimensions(d.h,d.w)
	return true
	},onwidthChange:function N(){R.call(this,"width")
	},onheightChange:function M(){R.call(this,"height")
	},skipsSlotLayout:function(d){return false
	},adjustParentDimensions:function L(){var e=this.parent,d=e&&e._layoutWidgets
	if(d){U.call(e,this,d.h,"Height")
	U.call(e,this,d.w,"Width")
	}},setDimensions:function W(g,e){var f=(g===G)||g==="NaNpx",j=(e===G)||e==="NaNpx"
	if((!f&&parseInt(this.height,10)!==parseInt(g,10))||(!j&&parseInt(this.width,10)!==parseInt(e,10))||this.forceLayout){if(!f){this.height=g
	}if(!j){this.width=e
	}var d=this.domNode,k=d&&d.style
	if(k){if(!f){k.height=g
	}if(!j){k.width=e
	}this.doLayout()
	}return true
	}return false
	},setSlotDimensions:function Z(g,f,e){var d=this[g]&&this[g].style
	if(!d){return 
	}if(f!==G&&f!==undefined&&f!=="NaNpx"&&d.height!==f&&parseInt(f)>=0){d.height=f
	}if(e!==G&&e!==undefined&&e!=="NaNpx"&&d.width!==e&&parseInt(e)>=0){d.width=e
	}}})
	mstrmojo._HasLayout.getSlotSize=function c(g,j){var e=g&&g.prototype.layoutConfig
	if(e){var f=e.h,d=e.w
	return{h:(f&&f[j])||undefined,w:(d&&d[j])||undefined}
	}return null
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash")
	var S=mstrmojo.array,O=mstrmojo.hash
	var W=1,N=2
	var D=2,H=4,C=5
	var A=3
	function F(X,Y){return X[((Y===W)?"row":"col")]
	}function B(X,Z){var Y=Z.lm
	return Y&&Y[X.mix||0]
	}function K(X){return X.replace(/
	/g,"\\
	")
	}mstrmojo._XtabModelShared=mstrmojo.provide("mstrmojo._XtabModelShared",{mixinName:"mstrmojo._XtabModelShared",getSortAction:function E(Y,r,a,j){var p=this.getCellTitleInfo(Y),w=p.title,t=[],h=function(){if(p.isSrcTitle){return w.axis
	}return S.find(this.data.gts.col,"otp",-1)>-1?W:N
	},k=h.call(this),n=this.data.gts[((k===W)?"row":"col")+"SubPos"],v=this.xtab,q,c,f,l,Z,u,d
	if(v.getColumnSetCellBelongsTo){q=v.getColumnSetCellBelongsTo(Y)
	}r=(r===null||r===undefined)?!(Y&&Y.so):r
	if(p.isSrcTitle){c=D
	f=w.id
	l=w.otp
	Z=Y.fs&&Y.fs[0]
	u=Z&&Z.n==="DYNAMICLINK"?"45C11FA478E745FEA08D781CEA190FE5":w.fid
	}else{c=H
	l=4
	d=w.stt
	var o,g
	do{o=Y._e
	if(o){if(o.oid){f=o.oid
	}else{g=K(o.id)
	t.push(g)
	}}Y=Y._p
	}while(Y)
	}var m={sortType:c,axis:k,isAsc:r,unitID:f,unitType:l,elementList:t.join("
	"),subTotalsPos:n}
	if(f){m.unitID=f
	}if(u){m.formId=u
	}if(!a){if(d){m.sortType=C
	m.stt=d
	}}var X
	if((c===H)||(c===C)){X=["","",m.elementList||"",m.axis]
	}else{X=[m.formId,"21","",m.axis]
	}X=[m.unitType,m.unitID].concat(X)
	m.sortKey=X.join("!")
	if(a){var b=[]
	b.push(a)
	if(a===A){b=b.concat([j.did,j.t])
	}m.metricSortKey=b.join("!")
	}if(q){m.columnSetKey=q.k
	}return m
	},hasDummySortKey:function M(X){var Y=X.split("!")
	return Y[1]==="00000000000000000000000000000000"
	},convertCurrentSortAxisIntoActionSort:function I(X){var Y=this
	X=S.filter(X,function(Z){return !Y.hasDummySortKey(Z.key)
	})
	(X||[]).forEach(function(a){var Z=a.key
	if(Z){a.key=K(Z).replace(/\u001e/g,"
	")
	}})
	return X
	},convertCurrentSortsIntoActionSorts:function L(Z){var X=O.clone(Z),Y=this
	X.forEach(function(a,b){X[b]=Y.convertCurrentSortAxisIntoActionSort(a)
	})
	return X
	},getCellTitleInfo:function Q(Y,d){var Z=d?d.gts:this.data.gts,a=Z&&Z.col,c=Y&&Y.setIdx
	var b=null
	if(Z){if(Y&&Y.mix===undefined){b=F(Z,Y.axis)[Y.tui||Y.ui]
	}else{var X=function(g){var e=(g&&g.length)||0,f
	for(f=e-1
	f>=0
	--f){if(parseInt(g[f].otp,10)===-1){return g[f]
	}}return null
	}
	if(typeof c==="number"&&c>-1){a=this.xtab.getColSetColumnTitles(c,true)
	}b=X(a)||X(Z.row)
	}}return{isSrcTitle:!!Y&&(Y.o===undefined)&&!((Y.mix!==undefined)&&(Y._lp||Y._tp)),title:b}
	},getCellLinksInfo:function R(Y,Z){if(!Z){var X=this.getCellTitleInfo(Y)
	Z=X&&X.title
	}return B(Y,Z)
	},getCellInfo:function G(Y){var X=this.getCellTitleInfo(Y),Z={isTitle:false,isHeader:false,isMetric:false}
	if(Y&&(Y.hasOwnProperty("mix")||Y.otp===-1)){Z.isMetric=true
	if(Y._e){Z.isHeader=true
	}}if(X.isSrcTitle){Z.isTitle=true
	}return Z
	},getAllDrillPathsForCell:function P(Y,d){if(!d){var X=this.getCellTitleInfo(Y)
	d=X&&X.title
	}var Z=O.walk("_e.oid",Y),b=!!(d&&d.dp)?d.dp.slice(0):[]
	for(var a=0
	a<b.length
	a++){var e=b[a],c=e&&e.oid
	if(c&&Z&&c!==Z){b[a]={}
	}}return b
	},getPivotAction:function J(Y,f){var a=false,Z=Y.hasOwnProperty("mix"),g=Z?null:Y.axis,d=(Z?Y.idx:Y.ui)+1,m=(Y.otp===-1)
	if(!isNaN(f)){g=parseInt(f,10)
	d=1
	if(Z){Z=false
	m=true
	}}else{var k=(f==="u"||f==="l"||f==="b")
	if(!Z){var b=F(this.data.gts,g),o=0,r={},X=false
	mstrmojo.array.forEach(b,function(t){if(r[t.id]){r[t.id].frm++
	}else{o++
	r[t.id]={pos:o,frm:1}
	if(t.id===Y.id){X=true
	}else{if(X){return false
	}}}})
	d=r[Y.id].pos
	var l=Y.fix
	if(l){if((!k||l>1)&&!this.xtab.isOutlineMode){if(k||l!==r[Y.id].frm){d=l
	a=true
	}}}}else{var p=F(this.data.gts,Y.axis),j=p[Y.ui].es,e=this.data.gsi.mx
	if(j.length!==e.length){var h=j[d+(k?-1:1)-1]
	if(h){var c=S.find(e,"did",h.oid)
	if(c!==-1){d=c+(k?1:-1)+1
	}}}}if(f==="b"){d=1
	}else{d=d+(k?-1:1)
	}}var n={act:"pivot",unitPos:d}
	if(a){n.attFormId=Y.fid
	}else{if(!Z){n.axis=g
	}}if(!m){var q=Z?Y._e:Y
	if(!a){n.unitType=q.otp
	}n.unitId=Z?q.oid:Y.id
	}return n
	},getPCellParentNodeByPI:function U(X){var Y=O.walk("pi.ri",X),b=O.walk("pi.ci",X),a=O.walk("data.ghs.chs.items",this),c=O.walk("data.gts.col",this)
	if(typeof Y==="undefined"||typeof b==="undefined"||!a||!c){return undefined
	}var e=O.walk(Y+".items."+b,a),Z,d
	if(!e){return undefined
	}Z=c[e.tui]
	d=Z&&Z.es[e.idx]
	e._e={id:d&&d.id,n:d&&d.n}
	return e
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array")
	var C=mstrmojo.hash,E=mstrmojo.array
	function D(F){return function(G){F[G]=true
	}
	}mstrmojo.rw.model.UpdateKeysConfig=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.rw.model.UpdateKeysConfig",init:function B(){this.nodes=[]
	this.selectors={}
	this.objects={}
	}})
	mstrmojo.rw.model.UpdateKeysConfig.getConsolidatedConfig=function A(J){var F={},K={},G={},I={}
	E.forEach(J,function H(M){var L=M.partialUpdate
	if(L){E.forEach(L.nodes,D(K))
	E.forEach(L.selectors,D(G))
	E.forEach(L.objects,function(N){if(!I[N.id]||N.flag>I[N.id].flag){I[N.id]=N
	}})
	delete M.partialUpdate
	}E.forEach(M.actions,H)
	})
	if(!C.isEmpty(K)){F.nodes=C.keyarray(K)
	}if(!C.isEmpty(G)){F.selectors=C.keyarray(G)
	}if(!C.isEmpty(I)){F.objects=C.valarray(I)
	}return F
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash")
	var E=mstrmojo.array,D=mstrmojo.hash
	mstrmojo.models.datasets.DataInterface=mstrmojo.provide("mstrmojo.models.datasets.DataInterface",{getFormsByAttrId:function B(H,G){var F=[]
	G=G||[]
	D.forEach(G,function(I){E.forEach(I.att||[],function(J){if(J.did===H){F=F.concat(J.fs||[])
	return false
	}})
	})
	F=E.filter(F,function(I){return !!I.obf
	})
	return E.distinct(F,"fid")
	},getObjectInfoFromDataset:function C(F,H){var G
	D.forEach(H,function(I){if(!G){G=E.filterOne(I.mx.concat(I.att),function(J){return J.did===F
	})
	}})
	return G
	},getAllDatasetObjects:function A(H){var F=[],G=[]
	H=H||[]
	D.forEach(H,function(J,I){E.forEach(J.att||[],function(K){F.push({t:K.t,n:K.n,did:K.did,datasetId:I,da:K.da,ndetype:K.ndetype})
	})
	E.forEach(J.mx||[],function(K){G.push({t:K.t,n:K.n,did:K.did,datasetId:I,um:K.um})
	})
	})
	return{attribute:F,metric:G}
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash")
	var C=mstrmojo.hash
	mstrmojo._CanSupportTransaction={_mixinName:"mstrmojo._CanSupportTransaction",updatedCellsMap:null,getUpdates:mstrmojo.emptyFn,getUpdateObject:mstrmojo.emptyFn,getKeyContext:mstrmojo.emptyFn,autoRefresh:mstrmojo.emptyFn,editNext:mstrmojo.emptyFn,buildConditions:mstrmojo.emptyFn,dataChanged:function A(G,H,F,I,D){var E=this.updateValue(G,F)
	this.updatedCellsMap[G]={r:H,v:F}
	this.controller.onTransactionUpdates(this,this.getUpdateObject(),E,D)
	},postBuildRendering:function B(){if(this._super){this._super()
	}if(!this.txModel){this.txModel=this.model.docModel||this.model
	}this.updatedCellsMap=this.updatedCellsMap||{}
	},updateValue:function(E,D){if(this.txModel.deltaUpdate){this.txModel.deltaUpdate(this)
	}return false
	},getUpdatedValues:function(){var E=this.updatedCellsMap,F,D,G=[]
	for(F in E){if(E.hasOwnProperty(F)){D={}
	D.v=E[F].v.v
	G.push(C.copy(this.getKeyContext(F),D))
	}}return G
	},clear:function(){this.updatedCellsMap={}
	},registerTxWidget:function(){function E(F,H){var G=F.node.data.k
	H.txWidgets=H.txWidgets||{}
	H.txWidgets[G]=F
	return false
	}var D=this.parent
	while(D){if(D.isPanelStack===true){E(this,D)
	}D=D.parent
	}}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash")
	var B=mstrmojo.hash
	mstrmojo.Base=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.Base",init:function A(C){B.copy(C,this)
	if(this.postApplyProperties){this.postApplyProperties()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash")
	var O=/\{\@(en@)?([^\}]+)\}/gm,K=/\</gm,W=/\>/gm,F=/\S/,S=["$","^","=","!",":","/",".","*","+","?","|","(",")","[","]","{","}","\\"],G=new RegExp("(\\"+S.join("|\\")+")","g"),X={"&":{k:"&(?!#?\\w+
	)",v:"&amp
	"},"<":"&lt
	",">":"&gt
	","\u0009":"&#x09
	","\n":"&#x0A
	","\r":"&#x0D
	",'"':"&quot
	"},a={"&amp
	":"&","&lt
	":"<","&gt
	":">","&#x09
	":"\u0009","&#x0A
	":"\n","&#x0D
	":"\r","&quot
	":'"',"&#039
	":"'"},D={"&":{k:"&(?!#?\\w+
	)",v:"&amp
	"},"<":"&lt
	",">":"&gt
	"," ":"&nbsp
	","\n":"<br/>","\r":"&nbsp
	&nbsp
	&nbsp
	&nbsp
	","'":"&#39
	",'"':"&#34
	"},N={"&amp
	":"&","&lt
	":"<","&gt
	":">","&nbsp
	":" ","<br/>":"\n","&nbsp
	&nbsp
	&nbsp
	&nbsp
	":"\r","&#39
	":"'","&#34
	":'"'},E={"&":"&amp
	","<":"&lt
	",">":"&gt
	","'":"&#39
	",'"':"&#34
	","\u20ac":"&#8364
	"},L={"&amp
	":"&","&lt
	":"<","&gt
	":">","&#39
	":"'","&#34
	":'"',"&#8364
	":"\u20ac"}
	var M=function(b){if(b===null){return"null"
	}var c=typeof b
	if(c!=="object"){return c
	}if(b.length===undefined){return"object"
	}return"array"
	}
	var Y={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}}
	mstrmojo.string=mstrmojo.provide("mstrmojo.string",{multiReplace:function H(c,f,e){var b
	e=e||[]
	if(!c){return""
	}var d=[]
	for(b in f){if(mstrmojo.array.indexOf(e,b)===-1){d.push(b.k||b)
	}}return c.replace(new RegExp(d.join("|"),"g"),function(g){var h=f[g]
	return h.v||h
	})
	},trim:function R(b){return(b&&b.replace)?b.replace(/^\s+/,"").replace(/\s+$/,""):b
	},startsWith:function Z(c,b){return c.length>=b.length&&c.substring(0,b.length)===b
	},endsWith:function U(c,b){return c.length>=b.length&&c.substring(c.length-b.length)===b
	},ellipsize:function A(d,c){var b=this.trim(d.substr(0,(c||1)-1))
	if(b!==d){b+="&hellip
	"
	}return b
	},isEmpty:function J(b){return(b===null)||(b===undefined)||!(F.test(b))
	},regEscape:function Q(b){return b.replace(G,"\\$1")
	},escapeIllegalXML:function C(b){if(!b||!b.replace){return b
	}var c=/\u001a/gm,d=""
	return b.replace(c,d)
	},encodeXMLAttribute:function(b){return mstrmojo.string.multiReplace(b,X)
	},decodeXMLAttribute:function(b){return mstrmojo.string.multiReplace(b,a)
	},encodeHtmlString:function(c,b,d){if(!c||!c.replace){return c
	}if(d){return mstrmojo.string.multiReplace(c,E)
	}return mstrmojo.string.multiReplace(c,D,b?[" "]:[])
	},decodeHtmlString:function(c,b){return b?mstrmojo.string.multiReplace(c,L):mstrmojo.string.multiReplace(c,N)
	},htmlAngles:function(b){if(!mstrmojo.string.isEmpty(b)){b=String(b)
	return b.replace(K,"&lt
	").replace(W,"&gt
	")
	}return b
	},apply:function I(b,d){if(!b){return""
	}var c=this
	return b.replace(O,function e(h,j,k){var f
	try{f=mstrmojo.hash.walk(k,d)
	if(typeof f==="function"){f=f.call(d)
	}}catch(g){}f=(f===null||f===undefined)?"":f
	return(!!j)?c.encodeHtmlString(f,true):f
	})
	},json2xml:function(b,r,u){if(!(r instanceof Array)){r=[r]
	}var c=u&&u.isSerializable,q=(u.convertBoolean!==false),x=u&&u.skipFunctions,p,h
	var k=[],f=[],j,e,g
	for(p=0,h=r.length
	p<h
	p++){var o=r[p]
	for(j in o){if(x&&typeof o[j]==="function"){continue
	}if(c){var w=c(j,r,p)
	if(w!==true){if(w===false){continue
	}else{if(w.att){k.push(w.att)
	}if(w.child){f.push(w.child)
	}continue
	}}}e=o[j]
	g=M(e)
	switch(g){case"array":var l,m
	f.push("<"+j+">")
	for(l=0,m=e.length
	l<m
	l++){var d=u.getArrItemName(j,e,l)||l
	f.push(this.json2xml(d,e[l],u))
	}f.push("</"+j+">")
	break
	case"object":f.push(this.json2xml(j,e,u))
	break
	case"string":k.push(j+'="'+mstrmojo.string.encodeXMLAttribute(e)+'"')
	break
	case"boolean":k.push(j+'="'+(q?(e?"-1":"0"):e)+'"')
	break
	case"null":if(!u.skipNull){k.push(j+'="'+u.nullValue+'"')
	}break
	default:k.push(j+'="'+e+'"')
	break
	}}}return"<"+b+" "+k.join(" ")+">"+f.join("")+"</"+b+">"
	},escape4HTMLText:function B(j){if(!j||!j.replace){return j
	}var f=/"/gm
	var d="&quot
	"
	var k=/&/gm
	var h="&amp
	"
	var g=/</gm
	var b="&lt
	"
	var e=/>/gm
	var c="&gt
	"
	return j.replace(k,h).replace(f,d).replace(g,b).replace(e,c)
	},parseUri:function(f,c){c=c||Y
	var b=c.parser[((c.strictMode)?"strict":"loose")].exec(f),e={},d=14
	while(d--){e[c.key[d]]=b[d]||""
	}e[c.q.name]={}
	e[c.key[12]].replace(c.q.parser,function(h,g,j){if(g){e[c.q.name][g]=j
	}})
	return e
	},removeSpecialChars:function(b){return b.replace(/[^a-zA-Z0-9]/g,"")
	},hashCode:function P(b){return b.split("").reduce(function(d,c){d=((d<<5)-d)+c.charCodeAt(0)
	return d&d
	},0)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.hash")
	mstrmojo.all={}
	var E=mstrmojo.all,G=mstrmojo.hash
	var A=0
	function D(){var I
	while(!I){var H="mstr"+(A++)
	if(!E[H]){I=H
	}}return I
	}mstrmojo.registry=mstrmojo.provide("mstrmojo.registry",{add:function F(H){if(!H){return 
	}var I=H.id
	if(!I){H.id=I=D()
	}else{if(E[I]){throw new Error("Tried to register 2 objects with same id: "+I)
	}}E[I]=H
	},remove:function C(H){if(H&&H.id){delete E[H.id]
	}},dumpAll:function(){var H
	for(H in E){var I=E[H].id
	if(I){mstrmojo.dbg(I+"("+(E[H].scriptClass||"[unknown class]")+")")
	}}},ref:function B(I,H){H=H||{}
	if(I){var L=I
	while(L){switch(typeof L){case"string":if(H.skipLoadChecks!==true){mstrmojo.requiresCls(L)
	}L=G.walk(L,window)
	break
	case"function":return(H.dontInst!==true)?new L():L
	case"object":if(L.constructor===Object){var K=L.scriptClass
	if(K){if(H.skipLoadChecks!==true){mstrmojo.requiresCls(K)
	}var J=G.walk(K,window)
	if(J){return new J((H.clone===true)?G.clone(L):L)
	}return null
	}return L
	}return L
	default:return null
	}}}return null
	}})
	mstrmojo.insert=mstrmojo.registry.ref
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash")
	var F=mstrmojo.hash
	mstrmojo.func=mstrmojo.provide("mstrmojo.func",{composite:function G(H){if(!H||!H.length){return mstrmojo.emptyFn
	}return function(){var I=H.length,J
	for(J=0
	J<I
	J++){H[J].apply(this,arguments)
	}}
	},wrapMethods:function E(M,K){function L(O,N){N=N||{}
	mstrmojo.hash.forEach(O,function(P,Q){N[Q]=(N.hasOwnProperty(Q)&&typeof P==="function")?mstrmojo.func.composite([P,N[Q]]):P
	})
	return N
	}if(arguments.length<3){return L(M,K)
	}var I=arguments.length,J=[].slice.call(arguments,0,I-1).reverse(),H=arguments[I-1]
	mstrmojo.array.forEach(J,function(N){H=L(N,H)
	})
	return H
	},wrapMethodHandlers:function C(M,K){function L(Q,N){N=N||{}
	var P=Q.handlerName,O=N.handlerName
	if(!N.hasOwnProperty("removeHandler")){N.removeHandler=function(S,X){var R=N[X+"Array"],W=mstrmojo.array.find(R,"handlerName",this.curHandlerName),U
	if(W>-1){for(U=W+1
	U<R.length
	U++){if(R[U].handlerName===S){R.splice(U,1)
	break
	}}}}
	}mstrmojo.hash.forEach(Q,function(R,U){if(typeof R==="function"&&U!=="removeHandler"){var S=U+"Array"
	Q[S]=Q[S]||[{handlerName:P,fn:R}]
	if(!N[U]){N[U]=function(){var X=N[S],W
	for(W=0
	W<X.length
	W++){this.curHandlerName=X[W].handlerName
	X[W].fn.apply(this,arguments)
	}}
	}}})
	mstrmojo.hash.forEach(N,function(S,W){if(typeof S==="function"&&W!=="removeHandler"){var U=W+"Array",R=N[U]=(Q[U]||[]).concat(N[U]||[{handlerName:O,fn:S}])
	N[W]=function(){var Y=R,X
	for(X=0
	X<Y.length
	X++){this.curHandlerName=Y[X].handlerName
	Y[X].fn.apply(this,arguments)
	}}
	}})
	return N
	}if(arguments.length<3){return L(M,K)
	}var I=arguments.length,J=[].slice.call(arguments,0,I-1).reverse(),H=arguments[I-1]
	mstrmojo.array.forEach(J,function(N){H=L(N,H)
	})
	return H
	},override:function B(J,H){var I=function(M,L){return function K(){var O=this._super,N
	this._super=L||mstrmojo.emptyFn
	try{N=M.apply(this,arguments||[])
	}finally{this._super=O
	}return N
	}
	}
	H=H||{}
	mstrmojo.hash.forEach(J,function(K,L){H[L]=I(K,H[L])
	})
	return H
	},throttle:function(J,L,H){var I,N,Q,O=null,M=0,P=H||{}
	var K=function(){M=P.leading===false?0:mstrmojo.date.now()
	O=null
	Q=J.apply(I,N)
	I=N=null
	}
	return function(){var R=mstrmojo.date.now()
	if(!M&&P.leading===false){M=R
	}var S=L-(R-M)
	I=this
	N=arguments
	if(S<=0){clearTimeout(O)
	O=null
	M=R
	Q=J.apply(I,N)
	I=N=null
	}else{if(!O&&P.trailing!==false){O=setTimeout(K,S)
	}}return Q
	}
	},debounce:function(K,M,J){var P,O,I,N,Q,H=mstrmojo.date.now
	var L=function(){var R=H()-N
	if(R<M){P=setTimeout(L,M-R)
	}else{P=null
	if(!J){Q=K.apply(I,O)
	I=O=null
	}}}
	return function(){I=this
	O=arguments
	N=H()
	var R=J&&!P
	if(!P){P=setTimeout(L,M)
	}if(R){Q=K.apply(I,O)
	I=O=null
	}return Q
	}
	},addMethods:function D(I,H){H=H||{}
	mstrmojo.hash.forEach(I,function(J,K){if(!H.hasOwnProperty(K)&&typeof J==="function"){H[K]=J
	}})
	return H
	},safeCall:function A(L,J){var N=F.walk(L,J),M=L.split("."),I=J,K
	if(N&&N instanceof Function){if(M.length>1){M.pop()
	K=M.join(".")
	I=F.walk(K,J)
	}return function H(){return N.apply(I,arguments)
	}
	}return mstrmojo.emptyFn
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array")
	var B={}
	var E={}
	mstrmojo.publisher=mstrmojo.provide("mstrmojo.publisher",{publish:function F(H,Q,L){var M=B[H]&&B[H][Q],O
	if(!M){return 
	}for(O in M){var J=null
	if(O){J=mstrmojo.all[O]
	if(!J){delete M[O]
	continue
	}}var R=M[O].methods
	if(R){var P=J||mstrmojo.global,I
	for(I in R){if(P[I]){P[I](L)
	}}}var N=M[O]&&M[O].functions,S=(N&&N.length)||0
	if(S){var K
	if(J){for(K=S-1
	K>-1
	K--){if(N[K]){N[K].apply(J,[L])
	}}}else{for(K=S-1
	K>-1
	K--){if(N[K]){N[K](L)
	}}}}}},subscribe:function D(I,N,R,J){var S=B[I]
	if(!S){S={}
	B[I]=S
	}var M=S[N]
	if(!M){M={}
	S[N]=M
	}var K=M[J||""]
	if(!K){K={}
	M[J||""]=K
	}if(typeof R==="function"){var L=K.functions
	if(!L){L=[]
	K.functions=L
	}L.push(R)
	}else{var H=K.methods
	if(!H){H={}
	K.methods=H
	}H[R]=true
	}var Q=E,P=Q[J||""]
	if(!P){P={}
	Q[J||""]=P
	}var O=P[I]
	if(!O){O={}
	P[I]=O
	}O[N]=true
	return{id:I,type:N,callback:R,listener:J,clear:function(){mstrmojo.publisher.unsubscribe(this)
	}}
	},unsubscribe:function C(I){var R=B[I.id],O=R&&R[I.type],L=O&&O[I.listener||""]
	if(!L){return 
	}var K=mstrmojo.array,Q=mstrmojo.hash,P=typeof I.callback,M=false
	if(P==="function"){var N=L.functions
	if(N){K.removeItem(N,I.callback)
	if(!N.length){delete L.functions
	if(Q.isEmpty(L.methods)){M=true
	}}}}else{var J=L.methods
	if(J){delete J[I.callback]
	if(Q.isEmpty(J)){delete L.methods
	if(!L.functions||!L.functions.length){M=true
	}}}}if(M){delete O[I.listener||""]
	if(Q.isEmpty(O)){delete R[I.type]
	}}},hasSubs:function G(K,J){var I=B[K],H=I&&I[J]
	return !!H
	},clearSubscriptions:function A(I){if(!I){I=""
	}var P=B,M=mstrmojo.hash,H
	if(P[I]){delete P[I]
	}var O=E[I]
	if(O){for(H in O){var N=P[H],L=O[H],K
	if(!N){continue
	}for(K in L){var J=N[K]
	if(!J){continue
	}delete J[I]
	if(M.isEmpty(J)){delete N[K]
	}}}}delete E[I]
	}})
	mstrmojo.publisher.NO_SRC="NO_SRC"
	mstrmojo.publisher.CONNECTIVITY_CHANGED_EVENT="CONNECTIVITY_CHANGED"
	mstrmojo.publisher.RECONCILE_END_EVENT="RECONCILE_END"
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash")
	var C=mstrmojo.array
	function A(F){var D=(F&&F.gts&&F.gts.col)||[],H=(F&&F.gts&&F.gts.row)||[],E=[]
	var G=C.filter(D.concat(H),function(I){return I.otp===-1
	})
	C.forEach(G,function(I){E=E.concat(I.es)
	})
	return{tpltProp:F.prop,mxProp:C.map(E||[],function(I){var J={}
	J[I.oid]=mstrmojo.hash.copy(I.prop,{n:I.n,t:I.otp})
	return J
	})}
	}mstrmojo._IsDocumentTemplate=mstrmojo.provide("mstrmojo._IsDocumentTemplate",{_mixinName:"mstrmojo._IsDocumentTemplate",gridInfo:null,tmsProps:null,update:function B(D){if(D&&D.data){this.gridInfo=D.data.gsi
	this.tmsProps=A(D.data)
	}if(this._super){return this._super(D)
	}return true
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash")
	var K=mstrmojo.array,D=mstrmojo.hash
	function E(X,U){var Y=[],Q=X.selectedIndices,P=X.allIdx
	var R,S,W=X.items
	if(X.multiSelect&&(P>-1)&&(K.indexOf(U,X.allIdx)>-1)){for(R=0,S=W.length
	R<S
	R++){if(!Q[R]){Y.push(R)
	Q[R]=true
	X.selectedIndex=R
	X.selectedItem=W[R]
	}}}else{for(R=0,S=U.length
	R<S
	R++){var Z=U[R]
	if(!Q[Z]&&(!mstrApp.isWorkstationPlugin||W)){Q[Z]=true
	Y.push(Z)
	X.selectedIndex=Z
	X.selectedItem=W[Z]
	}}}return Y
	}function J(R){var Q=[],S=R.selectedIndices,P
	for(P in S){delete S[P]
	Q.push(parseInt(P,10))
	}R.selectedIndex=-1
	R.selectedItem=null
	return Q
	}function H(X,W){var S=[],Q=X.selectedIndices,Z=K.indexOf,P=X.allIdx
	if(X.multiSelect&&(P>-1)&&(Z(W,P)>-1)){return J(X)
	}if(W.length>0&&Q[P]){if(Z(W,P)<0){W.push(P)
	}}var U=W.length,R
	for(R=0
	R<U
	R++){var Y=W[R]
	if(Q[Y]){delete Q[Y]
	S.push(Y)
	if(X.selectedIndex===Y){X.selectedIndex=-1
	X.selectedItem=null
	}}}return S
	}function A(S,R){var P=S.selectedIndices
	if(!P){P={}
	S.selectedIndices=P
	}if(!R){R={}
	}var W=S.selectedIndex,U=[],X,Q
	for(Q in P){if(!R[Q]){X=parseInt(Q,10)
	delete P[Q]
	U.push(X)
	if(W===X){S.selectedIndex=-1
	S.selectedItem=null
	}}}var Z=[],Y=S.items
	for(Q in R){if(!P[Q]){X=parseInt(Q,10)
	P[Q]=true
	Z.push(X)
	S.selectedIndex=X
	S.selectedItem=Y&&Y[X]
	}}return{add:Z,rmv:U}
	}function G(Q,P,R){if(Q.raiseEvent&&((P&&P.length)||(R&&R.length))){Q.raiseEvent({name:"change",added:P,removed:R})
	}}mstrmojo._ListBase2Selections=mstrmojo.provide("mstrmojo._ListBase2Selections",{multiSelect:false,selectedIndices:null,selectedIndex:-1,selectedItem:null,selectedIndices_bindEvents:"change",selectedIndex_bindEvents:"change",selectedItem_bindEvents:"change",allowUnlistedValues:true,insertUnlistedValuesAt:-1,allIdx:-1,singleSelect:function F(P,Q){if(!this.selectedIndices[P]||(this.selectionPolicy==="reselect")||(P!==this.allIdx&&this.selectedIndices[this.allIdx])){var R=J(this),S=E(this,[P])
	if(Q!==true){G(this,S,R)
	}}},toggleSelect:function O(P,Q){var S,R
	if(this.selectedIndices[P]){R=H(this,[P])
	}else{S=E(this,[P])
	}if(Q!==true){G(this,S,R)
	}},rangeSelect:function N(P,Q){this.singleSelect(P,Q)
	},clearSelect:function I(P){var Q=J(this)
	if(P!==true){G(this,null,Q)
	}},select:function L(R,P){var Q=A(this,K.hash(R))
	if((P!==true)&&(Q.add.length||Q.rmv.length)){G(this,Q.add,Q.rmv)
	}},addSelect:function B(R,P){if(R===null||R===undefined){return null
	}if(R.constructor!==Array){R=[R]
	}var Q=E(this,R)
	if(P!==true){G(this,Q,null)
	}return Q
	},removeSelect:function M(R,P){if(R===null||R===undefined){return null
	}if(R.constructor!==Array){R=[R]
	}var Q=H(this,R)
	if(P!==true){G(this,null,Q)
	}return Q
	},_set_selectedIndices:function(S,Q,P){if(this.selectedIndices===Q){return false
	}var R=A(this,Q)
	if(R.add.length||R.rmv.length){if(P!==true){G(this,R.add,R.rmv)
	}}return false
	},_set_selectedIndex:function(S,Q,P){var R={}
	if(Q>-1){R[Q]=true
	}return this._set_selectedIndices(null,R,P)
	},_set_selectedItem:function(Y,U,S){var R=U&&(typeof U==="object"),X=this.itemIdField,Q=-1,W=this.items
	if(R&&X!=null){Q=K.find(W,X,U[X])
	}else{if(U!=null){Q=K.indexOf(W,U)
	}}if((Q===-1)&&(U!=null)&&this.allowUnlistedValues){var P=this.insertUnlistedValuesAt
	if(P==null||P<0){P=(W&&W.length)||0
	}Q=P
	this.add([U],Q)
	}return this._set_selectedIndex(null,Q,S)
	},initSelections:function C(U,Q,P,S,R){if(!this.selectedIndices){this.selectedIndices={}
	this.selectedIndex=-1
	}if(U){this._set_selectedIndices(null,U,R)
	}else{if(Q){this.select(Q,R)
	}else{if(S){this._set_selectedItem(null,S,R)
	}else{if(P!==null&&P!==undefined){this._set_selectedIndex(null,P,R)
	}}}}},sortSelectedIndices:function(){return D.keyarray(this.selectedIndices,true).sort(K.numSorter)
	},removeSelectedItems:function(){var R=this.sortSelectedIndices(),P=R.length,S=R[P-1],Q=this.remove(R)
	S=Math.min(S+1-P,this.items.length-1)
	if(S>=0){this.singleSelect(S)
	}return Q
	},getSelectedItems:function(){return K.get(this.items,this.sortSelectedIndices())||[]
	},setSelectedItems:function(Q,f){if(!Q||!Q.length){return 
	}var S=this.items||[],v=this.itemIdField!=null?K.findMulti(S,this.itemIdField,Q):K.indexOfMulti(S,Q),X=Q.length,U=X-v.count,t=this.allowUnlistedValues,e=this.insertUnlistedValuesAt,Z=(t&&(e>-1))?U:0
	if(e<0){e=S.length
	}var R=[],W=[],h=v.map
	if(U&&t){var r=0,g
	for(g=0
	g<X
	g++){if(h[g]==null){R.push(Q[g])
	W.push(e+r++)
	}}this.add(R,e)
	}var Y=[],o
	for(o in h){var q=h[o]
	if(q>=e){q+=Z
	}Y.push(q)
	}var u=Y.concat(W),a=this.addSelect(u,!f)
	if(!f){var b=K.hash(a),l=this.selectedIndices,d=[],p
	for(p in l){if(!b[p]){d.push(parseInt(p,10))
	}}var P=this.removeSelect(d,true)
	G(this,a,P)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash")
	var C=mstrmojo.hash,A=null
	function B(D){return mstrmojo.DICFactory.createDIC(C.copy({dic:this.dic,owner:this.owner,group:this},D))
	}mstrmojo.DICFactory=mstrmojo.provide("mstrmojo.DICFactory",{createDIC:function(G){var E=G.dic,F=mstrmojo.DICConfig.getDICClass(E),D
	if(F){if(G.k===undefined){G.k=G.opener&&G.opener.id
	}G.showByDefault=mstrmojo.DICConfig.showDICByDefault(G.dic,G.openerType)
	G.hasPreview=mstrmojo.DICConfig.hasDICPreview(G.dic,G.openerType)
	G.canSlice=mstrmojo.DICConfig.canSlice(G.dic,G.openerType)
	D=new F(G)
	}return D
	},createDICPopup:function(D,E){return mstrmojo.DICPopup.getInstance(D,E)
	},createDICGroup:function(F){var I=C.copy(F,{scriptClass:"mstrmojo.Widget",widgetsMap:{},dic:null,owner:null,groupMembers:{},postCreate:function(){var L=this.dic,K=this.openerType,J=mstrmojo.DICConfig
	this.showByDefault=J.showDICByDefault(L,K)
	this.hasPreview=J.hasDICPreview(L,K)
	},addDIC:function D(J,K){this.groupMembers[J]=K
	},showPopupDIC:function H(K){if(!this.showByDefault){var J=this.widgetsMap[K],L=this.groupMembers[K]
	if(!L){return 
	}if(!J){J=this.widgetsMap[K]=B.call(this,L)
	}J.showInPopup()
	}},render:function G(){if(this.showByDefault||this.hasPreview){var L=this.groupMembers,K=this,J
	C.forEach(L,function(N,M){if(!N.hasRendered){K.widgetsMap[M]=J=B.call(K,N)
	if(K.showByDefault){J.render()
	}else{if(K.hasPreview&&J.enabled){J.renderPreview()
	}}N.hasRendered=true
	}})
	}},destroy:function E(){C.forEach(this.widgetsMap,function(J){J.destroy()
	})
	this.widgetsMap={}
	}})
	return mstrmojo.insert(I)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash")
	mstrmojo.requiresDescs(521,522,523,524,525,526,529,530,534,535,546,547,587,686,687,688,696,746,949,950,952,953,954,955,956,1035,1101,1102,1375,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,2171,2202,2203,2204,2219,2220,2295,2784,2785,2786,2795,2796,2816,2903,3086,3344,3852,3853,3854,3855,3856,3857,3858,3859,3860,3861,3862,3863,3945,3946,4406,4407,4737,4738,4739,4740,4998,5282,5283,5924,5925,6047,6076,6077,6078,6079,6080,6081,6082,6114,7899,7900,7901,7902,7903,9379,9380,9381,9382,9383,9384,9385,12298,13889,13890,13896,13897)
	mstrmojo.locales=mstrmojo.provide("mstrmojo.locales",{load:function(D){var B=this
	if(this.isLoaded){D()
	D=null
	}else{var C={taskId:"getLocaleInfo"}
	if(mstrConfig&&mstrConfig.isAddSessionState&&mstrApp&&mstrApp.sessionState){C.sessionState=mstrApp.sessionState
	}mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(E){B.update(E)
	D()
	D=null
	if(mstrmojo.expr){mstrmojo.expr.onLocaleUpdated()
	}mstrmojo.locales.isLoaded=true
	},failure:function(E){alert(E.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}},C)
	}},update:function(B){if(B){mstrmojo.hash.copy(mstrmojo.hash.obj2array(B),this)
	}},isRTL:function A(B){return false
	switch(B){case"1025":case"5121":case"15361":case"3073":case"2049":case"11265":case"13313":case"12289":case"4097":case"6145":case"8193":case"16385":case"10241":case"7169":case"14337":case"9217":case"1125":case"1065":case"1037":case"1114":case"1056":case"2080":return true
	default:return false
	}},isLoaded:false,datetime:{MONTHNAME_SHORT:[mstrmojo.desc(3852,"Jan"),mstrmojo.desc(3853,"Feb"),mstrmojo.desc(3854,"Mar"),mstrmojo.desc(3855,"Apr"),mstrmojo.desc(3856,"May"),mstrmojo.desc(3857,"Jun"),mstrmojo.desc(3858,"Jul"),mstrmojo.desc(3859,"Aug"),mstrmojo.desc(3860,"Sep"),mstrmojo.desc(3861,"Oct"),mstrmojo.desc(3862,"Nov"),mstrmojo.desc(3863,"Dec")],MONTHNAME_FULL:[mstrmojo.desc(1956,"January"),mstrmojo.desc(1957,"February"),mstrmojo.desc(1958,"March"),mstrmojo.desc(1959,"April"),mstrmojo.desc(1960,"May"),mstrmojo.desc(1961,"June"),mstrmojo.desc(1962,"July"),mstrmojo.desc(1963,"August"),mstrmojo.desc(1964,"September"),mstrmojo.desc(1965,"October"),mstrmojo.desc(1966,"November"),mstrmojo.desc(1967,"December")],dayShortNames:[mstrmojo.desc(1968,"S"),mstrmojo.desc(1969,"M"),mstrmojo.desc(1970,"T"),mstrmojo.desc(1971,"W"),mstrmojo.desc(1972,"T"),mstrmojo.desc(1973,"F"),mstrmojo.desc(1974,"S")],dayNames:[mstrmojo.desc(9379,"Sunday"),mstrmojo.desc(9380,"Monday"),mstrmojo.desc(9381,"Tuesday"),mstrmojo.desc(9382,"Wednesday"),mstrmojo.desc(9383,"Thursday"),mstrmojo.desc(9384,"Friday"),mstrmojo.desc(9385,"Saturday")],DATEINPUTFORMATS:["M/d/yy","M/d/yyyy","MMM d, yy"],TIMEINPUTFORMATS:["h:mm a","H:mm","h:mm:ss a","H:mm:ss","h:mm:ss a z"],DATEOUTPUTFORMAT:"M/d/yyyy",TIMEOUTPUTFORMAT:"h:mm:ss a",DATEDISPLAYFORMAT:"M/d/yy",TIMEDISPLAYFORMAT:"h:mm:ss",AM_NAME:"AM",PM_NAME:"PM",TWODIGITYEARSTART:"2029"},location:{LOCALE_TO_LANG:{"2052":mstrmojo.desc(2816,"Chinese (Simplified)"),"1028":mstrmojo.desc(2903,"Chinese (Traditional)"),"1030":mstrmojo.desc(4998,"Danish"),"1043":mstrmojo.desc(4737,"Dutch (Netherlands)"),"1031":mstrmojo.desc(949,"German"),"1033":mstrmojo.desc(950,"English (US)"),"2057":mstrmojo.desc(2295,"English (UK)"),"1036":mstrmojo.desc(952,"French"),"4108":mstrmojo.desc(4738,"French (Switzerland)"),"2060":mstrmojo.desc(6114,"French (Belgium)"),"2055":mstrmojo.desc(4739,"German (Switzerland)"),"1040":mstrmojo.desc(953,"Italian"),"2064":mstrmojo.desc(4740,"Italian (Switzerland)"),"1041":mstrmojo.desc(954,"Japanese"),"1042":mstrmojo.desc(955,"Korean"),"1045":mstrmojo.desc(6047,"Polish"),"1046":mstrmojo.desc(1035,"Portugese (Brasil)"),"3082":mstrmojo.desc(1375,"Spanish"),"1053":mstrmojo.desc(956,"Swedish")}},number:{NUMBERINPUTFORMATS:{"0":"#,##0.###"},INTEGERINPUTFORMATS:{"0":"#,##0"},NUMBEROUTPUTFORMAT:"#0.##########",INTEGEROUTPUTFORMAT:"#0",DECIMALSEPARATOR:".",THOUSANDSEPARATOR:","},expression:{METRICVALIDATIONLEVEL:"0",PRESERVEWHITESPACE:false,Include:[{did:"1",n:mstrmojo.desc(3945,"Include")},{did:"2",n:mstrmojo.desc(3946,"Exclude")}],BranchQual:[{did:"19",n:mstrmojo.desc(5282,"AND")},{did:"20",n:mstrmojo.desc(5283,"OR")},{did:"21",n:mstrmojo.desc(12298,"NOT")},{did:"19_21",n:mstrmojo.desc(5924,"AND NOT")},{did:"20_21",n:mstrmojo.desc(5925,"OR NOT")}],RootOperator:[{did:"19",n:mstrmojo.desc(534,"All selections")},{did:"20",n:mstrmojo.desc(535,"Any selection")}],ExprType:[{did:"2",n:mstrmojo.desc(546,"Qualify")},{did:"5",n:mstrmojo.desc(547,"Select")}],DimtyLevels:[{did:"1",n:mstrmojo.desc(2171,"Default")},{did:"2",n:mstrmojo.desc(3086,"Metric")},{did:"3",n:mstrmojo.desc(3344,"Report")}],Attribute:[{did:"1,6",n:mstrmojo.desc(2795,"Equals"),t:1,tp:1},{did:"1,7",n:mstrmojo.desc(2796,"Does not equal"),t:1,tp:1},{did:"1,8",n:mstrmojo.desc(521,"Greater than"),t:1,tp:1},{did:"1,10",n:mstrmojo.desc(522,"Greater than or equal to"),t:1,tp:1},{did:"1,9",n:mstrmojo.desc(523,"Less than"),t:1,tp:1},{did:"1,11",n:mstrmojo.desc(524,"Less than or equal to"),t:1,tp:1},{did:"1,17",n:mstrmojo.desc(696,"Between"),t:1,tp:1},{did:"1,44",n:mstrmojo.desc(746,"Not between"),t:1,tp:1},{did:"1,76",n:mstrmojo.desc(686,"Contains"),t:1,tp:1},{did:"1,79",n:mstrmojo.desc(2784,"Does not contain"),t:1,tp:1},{did:"1,77",n:mstrmojo.desc(687,"Begins with"),t:1,tp:1},{did:"1,80",n:mstrmojo.desc(2785,"Does not begin with"),t:1,tp:1},{did:"1,78",n:mstrmojo.desc(688,"Ends with"),t:1,tp:1},{did:"1,81",n:mstrmojo.desc(2786,"Does not end with"),t:1,tp:1},{did:"1,18",n:mstrmojo.desc(525,"Like"),t:1,tp:1},{did:"1,43",n:mstrmojo.desc(526,"Not Like"),t:1,tp:1},{did:"1,54",n:mstrmojo.desc(2202,"Is Null"),t:1,tp:1},{did:"1,55",n:mstrmojo.desc(2203,"Is Not Null"),t:1,tp:1},{did:"1,22",n:mstrmojo.desc(587,"In"),t:1,tp:1},{did:"1,57",n:mstrmojo.desc(2204,"Not In"),t:1,tp:1}],Metric:[{did:"1,6",n:mstrmojo.desc(2795,"Equals"),t:1,tp:1},{did:"1,7",n:mstrmojo.desc(2796,"Does not equal"),t:1,tp:1},{did:"1,8",n:mstrmojo.desc(521,"Greater than"),t:1,tp:1},{did:"1,10",n:mstrmojo.desc(522,"Greater than or equal to"),t:1,tp:1},{did:"1,9",n:mstrmojo.desc(523,"Less than"),t:1,tp:1},{did:"1,11",n:mstrmojo.desc(524,"Less than or equal to"),t:1,tp:1},{did:"1,17",n:mstrmojo.desc(696,"Between"),t:1,tp:1},{did:"1,44",n:mstrmojo.desc(746,"Not between"),t:1,tp:1},{did:"1,54",n:mstrmojo.desc(2202,"Is Null"),t:1,tp:1},{did:"1,55",n:mstrmojo.desc(2203,"Is Not Null"),t:1,tp:1},{did:"1,22",n:mstrmojo.desc(587,"In"),t:1,tp:1},{did:"1,57",n:mstrmojo.desc(2204,"Not In"),t:1,tp:1},{did:"2,1",n:mstrmojo.desc(529,"Highest"),t:2,tp:2},{did:"2,2",n:mstrmojo.desc(530,"Lowest"),t:2,tp:2},{did:"3,1",n:mstrmojo.desc(4407,"Highest %"),t:3,tp:3},{did:"3,2",n:mstrmojo.desc(4406,"Lowest %"),t:3,tp:3}],MetricRP:[{did:"2,13",n:mstrmojo.desc(13897,"Rank between highest"),t:2,tp:2},{did:"2,4",n:mstrmojo.desc(1101,"Exclude highest"),t:2,tp:2},{did:"2,3",n:mstrmojo.desc(13896,"Rank between lowest"),t:2,tp:2},{did:"2,5",n:mstrmojo.desc(1102,"Exclude lowest"),t:2,tp:2},{did:"3,13",n:mstrmojo.desc(13890,"Between highest")+"%",t:3,tp:3},{did:"3,4",n:mstrmojo.desc(1101,"Exclude highest")+"%",t:3,tp:3},{did:"3,3",n:mstrmojo.desc(13889,"Between lowest")+"%",t:3,tp:3},{did:"3,5",n:mstrmojo.desc(1102,"Exclude lowest")+"%",t:3,tp:3}],MDXAttribute:[{did:"1,6",n:mstrmojo.desc(2795,"Equals"),t:1,tp:1},{did:"1,7",n:mstrmojo.desc(2796,"Does not equal"),t:1,tp:1},{did:"1,8",n:mstrmojo.desc(521,"Greater than"),t:1,tp:1},{did:"1,10",n:mstrmojo.desc(522,"Greater than or equal to"),t:1,tp:1},{did:"1,9",n:mstrmojo.desc(523,"Less than"),t:1,tp:1},{did:"1,11",n:mstrmojo.desc(524,"Less than or equal to"),t:1,tp:1},{did:"1,17",n:mstrmojo.desc(696,"Between"),t:1,tp:1},{did:"1,44",n:mstrmojo.desc(746,"Not between"),t:1,tp:1},{did:"1,22",n:mstrmojo.desc(587,"In"),t:1,tp:1},{did:"1,57",n:mstrmojo.desc(2204,"Not In"),t:1,tp:1}],MDXMetric:[{did:"1,6",n:mstrmojo.desc(2795,"Equals"),t:1,tp:1},{did:"1,7",n:mstrmojo.desc(2796,"Does not equal"),t:1,tp:1},{did:"1,8",n:mstrmojo.desc(521,"Greater than"),t:1,tp:1},{did:"1,10",n:mstrmojo.desc(522,"Greater than or equal to"),t:1,tp:1},{did:"1,9",n:mstrmojo.desc(523,"Less than"),t:1,tp:1},{did:"1,11",n:mstrmojo.desc(524,"Less than or equal to"),t:1,tp:1},{did:"1,17",n:mstrmojo.desc(696,"Between"),t:1,tp:1}],SAPAttribute:[{did:"1,6",n:mstrmojo.desc(2795,"Equals"),t:1,tp:1},{did:"1,7",n:mstrmojo.desc(2796,"Does not equal"),t:1,tp:1},{did:"1,22",n:mstrmojo.desc(587,"In"),t:1,tp:1},{did:"1,57",n:mstrmojo.desc(2204,"Not In"),t:1,tp:1},{did:"1,8",n:mstrmojo.desc(521,"Greater than"),t:1,tp:1},{did:"1,10",n:mstrmojo.desc(522,"Greater than or equal to"),t:1,tp:1},{did:"1,9",n:mstrmojo.desc(523,"Less than"),t:1,tp:1},{did:"1,11",n:mstrmojo.desc(524,"Less than or equal to"),t:1,tp:1},{did:"1,17",n:mstrmojo.desc(696,"Between"),t:1,tp:1}],Element:[{did:"1,22",n:mstrmojo.desc(2219,"In List"),t:1,tp:1},{did:"1,57",n:mstrmojo.desc(2220,"Not In List"),t:1,tp:1}]},validation:{requiredFieldError:mstrmojo.desc(6078,"This field is required."),invalidCharError:mstrmojo.desc(7899,"This field contains invalid characters for #."),invalidDateStringError:mstrmojo.desc(7900,"This field contains invalid date/time string."),invalidNumericFormatError:mstrmojo.desc(7901,"This field contains numeric value with incorrect format."),outofRangeError:mstrmojo.desc(6079,"This field should be # between ## and ###."),noLessMinError:mstrmojo.desc(6081,"This field should be # greater than or equal to ##."),noGreaterMaxError:mstrmojo.desc(6080,"This field should be # less than or equal to ###."),failRegexTestError:mstrmojo.desc(6082,"This field failed regular expression validation."),invalidValueInListError:mstrmojo.desc(7902,"One of the value (#) in this list is not valid."),integerDataType:mstrmojo.desc(6076,"an Integer value"),numericDataType:mstrmojo.desc(6077,"a Number value"),dateDataType:mstrmojo.desc(7903,"a Date/Time value")},color:{colors:[{n:"Black",v:"#000000"},{n:"Brown",v:"#993300"},{n:"Olive Green",v:"#333300"},{n:"Dark Green",v:"#003300"},{n:"Dark Teal",v:"#003366"},{n:"Dark Blue",v:"#000080"},{n:"Indigo",v:"#333399"},{n:"Grey-80%",v:"#333333"},{n:"Dark Red",v:"#800000"},{n:"Orange",v:"#FF6600"},{n:"Dark Yellow",v:"#808000"},{n:"Green",v:"#008000"},{n:"Teal",v:"#008080"},{n:"Blue",v:"#0000FF"},{n:"Blue-Grey",v:"#666699"},{n:"Grey-50%",v:"#808080"},{n:"Red",v:"#FF0000"},{n:"Light Orange",v:"#FF9900"},{n:"Lime",v:"#99CC00"},{n:"Sea Green",v:"#339966"},{n:"Aqua",v:"#33CCCC"},{n:"Light Blue",v:"#3366FF"},{n:"Violet",v:"#800080"},{n:"Grey-40%",v:"#969696"},{n:"Pink",v:"#FF00FF"},{n:"Gold",v:"#FFCC00"},{n:"Yellow",v:"#FFFF00"},{n:"Bright Green",v:"#00FF00"},{n:"Turquoise",v:"#00FFFF"},{n:"Sky Blue",v:"#00CCFF"},{n:"Plum",v:"#993366"},{n:"Grey-25%",v:"#C0C0C0"},{n:"Rose",v:"#FF99CC"},{n:"Tan",v:"#FFCC99"},{n:"Light Yellow",v:"#FFFF99"},{n:"Light Green",v:"#CCFFCC"},{n:"Light Turquoise",v:"#CCFFFF"},{n:"Pale Blue",v:"#99CCFF"},{n:"Lavender",v:"#CC99FF"},{n:"White",v:"#ffffff"}],userPalette:[{n:"#F00E0E",v:"#F00E0E"},{n:"#080000",v:"#080000"},{n:"#E81A1A",v:"#E81A1A"},{n:"#6E0909",v:"#6E0909"},{n:"#4F2828",v:"#4F2828"},{n:"#141212",v:"#141212"},{n:"#D60202",v:"#D60202"},{n:"#C40404",v:"#C40404"}]}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.EnumAuthenticationModes","mstrmojo.UUID")
	var A=mstrmojo.EnumAuthenticationModes
	function D(I,G,J){var H=document.createElement("form")
	H.action=G
	H.method="POST"
	H.target=I
	H.id="form"+I
	if(J){var F=document.createElement("input")
	F.type="hidden"
	F.name="idToken"
	F.value=J
	H.appendChild(F)
	}document.body.appendChild(H)
	H.submit()
	setTimeout(function(){document.getElementById(H.id).parentNode.removeChild(H)
	},0)
	}function C(I){var H,J,G,F={success:function(K){J=K.identityToken
	},complete:function(){D(G,I,J)
	if(H){H.opener=null
	}}}
	if(mstrConfig.seamlessLoginEnabled){if(mstrConfig.authMode===A.INTEGRATED.toString()){I+="?loginMode="+A.INTEGRATED
	window.open(I,"_blank","noopener,noreferrer")
	}else{G=mstrmojo.UUID.create()
	H=window.open("",G)
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,F,{taskId:"createIdentityToken"})
	}}else{window.open(I,"_blank","noopener,noreferrer")
	}}function E(){return mstrConfig&&mstrConfig.features&&mstrConfig.features["show-dossier-library-link"]&&!!mstrConfig.libraryWebBaseURL
	}function B(G){var F=mstrConfig.libraryWebBaseURL+"app"
	if(G){F+="/"+mstrConfig.projectId+"/"+G
	}return F
	}mstrmojo.util.LibraryHelper=mstrmojo.provide("mstrmojo.util.LibraryHelper",{createTokenAndOpenLink:C,isLibraryConfigured:E,constructLibraryUrl:B})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.EnumReadystate")
	var D=mstrmojo.EnumReadystate
	var A=1200
	var C=function(F,E){if(E){E.style.display=F?"block":"none"
	}}
	mstrmojo._HasWaitIcon={waitHandle:null,postBuildRendering:function B(){if(!this._rsl){var E=this.id
	this._rsl=this.defn.attachEventListener("readyStateChange",E,function(G){if(!this.hasRendered){return 
	}switch(G.value){case D.WAITING:if(!this.waitIcon&&this.domNode){var H=document.createElement("div")
	H.className="mojo-overlay-wait"
	H.innerHTML='<div class="overlay"></div><div class="icon"></div>'
	this.domNode.appendChild(H)
	this.addSlots({waitIcon:H})
	}var F=this.waitIcon
	if(A){this.waitHandle=window.setTimeout(function(){if(mstrmojo.all[E]){mstrmojo.all[E].waitHandle=null
	}C(true,F)
	},A)
	}else{C(true,F)
	}break
	case D.IDLE:if(this.waitHandle){window.clearTimeout(this.waitHandle)
	this.waitHandle=null
	}C(false,this.waitIcon)
	break
	}})
	}return this._super()
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.EnumReadystate")
	var C=mstrmojo.EnumReadystate
	function F(H){return(H.getKey&&H.getKey())||H.k
	}mstrmojo._IsDocController={_mixinName:"mstrmojo._IsDocController",_getXtabCallback:function(M,I){var H={},K=H[F(M)]=M.defn,L=this,J=L.model
	return J.newCallback({submission:function(){if(K.set){K.set("readyState",C.WAITING)
	}},success:function(O){var N=O.pukeys,P=N&&N.split("\u001E")
	if(N){H=J.getUnitDefinitions(N)
	}J.partialUpdate(O.data,H,I===false?undefined:O.defn,P,O.puFilters)
	},failure:function(N){if(!(mstrApp.isSingleTier&&N.code===403)){mstrmojo.alert(N.code+": "+N.message)
	}},complete:function(){if(K.set){K.set("readyState",C.IDLE)
	}L.docRequestComplete()
	}})
	},_addNodeKeyToAction:function(H,I){I.nodeKey=F(H)
	return I
	},onGridSelector:function E(I,M){var H=this.model,L=[].concat(H.getTargetInfoWin(M.ifw)).concat(H.getTargetInfoWin(M.tks)),K=L&&L.length
	if(M.fromKeyboard&&K){return 
	}M.sid=I.sid
	if(I.isInFilterPanel&&I.isInFilterPanel()&&I.filterCtrl){I.filterCtrl.cacheUpdateAction(M)
	}else{H.slice(M)
	}if(K){var J
	for(J=0
	J<L.length
	J++){H.showInfoWin(L[J],M.anchor,"h",true,null,M.sid,true)
	}}},onVisSelector:function(I,K){if(K.anchor){var H=this.model,J=H.getTargetInfoWin(K.tks)
	if(J&&J.length){H.showInfoWin(J[0],K.anchor,"h",true)
	}}if(I.xtabModel&&I.xtabModel.docModel&&I.xtabModel.docModel.slice){I.xtabModel.docModel.slice(K)
	}},isInRequest:function D(){var H=!!this._inProcess
	if(!H){this._inProcess=true
	}return H
	},docRequestComplete:function G(){this._inProcess=false
	},nudgeWidget:mstrmojo.emptyFn,getGroupByElements:function B(J){var N=[],M
	while(J){M=J.node&&J.node.data&&J.node.data.pbes
	if(M){break
	}J=J.parent
	}if(M){var K=this.model.data.elems
	var I=M.length,L
	for(L=0
	L<I
	L++){var H=M[L]
	N.push(isNaN(H)?H:K&&K[H])
	}}return N
	},setData:function A(I,K){var H=this.view,J=K
	if(K&&H&&H.unloadLayouts){H.unloadLayouts(null,false)
	J=false
	}this.model.loadLayout(I,J)
	if(this.hasPageBy&&this.hasPageBy()){this.getPageByTree(true)
	}}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.models.template.Header")
	mstrmojo.models.template.Headers=mstrmojo.declare(null,null,{init:function D(K){var O=this.isRow=K.isRow,J=this.data=K.data,L=J.gts,G=J.ghs,F=this.hs=O?G.rhs:G.chs,M=this.i=K.i,N=0,I
	this.titles=O?L.row:L.col
	this.headers=F.items&&F.items[M]&&F.items[M].items
	this.missingTitles=this.titles&&this.headers?(this.headers.length-this.titles.length):0
	if(O&&this.headers){N=this.titles.length-this.headers.length
	if(N){for(I=M-1
	I>=0
	I--){var E=F.items[I].items,H=E.length-this.headers.length
	if(H>0){this.headers=E.slice(0,H).concat(this.headers)
	if(this.titles.length===this.headers.length){break
	}}}}}},size:function B(){var E=this.headers
	return(!E?0:E.length)
	},getHeader:function C(H){var F=this.headers,G=F&&F[H],E=H
	if(G&&this.missingTitles){E=isNaN(G.tui)?G.ui:G.tui
	}return G&&new mstrmojo.models.template.Header({h:G,t:this.titles[this.isRow?E:this.i]})
	},getCSS:function A(F){var E=this.headers
	return E&&this.data.css[E[F].cni].n
	},getHeaderCell:function(F){var E=this.headers
	return E&&E[F]
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.models.template.Title")
	mstrmojo.models.template.Titles=mstrmojo.declare(null,null,{init:function D(G){var F=this.gridData=G.data,E=F.gts
	this.titles=G.isRow?E.row:E.col
	},size:function C(){return this.titles.length
	},getTitle:function B(E){return new mstrmojo.models.template.Title({title:this.titles[E]})
	},getCSS:function A(E){return this.gridData.css[this.titles[E].cni].n
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.gm.GMEnums")
	var J=mstrmojo.gm,I=J.EnumGraphType,K=J.EnumDataLabels,A=J.EnumLegend,L=J.EnumMinSizeType,H=J.EnumFitTo,B=J.EnumContainerFitModes,D=J.EnumNGMGridLines,N=J.EnumSubtype
	var M="Arial",F="Open Sans",E="ALL"
	var C={DEFAULT:"spatial",CLASSIC:"classic"}
	var O={THEME_STYLE:C.CLASSIC,LAYOUT:{allFF:M,titleFF:M,dlvPadding:2,dlvMargin:4,dlvLOH_Compensation:1,ucTBLOHeight:1,drpChildPadding:4,drpLOHW_Compensation:0,cueBottomOffset:1},GRID:{paddingSize:5,mRatio:2,lRatio:3,gridTemplateVisible:false},HEATMAP:{smallGap:2,middleGap:4,largeGap:6,largerGap:8},NGM:{GENERAL_PROPS:(function(){var P={}
	P[E]={dataLabels:K.HIDE}
	return P
	}()),DEFAULT_PROPS:(function(){var P={}
	P[E]={cntrFitMode:B.AUTOMATIC}
	return P
	}())},OGM:{GENERAL_PROPS:(function(){var P={}
	P[E]={dataLabels:K.HIDE,minRowHeight:20,fitTo:H.AUTOMATIC}
	return P
	}()),DEFAULT_PROPS:(function(){var P={}
	P[E]={}
	P[I.BAR]={shpBdrThk:1,shpBdrStyle:0}
	P[I.PIE]={shpBdrThk:1,shpBdrStyle:0}
	P[I.GRID]={shpFillTrans:70}
	return P
	}())},KPI:{fontFamily:M,defaultFontClr:{1:"#444649",2:"#FFFFFF",3:"#FFFFFF",4:"#FFFFFF"}}},G={THEME_STYLE:C.DEFAULT,LAYOUT:{allFF:F,titleFF:F,dlvPadding:0,dlvMargin:0,dlvLOH_Compensation:0,ucTBLOHeight:0,drpChildPadding:12,drpLOHW_Compensation:12,cueBottomOffset:-2},GRID:{paddingSize:4.52,mRatio:1050/452,lRatio:1205/452,gridTemplateVisible:true},HEATMAP:{smallGap:1,middleGap:3,largeGap:5,largerGap:5,cellTextSize:11,fontFamily:"Open Sans SemiBold",leftPadding:4,topPadding:4,lineHeightTime:1.3,marginTop:"3px"},NGM:{GENERAL_PROPS:(function(){var P={}
	P[E]={dataLabels:K.HIDE}
	P[I.WATERFALL]={dataLabels:K.HIDE}
	return P
	}()),DEFAULT_PROPS:(function(){var P={}
	P[E]={dlFntFml:F,rfLnFntFml:F,lgdFntFml:F,xAxTtFntFml:F,xAxLbFntFml:F,yAxTtFntFml:F,yAxLbFntFml:F,allTxtFntFml:F,rwHdrTxtFntFml:F,colHdrTxtFntFml:F,rwVlTxtFntFml:F,colVlTxtFntFml:F,ttlFntFml:F,dlFntSz:"9pt",rfLnFntSz:"9pt",lgdFntSz:"9pt",xAxTtFntSz:"9pt",xAxLbFntSz:"9pt",yAxTtFntSz:"9pt",yAxLbFntSz:"9pt",allTxtFntSz:"9pt",rwHdrTxtFntSz:"9pt",colHdrTxtFntSz:"9pt",rwVlTxtFntSz:"9pt",colVlTxtFntSz:"9pt",ttlFntSz:"9pt"}
	P[I.WATERFALL]={yGridLnShw:D.AUTO,xGridLnShw:D.AUTO}
	return P
	}())},OGM:{GENERAL_PROPS:(function(){var P={}
	P[E]={dataLabels:K.HIDE,minRowHeight:20}
	P[I.PIE]={legend:A.HIDE,legendShow:false,dataLabels:K.SHOW_TEXT_ONLY}
	P[I.SCATTER]={minSizeType:L.AUTO}
	return P
	}()),DEFAULT_PROPS:(function(){var Q={}
	Q[E]={rwHdrShw:false,colHdrShw:false,dlFntFml:F,rfLnFntFml:F,lgdFntFml:F,xAxTtFntFml:F,xAxLbFntFml:F,yAxTtFntFml:F,yAxLbFntFml:F,allTxtFntFml:F,rwHdrTxtFntFml:F,colHdrTxtFntFml:F,rwVlTxtFntFml:F,colVlTxtFntFml:F,ttlFntFml:F,dlFntClr:3815477,rfLnFntClr:3815477,lgdFntClr:3815477,xAxTtFntClr:3815477,xAxLbFntClr:3815477,yAxTtFntClr:3815477,yAxLbFntClr:3815477,allTxtFntClr:3815477,rwHdrTxtFntClr:3815477,colHdrTxtFntClr:3815477,rwVlTxtFntClr:3815477,colVlTxtFntClr:3815477,ttlFntClr:3815477,yAxTtFntStyle:1,xAxTtFntStyle:1,rwHdrTxtFntStyle:1,colHdrTxtFntStyle:1,dlFntSz:"9pt",rfLnFntSz:"9pt",lgdFntSz:"9pt",xAxTtFntSz:"9pt",xAxLbFntSz:"9pt",yAxTtFntSz:"9pt",yAxLbFntSz:"9pt",allTxtFntSz:"9pt",rwHdrTxtFntSz:"9pt",colHdrTxtFntSz:"9pt",rwVlTxtFntSz:"9pt",colVlTxtFntSz:"9pt",ttlFntSz:"9pt"}
	Q[I.AREA]={shpBdrThk:1,shpBdrClr:15461355,}
	var P=Q[I.AREA]
	P["SUBTYPE_"+N.ABSOLUTE]={shpFillTrans:70}
	P["SUBTYPE_"+N.AUTO]={shpFillTrans:100}
	P["SUBTYPE_"+N.STACKED]={shpFillTrans:100}
	P["SUBTYPE_"+N.CLUSTERED]={shpFillTrans:100}
	P["SUBTYPE_"+N.PERCENT]={shpFillTrans:100}
	Q[I.BAR]={shpBdrClr:15461355,shpBdrStyle:0,shpBdrThk:1,shpFillTrans:100}
	Q[I.LINE]={shpFillTrans:100}
	Q[I.PIE]={shpBdrThk:1,shpBdrStyle:0,shpFillTrans:100,shpBdrClr:15461355}
	Q[I.SCATTER]={shpBdrStyle:99,shpFillTrans:40}
	Q[I.BUBBLE]={shpBdrStyle:99,shpFillTrans:40}
	Q[I.GRID]={shpBdrThk:1,shpFillTrans:100}
	return Q
	}())},KPI:{fontFamily:F,defaultFontClr:{1:"#35383A",2:"#FFFFFF",3:"#FFFFFF",4:"#FFFFFF"}}}
	mstrmojo.vi.enums.EnumThemeProperties={CLASSIC_THEME_PROPS:O,DEFAULT_THEME_PROPS:G}
	mstrmojo.vi.enums.EnumThemeProperties.SUBTYPE={GRID:"GRID",LAYOUT:"LAYOUT",HEATMAP:"HEATMAP"}
	mstrmojo.vi.enums.EnumThemeProperties.ENUM_LAYOUT_THEME=C
	mstrmojo.vi.enums.EnumThemeProperties.ENUM_LAYOUT_STYLE={DEFAULT:0,CARD:1,FLAT:2}
	mstrmojo.vi.enums.EnumThemeProperties.ENUM_SHADOW_STYLE={VISIBLE:0,HIDDEN:1}
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.mstr.EnumDataType")
	var A={}
	var C=mstrmojo.mstr.EnumDataType
	mstrmojo.NumberFormat={applicableDT:[C.DataTypeReserved,C.DataTypeInteger,C.DataTypeUnsigned,C.DataTypeNumeric,C.DataTypeDecimal,C.DataTypeReal,C.DataTypeDouble,C.DataTypeFloat,C.DataTypeBinary,C.DataTypeVarBin,C.DataTypeLongVarBin,C.DataTypeDate,C.DataTypeTime,C.DataTypeTimeStamp,C.DataTypeShort,C.DataTypeLong,C.DataTypeBigDecimal,C.DataTypeCellFormatData,C.DataTypeInt64],isNumberFormatDT:function D(E){return E===undefined||E===null||this.applicableDT.indexOf(E)!==-1
	},getInstance:function B(H,I){var G=H+"--"+I
	if(G in A){return A[G]
	}var E={parse:function(J){},format:function(J){}}
	if(H==="."&&I===","){E.parse=function(J){if(!J){return NaN
	}var K=J.replace(/,/g,"")
	return Number(K)
	}
	E.format=function(J){return Number(J).toString()
	}
	}else{var F=new RegExp("\\"+I,"g")
	E.parse=function(K){if(!K){return NaN
	}var J=K.replace(F,"").replace(H,".")
	return Number(J)
	}
	E.format=function(K){var J=Number(K).toString()
	return J.replace(".",H)
	}
	}A[G]=E
	return E
	},parse:function(G,F,H){if(!G){return NaN
	}F=F||mstrConfig.decimalSep
	H=H||mstrConfig.thousandsSep
	if(F==="."&&H===","){return Number(G.replace(/,/g,""))
	}else{var E=G.replace(new RegExp("\\"+H,"g"),"").replace(F,".")
	return Number(E)
	}},format:function(H,F,G){F=F||mstrConfig.decimalSep
	G=G||mstrConfig.thousandsSep
	if(F==="."&&G===","){return Number(H).toString()
	}else{var E=Number(H).toString()
	return E.replace(".",F)
	}}}
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.cookies")
	mstrmojo.requiresDescs(14356,11866)
	mstrmojo.mstr._RecentObjectsHelper=mstrmojo.provide("mstrmojo.mstr._RecentObjectsHelper",{_mixinName:"mstrmojo.mstr._RecentObjectsHelper",handleRecentObjects:function B(){var F=this.recentObjects()
	var D=Math.min(F.length,10)
	var C=-1
	for(i=0
	i<D
	i++){if(F[i].lastRecovered!==undefined&&F[i].lastRecovered===true){F[i].iconClass="mstrIcon-lv mstrIcon-recover"
	F[i].recoveryName=mstrmojo.desc(11866,"Recover #").replace("#",F[i].recoveryName)
	F[i].itemClass="mstr-recent-item"
	C=i
	}else{F[i].itemClass="mstr-recent-item"
	F[i].iconClass="mstrIcon-lv "+F[i].iconClass
	}}if(C!=-1){F[C].cssText="border-bottom: 1px solid #D6D6D6
	"
	}var E={}
	if(D==0){E.recoveryURL=""
	E.recoveryName=mstrmojo.desc(14356,"No recent items")
	E.iconClass=""
	E.lastRecovered=false
	F.push(E)
	}return F
	},recentObjects:function A(){try{var J=window.localStorage,P=window.sessionStorage
	if(!J||!window.JSON){return 
	}var E=[]
	var N=function(W){var X=""
	switch(W){case 3:X="reportID="
	break
	case 55:X="documentID="
	break
	default:X="messageID="
	break
	}return X
	}
	var H=function(a){var Z=a.ty
	var W=""
	switch(Z){case 55:var Y=a.vm
	switch(Y){case 8192:case 2048:W="mstrIcon-lv-rw avm"
	break
	case 1:default:W="mstrIcon-lv-rw"
	break
	}break
	case 3:var X=a.viewMode
	switch(X){case 1:W="mstrIcon-lv-g"
	break
	case 2:W="mstrIcon-lv-gp"
	break
	case 3:W="mstrIcon-lv-gpgs"
	break
	default:W=""
	break
	}break
	}return W
	}
	var U=JSON.parse(J.getItem("recentObjects"+mstrConfig.lastMsgKey))
	try{var S=mstrConfig.lastMsgKey,D="lastMsgID"+S,G=(JSON.parse(decodeURIComponent(mstrmojo.cookies.getCookieSetting("lastMsgID")||"{}")))[S],I=function(W){return W&&(W.length===32)&&/^[A-Z0-9]{32}$/.test(W)
	}
	}catch(R){}if(I(G)){var K={}
	var O="lastMsgRecoveryInfo"+S,C=J.getItem(O)
	if(C){var C=JSON.parse(C)
	K.recoveryInfo=C
	K.recoveryURL=mstrmojo.addCSRFTokenToURL("?"+C.url)
	K.recoveryName=C.n
	K.recoveryType=C.ty
	K.did=C.did
	K.iconClass=H(C)
	K.lastRecovered=true
	E.push(K)
	}}for(var Q in U){var L=U[Q]
	if(L===""){continue
	}var K={}
	var C=JSON.parse(L)
	K.recoveryInfo=C
	K.recoveryURL=mstrmojo.addCSRFTokenToURL("?"+C.url.replace(/messageID.*/,N(C.ty)+C.did))
	K.recoveryName=C.n
	K.recoveryType=C.ty
	K.did=C.did
	K.iconClass=H(C)
	K.lastRecovered=false
	var M=mstrmojo.array.find(E,"did",K.did)
	if(M===-1){E.push(K)
	}else{E[M].recoveryInfo.imgData=K.recoveryInfo.imgData
	}}return E
	}catch(F){mstrmojo.errors.log(F)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var A=mstrmojo.array
	mstrmojo.fe._IsRelationTreeNode=mstrmojo.provide("mstrmojo.fe._IsRelationTreeNode",{createSetHtml:'<span class="mstrmojo-textset mstrmojo-create-set-text" mstrAttach:click >'+mstrmojo.desc(12034,"Create a Set")+"</span>",syncRootOperator:function(){var F=this.parent,H=function(){var J=this.parent,I=[]
	if(J){I=J.ctxtBuilder.itemWidgets
	}return I
	},E,D,B,C,G
	if(F){E=H.call(this)
	B=E.length
	D=A.find(E,"noRelationOperator",true)!==-1
	for(C=0
	C<B
	C++){G=E[C]
	G&&G.set("noRelationOperator",D)
	}this.set("noRelationOperator",D)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var O=mstrmojo.array,K="#000000",G=Math.round
	function Z(j,h,g){return !isNaN(j)&&!isNaN(h)&&!isNaN(g)
	}function S(g){return("0"+Math.max(0,Math.min(255,parseInt(g,10))).toString(16)).slice(-2)
	}mstrmojo.color=mstrmojo.provide("mstrmojo.color",{rgbStr2rgb:function d(g){if(!g){return[]
	}else{if(g==="transparent"){return["0","0","0"]
	}else{return g.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i).slice(1)
	}}},rgbStr2hex:function I(g){if(g&&g.indexOf("rgb")>=0){var h=this.rgbStr2rgb(g)
	return"#"+this.rgb2hex(h[0],h[1],h[2])
	}return g
	},rgb2rgba:function e(g,h){if(!g){return g
	}var j=g.charAt(0)==="#"?this.hex2rgb(g):this.rgbStr2rgb(g)
	if(!O.isArray(j)||j.length!==3){return g
	}if(isNaN(h)){h=100
	}j.push(h/100)
	return"rgba("+j.join(",")+")"
	},rgb2hex:function B(k,j,h){if(!Z(k,j,h)){return""
	}return S(k)+S(j)+S(h)
	},rgb2hsv:function c(j,o,q){if(!Z(j,o,q)){return[]
	}var m=Math.min(j,o,q),t=Math.max(j,o,q),n=0,x,w
	w=t/255
	x=(t!==0)?(parseFloat(t)-parseFloat(m))/parseFloat(t):0
	if(x===0){n=0
	}else{var p=t-m,k=(t-j)/p,l=(t-o)/p,u=(t-q)/p
	if(j===t){n=u-l
	}else{if(o===t){n=2+k-u
	}else{n=4+l-k
	}}n=n/6
	if(n<0){n=n+1
	}}return[G(n*360),G(x*100),G(w*100)]
	},rgb2hsl:function E(j,o,p){if(!Z(j,o,p)){return[]
	}j/=255
	o/=255
	p/=255
	var q=Math.max(j,o,p),m=Math.min(j,o,p),k=(q+m)/2,n,u
	if(q===m){n=u=0
	}else{var t=q-m
	u=k>0.5?t/(2-q-m):t/(q+m)
	switch(q){case j:n=(o-p)/t+(o<p?6:0)
	break
	case o:n=(p-j)/t+2
	break
	case p:n=(j-o)/t+4
	break
	}n/=6
	}return[n,u,k]
	},hsl2rgb:function D(t,w,o){if(!Z(t,w,o)){return[]
	}var n=function n(l,h,g){if(g<0){g+=1
	}if(g>1){g-=1
	}if(g<1/6){return l+(h-l)*6*g
	}if(g<1/2){return h
	}if(g<2/3){return l+(h-l)*(2/3-g)*6
	}return l
	},j,u,v
	if(w===0){j=u=v=o
	}else{var k=o<0.5?o*(1+w):o+w-o*w,m=2*o-k
	j=n(m,k,t+1/3)
	u=n(m,k,t)
	v=n(m,k,t-1/3)
	}return[G(j*255),G(u*255),G(v*255)]
	},hsl2hex:function L(k,j,g){if(!Z(k,j,g)){return""
	}return"#"+O.map(this.hsl2rgb(k,j,g),function(h){return S(h)
	}).join("")
	},hex2rgb:function W(k){if(!k){return[]
	}var g=this.fixFullHexValue("#"+k.replace("#","")),h=[],j
	g=g.replace("#","")
	for(j=0
	j<3
	j++){h.push(parseInt(g.substr(j*2,2),16))
	}return h
	},hex2bgr:function N(g){return this.hex2rgb(g).reverse()
	},hex2hsv:function a(h){var g=this.hex2rgb(h)
	return this.rgb2hsv(g[0],g[1],g[2])
	},hex2hsl:function f(g){return this.rgb2hsl.apply(this,this.hex2rgb(g))
	},hsv2rgb:function J(w,AD,AB){if(!Z(w,AD,AB)){return[]
	}w=w/360
	AD=AD/100
	AB=AB/100
	var j,x,AA
	if(AD===0){j=AB*255
	x=AB*255
	AA=AB*255
	}else{var m=w*6
	if(m===6){m=0
	}var u=Math.floor(m)
	var l=AB*(1-AD)
	var k=AB*(1-AD*(m-u))
	var AC=AB*(1-AD*(1-(m-u)))
	var z,n,o
	switch(u){case 0:z=AB
	n=AC
	o=l
	break
	case 1:z=k
	n=AB
	o=l
	break
	case 2:z=l
	n=AB
	o=AC
	break
	case 3:z=l
	n=k
	o=AB
	break
	case 4:z=AC
	n=l
	o=AB
	break
	default:z=AB
	n=l
	o=k
	break
	}j=z*255
	x=n*255
	AA=o*255
	}return[G(j),G(x),G(AA)]
	},hsv2hex:function P(l,k,g){var j=this.hsv2rgb(l,k,g)
	return this.rgb2hex(j[0],j[1],j[2])
	},getContrastingColor:function R(k,h,g){var j=this.hex2rgb(k)
	return(((j[0]*299)+(j[1]*587)+(j[2]*114))/1000<125)?h:g
	},getLuminance:function H(h){var g=this.hex2rgb(h)
	return 0.2126*g[0]+0.7152*g[1]+0.0722*g[2]
	},getHighlightColor:function Y(q,o){if(!q||!q.length){return""
	}var h,p,t,u,v=this.hex2rgb(!o?"#FFCE7F":"#EFE6D8"),n=parseInt(q[0],10),k=parseInt(q[1],10),x=parseInt(q[2],10),m=parseInt(v[0],10),j=parseInt(v[1],10),w=parseInt(v[2],10)
	h=(n*m)/255
	p=(k*j)/255
	t=(x*w)/255
	u=n*0.3+k*0.59+x*0.11
	if(u<85){h=h+(63*(85-u)/85)
	h=h>255?255:h
	p=p+(63*(85-u)/85)
	p=p>255?255:p
	t=t+(63*(85-u)/85)
	t=t>255?255:t
	}var l=this.rgb2hex(G(h),G(p),G(t))
	if(l){l="#"+l
	}return l
	},get3DBorderColor:function X(k,n){if(!k||!Z(k[0],k[1],k[2])){return""
	}var j=parseInt(k[0],10)*0.3+parseInt(k[1],10)*0.59+parseInt(k[2],10)*0.11
	var m=parseInt(k[0],10)
	var l=parseInt(k[1],10)
	var h=parseInt(k[2],10)
	switch(n){case"light":if(j>150){m=m*0.9
	l=l*0.9
	h=h*0.9
	}else{m=m*0.6+102
	l=l*0.6+102
	h=h*0.6+102
	}break
	case"dark":if(j>10){m=m*0.4
	l=l*0.4
	h=h*0.4
	}else{m=m*0.8+30
	l=l*0.8+30
	h=h*0.8+30
	}break
	}return"#"+this.rgb2hex(G(m),G(l),G(h))
	},encodeColor:function M(g,h){if(h!==undefined&&(g===null||g===undefined||g.length===0||g==="undefined")){g=h
	}if(g==="transparent"){return -1
	}if(parseInt(g,10)===-2){return -2
	}if(!g){return 0
	}if(g.substring(0,1)==="#"){g=g.substring(1)
	}if(isNaN(parseInt(g,16))){return 0
	}return parseInt(g.substring(4)+g.substring(2,4)+g.substring(0,2),16)
	},decodeColor:function A(g){g=parseInt(g,10)
	if(g===0){return K
	}var h=16777216+(g&255)*65536+(g&65280)+(g&16711680)/65536
	return"#"+h.toString(16).substring(1).toUpperCase()
	},fixFullHexValue:function b(g){if(g&&g.length===4){return g.replace(/([0-9a-f])/ig,"$1$1")
	}return g
	},findMidColorHex:function U(k,j){var l=this.hex2rgb(k),g=this.hex2rgb(j),h=[]
	l.forEach(function(m,n){h.push(parseInt((m+g[n])/2,10))
	})
	return("#"+this.rgb2hex(h[0],h[1],h[2]))
	},lightenHex:function C(n,m){var j=parseInt(n.replace("#",""),16),o=Math.round(2.55*m),l=(j>>16)+o,k=(j&255)+o,h=(j>>8&255)+o
	return"#"+(16777216+(l<255?l<1?0:l:255)*65536+(h<255?h<1?0:h:255)*256+(k<255?k<1?0:k:255)).toString(16).slice(1)
	},applyOpacityToHex:function Q(h,j){if(isNaN(j)||j>=100){return h
	}var g=Math.round(j*2.55).toString(16)
	return h+g.padStart(2,"0")
	},getResponsiveFontColor:function F(m){var l=m?m.c1||m:"",g=this.getLuminance(l),j=255,o=121.71921,h=Math.max(j/g,g/j),n=Math.max(o/g,g/o),k="#fff",p="#35383a"
	if(h>=n){return k
	}return p
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var E="*",A=".",C="-",J="_",H="<"
	var M=new RegExp("[\\"+E+"\\"+A+"\\"+C+"\\"+J+"\\"+H+"]","g"),G=E+"$&"
	mstrmojo.Serializer={scriptClass:"mstrmojo.Serializer",serializeValueGroup:function F(B){mstrmojo.array.forEach(B,function(D,K){B[K]=mstrmojo.Serializer.serializeValues(D)
	})
	return C+this.serializeValues(B)+J
	},serializeValues:function I(D){var B=[]
	mstrmojo.array.forEach(D,function(K){if(typeof K==="Boolean"){K=K?"1":"0"
	}B.push(String(K).replace(M,G))
	})
	return B.join(A)
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var G=mstrmojo.array
	mstrmojo._IsPanelStack=mstrmojo.provide("mstrmojo._IsPanelStack",{_mixinName:"mstrmojo._IsPanelStack",TTL_SRC_PANEL:0,model:null,selectedIdx:undefined,init:function M(R){this._super(R)
	var Q=this.defn
	if(!Q){Q=this.defn=this.node&&this.node.defn
	this.addDisposable(this.defn)
	this.titleSrc=this.titleSrc||Q.ttlSrc
	}var P=this.selectedKey=this.defn.selKey=this.node.data.selKey
	this.set("selectedIdx",G.find(this.node.data.panels,"k",P))
	Q.attachEventListener("selKeyChange",this.id,function(S){this.set("selectedKey",S.value)
	})
	},destroy:function J(){if(this.destroyed){return 
	}this._super()
	},addChildren:function O(R,Z,X){var Y=this.getFormats(),U=Y&&Y.overflow,S=R.length,W
	for(W=0
	W<S
	W++){var Q=R[W],a=Q.k
	if(a){Q.selected=Q.visible=a===this.selectedKey
	if(U){var P=Q.getFormats()||Q.createEmptyFormats()
	if(P){P.overflow=U
	}}}}return this._super(R,Z,X)
	},refresh:function H(){if(this.hasRendered){var P=this.defn.newSelKey||this.selectedKey,R=this.selectedVisFilterContainerKey,Q
	G.forEach(this.children,function(U){var S=U.k
	if(S){U._delayRefresh=(S!==P)
	Q=mstrApp.isInVFConfigMode&&S===R
	if(!U._delayRefresh&&!Q){U.refresh()
	}}})
	}delete this.defn.newSelKey
	},selectPanel:function B(Q,R,P){var S=this.model.getDataService(),U=S.newUpdateWithoutCmd()
	this.selectPanelDeferred(U,Q,R,P)
	if(U.actions&&U.actions.length>0){S.addSuppressData(U.extras)
	U.submit()
	}},selectPanelDeferred:function(U,R,S,P,Q){if(R!==this.selectedKey||Q){this.defn.set("selKeyChange",R)
	this.model.selectPanelDeferred(U,this.k,R,this.node.data.wid,S,P)
	}},onselectedKeyChange:function N(Q){var R=0,W,P,S
	G.forEach(this.children||this.node.data.panels,function(Y,X){var Z=Y.k
	if(Z){if(Q.value===Z){P=Y
	S=X-R
	if(Y.set){Y.set("visible",true)
	Y.set("selected",true)
	}}else{if(Q.valueWas===Z){W=Y
	if(Y.set){Y.set("selected",false)
	Y.set("visible",false)
	}}}if(P&&W){return false
	}}else{R++
	}return true
	})
	if(this.titleSrc===this.TTL_SRC_PANEL&&this.title){var U=P&&P.title
	this.set("title",U)
	this.defn.ttl=U
	}this.prevSelectIdx=this.selectedIdx
	this.set("selectedIdx",S)
	this.raiseEvent({name:"panelSelected",key:P.k})
	return{on:P,off:W}
	},getSelectedPanel:function E(){var P=0,Q=this.selectedIdx,R
	G.forEach(this.children,function(U,S){if(U.k){if(S-P===Q){R=U
	return false
	}}else{P++
	}return true
	})
	return R
	},getPanelByKey:function C(Q){var R=G.find(this.children,"k",Q),P
	if(R>=0){P=this.children[R]
	}return P
	},setDirtyChildren:function K(P){var Q=this.selectedKey
	G.forEach(this.children,function(S){var R=S.k
	if(R){S[((P||R!==Q)?"add":"remove")+"DirtyKey"](R)
	}})
	},clearDirtyChild:function L(R){var Q=this.children,P=Q[G.find(Q,"k",R)]
	if(P){P.removeDirtyKey(P.k)
	}},isPanelStack:true,checkRequiredObjects:function D(){var P=this.txWidgets||{},Q=true,R
	for(R in P){Q&=!!P[R].checkRequiredObjects()
	}return Q
	},isAutoApply:function F(){return this.defn.cas
	},updateSelectedIdx:mstrmojo.emptyFn,unrender:function I(P){delete this.defn.newSelKey
	this._super(P)
	},switchToPanel:function A(P,Q){if(Q!==undefined){this.set("selectedIdx",Q)
	}else{this.updateSelectedIdx(P)
	}this.children[this.selectedIdx]&&this.selectPanel(this.children[this.selectedIdx].k)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var I=mstrmojo.array,Q=mstrmojo.desc(2412,"Default"),P=mstrmojo.desc(3433,"Font"),K=mstrmojo.desc(3434,"Number"),D=mstrmojo.desc(3435,"Alignment"),N=mstrmojo.desc(2886,"Borders"),E=mstrmojo.desc(3905,"Background"),R="-1,234.12",C="1,234.12",M="(1,234.12)",H="-$1,234.12",B="$1,234.12",J="($1,234.12)"
	var O=[{n:Q,v:"pru"}]
	I.forEach(["Arial","Arial Black","Arial Narrow","Arial Unicode MS","Batang","Book Antiqua","Bookman Old Style","Bookshelf Symbol 1","Bookshelf Symbol 2","Bookshelf Symbol 3","Comic Sans MS","Courier New","Garamond","Haettenschweiler","Helvetica","Impact","Lucida Console","Lucida Sans Unicode","Map Symbols","Marlett","Monotype Corsiva","Monotype Sorts","MS Gothic","MS Outlook","Microsoft Sans Serif","MT Extra","Open Sans SemiBold","Open Sans","Symbol","Tahoma","Times New Roman","Trebuchet MS","Verdana","Webdings","Wingdings","Wingdings 2","Wingdings 3"],function(S){O.push({n:S,v:S,symbolic:true})
	})
	function G(U,S,W){return(S&&S>=U)?G(U,S-W,W).concat(S):[]
	}var A=G(2,12,1)
	A=A.concat(G(14,24,2))
	A=A.concat(G(36,48,12))
	A=A.concat(G(72,72,1))
	var F=[{n:Q,v:"pru"}]
	I.forEach(A,function(S){F.push({n:String(S),v:String(S)})
	})
	mstrmojo._FormatDefinition={Formats:[{n:P},{n:K},{n:D},{n:mstrmojo.desc(3436,"Color and Lines")}],FormatTarget:[{n:mstrmojo.desc(7942,"Element Header"),v:1,p:"header_format"},{n:mstrmojo.desc(7943,"Element Value"),v:2,p:"grid_format"},{n:mstrmojo.desc(7944,"Individual Items Header"),v:3,p:"child_header_format"},{n:mstrmojo.desc(7945,"Individual Items Value"),v:4,p:"child_grid_format"}],MetricFormatTarget:[{n:mstrmojo.desc(9710,"Metric Headers"),v:1,p:"header_format"},{n:mstrmojo.desc(9711,"Metric Values"),v:2,p:"grid_format"}],MetricValueFormats:[{n:K},{n:D},{n:P},{n:N},{n:E}],MetricHeaderFormats:[{n:K},{n:D},{n:P},{n:N},{n:E},{n:mstrmojo.desc(12139,"Chart")}],NumberFormatCategory:{Automatic:-3,Default:-2,General:9,Fixed:0,Currency:1,Date:2,Time:3,Percentage:4,Fraction:5,Scientific:6,Custom:7},DefaultFormat:{FormattingAlignment:{Horizontal:"1",Vertical:"1",TextWrap:"0",TextDirection:"0",TextBreak:"0"},FormattingBorder:{HInsideStyle:"1",VInsideStyle:"1",TopStyle:"1",LeftStyle:"1",BottomStyle:"1",RightStyle:"1",HInsideColor:"0",VInsideColor:"0",TopColor:"0",LeftColor:"0",BottomColor:"0",RightColor:"0",Border3DStyle:"0",Border3DWeight:"0",Border3DBottomColor:"0",Border3DLeftColor:"0",Border3DRightColor:"0",Border3DTopColor:"0"},FormattingFont:{Name:"Arial",Bold:"0",Italic:"0",Size:"10",Strikeout:"0",Underline:"0",Color:"0",Script:"0"},FormattingNumber:{Category:"9",DecimalPlaces:"0",ThousandSeparator:"-1",CurrencySymbol:"$",CurrencyPosition:"0",Format:"General",NegativeNumbers:"3"},FormattingPadding:{LeftPadding:"1",RightPadding:"1",TopPadding:"1",BottomPadding:"1",LineSpacing:"0"},FormattingPatterns:{FillColor:"16777215",PatternColor:"8650752",PatternStyle:"1",FillStyle:"0",ApplyToGraphThreshold:"0",GradientColor:"16777215",GradientAngle:"0",GradientXOffset:"0",GradientYOffset:"0",SelectorSelectionColor:"16167264",SelectorSelectionFillStyle:"0",SeriesFillColor:"pru",SeriesPatternColor:"8650752",SeriesPatternStyle:"1",SeriesFillStyle:"0",SeriesApplyToGraphThreshold:"0",SeriesGradientColor:"16777215",SeriesGradientAngle:"0",SeriesGradientXOffset:"0",SeriesGradientYOffset:"0",SeriesSelectorSelectionColor:"16167264",SeriesSelectorSelectionFillStyle:"0",FillOpacity:"100"}},Families:O,Sizes:F,SizesInVI:F.slice(7,19),Styles:[{n:Q,v:"pru"},{n:mstrmojo.desc(3440,"Regular"),v:"0,0"},{n:mstrmojo.desc(2718,"Bold"),v:"-1,0",v2:"-1,"},{n:mstrmojo.desc(2719,"Italic"),v:"0,-1",v2:",-1"},{n:mstrmojo.desc(3441,"Bold Italic"),v:"-1,-1"}],Effects:[{n:"Underline",v:0},{n:"Strike",v:1}],Category:[{n:Q,v:-2},{n:mstrmojo.desc(2378,"General"),v:9},{n:mstrmojo.desc(2050,"Fixed"),v:0},{n:mstrmojo.desc(2051,"Currency"),v:1},{n:mstrmojo.desc(2052,"Date"),v:2},{n:mstrmojo.desc(2170,"Time"),v:3},{n:mstrmojo.desc(2053,"Percentage"),v:4},{n:mstrmojo.desc(2054,"Fraction"),v:5},{n:mstrmojo.desc(2055,"Scientific"),v:6},{n:mstrmojo.desc(2056,"Custom"),v:7}],MaxNegativeDidigts:30,FixedNegative:[{n:R,v:1,f:"#,##0.00"},{n:R,r:true,v:5,f:"#,##0.00
	[RED]-#,##0.00"},{n:C,r:true,v:2,f:"#,##0.00
	[RED]#,##0.00"},{n:M,v:3,f:"#,##0.00
	(#,##0.00)"},{n:M,r:true,v:4,f:"#,##0.00
	[RED](#,##0.00)"}],CurrencyNegative:[{n:H,v:1,f:'"$"#,##0.00'},{n:H,r:true,v:5,f:'"$"#,##0.00
	[RED]-"$"#,##0.00'},{n:B,r:true,v:2,f:'"$"#,##0.00
	[RED]"$"#,##0.00'},{n:J,v:3,f:'"$"#,##0.00
	("$"#,##0.00)'},{n:J,r:true,v:4,f:'"$"#,##0.00
	[RED]("$"#,##0.00)'}],CurrencyPosition:[{n:mstrmojo.desc(2194,"Left"),v:0},{n:mstrmojo.desc(2195,"Right"),v:1},{n:mstrmojo.desc(2183,"Left with space"),v:2},{n:mstrmojo.desc(2182,"Right with space"),v:3}],Date:[{n:mstrmojo.desc(2231,"4/16"),v:"m/d"},{n:mstrmojo.desc(2232,"04/16"),v:"mm/dd"},{n:mstrmojo.desc(2233,"4/16/20"),v:"m/d/yy"},{n:mstrmojo.desc(2234,"04/16/20"),v:"mm/dd/yy"},{n:mstrmojo.desc(2235,"04/16/2020"),v:"mm/dd/yyyy"},{n:mstrmojo.desc(19695,"16/04/2020"),v:"dd/mm/yyyy"},{n:mstrmojo.desc(2236,"16-Apr"),v:"d-mmm"},{n:mstrmojo.desc(2237,"16-Apr-20"),v:"d-mmm-yy"},{n:mstrmojo.desc(2238,"Apr-20"),v:"mmm-yy"},{n:mstrmojo.desc(2239,"Apr '20"),v:"mmm 'yy"},{n:mstrmojo.desc(2240,"April 2020"),v:"mmmm yyyy"},{n:mstrmojo.desc(2241,"4/16/20 15:41"),v:"m/d/yy h:mm"},{n:mstrmojo.desc(2242,"4/16/20 3:41 PM"),v:"m/d/yy h:mm AM/PM"},{n:mstrmojo.desc(2243,"April 16, 2020"),v:"mmmm d, yyyy"}],Time:[{n:mstrmojo.desc(2244,"15:41"),v:"h:mm"},{n:mstrmojo.desc(2245,"3:41 PM"),v:"h:mm AM/PM"},{n:mstrmojo.desc(2246,"15:41:46"),v:"h:mm:ss"},{n:mstrmojo.desc(2247,"3:41:46 PM"),v:"h:mm:ss AM/PM"},{n:mstrmojo.desc(2241,"4/16/20 15:41"),v:"m/d/yy h:mm"},{n:mstrmojo.desc(2242,"4/16/20 3:41 PM"),v:"m/d/yy h:mm AM/PM"},{n:mstrmojo.desc(2250,"04/16/20 15:41"),v:"mm/dd/yy h:mm"},{n:mstrmojo.desc(2248,"04/16/20 3:41 PM"),v:"mm/dd/yy h:mm AM/PM"}],PercentNegative:[{n:"-12.12%",v:1,f:"0.00%"},{n:"-12.12%",r:true,v:5,f:"0.00%
	[RED]-0.00%"},{n:"12.12%",r:true,v:2,f:"0.00%
	[RED]0.00%"},{n:"(12.12%)",v:3,f:"0.00%
	(0.00%)"},{n:"(12.12%)",r:true,v:4,f:"0.00%
	[RED](0.00%)"}],Fraction:[{n:"12 1/3",v:"# ?/?"},{n:"37/3",v:"?/?"},{n:"12 26/81",v:"# ??/??"},{n:"998/81",v:"??/??"}],TextDirection:[{n:Q,v:"pru"},{n:mstrmojo.desc(4601,"Horizontal"),v:0},{n:mstrmojo.desc(5156,"-90 Degree"),v:-90}],Horizontal:[{n:mstrmojo.desc(2296,"Use Default"),v:"pru"},{n:mstrmojo.desc(2378,"General"),v:1},{n:mstrmojo.desc(2194,"Left"),v:2},{n:mstrmojo.desc(2193,"Center"),v:3},{n:mstrmojo.desc(2195,"Right"),v:4},{n:mstrmojo.desc(2068,"Justify"),v:6}],Vertical:[{n:mstrmojo.desc(2296,"Use Default"),v:"pru"},{n:mstrmojo.desc(2256,"Top"),v:1},{n:mstrmojo.desc(2067,"Center"),v:2},{n:mstrmojo.desc(2257,"Bottom"),v:3}],TextWrap:[{v:0},{v:-1}],BorderStyles:[{n:Q,v:"pru"},{n:mstrmojo.desc(2258,"None"),v:0},{n:mstrmojo.desc(2259,"Dashed"),v:3},{n:mstrmojo.desc(2260,"Dotted"),v:4},{n:mstrmojo.desc(2261,"Hair"),v:7},{n:mstrmojo.desc(2262,"Thin"),v:1},{n:mstrmojo.desc(2264,"Thick"),v:5},{n:mstrmojo.desc(15361,"Double"),v:6}],extractModel:function(W,Y,U){var a=U||this.DefaultFormat,Z
	for(Z in W){var S=W[Z]
	if(!S.attachEventListener){if(!mstrmojo.hash.isEmpty(S)){Y[Z]=S
	}}else{var X
	for(X in S){if(a[Z]&&a[Z][X]){if(!Y[Z]){Y[Z]={}
	}Y[Z][X]=S[X]
	}}}}},getAvailableFonts:function L(){var S={success:function(W){if(W.name==="fontPicker"){var U=[{n:Q,v:"pru"}]
	I.forEach(W.shortcuts,function(Y){var Z=Y.attributes,a=I.filterOne(Z,function(b){return b.value
	}),X=I.filterOne(Z,function(b){return b.symbolic
	})
	U.push({n:a&&a.value,v:a&&a.value,symbolic:(X&&X.symbolic||"false").toUpperCase()==="TRUE"})
	})
	mstrmojo._FormatDefinition.Families=U
	}}}
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,S,{taskId:"getSystemPickerJson",name:"fontPicker"},false,null,true)
	},getStandardFormat:function(U,S){var X=mstrmojo.hash.clone(S||this.DefaultFormat),W
	U=U||{}
	for(W in X){U[W]=U[W]||{}
	}for(W in U){if(!U[W].attachEventListener){U[W]=mstrmojo.hash.make(U[W],mstrmojo.Obj)
	}}return U
	},saveFormatModel:function(Y,e,U,f){var d=f||this.DefaultFormat,a,S
	for(a=0
	a<U.length
	a++){var Z=U[a],X=e[Z]||null,c=Y[Z]
	if(c===undefined){delete e[Z]
	continue
	}for(S in d){var b=d[S],W
	if((!X&&!c)||(X&&!X[S]&&!c[S])){continue
	}for(W in b){if(c[S]===undefined||c[S]===""||c[S][W]==="pru"||c[S][W]===undefined){if(X&&X[S]&&(X[S][W]!==undefined&&X[S][W]!==null&&X[S][W]!=="pru")){X[S][W]="pru"
	}}else{X=X||{}
	X[S]=X[S]||{}
	X[S][W]=c[S][W]
	}}}if(X){e[Z]=X
	}}}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var G=function(Y){var X=(mstrApp.docModelData&&mstrApp.docModelData.mid)||""
	return Y.k+"-"+X
	},O={},K=mstrmojo.array
	mstrmojo.vi.ui.rw.selectors._BrushesAndHighlights=mstrmojo.provide("mstrmojo.vi.ui.rw.selectors._BrushesAndHighlights",{_mixinName:"mstrmojo.vi.ui.rw.selectors._BrushesAndHighlights",postBuildRendering:function J(){this._super()
	this.setup()
	this.initialHighlight()
	},initialHighlight:function B(){if(!this.getExp()){if(O[G(this)]){this.highlight.apply(this,O[G(this)])
	}else{if(this.isVisMap){this.highlight("allLayers",this.genSelectionMapping(),true)
	}else{this.highlight(this.getSelectionType(),this.getSelectionHash(),true)
	}}}},getExp:function(){var X=this.model.data,Y=X&&X.sc&&X.sc.exp
	return Y
	},clearsBrushingOnHighlight:true,brushSub:null,clearSub:null,getAssociatedNodes:function W(){var X=this.defn&&this.defn.an
	return X&&X.length>0?X:[]
	},hasAssociatedNodes:function M(){var X=this.getAssociatedNodes()
	return X.length>0
	},getDocModelForEvent:function H(){return this.model&&this.model.docModel
	},setup:function Q(){var X=this.getDocModelForEvent(),Y=this.id
	if(X){[this.brushSub,this.clearSub].forEach(function(Z){if(Z){Z.clear()
	}})
	this.brushSub=X.attachEventListener("brushing",Y,this.onBrushing)
	this.clearSub=X.attachEventListener("clearBrush",Y,this.onClearBrushing)
	}},handlesMultiSelection:function F(){return(this._super&&this._super())||this.getAssociatedNodes().length>0
	},getHighlightKeys:function P(){var Y=[],X=this.getAssociatedNodes()
	X.forEach(function(Z){Y.push(Z.k)
	})
	return Y
	},onSelectionChange:function L(X){var Y=false
	if(this._super){Y=this._super(X)
	}return this.clearHighlightForSelectionChange(Y)
	},onContextMenuSelectionChange:function I(X){var Y=false
	if(this._super){Y=this._super(X)
	}return this.clearHighlightForSelectionChange(Y)
	},clearHighlightForSelectionChange:function U(Y){var X=this.getDocModelForEvent()
	if(this.clearsBrushingOnHighlight){X.raiseEvent({name:"clearBrush",from:this})
	}if(this.handlesMultiSelection()&&!Y){X.raiseEvent({name:"brushing",from:this,keys:this.getHighlightKeys()})
	return true
	}return false
	},onBrushing:function A(Y){var X=Y.keys.slice()
	var b=false,d=X.indexOf(this.k)!==-1
	if(!d){var Z=this.getDocModelForEvent(),a=Z.getNodePath(this.k,Z.getLayoutKeyByUnitKey(this.k))
	b=X.filter(function(e){return a.indexOf(e)>-1
	}).length>0
	}if(d||b){if(this.highlight){var c=Y.from
	this.highlight(c.getSelectionType(),c.getSelectionHash(),this.isVIXtab&&c.isVIXtab&&c.getSelectionType()==="att"&&this.model.hasRecursiveAttribute()&&c.model.hasRecursiveAttribute(),true)
	X.push(c.k)
	this.getDocModelForEvent().raiseEvent({name:"clearBrush",from:this,excludeKeys:X})
	}else{throw new Error(this.scriptClass+" must implement highlight method.")
	}}},onClearBrushing:function S(Y){var X=false
	if(K.indexOf(Y.excludeKeys,this.k)===-1){if(this._super){X=this._super(Y)
	}if(!X){var Z=this.getAssociatedNodes()
	if(K.find(Z,"k",Y.from.k)!==-1){this.clearSelections(true)
	}}}return true
	},highlight:function E(){O[G(this)]=arguments
	if(this._super){this._super.apply(this,arguments)
	}},clearSelections:function C(){delete O[G(this)]
	if(this._super){this._super.apply(this,arguments)
	}},clearAllHighlightsCache:function(){O={}
	},clearCxtMnuSelection:function D(){if(this._super){this._super.apply(this)
	}},clearHighlightsCache:function R(){delete O[G(this)]
	},updateAssociatedNodesOnMove:function N(){this.clearSelections(true)
	this.endSelections()
	if(this.isLinkedFilter&&this.isLinkedFilter()){return 
	}delete this.defn.an
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	function C(G,H,E){var F=G.createElement("input")
	F.name=H
	F.type="hidden"
	F.value=E
	return F
	}function B(K,J){J=J.substring(J.indexOf("?")+1,J.length)
	var M=J.split("&"),L="",G=""
	var N=/\+/g,H,E
	for(H=0,E=M.length
	H<E
	H++){var I=M[H].indexOf("=")
	if(I>=0){L=M[H].substring(0,I)
	G=M[H].substring(I+1)
	}else{L=M[H]
	G=""
	}if(G){G=decodeURIComponent(G.replace(N," "))
	}var F=document.createElement("INPUT")
	F.type="HIDDEN"
	F.name=L
	F.value=G
	K.appendChild(F)
	}return false
	}mstrmojo.form={createDynamicForm:function A(E,H){var F=document.createElement("FORM"),G=E.indexOf("?")>0
	F.name="dynamic_form"
	F.method=H||"POST"
	F.action=(G?E.substring(0,E.indexOf("?")):E)
	if(G){B(F,E)
	}document.body.appendChild(F)
	return F
	},sendLinkAsForm:function(E,G,H){var F=this.createDynamicForm(E,H)
	this.send({},F.action,F.method,G,null,null,F)
	},sendLink:function(E,H,I){var G=mstrmojo.array.indexOf(["_new","_blank"],H)>-1,F=!mstrmojo.isUrlExternal(E)
	if(!G&&F){mstrApp.showWait&&mstrApp.showWait({showCancel:true,onCancel:mstrApp.hideWait})
	}if(!mstrmojo.isUrlExternal(E)){mstrmojo.form.sendLinkAsForm(E,H,I)
	}else{if(G){window.open(E,H,"noopener,noreferrer")
	}else{window.location.href=E
	}}},createHiddenInput:function(G,F,H){var I=window.document
	var E=C(I,F,H)
	G.insertAdjacentElement("beforeEnd",E)
	return E
	},send:function D(L,M,F,O,J,H,G){var Q=((J&&J.hWin)||window).document,N=G||Q.createElement("form"),K=mstrApp
	L=mstrmojo.addCSRFTokenToTaskParams(L)
	N.method=F||"POST"
	if(O){N.target=O
	}N.action=M||K.name
	H=(H!==undefined)?H:!(N.action&&N.action.indexOf("aspx")>0)&&mstrConfig.addTimeStampToPreventCaching
	if(!!K.addJSessionIdToURL&&K.httpSessionId){N.action+="
	jsessionid="+K.httpSessionId
	}if(H){N.action+="
	uxts"+mstrmojo.now()
	}N.appendChild(C(Q,"xts",String(mstrmojo.now())))
	var R,E=K.persistTaskParams||microstrategy.persistParams
	for(R in E){L[R]=E[R]
	}if(K.servletState&&K.name){L[K.name]=K.servletState
	}else{if(microstrategy&&microstrategy.servletName&&microstrategy.servletState){L[microstrategy.servletName]=microstrategy.servletState
	}}if(L){if(N.method.toLowerCase()==="get"){delete L.validateRandNum
	}var I
	for(I in L){if(mstrmojo.array.isArray(L[I])){mstrmojo.array.forEach(L[I],function(S){N.appendChild(C(Q,I,S))
	})
	}else{N.appendChild(C(Q,I,L[I]))
	}}}Q.body.appendChild(N)
	try{this.safeSubmitForm(N)
	}catch(P){if(O&&P.result===2147500037&&!window.open("","","width=1,height=1,left=0,top=0,scrollbars=no")){mstrmojo.alert("*This action requires popups to be allowed in the browser.*")
	}else{mstrmojo.err("Form submission failed for an unknown reason.")
	}}},addURLAsHiddenInputsToForm:B,safeSubmitForm:function(J,I){if(!J){return 
	}try{if(J.target==="_blank"){var H=J.action
	var G=J.cloneNode(true)
	G.target="_self"
	var K=window.open("")
	K.opener=null
	var F=K.contentDocument||K.document
	G.action=H
	F.body.insertAdjacentElement("beforeEnd",G)
	G.submit()
	}else{J.submit()
	}}finally{if(!I){var E=J.parentElement
	if(E){E.removeChild(J)
	}}}}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var F=mstrmojo.array,E={},A={},C={},G="72px",H="abcdefghijklmnopqrstuvwxyz0123456789"
	function B(K){return K.name+":"+(K.isItalic?"i":"n")+(K.isBold?"7":"4")
	}mstrmojo.util.FontLoader=mstrmojo.provide("mstrmojo.util.FontLoader",{load:function J(O,N,S){var Q=this,P=[],K
	F.forEach(N,function(W){if(!Q.isFontInstalled(W)){K=B(W)
	if(!E[K]&&!A[K]){P.push(K)
	}}})
	if(!window.WebFont||P.length===0){return true
	}var U=O,R
	F.forEach(P,function(W){U=U+"
	"+W
	})
	this.cancelLoadRequests(U,false)
	R={active:S.success,inactive:S.failure}
	C[U]=R
	window.WebFont.load({custom:{families:P},fontactive:function(X,W){E[X+":"+W]=true
	},fontinactive:function(X,W){A[X+":"+W]=true
	},active:function M(){if(R.active){R.active()
	delete C[U]
	}},inactive:function L(){if(R.inactive){R.inactive()
	delete C[U]
	}}})
	return false
	},cancelLoadRequests:function D(M,N){var L
	if(N){var K
	for(K in C){if(C.hasOwnProperty(K)&&K.indexOf(M)===0){L=C[K]
	L.active=null
	L.inactive=null
	delete C[K]
	}}}else{if(C.hasOwnProperty(M)){L=C[M]
	L.active=null
	L.inactive=null
	delete C[M]
	}}},isFontInstalled:function I(L){var M=document.createElement("canvas"),N=M.getContext("2d"),R=L.isItalic?"italic":"normal",K=L.isBold?"bold":"normal",P=R+" "+K+" "+G,Q,O
	N.font=P+" monospace"
	Q=N.measureText(H).width
	N.font=P+" '"+L.name+"', monospace"
	O=N.measureText(H).width
	M=null
	return Q!==O
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var B=mstrmojo.array
	function A(C){if(C.parent){if(C.parent.shouldEllipsizeChildren===undefined){mstrmojo.mixin(mstrmojo._HasEllipsis,C.parent)
	}C.parent.set("shouldEllipsizeChildren",true)
	}}mstrmojo._HasEllipsis=mstrmojo.provide("mstrmojo._HasEllipsis",{shouldEllipsize:false,shouldEllipsizeChildren:false,doEllipsize:function(){if(this.shouldEllipsizeChildren){B.forEach(this.children,function(D,C){if(D.hasRendered&&D.doEllipsize){D.doEllipsize()
	}})
	}},onshouldEllipsizeChange:function(){this._onEllipsizeFlagChange(this.shouldEllipsize,this.shouldEllipsizeChildren)
	},onshouldEllipsizeChildrenChange:function(){this._onEllipsizeFlagChange(this.shouldEllipsizeChildren,this.shouldEllipsize)
	},_onEllipsizeFlagChange:function(D,C){if(D&&!C){A(this)
	this.markupMethods=mstrmojo.mixin({onvisibleChange:function(){if(this._super){this._super()
	}if(this.visible&&this.hasRendered){this.doEllipsize()
	}}},mstrmojo.hash.copy(this.markupMethods))
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var G=mstrmojo.array
	mstrmojo._HasBuilder={builder:null,postBuildRendering:function D(){if(!this.builtChildren){this.buildChildren()
	}return this._super()
	},getChildren:function F(){return this.model.getChildren(this.node,false)
	},buildChildren:function E(H){if(!this.builder||!this.model){return false
	}var J=this.children
	if(J&&J.length){this.set("children",[])
	}var I=this.builder.build(this.getChildren(),this.model,this.getBuildConfig())
	if(!H){this.addChildren(I)
	}this.builtChildren=true
	return H?I:true
	},getBuildConfig:function B(){var I=this._super&&this._super()
	var H=this.buildConfig=(this.buildConfig||I||{})
	H.pk=this.k
	H.fgk=this.defn&&this.defn.fgk
	return H
	},rebuildChildren:function C(J){var Q=this.children.slice(0),L=this.model,K=[],I,H=this,M=mstrApp.restoreVFKey,N,P
	J=J||Q.slice(0)
	J.forEach(function(U){var R=G.indexOf(Q,U),S=U.k
	if(R===-1){throw new Error("Invalid child requested rebuild in mstrmojo._HasBuilder::rebuildChild.")
	}this.removeChildren(U)
	U.destroy()
	K.push(S)
	},this)
	if(mstrApp.isInVFConfigMode&&(mstrApp.showBandingInVFConfigMode||mstrApp.showOutlineInVFConfigMode)&&!!J&&J.length===1&&!!J[0]&&J[0].k===M){delete mstrApp.showBandingInVFConfigMode
	delete mstrApp.showOutlineInVFConfigMode
	N=L.insertVizBox(M,H,{})
	L.selectVIUnit(N.id,true,{})
	I=[N]
	}else{P=L.getChildrenByKey(this.node,false,K)
	I=this.builder.build(P,L,this.getBuildConfig())
	var O={}
	G.forEach(J,function(R){O[R.k]=R.isNewUnitContainer
	})
	G.forEach(I,function(R){R.isNewUnitContainer=O[R.k]
	})
	this.addChildren(I)
	}return I
	},rebuildChild:function A(H){return this.rebuildChildren([H])[0]
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var E=mstrmojo.array
	mstrmojo._BindTargetChildren=mstrmojo.provide("mstrmojo._BindTargetChildren",{target:null,targetProps:null,addTabButtons:null,removeTabButtons:null,clearButtons:null,ontargetChange:function D(L){var M=L&&L.valueWas
	if(M){var J=this._targetSubs
	if(J){M.detachEventListener(J.add)
	M.detachEventListener(J.rem)
	M.detachEventListener(J.sel)
	}this.clearButtons()
	}var N=this.target
	if(N){var I=this.targetProps,H=(I&&I.children)||"children",F=N[H]
	this.addTabButtons(F,0)
	this._onTargetSelChg()
	if(N.attachEventListener){var G=this.id,K="attachEventListener"
	this._targetSubs={add:N[K]("addChild",G,"_onTargetAddChild"),rem:N[K]("removeChild",G,"_onTargetRemoveChild"),sel:N[K]("selectedChange",G,"_onTargetSelChg")}
	}}this._ontargetChange()
	},_ontargetChange:mstrmojo.emptyFn,_onTargetAddChild:function A(F){var G=F&&F.value
	if(G&&G.length){this.addTabButtons(G,F.index)
	}this._postTargetAddChild()
	},_postTargetAddChild:mstrmojo.emptyFn,_onTargetRemoveChild:function B(G){var F=G&&G.value,H
	for(H=((F&&F.length)||0)-1
	H>-1
	H--){this.removeTabButton(F[H])
	}this._postTargetRemoveChild()
	},_postTargetRemoveChild:mstrmojo.emptyFn,_onTargetSelChg:function C(L){var G=this.targetProps||{},F=this[G.names||"children"],J=function(O,P){if(O.set){O.set("selected",P)
	}else{O.selected=P
	}}
	if(L){var H=L.valueWas,K=H?E.find(F,"target",H):-1
	if(K>-1){J(F[K],false)
	}}var M=this.target,N=M&&M.selected,I=N?E.find(F,"target",N):-1
	if(I>-1){J(F[I],true)
	}this._postTargetSelChg()
	},_postTargetSelChg:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var B=mstrmojo.array
	mstrmojo._HasConditionLogicDIC=mstrmojo.provide("mstrmojo._HasConditionLogicDIC",{_mixinName:"mstrmojo._HasConditionLogicDIC",target:null,owner:null,applyChanges:function(){this._super&&this._super()
	var F=this.target||[],D=F.length,E
	for(E=0
	E<D
	E++){F[E].triggerValidateCondition()
	}},onvisibleChange:function(){this._super&&this._super()
	var F=this.target||[],D=F.length,E
	for(E=0
	E<D
	E++){F[E].triggerValidateCondition()
	}},updateCellsMap:function(E){var I="",G=this.getCurValue?this.getCurValue():this.value,H=this.getDisplayValue?this.getDisplayValue():G,F=this.k,D=this.owner
	if(E){D.updatedCellsMap[F]={r:I,v:{dv:H,v:G}}
	}else{if(D.updatedCellsMap[F]){delete D.updatedCellsMap[F]
	}}}})
	mstrmojo._CanRespondConditionChange=mstrmojo.provide("mstrmojo._CanRespondConditionChange",{_mixinName:"mstrmojo._CanRespondConditionChange",src:null,childDICs:null,owner:null,postBuildRendering:function(){var D=this.owner
	if(D){D.buildConditions(this)
	}if(this.src){this.childDICs=[]
	A.call(this,this.childDICs)
	this.triggerValidateCondition()
	}this._super()
	},onvisibleChange:function(){this._super&&this._super()
	var J=this.childDICs||[],F=J.length,E,H,G,D,I
	for(I=0
	I<F
	I++){E=J[I].owner.dics
	H=J[I].k
	D=B.find(E,"k",H)
	if(D>-1){G=E[D].mdf
	if(G){J[I].updateCellsMap(this.visible)
	}}J[I].set("visible",this.visible)
	}},triggerValidateCondition:function(){var D=true
	B.forEach(this.src,function(E){if(!C(E)){D=false
	}})
	this.applyConditionAction(D)
	},applyConditionAction:mstrmojo.emptyFn})
	function A(G){var F=this.children||[],D=F.length,E
	for(E=0
	E<D
	E++){if(F[E].dic){G.push(F[E])
	}else{A.call(F[E],G)
	}}}function C(H){var M=H.dic,D=M.value,J=M.visible,F=H.logic,I=[],G,E,L=null
	try{if(F[0]==="/"){I=F.split("/")
	G=I.pop()
	I.shift()
	E=I.join("/")
	L=new RegExp(E,G)
	}else{L=new RegExp(F)
	}if(!J||!L.test(D)){return false
	}}catch(K){return false
	}return true
	}})()
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var A=mstrmojo,D=A.array
	mstrmojo.vi.util.TemplateUtils=mstrmojo.provide("mstrmojo.vi.util.TemplateUtils",{getTemplateUnits:function B(G){if(D.isArray(G)){var F=[]
	D.forEach(G,function(H){F=F.concat(B(H))
	})
	return F
	}var E=[].concat(G.mx||[])
	(G.rows||[]).concat(G.cols||[]).forEach(function(H){if(H.did!=="-1"){E.push({did:H.did,t:H.t,n:H.n})
	}})
	return E
	},findUnitsById:function C(H,F){var E=mstrmojo.vi.util.TemplateUtils.getTemplateUnits(H),G=[]
	D.ensureArray(F).forEach(function(K){var J=D.find(E,"did",K),I=J>-1?E[J]:null
	if(I){G.push(I)
	}})
	return G
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.form")
	mstrmojo.vi.util.NavUtility=mstrmojo.provide("mstrmojo.vi.util.NavUtility",{checkSessionAndSendForm:function(C,A,E,B){var D=mstrApp.sessionManager
	if(D&&D.sessionTimedout){D.openLoginEditor({success:function(){if(B!=="_blank"&&B!=="mstrExportWindow"){mstrApp.showWait()
	}mstrmojo.form.send(C,A,E,B)
	}})
	}else{if(B!=="_blank"&&B!=="mstrExportWindow"&&C.evt!==3198){mstrApp.showWait()
	}mstrmojo.form.send(C,A,E,B)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.dom","mstrmojo.form")
	var F=mstrmojo.dom
	var A=mstrmojo.form
	function C(J,I,H,L){var G=J.getElementsByTagName(I)
	var K=mstrmojo.array.filter(G,function(M){return M.getAttribute(H)===L
	})
	return K[0]
	}function B(M){var K=document.getElementById(M),J=C(K,"input","name","myFile"),I=J.value,L=function(){if(F.isIE){var N=document.createElement("form")
	J.parentNode.insertBefore(N,J)
	N.appendChild(J)
	N.reset()
	N.removeNode(false)
	}}
	if(I===""){return 
	}else{if(/\.mstr$/.test(I.toLowerCase())){mstrApp.showWait(true)
	A.addURLAsHiddenInputsToForm(K,mstrmojo.addCSRFTokenToURL(mstrApp.name+"="+encodeURIComponent(mstrApp.servletState)))
	if(mstrApp.currentFolderId){var H=document.getElementById("import_folderID")
	H.value=mstrApp.currentFolderId
	}if(!C(K,"input","name","formId")){var G=document.createElement("input")
	G.type="hidden"
	G.name="formId"
	G.value=K.id
	K.appendChild(G)
	}K.submit()
	K.reset()
	}else{mstrmojo.alert(mstrmojo.desc(11227),null,mstrmojo.desc(11226))
	}}L()
	}function E(Q){var X=Q.status===200,K=Q.content,J=mstrApp.name,L=function(c){mstrApp.showWait()
	var b=document.getElementById(K.formId||"import_form"),a=[],Z=0,Y
	mstrmojo.hash.forEach(c,function(f,e){if(e==="folderId"){if(F.isIE8){var d=document.getElementById("import_folderID")
	if(d){d.value=f
	}}}else{Y=document.createElement("input")
	Y.type="hidden"
	Y.name=e
	Y.value=f
	b.appendChild(Y)
	a[Z++]=Y
	}})
	window.setTimeout(function(){b.submit()
	for(var d=0
	d<a.length
	d++){b.removeChild(a[d])
	}},0)
	}
	if(K&&K.messageID){var I=(K.fdid?K.fdid:"")
	if(K.isConflict){var P=function(){L({messageID:K.messageID,resume:true})
	},M=function(){var Y=mstrmojo.insert({scriptClass:"mstrmojo.ui.editors.RenameEditor",renameText:mstrmojo.string.decodeHtmlString(K.n),title:mstrmojo.desc(13052,"Upload"),zIndex:1002,onRename:function(Z){if(mstrmojo.string.isEmpty(Z)){mstrmojo.alert("Please enter a valid name",null,null,1004)
	return false
	}else{L({messageID:K.messageID,resume:true,dashboardName:Z})
	var a=mstrmojo.all.ImportNameConflictDialog
	if(a){a.destroy()
	}}}})
	Y.open()
	return false
	},H=function(){mstrApp.hideWait()
	}
	H()
	mstrmojo.confirm(mstrmojo.desc(15454,"The Dossier ## already exists. Do you want to replace the existing Dossier?").replace("##",("<strong>"+K.n+"</strong>")),null,{id:"ImportNameConflictDialog",title:mstrmojo.desc(13052,"Upload"),allowHTML:true,buttons:[mstrmojo.Button.newWebButton(mstrmojo.desc(219,"Yes"),P,true),mstrmojo.Button.newWebButton(mstrmojo.desc(3167,"Save As"),M,true),mstrmojo.Button.newWebButton(mstrmojo.desc(3416,"Cancel"),H)],onPreClose:function(){H()
	return true
	}})
	}else{L({messageID:K.messageID,folderId:I})
	}}else{if(X){var O=mstrmojo.addCSRFTokenToURL(J+"?evt=2001&src="+J+".2001"+((K&&K.fdid)?("&folderID="+K.fdid):"&systemFolder=20")),G=D(K.did),W=function(Y){if(this.parent===null&&this.close){this.close()
	}else{this.parent.parent.close()
	}if(Y){location.href=Y
	}},S=mstrmojo.emptyFn,R=function(){mstrmojo.mstr._ObjectActions.openSharingEditor(K.servletPath+G,{objectName:K.n,objId:K.did,objType:"55",mid:-1},false,{showLinkOnOpen:true})
	}
	if(!mstrmojo.resolveFeature("flashvi")&&(F.isIE8)){S=function(){W.call(this)
	mstrmojo.alert(mstrmojo.desc(15474))
	}
	}else{S=function(){W.call(this,G)
	}
	}var U=mstrApp.currentFolderName&&mstrApp.currentFolderName()
	var N=mstrmojo.insert({scriptClass:"mstrmojo.onetier.vi.ui.UploadResultEditor",folderName:U||"My Reports",dashboardName:K.n,okFn:function(){W.call(this,U&&O)
	},viewDashboardFn:S,shareDashboardFn:R})
	N.open()
	}else{mstrmojo.error({longDesc:Q.errorMsg})
	}mstrApp.hideWait(true)
	}}function D(K){var I=mstrApp.name,J,L
	if(mstrmojo.resolveFeature("flashvi")){J=2048001
	L={visMode:0}
	}else{J=3140
	L={}
	}L.documentID=K
	L.evt=J
	L.src=I+"."+J
	var G=[]
	for(var H in L){if(!L.hasOwnProperty(H)){continue
	}G.push(encodeURIComponent(H)+"="+encodeURIComponent(L[H]))
	}return mstrmojo.addCSRFTokenToURL(I+"?"+G.join("&"))
	}mstrmojo.mstr.ui.MstrFileUploadHelper={uploadDashboardFile:B,uploadCallback:E}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.color")
	var M=mstrmojo.color,E=M.getResponsiveFontColor.bind(M)
	var H={GRAY:mstrmojo.desc(null,"Gray"),BLUE:mstrmojo.desc(null,"Blue"),NAVY:mstrmojo.desc(null,"Navy Blue"),EMERALD:mstrmojo.desc(null,"Emerald"),ORANGE:mstrmojo.desc(null,"Orange")},K={GRAY:"gray",BLUE:"blue",NAVY:"navy",EMERALD:"emerald",ORANGE:"orange"},J={FLAT:mstrmojo.desc(7805,"Flat"),CLASSIC:mstrmojo.desc(125,"Classic"),CUSTOM:"Custom"},D={FLAT:"flat",CLASSIC:"classic",CUSTOM:"custom"}
	var F="#fff"
	var I={},L=E(F)
	I[D.FLAT]=[{n:H.GRAY,css:K.GRAY,iconBc:"#d1d1d1",fc:L,bc:F,bbc:"#ababab",brc:"#ebebeb",stbc:"#f8f8f8"},{n:H.BLUE,css:K.BLUE,iconBc:"#1c8dd4",fc:L,bc:F,bbc:"#1c8dd4",brc:"#ebebeb",stbc:"#f1f9f2"},{n:H.NAVY,css:K.NAVY,iconBc:"#193b67",fc:L,bc:F,bbc:"#193b67",brc:"#ebebeb",stbc:"#f2f4f6"},{n:H.EMERALD,css:K.EMERALD,iconBc:"#38ae6f",fc:L,bc:F,bbc:"#38ae6f",brc:"#ebebeb",stbc:"#f4fbf6"},{n:H.ORANGE,css:K.ORANGE,iconBc:"#e69912",fc:L,bc:F,bbc:"#e69912",brc:"#ebebeb",stbc:"#fef8f1"}]
	I[D.CLASSIC]=[{n:H.GRAY,css:K.GRAY,iconBc:"#d1d1d1",bc:"#f5f5f5",bbc:"#ebebeb",brc:"#ebebeb",fc:E("#f5f5f5"),stbc:"#f8f8f8"},{n:H.BLUE,css:K.BLUE,iconBc:"#1c8dd4",bc:"#1c8dd4",bbc:"#187ab8",brc:"#187ab8",fc:E("#1c8dd4"),stbc:"#f1f9fe"},{n:H.NAVY,css:K.NAVY,iconBc:"#193b67",bc:"#193b67",bbc:"#50698b",brc:"#50698b",fc:E("#193b67"),stbc:"#f2f4f6"},{n:H.EMERALD,css:K.EMERALD,iconBc:"#38ae6f",bc:"#38ae6f",fc:E("#38ae6f"),bbc:"#29965d",brc:"#29965d",stbc:"#f4fbf6"},{n:H.ORANGE,css:K.ORANGE,iconBc:"#e69912",bc:"#e69912",fc:E("#e69912"),bbc:"#ca850a",brc:"#ca850a",stbc:"#fef8f1"}]
	var C=2,A=3,G=4
	var B={}
	B[C]="ch"
	B[A]="rh"
	B[G]="va"
	mstrmojo.vi.models.editors.EnumXtabEditorModelStyles={ENUM_COLOR_NAME:H,ENUM_COLOR_CSS:K,ENUM_STYLE_DESC:J,ENUM_STYLE_NAME:D,COLOR_ITEMS:I,ENUM_TARGET_FORMAT:B,DEFAULT_TEMPLATE_PROPS:{rh:{bc:"#fff",bbc:"#ebebeb",brc:"#ebebeb"},va:{bc:"#fff",bbc:"#ebebeb",brc:"#ebebeb"},st:{rh:{bc:"#f8f8f8",bbc:"#ebebeb",brc:"#ebebeb"},va:{bc:"#f8f8f8",bbc:"#ebebeb",brc:"#ebebeb"}}}}
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.vi.enums.EnumThemeProperties")
	var A=mstrmojo.vi.enums.EnumThemeProperties,B=A.ENUM_LAYOUT_THEME
	mstrmojo.util.ThemeHelper=mstrmojo.provide("mstrmojo.util.ThemeHelper",{getThemePropConfig:function C(E){var F=E&&E.layoutTheme,D=E&&E.layoutstyle
	if(!F){F=!!D?B.DEFAULT:B.CLASSIC
	}return F===B.DEFAULT?A.DEFAULT_THEME_PROPS:A.CLASSIC_THEME_PROPS
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.locales")
	var e=mstrmojo.array,P=mstrmojo.meta.TP,G=mstrmojo.meta.STP,O=mstrmojo.hash,F={ANDOR:14,MQ:10,MC:12,AQ:2,AL:6,AC:9,AE:5,F:13,R:21,B:20,XML:1,RLS:15},B={}
	var Y
	for(Y in F){B[F[Y]]=true
	}var c={}
	c[F.AQ]="a"
	c[F.AL]="a"
	c[F.AC]="a"
	c[F.AE]="a"
	c[F.MQ]="m"
	c[F.MC]="m"
	c[F.F]="f"
	c[F.R]="r"
	c[F.XML]="p"
	c[F.ANDOR]="nds"
	var K={}
	K[F.MQ]=["not","m","fn","fnt","cs","dmy","idcsi"]
	K[F.MC]=["not","m","fn","fnt","m2","m3","p","dmy","idcsi"]
	K[F.AE]=["not","a","fn","es","a2","fm2","p"]
	K[F.AQ]=["not","a","fm","fn","cs"]
	K[F.AL]=["not","a","fm","fn","cs"]
	K[F.AC]=["not","a","fm","a2","fm2","a3","fm3","fn","cs"]
	K[F.R]=["not","r"]
	K[F.F]=["not","f"]
	K[F.XML]=["not","n","p"]
	K[F.ANDOR]=["not","node","nds","fn"]
	var M={}
	M[F.MQ]="METRIC_FNS"
	M[F.MC]="METRIC_FNS"
	M[F.AQ]="FORM_FNS"
	M[F.AL]="FORM_FNS"
	M[F.AC]="FORM_FNS"
	M[F.AE]="ELEM_FNS"
	var N={FILTER:1,REPORT:3,METRIC:4,FOLDER:8,PROMPT:10,FUNCTION:11,ATTR:12,FACT:13,DIM:14,FORM:21,ROLE:43,CONS:47},d={FILTER:256,CUSTOMGROUP:257,PROMPT:2560,PROMPT_BOOLEAN:2561,PROMPT_LONG:2562,PROMPT_STRING:2563,PROMPT_DOUBLE:2564,PROMPT_DATE:2565,PROMPT_OBJECTS:2566,PROMPT_ELEMENTS:2567,PROMPT_EXPRESSION:2568,PROMPT_EXPRESSION_DRAFT:2569,PROMPT_DIMTY:2570,PROMPT_BIGDECIMAL:2571,REPORT_GRID:768,REPORT_GRAPH:769,REPORT_ENGINE:770,REPORT_TEXT:771,REPORT_DATAMART:772,REPORT_BASE:773,REPORT_GRIDGRAPH:774,REPORT_NONINTERACTIVE:775,REPORT_CUBE:776,REPORT_EMMACUBE:779,RECURSIVE_ATTR:3076,CONS:12032,NDE:12033},U={a:N.ATTR,a2:N.ATTR,m:N.METRIC,m2:N.METRIC,r:N.REPORT,f:N.FILTER,p:N.PROMPT},W={f:d.FILTER}
	var X={}
	X[F.MQ]=N.METRIC
	X[F.MC]=N.METRIC
	X[F.AQ]=N.ATTR
	X[F.AL]=N.ATTR
	X[F.AC]=N.ATTR
	X[F.AE]=N.ATTR
	X[F.F]=N.FILTER
	X[F.R]=N.REPORT
	var J=function(g){var H=g.length,j={},h
	for(h=0
	h<H
	h++){var k=g[h]
	j[k.did]=k.n
	}return j
	},E=function(g){var H=g.length,h
	for(h=0
	h<H
	h++){var f=g[h]
	if("tp" in f){f.t=f.tp
	}}return g
	},Z=function(g,j){var H=g.length,h
	for(h=0
	h<H
	h++){var f=g[h]
	if("tp" in f){if(j){f.t=j
	}else{delete f.t
	}}}return g
	},b=function(f,h){if(!h){h=[]
	}h.length=0
	var g,H
	for(g=0,H=f.length
	g<H
	g++){h[g]=f[g]
	}return h
	},L={0:[{did:"1,76"},{did:"1,79"},{did:"1,77"},{did:"1,80"},{did:"1,78"},{did:"1,81"},{did:"1,18"},{did:"1,43"}],1:[{did:"2,1"},{did:"2,2"},{did:"3,1"},{did:"3,2"}]}
	var R={0:[{did:"1,22"},{did:"1,57"}]}
	mstrmojo.expr=mstrmojo.provide("mstrmojo.expr",{ET:F,ETs:B,ET2TGT:c,ET2COND:K,ET2TP:X,FN:{EQUAL:6,NOT_EQUAL:7,GREATER:8,LESS:9,GREATER_EQUAL:10,LESS_EQUAL:11,IN_LIST:22,NOT_IN_LIST:57,BETWEEN:17,NOT_BETWEEN:44,IS_NULL:54,IS_NOT_NULL:55,AND:19,OR:20,NOT:21,SEARCH:158,DESCENDANT:187},FN_MRP:{BETWEEN:3,EXCLUDE_TOP:4,EXCLUDE_BOTTOM:5,BETWEEN_DESCENDING:13},FNT:{DEF:1,RANK:2,PER:3},FN_SEP:",",TP:N,STP:d,DMY_TP:{ATTR:-1,DIM:-2},DTP:{UNKNOWN:-1,INTEGER:1,UNSIGNED:2,NUMERIC:3,DECIMAL:4,REAL:5,DOUBLE:6,FLOAT:7,CHAR:8,VARCHAR:9,LONGVARCHAR:10,BINARY:11,VARBIN:12,LONGVARBIN:13,DATE:14,TIME:15,TIMESTAMP:16,SHORT:21,LONG:22,MBCHAR:23,BOOLEAN:24,PATTERN:25,BIGDECIMAL:30,NUMERICALLOWSPERCENTAGE:49},BFTP:{RESERVED:0,HIDDEN:-1,DATETIME:1,NUMBER:2,TEXT:3,PICTURE:4,URL:5,EMAIL:6,TAG:7,DATE:8,TIME:9,SYMBOL:10,BIGDECIMAL:11,PHONENUMBER:12},METRIC_DTP:3,FN_DTP:{NUM:0,CHAR:1,DATE:2},DTP2PROMPT_STP:{"-1":d.PROMPT,1:d.PROMPT_LONG,2:d.PROMPT_LONG,3:d.PROMPT_LONG,4:d.PROMPT_DOUBLE,5:d.PROMPT_DOUBLE,6:d.PROMPT_DOUBLE,7:d.PROMPT_DOUBLE,8:d.PROMPT_STRING,9:d.PROMPT_STRING,10:d.PROMPT_STRING,14:d.PROMPT_DATE,15:d.PROMPT_DATE,16:d.PROMPT_DATE,21:d.PROMPT_LONG,22:d.PROMPT_LONG,23:d.PROMPT_STRING,24:d.PROMPT_BOOLEAN,30:d.PROMPT_BIGDECIMAL},DTP2FN_DTP:{"-1":0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:1,9:1,10:1,11:0,12:0,13:0,14:0,15:0,16:0,21:0,22:0,23:1,24:0,25:1,30:0,34:0},fnCstCount:function A(h,g){var j=this.FN,k=this.FN_MRP,H=this.FNT
	if(g===H.DEF||g===undefined){switch(h){case j.BETWEEN:case j.NOT_BETWEEN:return 2
	case j.IS_NULL:case j.IS_NOT_NULL:return 0
	}}else{if(g===H.PER||g===H.RANK){switch(h){case k.BETWEEN:case k.BETWEEN_DESCENDING:return 2
	}}}return 1
	},fn_List:function S(g,H){var h=this.FN
	return g==h.IN_LIST||g==h.NOT_IN_LIST
	},fn_AC_MC:function a(g,H){var h=this.FN
	return(g==h.EQUAL)||(g==h.NOT_EQUAL)||(g==h.GREATER)||(g==h.LESS)||(g==h.GREATER_EQUAL)||(g==h.LESS_EQUAL)
	},fnName:function Q(k,j,f,h){var H=this[M[k]]
	if(H&&H.constructor===Object){H=H[this.DTP2FN_DTP[h]]||H["*"]
	}if(k===F.MQ){H=H.concat(mstrmojo.locales.expression.MetricRP)
	}var g=e.find(H,"did",(f||1)+this.FN_SEP+j)
	if(g>-1){return H[g].n
	}return""
	},findTargets:function I(p,j,r){if(!r){r={}
	}if(p){var o
	for(o in U){var AB=p[o]
	if(AB){if(!AB[P]){AB[P]=U[o]
	}if(!AB[G]&&W[o]){AB[G]=W[o]
	}r[AB[j]]=AB
	}}if(p.dmy){var m=this.TP.ATTR,v=this.DMY_TP.ATTR,g=p.dmy.uts,AA,f
	for(AA=0,f=(g&&g.length)||0
	AA<f
	AA++){var n=g[AA]
	if(n&&n.utp===v){var l=n.utgt
	if(!l.t){l.t=m
	}r[l[j]]=l
	}}}var H=p.nds,q,x
	for(q=0,x=(H&&H.length)||0
	q<x
	q++){this.findTargets(H[q],j,r)
	}var w=p.cs,z=w&&w.length
	if(z){for(q=0
	q<z
	q++){this.findTargets(w[q],j,r)
	}}}return r
	},onLocaleUpdated:function(){var f=mstrmojo.locales.expression,H=mstrmojo.expr
	H.BRANCH_FNS=O.copy(J(f.BranchQual),H.BRANCH_FNS)
	H.ELEM_FNS=b(Z(f.Element,"fn"),H.ELEM_FNS)
	H.METRIC_FNS={"*":Z(e.filter(f.Metric.concat(f.MetricRP),function(g){return g.did&&(e.find(R["0"],"did",g.did)<0)
	}))}
	H.FORM_FNS={0:Z(e.filter(f.Attribute,function(g){return g.did&&(e.find(L["0"],"did",g.did)<0)
	})),1:Z(e.filter(f.Attribute,function(g){return g.did&&(e.find(L["1"],"did",g.did)<0)
	})),2:Z(e.filter(f.Attribute,function(g){return g.did&&(e.find(L["0"],"did",g.did)<0)&&(e.find(L["1"],"did",g.did)<0)
	}))}
	H.DIMTYLEVELS=b(Z(f.DimtyLevels),H.DIMTYLEVELS)
	},getSortedObjectsByTypeGroup:function D(j){var g=-1,H=0,f=1,h=2
	function k(l){switch(l.t){case N.METRIC:return f
	case N.ATTR:case N.DIM:case N.CONS:return H
	case N.FILTER:return l.st===d.CUSTOMGROUP?H:h
	case -1:return g
	default:return h
	}}j=e.map(j||[],function(l){return O.copy(l,{})
	})
	return j.sort(function(p,o){var q=k(p)-k(o)
	if(q){return q
	}var n=p.n.toUpperCase(),m=o.n.toUpperCase(),l=n.localeCompare(m)
	if(l){return l
	}return p.n.localeCompare(o.n)
	})
	},mapBaseFormTypeToDataType:function C(g){g=parseInt(g)
	if(g===NaN){return -1
	}var f=this.BFTP,H=this.DTP
	switch(g){case f.DATETIME:return H.TIMESTAMP
	case f.DATE:return H.DATE
	case f.TIME:return H.TIME
	case f.NUMBER:return H.REAL
	case f.TEXT:return H.CHAR
	case f.BIGDECIMAL:return H.BIGDECIMAL
	default:return H.CHAR
	}}})
	mstrmojo.expr.onLocaleUpdated()
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.locales")
	var Z=function(){return mstrmojo.locales.datetime
	},L=mstrmojo.string
	mstrmojo.date=mstrmojo.provide("mstrmojo.date",{monthNumbers:{Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12},REGEXPS:{DATES:{},TIMES:{}},CACHE:{PARSEDATE:{CONTAINS:{},EQUALS:{}},PARSETIME:{CONTAINS:{},EQUALS:{}}},now:Date.now||function D(){return new Date().getTime()
	},isDate:function a(d,h,c){var f=this.parseDate(d,c)
	var g=!!(f&&this.doesDateExist(f.month,f.day,f.year))
	if(h){if(g){var e=this.formatDateInfo(f,Z().DATEOUTPUTFORMAT)
	if(c){return{match:f.match,formatted:e}
	}return e
	}return null
	}return !!g
	},formatDateInfo:function R(f,h){if(!h){return""
	}var c=f.day,g=f.month,e=f.year
	var d=h.replace(/dd/g,this.formatInteger(c,2)).replace(/d/g,Number(c)).replace(/yyyy/g,Number(e)).replace(/yy/g,this.formatInteger(Number(e)%100,2)).replace(/MMM/g,"~~~~").replace(/MM/g,"@@").replace(/M/g,"^").replace(/MMMM/g,Z().MONTHNAME_FULL[Number(g)-1]).replace(/\~\~\~\~/g,Z().MONTHNAME_SHORT[Number(g)-1]).replace(/\@\@/g,this.formatInteger(g,2)).replace(/\^/g,Number(f.month))
	return d
	},parseDate:function b(n,h,l){if(n==null){return false
	}if(typeof n!=="string"){n=String(n)
	}n=L.trim(n)
	var c=this.CACHE.PARSEDATE[h?"CONTAINS":"EQUALS"],e=c[n]
	if(e||(e===null)){return e
	}var d=null
	var k
	if(l){k=[l]
	}else{k=[].concat(Z().DATEINPUTFORMATS)
	k.unshift(Z().DATEOUTPUTFORMAT)
	}var f,g
	for(f=0,g=k.length
	f<g
	f++){var j=this._buildRegExp4DateFormat(k[f]),m=j&&n.match(h?j.reContains:j.reEquals)
	if(m){d={match:m[0],year:j.yearIndex&&this.fourDigitYear(m[j.yearIndex]),day:j.dayIndex&&parseInt(Number(m[j.dayIndex]),10),month:j.monthIndex&&this.numericMonth(m[j.monthIndex])}
	break
	}}c[n]=d
	return d
	},isTime:function I(d,g,c){var h=this.parseTime(d,c)
	var f=!!(h&&this.doesTimeExist(h.hour,h.min,h.sec))
	if(g){if(f){var e=this.formatTimeInfo(h,Z().TIMEOUTPUTFORMAT)
	if(c){return{match:h.match,formatted:e}
	}return e
	}return null
	}return !!f
	},parseTime:function J(o,h,m){if(o==null){return false
	}if(typeof o!=="string"){o=String(o)
	}o=L.trim(o)
	var c=this.CACHE.PARSETIME[h?"CONTAINS":"EQUALS"],e=c[o]
	if(e||(e===null)){return e
	}var d=null
	var l
	if(m){l=[m]
	}else{l=[].concat(Z().TIMEINPUTFORMATS)
	l.unshift(Z().TIMEOUTPUTFORMAT)
	}var f,g
	for(f=0,g=l.length
	f<g
	f++){var k=this._buildRegExp4TimeFormat(l[f]),n=k&&o.match(h?k.reContains:k.reEquals)
	if(n){var j=k.ampmIndex&&n[k.ampmIndex]
	d={match:n[0],hour:k.hourIndex&&this.capitalHour(n[k.hourIndex],j),min:k.minIndex&&parseInt(Number(n[k.minIndex]),10),sec:k.secIndex&&parseInt(Number(n[k.secIndex]),10)}
	break
	}}c[o]=d
	return d
	},formatTimeInfo:function S(f,d){if(!d){return""
	}var e=!(Number(f.hour)%12)?12:(Number(f.hour)%12),c=d.replace(/HH/g,this.formatInteger(f.hour,2)).replace(/H/g,Number(f.hour)).replace(/hh/g,this.formatInteger(e,2)).replace(/h/g,e).replace(/mm/g,this.formatInteger(Number(f.min)||0,2)).replace(/m/g,Number(f.min)||0).replace(/ss/g,this.formatInteger(Number(f.sec)||0,2)).replace(/s/g,Number(f.sec)||0).replace(/a/g,(Number(f.hour)<12)?Z().AM_NAME:Z().PM_NAME).replace(/tt/g,(Number(f.hour)<12)?Z().AM_NAME:Z().PM_NAME).replace(/AM\/PM/g,(Number(f.hour)<12)?Z().AM_NAME:Z().PM_NAME)
	return c
	},doesTimeExist:function G(j,d,g){var f=parseInt(j,10)
	if(f>=0&&f<=23){var c=parseInt(d,10)
	if(c>=0&&c<=59){if(!g){return true
	}var e=parseInt(g,10)
	if(e>=0&&e<=59){return true
	}}}return false
	},capitalHour:function C(c,d){c=parseInt(Number(c),10)
	if(d&&(d.match(Z().AM_NAME)||d.match(/AM/i))){return c%12
	}if(d&&(d.match(Z().PM_NAME)||d.match(/PM/i))){return 12+(c%12)
	}return c
	},getTimeStamp:function O(){var d=new Date()
	var c=[d.getMonth()+1,d.getDate(),d.getFullYear()]
	var g=[d.getHours(),d.getMinutes(),d.getSeconds()]
	var f=(g[0]<12)?"AM":"PM"
	g[0]=(g[0]<12)?g[0]:g[0]-12
	g[0]=g[0]||12
	for(var e=1
	e<3
	e++){if(g[e]<10){g[e]="0"+g[e]
	}}return c.join("-")+" "+g.join("")+" "+f
	},isDateAndOrTime:function X(c,d){return this.isDateTime(c,d)||this.isDate(c,d)||this.isTime(c,d)
	},isDateTime:function B(m,c){var g=this.parseDateAndOrTime(m),k=g&&g.date,f=g&&g.time,j=!!k&&!!f&&this.doesDateExist(k.month,k.day,k.year)&&this.doesTimeExist(f.hour,f.min,f.sec)
	if(c){if(j){var d=this.formatDateInfo(k,Z().DATEOUTPUTFORMAT),e=this.formatTimeInfo(f,Z().TIMEOUTPUTFORMAT),l=m.indexOf(k.match),h=m.indexOf(f.match)
	return(h<l)?e+" "+d:d+" "+e
	}return null
	}return !!j
	},parseDateAndOrTime:function Q(d,c,h){var e=this.parseDate(d,true,c)
	var f=L.trim((e&&e.match)?d.replace(e.match,""):d),g=this.parseTime(f,false,h)
	if(!e&&!g){return null
	}return{date:e,time:g}
	},inDateTimeRange:function P(e,g,k){var d=this.parseDateAndOrTime(e),h=d&&d.date,l=d&&d.time
	if(!h&&!l){return 0
	}if(g!=null){var f=this.parseDateAndOrTime(g)
	if(h&&f&&f.date){var m=this.compareDate(h,f.date)
	if(m<0){return -1
	}if(m==0){if(l&&f.time&&(this.compareTime(l,f.time)<0)){return -1
	}}}}if(k!=null){var c=this.parseDateAndOrTime(k)
	if(h&&c&&c.date){var j=this.compareDate(h,c.date)
	if(j>0){return 1
	}if(j==0){if(l&&c.time&&(this.compareTime(l,c.time)>0)){return 1
	}}}}return 0
	},compareDate:function A(e,c){if(e===c){return 0
	}var f=typeof e==="string"?this.parseDate(e):e,d=typeof c==="string"?this.parseDate(c):c
	if(!f){return -1
	}if(!d){return 1
	}return(f.year-d.year)||(f.month-d.month)||(f.day-d.day)||0
	},compareTime:function K(d,c){if(d===c){return 0
	}var f=typeof d==="string"?this.parseTime(d):d,e=typeof c==="string"?this.parseTime(c):c
	if(!f){return -1
	}if(!e){return 1
	}return(f.hour-e.hour)||(f.min-e.min)||(f.sec-e.sec)||0
	},compareDateTime:function W(d,c){return this.compareDate(d,c)||this.compareTime(d,c)
	},compareDateAndOrTime:function E(k,h){if(k===h){return 0
	}var d=typeof k==="string"?this.parseDateAndOrTime(k):k,c=typeof h==="string"?this.parseDateAndOrTime(h):h
	if(!d){return -1
	}if(!c){return 1
	}var j=d.date,g=c.date,f=d.time,e=c.time
	return this.compareDate(j,g)||this.compareTime(f,e)
	},_buildRegExp4DateFormat:function N(e){if(!e){return null
	}var g=this.REGEXPS.DATES[e]
	if(!g){if(!this.REGEXPS.MONTHNAME_FULL){this.REGEXPS.MONTHNAME_FULL=Z().MONTHNAME_FULL.join("|")
	this.REGEXPS.MONTHNAME_SHORT=Z().MONTHNAME_SHORT.join("|")
	}g=this.REGEXPS.DATES[e]={}
	g.formatStr=e
	var d=g.reStr=e.replace(/([^M|d|y|\s])/g,"\\$1").replace(/dd/g,"~~~~").replace(/d/g,"(\\d{1,2})").replace(/\~\~\~\~/g,"(\\d\\d)").replace(/yyyy/g,"(\\d\\d\\d\\d)").replace(/yy/g,"(\\d\\d)").replace(/MMMM/g,"@@@@").replace(/MMM/g,"@@@").replace(/MM/g,"(\\d\\d)").replace(/M/g,"(\\d{1,2})").replace("@@@@","("+this.REGEXPS.MONTHNAME_FULL+")").replace("@@@","("+this.REGEXPS.MONTHNAME_SHORT+")")
	g.reEquals=new RegExp("^"+d+"$")
	g.reContains=new RegExp("^"+d+"\\b")
	var h=[{key:"monthIndex",index:e.indexOf("M")},{key:"dayIndex",index:e.indexOf("d")},{key:"yearIndex",index:e.indexOf("y")}]
	h.sort(function(k,j){return k.index-j.index
	})
	var c=1,f
	for(f=0
	f<3
	f++){g[h[f].key]=h[f].index>-1?c++:null
	}}return g
	},_buildRegExp4TimeFormat:function F(f){if(!f){return null
	}var h=this.REGEXPS.TIMES[f]
	if(!h){if(!this.REGEXPSTR_AMPM){this.REGEXPSTR_AMPM=[Z().AM_NAME,Z().PM_NAME,String(Z().AM_NAME).toLowerCase(),String(Z().PM_NAME).toLowerCase()].join("|")
	}h=this.REGEXPS.TIMES[f]={}
	h.formatStr=f
	var e=f.replace(/\'\'/g,'"')
	var j=e.match(/\'(.+?)\'/g)
	e.replace(/\'(.+?)\'/g,"*")
	e=e.replace(/([^H|h|m|s|z|Z|a|t|\s|A|P|M|\/])/g,"\\$1").replace(/HH|hh/g,"(\\d\\d)").replace(/H|h/g,"(\\d{1,2})").replace(/mm/g,"(\\d\\d)").replace(/m/g,"(\\d{1,2})").replace(/ss/g,"(\\d\\d)").replace(/s/g,"(\\d{1,2})").replace(/a/g,"("+this.REGEXPSTR_AMPM+")").replace(/AM\/PM/,"("+this.REGEXPSTR_AMPM+")").replace(/tt/g,"("+this.REGEXPSTR_AMPM+")").replace(/z|Z/g,"(.+?)")
	var g,c
	for(g=1,c=(j&&j.length)||0
	g<c
	g++){e=e.replace(/\*/,j[g])
	}e=e.replace(/\"/g,"'")
	h.reEquals=new RegExp("^"+e+"$")
	h.reContains=new RegExp(e)
	var k=[{key:"hourIndex",index:f.search(/h|H/)},{key:"minIndex",index:f.indexOf("m")},{key:"secIndex",index:f.indexOf("s")},{key:"ampmIndex",index:f.search(/tt|a|AM\/PM/)},{key:"zoneIndex",index:f.search(/z|Z/)}]
	k.sort(function(m,l){return m.index-l.index
	})
	var d=1
	for(g=0
	g<5
	g++){h[k[g].key]=k[g].index>-1?d++:null
	}}return h
	},doesDateExist:function M(f,c,d){var e=new Date(d,f-1,c)
	return d==e.getFullYear()&&f==e.getMonth()+1&&c==e.getDate()
	},fourDigitYear:function U(d){d=parseInt(Number(d),10)
	if(!isNaN(d)){var c=(Z().TWODIGITYEARSTART%100)||0
	if(d>=0&&d<=c){d=2000+d
	}else{if(d>c&&d<100){d=1900+d
	}}}return d
	},numericMonth:function Y(g){var f=parseInt(Number(g),10),e=mstrmojo.array
	if(!isNaN(f)){return f
	}var c=(g&&g.length)||0,d=-1
	if(c){if(c<=3){d=e.indexOf(Z().MONTHNAME_SHORT,g)
	}if(d===-1){d=e.indexOf(Z().MONTHNAME_FULL,g)
	}}return d+1
	},formatInteger:function H(e,d){var h=String(e),g=Math.max(d-h.length,0)
	if(g>0){var c=[h],f
	for(f=1
	f<=g
	f++){c.push("0")
	}h=c.reverse().join("")
	}return h
	},getFirstDateOfMonth:function(d,c){return new Date(d,c-1,1)
	},getDateObject:function(j,c,h,f,g,e){j=j||0
	c=c||1
	h=h||1
	f=f||0
	g=g||0
	e=e||0
	return new Date(j,c-1,h,f,g,e)
	},getDateFromDateInfo:function(c){return this.getDateObject(c.date&&c.date.year,c.date&&c.date.month,c.date&&c.date.day,c.time&&c.time.hour,c.time&&c.time.min,c.time&&c.time.sec)
	},getDateJson:function(c){return{year:c.getFullYear(),month:c.getMonth()+1,day:c.getDate(),hour:c.getHours(),min:c.getMinutes(),sec:c.getSeconds()}
	},isLeapYear:function(c){return !(c%400)||(!(c%4)&&!!(c%100))
	},getDaysOfMonth:function(e,c){var d=[31,28,31,30,31,30,31,31,30,31,30,31]
	if(c==2&&this.isLeapYear(e)){return 29
	}return d[c-1]
	},getPreMonth:function(d,c){if(c===1){return{y:d-1,m:12}
	}return{y:d,m:c-1}
	},getNextMonth:function(d,c){if(c===12){return{y:d+1,m:1}
	}return{y:d,m:c+1}
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.locales","mstrmojo.string","mstrmojo.array")
	var N=mstrmojo.locales,J=mstrmojo.string,Q=window.mstrConfig,G=mstrmojo.array,D=Q.units,S={CM:1,IN:2,MM:3,PT:4,PC:5,PX:6},B={1:"cm",2:"in",3:"mm",4:"pt",5:"pc",6:"px"},F={DEFAULT:-2,FIXED:0,CURR:1,PERCENT:4,FRACTION:5,SCIENTIFIC:6,GENERAL:9}
	var H=96
	String.prototype.reverse=function(){var X="",W
	for(W=this.length
	W>0
	--W){X+=this.charAt(W-1)
	}return X
	}
	function L(W,Y){W=W||""
	Y=Y||W.match(/\".+?\"/g)||[]
	for(var X=0
	X<Y.length
	X++){W=W.replace(Y[X],Y[X].substring(1,Y[X].length-1).replace(/\$/g,"$$$$"))
	}return W
	}function U(b){var W=86400000,a=new Date(1900,0,1,0,0,0,0),X=Math.floor(b)-1,Z=b-X-1
	if(b>=59){X--
	}var Y=new Date(a.getTime()+(X*W))
	Y.setTime(Y.getTime()+Z*W+500)
	return Y
	}function I(a,h,l){var b={"d+":a.getDate(),"h+|H":a.getHours(),"s+":a.getSeconds()},W=N.datetime,c
	if(/(y+)/.test(h)){var Z=a.getFullYear().toString(),g=RegExp.$1,Y=g.length===2,X=Z.length
	h=h.replace(g,Z.substr(Y?X-2:0,Y?2:X))
	}if(/(^\[h\])/.test(h)&&l){h=h.replace(RegExp.$1,""+(Math.floor(l*24)))
	}if(/(\"?:\"?mm)/.test(h)){var d=a.getMinutes()
	h=h.replace(RegExp.$1,":"+(RegExp.$1.length===1?d:("00"+d).substr(d.toString().length)))
	}if(/(AM\/PM)/.test(h)){var j=b["h+"],e=j>11
	b["h+"]=j-(e?12:0)
	h=h.replace(RegExp.$1,e?"PM":"AM")
	}for(c in b){if(new RegExp("("+c+")").test(h)){h=h.replace(RegExp.$1,RegExp.$1.length===1?b[c]:("00"+b[c]).substr((b[c].toString()).length))
	}}if(/(mmmm)/.test(h)){h=h.replace(RegExp.$1,W.MONTHNAME_FULL[a.getMonth()])
	}else{if(/(mmm)/.test(h)){h=h.replace(RegExp.$1,W.MONTHNAME_SHORT[a.getMonth()].substr(0,3))
	}else{if(/((m|M)+)/.test(h)){var f=(a.getMonth()+1).toString()
	h=h.replace(RegExp.$1,RegExp.$1.length===1?f:("00"+f).substr(f.length))
	}}}return L(h)
	}function O(X,a){var Y=0,W=a.length,Z=0
	for(
	Y<W
	Y++){if(a[Y]==="0"){Z++
	}else{if(a[Y]==="#"){if(Z<X){Z++
	}}else{continue
	}}}return Z
	}mstrmojo.num=mstrmojo.provide("mstrmojo.num",{isInt:function E(W){var Z=this.getThousand(),Y=new RegExp("^(-)?[0-9]{1,3}(\\"+Z+"[0-9]{3})*$"),X=new RegExp("^(-)?[0-9]+$")
	return(String(W).indexOf(Z)&&Y.test(W))||X.test(W)
	},isNumeric:function P(b,c){var a=this.getDecimal(),d=this.getThousand(),Z=c?"%?":"",Y=new RegExp("^(-)?[0-9]{1,3}(\\"+d+"[0-9]{3})*(\\"+a+"[0-9]+)?"+Z+"$"),X=new RegExp("^(-)?[0-9]*(\\"+a+")?[0-9]+"+Z+"$"),W=new RegExp("^(-)?[0-9]{1}(\\"+a+")[1-9]+[eE]{1}[-]{0,1}[0-9]+"+Z+"$")
	return(String(b).indexOf(d)&&Y.test(b))||X.test(b)||W.test(b)
	},isBigDecimal:function(X){if(!X){return false
	}var W=String(X).match(/^#([^#]+)#$/)
	if(!W||W.length<=1){return false
	}var Y=W[1]
	return this.isNumeric(Y)
	},parseInteger:function M(W,X){if(!this.isInt(W)){return Number.NaN
	}return parseInt(this.toString(W,true),X)
	},parseNumeric:function C(W){if(!this.isNumeric(W)){return Number.NaN
	}return parseFloat(this.toString(W,true))
	},parseEnhNumeric:function A(W){if(!this.isNumeric(W,true)){return Number.NaN
	}if(W.indexOf("%")!==-1){return parseFloat(this.toString(W.replace("%",""),true))/100
	}return parseFloat(this.toString(W,true))
	},parseBigDecimal:function(W){return String(W).match(/^#(.+)#$/)[1]
	},inNumericRange:function R(X,Y,W){X=this.parseNumeric(X)
	W=(W!=null)?this.parseNumeric(this.toLocaleString(W)):Number.NaN
	Y=(Y!=null)?this.parseNumeric(this.toLocaleString(Y)):Number.NaN
	if(W!=Number.NaN&&(X>W||isNaN(X))){return 1
	}if(Y!=Number.NaN&&(X<Y||isNaN(X))){return -1
	}return 0
	},convertToUSUnits:function(Z,Y,X){var W=Z
	Y=Y||D
	switch(parseInt(Y,10)){case S.CM:W=parseFloat(this.toString(Z))/2.54+""
	break
	case S.MM:W=parseFloat(this.toString(Z))/25.4+""
	break
	case S.PT:W=parseFloat(this.toString(Z))/72+""
	break
	case S.PC:W=parseFloat(this.toString(Z))/6+""
	break
	case S.PX:W=parseFloat(this.toString(Z))/H+""
	break
	}return X?W:this.toLocaleString(W)
	},convertToLocalUnits:function(Z,Y,X){var W
	Y=Y||D
	switch(parseInt(Y,10)){case S.CM:W=(parseFloat(this.toString(Z))*2.54).toFixed(4)+""
	break
	case S.MM:W=(parseFloat(this.toString(Z))*25.4).toFixed(4)+""
	break
	case S.PT:W=(parseFloat(this.toString(Z))*72).toFixed(4)+""
	break
	case S.PC:W=(parseFloat(this.toString(Z))*6).toFixed(4)+""
	break
	case S.PX:Z=parseFloat(this.toString(Z))*H
	W=parseInt(Z)==Z?Z+"":Z.toFixed(4)+""
	break
	default:W=parseFloat(this.toString(Z)).toFixed(4)+""
	}return X?W:this.toLocaleString(W)
	},convertUnits:function(X,Y,W){return this.convertToLocalUnits(this.convertToUSUnits(W,X,true),Y,true)
	},toLocaleString:function(X,W){var Y=(X+"").replace(".",this.getDecimal())
	if(W){return this.addSeparators(Y,this.getThousand())
	}return Y
	},toString:function(Y,W){if(W===true){var X=this.getThousandSepRegex()
	if(X){Y=String(Y).replace(X,"")
	}}return String(Y).replace(this.getDecimal(),".")
	},getThousandSepRegex:function(){if(this.thousandSeparatorRegex==null){this.thousandSeparatorRegex=new RegExp(this.getThousand().replace(/(\W){1}/g,"\\$1"),"g")
	}return this.thousandSeparatorRegex
	},addSeparators:function(Y,X){var W=X
	if(X=="."||X=="*"||X=="\\"){W="\\"+X
	}return Y.reverse().replace(/(\d{3})/g,"$1"+X).reverse().replace(new RegExp("^(-)?"+W),"$1")
	},addSeparators2:function(Z,Y){var W=Z,X=/(\d+)(\d{3})/
	while(X.test(W)){W=W.replace(X,"$1"+Y+"$2")
	}return W
	},format:function(a,Z,d,W){var c="",b=(Z>0)?".":"",X=[]
	d=(d)?d:""
	for(var Y=0
	Y<Z
	Y++){X.push("0")
	}X=X.join("")
	switch(a){case F.GENERAL:c="0.00"
	break
	case F.PERCENT:c="0"+b+X+"%"
	break
	case F.SCIENTIFIC:c="0"+b+X+"E+00"
	break
	default:c='"'+d+'"#,##0'+b+X
	}return this.formatByMask(c,W)
	},getDecimalLength:function K(Y){var W=Y.indexOf("."),Z=0
	if(W!==-1){var X=Y.substr(W+1,Y.length).match(/\d+/)
	if(X&&X.length>0){Z=X[0].length
	}}return Z
	},formatByMask:function(AL,Ad,AJ){var AD,p="",w,Ah=false
	if(isNaN(Ad)){AD=new Date(Ad)
	if(isNaN(AD)||!Date.parse(Ad)){return Ad
	}w=true
	}if(AL==="General"){if(String(parseFloat(Ad)).indexOf(".")>-1){var AH=AJ?String(parseFloat(Ad)):String(parseFloat(Ad).toFixed(2))
	p=AH.split(".")
	if(p.length===2){return p.join(this.getDecimal())
	}return AH
	}if(isNaN(Ad)){return Ad
	}return String(parseFloat(Ad))
	}var u=String(AL).split("
	"),Z=u[0],l="\u00A4",AW=/"[^"]*"/g,o=(AL&&AL.replace(AW,l).replace(/\[.*\]/g,l))||"",Ac=["m","y","d","h","s"],AR=false
	G.forEach(Ac,function(j){AR=AR||o.indexOf(j,0)!==-1
	})
	if(AR){if(window.SSF&&!Ah){p=this.formatBySSF(AL,Ad)
	Ah=true
	}if(p!==""){return p
	}else{return I(w?AD:U(Ad),AL,Ad)
	}}var AP=Z.indexOf("E+"),f=Z.indexOf("%"),AA=Z.match(/\".+?\"/g),AG=Z.match(/\[([=<>]*)(-?\d+\.?\d*)\]/),AB=Z.indexOf("?/?")>-1,AI=(AP!=-1)?F.SCIENTIFIC:((f!=-1)?F.PERCENT:((AA&&!AG)?F.CURR:AB?F.FRACTION:F.FIXED)),t="",AY="",q=false,X=new String(Ad),e=parseFloat(Ad)||this.parseNumeric(Ad)
	if(AA){if(Z.match(/\[\$.+?\]/g)){for(var g=0
	g<AA.length
	g++){Z=Z.replace(AA[g],AA[g].substring(1,AA[g].length-1))
	if(AA[g].match(/\[\$.+?\]/g)){AA[g]=AA[g].replace(/\[\$.+?\]/g,AA[g][AA[g].indexOf("[$")+2])
	}}Z=Z.replace(/\[\$.+?\]/g,'"#"'.replace("#",Z[Z.indexOf("[$")+2]))
	}t=L(Z,AA)
	t=t.replace(Z.replace(/\".+?\"/g,""),l)
	}if(e<0){X=X.substring(1,X.length)
	e=-e
	q=true
	if(u.length>1){var c=u[1].replace(/\[.*\]/,"")
	AY=L(c.replace(u[0],l))
	}}var n=this,d=function(v,j){var m=j&&j.replace(l,v)
	if(j&&(m===j)&&window.SSF){if(Ah){return v
	}else{Ah=true
	return n.formatBySSF(j,v)
	}}return(j)?m:"-"+v
	}
	if(AI===F.FRACTION){var AU,AT,Ab,r=10,AC,z=0,AN,AX,a,Y=false,AK
	if(AL.indexOf("# ")>-1){Y=true
	}for(AU=5
	AU>0
	AU--){AK="/"
	for(AT=0
	AT<AU
	AT++){AK+="?"
	}if(AL.indexOf(AK)>-1){for(AT=1
	AT<AU
	AT++){r*=10
	}break
	}}if(Y){z=Math.floor(Number(e))
	e-=z
	}AX=r/2
	Ab=-1
	AN=e*r
	for(AU=r-1
	AU>=2
	AU--){a=(AN*AU)/r
	a=a-Math.floor(a)
	a=a*r
	if(Math.abs(a-r)<a){a=Math.abs(a-r)
	}a=a/AU
	if(a<AX){AX=a
	Ab=AU
	}else{if((a==AX)&&(a==0)){AX=a
	Ab=AU
	}}}AC=Math.round(Ab*AN/r)
	for(AU=Ab
	AU>=2
	AU--){if((AC%AU==0)&&(Ab%AU==0)){AC=AC/AU
	Ab=Ab/AU
	break
	}}if(Ab==r){Ab=1
	AC=0
	}if(AC==0){Ab=1
	}if(AC==Ab){if(Y){p=""+(z+1)
	}else{p="1"
	}}else{if(Y&&z>0){if(AC==0){p=z
	}else{p=z+" "+AC+"/"+Ab
	}}else{if(AC==0){p="0"
	}else{p=AC+"/"+Ab
	}}}if(q){p=d(p,AY)
	}}else{if(AI==F.SCIENTIFIC){if(e!=0){var Af=Math.floor(Math.log(e)/Math.LN10),AS=e/Math.pow(10,Af),Ag=Z.substring(0,AP),k=Ag.indexOf("."),AM=Z.length-Z.indexOf("E+")-(""+Math.abs(Af)).length-2,AU,W=Af<0
	Af=Math.abs(Af)
	for(AU=0
	AU<AM
	AU++){Af="0"+Af
	}p+=Number(AS).toFixed((k!=-1)?Ag.length-k-1:0)
	p=((q)?d(p,AY):p)+"E"+(W?"-":"+")+Af
	}else{p="0"
	}}else{if(AI==F.PERCENT){Z=Z.substring(0,Z.length-1)
	X=String(e*100)
	}var k=Z.indexOf("."),b=0,Aa,x=k>=0?Z.substring(0,k):Z,AE=k>=0?Z.substring(k+1,Z.length):"",h=false
	if(x.match(/[#0\?],$/)){e/=1000
	X=String(e)
	}else{if(AE.match(/^[#0]*,/)){var AF=0
	h=true
	while(AF<AE.length){if(AE[AF]==="0"||AE[AF]==="#"){AF++
	}else{if(AE[AF]===","){e/=1000
	X=String(e)
	AF++
	}else{break
	}}}}}Aa=this.getDecimalLength(X)
	if(k!=-1){b=O(Aa,Z.substr(k+1,Z.length))
	}if(X.indexOf("e")===-1||X.indexOf("e-")>-1){p=String((+(Math.round(+(X.indexOf("e")>0?String(parseFloat(X).toFixed(Math.min(b+2,20))):X+"e"+Math.min(b,20)))+"e"+-Math.min(b,20))).toFixed(Math.min(b,20)))
	}else{p=X
	var Ae=p.split("e")
	Ae[0]=parseFloat(Ae[0]).toFixed(2).toString()
	p=Ae.join("e")
	if(AI==F.CURR){p=t.replace(l,p)
	if(p===t&&window.SSF){p=this.formatBySSF(AL,Ad,p)
	Ah=true
	}}if(AI==F.PERCENT){p+="%"
	}if(q){p=d(p,AY)
	}return p
	}if(AI===F.FIXED&&window.SSF){var AV
	if(/[\[\]><=A-Za-z]|,{2}/.test(Z)){AV=this.formatBySSF(AL,Ad)
	p=AV!==""?AV:p
	Ah=true
	}var AQ=q?AY:Z
	if(/^\s*[\+-]{1}[#,.0]+/.test(AQ)){AV=this.formatBySSF(AQ,Math.abs(Ad))
	p=AV!==""?AV:p
	Ah=true
	}}var AZ=p.split(".")
	var AO=Z.replace(/"[^"]*"/g,"").match(/[#\d]+[^\.\d#]+[#\d]+/)
	if(AO!==null){if(AI===F.CURR){AZ[0]=(this.formatBySSF((h?AO[0]&&AO[0].trim():AO.input&&AO.input.trim()),parseFloat(AZ[0]))||"").split(".")[0]
	Ah=true
	}if(AZ[0].indexOf(",")>=0){AZ[0]=AZ[0].replace(/,/g,this.getThousand())
	}else{if(!(this.getThousand()===","&&AZ[0].search(this.getThousand())>0)){AZ[0]=this.addSeparators2(AZ[0],this.getThousand())
	}}}p=AZ.join(this.getDecimal())
	if(AI==F.CURR){p=t.replace(l,p)
	if(p===t&&window.SSF){p=this.formatBySSF(AL,Ad,p)
	Ah=true
	}}if(AI==F.PERCENT){p+="%"
	}if(q){p=d(p,AY)
	}}}return p
	},formatBySSF:function(Y,X,Z){var W=(Z!==undefined&&Z!==null)?Z:""
	if(typeof X==="string"){X=parseFloat(X)
	}try{W=window.SSF.format(Y,X)
	}catch(a){if(window.mstr_profile){window.mstr_profile.log(a)
	}W=(Z||X).toString()
	}return W
	},validateFormat:function(W){var X=true,Y=String(W).split("
	")
	if(Y[1]&&Y[1].indexOf(Y[0])<0){X=false
	}return X
	},generateUniqueID:function(W){var Y="0123456789ABCDEF".split(""),Z=[]
	for(var X=0
	X<W
	X++){Z[X]=Y[0|Math.random()*16]
	}return Z.join("")
	},countOfDecimals:function(X,Y){var W=String(X)
	return W.length-(W.indexOf(Y!==undefined?Y:this.getDecimal())+1)
	},getThousand:function(){return mstrmojo.locales.number.THOUSANDSEPARATOR
	},getDecimal:function(){return mstrmojo.locales.number.DECIMALSEPARATOR
	}})
	mstrmojo.num.UNIT=S
	mstrmojo.num.UNIT_SYMBOL=B
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.registry","mstrmojo.array","mstrmojo.publisher")
	var D=mstrmojo.registry,K=mstrmojo.array,I=mstrmojo.publisher
	function G(Q,R){if(R){R.parent=Q
	var P=D.ref(R)
	if(R!==P){delete R.parent
	}return P
	}return null
	}function L(Q,R){var P=R.alias
	if(P!==null&&P!==""){Q[P]=R
	}}function N(Q,R){var P=R.alias
	if(R.parent===Q){delete R.parent
	}if((P!==null&&P!=="")&&(Q[P]===R)){delete Q[P]
	}}function A(U,Q){var P=Q&&Q.length,S,R
	if(P){S=[]
	for(R=0
	R<P
	R++){var W=G(U,Q[R])
	if(!W){continue
	}S.push(W)
	L(U,W)
	}}return S
	}mstrmojo._HasChildren=mstrmojo.provide("mstrmojo._HasChildren",{_meta_usesSuper:false,children:null,postCreateChildren:mstrmojo.emptyFn,onaddChild:null,onremoveChild:null,initChildren:function F(){var P="children",Q=this[P]
	if(!Q){return 
	}this[P]=null
	this._set_children(P,Q,true)
	this.postCreateChildren()
	},_set_children:function E(S,Q,P){var R=this.children
	if(Q!==R){if(R){this.removeChildren(null,P)
	}this.addChildren(Q,0,P)
	}return false
	},destroyChildren:function C(S){var R=this.children,P=(R&&R.length)||0,Q
	if(P){for(Q=P-1
	Q>-1
	Q--){var U=R[Q]
	if(U&&U.destroy){U.destroy(S)
	if(!S){N(this,U)
	}}}if(!S){R.length=0
	}}},invalidateChildren:function B(){mstrmojo.array.forEach(this.children,function(P){P.invalidate()
	})
	},invalidate:function H(){this.invalidateChildren()
	},addChildren:function O(W,Q,R){if(!W){return W
	}var U=W.constructor===Array,P=A(this,U?W:[W])
	if(P&&P.length){var S=this.children||[]
	if(Q===null||Q===undefined){Q=S.length
	}this.children=K.insert(S,Q,P)
	if(!R&&(this.onaddChild||I.hasSubs(this.id,"addChild"))){this.raiseEvent({name:"addChild",value:P,index:Q})
	}}return U?P:(P&&P[0])
	},removeChildren:function J(X,R){var U=this.children,W=X?[X]:(this.children||[]).concat(),Q=W.length,P=-1,S
	if(Q){for(S=Q-1
	S>-1
	S--){N(this,W[S])
	}if(X){P=K.removeItem(U,X)
	}else{if(U){U.length=0
	P=0
	}}if(!R&&(this.onremoveChild||I.hasSubs(this.id,"removeChild"))){this.raiseEvent({name:"removeChild",value:W,index:P})
	}}return P
	},removeAndDestroyChild:function M(R,P,Q){if(R){if(R.parent!==this){throw"Unable to remove an object that is not in the children collection."
	}this.removeChildren(R,P)
	R.destroy(Q)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.publisher","mstrmojo.func")
	var C=mstrmojo.publisher,F=mstrmojo.func
	mstrmojo._Provider=mstrmojo.provide("mstrmojo._Provider",{_meta_usesSuper:false,audibles:{"*":true},set:function G(O,I){var H=false,L=this["_set_"+O],J=this[O]
	if(L){H=L.apply(this,arguments)
	}else{this[O]=I
	H=(J!==I)
	}if(H){var M=O+"Change",N=this.audibles||{},K=(N[O]===true)||((N[O]!==false)&&(N["*"]!==false))
	if(K&&(this["pre"+M]||this["on"+M]||this["post"+M]||C.hasSubs(this.id,M))){this.raiseEvent({name:M,prop:O,value:I,valueWas:J})
	}}return this
	},raiseEvent:function B(I){var N=I&&I.name
	if(!N){return null
	}I.src=this
	this.preHandleEvent(I)
	var L=["pre","on","post"],M=false,J,H
	for(J=0,H=L.length
	J<H
	J++){var K=L[J]+N
	if(this[K]){if(this[K](I)===false){M=true
	break
	}}}if(!M){this.postHandleEvent(I)
	C.publish(this.id,N,I)
	}return I
	},preHandleEvent:mstrmojo.emptyFn,postHandleEvent:mstrmojo.emptyFn,attachEventListener:function A(H,I,J){return C.subscribe(this.id,H,J,I)
	},detachEventListener:function E(H){C.unsubscribe(H)
	},attachEventListenerOnce:function(H,J,K){var I=C.subscribe(this.id,H,F.composite([function(){C.unsubscribe(I)
	},K]),J)
	return I
	},destroy:function D(){C.clearSubscriptions(this.id)
	if(this._super){this._super()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.base64","mstrmojo.func","mstrmojo.hash","mstrmojo.string","mstrmojo.dom")
	mstrmojo.XhrCallbackType=null
	function decodeHeader(value){var rEncoded=/\=\?UTF-8\?B\?(.+?)\?\=/g
	if(value&&value.indexOf("=?UTF-8?B?")===0){var decMsg="",result
	while((result=rEncoded.exec(value))!==null){decMsg+=mstrmojo.base64.decode(result[1])
	}return decMsg
	}return value
	}function encodeParams(params){var x=-1,url=[],p
	if(params){for(p in params){url[++x]=p+"="+encodeURIComponent(params[p])
	}}return url.join("&")
	}function appendUrlParams(method,baseUrl,params){if(method!=="GET"||!params){return baseUrl
	}return baseUrl+"?"+encodeParams(params)
	}function checkToAddRequestHeadersForXhr(xhr,params){var headers=params.xhrHeaders
	if(headers){for(var hdr in headers){xhr.setRequestHeader(hdr,headers[hdr])
	}delete params.xhrHeaders
	}}
	
	function sendXhr(xhr,method,baseUrl,params){method=method.toUpperCase()
	var app=mstrApp,m=window.microstrategy
	if(this.isTask){params=mstrmojo.addCSRFTokenToTaskParams(params)
	params.taskContentType=params.taskContentType||"json"
	params.taskEnv=params.taskEnv||"xhr"
	params.xts=new Date().getTime()
	params[mstrApp.name]=mstrApp.servletState||mstrConfig.servletState||""
	baseUrl=baseUrl||mstrConfig.taskURL
	}var hasUserDefinedMimeType=params.hasUserDefinedMimeType
	delete params.hasUserDefinedMimeType
	var ptp=app.persistTaskParams||(m&&m.persistParams)
	if(ptp){mstrmojo.requiresCls("mstrmojo.hash")
	mstrmojo.hash.copy(ptp,params)
	}xhr.open(method,appendUrlParams(method,baseUrl,params),this.async)
	if(hasUserDefinedMimeType){xhr.overrideMimeType("text/plain
	charset=x-user-defined")
	}checkToAddRequestHeadersForXhr(xhr,params)
	if(method!=="POST"){xhr.send(null)
	}else{xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded")
	xhr.send(encodeParams(params))
	}if(this.async===false){xhr.onreadystatechange()
	}}function createXhr(){var methods=[function(){var res=new XMLHttpRequest()
	var foo=res.open
	res.open=function(){foo.apply(res,arguments)
	}
	return res
	},function(){return new ActiveXObject("Msxml2.XMLHTTP")
	},function(){return new ActiveXObject("Microsoft.XMLHTTP")
	}],cnt=methods.length,i
	for(i=0
	i<cnt
	i++){var xhr
	try{xhr=methods[i]()
	}catch(e){continue
	}createXhr=methods[i]
	return xhr
	}throw new Error("mstrmojo.SimpleXHR: Could not create an XHR object.")
	}function evalResponse(rt){var rtn=null
	try{try{rtn=JSON.parse(rt)
	}catch(ex){rtn=eval("("+rt+")")
	}}catch(ex){rtn=rt&&mstrmojo.string.trim(rt)
	}return rtn
	}var MSI_SERVER_NAME_NOT_INITIALIZED=2147760371,MSI_INVALID_SESSION_ID=2147760372,E_MSI_USERMGR_USER_NOTFOUND=2147758245,E_MSI_CONNECT_FAILED=2147759877,CSRF_ERROR=4098
	function isSessionExpiredError(res){if(res.status===401){return true
	}var c=res&&res.getResponseHeader("X-MSTR-TaskErrorCode")
	c=(c<0)?(4294967296+parseInt(c,10)):c
	switch(c){case MSI_SERVER_NAME_NOT_INITIALIZED:case MSI_INVALID_SESSION_ID:case E_MSI_USERMGR_USER_NOTFOUND:case E_MSI_CONNECT_FAILED:return true
	}return false
	}function isCSRFError(res){var c=(res&&res.getResponseHeader("X-MSTR-TaskErrorCode"))||"0"
	c=parseInt(c,10)
	if(c===CSRF_ERROR){return true
	}return false
	}function xhrSupportsProgress(xhr){return !mstrmojo.dom.isSafari&&!!(xhr&&xhr.upload&&xhr.upload.onprogress)
	}mstrmojo.SimpleXHR=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.SimpleXHR",isTask:true,async:true,init:function init(props){mstrmojo.hash.copy(props,this)
	},onreadystatechange:function onreadystatechange(xhr,callback,prevRequest){if(xhr.readyState!==4){return 
	}if(typeof callback!=="object"){return 
	}try{if((xhr.status===200)||(xhr.status===304)){this.response=callback.textResponse?xhr.responseText:evalResponse(xhr.responseText)
	if(typeof callback.success==="function"){callback.success(this.response,xhr)
	}}else{if(xhr.status!==0||(!xhr.isAborted&&prevRequest.params.displayNoResErr)){var app=mstrApp,sessionExp=app&&app.onSessionExpired
	if(isCSRFError(xhr)&&mstrConfig&&mstrConfig.validateRandNum){var url=window.location.href
	var pos=url.indexOf("?")
	if(pos>0){url=url.substring(0,pos)
	}url+="?pg=CSRFConfirmation"
	window.location.href=url
	}if(sessionExp&&isSessionExpiredError(xhr)){sessionExp.call(app,prevRequest)
	}else{var orig=xhr.getResponseHeader
	xhr.getResponseHeader=function(name){return decodeHeader(orig.apply?orig.apply(xhr,[name]):orig(name))
	}
	if(typeof callback.failure==="function"){callback.failure(xhr)
	}}}}}catch(ex){mstrmojo.err(ex)
	throw ex
	}finally{if(typeof callback.complete==="function"){callback.complete()
	}if(!isSessionExpiredError(xhr)&&!prevRequest.params.notRestartSessionManager){var sm=mstrApp.sessionManager
	if(sm&&sm.restart){sm.restart()
	}}}},cancel:function(){var didCancel=false
	var xhr=this.xhr
	if(xhr){delete xhr.onreadystatechange
	xhr.isAborted=true
	if(xhr.readyState<4){xhr.abort()
	didCancel=true
	}this.xhr=null
	}return didCancel
	},request:function request(method,baseUrl,callback,params,webSvrUrl,useResFeed,webSrvParams){if(webSvrUrl){if(useResFeed===true){if(!params){params={}
	}params.srcURL=appendUrlParams("POST",webSvrUrl,webSrvParams)
	this.request(method,baseUrl,callback,params)
	}else{mstrmojo.jsonp.request(webSvrUrl,params,callback)
	}}else{var xhr=createXhr()
	xhr.onreadystatechange=(function(me,x,c,pr){return function(){me.onreadystatechange(x,c,pr)
	}
	}(this,xhr,callback,{method:method,baseUrl:baseUrl,callback:callback,params:params}))
	if(xhrSupportsProgress(xhr)&&callback.progress){xhr.onprogress=(function(me,x,c){return function(evt){c.progress.call(me,evt)
	}
	}(this,xhr,callback))
	}this.xhr=xhr
	sendXhr.call(this,xhr,method,baseUrl,params)
	}}})
	mstrmojo.QueuedXHR=mstrmojo.declare(mstrmojo.SimpleXHR,null,{scriptClass:"mstrmojo.QueuedXHR",queue:null,requestCount:0,retryDelay:1,lookup:null,cancel:function cancel(){var didCancel=this._super()
	while(this.queue.length){var x=this.queue.pop()
	var cb=x.callback
	if(cb&&cb.complete){cb.complete()
	}}this.queue=[]
	this.requestCount--
	return didCancel
	},init:function init(){this.queue=[]
	this.lookup=[]
	},request:function request(method,baseUrl,callback,params,override,webSvrUrl,useResFeed,webSrvParams,useCache){if(webSvrUrl){if(useResFeed===true){if(!params){params={}
	}params.srcURL=appendUrlParams("POST",webSvrUrl,webSrvParams)
	this.request(method,baseUrl,callback,params)
	}else{mstrmojo.jsonp.request(webSvrUrl,params,callback)
	}}else{if(this.requestCount>0&&!override){this.queue.push({method:method,baseUrl:baseUrl,callback:callback,params:params})
	}else{if(this.requestCount>0){this.cancel()
	}this.requestCount++
	var lu=null,oriParams=null
	if(useCache){lu=this._searchForCacheRequest(params)
	oriParams=mstrmojo.hash.copy(params)
	}if(lu){try{if(callback.success){window.setTimeout(function(){callback.success(lu.res)
	},10)
	}}catch(ex){mstrmojo.err(ex)
	throw ex
	}finally{if(callback.complete){callback.complete()
	}this.advanceQueue()
	}}else{var xhr=this.xhr=createXhr()
	callback=mstrmojo.func.wrapMethods(callback,{complete:(function(ths){return function(){ths.advanceQueue()
	}
	}(this)),success:(function(ths){return function(){if(useCache){ths.lookup.push({params:oriParams,res:ths.response})
	}}
	}(this))})
	xhr.onreadystatechange=(function(me,x,c,pr){return function(){me.onreadystatechange(x,c,pr)
	}
	}(this,xhr,callback,{method:method,baseUrl:baseUrl,callback:callback,params:params}))
	if(xhrSupportsProgress(xhr)&&callback.progress){xhr.onprogress=(function(me,x,c){return function(evt){c.progress.call(me,evt)
	}
	}(this,xhr,callback))
	}sendXhr.call(this,xhr,method,baseUrl,params)
	}}}},upload:function upload(method,baseUrl,callback,params,data,config,override,webSrvParams,useCache){if(this.isTask){params=mstrmojo.addCSRFTokenToTaskParams(params)
	}if(this.requestCount>0&&!override){this.queue.push({method:method,baseUrl:baseUrl,callback:callback,params:params,data:data,config:config})
	}else{if(this.requestCount>0){this.cancel()
	}this.requestCount++
	var lu=null,oriParams=null
	if(useCache){lu=this._searchForCacheRequest(params)
	oriParams=mstrmojo.hash.copy(params)
	}if(lu){try{if(callback.success){window.setTimeout(function(){callback.success(lu.res)
	},10)
	}}catch(ex){mstrmojo.err(ex)
	throw ex
	}finally{if(callback.complete){callback.complete()
	}this.advanceQueue()
	}}else{var xhr=this.xhr=createXhr()
	var self=this
	callback=mstrmojo.func.wrapMethods(callback,{complete:(function(ths){return function(){ths.advanceQueue.call(ths)
	}
	}(this)),success:(function(ths){return function(){if(useCache){ths.lookup.push({params:oriParams,res:ths.response})
	}}
	}(this))})
	var handleProgress=function(event){callback.progress(event,config)
	}
	var url=baseUrl
	var async=!!(config&&config.async)
	xhr.open("POST",url,async)
	var appReqHeaders=typeof (mstrConfig)!==undefined&&mstrConfig.requestHeaders
	if(appReqHeaders){for(var key in appReqHeaders){xhr.setRequestHeader(key,appReqHeaders[key])
	}}checkToAddRequestHeadersForXhr(xhr,params)
	if(config&&config.authToken){xhr.setRequestHeader("X-MSTR-AuthToken",config.authToken)
	if("projectId" in params){xhr.setRequestHeader("X-MSTR-ProjectId",params.projectId)
	}}var formData=new FormData()
	var a
	for(a in params){formData.append(a,params[a])
	}if(data){if(params.fileName){formData.append(params.fileFieldName?params.fileFieldName:"myFile",data,params.fileName)
	}else{formData.append(params.fileFieldName?params.fileFieldName:"myFile",data)
	}}if(xhrSupportsProgress(xhr)&&callback.progress){xhr.upload.onprogress=handleProgress
	}xhr.onreadystatechange=(function(me,x,c,pr){return function(){me.onreadystatechange(x,c,pr)
	}
	}(self,xhr,callback,{method:method,baseUrl:baseUrl,callback:callback,params:params}))
	xhr.send(formData)
	}}},advanceQueue:function advanceQueue(){this.requestCount--
	if(this.queue.length===0){this.requestCount=0
	return 
	}var req=this.queue.shift()
	if(req.params.taskId==="importFile"||req.params.taskId==="arch.sparkFileUpload"){this.upload(req.method,req.baseUrl,req.callback,req.params,req.data,req.config)
	}else{this.request(req.method,req.baseUrl,req.callback,req.params,true)
	}},_searchForCacheRequest:function _searchForCacheRequest(params){var i
	for(i in this.lookup){if(mstrmojo.hash.equals(params,this.lookup[i].params)){return this.lookup[i]
	}}return null
	},hasRequests:function hasRequests(){return this.requestCount>0||mstrmojo.jsonp.hasRequests()
	}})
	mstrmojo.xhr=new mstrmojo.QueuedXHR()
	mstrmojo.jsonp={jsc:new Date().getTime(),timeToWait:20000,requestCount:0,request:function(url,params,callback){var head=document.getElementsByTagName("head")[0]||document.documentElement,jsonp="jsonp"+(this.jsc++),script=document.createElement("script")
	params.jsonp=jsonp+"(@R@)
	"
	params.taskContentType="jsonp"
	params.taskEnv="jsonp"
	params.xts=new Date().getTime()
	window[jsonp]=function(response){mstrmojo.jsonp.requestCount--
	if(!response){if(callback.timeout){callback.timeout()
	}}else{if(response.status===200){callback.success(response.content)
	}else{var res={status:response.status,getResponseHeader:function(name){switch(name){case"X-MSTR-TaskFailureMsg":return response.errorMsg
	case"X-MSTR-TaskErrorCode":return response.errorCode
	}}}
	if(mstrApp.onSessionExpired&&isSessionExpiredError(res)){if(callback.onSessionExpired){callback.onSessionExpired()
	}else{mstrApp.onSessionExpired()
	}}else{callback.failure(res)
	}}}if(window[jsonp]){if(callback.complete){callback.complete()
	}window[jsonp]=undefined
	try{delete window[jsonp]
	}catch(e){}head.removeChild(script)
	}}
	head.insertBefore(script,head.firstChild)
	this.requestCount++
	script.src=appendUrlParams("GET",url,params)
	setTimeout(function(){var fn=window[jsonp]
	if(fn){fn()
	}},this.timeToWait)
	},hasRequests:function(){return this.requestCount>0
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.hash")
	var E=mstrmojo.func.wrapMethods
	function B(L,I,K,H,J){return E({success:function(M){if(mstrMobileApp&&mstrMobileApp.sendCallback){mstrMobileApp.sendCallback("success",I.target,JSON.stringify(I.memo),JSON.stringify(M))
	}},complete:function(){if(mstrMobileApp&&mstrMobileApp.sendCallback){mstrMobileApp.sendCallback("complete",I.target,JSON.stringify(I.memo))
	}J.removeCallback(K,H)
	},failure:function(M){if(mstrMobileApp&&mstrMobileApp.sendCallback){mstrMobileApp.sendCallback("failure",I.target,JSON.stringify(I.memo),JSON.stringify(M))
	}}},L)
	}mstrmojo._CanProxyCallback=mstrmojo.provide("mstrmojo._CanProxyCallback",{_mixinName:"mstrmojo._CanProxyCallback",callbacks:null,isCallbackReceiver:false,newCallback:function D(O){return O
	var K=this.callbacks,I=mstrmojo.hash.copy(O),P=(O.index!==undefined)?String(O.index):"index",N=arguments.callee.caller.arguments,L,J,M,H=O.method||"anonymous"
	if(!K){K=this.callbacks={}
	}if(!K[H]){K[H]={}
	}if(!this.isCallbackReceiver){for(J=0,M=N.length
	J<M
	J++){L=N[J]
	if(L&&L.target){I=B(I,L,H,P,this)
	break
	}}}if(!O.method){I.proxy=this.getCallbackMemo()
	}K[H][P]=I
	return I
	},anonymous:function(J,K,I,H){if(!this.isCallbackReceiver){K=B(K,H,"anonymous","index",this)
	mstrApp.serverRequest(J,K,I)
	}},getCallback:function C(K,J){var H=J||"index",I=this.callbacks
	return I&&I[K]&&I[K][H]
	},removeCallback:function G(K,J){var H=J||"index",I=this.callbacks
	if(I&&I[K]){delete I[K][H]
	if(mstrmojo.hash.isEmpty(I[K])){delete I[K]
	}}},getCallbackMemo:function F(I,H){return{target:'mstrmojo.all["'+this.id+'"].receiveCallback',memo:{method:I||"anonymous",index:H||"index"}}
	},receiveCallback:function A(L,J,K){var M=J.method,I=J.index,H=this.getCallback(M,I)
	if(H&&L&&H[L]){H[L](K)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.func")
	mstrmojo.ACL.UserDataService=mstrmojo.provide("mstrmojo.ACL.UserDataService",{topgroups:null,userCandidates:null,getMembers:function(G,E){var F={taskId:"getUserEntityInfo",blockBegin:G.blockBegin,blockCount:G.blockCount,userEntityID:G.data.did,userEntityName:G.data.n||"",incremental:true,outputElements:G.outputElements||3}
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,E,F)
	},getTopLevelGroups:function D(G,F){var E=this
	if(this.topgroups){F.success({items:this.topgroups})
	return 
	}F.success=mstrmojo.func.composite([F.success,function(H){E.topgroups=H.items
	}])
	this.getUsers({topGroupsOnly:true},F)
	},searchUserCandidates:function C(F,E){this.getUsers({blockBegin:1,blockCount:F.blockCount,searchPattern:F.pattern,nameWildcards:F.nameWildcards?F.nameWildcards:(F.wildCard?4:2)},E)
	},getUserCandidates:function B(H,G){if(this.userCandidates){G.success(this.userCandidates)
	return 
	}var E=G.success,F=this
	G.success=function(J){F.userCandidates={items:J.items,isComplete:(parseInt(J.bc,10)===-1||(J.bb+J.bc>J.sz))}
	E(F.userCandidates)
	}
	var I={blockBegin:1,blockCount:H,nameWildcards:1}
	this.getUsers(I,G)
	},getUsers:function A(G,E){var F={taskId:"getUserServices"}
	mstrmojo.hash.copy(G,F)
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,E,F)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.registry","mstrmojo.hash")
	var A=false,D="mstrmojo.Binding",I="bindings",H=mstrmojo.registry
	function B(K){var L
	for(L in K){var J=K[L]
	if(J&&J.disable){J.destroy()
	}}}function C(K,M){if(!A){mstrmojo.requiresCls(D)
	A=true
	}var N
	for(N in K){var J=K[N]
	if(J===null||J===undefined){continue
	}var L=typeof J
	if(L==="string"||L==="function"){J={destination:N,source:J,scriptClass:D}
	}J.parent=M
	J=H.ref(J,{skipLoadChecks:true})
	K[N]=J
	J.enable()
	}}mstrmojo._HasBindings=mstrmojo.provide("mstrmojo._HasBindings",{_meta_usesSuper:false,initBindings:function E(){this.hasInitBindings=true
	var K=mstrmojo.hash.copy(this[I])
	if(K){delete this[I]
	this._set_bindings(I,K)
	if(this.postCreateBindings){this.postCreateBindings()
	}}var M=this.children,J=(M&&M.length)||0
	if(J){var L
	for(L=0
	L<J
	L++){var N=M[L]
	if(N&&N.initBindings){N.initBindings()
	}}}},destroyBindings:function G(){var J=this.bindings
	if(J){B(J)
	delete this.bindings
	}},_set_bindings:function F(L,J){var K=this[I]
	if(J!==K){if(K){B(K)
	}this[I]=J
	if(J){C(J,this)
	}return true
	}return false
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo._HasDrillLinks","mstrmojo.registry","mstrmojo.hash","mstrmojo.dom")
	var C=mstrmojo.dom
	var A="openDrillLinkMenu"
	mstrmojo._HasHoverButton=mstrmojo.provide("mstrmojo._HasHoverButton",mstrmojo.hash.copy(mstrmojo._HasDrillLinks,{_mixinName:"mstrmojo._HasHoverButton",buttonNodeMarkup:'<div class="mstrmojo-LinkInfo-buttonNode"></div>',init:function D(E){this._super(E)
	this.markupSlots.buttonNode=function(){return this.domNode.lastChild
	}
	},hoverBtn:null,postBuildRendering:function B(){if(!this.hoverBtn){this.addChildren(mstrmojo.registry.ref({scriptClass:"mstrmojo.Button",slot:"buttonNode",alias:"hoverBtn",onclick:function H(){this.openPopup()
	},openPopup:function E(){var J=mstrmojo.findAncestor(this,A)
	if(J){J.openDrillLinkMenu({openerButton:this,drillLinkItems:this.parent.drillLinkItems,cmPos:this.cmPos})
	}},closePopup:function F(){var J=mstrmojo.findAncestor(this,A)
	if(J){J.closePopup()
	}}}))
	}var G=this._super()
	var I=this.id
	C.attachEvent(this.domNode,"contextmenu",function(J){mstrmojo.all[I].oncontextmenu(J,self)
	})
	return G
	},oncontextmenu:function(G,E){var F=this.hoverBtn
	F.cmPos=C.getMousePosition(G,E)
	F.openPopup()
	F.cmPos=null
	C.preventDefault(E,G)
	}}))
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.registry")
	mstrmojo._PagingList=mstrmojo.provide("mstrmojo._PagingList",{usePaging:false,page:0,totalPages:1,_set_page:function(B,A){if(this.page!==A&&this.usePaging){if(A>=0&&A<this.totalPages){this.page=A
	}return true
	}return false
	},_inScroll:false,_inPaging:false,onscroll:function(){if(this.usePaging&&!this._inPaging){this._inScroll=true
	this.set("page",this.listMapper.whichPage(this))
	this._inScroll=false
	}if(this._super){this._super()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.string")
	var D=mstrmojo.string,F=1
	mstrmojo.ListBuilder=mstrmojo.provide("mstrmojo.ListBuilder",{newContext:function E(G){var I=G.itemMarkupFunction
	if(!I){var H=G.itemMarkup||(G.itemField&&'<div class="mstrmojo-text">{@'+G.itemField+"}</div>")
	I=H?function(K,J,L){return D.apply(H,K)
	}:null
	}return{itemStatus:[],itemFunc:I}
	},build:function A(I,H,J,G){H.itemStatus[G]=F
	return H.itemFunc(J,G,I)
	},onadd:function B(I,G,H){if(G){mstrmojo.array.insert(G.itemStatus,H.index,new Array(H.value.length))
	}},onremove:function C(I,G,H){if(G){G.itemStatus.splice(H.index,H.value.length)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.string","mstrmojo.dom","mstrmojo.hash")
	var O=mstrmojo.string,M=mstrmojo.hash,F=mstrmojo.dom
	var U=mstrmojo.usesFrames?null:document.createElement("span")
	var L=/mstrAttach:([\w,]+)/g,N="mstrevent"
	var S
	function Y(e,f){if(S===undefined){S=(mstrApp!==undefined&&mstrApp.isTouchApp&&mstrApp.isTouchApp())||false
	}return e.replace(L,function d(l,n){var h=n.split(","),j=[],g=h.length,k
	for(k=0
	k<g
	k++){var m=h[k]
	if(m){if(S){if(m.indexOf("mouse")>-1){continue
	}else{if(m==="click"){m="touchend"
	}}}j.push("on"+m+"=\"mstrmojo.dom.captureDomEvent('{@id}','"+m+"', self, event)\"")
	}}return j.join(" ")
	})
	}function A(e){if(S===undefined){S=(mstrApp!==undefined&&mstrApp.isTouchApp&&mstrApp.isTouchApp())||false
	}var f
	f=e.replace(L,function d(l,n){var h=n.split(","),g=h.length,j=[],k
	for(k=0
	k<g
	k++){var m=h[k]
	if(m){if(S){if(m.indexOf("mouse")>-1){continue
	}else{if(m==="click"){m="touchend"
	}}}j.push(m)
	}}return N+'="'+j.join(" ")+'"'
	})
	return f
	}var P="preBuildRendering",D="buildRendering",C="postBuildRendering"
	function b(g){var k=F.isCSPEnabled()
	var f=g.markupString
	if(f.match(/mstrAttach:/)){f=k?A(f):Y(f,g)
	if(g.markupString===g.constructor.prototype.markupString){g.constructor.prototype.markupString=f
	}}var e=O.apply(f,g)
	if(e){if(e.indexOf(k?"contextmenu":"oncontextmenu")>-1){g.hasContextMenuEvent=true
	}if(mstrmojo.usesFrames){var h=(g.domNode&&g.domNode.ownerDocument)||window.document
	if(!U||U.ownerDocument!==h){U=h.createElement("span")
	}}U.innerHTML=e
	var j=U.removeChild(U.firstChild)
	j.mstrmojoId=g.id
	F.recursiveReplaceInlineEventListeners(j,true,g)
	return j
	}return null
	}function B(f){var e=f.markupSlots,d,g
	if(e){d={}
	for(g in e){d[g]=typeof e[g]==="string"?f.domNode.querySelector(e[g]):e[g].call(f)
	}}return d
	}mstrmojo._HasMarkup=mstrmojo.provide("mstrmojo._HasMarkup",{markupString:null,markupMethods:null,markupSlots:null,onRender:mstrmojo.emptyFn,onUnRender:mstrmojo.emptyFn,render:function c(){if((this[P]&&this[P]()===false)||(this[D]()===false)||(this[C]&&this[C]()===false)){return false
	}this.hasRendered=!!this.domNode
	this.onRender()
	var d="renderComplete"
	if(mstrmojo.publisher.hasSubs(this.id,d)){this.raiseEvent({name:d})
	}return true
	},buildDom:function X(){return b(this)
	},postBuildDom:null,preBuildRendering:mstrmojo.emptyFn,buildRendering:function G(){var d=this.domNode,e=this.buildDom()
	this.domNode=e
	if(this.postBuildDom){this.postBuildDom()
	}if(this.slotNames){this.removeSlots(this.slotNames)
	}this.addSlots(B(this))
	this.paint()
	if(e){var h=d
	if(!h){h=this.placeholder
	if(h){if(typeof h==="string"){h=document.getElementById(h)
	}delete this.placeholder
	}}if(h){F.replace(h,e)
	}}var f="onchildRenderingChange",g=this.parent
	if(g&&g[f]){g[f](this)
	}return true
	},postBuildRendering:mstrmojo.emptyFn,unrender:function W(f){if(this.hasRendered){if(!f){try{var d=this.domNode
	if(d.parentNode){d.parentNode.removeChild(d)
	}}catch(e){}}this.domNode=null
	this.removeSlots(this.slotNames)
	this.hasRendered=false
	this.onUnRender()
	}},paint:function K(){var e=this.markupMethods
	if(!e){return 
	}var h=this,j=function(o){var m=e[o]
	if(m){try{m.apply(h,[true])
	}catch(l){throw new Error(["Error in markup method.","Script class: "+h.scriptClass,"Widget id: "+h.id,"Method name: "+o,"Err: "+l.message].join("\n\n"))
	}}}
	var g=e.sequence,d,f,k
	if(g){d=g.length||0
	for(f=0
	f<d
	f++){j(g[f])
	}}else{for(k in e){j(k)
	}}},redraw:function R(){return false
	},refresh:function E(d){if(this.hasRendered){if(this.redraw()!==true){var e=this.domNode
	this.unrender(true)
	this.placeholder=e
	if(d){d()
	}this.render()
	}}},set:function J(h,d){this._super(h,d)
	if(this.domNode){var e=this.markupMethods,g=e&&e["on"+h+"Change"]
	if(g){g.apply(this)
	}}return this
	},slotNames:null,addSlots:function H(e){var d=this.slotNames,f
	if(!d){d={}
	this.slotNames=d
	}for(f in e){this[f]=e[f]
	d[f]=true
	}},removeSlots:function I(d){if(d){var e=this.slotNames,f
	for(f in d){delete this[f]
	if(e){delete e[f]
	}}}},captureDomEvent:function a(g,d,h,f){if(this.enabled!==false){this.raiseEvent(mstrmojo._HasMarkup.newDomEvent(g,d,h||d.event,f))
	}},playEffect:function Z(e){var d=this[e]
	if(d&&d.constructor===Object){d=mstrmojo.insert(mstrmojo.hash.clone(d))
	d.widget=this
	this[e]=d
	}if(d){d.play()
	}}})
	mstrmojo._HasMarkup.addMarkupMethods=function Q(e,d){e.prototype.markupMethods=M.copy(d,M.copy(e.prototype.markupMethods))
	}
	mstrmojo._HasMarkup.MSTRDomEventType=null
	mstrmojo._HasMarkup.newDomEvent=function(g,d,f,e){return{name:g,hWin:d,e:f,config:e,ctrlKey:F.ctrlKey(d,f),shiftKey:F.shiftKey(d,f),metaKey:F.isMetaKey(d,f),cancel:function(){F.stopPropogation(d,f)
	},preventDefault:function(){F.preventDefault(d,f)
	},getTarget:function(){return F.eventTarget(d,f)
	}}
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.array","mstrmojo.string")
	var Y=mstrmojo.dom,L=mstrmojo.string,c=mstrmojo.array
	mstrmojo.css=mstrmojo.provide("mstrmojo.css",{DISPLAY_TABLE:Y.isNSIE?"block":"table",DISPLAY_CELL:Y.isNSIE?"block":"table-cell",MINHEIGHT:Y.isIE6?"height":"minHeight",addClass:function M(j,h){if(j){if(h.constructor!==Array){h=[h]
	}var e=j.className||"",l=" "+e+" ",f=false,d=h.length,g
	for(g=0
	g<d
	g++){var k=h[g]
	if(!l.match(new RegExp("\\s"+k+"\\s"))){e+=" "+k
	f=true
	}}if(f){j.className=L.trim(e)
	}}return j
	},removeClass:function O(h,g){if(!h){return 
	}if(g.constructor!==Array){g=[g]
	}var e=" "+(h.className||"")+" ",d=g.length,f
	for(f=0
	f<d
	f++){e=e.replace(new RegExp("\\s"+g[f]+"\\s","g")," ")
	}h.className=L.trim(e)
	},addWidgetCssClass:function N(j,g){var e=j.cssClass,h=(e&&e.split(" "))||[],f
	g=[].concat(g)
	for(f=0
	f<g.length
	f++){var d=g[f]
	if(c.indexOf(h,d)===-1){h.push(d)
	}}j.cssClass=h.join(" ")
	},removeWidgetCssClass:function G(k,h){var e=k.cssClass,j=(e&&e.split(" "))||[],g
	h=[].concat(h)
	for(g=0
	g<h.length
	g++){var d=h[g]
	var f=c.indexOf(j,d)
	if(f!==-1){j.splice(f,1)
	}}k.cssClass=j.join(" ")
	},toggleClass:function X(f,e,d){if(d){this.addClass(f,e)
	}else{this.removeClass(f,e)
	}},hasClass:function A(e,f){if(e){var d=" "+(e.className||"")+" "
	return !!d.match(new RegExp("\\s"+f+"\\s"))
	}return false
	},applyShadow:function H(h,j,g,f,d){var e=h.style
	if(Y.isDXIE){e.filter+="progid:DXImageTransform.Microsoft.dropshadow(OffX="+j+"px, OffY="+g+"px, Color='"+d+"')"
	}else{if(Y.isFF||Y.isWK||Y.isIE10){e[Y.CSS3_BOXSHADOW]=j+"px "+g+"px "+f+"px "+d
	}}},removeShadow:function C(e){var d=e.style
	if(Y.isFF||Y.isWK||Y.isIE10){d[Y.CSS3_BOXSHADOW]=""
	}},setOpacity:function Z(e,g){if(Y.isDXIE&&!Y.isIE9){var h=e.currentStyle.filter
	var d=null
	if(h.length>0){d=e.filters["DXImageTransform.Microsoft.Alpha"]
	}if(d){d.opacity=g
	d.enabled=(g!==100)
	}else{if(g<100){var f="progid:DXImageTransform.Microsoft.Alpha(Opacity="+g+")"
	e.style.filter=(h||"")+" "+f
	}}}else{e.style.opacity=g/100-(Y.isIE9?0.00001:0)
	}},buildGradient:function P(e,g,d){if(Y.supports(Y.cssFeatures.GRADIENTS)){var f={}
	if(Y.isDXIE){f.n="filter"
	f.v="progid:DXImageTransform.Microsoft.Gradient(GradientType="+e+",StartColorStr='"+g+"',EndColorStr='"+d+"')"
	}else{if(Y.isFF){f.n="background-image"
	f.v="-moz-linear-gradient("+((e===0)?"top":"left")+","+g+","+d+")"
	}else{if(Y.isIE10||Y.isIEW3C||Y.isIE11||Y.isEdge||Y.isWK){f.n="background"
	f.v="linear-gradient("+((e===0)?"to bottom":"to right")+","+g+","+d+")"
	}}}return f
	}return null
	},buildRoundCorners:function R(j,h){if(Y.supports(Y.cssFeatures.ROUND_CORNERS)){var e=j+"px"
	var l=e+(h?" "+e+" 0 0":"")+"
	"
	if(Y.isFF||Y.isWinPhone||Y.isIE10){return"border-radius:"+l
	}if(Y.isWK){if(!h){return"-webkit-border-radius:"+e+"
	"
	}var k=["left","right"],g=[],d=-1,f
	for(f=0
	f<2
	f++){g[++d]="-webkit-border-top-"+k[f]+"-radius:"+e
	g[++d]="-webkit-border-bottom-"+k[f]+"-radius:0"
	}return g.join("
	")
	}}return""
	},getBorderWidthsOrPaddings:function E(e,h){var j={t:0,r:0,b:0,l:0,h:0,w:0}
	if(!e){return j
	}var f=e.split(" "),d=f.length,g
	for(g=0
	g<d
	g++){f[g]=Math.round(h*parseFloat(f[g])/72)
	}if(d<4){if(d===1){f[1]=f[2]=f[3]=f[0]
	}else{f[3]=f[1]
	if(d===2){f[2]=f[0]
	}}}j.t=f[0]
	j.r=f[1]
	j.b=f[2]
	j.l=f[3]
	j.h=j.t+j.b
	j.w=j.l+j.r
	return j
	},getBorderWidths:function I(e,d){return this.getBorderWidthsOrPaddings(e,d)
	},getPaddings:function D(e,d){return this.getBorderWidthsOrPaddings(e,d)
	},parkAfterFade:function B(d){var e=d.target.style
	if(e.opacity===0){e.left="-10000px"
	window.setTimeout(function(){e.opacity=0.99
	},0)
	return true
	}return false
	},getStyleValue:function J(d,h){var f=(h==="float"),g
	if(d.currentStyle){h=f?"styleFloat":h
	g=d.currentStyle[h]
	}else{if(document.defaultView&&document.defaultView.getComputedStyle){h=f?"cssFloat":h
	var e=document.defaultView.getComputedStyle(d,null)
	g=e?e[h]:null
	}}return g
	},getComputedStyle:function W(d,f){var e=(window.getComputedStyle)?function(g,h){return window.getComputedStyle(g,h||null)
	}:function(g){return g.currentStyle||{}
	}
	mstrmojo.css.getComputedStyle=e
	return e(d,f)
	},getCssTextFromObj:function F(f){var e="",d
	for(d in f){e+=d+":"+f[d]+"
	"
	}return e
	},onTransitionEnd:function b(f,d){var e="transition",g=window.Modernizr
	if(g.testProp(e)){Y.attachOneTimeEvent(f,Y.transEndEvtNames[g.prefixed(e)],d)
	}else{window.setTimeout(d,0)
	}},onAnimationEnd:function U(f,d){var e="animation",g=window.Modernizr
	if(g.testProp(e)){Y.attachEvent(f,Y.animationEndEvtNames[g.prefixed(e)],d)
	}else{window.setTimeout(d,0)
	}},flashClass:function Q(e,d,g){this.toggleClass(e,d,true)
	var f=this
	window.setTimeout(function(){f.toggleClass(e,d,false)
	},g)
	},convertCssToCamelCase:function K(d){return d.replace(/\-([a-z])/gi,function(e,f){return f.toUpperCase()
	})
	},printCSSInfo:function a(h){var n=document.styleSheets,q=n.length,k,l
	for(l=0
	l<q
	l++){var m=n[l],o=m.cssRules,f=o?o.length:0,p=0
	for(k=0
	k<f
	k++){var d=o[k].selectorText
	if(d){try{p+=d.split(",").length
	}catch(g){}}}var e=m.href
	if(!h||(e&&e.indexOf(h)>-1)){console.log("Stylesheet: "+e||"Inline CSS Block")
	console.log("Total rules: "+f)
	console.log("Total selectors: "+p)
	}}},cssEscape:function S(k){if(arguments.length===0){throw new TypeError("`CSS.escape` requires an argument.")
	}var g=String(k),j=g.length,f=-1,h,d="",e=g.charCodeAt(0)
	while(++f<j){h=g.charCodeAt(f)
	if(h==0){d+="\uFFFD"
	continue
	}if((h>=1&&h<=31)||h==127||(f==0&&h>=48&&h<=57)||(f==1&&h>=48&&h<=57&&e==45)){d+="\\"+h.toString(16)+" "
	continue
	}if(f==0&&j==1&&h==45){d+="\\"+g.charAt(f)
	continue
	}if(h>=128||h==45||h==95||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122){d+=g.charAt(f)
	continue
	}d+="\\"+g.charAt(f)
	}return d
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.string","mstrmojo.StringBuffer")
	mstrmojo._XMLNode=mstrmojo.declare(null,null,{nodeName:null,init:function N(O){mstrmojo.hash.copy(O,this)
	},addChild:function F(P){var O=new mstrmojo._XMLNode({nodeName:P})
	return this.appendNode(O)
	},appendNode:function J(O){if(O){if(!this.children){this.children=[]
	}this.children.push(O)
	O.parent=this
	}return O
	},addAttribute:function L(O,P){if(O!=null){if(!this.attributes){this.attributes={}
	}this.attributes[O]=P
	}return this
	},addText:function M(O){this._addToStringMember("text",O)
	return this
	},addRawXML:function K(O){this._addToStringMember("rawXML",O)
	return this
	},getXMLString:function I(){var O=new mstrmojo.StringBuffer()
	this.buildXMLString(O)
	return O.toString()
	},buildXMLString:function E(O){O=O||new mstrmojo.StringBuffer()
	O.append("<").append(this.nodeName).append(" ")
	this._buildAttributesXMLString(O).append(">").append(((this.text!=null)?this._escapeString(this.text):"")).append(((this.rawXML!=null)?this.rawXML:""))
	this._buildChildrenXMLString(O).append("</").append(this.nodeName).append(">")
	return O
	},_buildAttributesXMLString:function D(O){var Q=this.attributes
	if(Q){var R
	for(R in Q){if(Q[R]!=null){var P=String(Q[R])
	switch(R){case"et":case"nt":case"dmt":case"ddt":case"fnt":case"tp":case"stp":break
	default:P=this._escapeString(P)
	}O.append(R+'="'+P+'" ')
	}}}return O
	},_escapeString:function C(O){return mstrmojo.string.escape4HTMLText(O)
	},_buildChildrenXMLString:function H(P){var R=this.children
	var O=R&&R.length
	if(O){var Q
	for(Q=0
	Q<O
	Q++){if(R[Q]&&R[Q].buildXMLString){R[Q].buildXMLString(P)
	}}}return P
	},_addToStringMember:function A(O,Q){var P=this[O]
	if(P==null){this[O]=Q
	}else{this[O]=P+Q
	}}})
	mstrmojo.XMLBuilder=mstrmojo.declare(null,null,{root:null,curNode:null,addChild:function F(O){if(!this.root){this.currentNode=this.root=new mstrmojo._XMLNode({nodeName:O})
	}else{this.currentNode=this.currentNode.addChild(O)
	}return this
	},appendNode:function J(O){if(!this.root){this.currentNode=this.root=O
	}else{this.currentNode=this.currentNode.appendNode(O)
	}return this
	},addAttribute:function L(O,P){if(this.currentNode){this.currentNode.addAttribute(O,P)
	}else{alert("no root node")
	}return this
	},addText:function M(O){if(this.currentNode){this.currentNode.addText(O)
	}else{alert("no root node")
	}return this
	},addRawXML:function K(O){if(this.currentNode){this.currentNode.addRawXML(O)
	}else{alert("no root node")
	}return this
	},closeElement:function G(){this.currentNode=this.currentNode.parent
	return this
	},toString:function B(){if(this.root){return this.root.getXMLString()
	}return""
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.string")
	var A=mstrmojo.string
	mstrmojo.vi.ui._IsValidURL=mstrmojo.provide("mstrmojo.vi.ui._IsValidURL",{_mixinName:"mstrmojo.vi.ui._IsValidURL",isValidURL:function B(C){var D=!!C&&C.toLowerCase()
	return !!D&&(D.indexOf("javascript:")===-1)&&(!mstrApp.isSingleTier||A.startsWith(D,"http://")||A.startsWith(D,"https://"))
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo._XtabModelShared","mstrmojo.array","mstrmojo.hash","mstrmojo.string","mstrmojo.elementHelper","mstrmojo.models.datasets.DataInterface")
	var R=mstrmojo.array,X=mstrmojo.hash,D=mstrmojo.string,g=mstrmojo.elementHelper,U=mstrmojo._XtabModelShared,e=mstrmojo.models.datasets.DataInterface
	var c=1,Y=2,E=0,f=2
	var M="Metrics"
	function Q(l,m){var n=this.getDataService()
	n[l].apply(n,m)
	}function W(u,AB,t){var w=AB||g.getIdPresentation(u),AC,l
	switch(w){case"terse":case"terseLong":u=u.replace(/\\
	/g,"*ESCAPESEMICOLON*")
	AC=u.split("
	")
	return(AC[0]+"
	"+AC[1]+(t?"
	"+t:"")).replace(/\*ESCAPESEMICOLON\*/g,"\\
	")
	case"old":var n="",q=2
	u=u.replace(/\*:/g,"*COLON*").replace(/\\/g,"\\\\").replace(/
	/g,"\\
	")
	AC=u.split(":")
	while(AC[q]){n+=":"+AC[q]
	q++
	}return("h"+AC[1]+n+"
	"+AC[0]+(t?"
	"+t:"")).replace(/\*COLON\*/g,"\\:")
	case"oldLong":var m=0,AA,r,v=[],AD=[],z,x,p,o=function(){if(m<0){return null
	}var AH=false,AF=-1,AI,AG=null
	for(z=m
	z<u.length
	z++){AI=u.charAt(z)
	if(AI==="*"&&!AH){AH=true
	}else{if(AI===":"&&!AH){AF=z
	break
	}else{AH=false
	}}}if(AF===-1){AG=u.substring(m)
	m=-1
	}else{AG=u.substring(m,AF)
	m=AF+1
	}return AG
	}
	p=o()
	if(p!=="BB"&&p!=="BF"){return u
	}l=o()
	if(p==="BF"){l=o()
	}AA=parseInt(o(),10)
	r=parseInt(o(),10)
	for(x=0
	x<r
	x++){AD[x]=parseInt(o(),10)
	o()
	}for(x=0
	x<r
	x++){var AE=o()
	if(AD[x]<AA&&AD[x]>=0){v[AD[x]]=AE.replace(/\\/g,"\\\\").replace(/\*:/g,"\\:").replace(/
	/g,"\\
	")
	}}return"h"+v.join(":")+"
	"+l+(t?"
	"+t:"")
	}return u
	}mstrmojo._DocXtabModelShared=mstrmojo.provide("mstrmojo._DocXtabModelShared",X.copy({mixinName:"mstrmojo._DocXtabModelShared",getDataService:function O(){return this.docModel.getDataService()
	},getNormalizedFormElementId:function I(m,l){return W(m,null,l)
	},getRenameTemplateUnitAction:function h(p,n,l,m){var o={act:"renameUnit",id:p,type:n,name:l}
	if(m){o.isDynamicAlias=true
	}return o
	},getRemoveTemplateUnitAction:function N(l){return{act:"removeUnit",unitId:l.did||l.id,unitType:l.t||4,is_disableonly:1}
	},getAdvSortData:function C(l,m){Q.call(this,"getAdvSortData",[l,m])
	},getSelectorControlMapInfo:function H(){var m=[],o=this.data.gsi,n=[],l
	if(this.scm){X.forEach(o,function(p){if(p instanceof Array){n=n.concat(p)
	}})
	X.forEach(this.scm,function(q,p){l=R.find(n,"did",p)
	if(l!==-1){m.push({did:p,n:n[l].n,sc:q})
	}})
	}return m
	},compareElementsId:function G(p,o){if(!this.docModel.als){return this.compareElementsIdInSingleGrid(p,o)
	}var n=g.getIdPresentation(p),m=g.getIdPresentation(o),l=W(p,n),q=W(o,m)
	return this.compareNormalizedElementsId(l,q)
	},compareNormalizedElementsId:function K(m,l){if(m===l){return true
	}else{if(this.docModel.populateAttributeIdLinkInfo){this.docModel.populateAttributeIdLinkInfo()
	}if(g.isAttributeIdsLinked(g.getAttributeId(m),g.getAttributeId(l),this.docModel.als&&this.docModel.als.idLinks||{})){return g.getElementValue(m)===g.getElementValue(l)
	}}return false
	},compareElementsIdInSingleGrid:function L(o,n){var m=g.getIdPresentation(o),l=g.getIdPresentation(n)
	if(m!==l||m==="oldLong"||m==="terseLong"){return W(o,m)===W(n,l)
	}return o===n
	},getFullObjectInfo:function k(l){return e.getObjectInfoFromDataset(l,this.docModel.datasets)
	},getFullMetricInfoFromCell:function b(m){var l=X.walk("data.gsi.mx."+m.mix,this)
	return l&&this.getFullObjectInfo(l.did)
	},getNDEFormsFromDataset:function P(m){var l=this.getFullObjectInfo(m)
	return l&&l.fs
	},getShowTotalsUnitAction:function S(o,m,n,l){return{act:"showTotals",unitId:String(o||""),unitType:m||"",subtotalType:n,clearSubtotalType:l}
	},getMoveSubTotalAction:function d(n,o,p,u){var AA=mstrmojo.models.template.DataInterface,v=AA.getGSI(this.xtab.gridInfo,p),x=(v&&v.sorts)||[],m=n&&n.axis,r=this,q
	function l(AD,AE){var AG=[]
	if(AE.length>=AD){if(u){AG=AD===c?AE[Y-1]:AE[c-1]
	}else{AG=AE[AD-1]
	}}function AC(AH){return !!(AH&&AH.length&&AH[0].key&&!r.hasDummySortKey(AH[0].key))
	}var AB=AC(AG),AF
	if(AB){AF=r.convertCurrentSortsIntoActionSorts(AE)
	if(u){AF.forEach(function(AI,AH){(AI||[]).forEach(function(AK){var AJ=AK.key
	if(AJ){if(AJ.indexOf("!!1")>=0){AK.key=AJ.replace(/!!1/g,"!!2")
	}else{AK.key=AJ.replace(/!!2/g,"!!1")
	}}})
	})
	AF=AF.reverse()
	}}return AB?AF:[]
	}function t(AD,AE){if(!AE||AE.length<AD){return false
	}var AB=AE[AD-1]
	if(!AB||AB.length!==1){return false
	}var AF="!5",AC=AB[0].key
	return AC&&AC.slice(-2)===AF
	}function w(AE,AB,AD,AC,AF){return{act:"moveSubTotal",nodeKey:AE,sorts:AB,subTotalsPos:AD,stt:AF||-1,axis:AC}
	}function z(){var AD=this.data,AC=AD&&AD.gts,AH=AC&&AC.rowSubPos||E,AB=AC&&AC.colSubPos||E,AG=[AH,AB]
	if((!m||m===c)&&AH===E){var AF=AC&&AC.row||[],AE=false
	R.forEach(AF,function(AI){if(AI.ast&&AI.ast.length>0){AE=true
	return false
	}})
	if(!AE||AD&&AD.gsi&&AD.gsi.hidesb){AG[c-1]=f
	q=l(c,x)
	return w(p,q,AG,c)
	}}return null
	}if(!o){return z.call(this)
	}else{q=l(m,x)
	return w(p,q,o,m,t(m,q)&&n.hst?n.hst:-1)
	}},getTotalsAction:function j(l,o,m){var n=this.getPivotAction(l)
	n.act="showTotals"
	n.subtotalType=o
	n.clearSubtotalType=m
	return n
	},getRemoveAxisTotalsAction:function J(m,l){return{act:"removeAxisTotals",axis:l,subtotalType:m}
	},getShowDefinedSubtotalsAction:function B(){return{act:"showDefinedSubtotals"}
	},getUpdateGridPropsAction:function a(l){return{act:"setProperty",nodeKey:this.xtab.k,prs:"Visualization",pri:13,v:D.encodeXMLAttribute(JSON.stringify(l))}
	},getColumnResizeAction:function A(o,l,m,n,p){return{act:"changeXtabColumnWidth",unitId:o,unitType:l,width:m||0,depth:n||1,ec:p}
	},getSortGridAction:function Z(p,m,n,l,o){return X.copy(o,{sortKey:m,subTotalsPos:p,axis:n,isAsc:l})
	},getCellDataUnion:function F(v,m){var o=this,r=this.allowMetricHeaderSelection,l=v.isObjHeader,w=v.hasOwnProperty("mix"),n=[],u,q=X.walk("data.ghs.chs.show",this),p=function p(z){var x=o.getCellTitleInfo(z),AC=x.title,AB=AC&&AC.id,AA=AC&&AC.n
	if(AB||(l&&r&&AA===M)){u={}
	if(z.stt){u.isSubtotal=true
	}if(!m||m.indexOf(AB)<0){n.push(X.copy(u,{tid:AB,eid:z._e&&z._e.id,v:z.v||(z._e&&z._e.n)}))
	}}},t=function t(AA){var x=o.getCellTitleInfo(AA),AB=x.title,z=X.walk("data.gts.col",o)
	return R.indexOf(z,AB)>=0
	}
	if(v){if(!w||(l&&r)){p(v)
	}else{R.forEach([v._lp,v._tp],function(x){var z=x
	while(z&&z!==z._p){p(z)
	if(!z._p&&t(z)&&typeof q!=="undefined"&&!q){z=o.getPCellParentNodeByPI(z)
	}else{z=z._p
	}}})
	}}return n
	},},X.copy(U)))
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.string")
	mstrmojo.vi.ui.rw.linkingExprHelper=mstrmojo.provide("mstrmojo.vi.ui.rw.linkingExprHelper",{makeBold:function B(C){return"<span style='font-weight:bold
	'>"+C+"</span>"
	},getLinkingSelectorExpr:function A(F,E){var G=[],H="",D=true,I=mstrmojo.desc(5283,"OR"),C=F.keepOnly?"##":mstrmojo.desc(13232,"Not ##")
	if(E){I=this.makeBold(I)
	}F.data.every(function(J){[].concat(J).every(function(K){if(H===""){H=K.tn
	}return(D=(H===K.tn))
	})
	return D
	})
	F.data.forEach(function(L,J){var K=[]
	if(D){if(J>0){K.push(I)
	}else{K.push(C.replace("##",H+" = "))
	}}[].concat(L).forEach(function(O){var N=E?mstrmojo.string.encodeHtmlString(O.v):O.v,M=E?mstrmojo.string.encodeHtmlString(O.tn):O.tn
	K.push((D?"":(M+" = "))+(N||mstrmojo.desc(14323,"NULL")))
	})
	G.push(K.join(" "))
	})
	return G.join(" ")
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Base")
	mstrmojo.chart.common.DSSTimeUtil=mstrmojo.declare(mstrmojo.Base,null,{scriptClass:"mstrmojo.chart.common.DSSTimeUtil",DaysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],DaysBeforeMonth:[0,31,59,90,120,151,181,212,243,273,304,334],DateAbove1970:[1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1971,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1997,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1973,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1971,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1997,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1973,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1971,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1997,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1973,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1971,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1997,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1973,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1971,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1997,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1973,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981,1971,1972,1973,1974,1997,1976,1977,1978,1973,1980,1981,1971,1977,2012,1974,1997,1981,1988,1978,1973,1974,1992,1971,1977,1978,1996,1997,1981]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Base","mstrmojo.array","mstrmojo.hash")
	var I=mstrmojo,G=I.array,E=I.hash,A="00000000000000000000000000000000",F=-1
	function K(L){return L&&L.t===4&&L.id!==A
	}function H(M){var L,N=(M&&M.length)||0
	if(N===0){return false
	}for(L=0
	L<N
	L++){if(!K(M[L])){return false
	}}return true
	}mstrmojo.VisProps=null
	mstrmojo.vi.viz.DropZoneHelper=mstrmojo.declare(mstrmojo.Base,null,{scriptClass:"mstrmojo.vi.viz.DropZoneHelper",getXml:function B(){return""
	},setData:function J(L){},isMetric:function(L){return K(L)
	},isMetricZone:function(L){return H(L)
	},getMetricCountInZone:function D(M){var L=0
	G.forEach(M,function(N){if(K(N)){L++
	}})
	return L
	}})
	mstrmojo.vi.viz.DropZoneHelper.METRIC_NAMES_ID=A
	mstrmojo.vi.viz.DropZoneHelper.isMetricNames=function C(L){return(parseInt(L.did,10)===F)||(L.id===A)||(L.did===A)
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.dnd")
	var E=mstrmojo.dom
	function B(I){return E.contains(this.getMovingHandle(),I.src.node,true,document.body)
	}mstrmojo._IsMovable=mstrmojo.provide("mstrmojo._IsMovable",{draggable:true,ownAvatar:true,getMovingHandle:function G(){return this.domNode
	},getMovingTarget:function H(){return this.domNode
	},isDragValid:function A(I){return B.call(this,I)||(this._super&&this._super(I))||false
	},ondragstart:function C(J){if(B.call(this,J)){var K=this.getMovingHandle(),I=this.getMovingTarget().style
	this._leftPos=parseInt(I.left,10)
	this._topPos=parseInt(I.top,10)
	this._hWidth=K.clientWidth
	this._hHeight=K.clientHeight
	}if(this._super){this._super()
	}},ondragmove:function F(L){if(B.call(this,L)){var M=L.tgt.pos,J=L.src.pos,K=this.getMovingTarget().style,I=E.windowDim()
	K.left=this.left=Math.min(Math.max(this._leftPos+M.x-J.x,-this._hWidth+40),I.w-40)+"px"
	K.top=this.top=Math.min(Math.max(this._topPos+M.y-J.y,-this._hHeight+20),I.h-20)+"px"
	}if(this._super){this._super()
	}},ondragend:function D(I){if(B.call(this,I)){delete this._leftPos
	delete this._topPos
	delete this._hWidth
	delete this._hHeight
	}if(this._super){this._super()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.dnd","mstrmojo.EnumRWUnitType","mstrmojo.vi.enums.EnumCanvasSizeType")
	var x=mstrmojo.array,Y=mstrmojo.hash,u=x.fnReduceNumber,AV=mstrmojo.EnumRWUnitType,E={none:0,edit:1,preview:2}
	mstrmojo.vi.ui.BoxLayoutType=null
	var p="c"
	var X="flc"
	var z="b"
	var AE="g"
	var a="h"
	var AX="v"
	var Q=["ifwChildren","canvasSize","floatChildren"]
	var w={ifwTopPerc:25,ifwLeftPerc:25,ifwWidth:50,ifwHeight:50,leftPerc:10,topPerc:5,defaultWidthPerc:30,defaultHeightPerc:30,panelStackWidthPerc:50,panelStackHeightPerc:50,imageWidthPerc:40,imageHeightPerc:12,textWidthPerc:40,textHeightPerc:12,selectorWidthPerc:65,selectorHeightPerc:12,sizeAbs:200,posAbs:0},AL=5
	var Z="|"
	var AI=false
	function K(AY){mstrmojo.all[this.hostId].buildBoxLayout(AY)
	}function N(AY){var AZ=this.hostId&&mstrmojo.all[this.hostId]
	if(AZ&&AZ.toggleFloatChild){AZ.toggleFloatChild(AY)
	}}function e(AZ){AZ=AZ||""
	var AY=AZ.split(Z)
	return{target:parseInt(AY.pop(),10),parentPathArray:AY,parentPath:AY.join(Z)}
	}function D(Ab,AZ){if(!Ab){return undefined
	}AZ=AZ||this.box
	var Aa=e(Ab),AY=AZ
	Aa.parentPathArray.forEach(function(Ad){AY=AY.children[Ad]
	})
	var Ac=function(Ae,Ai,Ag){var Ak=Ai.children,Ad=Ak[Ae],Aj=function(Ao,Am,An){if(Ao.t===p){return mstrmojo.all[Ao.id].getMinBoxSize(Ai.o)+(An?this.padding:0)
	}var Al=Ao.children.map(function(Ap){return Aj(Ap,Am,An)
	})
	if(Ao.o===Am){return Al.reduce(u)
	}return Math.max.apply(null,Al)
	}.bind(this),Ah=function(Am,Ao,Al,An){return Am.map(function(Aq,Ap){return Ac(Ap+Ao,Al||Ai,(An===0||An==="0")?0:(An||Ag))
	})
	},Af=function(Am){var Al=[0,Ae]
	if(Am){Al=[Ae+1]
	}return Ah(Array.prototype.slice.apply(Ak,Al),Am?Ae+1:0)
	}
	return{idx:Ae,path:(Ag||parseInt(Ag)===0)?(Ag+Z+Ae):Ae,parent:Ai,parentPath:Ag,siblings:Ak,box:Ad,getBoxLength:function(){return Ad[Ai.o==="v"?"h":"w"]
	},getSiblings:function(){return Ah(Ak,0)
	},getPreviousSiblings:function(){return Af()
	},getNextSiblings:function(){return Af(true)
	},getMinimumBoxSize:function(Al,Am){return Aj(Ad,Al,Am)
	},getChildren:function(){return Ah(Ad.children||[],0,Ad,this.path)
	}}
	}.bind(this)
	if(AY&&AY.children){return Ac(Aa.target,AY,Aa.parentPath)
	}else{return undefined
	}}function W(Aa,AZ){var AY=mstrmojo.all[Aa].getBoxConfiguration().f
	return AY&&AY[AZ]
	}function F(AY){return AY.filter(function(AZ){return !AZ.f
	})
	}function l(AY){return !AY.some(function(AZ){return !AZ.f
	})
	}function AA(Ad,AY,Ac){if(Ad.length){var Aa=Ac?0:AY,Ab=Ac?AY:0,AZ=Ad[0]
	Ad.forEach(function(Af){var Ae=Math.round((Af.l/(100-Aa))*AY)
	Af.l+=Ac?-Ae:Ae
	Ab+=Af.l
	AZ=Af
	})
	AZ.l+=100-Ab
	}}function AF(Aa,AZ){var AY=F(Aa)
	AZ=AZ||Math.round(100/(AY.length+1))
	AA(AY,AZ,true)
	return AZ
	}function G(AZ,AY){AA(F(AZ),AY)
	}function H(Ac){var Ab=mstrmojo.all[this.hostId],Aa=Ab.children,AZ={},AY=function(Ad){return !Ad.children.some(function(Af){if(Af.t===p){var Ae=mstrmojo.all[Af.id]||mstrmojo.all[AZ[Af.k]]
	return !Ae.getBoxConfiguration().f
	}return !AY(Af)
	})
	}
	x.forEach(Aa,function(Ad){AZ[Ad.k]=Ad.id
	})
	return AY(Ac)
	}function AK(Ad,Aa){var Ab=Ad.children,AZ=Ab.reduce(function(Ae,Af){return Af.l+Ae
	},0)
	Ab.forEach(function(Ae){delete Ae.f
	Ae.l=Math.round((Ae.l/AZ)*100)
	})
	if(Ad!==this.box){Ad.f=true
	Ad.l=Ad[Ad.o==="h"?"h":"w"]
	if(Aa){var AY=D.call(this,Aa),Ac=AY.box
	if(l(Ac.children)){AK.call(this,Ac,AY.parentPath)
	}}}}function AB(Ad,AZ){var Ag=Ad.children,AY=0
	Ag.filter(function(Ah){return Ah.t===p
	}).forEach(function(Ah){AY+=Ah.l
	Ah.f=true
	Ah.l=W(Ah.id,Ad.o)
	})
	F(Ag).forEach(function(Ah){Ah.l=Math.round(Ah.l*(100/(AY||100)))
	})
	var Ae=this.box
	if(Ad!==Ae){var Ac=AZ&&D.call(this,AZ),Ab=(Ac&&Ac.box)||Ae
	if(H.call(this,Ab)){AB.call(this,Ab,Ac&&Ac.parentPath)
	return 
	}var Aa=Ab.children,Af=Aa.indexOf(Ad)
	delete Ad.f
	Aa.splice(Af,1)
	Ad.l=AF(Aa)
	Aa.splice(Af,0,Ad)
	}}function AT(AY){if(typeof AY!=="string"){return undefined
	}return parseInt(AY,10)
	}function AC(AY,Ab){var AZ=false
	var Aa=AT(AY)
	if(Aa!==undefined){AY=Aa
	AZ=true
	}return{f:AZ,l:AY===undefined?100:AY,r:!!Ab}
	}function P(AY){return function(AZ,Aa){if(!!AY){AZ.push(Aa)
	}else{AZ.splice(0,0,Aa)
	}return AZ
	}
	}function q(AY){if(AI){console.log(JSON.stringify({t:AY,cfg:this.box}))
	}}function S(Ai,Ah,Af,Ag){var AY=this.getNewRootBox(Ai===AX),Ac=this.box,Ae=Ac.children,Ad=Ac.canvasSize,Ab=this.box.floatChildren,Aa=this.box.ifwChildren,AZ=Ae[0]
	if(Ae.length>1){AZ=Object.keys(Ac).reduce(function(Aj,Ak){if(Q.indexOf(Ak)===-1){Aj[Ak]=Ac[Ak]
	}return Aj
	},{})
	}Ah.l=Ag||100/((AZ?1:0)+1)
	if(AZ){AZ.l=Ag?100:50
	}AY.children=Af([AZ].filter(function(Aj){return Aj
	}),Ah)
	AY.floatChildren=Ab
	AY.ifwChildren=Aa
	AY.canvasSize=Ad
	this.box=AY
	}function I(AY,Af,Ab,Ac){var Ae=this.identifier,AZ=this.box,Aa=AZ.children,Ag={t:p,f:false,l:100,id:AY.id},Ad=P(Ac)
	Ag[Ae]=AY[Ae]
	if(H.call(this,AZ)){if(Af){Af=0
	}else{AB.call(this,AZ)
	}}Ag.f=!!Af
	if(Ab){if(Ab===AZ.o){Ag.l=Af||AF(Aa)
	Ad(Aa,Ag)
	}else{S.call(this,Ab,Ag,Ad,Af)
	}}else{Ag.l=Af||AF(Aa)
	Ad(Aa,Ag)
	}q.call(this,"addRootChild")
	}mstrmojo.vi.ui.BoxLayoutConfig=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.vi.ui.BoxLayoutConfig",identifier:"k",padding:4,hostId:"",box:null,boxTree:[],boxPaths:null,init:function AO(AY){Y.copy(AY,this)
	},validateBoxLayout:function C(AY,Aa){Aa=Aa||this.box
	var Ad=this.identifier,AZ=this,Ab=function(Ag){var Af=Ag.children,Ah=Af.filter(function(Ai){return Ai.t===z
	})
	var Ae=Af.length
	if(Ae===Ah.length&&Ae===1){return false
	}return Ah.map(Ab).reduce(function(Ai,Aj){return Ai&&Aj
	},true)
	},Ac=function(){var Ah=AY.map(function(Aj){return Aj[Ad]
	}),Ai=function(Al){var Ak=[]
	Al.children.forEach(function(An){if(An.t===z){Ak=Ak.concat(Ai(An))
	}else{Ak.push(An[Ad])
	}})
	var Aj=mstrmojo.all[AZ.hostId].groupTreeLayoutConfig,Am
	if(Al.floatChildren){if(Al.floatChildren.length!==undefined){Am=Al.floatChildren
	}else{if(Aj&&Aj.getFloatGroupTree()){Am=Aj.getLeafNodeArray(true)
	}}}if(!Am){Am=[]
	}Am.forEach(function(An){if(An.t==="flc"){Ak.push(An[Ad])
	}})
	return Ak
	},Af=Ai(Aa)
	if(Aa.floatChildren){var Ag=function(Aj){var Ak=[]
	if(Aj){Aj.forEach(function(Al){if(!Al.children&&Ah.indexOf(Al.k)===-1){Ak.push(Al)
	x.removeItem(Af,Al.k)
	}if(Al.children){Ag(Al.children)
	}})
	x.forEach(Ak,function(Al){x.removeItem(Aj,Al)
	})
	}}
	var Ae
	if(x.isArray(Aa.floatChildren)){Ae=Aa.floatChildren
	}else{Ae=Aa.floatChildren.children
	}Ag(Ae)
	}return(Af.length!==0||Ah.length===0)&&Af.every(function(Aj){return Ah.indexOf(Aj)>-1
	})
	}.bind(this)
	return Ab(Aa)&&Ac()
	},useDefaultBox:function(Ab,Ae){var Aa=this.identifier,AZ=Math.round(100/Ab.length),Ac=this.getNewRootBox(this.box&&this.box.o===AX),AY=0,Ad=null
	Ac.children=Ab.map(function(Al,Ai){var Ag={t:p},Ah=AZ,Aj=false
	if(Ae){Ah=Ae[Ai]
	var Ak=AT(Ah)
	if(Ak!==undefined){Ah=Ak
	Aj=true
	}}if(!Aj){AY+=Ah
	Ad=Ag
	}Ag.l=Ah
	Ag.f=Aj
	Ag[Aa]=Al[Aa]
	return Ag
	})
	if(Ad){var Af=100-AY
	if(Af){Ad.l+=Af
	}}this.box=Ac
	return Ac
	},getNewRootBox:function h(AY){return{t:z,o:AY?AX:a,children:[],floatChildren:[],ifwChildren:[],canvasSize:{sizeType:mstrmojo.vi.enums.EnumCanvasSizeType.AUTOMATIC,sizeSetting:null}}
	},getDefaultIfwLayout:function d(Ab,Ae){var Ac=w.ifwWidth,AZ=w.ifwHeight,Ah=w.ifwTopPerc,Ag=w.ifwLeftPerc,Ai=mstrmojo.all[this.hostId],Af=Ai.getContainerNodeMargin(),AY=parseInt(Ai.width,10)-2*Af,Ad=parseInt(Ai.height,10)-2*Af
	var Aa={fixed:"0",k:Ab.k,t:"flc",hidden:0}
	Aa.width=Ac+"|"+Ac/100*AY+"px"
	Aa.height=AZ+"|"+AZ/100*Ad+"px"
	Aa.left=Ag+"|"+Ag/100*AY+"px"
	Aa.top=Ah+"|"+Ah/100*Ad+"px"
	return Aa
	},getDefaultFloatLayout:function AS(Af,As,Aw){var Ay,Az,Ak=this.box,Aq=Af.model.getSelectedViUnit()||null,Aj=mstrmojo.all[this.hostId],Ah=Aj.getContainerNodeMargin(),AY=parseInt(Aj.width,10)-2*Ah,AZ=parseInt(Aj.height,10)-2*Ah,An=Aj.groupTreeLayoutConfig,Ab=An.getLeafNodeArray(),Ad,Ac=Af.left,At=typeof Ac==="string"&&Ac.indexOf("|")!==-1,Ae=Aq&&Aq.parent,Ax=!!(Ae&&Aj.k===Ae.k)
	switch(Y.walk("defn.t",Af)){case AV.TEXTFIELD:Ay=w.textWidthPerc
	Az=w.textHeightPerc
	break
	case AV.IMAGE:Ay=w.imageWidthPerc
	Az=w.imageHeightPerc
	break
	case AV.SELECTOR:Ay=w.selectorWidthPerc
	Az=w.selectorHeightPerc
	break
	case AV.PANELSTACK:Ay=w.panelStackWidthPerc
	Az=w.panelStackHeightPerc
	break
	default:Ay=w.defaultWidthPerc
	Az=w.defaultHeightPerc
	}if(As&&Ae&&Ae.getFloatGroupTree()){var Aa=Ae.groupTreeLayoutConfig,Ai=Aa&&Aa.getLeafNodeArray(),Am=x.find(Ai,"k",Aq.k)
	if(Am!==-1){Ad=Aa.parseConfigNode(Ai[Am])
	}}var Ap,Ao=An.parseConfigNode(Aw)
	if(Ab.length>0){Ap=parseFloat(Ab.sort(function(A1,A0){return parseFloat(A1.zIndex)-parseFloat(A0.zIndex)
	})[Ab.length-1].zIndex)
	}else{Ap=2
	}Af.unDocked=true
	var Al={fixed:"0",k:Af.k,rk:Af.parent&&Af.parent.k,l:Ak.o===AX?Az:Ay,zIndex:Ap+"",t:"flc",hidden:0},Ar,Ag=function(A1){var A4=Aj.getScrollPosition(),A3=AY/2-parseFloat(A1.width.split("|")[1])/2,A2=AZ/2-parseFloat(A1.height.split("|")[1])/2,A0=function(A6,A5){return Math.floor(Math.random()*A6)-(A5?A6/2:0)
	}
	A3+=A4.scrollLeft+A0(AY*0.3,true)
	A2+=A4.scrollTop+A0(AZ*0.3,true)
	A3=A3<0?A0(50,false):A3
	A2=A2<0?A0(50,false):A2
	return{top:A2,left:A3}
	}
	if(Ad){Al.width=Ad.width[0]+"|"+(Ad.width[0]/100*Ao.width[1])+"px"
	Al.height=Ad.height[0]+"|"+(Ad.height[0]/100*Ao.height[1])+"px"
	if(!Ax){Al.left=Ad.left[0]+"|"+(Ad.left[0]/100*Ao.width[1])+"px"
	Al.top=Ad.top[0]+"|"+(Ad.top[0]/100*Ao.height[1])+"px"
	}else{Ar=Ag(Al)
	Al.left=(Ar.left/Ao.width[1]*100)+"|"+Ar.left+"px"
	Al.top=(Ar.top/Ao.height[1]*100)+"|"+Ar.top+"px"
	}}else{var Au=Ay/100*AY,Av=Az/100*AZ
	Al.width=(Au/Ao.width[1]*100)+"|"+Au+"px"
	Al.height=(Av/Ao.height[1]*100)+"|"+Av+"px"
	if(At){Al.left=Af.left
	Al.top=Af.top
	}else{Ar=Ag(Al)
	Al.left=(Ar.left/Ao.width[1]*100)+"|"+Ar.left+"px"
	Al.top=(Ar.top/Ao.height[1]*100)+"|"+Ar.top+"px"
	}}return Al
	},getDefaultBoxSize:function AR(AZ,AY){return{width:w.defaultWidthPerc/100*AZ,height:w.defaultHeightPerc/100*AY}
	},buildBoxTree:function g(AY){var AZ={},Ab={},Aa=this.boxTree=[],Ac=this.box.floatChildren
	if(!Ac){return 
	}Ac.forEach(function(Ad){(AZ[Ad.rk]=AZ[Ad.rk]||[]).push(Ad.k)
	if(Ad.rk){Ab[Ad.rk]=(Ab[Ad.rk]||0)
	}Ab[Ad.k]=(Ab[Ad.k]||0)+1
	})
	Object.keys(Ab).forEach(function(Ad){if(Ad&&!Ab[Ad]){var Ae=this.getBoxTreeRoots(AY,Ad)
	Ae.k=Ad
	Ae.children=[]
	Aa.push(Ae)
	}},this)
	this.buildHelper(Aa,AZ,Ac)
	},buildHelper:function O(AY,AZ,Aa){AY.forEach(function(Ab){(AZ[Ab.k]||[]).forEach(function(Ac){var Ad=Y.copy(Aa[x.find(Aa,"k",Ac)])
	Ad.children=[]
	Ab.children.push(Ad)
	})
	this.buildHelper(Ab.children,AZ,Aa)
	},this)
	},getBoxTreeRoots:function M(AY,AZ){var Ab
	if(AZ===AY.k){var Ac=AY.getCanvasWidthAndHeight()
	Ab={left:0,top:0,width:Ac.width,height:Ac.height}
	}else{var Aa=AY.getUnitByKey(AZ).domNode.style
	Ab=["left","top","width","height"].reduce(function(Ae,Af,Ad){Ae[Af]=Ad&2?parseFloat(Aa[Af])-(AY.panelPadding*2||0):Aa[Af]
	return Ae
	},{})
	}return Ab
	},newObjInBoxTree:function U(Aa){var AZ=Aa.domNode.style,AY=this.boxTree
	return AY[AY.push({left:AZ.left,top:AZ.top,width:parseFloat(AZ.width),height:parseFloat(AZ.height),k:Aa.k,children:[]})-1]
	},findTargetNodeInBoxTree:function AP(Ab,AY){var Aa
	for(var AZ=0
	AZ<AY.length
	++AZ){if(AY[AZ].k===Ab.k){return AY[AZ]
	}Aa=this.findTargetNodeInBoxTree(Ab,AY[AZ].children)
	if(Aa){return Aa
	}}},findTargetParentInBoxTree:function L(Ab,AY){var Aa
	for(var AZ=0
	AZ<AY.length
	++AZ){if(AY[AZ].children.length&&AY[AZ].children.find(function(Ac){return Ac.k===Ab.k
	})){return AY[AZ]
	}Aa=this.findTargetParentInBoxTree(Ab,AY[AZ].children)
	if(Aa){return Aa
	}}},moveBoxToRelative:function f(Ab,AY){var Aa=this.boxTree,AZ=this.findTargetParentInBoxTree(Ab,Aa),Ac=AZ.children.splice(x.find(AZ.children,"k",Ab.k),1)[0]
	(this.findTargetNodeInBoxTree(AY,Aa)||this.newObjInBoxTree(AY)).children.push(Ac)
	this.updateAttrInFloatChildren(Ab,AY,Ac)
	},updateAttrInFloatChildren:function v(Ac,AZ,Ae){if(this.findFloatKey(Ac)){var Ad=this.box.floatChildren,AY=Ad[x.find(Ad,"k",Ac.k)],Aa=AZ.domNode.style,Ab=Ac.domNode.style
	[AY,Ae].forEach(function(Af){Y.copy(["left","top","width","height"].reduce(function(Ai,Ak,Ah){var Aj=parseFloat(Ab[Ak]),Ag=parseFloat(Aa[Ak])||0
	Ai[Ak]=Ah&2?Aj/Ag*100+"|"+Aj:(Aj-Ag)/(Ah?parseFloat(Aa.height):parseFloat(Aa.width))*100+"|"+(Aj-Ag)+"px"
	return Ai
	},{}),Af)
	})
	AY.rk=AZ.k
	}},addFloat:function AQ(Aa,AY){var AZ=this.box.floatChildren
	AZ.children.push(this.getDefaultFloatLayout(Aa,AY,AZ))
	},addIfwLayoutNode:function c(AZ,AY){this.box.ifwChildren=this.box.ifwChildren||[]
	this.box.ifwChildren.push(this.getDefaultIfwLayout(AZ,AY))
	},updateFloatLayout:function AG(Aa,AZ){var AY=mstrmojo.all[this.hostId]
	AY.updateChildNode(AZ,{newLayout:Aa})
	AZ.notifyGroup()
	},updateIfwLayout:function AD(Aa,AZ){var AY=mstrmojo.all[this.hostId]
	AY.updateIfwNode(AZ,{newLayout:Aa})
	},addNewChild:function j(Aa,AZ,Ac,Ab){var AY=AC(AZ,Ab)
	AY.t=p
	AY[this.identifier]=Ac
	Aa.children.push(AY)
	},getBoxState:function t(){return JSON.parse(JSON.stringify(this.box))
	},getResizeBoundaries:function AU(Ac,Aa){var AZ={min:0,max:0},AY=function(Ae,Ad){if(!Ad){return 
	}Ad.getPreviousSiblings().forEach(function(Af){AZ.min+=Af.getMinimumBoxSize(Aa,true)
	})
	Ad.getNextSiblings().forEach(function(Af){AZ.max+=Af.getMinimumBoxSize(Aa,true)
	})
	Ae.pop()
	Ae.pop()
	AY(Ae,D.call(this,Ae.join(Z)))
	}.bind(this)
	var Ab=D.call(this,Ac)
	AZ.min+=Ab.getMinimumBoxSize(Aa,true)-this.padding
	AY(Ac.split(Z),Ab)
	return AZ
	},resizeBox:function AN(Ad,Ae){var AY=0,Af=1,Ab=2,AZ=function(Ai,Aq,Ao,Am){var Ak=Math.abs(Ao),Aj,An,Al
	Al=Ao=-Ak
	Aj=Ai.map(function(Ar){return Ar.box.l
	}).reduce(u,0)
	if(Aj===0){Aj=100
	}Ai.forEach(function(Au){var At=Au.box,Av=Au.getBoxLength(),Ar=0
	if(Ao){An=!At.f?(Al*At.l/Aj):Al/Ai.length
	var As=Math.max(Av+An,Au.getMinimumBoxSize(Au.parent.o,false))
	Ar=Av-As
	Ao+=Ar
	Av=As
	}Am.push({idx:Au.idx,l:Av,f:Au.box.f,d:-Ar})
	})
	var Ap={}
	Aj=Aq.map(function(Ar){return Ar.box.l
	}).reduce(u,0)
	if(Aj===0){Aj=100
	}Aq.forEach(function(At,Ar){var As=At.getMinimumBoxSize(),Au=At.getBoxLength()
	if(Au<As&&Ak>0){Ap[Ar]=Math.min(As-Au,Ak)
	Ak-=Ap[Ar]
	}})
	Aq.forEach(function(Au,As){var At=Au.box,Ar=0,Av=Au.getBoxLength()
	if(Ap[As]){Av+=Ap[As]
	}An=!At.f?(Ak*At.l/Aj):Ak/Aq.length
	Ar=An
	Av+=Ar
	Am.push({idx:Au.idx,l:Av,f:Au.box.f,d:Ar})
	})
	return Ao
	},Ac=function(Ai,An,Al,Am){var Aj=Math.abs(Al)
	Al=-Aj
	Ai.forEach(function(Aq){var Ar=Aq.getBoxLength(),Ao=0
	if(Al){var Ap=Aq.getMinimumBoxSize(Aq.parent.o,false)
	if(Ar+Al>=Ap){Ar=Ar+Al
	Ao=Math.abs(Al)
	Al=0
	}else{Ao=Ar-Ap
	Al+=Ao
	Ar=Ap
	}}Am.push({idx:Aq.idx,l:Ar,f:Aq.box.f,d:-Ao})
	})
	var Ak={}
	An.forEach(function(Aq,Ao){var Ap=Aq.getMinimumBoxSize(),Ar=Aq.getBoxLength()
	if(Ar<Ap&&Aj>0){Ak[Ao]=Math.min(Ap-Ar,Aj)
	Aj-=Ak[Ao]
	}})
	An.forEach(function(Aq,Ap){var Ar=Aq.getBoxLength(),Ao=0
	if(Ap===0){Ao=Aj
	Ar+=Aj
	}Am.push({idx:Aq.idx,l:Ar,f:Aq.box.f,d:Ao})
	})
	return Al
	},Aa=function(Ak,Aj,Al,Ai){var An=D.call(this,Ak),Ao=An.getPreviousSiblings().concat(An),Am=Ao,Ap=An.getNextSiblings()
	Ao.reverse()
	if(Aj>=0){Am=Ap
	Ap=Ao
	}return Ai?Ac(Am,Ap,Aj,Al):AZ(Am,Ap,Aj,Al)
	},Ag=function(Aj,Ai){return function(Am,Al,An,Ak){var Ap=D.call(this,Am),Aq=Ap.getSiblings(),Ao=Aq,Ar=[]
	if(Aj){Aq.reverse()
	}if(Ai){Ao=[]
	Ar=Aq
	}return Ak?Ac(Ao,Ar,Al,An):AZ(Ao,Ar,Al,An)
	}
	},Ah=function(Au,Aw,Av,Ak,Ax){var Az=D.call(this,Au)
	if(!Az){return 
	}var An=Az.idx,Am=Az.getSiblings(),Al=[],Ao=Av.call(this,Au,Aw,Al,Ax),Aq=0,Ay=0,Ai=0,Ap=false,Ar=this.padding,A0=Al.length-1
	var Aj=Al.filter(function(A1){return !A1.f
	}).map(function(A1){A1.l+=A1.idx===A0?0:Ar
	return A1
	}),At=Aj.map(function(A1){return A1.l
	}).reduce(u,0)
	Aj.forEach(function(A1){A1.l=(A1.l/At)*100
	Aq=A1.d
	Ay=Aq?(Aq<0?-1:1):0
	if(!Ap&&!Ai){Ap=true
	Ai=Ay
	}if(Ai!==Ay){Ap=false
	}})
	Al.forEach(function(A3){var A5=A3.idx,A2=Am[A5],A1=A3.d
	if(A1!==0&&(Ak!==Ab||A5!==An)){var A4=Ag(A5<An,A1>0)
	A2.getChildren().forEach(function(A6){if(A6.box.t===z){Ah(A6.path+Z+"0",A1,A4,Af,false)
	}})
	}if(Ax||!Ap||A3.f){A2.box.l=A3.l
	}})
	if(Ak!==Af&&Ao){var As=Au.split(Z)
	As.pop()
	As.pop()
	if(As.length){Ah(As.join(Z),Aw<0?Ao:-Ao,Aa,Ab,true)
	}}}.bind(this)
	Ah(Ad,Ae,Aa,AY,true)
	},insertNewRootChild:function AW(Ac,Ab,Ae,AY){var AZ=Ac.getBoxConfiguration()
	if(!this.box.children.length){delete AZ.f
	}var Aa=AZ.o,Ad=AZ.addToEnd
	if(Ab){if(Ab.charAt(0)==="p"){Ab=Ab.slice(1)
	}Aa=Ab==="Left"||Ab==="Right"?"h":"v"
	Ad=Ab==="Right"||Ab==="Bottom"
	}if(Y.walk("defn.ifw",Ac)){this.addIfwLayoutNode(Ac,AY)
	}else{if(Ae){this.addFloat(Ac,AY)
	}else{I.call(this,Ac,(AZ.f&&AZ.f[Aa])||0,Aa,Ad)
	}}},insertExistingRootChild:function b(Ac,Ad){var AZ=Ac.src.widget,Ab=Ac.box.oldPathInfo,AY=AZ.getBoxConfiguration(),Aa=Ad==="Left"||Ad==="Right"?"h":"v",Ae=(AY.f&&AY.f[Aa])||0
	if(Ae&&Ab.parent.o===Aa){Ae=Ab.box.l
	}I.call(this,AZ,Ae,Aa,Ad==="Right"||Ad==="Bottom")
	Ac.dropSuccessful=true
	K.call(this)
	},getBoxOrientation:function R(AZ){var AY=D.call(this,AZ)
	return AY&&AY.parent&&AY.parent.o
	},getBoxPath:function AH(AY){return this.boxPaths[AY[this.identifier]]
	},deleteBox:function o(AY,Ar,At){var Aq=D.call(this,this.getBoxPath(AY))
	if(!Aq){return 
	}if(!At){var Am=this.boxTree,Ad=this.findTargetNodeInBoxTree(AY,Am)
	if(Ad){var Ah=AY.parent
	Ad.children.forEach(function(Ay){var Ax=Ah.getUnitByKey(Ay.k)
	this.moveBoxToRelative(Ax,Ah)
	},this)
	var Aa=this.findTargetParentInBoxTree(AY,Am)
	if(Aa){Aa.children.splice(x.find(Aa.children,"k",AY.k),1)
	}}}var Al=Aq.box,Au=Aq.idx,Ab=Aq.parent,Af=Aq.parentPath,Aj=D.call(this,Af),Ag=Aq.siblings
	Ag.splice(Au,1)
	if(Ag.length>1){if(l(Ag)){AK.call(this,Ab,Af)
	}else{if(!Al.f){G(Ag,Al.l)
	}}}else{var Av=Ag[0],Ae=Av&&(Av.t===z),Aw=Av&&Av.f
	if(Aj){var Ai=Aj.parent,Ap=H.call(this,Ai),Ak=[]
	if(Ae){Ak=Av.children
	if(Ap){AB.call(this,Ai,e(Ai.parentPath).parentPath)
	}if(Aw){var An=Av.ps,As
	Ak.forEach(function(Ax){Ax.f=true
	if(An){As=Math.round((Ax.l/100)*An)
	}else{As=Ax[Av.o==="v"?"h":"w"]
	}Ax.l=As
	})
	}else{F(Ak).forEach(function(Ax){Ax.l=Math.round((Ax.l/100)*Ab.l)
	})
	}}else{Ak.push(Av)
	var AZ=W(Av.id,Ai.o)
	if(!Ap&&AZ){Aw=Av.f=true
	}if(Aw){Av.l=AZ
	}else{Av.l=Ab.l
	}}var Ao=Ai.children
	Ao.splice.apply(Ao,[Aj.idx,1].concat(Ak))
	}else{var Ac=this.box
	if(Ae){Ac.children=Av.children
	Ac.o=Av.o
	if(Aw){AK.call(this,Ac)
	}}else{if(Av){delete Av.f
	Av.l=100
	}}}}q.call(this,"delete")
	if(!Ar){K.call(this,true)
	}else{mstrmojo.all[this.hostId].updateBoxPaths()
	}},findFloatKey:function n(Aa){var AZ=Aa.k||Aa,AY=mstrmojo.all[this.hostId]
	return AY.getFloatGroupTree&&AY.getFloatGroupTree()&&AY.getFloatGroupTreeNode(AZ).node!==undefined
	},findIfwKey:function m(Ab){var AZ=Ab.k||Ab,AY=mstrmojo.all[this.hostId],Aa=Y.walk("boxLayoutConfig.box.ifwChildren",AY)||[]
	if(!Aa.length){return false
	}return x.find(Aa,"k",AZ)!==-1
	},refreshToolbar:function B(AZ){var AY=AZ.parent,Aa=AY.groupTreeLayoutConfig.getLeafNodeArray(true)
	Aa.forEach(function(Ab){AY.getUnitByKey(Ab.k).generateToolbar()
	})
	},beginBoxMove:function k(Aa,Ad,Ab){var Ac=this.findFloatKey(Ad),Ae=this.findIfwKey(Ad)
	if(Ac||Ae){Ad.parent.turnMask()
	var AY=Ad.parent.parentRect||Ad.domNode.parentNode.getBoundingClientRect()
	Aa.box={initState:this.getBoxState(),boxId:Ad.id,startX:Aa.last.x,startY:Aa.last.y,originX:parseFloat(Ad.domNode.style.left),originY:parseFloat(Ad.domNode.style.top),minX:AY.left,maxX:AY.right,minY:AY.top,maxY:AY.bottom,parentRect:AY}
	if(Ac){Ad.preBoxOp()
	Aa.highLight=Ad.createGuidesDiv(Aa.box.parentRect)
	Ad.toggleGuidesDiv(Aa.highLight,true)
	Aa.delay=1
	Aa.floatIndex=Ad.domNode.style.zIndex
	}}else{var Af=D.call(this,this.getBoxPath(Ad)),AZ
	if(Af){AZ=Af.box
	}N.call(this,false)
	Aa.box={initState:this.getBoxState(),oldPathInfo:Af,boxId:Ad.id,parentPath:Af.parentPath,length:AZ.l,orientation:Af.parent.o}
	if(!Ab){this.deleteBox(Ad,null,true)
	}}},addDropBox:function A(Ai,Ah,Ae){var Ag=(Ah==="Right"||Ah==="Bottom"),Ak=(Ah==="Top"||Ah==="Bottom")?AX:a,Ay=this.identifier,Ad=D.call(this,this.getBoxPath(Ai)),Al=Ad.idx,Ao=Ad.parent,Ar=Ad.siblings,Au=Ad.parentPath,Av=H.call(this,Ao),An=Ao.f,Aa=Ae.box,Ab=Aa.boxId,Aw=mstrmojo.all[Ab],Aq=Aw.getBoxConfiguration(),Ax=Aq.f&&Aq.f[Ak],Ac=Aw.getMinBoxSize(Ak),Ap=W(Ai.id,Ak),As=Ai.getMinBoxSize(Ak),AY=Aa.length,AZ={t:p,f:!!Ax,l:Ax,id:Ab,r:!!Aq.r}
	AZ[Ay]=Aw[Ay]
	if(Ax&&Aa.orientation===Ak){Ax=AY
	}if(!Ax&&Av){AB.call(this,Ao,e(Au).parentPath)
	An=false
	}if(Ak===Ao.o){if(Ax){if(Av){delete AZ.f
	Ax=undefined
	}}if(Au!==Aa.parentPath){AY=undefined
	}AZ.l=Ax||AF(Ar,AY)
	Ar.splice(Ag?Al+1:Al,0,AZ)
	}else{if(Ao===this.box&&Ar.length===1){S.call(this,Ak,AZ,P(Ag),Ax)
	}else{var At=Ad.box,Aj=At.f
	var Am={l:At.l,f:Aj,o:Ak,t:z}
	var Af=Am.children=[AZ,At]
	Ar.splice(Al,1)
	if(Ag){Af.reverse()
	}if(An){if(Ax){if(Ap){Ao.l=Math.max(Ao.l,Ax+Ap)
	AZ.l=At.l=50
	delete AZ.f
	delete At.f
	}else{Ao.l=Math.max(Ao.l,Ax+As)
	AZ.l=Ax
	At.l=100
	}}else{if(Ap){AZ.l=100
	At.l=Ap
	Ao.l=Math.max(Ao.l,Ac+Ap)
	}else{Ao.l=Math.max(Ao.l,Ac+As)
	AZ.l=At.l=50
	}}}else{if(Ax&&Aj){Am.h=At.h
	Am.w=At.w
	AZ.l=Ax
	At.l=Ap
	AK.call(this,Am,Au)
	}else{if(Ax){AZ.l=Ax
	At.l=100
	}else{if(Ap){At.l=Ap
	AZ.l=100
	if(!Am.f){Am.l=AF(Ar,null)
	}}else{At.f=false
	At.l=100
	AZ.l=AF([At])
	}}}}Ar.splice(Al,0,Am)
	}}Aw.postDropBox()
	q.call(this,"drop")
	N.call(this,true)
	K.call(this)
	Ae.dropSuccessful=true
	},cancelBoxMove:function r(AZ){var AY,Ad=mstrmojo.all[this.hostId],Ac=Ad.groupTreeLayoutConfig,Aa=Y.walk("boxLayoutConfig.box.ifwChildren",Ad)||[]
	if(Ac&&Ac.getFloatGroupTree()){AY=Ac.getLeafNodeArray()
	}if(x.find(AY,this.identifier,(AZ.src.widget||[]).k)!==-1){AZ.src.widget.parent.turnMask()
	if(AZ.highLight){var Ab=AZ.src.widget
	Ab.toggleGuidesDiv(AZ.highLight,false)
	delete AZ.highLight
	Ab.parent.snapGuide.boxIntervalOperations(Ab,"insert")
	}}if(x.find(Aa,this.identifier,(AZ.src.widget||[]).k)!==-1){AZ.src.widget.parent.turnMask()
	}N.call(this,true)
	this.revertBoxState(AZ.box.initState)
	},revertBoxState:function AJ(AY){Y.clear(this.box)
	Y.copy(AY,this.box)
	K.call(this)
	},getBoxChildClass:function J(AY){var Aa=AY.id,AZ=Aa&&mstrmojo.all[Aa]
	if(AZ){return AZ.scriptClass
	}return""
	},replaceLayoutXmlKeys:function AM(Ac,Ab){var Aa=false,AZ=mstrmojo.all[this.hostId]
	var AY=function(Ak){if(!Ak){return 
	}var Ah=Ak.floatChildren,Ad
	if(Ah){if(Ah.length!==undefined){Ad=Ah.length?Ah:Ak.children
	}else{Ad=AZ.groupTreeLayoutConfig.getLeafNodeArray(true)
	}}else{Ad=Ak.children
	}var Ag=Ad&&Ad.length,Af
	for(Af=0
	Ag&&Af<Ag
	Af++){var Ai=Ad[Af]
	switch(Ai.t){case z:AY(Ai)
	break
	case X:case p:var An=Ai.k,Al=Ac[An]||Ac["default"],Am=mstrApp?mstrApp.primaryScdpMap:null,Ae=(Am&&Am[Al])||[]
	var Aj=x.indexOf(Ae,An)!==-1
	if(Al&&!Aj){Ai.k=Al
	Aa=true
	}break
	}}}
	AY(this.box)
	AY(Ab)
	return Aa
	}})
	mstrmojo.vi.ui.BoxLayoutConfig.getMinimumChildSizes=function(Aa,Ab,Ac){var AZ=Ac.getBoxChildClass(Aa)
	if(!AZ){throw"BoxLayoutConfig::getMinimumChildSizes - unable to obtain script class for box."
	}var AY=mstrmojo.vi.ui._IsBoxLayoutChild.getBoxMinimums(AZ)
	if(Aa.f){AY[Ab]=Aa.l
	}return AY
	}
	mstrmojo.vi.ui.BoxLayoutConfig.BoxInfoType=null
	mstrmojo.vi.ui.BoxLayoutConfig.BoxAddContextType=null
	mstrmojo.vi.ui.BoxLayoutConfig.EnumBoxType={BOX_TYPE_BOX:z,BOX_TYPE_CHILD:p,BOX_TYPE_FLOAT_CHILD:X,BOX_TYPE_GROUP:AE}
	mstrmojo.vi.ui.BoxLayoutConfig.EnumModeHidden=E
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.dom","mstrmojo.ListSelector")
	var C=mstrmojo.dom,B=C.isIE
	mstrmojo.TreeNodeSelector=mstrmojo.provide("mstrmojo.TreeNodeSelector",mstrmojo.mixin({premousedown:function A(E,I,D){var G=(E&&E.tree)||E,H=D&&D.e
	if(!H){return false
	}var F=G.lastMouseDown
	if(F){if((F.e===H)||(B&&((new Date())-F.dt<50))){return false
	}}this._super(E,I,D)
	if(G){if(G.onnodemousedown){G.onnodemousedown(D)
	}G.lastMouseDown={e:H,dt:new Date()}
	}return true
	}},mstrmojo.hash.copy(mstrmojo.ListSelector)))
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.ListSelector")
	var A=mstrmojo.dom
	mstrmojo.TreeBrowserSelector=mstrmojo.provide("mstrmojo.TreeBrowserSelector",mstrmojo.hash.copy({premousedown:function B(F,I,E){if(A.isPrimaryMouseBtn(E.e)){var D=E.hWin,H=E.e,G=A.eventTarget(D,H),C=F.listMapper.findIndex(F,I,G)
	if(C>-1){F.toggleSelect(C)
	}}}},mstrmojo.hash.copy(mstrmojo.ListSelector)))
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.BoxLayoutConfig")
	mstrmojo.vi.ui._SupportLayerNode=mstrmojo.provide("mstrmojo.vi.ui._SupportLayerNode",{_mixinName:"mstrmojo.vi.ui._SupportLayerNode",selectFromLayer:mstrmojo.emptyFn,renameFromLayer:mstrmojo.emptyFn,deleteFromLayer:mstrmojo.emptyFn,formatFromLayer:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Base","mstrmojo.chart.common.DSSTimeUtil")
	var H=24*60*60*1000
	var A=60*60*1000
	var L=60*1000
	var C=1000
	var K=24
	var D=24*60
	var J=24*60*60
	var B=new mstrmojo.chart.common.DSSTimeUtil()
	mstrmojo.chart.common.DSSDateTime=mstrmojo.declare(mstrmojo.Base,null,{scriptClass:"mstrmojo.chart.common.DSSDateTime",mnYear:1899,mnMonth:12,mnDay:30,mnHour:0,mnMinute:0,mnSecond:0,mnMillisecond:0,mnWeek:-1,mnDayOfWeek:-1,init:function P(U){if(!U||!U.ifTime){this.mnYear=1899
	this.mnMonth=12
	this.mnDay=30
	this.mnHour=0
	this.mnMinute=0
	this.mnSecond=0
	this.mnMillisecond=0
	this.mnWeek=-1
	this.mnDayOfWeek=-1
	return 
	}var S=0
	var X=23242571
	var R=-693593
	if(U.ifTime>X){this.mnYear=65535
	this.mnMonth=12
	this.mnDay=30
	S=U.ifTime-Math.floor(U.ifTime)
	}else{if(U.ifTime<R){this.mnYear=1
	this.mnMonth=1
	this.mnDay=1
	S=Math.abs(U.ifTime)+Math.ceil(U.ifTime)
	}else{if(U.ifTime>0){var Y=this.DAYSToYMD(Math.floor(U.ifTime))
	this.mnYear=Y.year
	this.mnMonth=Y.month
	this.mnDay=Y.day
	S=U.ifTime-Math.floor(U.ifTime)
	}else{if(U.ifTime<0){var Y=this.DAYSToYMD(Math.ceil(U.ifTime))
	this.mnYear=Y.year
	this.mnMonth=Y.month
	this.mnDay=Y.day
	S=Math.abs(U.ifTime)+Math.ceil(U.ifTime)
	}}}}S*=H
	var W=S+0.5
	if(W==H){W--
	}if(W>0){this.mnHour=Math.floor(W/A)
	W-=this.mnHour*A
	this.mnMinute=Math.floor(W/L)
	W-=this.mnMinute*L
	this.mnSecond=Math.floor(W/C)
	W-=this.mnSecond*C
	this.mnMillisecond=Math.floor(W)
	}else{this.mnHour=0
	this.mnMinute=0
	this.mnSecond=0
	this.mnMillisecond=0
	}this.mnWeek=-1
	this.mnDayOfWeek=-1
	this.Sanitize()
	},Sanitize:function O(){var R=false
	if(this.mnHour==24&&this.mnMinute==0&&this.mnSecond==0){R=true
	this.mnHour=0
	}if(this.mnMonth<1){this.mnMonth=1
	}else{if(this.mnMonth>12){this.mnMonth=12
	}}if(this.mnDay<1){this.mnDay=1
	}else{if(this.mnDay>B.DaysInMonth[this.mnMonth-1]){this.mnDay=B.DaysInMonth[this.mnMonth-1]
	if(this.mnMonth==2&&this.IsLeapYear(this.mnYear)){this.mnDay++
	}}}if(this.mnHour<0){this.mnHour=0
	}else{if(this.mnHour>23){this.mnHour=23
	}}if(this.mnMinute<0){this.mnMinute=0
	}else{if(this.mnMinute>59){this.mnMinute=59
	}}if(this.mnSecond<0){this.mnSecond=0
	}else{if(this.mnSecond>59){this.mnSecond=59
	}}if(this.mnMillisecond<0){this.mnMillisecond=0
	}else{if(this.mnMillisecond>999){this.mnMillisecond=999
	}}if(R){var S=this.ToMilliseconds()
	S=S+H
	this.init({ifTime:this.MillisecondsToDATE(S)})
	}},IsLeapYear:function Q(R){return((R&3)==0)&&((R%100)!=0||(R%400)==0)
	},ToMilliseconds:function I(){var R=this.YMDToDAYS(this.mnYear,this.mnMonth,this.mnDay)
	var S=R*H
	S+=this.mnHour*A+this.mnMinute*L+this.mnSecond*C+this.mnMillisecond
	return S
	},MillisecondsToDATE:function E(S){var R=Math.floor(S/H)
	var U=(S-R*H)/H
	if(U<0){R--
	U+=1
	}return R>=0?R+U:R-U
	},DAYSToYMD:function N(U){var Y=0
	var a=0
	var S=0
	U+=693959
	var X=Math.floor(U/365)
	var W=U-X*365
	var Z=Math.floor(X/4)-Math.floor(X/100)+Math.floor(X/400)
	W=W-Z
	if(W<0){X--
	W+=365
	while(W<=0){X--
	W+=365
	}}var R=U-(X*365+Math.floor(X/4)+(X%4?1:0)-Math.floor((X-1)/100)+Math.floor((X-1)/400))
	if(R==365&&!this.IsLeapYear(X)){Y=X+1
	a=1
	S=1
	return{year:Y,month:a,day:S}
	}if(R==-1){Y=X-1
	a=12
	S=31
	return{year:Y,month:a,day:S}
	}Y=X
	a=12
	while(R<B.DaysBeforeMonth[a-1]){a--
	}S=R-B.DaysBeforeMonth[a-1]+1
	if(a>2&&this.IsLeapYear(Y)){S--
	if(S==0){a--
	S=B.DaysInMonth[a-1]
	if(a==2){S++
	}}}return{year:Y,month:a,day:S}
	},YMDToDAYS:function G(W,U,S){if(U<1||U>12){return 0
	}var R=W*365+Math.floor(W/4)+(W%4?1:0)-Math.floor((W-1)/100)+Math.floor((W-1)/400)
	R+=B.DaysBeforeMonth[U-1]
	if(U>2&&this.IsLeapYear(W)){R++
	}R+=S-1
	R-=693959
	return R
	},ToDATE:function F(){var S=this.YMDToDAYS(this.mnYear,this.mnMonth,this.mnDay)
	var R=this.mnHour/K+this.mnMinute/D+this.mnSecond/J+this.mnMillisecond/H
	if(S>=0){return S+R
	}else{return S-R
	}},DateTimeOrder:function M(R){if(this.mnYear>R.mnYear){return 1
	}else{if(this.mnYear<R.mnYear){return -1
	}}if(this.mnMonth>R.mnMonth){return 1
	}else{if(this.mnMonth<R.mnMonth){return -1
	}}if(this.mnDay>R.mnDay){return 1
	}else{if(this.mnDay<R.mnDay){return -1
	}}if(this.mnHour>R.mnHour){return 1
	}else{if(this.mnHour<R.mnHour){return -1
	}}if(this.mnMinute>R.mnMinute){return 1
	}else{if(this.mnMinute<R.mnMinute){return -1
	}}if(this.mnSecond>R.mnSecond){return 1
	}else{if(this.mnSecond<R.mnSecond){return -1
	}}if(this.mnMillisecond>R.mnMillisecond){return 1
	}else{if(this.mnMillisecond<R.mnMillisecond){return -1
	}}return 0
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.string","mstrmojo.vi.enums.EnumFilterClearActionType","mstrmojo.vi.enums.EnumVisFilterType","mstrmojo.vi.ui.rw.linkingExprHelper")
	var H=mstrmojo.array,K=mstrmojo.hash,A=mstrmojo.string,M=mstrmojo.vi.ui.rw.linkingExprHelper,E=mstrmojo.vi.enums.EnumFilterClearActionType,J=mstrmojo.vi.enums.EnumVisFilterType
	function D(S){if(S.vfl){return K.valarray(S.vfl)[0].tpl
	}return S.tpl
	}mstrmojo.vi.ui.rw._SupportViewFilterInVizBox=mstrmojo.provide("mstrmojo.vi.ui.rw._SupportViewFilterInVizBox",{_mixinName:"mstrmojo.vi.ui.rw._SupportViewFilterInVizBox",getSelectorObjectsFromTemplateLimit:function G(){return this.getSelObjsFromTemlateLimitHandler()
	},getSelectorObjectsFromViewFilter:function P(){return this.getSelObjsFromVFHandler()
	},getSelObjsFromVFHandler:function L(){var W=this,S=W.model,U=W.node.data,X=U&&U.vfexpr
	return S&&S.getSelectorDataFromViewFilter(X)
	},getSelObjsFromTemlateLimitHandler:function O(){var W=this,S=W.model,U=W.node.data,X=U&&D(U)
	return S&&S.getSelectorDataFromTemplateLimit(X)
	},makeBold:function F(S){return M.makeBold(S)
	},getSelectorExpr:function B(Y,X){var Z=[],a="",W=true,U=Y.keepOnly?"##":mstrmojo.desc(13232,"Not ##"),S,b=mstrmojo.desc(5283,"OR")
	if(X){b=this.makeBold(b)
	}Y.data.every(function(c){[].concat(c).every(function(d){if(a===""){a=d.tn
	}return(W=(a===d.tn))
	})
	return W
	})
	Y.data.forEach(function(e,c){if(c>0){Z.push(b)
	}var d=[]
	[].concat(e).forEach(function(h){var g=X?A.encodeHtmlString(h.v):h.v,f=X?A.encodeHtmlString(h.tn):h.tn
	d.push((W?"":(f+" = "))+(g||mstrmojo.desc(14323,"NULL")))
	})
	Z.push(d.join(" "))
	})
	if(Z.length>0){S=U.replace("##",(W?(X?A.encodeHtmlString(a):a)+" = ":"")+Z.join(" "))
	}return S
	},getLinkingSelectorExpr:function R(U,S){return M.getLinkingSelectorExpr(U,S)
	},getFilterMenuPairs:function N(S){var W=this,X=[],U=mstrmojo.desc(2827,"Clear")
	if(S instanceof Array){S.forEach(function(b,a){var Z=W.getSelectorExpr(b),Y=W.getSelectorExpr(b,true)
	X.push({menuString:U+' "'+Z+'"',menuTtpString:U+' "'+Y+'"',ctxt:a,isBranch:b.isBranch})
	})
	}return X
	},filterMenuHandler:function Q(S,X){var W=this,U=W.controller
	switch(S.type){case E.CLEAR_KEEP_ONLY:S=S.idx
	U.applyKeepOnly(W,X,undefined,S,false)
	break
	case E.CLEAR_ALL:U.clearFiltersForVis(W,[J.KEEP_ONLY,J.LINKING,J.DRILLING,J.DOSSIER_LINKING],X)
	break
	case E.CLEAR_ADV_QUALIFICATION:U.clearFiltersForVis(W,[J.ADV_QUALIFICATION],X)
	break
	case E.CLEAR_KEEP_ONLY_AND_LINKING:U.clearFiltersForVis(W,[J.KEEP_ONLY,J.LINKING],X)
	break
	case E.CLEAR_LINKING:U.clearLinkingFilter(S,X)
	break
	case E.CLEAR_DRILLING:U.clearFiltersForVis(W,[J.DRILLING],X)
	break
	case E.CLEAR_DOSSIER_LINKING:U.clearFiltersForVis(W,[J.DOSSIER_LINKING],X)
	break
	default:break
	}},hasKeepOnly:function C(S){return S===null||S.length>0
	},getSelectorDataForKeepOnly:function I(U,Z){var X=this,W=X.model,Y=X.model.data||X.node.data,S=D(Y),a
	if(Z===-1){a=[]
	}else{a=[].concat(W.getSelectorDataFromTemplateLimit(S))
	if(Z===-2){a=H.filter(a,function(b){return !b.keepOnly
	})
	}else{if(Z>=0){a.splice(Z,1)
	}}}if(U){a=a.concat(U)
	}return a
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.num","mstrmojo.color","mstrmojo.hash","mstrmojo.array","mstrmojo.string")
	var r=mstrmojo.color,Ab=mstrmojo.hash,Al=mstrmojo.array,BU=mstrmojo.css,B=mstrmojo.num,Ap=mstrmojo.string
	var Be=1,p=2,BN=3,AA=4,An=5,BC=6
	var o="FormattingFont",O="FormattingAppearance",AM="FormattingAlignment",Z="FormattingSize",A5="FormattingPatterns",B5="FormattingBorder",BV="FormattingOrder",AX="FormattingView",M="FormattingSelector",BX="Template Formatting",Ac="FormattingPadding",B1="AnalyticalEngineProperties",AQ="RWDocumentProperties",S="FormattingPage",w="Mobile",L="VLDB Select",Bf="FormattingNumber",BH="RWDExecution",Ay="ConfigurationProperties",Am="GeneralReportProperties"
	var A7=1
	var A3="n",Bm="h",u="w",BQ="wm",AJ="pw",Aw="ml",Bw="mr",AW="upwalw",Av="ff",Bd="fsz",AF="fw",f="fit",Bv="fun",B8="fst",Aj="fc",P="atp",W="alh",n="alv",Ae="atw",AR="atd",m="autoSizeText",BW="textOverflow",K="textFieldType",Ad="bc",J="bo",BL="bgs",By="btc",BI="brc",Bk="bbc",Ar="blc",d="bts",Bt="brs",U="bbs",BY="bls",Bg="borderColor",N="borderStyle",AH="zIndex",C="showTitleBar",AG="useAsInfoWindow",A1="title",A4="StyleForSwitchingPanel",B2="InformationWindowPlacement",Bj="TitleBarDisplay",v="ctrlIFW",Bx="ctrlStyle",Aa="ctrlOrientation",z="ctrlOrientationBehavior",Bn="ctrlMultiselect",Ao="ctrlAutoSearchEnabled",AI="ciwm",Bs="cmcy",B0="sec",b="easow",At="layoutXml",CC="lockAspectRatio",R="ism",I="shw",AZ="mg",BA="lhv",BB="rowslhv",Bo="colslhv",AO="gridVPadding",BZ="gridHPadding",Ah="ln",CD="papo",Bi="sar",B9="hnv",AT="iw",BP="ih",AC="tsp",AK="visible",B4="rf",BM="jad",g="jdc",Bc="ode",F="showBaseViewInLibrary",Ba="oddp",a="allowHtmlExecution",Ag="fs",BS="lockTimezoneInLibrary",CA="ssc",H="sstyle",A="hgl",Y="nct",AV="ncp",Ak="ncs",BR="ndp",j="nfs",E="nnn",AU="nth",Bq="gi",Bu="st",Au="stfurh",G="stfuch",B6="stfuva",c="ch",Br="rh",AS="va",x="olm",D="gdc",k="gda",B3="layoutstyle",A8="hideVizBoxShadow",BO="stroke",BG="strokeWidth",Ai="strokeDasharray",l="fill",AD="fillOpacity"
	var Bl={SOLID_COLOR:0,NO_FILL:1,GRADIENT:2},Ax={bgs:Bl.NO_FILL,bc:"transparent"}
	function B7(CE){return CE
	}function AN(CE){return parseInt(CE,10)
	}var BF={name:"encode",_def:B7}
	BF[BN]=function(CE){return CE?1:0
	}
	BF[p]=function(CE){if(CE==="transparent"){return -1
	}if(CE.length===4){CE=CE.replace(/([0-9a-f])/ig,"$1$1")
	}CE=r.rgbStr2hex(CE)
	return parseInt(CE.substring(5)+CE.substring(3,5)+CE.substring(1,3),16)
	}
	BF[AA]=AN
	BF[Be]=function(CE){if(typeof CE==="number"){return B.toLocaleString(CE)
	}return B7(CE)
	}
	BF[BC]=function(CG){if(CG==="none"){return 0
	}var CF=CG.match(/([0-9]+[,\.]?[0-9]*pt)/)[0],CE=CG.match(/pt ([\w\W]*)/)[1]
	if(CF==="2pt"){return 5
	}switch(CE){case"solid":return 1
	case"dashed":return 3
	case"dotted":return 4
	default:throw new Error("Invalid border style value in FormatModel::encodeValue.")
	}}
	var Aq={name:"decode",_def:B7}
	Aq[BN]=function(CE){return parseInt(CE,10)===1
	}
	Aq[p]=function(CE){if(CE===-1){return"transparent"
	}if(typeof CE==="number"){return r.decodeColor(CE)
	}if(CE.length===4){return CE.replace(/([0-9a-f])/ig,"$1$1")
	}return r.rgbStr2hex(CE)
	}
	Aq[AA]=AN
	Aq[BC]=function(CG){if(CG===undefined||CG===0){return"none"
	}var CF="1pt",CE="solid"
	if(CG===5){CF="2pt"
	}if(CG===3){CE="dashed"
	}else{if(CG===4){CE="dotted"
	}}return CF+" "+CE
	}
	function Af(){return this.pn.toLowerCase()
	}function Bp(CE,CG,CH){var CF=document.createElement("div")
	CF.style[CH||CG]=CE[CG]
	return CF
	}function A2(CE){return function(){return r.rgbStr2hex(CE.apply(this,arguments))
	}
	}function As(){var CE=Af.call(this)
	return CE==="underline"?CE:"line-through"
	}var AL={name:"extract"},BJ=AL._def=function(CE,CG,CH){var CF=Bp(CE,CG||this.getFormatBlockName(),CH)
	return CF.style[this.getCssName()]
	}
	AL[p]=A2(BJ)
	function A0(CE){return BJ.call(this,CE,this.getFormatBlockName())===Af.call(this)
	}function Az(CE){var CF=BJ.call(this,CE,this.getFormatBlockName(),this.getCssName())
	return CF.indexOf(As.call(this))>-1
	}function AY(CE){var CF=this.getFormatBlockName()
	return r.rgbStr2hex(BJ.call(this,CE,CF,CF+this.pn))
	}var Bh={name:"resolve"},AE=Bh._def=function(CE,CH,CG,CI){CG=CG||this.getFormatBlockName()
	var CF=Bp(CE,CG)
	CF.style[CI||this.getCssName()]=CH
	return CF.style[BU.convertCssToCamelCase(CG)]
	}
	Bh[p]=function(CE,CG,CF,CH){if(CG.or!==undefined){return CG
	}return r.rgbStr2hex(AE.call(this,CE,CG,CF,CH))
	}
	function BK(CE,CF){return Ap.multiReplace(AE.call(this,CE,CF?Af.call(this):"normal"),{'"':"'"})
	}function AP(CE,CF){return Ap.multiReplace(AE.call(this,CE,CF),{'"':"'"})
	}function q(CF,CH){var CG=(CF[this.getFormatBlockName()]||"").split(" "),CE=As.call(this)
	if(CH){if(CG.indexOf(CE)===-1){CG.push(CE)
	}}else{CG=CG.filter(function(CI){return CI!==CE
	})
	}return AE.call(this,CF,CG.join(" "))
	}var Q={name:"update"},BE=Q._def=function(CE,CF){CE[this.getFormatBlockName()]=this.resolve(CE,CF)
	return CE
	}
	var A6={}
	A6[A3]={ps:O,pn:"Name",pt:Be}
	A6[Bm]={ps:Z,pn:"Height",pt:Be}
	A6[u]={ps:Z,pn:"Width",pt:Be}
	A6[BQ]={ps:Z,pn:"WidthMode",pt:AA}
	A6[AJ]={ps:S,pn:"PageWidth",pt:Be}
	A6[Aw]={ps:S,pn:"MarginLeft",pt:Be,fn:"margin-left"}
	A6[Bw]={ps:S,pn:"MarginRight",pt:Be,fn:"margin-right"}
	A6[AW]={ps:S,pn:"UsePageWidthAsLayoutWidth",pt:BN}
	A6[Av]={ps:o,pn:"Name",pt:Be,fn:"font",cn:"fontFamily",extract:function(){return BJ.apply(this,arguments).replace(/['"]/g,"")
	},resolve:function(CE,CG){var CF=Bp(CE,"font")
	CF.style.fontFamily="'"+CG+"'"
	return Ap.multiReplace(CF.style.font,{'"':"'"})
	}}
	A6[Bd]={ps:o,pn:"Size",pt:AA,fn:"font",cn:"fontSize",resolve:AP}
	A6[AF]={ps:o,pn:"Bold",pt:BN,fn:"font",cn:"fontWeight",extract:A0,resolve:BK}
	A6[f]={ps:o,pn:"Italic",pt:BN,fn:"font",cn:"fontStyle",extract:A0,resolve:BK}
	A6[Bv]={ps:o,pn:"Underline",pt:BN,fn:"text-decoration",extract:Az,resolve:q}
	A6[B8]={ps:o,pn:"Strikeout",pt:BN,fn:"text-decoration",extract:Az,resolve:q}
	A6[Aj]={ps:o,pn:"Color",pt:p}
	A6[P]={ps:Ac,pn:[["TopPadding","BottomPadding"],["LeftPadding","RightPadding"]],pt:Be}
	A6[W]={ps:AM,pn:"Horizontal",pt:AA,fn:"text-align"}
	A6[Ae]={ps:AM,pn:"TextWrap",pt:BN,fn:"white-space"}
	A6[AR]={ps:AM,pn:"TextDirection",pt:AA}
	A6[n]={ps:AM,pn:"Vertical",pt:AA}
	A6[m]={ps:Z,pn:"AutoSizeText",pt:BN}
	A6[BW]={ps:Z,pn:"TextOverflow",pt:BN}
	A6[K]={ps:O,pn:"TextFieldType",pt:BN}
	A6[Ad]={ps:A5,pn:"FillColor",pt:p,x:A7,fn:"background-color",update:function(CE,CG){var CF=CE.fx
	if(CG.or!==undefined){if(!CF){CF=CE.fx={}
	}var CH=CF.gd=CF.gd||{}
	CH.ec=CG.c2
	CH.sc=CG.c1
	CH.t=CG.or
	delete CE[this.getFormatBlockName()]
	CE.fx=CF
	}else{if(CF){delete CF.gd
	}BE.call(this,CE,CG)
	}return CE
	}}
	A6[J]={ps:A5,pn:"FillOpacity",pt:AA,fn:"background-opacity"}
	A6[BL]={ps:A5,pn:"FillStyle",pt:AA}
	A6[CA]={ps:A5,pn:"SelectorSelectionColor",pt:p}
	A6[H]={ps:A5,pn:"SelectorSelectionFillStyle",pt:AA}
	A6[By]={ps:B5,pn:"TopColor",pt:p,fn:"border",extract:AY}
	A6[BI]={ps:B5,pn:"RightColor",pt:p,fn:"border",extract:AY}
	A6[Bk]={ps:B5,pn:"BottomColor",pt:p,fn:"border",extract:AY}
	A6[Ar]={ps:B5,pn:"LeftColor",pt:p,fn:"border",extract:AY}
	A6[Bg]={ps:B5,pn:["TopColor","RightColor","BottomColor","LeftColor"],pt:p,fn:"border",extract:AY,resolve:A2(function(CE,CG){var CH=this.getFormatBlockName(),CF=AE.call(this,CE,CG,CH,CH+"Color"),CI=CF.indexOf("rgb")
	if(CI>-1){CF=CF.slice(0,CI)+r.rgbStr2hex(CF.slice(CI))
	}return CF
	})}
	A6[N]={ps:B5,pn:["TopStyle","RightStyle","BottomStyle","LeftStyle"],pt:BC,fn:"border",extract:AY,resolve:function(CE,CH){var CF=CH.split(" "),CI=this.getFormatBlockName()
	if(!CE[CI]){CE[CI]="transparent"
	}CE[CI]=AE.call(this,CE,CF[0],CI,CI+"Width")
	var CG=AE.call(this,CE,CF[1]||"none",CI,CI+"Style"),CJ=CG.indexOf("rgb")
	if(CJ>-1){CG=CG.slice(0,CJ)+r.rgbStr2hex(CG.slice(CJ))
	}return CG
	}}
	A6[d]={ps:B5,pn:"TopStyle",pt:BC,fn:"border",extract:AY}
	A6[Bt]={ps:B5,pn:"RightStyle",pt:BC,fn:"border"}
	A6[U]={ps:B5,pn:"BottomStyle",pt:BC,fn:"border",extract:AY}
	A6[BY]={ps:B5,pn:"LeftStyle",pt:BC,fn:"border",extract:AY}
	A6[AH]={ps:BV,pn:"ZIndex",pt:AA,fn:"z-index"}
	A6[AG]={ps:AX,pn:"UseAsInformationWindow",pt:BN}
	A6[C]={ps:AX,pn:"ShowTitleBar",pt:BN}
	A6[A1]={ps:AX,pn:"Title",pt:Be}
	A6[A4]={ps:AX,pn:"StyleForSwitchingPanel",pt:AA}
	A6[B2]={ps:AX,pn:"InformationWindowPlacement",pt:AA}
	A6[Bj]={ps:AX,pn:"TitleBarDisplay",pt:AA}
	A6[v]={ps:M,pn:"InformationWindowTarget",pt:Be}
	A6[Bx]={ps:M,pn:"Style",pt:AA}
	A6[Aa]={ps:M,pn:"Orientation",pt:AA}
	A6[z]={ps:M,pn:"OrientationBehavior",pt:AA}
	A6[Bn]={ps:M,pn:"Multiselect",pt:BN}
	A6[Ao]={ps:M,pn:"AutoSearchEnabled",pt:BN}
	A6[AI]={ps:M,pn:"ItemWidthMode",pt:AA}
	A6[Bs]={ps:M,pn:"MetricConditionType",pt:AA}
	A6[B0]={ps:M,pn:"ShowElementCount",pt:AA}
	A6[b]={ps:M,pn:"ExportAsShownOnWeb",pt:AA}
	A6[At]={ps:Z,pn:"LayoutXML",pt:An}
	A6[CC]={ps:Z,pn:"LockAspectRatio",pt:BN}
	A6[R]={ps:Z,pn:"ImageSizeMode",pt:AA}
	A6[BP]={ps:Z,pn:"ImageHeight",pt:Be}
	A6[AT]={ps:Z,pn:"ImageWidth",pt:Be}
	A6[AC]={ps:AQ,pn:"layoutBarPosition",pt:Be}
	A6[Ag]={ps:AQ,pn:"ExecutionFullScreenMode",pt:BN}
	A6[B3]={ps:AQ,pn:"LayoutStyle",pt:AA}
	A6[A8]={ps:AQ,pn:"hideVizBoxShadow",pt:AA}
	A6[AK]={ps:O,pn:"Visible",pt:BN}
	A6[Ah]={ps:BX,pn:"LongNames",pt:Be}
	A6[CD]={ps:BX,pn:"ParentPosition",pt:Be}
	A6[x]={ps:BX,pn:"Indented",pt:AA}
	A6[Bi]={ps:B1,pn:"ShowAllRows",pt:Be}
	A6[B9]={ps:B1,pn:"HideNullZeroValues",pt:Be}
	A6[BZ]={ps:Ac,pn:["LeftPadding","RightPadding"],pt:Be}
	A6[AO]={ps:Ac,pn:["TopPadding","BottomPadding"],pt:Be}
	A6.rowsshw={ps:BX,pn:"ShowRowHeaders",pt:Be}
	A6.rowsmg={ps:BX,pn:"MergeCells",pt:Be}
	A6[BB]={ps:BX,pn:"LockRowHeaders",pt:Be}
	A6.colsshw={ps:BX,pn:"ShowColumnHeaders",pt:Be}
	A6.colsmg={ps:BX,pn:"MergeColumnCells",pt:Be}
	A6[Bo]={ps:BX,pn:"LockColumnHeaders",pt:Be}
	A6[Au]={ps:BX,pn:"SubtotalFormatUseRowHeaders",pt:Be}
	A6[G]={ps:BX,pn:"SubtotalFormatUseColumnHeaders",pt:Be}
	A6[B6]={ps:BX,pn:"SubtotalFormatUseValues",pt:Be}
	A6[B4]={ps:w,pn:"RefreshFrequency",pt:AA}
	A6[BM]={ps:L,pn:"Join Across Datasets",pt:AA}
	A6[g]={ps:L,pn:"MCE Join To Get Data Combination",pt:AA}
	A6[Bc]={ps:BH,pn:"OnDemandEvaluation",pt:AA}
	A6[F]={ps:Ay,pn:"ShowBaseViewInLibrary",pt:AA}
	A6[Ba]={ps:BH,pn:"OnDemandDUPopulation",pt:AA}
	A6[a]={ps:Am,pn:"AllowHtmlExecution",pt:AA}
	A6[BS]={ps:Am,pn:"LockTimezoneInLibrary",pt:AA}
	A6[A]={ps:O,pn:"Highlight",pt:AA}
	A6[Y]={ps:Bf,pn:"Category",pt:AA}
	A6[j]={ps:Bf,pn:"Format",pt:Be}
	A6[Ak]={ps:Bf,pn:"CurrencySymbol",pt:Be}
	A6[BR]={ps:Bf,pn:"DecimalPlaces",pt:AA}
	A6[AV]={ps:Bf,pn:"CurrencyPosition",pt:AA}
	A6[E]={ps:Bf,pn:"NegativeNumbers",pt:AA}
	A6[AU]={ps:Bf,pn:"ThousandSeparator",pt:AA}
	A6[Bq]={ps:O,pn:"GroupInfo",pt:Be}
	A6[D]={ps:A5,pn:"GradientColor",pt:p}
	A6[k]={ps:A5,pn:"GradientAngle",pt:AA}
	Al.forEach(Ab.keyarray(A6),function(CE){var CF=A6[CE]
	CF.getFormatBlockName=function(){var CH=this.fn
	if(!CH){var CG=this.pn
	CH=CG.charAt(0).toLowerCase()+CG.substr(1)
	}return CH
	}
	CF.getCssName=function(){var CG=this.getFormatBlockName.call(this),CH=this.cn
	if(!CH){CH=BU.convertCssToCamelCase(CG)
	}return CH
	}
	Al.forEach([BF,Aq,AL,Bh,Q],function(CG){var CH=CG.name
	CF[CH]=CF[CH]||CG[CF.pt]||CG._def
	})
	})
	function CB(CG,CE,CF){var CJ=CF[CG.ps]=CF[CG.ps]||{},CM=CG.pn,CL=Al.isArray(CM)&&Al.isArray(CM[0])
	CE=CG.encode(CE)
	if(CL){for(var CK=0
	CK<CM.length
	CK++){var CI=CE&&CE.split(" ")[CK]||CE,CH=CM[CK]
	Al.forEach([].concat(CH),function(CN){CJ[CN]=CI
	})
	}}else{Al.forEach([].concat(CM),function(CN){CJ[CN]=CE
	})
	}return CF
	}function e(CK,CJ,CE){var CI=CK.x
	if(CI){if((CI&A7)>0){var CH=!!CJ.c1,CG=Bl.SOLID_COLOR
	if(CH){CB(CK,CJ.c1,CE)
	var CF=CE[A5]
	CF.GradientColor=CK.encode(CJ.c2)
	CF.GradientAngle=CJ.or?0:90
	CF.GradientXOffset=0
	CF.GradientYOffset=0
	CG=Bl.GRADIENT
	}else{if(CK.encode(CJ)===-1){CG=Bl.NO_FILL
	}else{CB(CK,CJ,CE)
	}}return CB(A6[BL],CG,CE)
	}}return null
	}mstrmojo.models.FormatModel={getFormatUpdate:function X(CF,CI,CE){var CH=A6[CF]
	if(!CH){throw new Error("Invalid property "+CF+" in FormatModel::getFormatUpdate.")
	}CE=CE||{}
	var CG=e.call(this,CH,CI,CE)
	if(CG){return CG
	}return CB(CH,CI,CE)
	},getUnsetFormatUpdate:function Bz(CF,CG,CE){return{unset:this.getFormatUpdate(CF,CG,CE)}
	},getFormatPropertyInfo:function BT(CE){return A6[CE]
	},getValueFromUpdate:function h(CF,CG){var CI=A6[CF],CE=null
	try{CE=CG[CI.ps][CI.pn]
	}catch(CH){}return CE
	},getGradientValues:function BD(CF){var CE=CF.fx&&CF.fx.gd
	if(CE){var CH={c1:CE.sc,c2:CE.ec,or:CE.t}
	return CH
	}if(CF[BL]===2){if(!!CF.bc.c1){return CF.bc
	}var CG={c1:CF.bc,c2:CF.gdc,or:CF.gda===90?0:1}
	return CG
	}return null
	},decodeGradientValue:function A9(CE){if(CE&&CE.c1){CE.c1=this.decodeValue(D,CE.c1)
	CE.c2=this.decodeValue(D,CE.c2)
	return CE
	}return null
	},decodeValue:function t(CE,CF){return A6[CE].decode(CF)
	},updateFormatBlock:function AB(CE,CF,CG){return A6[CF].update(CE,CG)
	},getFormatBlockValue:function Bb(CE,CF){return A6[CF].extract(CE)
	},GradientType:null,FormatObjectType:null,PROPERTY_INFO_TYPE:null,ENUM_PROPERTY_NAMES:{NAME:A3,HEIGHT:Bm,WIDTH:u,WIDTH_MODE:BQ,PAGE_WIDTH:AJ,MARGIN_LEFT:Aw,MARGIN_RIGHT:Bw,USE_PAGE_WIDTH_AS_LAYOUT_WIDTH:AW,FONT_FAMILY:Av,FONT_SIZE:Bd,FONT_WEIGHT:AF,FONT_STYLE:f,UNDERLINE:Bv,LINE_THROUGH:B8,COLOR:Aj,TEXT_PADDING:P,TEXT_ALIGN:W,VERTICAL_ALIGN:n,TEXT_WRAP:Ae,TEXT_DIRECTION:AR,AUTO_SIZE_TEXT:m,TEXT_OVERFLOW:BW,TEXT_TYPE:K,BACKGROUND_COLOR:Ad,FILL_OPACITY:J,FILL_STYLE:BL,GRADIENT_COLOR:D,GRADIENT_ANGLE:k,BORDER_TOP_COLOR:By,BORDER_RIGHT_COLOR:BI,BORDER_BOTTOM_COLOR:Bk,BORDER_LEFT_COLOR:Ar,BORDER_TOP_STYLE:d,BORDER_RIGHT_STYLE:Bt,BORDER_BOTTOM_STYLE:U,BORDER_LEFT_STYLE:BY,BORDER_COLOR:Bg,BORDER_STYLE:N,Z_INDEX:AH,USE_AS_INFO_WINDOW:AG,SHOW_TITLE_BAR:C,TITLE:A1,CONTROL_IFW:v,CONTROL_STYLE:Bx,CONTROL_ORIENTATION:Aa,CONTROL_ORIENTATION_BEHAVIOR:z,CONTROL_MULTISELECT:Bn,CONTROL_AUTOSEARCH:Ao,CONTROL_ITEM_WIDTH_MODE:AI,CONTROL_METRIC_CONDITION_TYPE:Bs,CONTROL_SHOW_ELEMENT_COUNT:B0,CONTROL_EXPORT_AS_SHOWN_ON_WEB:b,LAYOUT_XML:At,LOCK_ASPECT_RATIO:CC,IMAGE_SIZE_MODE:R,SHOW_HEADER:I,MERGE_HEADER:AZ,LOCK_HEADER:BA,LOCK_ROW_HEADER:BB,LOCK_COL_HEADER:Bo,LONG_NAME:Ah,PARENT_POSITION:CD,SHOW_ALL_ROWS:Bi,HIDE_NULL:B9,IMAGE_WIDTH:AT,IMAGE_HEIGHT:BP,VISIBLE:AK,LAYOUT_TAB_POSITION:AC,GRID_VERTICAL_PADDING:AO,GRID_HORIZONTAL_PADDING:BZ,REFRESH:B4,JOIN_ACROSS_DATASET:BM,MCE_JOIN_TO_GET_DATA_COMBINATION:g,ON_DEMAND_EVALUATION:Bc,BASE_VIEW_IN_LIBRARY:F,OPTIMIZE_DERIVED_OBJ:Ba,ALLOW_HTML_JS:a,FULL_SCREEN_MODE:Ag,LOCK_TIME_ZONE:BS,SELECTOR_SELECTION_COLOR:CA,SELECTOR_SELECTION_FILL_STYLE:H,VIZ_HIGHLIGHTING:A,GROUP_INFO:Bq,SUBTOTAL:Bu,SUBTOTAL_FORMAT_USE_ROWHEADERS:Au,SUBTOTAL_FORMAT_USE_COLUMNHEADERS:G,SUBTOTAL_FORMAT_USE_VALUES:B6,FMT_COL_HEADER:c,FMT_ROW_HEADER:Br,FMT_VALUES:AS,OUTLINE:x,LAYOUT_STYLE:B3,VIZ_BOX_SHADOW_HIGHLIGHT:A8,SVG_STROKE:BO,SVG_STROKE_WIDTH:BG,SVG_STROKE_DASHARRAY:Ai,SVG_FILL:l,SVG_FILL_OPACITY:AD,STYLE_FOR_SWITCHING_PANEL:A4,INFO_WINDOW_PLACEMENT:B2,TITLE_SRC:Bj},ENUM_PROPERTY_SETS:{FORMATTING_NUMBER:Bf},ENUM_NUMBER_FORMAT_KEYS_OBJ:{CATEGORY:Y,CURRENCY_POSITION:AV,CURRENCY_SYMBOL:Ak,DECIMAL_PLACES:BR,FORMAT:j,NEGATIVE_NUMBERS:E,THOUSAND_SEPARATOR:AU},ENUM_REACT_FORMAT_TABS:{PROPERTY_TAB:"PROPERTY_TAB",TEXT_FORMAT_TAB:"TEXT_FORMAT_TAB",TITLE_TAB:"TITLE_TAB"},ENUM_FMT_BG_STYLE:Bl,NO_FILL_CONFIG:Ax}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.array","mstrmojo.hash")
	var M=1,D=2,B=1
	function P(S,R){return F(S,R)&&S.o===R.o
	}function F(S,R){return S&&R&&S.ui===R.ui&&S.axis===R.axis&&S.mix===R.mix
	}function C(X,S,U){var W=U.getCellTitleId(S),R=U.getCellUnitIndex(S)
	U.selections[W]=U.selections[W]||{}
	U.selections[W][R]=U.selections[W][R]||[]
	U.selections[W][R].push(X)
	O(X,S,U)
	}function O(X,S,U){if(S){var W=U.getCellTitleId(S),R=U.getCellUnitIndex(S)
	if(!U.selectionsForCopy){U.selectionsForCopy={}
	}U.selectionsForCopy[W]=U.selectionsForCopy[W]||{}
	U.selectionsForCopy[W][R]=U.selectionsForCopy[W][R]||[]
	U.selectionsForCopy[W][R].push(X)
	E(X)
	}}function Q(S){var Y=S.selectionsForCopy
	for(var X in Y){for(var W in Y[X]){for(var U=0,R=Y[X][W].length
	U<R
	U++){L(Y[X][W][U])
	}}}S.selections={}
	S.selectionsForCopy={}
	}function E(R){mstrmojo.css.setOpacity(R,50)
	if(R.nodeName.toLowerCase()==="td"&&mstrmojo.dom.isIE8){mstrmojo.css.addClass(R,"showGridBorder")
	}}function L(R){mstrmojo.css.setOpacity(R,100)
	if(R.nodeName.toLowerCase()==="td"&&mstrmojo.dom.isIE8){mstrmojo.css.addClass(R,"showGridBorder")
	}}function H(U,W){if(U.mix===undefined){var Z=W.gridData.gts[U.axis===M?"row":"col"],S=Z[U.tui||U.ui],Y=0
	for(var X=0,R=Z.length
	X<R
	X++){if(Z[X].id===S.id){Y++
	}}return Y
	}return 0
	}function J(){var S="_xtabSelectionsHiddenField",R
	R=document.getElementById(S)
	if(!R){R=document.createElement("textarea")
	R.id=S
	R.style.opacity=0
	R.style.position="absolute"
	R.style.top=0
	R.style.height=0
	R.style.width=0
	document.body.appendChild(R)
	}return R
	}function I(){var a="",c={},U,f=[],k=[],S={},W={},R=this.selectionsForCopy,Z=mstrmojo.hash,b=mstrmojo.array,h=function(l,m){if(l.hasOwnProperty("mix")){return m.es[l.mix].n
	}else{return m.n
	}},X,d,Y,j,g,e=0
	Z.forEach(R,function(l){Z.forEach(l,function(m){b.forEach(m,function(n){e++
	d=n.offsetLeft
	Y=n.offsetTop
	if(!c[d]){c[d]={}
	}U=c[d]
	U[Y]=n.innerText
	if(b.indexOf(f,d)===-1){f.push(d)
	}if(b.indexOf(k,Y)===-1){k.push(Y)
	}j=this.getCellForNode(n)
	g=this.model.getCellTitleInfo(j).title
	if((!g.id&&g.axis===M)||(g.id&&g.axis===D)){W[Y]=h.call(this,j,g)
	}else{S[d]=h.call(this,j,g)
	}},this)
	},this)
	},this)
	f.sort(function(m,l){return m-l
	})
	k.sort(function(m,l){return m-l
	})
	if(e>1&&!Z.isEmpty(W)){a="\t"
	}if(e>1&&!Z.isEmpty(S)){b.forEach(f,function(l){a+=(S[l]||"")+"\t"
	})
	a+="\n"
	}b.forEach(k,function(l){if(e>1&&!Z.isEmpty(W)){a+=(W[l]||"")+"\t"
	}b.forEach(f,function(m){a+=(c[m][l]||"")+(e>1?"\t":"")
	})
	if(e>1){a+="\n"
	}})
	X=J()
	X.value=a
	X.focus()
	X.select()
	}mstrmojo._XtabSelections={lastSelectedTD:null,singleSelectForCopy:function K(R){var Z=this.getCellForNode(R),c=R.parentElement.rowIndex,g,h,e,f=Z&&Z.mix!=undefined,W=function(k,j){j=j||{}
	k=k||{}
	if(f){return k.mix==j.mix
	}else{return k.mix==j.mix&&k.ui==j.ui
	}}
	if(!Z){return 
	}if(Z.mix===undefined&&(this.lockHeadersCase&B)&&this.clonedRowHeader.isRendered()){e=this.clonedRowHeader.getTableNode()
	}else{e=this.zone?this.zone.tableNode:mstrmojo.dom.findAncestorByName(R,"table",false)
	}h=e.rows
	for(var Y=0,a=h.length
	Y<a
	Y++){var d=h[Y].cells
	for(var X=0,U=d.length
	X<U
	X++){var S=d[X],b=this.getCellForNode(S)
	if(b!=Z&&W(b,Z)){O(S,b,this)
	}}}},updateSelectionsForCopy:function A(c){var R=this.selectionsForCopy,Z,X,W,S,U,Y,a,b
	for(Z in R){for(X in R[Z]){S=R[Z][X].length
	for(W=0
	W<S
	W++){U=R[Z][X][W]
	Y=this.getCellForNode(U)
	if(Y.mix===undefined){R[Z][X][W]=c.rows[U.parentElement.rowIndex].cells[U.cellIndex]
	}}}}},singleSelect:function G(S,c){var a=this.getCellForNode(S),l=S.parentNode
	if(c){var Z=this.getCellTitleId(a),f=this.getCellUnitIndex(a)
	selectedTitle=this.selections[Z]
	selectedUnit=selectedTitle&&selectedTitle[f]
	if(selectedUnit){for(var b=0,d=selectedUnit.length
	b<d
	b++){L(selectedUnit[b])
	}delete selectedTitle[f]
	return 
	}}var Y=H(a,this)
	if(a.axis===M){for(var b=0,R=0,d=l.cells.length
	b<d&&R<Y
	b++){var W=l.cells[b],e=this.getCellForNode(W)
	if(P(e,a)){C(W,e,this)
	R++
	}}}else{if(a.axis===D){var h=mstrmojo.dom.findAncestorByName(S,"table",false),k=h.rows
	for(var b=0,R=0,d=k.length
	b<d&&R<Y
	b++){var g=k[b].cells
	for(var X=0,U=g.length
	X<U
	X++){var W=g[X],e=this.getCellForNode(W)
	if(P(e,a)){C(W,e,this)
	R++
	break
	}}}}else{C(S,a,this)
	}}},rangeSelect:function N(n,o){var k=this.getCellForNode(n),R=this.getCellForNode(o)
	if(F(k,R)){if(k.o>R.o||k._ei>R._ei){var r=n
	n=o
	k=this.getCellForNode(n)
	o=r
	R=this.getCellForNode(o)
	}var e=H(k,this),S=k.axis,p=mstrmojo.dom.findAncestorByName(n,"table",false),b=p.rows,l=n.parentNode,t=l.rowIndex,d=l.cells,g=o.parentNode.rowIndex
	if(S===M){for(var h=t
	h<=g
	h++){var U=b[h].cells,W=false
	for(var f=0,m=U.length,X=0
	f<m&&X<e
	f++){var Z=U[f],c=this.getCellForNode(Z)
	if(F(c,k)){C(Z,c,this)
	X++
	}}}}else{if(S===D){for(var h=0,m=b.length,q=0
	h<m&&q<e
	h++){var U=b[h].cells,a=false
	for(var f=0,Y=U.length
	f<Y
	f++){var Z=U[f],c=this.getCellForNode(Z)
	if(P(c,k)){a=true
	}if(a){C(Z,c,this)
	}if(P(c,R)){break
	}}if(a){q++
	}}}else{if(t==g){for(var h=n.cellIndex,m=o.cellIndex
	h<=m
	h++){var Z=d[h],c=this.getCellForNode(Z)
	C(Z,c,this)
	}}else{for(var h=t,m=g
	h<=m
	h++){var U=b[h].cells
	for(var f=0,Y=U.length
	f<Y
	f++){var Z=U[f],c=this.getCellForNode(Z)
	if(F(c,k)){C(Z,c,this)
	break
	}}}}}}}},doSelection:function(a,Z,X){var b=mstrmojo.dom,R=b.isMetaKey(Z,a),S=b.shiftKey(Z,a)
	if(!R){Q(this)
	}this.clearAllHighlights()
	var Y=this.getCellForNode(X)
	var U=Y&&(Y.mix===undefined&&Y.o!==undefined),W=Y&&(Y.mix!==undefined&&(Y._lp||Y._tp))
	if(U||W){if(S){this.rangeSelect(this.lastSelectedTD,X)
	}else{this.singleSelect(X,R)
	this.lastSelectedTD=X
	}}else{this.singleSelectForCopy(X,R)
	}I.call(this)
	},clearAllHighlights:function(){var S=this.getCellForNode(this.lastSelectedCell),W=S&&this.gridData.gts[S.axis===1?"row":"col"],R=W&&W[S.tui||S.ui]
	var U=R&&R.sc&&R.sc.tks&&R.sc.tks.split("\x1E")
	if(U&&this.model.docModel.getTargetInfoWin(U).length==U.length){this.clearHighlights()
	}}}
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.dom","mstrmojo.fx")
	var C=mstrmojo.css,J=mstrmojo.dom,S=mstrmojo.array,U={v:{styleDim:"height",styleDir:"top",dimension:"h",position:"y",scroll:"scrollTop",scrollDimension:"scrollHeight",cls:"vertical",hostCls:"hasVertical",scrollNodeCls:"hasVertical"},h:{styleDim:"width",styleDir:"left",dimension:"w",position:"x",scroll:"scrollLeft",scrollDimension:"scrollWidth",cls:"horizontal",hostCls:"hasHorizontal",scrollNodeCls:"hasHorizontal"}},D="scrollingMode",l="scrolling",j=3
	var e=J.isMac()
	function H(){return(this.scrollbarHostNode||(this.scrollNode&&this.scrollNode.parentNode))
	}function f(n,o){return(typeof this.getScrollDimension==="function"&&this.getScrollDimension(n))||o
	}function m(r,o){var q=this.scrollNode,n=H.call(this),p={v:r,h:o}
	S.forEach(["v","h"],function(u){var t=U[u]
	C.toggleClass(n,t.hostCls,p[u])
	C.toggleClass(q,t.scrollNodeCls,p[u])
	})
	}function c(o,n){var u=J.eventTarget(n,o),r=this.scrollNode,q=J.position(r),t=this.scrollTrackNodes,p=this.scrollBarNodes,v=function v(AE){var AC=u===t[AE]
	if(AC){var AF=U[AE],w=p[AE],AG=J.position(w),z=J.getMousePosition(o,n)[AF.position],AA=z-AG[AF.position],x=AA>0?1:-1,AD=f.call(this,AE,r[AF.scrollDimension]),AH=Math.abs(AA-(AG.h/2))*(AD/q[AF.dimension]),AB={}
	AB[AF.scroll]={isStyle:false,start:r[AF.scroll],stop:r[AF.scroll]+(x*Math.min(AD/3,500,AH)),ease:mstrmojo.ease.linear}
	(new mstrmojo.fx.AnimateProp({props:AB,duration:200,interval:10,target:r})).play()
	}}
	v.call(this,"h")
	v.call(this,"v")
	}function h(o,n){var r=this.scrollNode,q=o.type==="mousewheel",p=q?-1:1
	mstrmojo.array.forEach(["h","v"],function(AA){var x=U[AA],u=q?"wheelDelta":"delta",w=o[u+{h:"X",v:"Y"}[AA]]*p,v=Math.abs(w),t=w/v,z=v===3&&J.isFF&&!e
	r[x.scroll]+=z?t*40:w
	})
	J.stopPropogation(n,o)
	J.preventDefault(n,o)
	}function I(t){var r=U[t],q=this.scrollNode,p=J.position(q),o=p[r.dimension],u=f.call(this,t,q[r.scrollDimension]),n=Math.ceil(o)/u
	return Z(n,o,u)
	}function Z(o,n,p){return(!isNaN(o)&&o<1)&&(Math.abs(n-p)>j)
	}function Q(AN){var AG="px",z=U[AN],r=this.scrollNode,AA=H.call(this),AP=J.position(r),AB=AP[z.dimension],AI=f.call(this,AN,r[z.scrollDimension]),q=Math.ceil(AB)/AI,AM=this.scrollBarNodes,w=AM[AN],AE=this.scrollTrackNodes,AF=AE[AN],AK=Z(q,AB,AI),t=z.cls
	if(!w){AF=AE[AN]=document.createElement("div")
	var u=this,AD=function(AR){c.call(u,AR)
	},x=function(AR){h.call(u,AR)
	},AJ=function(AT,AR,AS){J.attachEvent(AT,AR,AS)
	u.installedEventListeners.push({e:AT,evt:AR,fn:AS})
	}
	AJ(AF,"click",AD)
	AF.className="mstrmojo-scrolltrack "+t
	w=AM[AN]=document.createElement("div")
	w.className="mstrmojo-scrollbar "+t
	AF.appendChild(w)
	AA.appendChild(AF)
	var AL=mstrApp.isSingleTier?"mousewheel":"wheel"
	AJ(AF,AL,x)
	AJ(w,AL,x)
	}var AQ=w.style,v=(r[z.scroll]/f.call(this,AN,r[z.scrollDimension])),o=J.delta(r,H.call(this))[z.position],AH=AF.style
	if(AK){AH[z.styleDir]=o+AG
	AH[z.styleDim]=AP[z.dimension]+AG
	var p=q*AB,AC=35,AO=AB*v,n=AB-35
	AQ[z.styleDim]=(p<AC?AC:p)+AG
	AQ[z.styleDir]=(AO>n?n:AO)+AG
	}return AK
	}function R(){return !(mstrApp.isSingleTier&&e)
	}mstrmojo.ui._HasScroller=mstrmojo.provide("mstrmojo.ui._HasScroller",{_mixinName:"mstrmojo.ui._HasScroller",hasCustomScrollbar:null,draggable:true,ownAvatar:true,scrollNode:undefined,scrollbarHostNode:undefined,scrollBarNodes:undefined,setupScrollNodes:mstrmojo.emptyFn,installedEventListeners:null,init:function g(n){this._super(n)
	if(this.hasCustomScrollbar===null){this.hasCustomScrollbar=R()
	}this.installedEventListeners=[]
	},onRender:function B(){if(this._super){this._super()
	}this.updateScrollbars()
	this.addScrollNodeProperties()
	},addScrollNodeProperties:function P(){var o=this.scrollNode,p=J.isFF&&!e
	if(o){var n=J.attachMarkupEvent(this.id,o,"scroll")
	this.installedEventListeners.push({e:o,evt:"scroll",fn:n})
	}if(p){C.addClass(o,"firefox-on-windows")
	}else{if(J.isEdge){C.addClass(o,"ms-edge")
	}}if(!this.hasCustomScrollbar){C.addClass(H.call(this),"mstrmojo-sb-host-show-default")
	C.addClass(o,"mstrmojo-sb-show-default")
	return 
	}if(o){C.addClass(H.call(this),"mstrmojo-scrollbar-host")
	C.addClass(o,"mstrmojo-scrollNode")
	}},updateScrollbars:function d(){if(!this.hasRendered){return 
	}this.setupScrollNodes()
	var n,p=false
	if(!this.hasCustomScrollbar){if(this.scrollNode){n=this.scrollNode.style
	n.overflowY=I.call(this,"v")?"scroll":"hidden"
	n.overflowX=I.call(this,"h")?"scroll":"hidden"
	}return 
	}if(this.scrollNode){this.scrollBarNodes=this.scrollBarNodes||{}
	this.scrollTrackNodes=this.scrollTrackNodes||{}
	m.call(this,p,p)
	n=this.scrollNode.style
	var q=Q.call(this,"v"),o=Q.call(this,"h")
	n.overflowY=q?"scroll":"hidden"
	n.overflowX=o?"scroll":"hidden"
	m.call(this,q,o)
	}},addNoSwipeClass:function N(){if(J.isTouchOptimizationEnabled()&&this.hasRendered&&this.scrollNode&&I.call(this,"h")){C.addClass(this.domNode,"mstrmojo-no-swipe")
	}},onscroll:function b(){var r=this.scrollNode
	if(r&&this.hasCustomScrollbar){var AA=function AA(AB){var AC=parseInt(AB)
	return AC===null||isNaN(AC)?0:AC
	},x=J.position(r),w=x.h-AA(C.getStyleValue(r,"padding-bottom")),p=x.w-AA(C.getStyleValue(r,"padding-right")),q=f.call(this,"h",r.scrollWidth),z=f.call(this,"v",r.scrollHeight),t=z-w,n=q-p,o=this.scrollBarNodes,u=o.v,v=o.h
	if(t>0){u.style.top=((w-J.position(u).h)*(r.scrollTop/(t)))+"px"
	}if(n>0){if(this.isRTL){v.style.right=((J.position(v).w-p)*(r.scrollLeft/(n)))+"px"
	}else{v.style.left=((p-J.position(v).w)*(r.scrollLeft/(n)))+"px"
	}}}if(this._super){this._super()
	}if(this.onScrollEnd){this.onScrollEnd()
	}},getDragData:function W(o){var r=this.scrollNode,q=J.position(r),p=o.src.node,n=this.scrollBarNodes
	if(this.isDraggingScrollBar(o)){return{isScrollBar:true,direction:p===n.v?"v":"h",scrollTop:r.scrollTop,scrollLeft:r.scrollLeft,conversionRatio:{y:r.scrollHeight/q.h,x:r.scrollWidth/q.w}}
	}return(this._super&&this._super(o))
	},isDragValid:function O(n){return this.isDraggingScrollBar(n)||(this._super&&this._super(n))||false
	},isDraggingScrollBar:function X(o){var p=o.src.node,n=this.scrollBarNodes
	return !!n&&(p===n.v||p===n.h)
	},ondragstart:function Y(n){if(this.isDraggingScrollBar(n)){C.addClass(n.src.node,l)
	C.addClass(H.call(this),D)
	}if(this._super){this._super(n)
	}},shouldDragBubble:function F(n){var o=n.src.node,p=this.scrollTrackNodes
	return !(!!p&&(o===p.v||o===p.h))
	},ondragmove:function G(o){if(this.isDraggingScrollBar(o)){var x=o.tgt,n=o.src,z=x.pos,p=n.pos,u=n.node,t=this.scrollNode,w=this.scrollBarNodes,v=n.data,r={y:(z.y-p.y),x:(z.x-p.x)},q=v.conversionRatio
	if(u===w.v){t.scrollTop=v.scrollTop+(r.y*q.y)
	}else{t.scrollLeft=v.scrollLeft+(r.x*q.x)
	}}if(this._super){this._super(o)
	}},ondragend:function E(n){if(this.isDraggingScrollBar&&this.isDraggingScrollBar(n)){C.toggleClass(n.src.node,l,false)
	C.toggleClass(H.call(this),D,false)
	}if(this._super){this._super(n)
	}},widgetResized:function k(){if(this._super){this._super()
	}this.updateScrollbars()
	},unrender:function A(n){S.forEach(this.installedEventListeners,function(o){J.detachEvent(o.e,o.evt,o.fn)
	})
	this.installedEventListeners=[]
	delete this.scrollNode
	delete this.scrollbarHostNode
	delete this.scrollBarNodes
	delete this.scrollTrackNodes
	this._super(n)
	},getDefaultScrollBarProps:function M(n){return U[n]
	},disableScroll:function a(n,q){var p=this.scrollNode,o=H.call(this)
	S.forEach(["v","h"],function(t){var r=U[t]
	C.toggleClass(o,r.hostCls,false)
	C.toggleClass(p,r.scrollNodeCls,false)
	})
	if(p){if(q||q===undefined){p.style.overflowY="hidden"
	}else{if(p.style.overflowY==="hidden"){p.style.overflowY="auto"
	}}if(n||n===undefined){p.style.overflowX="hidden"
	}}},disableScrollWithoutClearTheCls:function L(n,r){var q=this.scrollNode,o=H.call(this),p
	if(q){if(r||r===undefined){q.style.overflowY="hidden"
	p=U.v
	C.toggleClass(o,p.hostCls,false)
	}else{if(q.style.overflowY==="hidden"){q.style.overflowY="auto"
	}}if(n||n===undefined){p=U.h
	C.toggleClass(o,p.hostCls,false)
	q.style.overflowX="hidden"
	}}},enableScroll:function K(){this.updateScrollbars()
	if(!this.hasCustomScrollbar&&this.scrollNode){this.scrollNode.style.overflowY=I.call(this,"v")?"scroll":"hidden"
	}},scrollIntoViewIfNeeded:function(q){var w=this.scrollNode,t=q.clientHeight,r=w.clientHeight,o=J.position(q).y,u=J.position(w).y,p=o-u,n=p<0,v=p+t>r
	if(n||v){w.scrollTop+=p+t/2-r/2
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.expr","mstrmojo.css")
	var G=mstrmojo.array,F=mstrmojo.expr,H=mstrmojo.css
	mstrmojo._IsExprNode=mstrmojo.provide("mstrmojo._IsExprNode",{ind:function B(){var L=this.parent
	if(L&&L.indent){var K=this.childIndex()
	K=(K>-1&&(K>0))?[K,K-1]:null
	if(K){L.indent(K)
	}}},out:function D(){var L=this.parent
	if(L&&L.outdent){var K=this.childIndex()
	K=(K>-1&&(K>0))?[K,K-1]:null
	if(K){L.outdent(K)
	}}},andOrTxt:function A(){var M=this.parent,K=M&&M.data,L="",N=this.data
	if(K&&(K.et===F.ET.ANDOR)&&K.fn){L=K.fn+(N&&N.not?"_"+F.FN.NOT:"")
	L=F.BRANCH_FNS[L]
	}return'<span class="mstrmojo-text mstrmojo-andor">'+L+"</span>"
	},getPrefixAndOrToolsMarkup:function(){return('<span class="mstrmojo-indent" mstreventmark="todoRefactorNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].ind()" mstrAttach:mouseover,mouseout>'+mstrmojo.desc(5895,"Group conditions")+'</span><span class="mstrmojo-outdent" mstreventmark="todoRefactorNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].out()" mstrAttach:mouseover,mouseout>'+mstrmojo.desc(5896,"Ungroup Conditions")+"</span>")
	},premousedown:function J(K){var L=mstrmojo.dom.eventTarget(K.hWin,K.e)
	if(this.prefixHoverNode&&mstrmojo.dom.contains(this.prefixHoverNode,L,false)){mstrmojo.dom.stopPropogation(K.hWin,K.e)
	return 
	}if(this._super){this._super(K)
	}},isSelectableArea:function E(K){return true
	},childIndex:function I(){var M=this.parent,K=M&&M.data,L=K&&K.nds,N=this.data
	if(L&&N){return G.indexOf(L,N)
	}return -1
	},toggleGroupBorder:function C(K){H.toggleClass(this.parent.itemsContainerNode.childNodes[this.childIndex()-1].firstChild,"upgroup",K)
	H.toggleClass(this.domNode,"downgroup",K)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo._HasPopup","mstrmojo.hash","mstrmojo.css")
	var F=mstrmojo.hash,C=mstrmojo.css
	var D="open"
	function E(G){return G?G.popupConfig.hostElement:null
	}mstrmojo.ui.menus._HasMenuPopup=mstrmojo.provide("mstrmojo.ui.menus._HasMenuPopup",F.copy(mstrmojo._HasPopup))
	mstrmojo.ui.menus._HasMenuPopup.openPopup=function A(I,G){var H=this._lastOpened
	if(H){this.closePopup()
	}mstrmojo._HasPopup.openPopup.call(this,I,G)
	C.addClass(E(I),D)
	}
	mstrmojo.ui.menus._HasMenuPopup.closePopup=function B(){C.removeClass(E(this._lastOpened),D)
	mstrmojo._HasPopup.closePopup.call(this)
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css")
	var A=mstrmojo.css
	mstrmojo.ui._HasUITheme=mstrmojo.provide("mstrmojo.ui._HasUITheme",{_mixinName:"mstrmojo.ui._HasUITheme",themeClassName:"",postBuildRendering:function B(){var D=this.themeClassName
	if(D){this.onthemeClassNameChange({value:D})
	}return this._super()
	},onthemeClassNameChange:function C(D){var F=this.domNode
	if(F){var G=D.value,E=D.valueWas
	if(G){A.addClass(F,D.value)
	}if(E){A.removeClass(F,D.valueWas)
	}}}})
	mstrmojo.ui._HasUITheme.EnumThemeNames={LIGHT_THEME:"mojo-theme-light",DARK_THEME:"mojo-theme-dark"}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css")
	var F=mstrmojo.css,E="px",J="hasOwnAvatar",I={x:0,y:0}
	function B(L){var K=this.createAvatar(L.src.node,L)
	if(K){F.addClass(K,[this.avatarCssClass,J])
	this.avatar=L.avatar=document.body.appendChild(K)
	}}function C(){var K=this.avatar
	if(K){K.parentNode.removeChild(K)
	delete this.avatar
	F.removeClass(K,[this.avatarCssClass,J])
	}}mstrmojo._HasOwnAvatar=mstrmojo.provide("mstrmojo._HasOwnAvatar",{_mixinName:"mstrmojo._HasOwnAvatar",draggable:true,ownAvatar:true,avatarCssClass:"",restrictedToAxis:undefined,isDragValid:function H(K){if(this._super){return this._super(K)
	}return false
	},ondragstart:function D(K){B.call(this,K)
	this.positionAvatar(K.src.pos,K)
	if(this._super){this._super(K)
	}},ondragmove:function A(K){this.positionAvatar(K.tgt.pos,K)
	if(this._super){this._super(K)
	}},ondragend:function A(K){C.call(this)
	if(this._super){this._super(K)
	}},createAvatar:mstrmojo.emptyFn,positionAvatar:function G(O,L){if(this.avatar){var N=this.avatar.style,M=this.restrictedToAxis,K=(L&&L.dragOffsets)||I
	if(M!=="y"){N.left=O.x+K.x+E
	}if(M!=="x"){N.top=O.y+K.y+E
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.string","mstrmojo.css")
	var K=mstrmojo.css,N=mstrmojo.string,H=mstrmojo.dom,L=13,C=27
	function I(U){if(this._editComplete){return 
	}var Z,R=false,Y=this.text,W=false
	if(U===C){Z=Y
	W=true
	R=true
	}if((!U&&U!==0)||(!this.allowNewLine&&U===L)){var S=this[this.editableSlot],X=S&&(S.innerText||S.textContent)||""
	if(!this.allowNewLine){Z=X.replace(/\n/g,"")
	}else{Z=X
	}R=true
	if(!this.allowEmptyText&&Z.length===0){Z=Y
	W=true
	}}if(R){this._editComplete=true
	Z=Z.replace(/\u00A0/g,"\u0020")
	this.text=Z
	this.set("isEditing",false)
	this.onTextEditComplete(Z!==Y,Y)
	delete this._editComplete
	}if(W){this.refresh()
	}}function E(R){var S={dblclick:"editOnDoubleClick",click:"editOnClick"}
	if(this[S[R.name]]||(R.name==="click"&&this.editOnTwoClicks)&&R.getTarget()===this[this.editableSlot]){this.set("isEditing",true)
	}}function F(U,S,R){if(typeof S["on"+R]!=="function"){H.attachMarkupEvent(U,S,R)
	}}mstrmojo._HasEditableText=mstrmojo.provide("mstrmojo._HasEditableText",{_mixinName:"mstrmojo._HasEditableText",editableSlot:"domNode",editButtonSlot:null,isEditing:false,editOnClick:true,editOnTwoClicks:false,firstClickTime:undefined,allowEmptyText:false,allowTrimming:true,allowNewLine:false,editOnDoubleClick:false,onTextEditBegin:mstrmojo.emptyFn,onTextEditComplete:mstrmojo.emptyFn,postBuildRendering:function A(){this._super()
	var U=this.editableSlot,R=this[U],W=this[this.editButtonSlot||U]
	K.addClass(R,"hasEditableText")
	this.text=this.text||R.innerText||R.textContent||""
	R.innerHTML=this.getEditableTextInnerHTML()
	var S=this.id
	if(this.editOnClick||this.editOnTwoClicks){F(S,W,"click")
	}F(S,W,"dblclick")
	F(S,R,"blur")
	F(S,R,"keyup")
	F(S,R,"keydown")
	},getEditableTextInnerHTML:function Q(){return this.allowHTML?this.text:N.encodeHtmlString(this.text,true).replace(/ (?= )/g,"&nbsp
	")
	},onclick:function P(R){if(this.editOnClick){E.call(this,R)
	}if(this._super){this._super(R)
	}},onTwoClicks:function(R){if(this.editOnTwoClicks){E.call(this,R)
	}if(this._super){this._super(R)
	}},ondblclick:function G(R){E.call(this,R)
	},onblur:function M(){I.call(this)
	},onkeyup:function B(S){var R=window.event||S.e
	I.call(this,R.keyCode)
	},onkeydown:function J(S){var R=window.event||S.e
	if(R.keyCode===L){I.call(this,R.keyCode)
	S.cancel()
	}},_set_text:function D(U,R){var S=this.text
	this.text=R
	if(this.hasRendered){this[this.editableSlot].innerHTML=N.encodeHtmlString(R||"",true)
	}return(S!==R)
	},onisEditingChange:function O(){if(this.hasRendered){var R=this[this.editableSlot],S=!!this.isEditing
	R.contentEditable=S
	R.spellcheck=false
	K.toggleClass(R,"editable",S)
	if(S){R.focus()
	H.setElementSelection(R)
	this.onTextEditBegin()
	}else{R.blur()
	R.scrollLeft=0
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.dom","mstrmojo.css")
	var A=1,K="mstrmojo-itemwrap",J="&nbsp
	",I=mstrmojo.array
	function B(X){if(!X.pageSize||X.pageSize<=0){var Y=X.scrollboxNode
	X.pageSize=Y&&Y.clientHeight||0
	}return X.pageSize
	}function U(X,Y){if(X.usePaging){X.totalPages=1
	var a=X.itemsContainerNode,Z=B(X)
	if(X.usePaging&&a&&Z){X.totalPages=Math.ceil((a.clientHeight-parseInt(a.style&&a.style.paddingBottom||0,10))/Z)
	}if(a){X.itemsContainerNode.style.paddingBottom=Z+"px"
	}}}mstrmojo.ListMapper=mstrmojo.provide("mstrmojo.ListMapper",{markupPrefix:"",markupSuffix:"",itemWrapperPrefix:function(X){return'<div class="'+this.getWrapperCss(X)+'">'
	},itemWrapperSuffix:"</div>",itemWrapperPrefill:"&nbsp",wrapperNodes:function C(X){return X&&X.childNodes
	},wrapperParentNode:function D(X){return X
	},createWrapperNode:function G(X){var Y=X&&X.ownerDocument,Z=Y.createElement("div")
	return Z
	},findScrollRange:function N(m,b,l,q,Y,e,r,o){if(!b){return{start:0,end:0}
	}var g=this.wrapperNodes(m),k=parseInt(b/2,10),a=parseInt(Math.log(b)/Math.log(2),10),Z=0,X=b-1,j=l+q,f=g[0].offsetTop,d
	for(var n=1
	n<=a
	n++){d=g[k].offsetTop-f+o
	if(d<l){Z=k
	}else{if(d>j){X=k
	}}var c=Math.round(b/Math.pow(2,n+1))
	k+=(d>l)?-c:c
	k=Math.min(Math.max(0,k),b-1)
	}return{start:Z,end:X}
	},findWrapper:function L(Z,X){var Y=this.wrapperNodes(Z)
	return Y&&Y[X]
	},findIndex:function F(X,a,Z){var Y=this._nd2iw(X,a,Z)
	return Y?this._iw2idx(X,a,Y):-1
	},itemOffsetTop:function W(Y,c,X,a){if(!a){var Z=this.wrapperNodes(c)
	a=Z&&Z[X]
	if(!a){return 0
	}}var b=c.firstChild
	if(!b||(b===a)){return 0
	}else{return a.offsetTop-b.offsetTop
	}},whereDrop:function S(e,X,Z,d,Y){var a=this._nd2iw(e,X,Z),f,c,g
	if(a){c=this._iw2idx(e,X,a)
	f=c
	g=this.itemOffsetTop(e,X,null,a)
	var b=a.offsetHeight
	if(d.y>Y.top+g+b/2){f++
	g+=b
	}}else{return e.dropCuePos
	}return{left:0,top:g,idx:f,idxActual:c}
	},getWrapperCss:function(X){return K
	},postBuildRendering:function(b,a,Z,Y,X){U(Y,this)
	},buildItemWrappers:function P(g,d,m,f,c,n){var o=this.itemWrapperPrefix(m),l=this.itemWrapperSuffix,b=o+this.itemWrapperPrefill+l,a=[this.markupPrefix],Y=1,X=m.selectedIndices||{},q=function p(k,j){for(var r=k
	r<j
	r++){a[Y++]=o
	var t=d.build(m,f,g[r],r)
	if(X[r]){t=t.replace(/class\=\"([^\"]*)\"/,'class="$1 selected"')
	}a[Y++]=t
	a[Y++]=l
	}}
	var e=(g&&g.length)||0
	c=c&&d?Math.min(c,e):0
	if(c){q(0,c)
	}n=n&&d?Math.min(n,e-c):0
	var h=e-n
	for(var Z=c
	Z<h
	Z++){a[Y++]=b
	}if(n){q(h,e)
	}a.push(this.markupSuffix)
	return a
	},fillItemWrappers:function H(Z,j,f,o,h,Y,d,n){var g=(j&&j.length)||0,m=this.wrapperNodes(Z),q=h.itemStatus,X=mstrmojo.css,b=o.selectedIndices||{}
	for(var e=Y,l=Math.min(d+1,g),c=0
	e<l
	e++){if(q[e]!==A){m[e].innerHTML=f.build(o,h,j[e],e)
	if(b[e]){var a=m[e].firstChild
	if(a){X.addClass(a,["selected"])
	}}c++
	if(c===n){break
	}}}return c
	},onadd:function O(g,X,b,h){if(X&&h){var d=h.value.length,e=this.wrapperNodes(X),f=e[h.index],a=this.getWrapperCss(g)
	for(var Z=0
	Z<d
	Z++){var Y=this.createWrapperNode(X)
	Y.className=a
	Y.innerHTML=J
	if(f){this.wrapperParentNode(X).insertBefore(Y,f)
	}else{this.wrapperParentNode(X).appendChild(Y)
	}}U(g,this)
	}},onremove:function Q(a,e,X,Z){if(e&&Z){var d=this.wrapperNodes(e)
	if(d){var f=Z.value.length
	for(var b=Z.index+f-1,Y=Z.index
	b>=Y
	b--){if(d[b]){this.wrapperParentNode(e).removeChild(d[b])
	}}}U(a,this)
	}},onchange:function R(k,Z,e,m){if(Z&&m){var f=this.wrapperNodes(Z)
	if(f){var Y=mstrmojo.css,n=e.itemStatus,l
	for(var d=0,X=m.removed,h=X&&X.length
	d<h
	d++){l=X[d]
	if(n[l]){Y.removeClass(f[l].firstChild,["selected"])
	}}for(var c=0,g=m.added,b=g&&g.length
	c<b
	c++){l=g[c]
	if(n[l]){Y.addClass(f[l].firstChild,["selected"])
	}}}}},_nd2iw:function E(Y,b,a){b=this.wrapperParentNode(b)
	if(b&&a&&b!==a){var X=Y.domNode,Z=a.parentNode
	while(Z){if(Z===b){return a
	}if(Z===X){break
	}a=Z
	Z=a.parentNode
	}}return null
	},_iw2idx:function M(Z,d,c){var Y=Z.items&&Z.items.length,a=this.wrapperNodes(d),X=I.findBin(a,c,"offsetTop",Y)
	for(var b=X
	b<Y
	b++){if(a[b].offsetHeight){return b
	}}return -1
	},toPage:function(X,Z){var Y=X.scrollboxNode
	if(X.usePaging&&Y){Y.scrollTop=Z*B(X)
	}else{mstrmojo.alert("paging is not setup, can not perform paging.")
	}},whichPage:function(X){var Y=X.scrollboxNode,Z=B(X)
	return Math.round((Y&&Z&&Y.scrollTop/Z)||0)
	},toItem:function(b,d){var Z=b&&b.itemsContainerNode,g=b.scrollboxNode,X=this.itemOffsetTop(b,Z,d),e=this.wrapperNodes(Z)[d].clientHeight,Y=g.clientHeight,f=g.scrollTop,a=f
	if(X<f){a=X
	}else{if(f+Y-e<X){a=Math.min(X,X-Y+e)
	}}g.scrollTop=a
	}})
	})()
	(function(){mstrmojo.requiresClsP("mstrmojo","dom","hash","array","css","func","desc")
	var P=mstrmojo.dom,C=mstrmojo.css,Q=mstrmojo.hash,d=mstrmojo.array,p=mstrmojo.func,L=mstrmojo.desc
	var K,F=[],AB="moving"
	mstrmojo.requiresDescs(15934,15935,15936,15937,15938,15939,15940,1006)
	function R(AF,AE){var AD=AF&&AF.length||0
	AE=AE===undefined?30:AE
	return AF+Array(Math.max(AE-AD,0)+1).join(" ")
	}function B(AD){if(K){window.clearTimeout(K)
	K=null
	}G()
	d.forEach(AD,function(AE){C.toggleClass(AE,AB,true)
	})
	F=[].concat(AD)
	K=window.setTimeout(G,1000)
	}function G(){d.forEach(F,function(AD){C.toggleClass(AD,AB,false)
	})
	F=[]
	}function j(AL,AJ,AD,AH){var AM=AL.rows,AE=AM.length,AG
	if(AJ<0||AJ>=AE||AD<0||AD>AE){AG=false
	}else{if(AD===AJ||AD===AJ+1){AG=true
	}else{var AI=AM[AJ],AF=AL.insertRow(AD)
	P.replace(AF,AI)
	if(mstrmojo.debugBundles&&console){console.log("move "+R('"'+AI.cells[0].textContent.trim()+'"')+' after "'+AL.rows[AI.rowIndex-1].textContent.trim()+'"')
	}if(!AH){B(Array.apply(null,AI.cells))
	}if(AJ===1||AD===1){var AK=this.getViz()
	AK.offsetCellNode=S.call(this).rows[1].cells[0]
	}AG=true
	}}return AG
	}function z(AD){var AE=P.findAncestorByName(AD,"tr")
	return AE&&AE.rowIndex
	}function H(AF,AG){var AD
	if(AF){var AH=P.findAncestorByName(AF,"tr"),AE=AH&&AH.rowIndex
	AD=AE+(AG?0:1)
	}else{if(AG){AD=S.call(this).rows.length
	}else{AD=1
	}}return AD
	}function t(AF,AE){var AD
	if(AF){AD=AF.ordinal
	}else{if(AE){AD=Z.call(this)-1
	}else{AD=0
	}}return AD
	}function Z(){var AD=this.getViz()
	dataBlocks=AD.dataBlocks,tc=0
	d.filterOne(dataBlocks,function(AE){tc=AE&&AE.rw.row.tc
	return tc!==undefined
	})
	return tc
	}function AC(AK,AE){var AL=v.call(this),AO=AL.rowsPerPage,AM=Math.ceil((AK+2)/AO)-1,AG=AL.pageStatus[AM],AF=[],AH
	for(AH=AL.numPagesRendered
	AH<AM
	AH++){AF.push({idx:AH,fill:false})
	}var AJ,AD
	if(!AG||!AG.filled){if(AG&&AG.isOnDemand()){if(!AG.isDownloading&&!AL.isDownloading){var AN=AM*AO-1,AI=(AM+1)*AO-2
	AG.isDownloading=true
	AL.isDownloading=true
	AL.cp.download(AN,AI)
	AJ=true
	AD=AI-AN+1
	if(mstrmojo.debugBundles&&console){console.log("load data from orddinal "+AN+" to "+AI+" for page index "+AM+" and ordinal "+AK)
	}}AF.push({idx:AM,fill:false})
	}else{AF.push({idx:AM,fill:true})
	}}if(AJ&&AE){AL.parent.showDownloadStatus(AD)
	}else{AL.parent.closeDownloadStatus()
	}return AF
	}function S(){var AD=v.call(this)
	return AD.tableNode
	}function v(){var AD=this.getViz()
	return AD.zone
	}function b(AG){var AE=this.getViz(),AD=AE.scrollboxLeft,AF=AE.scrollboxTop
	if(AD!==AG.x||AF!==AG.y){AE.scrollTo(AG)
	}}mstrmojo.vi.controllers.CustomSortModeActionMgr=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.vi.controllers.CustomSortModeActionMgr",actions:null,pos:-1,historicalUnsilentActions:null,csDisplayPanel:null,init:function q(AD){Q.copy(AD,this)
	this.actions=[]
	this.historicalUnsilentActions=[]
	},appendHistUnsilentActions:function e(AD){this.historicalUnsilentActions=this.historicalUnsilentActions.concat(AD)
	},getViz:function c(){return this.csDisplayPanel.getVizBox().boxContent
	},wrapCustomSortAction:function I(AE,AG,AD){var AH=this,AF=this.getViz()
	return{silent:true,submitAction:AE,srcEle:this.getOrdinalInfo(AG),tgtEle:this.getOrdinalInfo(AD),srcRefOrdinal:this.getRefOrdinal(AG),perform:function(AN,AQ,AO){var AK=this,AM=AK.srcEle,AJ=AK.tgtEle,AL=AK.submitAction.before,AR=function(){var AW=AH.getNodeForOrdinal(AM.ordinal),AV=AH.getViz(),AT=AV.getCellForNode(AW),AS=AJ&&AH.getNodeForOrdinal(AJ.ordinal),AU=AS&&AV.getCellForNode(AS)
	if(AH.hasFailedSorts()||AT._e.id!==AM.id||AU&&AU._e.id!==AJ.id){AH.addFailedSorts(AM.n,AJ&&AJ.n,AL)
	}else{j.call(AH,S.call(AH),z(AW),H.call(AH,AS,AL),AO)
	if(!AN){b.call(AH,{x:AV.scrollboxLeft||0,y:AH.getScrollYForGoldenSectionPoint(AW)})
	}}if(AQ){AQ()
	}}
	if(AN){AH.resetFailedSorts()
	AR()
	}else{var AI=AK.srcEle.ordinal,AP=t.call(AH,AK.tgtEle,AL)
	if(AH.hasFailedSorts()){AH.addFailedSorts(AM.n,AJ&&AJ.n,AL)
	if(AQ){AQ()
	}}else{AH.prepareDataAndPages([AI,AP],AR)
	}}},undo:function(){var AM=AH.getNodeForOrdinal(this.srcEle.ordinal),AK=z(AM),AJ=AH.getNodeForOrdinal(this.srcRefOrdinal),AI=H.call(AH,AJ,false),AL=S.call(AH)
	j.call(AH,AL,AK,AI)
	b.call(AH,{x:AH.getViz().scrollboxLeft||0,y:AH.getScrollYForGoldenSectionPoint(AM)})
	}}
	},prepareDataAndPages:function M(AI,AK){var AG=0,AD=AI.length,AE=v.call(this),AH=this,AJ=0
	var AF=function(){self.setTimeout(function(){try{var AL=AC.call(AH,AI[AG])
	if(AL.length>0){mstrApp.showWait()
	AE.preRenderPages()
	AE.renderPages(AL)
	AE.postRenderPages()
	AE._postPagesClearup=true
	}else{if(AE._postPagesClearup){AE.postRenderPagesCleanup()
	AE.configureActions()
	AE._postPagesClearup=false
	}if(AE.isRenderingComplete()){AE.postRenderingCleanup()
	}AG++
	}if(AL.length>0||AG<AD){AJ=AE.renderPause
	AF()
	}else{AH.dpPreparingCleanUp()
	if(AK){AK()
	}}}catch(AM){AH.dpPreparingCleanUp()
	mstrApp.hideWait(true)
	throw AM
	}},AJ)
	}
	AE.renderingRows=true
	AF()
	},dpPreparingCleanUp:function E(){v.call(this).renderingRows=false
	},getRefOrdinal:function a(AF){var AH=this.getViz(),AD=AH.zone.tableNode.getElementsByTagName("tr"),AE=AF.cellIndex,AI=AF.parentElement.rowIndex,AG=AD[AI-1].cells[AE]
	return AH.getCellForNode(AG).o
	},getOrdinalInfo:function AA(AE){var AD=this.getViz().getCellForNode(AE)
	if(AD&&AD._e){return{id:AD._e.id,n:AD._e.n,ordinal:AD.o}
	}},getNodeForOrdinal:function r(AD){var AG=S.call(this).rows
	if(AD>=0){var AE=AD+1,AF
	AF=d.filterOne(AG,function(AH){return parseInt(AH.firstElementChild.getAttribute("r"),10)===AE
	})
	return AF.firstElementChild
	}else{return AG[0].firstElementChild
	}},getScrollYForGoldenSectionPoint:function U(AH){var AE=0.618,AJ=this.getViz(),AD=AJ.tableContainerNode.getBoundingClientRect(),AG=AD.top+AD.height*(1-AE),AF=AH.getBoundingClientRect(),AI=AF.top+AF.width/2
	return(AJ.scrollboxTop||0)+AI-AG
	},wrapUnsilentAction:function X(AE,AD,AG,AF){var AH=this
	return{silent:false,needDataReady:!!(AF&&AF.needDataReady),submitActions:d.ensureArray(AE),undoCallback:AD,perform:function(AJ,AL){var AI=[],AJ=d.ensureArray(AJ),AM=AH.getViz(),AN=AM.model.getDataService(),AK
	if(AJ.length>0){AI=AI.concat(AJ)
	}AI=AI.concat(this.submitActions)
	AK=AM.controller._getXtabCallback(AM,Q.copy(AD))
	if(AL){AK=p.wrapMethods(AK,AL)
	}AG=Q.copy(AG||{})
	AG.hideCancel=true
	AG.noUpdate=true
	AG.preserveStid=true
	AG.noDeltaXML=true
	AN.submitUpdates(AN.getUpdateTemplateAction(AM.k,AI),AK,AG)
	}}
	},addAction:function w(AD){var AE=this.actions,AF=this.pos
	AE.splice(AF+1)
	AE.push(AD)
	this.pos=AE.length-1
	this.csDisplayPanel.updateStatus()
	},execute:function g(AE){this.addAction(AE)
	if(AE.silent){AE.perform(true)
	}else{var AD=this.getCustomSortActAhead()
	AE.perform(d.ensureArray(AD))
	}},undo:function W(){var AE=this.actions[this.pos]
	if(!AE){return 
	}this.pos--
	this.csDisplayPanel.updateStatus()
	if(AE.silent){AE.undo()
	}else{var AD=this.getActionParts4Undo()
	this.csDisplayPanel.recreateCSVizForUndo(AD.splitUTActions,AD.silentActions,AE.undoCallback)
	}},getActionParts4Undo:function n(){var AJ=[],AL=[AJ],AI=[],AG=this.actions,AH=this.pos,AE,AK
	while(AH>=0){AE=AG[AH]
	if(AE&&AE.silent){AI=[AE].concat(AI)
	}else{break
	}AH--
	}while(AH>=0){AE=AG[AH]
	if(AE){if(AE.silent){AK=this.getCustomSortActAhead(AH+1)
	AJ.unshift(AK)
	AH=AH-(AK.actions.length-1)
	}else{AJ.unshift.apply(AJ,AE.submitActions)
	if(AE.needDataReady){AJ=[]
	AL.unshift(AJ)
	}}}AH--
	}var AF=this.historicalUnsilentActions,AD
	AH=AF.length-1
	while(AH>=0){AD=AF[AH]
	AJ.unshift.apply(AJ,AD.submitActions)
	if(AD.needDataReady){AJ=[]
	AL.unshift(AJ)
	}AH--
	}return{splitUTActions:AL,silentActions:AI}
	},redo:function O(){var AE=this.actions[this.pos+1]
	if(!AE){return 
	}this.pos++
	this.csDisplayPanel.updateStatus()
	if(AE.silent){this.resetFailedSorts()
	var AD=this
	AE.perform(false,function(){mstrApp.hideWait(true)
	if(AD.hasFailedSorts()){AD.actions.splice(AD.pos)
	AD.pos--
	AD.csDisplayPanel.updateStatus()
	AD.showFailedSortsAndReset()
	}})
	}else{AE.perform(this.getCustomSortActAhead())
	}},getContSlientActionsBehind:function Y(){var AD=this.actions.length,AE,AF=[],AG
	for(AE=this.pos+1
	AE<AD
	AE++){AG=this.actions[AE]
	if(AG&&AG.silent){AF.push(AG)
	}else{break
	}}return AF
	},getContSlientActionsBefore:function f(){var AG=this.actions,AD,AE=[],AF
	for(AD=this.pos
	AD>=0
	AD--){AF=AG[AD]
	if(AF&&AF.silent){AE=[AF].concat(AE)
	}else{break
	}}return AE
	},getSlientActionsBefore:function A(){var AD=this.actions.slice(0,this.pos+1)
	return d.filter(AD,function(AE){return AE&&AE.silent
	})
	},getUnslientActionsBefore:function m(){var AD=this.actions.slice(0,this.pos+1)
	return d.filter(AD,function(AE){return AE&&!AE.silent
	})
	},getCustomSortActAhead:function l(AH){var AD=[],AE=(AH===undefined?this.pos:AH)-1,AG=this.actions
	while(AE>=0){var AF=AG[AE]
	if(AF.silent){AD=[AF.submitAction].concat(AD)
	}else{break
	}AE--
	}if(AD.length>0){return this.csDisplayPanel.wrapCustomSortAction(AD,true)
	}},isCurrentActionSilent:function N(){return this.actions[this.pos]&&this.actions[this.pos].silent
	},reset:function k(){this.actions=[]
	this.pos=-1
	this.csDisplayPanel.updateStatus()
	},getActionsCount:function u(){return(this.actions||[]).length
	},getFailedSortsCount:function h(){return(this.failedSorts||[]).length
	},resetFailedSorts:function o(){this.failedSorts=[]
	},hasFailedSorts:function J(){return(this.failedSorts||[]).length>0
	},addFailedSorts:function D(AE,AF,AD){this.failedSorts=this.failedSorts||[]
	this.failedSorts.push({srcName:AE,tgtName:AF,isPost:AD})
	},showFailedSortsAndReset:function x(){if(this.hasFailedSorts()){var AE=this.failedSorts.length,AG,AJ,AD,AH,AI=L(15934,"Below sorting manipulations fail due to change in source data:")+" "
	for(var AF=0
	AF<AE
	AF++){AG=this.failedSorts[AF]
	AJ=AG.srcName
	AD=AG.tgtName
	AH=AG.isPost
	if(AD){AI+=AH?L(15935,'move "#" before "##"').replace("#",AJ).replace("##",AD):L(15936,'move "#" after "##"').replace("#",AJ).replace("##",AD)
	}else{AI+=AH?L(15937,'move "#" to the end').replace("#",AJ):L(15938,'move "#" to the top').replace("#",AJ)
	}if(AF===AE-1){AI+=L(1006,".")+" "
	}else{AI+=L(15939,",")+" "
	}}AI+=L(15940,"Please manually do these sortings if necessary.")
	mstrmojo.err({message:AI})
	this.resetFailedSorts()
	}}})
	}())
	(function(){mstrmojo.requiresClsP("mstrmojo","hash","css","array","RaErrorHandler","desc")
	var S=mstrmojo.hash,o=mstrmojo.func,B=mstrmojo.css,K=mstrmojo.RaErrorHandler,h=mstrmojo.array
	var E={lv:-1,hcd:false,epd:false,hid:false,dhid:false,children:[],displayChildren:[],parent:null,displayParent:null},m={rootItems:{},items:[],itemMap:{}}
	var n="hidden",C="expanded",t="collapsed",J="hierarchy",e="hasChildren",r="u
	",Z=10,N=7,q=32
	mstrmojo.ui._IsHierarchyList=mstrmojo.provide("mstrmojo.ui._IsHierarchyList",{_mixinName:"mstrmojo.ui._IsHierarchyList",itemValueField:"v",init:function p(u){this._super(u)
	this.clearItems()
	},getItemProps:function j(w,u){var v=this._super(w,u),x=0
	if(w.hcd){v.addCls(e)
	}if(w.v===r){v.addCls(n)
	}if(this.isHiearachyDisplay()){v.addCls(J)
	if(w.hid){v.addCls(n)
	}x=w.lv>=0?w.lv*Z:0
	}v.indent=x
	return v
	},_getItemNode:function U(u){var v=this.itemsContainerNode
	return h.filterOne(v&&v.childNodes,function(w){return parseInt(w.getAttribute("idx"),10)===u
	})
	},_buildItemsMarkup:function l(AB,v,w,x,z,AA){var u
	if(this.isHiearachyDisplay()){u=this._buildDescendantsMarkup()
	}else{u=this._super(AB,v,w,x,z,AA)
	}return u
	},_buildDescendantsMarkup:function c(AB,z){var AE=[],AA=this.itemRenderer&&this.itemRenderer.render,AC=AB?(z?[AB]:AB.displayChildren):(this.raad?this.getDisplayRoots():this.getRootItems()),v=this.blockCount,x=function(AF){if(!AF.hid&&!AF.dhid){AE.push(AA(AF,AF.idx,this))
	}if(AF.epd||AF.hid){h.forEach(AF.displayChildren,function(AH,AG){return AD.call(this,AH,AG)
	},this)
	}},AD=function(AG,AF){if(this.raad&&AF>=v){var AH=this.createRenderer(AG.lv,AG.displayParent,AG.parent,this.items.length,AF)
	this.items.push(AH)
	if(AH.displayParent){AH.displayParent.displayChildren.push(AH)
	}if(AH.parent){AH.parent.children.push(AH)
	}x.call(this,AH)
	return false
	}else{x.call(this,AG)
	}}
	if(AA&&typeof AA==="function"){if(this.raad&&!AB){if(AC.length>v){var u=AC.slice(0,v),w=this.createRenderer(AC[v-1].lv,null,null,this.items.length,v)
	this.items.push(w)
	AC.push(w)
	u.push(w)
	AE=this._buildSiblingsMarkup(u)
	}else{AE=this._buildSiblingsMarkup(AC)
	}}else{h.forEach(AC,function(AG,AF){return AD.call(this,AG,AF)
	},this)
	}}return AE
	},getItems:function W(){return this.items
	},getItemByValue:function D(u){return this.itemMap[u]
	},isRootItem:function(u){return u.lv>=0&&u.v!==r&&!u.pid&&!u.parent
	},getRootItems:function f(){return S.valarray(this.rootItems)
	},getDisplayRoots:function a(){if(!this.displayRoots){var w=this.displayRoots=[],u=this.getRootItems(),v=function(x){h.forEach(x,function(z){if(!z.hid){w.push(z)
	}if(z.epd||z.hid){v(z.displayChildren)
	}})
	}
	v(u)
	}if(!this.initialDisplayRoots){this.initialDisplayRoots=w.slice()
	}return this.displayRoots
	},getInitialDisplayRoots:function A(){if(!this.initialDisplayRoots){this.initialDisplayRoots=(this.getDisplayRoots()||[]).slice()
	}return this.initialDisplayRoots
	},createRenderer:function I(z,v,x,u,w){return{n:mstrmojo.desc(1005,"More..."),lv:z,displayParent:v,parent:x,idx:u,fetcher:true,fake:true,config:{nextSiblingIdx:w}}
	},getItemAncestorMap:function F(v){var u=this.itemValueField,w={}
	while(v&&v[u]){w[v[u]]=true
	v=v.parent
	}return w
	},getItemDescendantMap:function b(w){var u=this.itemValueField,x={},v=function(z){x[z[u]]=true
	h.forEach(z.children,function(AA){v(AA)
	})
	}
	v(w)
	return x
	},clearItems:function k(){var u=this.itemsContainerNode
	S.copy(S.clone(m),this)
	if(u){u.innerText=""
	this.updateScrollbars()
	}},addItems:function g(AA,w){var v=this.items,z=this.itemMap,u=this.rootItems,x=this.itemValueField,AC=[]
	h.forEach(AA,function(AD){var AG=AD[x],AE=this.getItemByValue(AG),AF=S.copy(AD,(AE?AE:S.clone(E)))
	if(!AE){AF.idx=v.length
	v.push(AF)
	if(AG){z[AG]=AF
	}}if(this.isRootItem(AF)){u[AG]=AF
	}AC.push(AF)
	},this)
	h.forEach(AC,function(AF){var AD=this.getItemByValue(AF.pid),AE=this.getItemByValue(AF.dpid)||AD
	if(AD){if(!AF.parent){AF.parent=AD
	AD.children.push(AF)
	}if(!AF.hid&&!AF.dhid&&!AF.displayParent){AE.hcd=true
	AF.displayParent=AE
	AE.displayChildren.push(AF)
	}}delete AF.pid
	delete AF.dpid
	},this)
	if(!w){if(this.postAddItems){this.postAddItems(AC)
	}var AB=this.itemsContainerNode
	if(AB){if(this.isHiearachyDisplay()){this.refresh()
	}else{AB.innerHTML+=this._buildSiblingsMarkup(this.getFlatDisplayItems(AC)).join("")
	this.updateScrollbars()
	}}}return AC
	},addSiblingItems:function G(AC,z){var x=this.getItemByValue(z),v
	if(x){h.forEach(AC,function(AE){if(AE.v!==z){AE.pid=AE.pid||z
	}})
	}v=this.addItems(AC,true)
	if(this.postAddSiblingItems){this.postAddSiblingItems(v,x)
	}var AA=this.itemsContainerNode
	if(AA&&this.isHiearachyDisplay()){var AB=this._buildSiblingsMarkup(v).join("")
	if(!z){AA.innerHTML+=AB
	}else{if(x){var AD={},w=this._getItemNode(x.idx),u
	if(w){AD[x.v]=true
	while(w.nextSibling){u=this.getItemFromTarget(w.nextSibling)
	if(u&&u.displayParent&&AD[u.displayParent.v]){AD[u.v]=true
	w=w.nextSibling
	}else{break
	}}w.outerHTML+=AB
	}}}this.updateScrollbars()
	}return v
	},addBranchItems:function M(v,z){var u=this.getItemByValue(z),x
	if(u){h.forEach(v,function(AB){AB.pid=AB.pid||z
	})
	}x=this.addItems(v,true)
	if(this.postAddBranchItems){this.postAddBranchItems(x,u)
	}var w=this.itemsContainerNode
	if(w&&this.isHiearachyDisplay()){if(!z){h.forEach(x,function(AB){if(this.isRootItem(AB)){w.innerHTML+=this._buildDescendantsMarkup(AB,true).join("")
	}},this)
	}else{if(u){var AA=this._getItemNode(u.idx)
	if(AA){AA.outerHTML+=this._buildDescendantsMarkup(u).join("")
	}}}this.updateScrollbars()
	}return x
	},updateItems:function H(u,v){if(v){h.forEach(u,function(AB,x,z){var AA=v[x],w=z[AA.p_index]
	if(w){AB.pid=w.v
	}})
	}this.handleOriginalParent(u,v)
	this.setDisplayParent(u,v)
	this.clearItems()
	this.addItems(u,true)
	},handleOriginalParent:function Q(u,v){if(v){h.forEach(u,function(AC,x,z){var AB=v[x],w=z[AB.p_index],AA=z[AB.original_p_index]
	if(w&&w.t===N&&AC.lv!==w.lv&&AA&&AA.pid===w.v){AC.pid=AA.v
	}})
	}},setDisplayParent:function L(u,z,x){if(x){this.idMap=this.idMap||{}
	h.forEach(u,function(AB){this.idMap[AB.v]=AB
	},this)
	}var w=this,v=function(AD,AC){var AB
	if(!x&&z){var AE=z[AC].p_index
	AB=u[AE]
	}else{if(x){AB=w.idMap[AD.pid]
	}}return AB
	}
	h.forEach(u,function AA(AE,AC,AD){var AB=v(AE,AC)
	if(!AB||w.isRootItem(AE)){return AE.v
	}if(!AE.dpid){AE.dpid=AB.hid?AA(AB,z&&z[AC]&&z[AC].p_index,AD):AB.v
	}return AE.dpid
	})
	},fetchItems:function X(x,AB){if(this.raad&&this.isHiearachyDisplay()&&(this.items||[]).length>0){return 
	}x=x||{}
	var v=this,u=x.branch,AA=x.browseFlags&q,z=parseInt(x.level,10),w=z>=0
	this.fetchItemsThroughTaskCall(x,o.wrapMethods(AB,{success:function(AC){if(v.raad===undefined&&AC&&v.isHiearachyDisplay()){v.raad=AC.raad
	}if(AC&&AC.es){var AD=AC.es
	if(z===(u&&u.lv+1||0)||(AA&&!v.raad)){v.addSiblingItems(AD,u&&u.v)
	}else{if(u&&!w){v.addBranchItems(AD,u.v)
	}else{v.addItems(AD)
	}}}},failure:function(AC){K.handleRAPopUpError(AC)
	}}))
	},updateItemNodesStatus:function Y(){var u=this.itemsContainerNode&&this.itemsContainerNode.childNodes
	h.forEach(u,function(w){var v=this.getItemFromTarget(w)
	if(v){B.toggleClass(w,CSS_SELECTED,v.isSelected)
	}},this)
	},_buildSiblingsMarkup:function P(w){var u=[],v=this.itemRenderer&&this.itemRenderer.render
	if(v&&typeof v==="function"){h.forEach(w,function(x){u.push(v(x,x.idx,this))
	},this)
	}return u
	},toggleCollapseExpandCss:function R(v,u){B.toggleClass(v,t,!u)
	B.toggleClass(v,C,u)
	},doExpandCollapse:function d(u,AD){var AE=!AD.epd
	AD.epd=AE
	this.toggleCollapseExpandCss(u,AE)
	if(!this.isHiearachyDisplay()){return 
	}var AB=this.getItemDescendantMap(AD),w,AC
	if(AE){var v=AD.displayChildren&&AD.displayChildren[0]
	if(v){var z=this.getItemFromTarget(u.nextSibling)
	if(z&&z.displayParent===AD){var AA={},x
	w=u.nextSibling
	while(w){AC=this.getItemFromTarget(w)
	x=AC&&AC.displayParent
	if(!x||!AB[AC.v]){break
	}if(AA[x.v]){B.addClass(w,n)
	AA[AC.v]=true
	}else{B.removeClass(w,n)
	if(!AC.epd){AA[AC.v]=true
	}}w=w.nextSibling
	}}else{u.outerHTML+=this._buildDescendantsMarkup(AD).join("")
	}}else{this.fetchItems({branch:AD,level:AD.lv+1})
	}}else{w=u.nextSibling
	while(w){AC=this.getItemFromTarget(w)
	if(!AC||!AB[AC.v]){break
	}B.addClass(w,n)
	w=w.nextSibling
	}}this.updateScrollbars()
	},isHiearachyDisplay:function O(){return true
	},fetchItemsThroughTaskCall:mstrmojo.emptyFn,getFlatDisplayItems:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.func","mstrmojo.array")
	var C=mstrmojo.css,D=mstrmojo.array,A="focus-visible"
	mstrmojo.vi.util.A11yUtility=mstrmojo.provide("mstrmojo.vi.util.A11yUtility",{enableAccessibility:function(H,J,F){var G=H.domNode,E=H.widget||G,I=H.focusNode||G
	if(!G){return 
	}E.grabFocus=function(K){if(K){G.focus()
	var L=G&&G.tagName
	if(typeof L==="string"&&L.toUpperCase()==="INPUT"){G.select()
	}}C.addClass(I,A)
	}
	E.loseFocus=function(K){if(K){G.blur()
	}C.removeClass(I,A)
	}
	G.onblur=mstrmojo.func.composite([G.onblur||mstrmojo.emptyFn,function(){C.removeClass(I,A)
	}])
	G.setAttribute("tabindex","-1")
	if(J){G.setAttribute("role",J)
	}if(typeof F==="string"){G.setAttribute("aria-label",F)
	}else{if(typeof F==="object"){D.forEach(Object.keys(F),function(K){if(F[K]){G.setAttribute(K,F[K])
	}})
	}}},isKeyBoardEvent:function B(E){return E&&E.type==="keydown"
	},removeTabIndex:function(E,G){if(!E){return 
	}var F=E.querySelectorAll('[tabindex="0"]'),H
	D.forEach(F,function(I){I.removeAttribute("tabindex")
	})
	if(G){H=E.querySelectorAll("input, a, textarea")
	D.forEach(H,function(I){I.setAttribute("tabindex","-1")
	})
	}}})
	mstrmojo.vi.util.A11yUtility.CSS_FOCUS_VISIBLE=A
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.dom")
	var D=mstrmojo.dom,H=D.position,I=Math
	function F(W,P,N){var O=this._ellTestNodes||{},K=O[W],M=mstrmojo.css.getComputedStyle(P),J=["width","height"]
	if(N){J.reverse()
	}var S=J[0],Q=J[1]
	if(!K||!D.contains(this.domNode,K.n,true,document.body)){var L=P.cloneNode(true)
	L.removeAttribute("id")
	L.removeAttribute("onclick")
	var U=L.style
	U.position="absolute"
	U.top="-10000px"
	U.maxHeight=U.maxWidth="none"
	U[S]="auto"
	P.parentNode.appendChild(L)
	var R=parseInt(M["max-"+S],10)
	if(isNaN(R)){R=parseInt(M[S],10)
	}K=O[W]={n:L,m:R,d:S.substr(0,1)}
	if(K.m>0){this._ellTestNodes=O
	}}else{K.n.innerHTML=P.innerHTML
	}K.n.style[Q]=M[Q]
	return K
	}function B(K,L){var M=this.ellipsisText
	switch(this.ellipsisPosition){case"middle":var J=I.floor(L/2)
	return K.slice(0,J).join("")+M+K.slice(-J).join("")
	case"end":return K.slice(0,L).join("")+M
	default:return K.join("")
	}}var G=4
	mstrmojo._SupportsEllipsisText=mstrmojo.provide("mstrmojo._SupportsEllipsisText",{_mixinName:"mstrmojo._SupportsEllipsisText",ellipsisText:"\u2026",ellipsisPosition:"end",ellipsize:function A(W,P,O){var X=P.innerHTML
	if(!X){return false
	}var K=F.call(this,W,P,O),M=function(){var Y=H(K.n)[K.d]
	return(Y<=K.m)
	}
	if(M()){return false
	}var L=K.n,J=X.split(""),R=0,N=J.length,Q,S
	while(R<N){var U=I.floor((R+N)/2)
	X=L.innerHTML=B.call(this,J,U)
	if(M()){R=U+1
	}else{N=U-1
	}if(N-R<G){for(S=R-1
	S<N+1
	S++){X=L.innerHTML=B.call(this,J,S)
	if(!M()){break
	}Q=X
	}}if(Q){P.innerHTML=Q
	break
	}}return true
	},ellipsizeElements:function C(U,O,N){var L=F.apply(this,arguments),M=function(){var W=H(L.n)[L.d]
	return(W<=L.m)
	}
	if(M()){return false
	}var Q=this.ellipsisText
	var P=this
	var K=document.createElement("span")
	K.innerHTML=Q
	var J=function(a,Z){var W=a.slice(0,Z).concat([K])
	var Y=document.createElement("div")
	for(var X=0
	X<W.length
	X++){Y.appendChild(W[X])
	}return Y.innerHTML
	}
	var S=function(X,b,a,W){var d=0,Y=b.length,c,g,e
	var Z=function(h){while(h.hasChildNodes()){h.removeChild(h.lastChild)
	}}
	while(d<Y){var f=I.floor((d+Y)/2)
	if(W){g=a.call(P,b,f)
	X.nodeValue=g
	}else{Z(X)
	g=a.call(P,b,f)
	X.innerHTML=g
	}if(M()){d=f+1
	}else{Y=f-1
	}if(Y-d<G){e=d==0?0:d-1
	for(
	e<Y+1
	e++){if(W){g=a.call(P,b,e)
	X.nodeValue=g
	}else{Z(X)
	g=a.call(P,b,e+1)
	X.innerHTML=g
	}if(!M()){if(!W){X.removeChild(X.lastChild)
	c=g=X.innerHTML
	}break
	}if(!W){X.removeChild(X.lastChild)
	g=X.innerHTML
	}c=g
	}}if(c){if(W){X.nodeValue=c
	}else{X.innerHTML=c
	}break
	}}}
	var R=function(Z){if(Z.nodeType==3){var a=Z.nodeValue
	if(!a){return false
	}S(Z,a.split(""),B,true)
	return true
	}else{var X=Z.childNodes
	if(!X||X.length===0){return false
	}var Y=[]
	for(var W=0
	W<X.length
	W++){Y[W]=X[W]
	}if(Y.length!=1||Y[0].nodeType!=3){S(Z,Y,J,false)
	}return R(Z.lastChild)
	}}
	O.style.visibility="visible"
	L.n.style.visibility="hidden"
	R(L.n)
	O.style.visibility="hidden"
	L.n.style.visibility="visible"
	return true
	},unrender:function E(J){delete this._ellTestNodes
	this._super(J)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css")
	var C=mstrmojo.dom,G=100,L=700
	var B="mojo-safari-hide-nativeTooltip",H=mstrmojo.css
	function M(O,N){return function(Q){var P=mstrmojo.all[O]
	if(P.customTooltipHandler){P.customTooltipHandler(Q)
	}P[(N?"move":"show")+"Tooltip"](Q,self)
	}
	}function A(){var O=this.tooltipNode||this.domNode,Q=this.id,N,P="_ontooltip"+(this.isDynamicTooltip?"move":"over")
	if(!this._ontooltipout){this._ontooltipout=function(R){mstrmojo.all[Q].hideTooltip(R,self)
	}
	}if(!this[P]){this[P]=M(Q,this.isDynamicTooltip)
	}O=[].concat(O)
	for(N=0
	N<O.length
	N++){O[N].removeAttribute("title")
	C.attachEvent(O[N],(this.isDynamicTooltip?"mousemove":"mouseover"),this[P])
	C.attachEvent(O[N],"mouseout",this._ontooltipout)
	}}function I(){var Q=this.tooltipNode||this.domNode,P
	if(Q&&Q.constructor!==Array){Q=[Q]
	}if(Q){var R=this._ontooltipover,O=this._ontooltipout,N=this._ontooltipmove
	for(P=0
	P<Q.length
	P++){if(R){C.detachEvent(Q[P],"mouseover",R)
	}if(O){C.detachEvent(Q[P],"mouseout",O)
	}if(N){C.detachEvent(Q[P],"mousemove",N)
	}}}}mstrmojo._HasTooltip=mstrmojo.provide("mstrmojo._HasTooltip",{tooltip:"",richTooltip:null,useRichTooltip:false,isDynamicTooltip:false,tooltipNode:null,tooltipOpenDelay:700,isIgnoreTooltipCloseDelay:false,hasWidgetContent:false,tooltipCloseDelay:G,hasOpenTooltip:false,postBuildRendering:function(){var N=this._super()
	if(this.useRichTooltip){A.call(this)
	}return N
	},onuseRichTooltipChange:function K(){if(this.hasRendered){if(this.useRichTooltip){A.call(this)
	}else{I.call(this)
	this.hideTooltip()
	}}},showTooltip:function J(Q,P){var O=this
	if(!O.hasOpenTooltip&&(!mstrApp.isInteractive||mstrApp.isInteractive&&mstrApp.isInteractive())){mstrmojo.requiresCls("mstrmojo.tooltip")
	if(this.updateTooltipConfig){this.updateTooltipConfig(Q)
	}window.clearTimeout(this._tooltipTimeOut)
	if(mstrmojo.dom.isIE){var S={}
	for(var N in Q){S[N]=Q[N]
	}Q=S
	}var U=this.richTooltip?this.richTooltip.areaId:undefined
	if(C.isSafari&&Q){var R=Q.srcElement
	if(window.getComputedStyle(R)["text-overflow"]==="ellipsis"){this.baseElement=R
	H.toggleClass(R,B,true)
	}}this._tooltipTimeOut=window.setTimeout(function(){var W=O.richTooltip
	if(O._closeTooltipTimeout){window.clearTimeout(O._closeTooltipTimeout)
	delete O._closeTooltipTimeout
	}mstrmojo.tooltip.open(O,Q,P)
	O.tooltip.onmouseover=function(){if(O.richTooltip&&O.richTooltip.enableHover){window.clearTimeout(O._closeTooltipTimeout)
	window.clearTimeout(O._deactivationTimeout)
	if(O.tooltip){O.tooltip.onmouseout=function(X){var Y=X.e
	if((!Y.toElement&&!Y.relatedTarget)||!C.contains(this.domNode,X.e.toElement||X.e.relatedTarget)){O.hideTooltip()
	}}
	}}}
	O.tooltip.allowOtherTooltips=O.allowOtherTooltips
	if(W&&W.onClose){O.tooltip.onClose=W.onClose
	}O.hasOpenTooltip=true
	O._hasActiveArea=true
	O._tooltipAreaId=U
	window.clearTimeout(O._deactivationTimeout)
	delete O._deactivationTimeout
	},(this._hasActiveArea&&U&&U===this._tooltipAreaId)?0:this.tooltipOpenDelay)
	}},moveTooltip:function D(N,P){if(this._tooltipTimeOut){window.clearTimeout(this._tooltipTimeOut)
	this._tooltipTimeOut=null
	mstrmojo.tooltip.close()
	}var R=this,O=N,Q=P
	this._tooltipTimeOut=setTimeout(function(){mstrmojo.tooltip.open(R,O,Q)
	},this.tooltipOpenDelay)
	},hideTooltip:function F(){var N=this
	if(this._tooltipTimeOut){window.clearTimeout(this._tooltipTimeOut)
	}if(C.isSafari&&this.baseElement){H.toggleClass(this.baseElement,B,false)
	}if(this._closeTooltipTimeout){window.clearTimeout(this._closeTooltipTimeout)
	}if(this._hasActiveArea&&!this._deactivationTimeout){this._deactivationTimeout=window.setTimeout(function(){delete N._deactivationTimeout
	delete N._hasActiveArea
	delete N._tooltipAreaId
	},100)
	}mstrmojo.requiresCls("mstrmojo.tooltip")
	if((!this.isIgnoreTooltipCloseDelay)&&N.richTooltip&&N.richTooltip.enableHover){this._closeTooltipTimeout=window.setTimeout(function(){mstrmojo.tooltip.close()
	delete N._closeTooltipTimeout
	},N.richTooltip.tooltipCloseDelay||this.tooltipCloseDelay)
	}else{if(N.tooltip){this.isIgnoreTooltipCloseDelay=false
	mstrmojo.tooltip.close()
	}}this.hasOpenTooltip=false
	},unrender:function E(N){I.call(this)
	this.hideTooltip()
	this._super(N)
	}})
	mstrmojo._HasTooltip.TOOLTIP_OPEN_DELAY=L
	mstrmojo._HasTooltip.TOOLTIP_CLOSE_DELAY=G
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css")
	var F=mstrmojo.dom,I=mstrmojo.css,C="active"
	var A=false
	mstrmojo.util.ui.SplitterParamsType=null
	function H(N,Q){var P=Q.info,O=P&&P.min,M=P&&P.max,L=Q.start+(F.getMousePosition(N,window)[Q.mouseProp]-Q.mousePosition)*(P&&!!P.isReverseMove?-1:1)
	if(O!==undefined){L=Math.max(L,O)
	}if(M!==undefined){L=Math.min(L,M)
	}return L
	}function G(M,L,N){return function(O){M.call(mstrmojo.all[L],O,N)
	}
	}function B(L,M){M.target.style[M.styleProp]=H(L,M)+"px"
	}function K(L,N){if(!A){return 
	}var M=window.document
	F.detachEvent(M,"mousemove",N.fnMove)
	F.detachEvent(M,"mouseup",N.fnUp)
	delete N.fnMove
	delete N.fnUp
	A=false
	mstrApp.setInteractive(true)
	I.removeClass(N.target,C)
	this.splitterMoved(H(L,N)-N.start,N.info)
	(this.children||[]).forEach(function(O){O.domNode.style.pointerEvents="inherit"
	})
	this.splitterMouseUp()
	}function J(X){if(A){return 
	}mstrApp.setInteractive(false)
	var L=this.id,M,N,Q=F.eventTarget(window,X),S=(Q.className.indexOf("v")===-1),R=S?"y":"x",P={}
	P.target=Q
	P.info=this.getSplitterInfo(Q)
	N=P.info&&!!P.info.isReverseMove
	M=S?"Top":N?"Right":"Left"
	P.start=N?parseInt(Q.style.right):Q["offset"+M]
	P.mouseProp=R
	P.mousePosition=F.getMousePosition(X,window)[R]
	P.styleProp=M.toLowerCase()
	(this.children||[]).forEach(function(Y){Y.domNode.style.pointerEvents="none"
	})
	this.splitterMouseDown(P)
	I.addClass(Q,C)
	var O=G(B,L,P),W=G(K,L,P)
	var U=window.document
	F.attachEvent(U,"mousemove",O)
	F.attachEvent(U,"mouseup",W)
	P.fnMove=O
	P.fnUp=W
	A=true
	}mstrmojo.util.ui._HostsSplitter=mstrmojo.provide("mstrmojo.util.ui._HostsSplitter",{_mixinName:"mstrmojo.util.ui._HostsSplitter",registerSplitter:function E(L){this.splitterEvtMouseDownHandler=G(J,this.id)
	F.attachEvent(L,"mousedown",this.splitterEvtMouseDownHandler)
	},unRegisterSplitter:function D(L){if(this.splitterEvtMouseDownHandler){F.detachEvent(L,"mousedown",this.splitterEvtMouseDownHandler)
	}},getSplitterInfo:mstrmojo.emptyFn,splitterMoved:mstrmojo.emptyFn,splitterMouseDown:mstrmojo.emptyFn,splitterMouseUp:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.fx")
	var S=mstrmojo.css
	var Q=10
	function C(Y,b,a){Y.pauseScrollRendering(true)
	var Z=Y.scrollboxNode,X=Y.animate?Y.scrollEffect:null
	if(X&&X.play){if(X.isPlaying){X.cancel()
	}X.props={scrollTop:{start:Z.scrollTop,stop:b,isStyle:false}}
	X.onEnd=function(){Y.pauseScrollRendering(false,null,a)
	}
	X.play()
	}else{Z.scrollTop=b
	Y.pauseScrollRendering(false,null,a)
	}}function K(e,g,X){var Y=4
	if(!X){X=0
	}var h=Math.round(e.renderBlockSize/2)
	e.fillAt(Math.max(0,g-h),g+h)
	var d=e.itemsContainerNode,c=d.childNodes[g],b=e.listMapper.itemOffsetTop(e,d,null,c),f=parseInt(e.scrollboxNode.clientHeight/2,10)-c.offsetHeight/2,Z=Math.max(0,e.spacerMargin+b-f)
	if(Math.abs(e.scrollboxNode.scrollTop-Z)>2){C(e,Z,e.renderOnScroll?function(){if(X<=Y){K(e,g,X++)
	}}:null)
	}else{var a=e.animate?e.scrollEffect:null
	if(a&&a.isPlaying&&a.cancel){a.cancel()
	e.pauseScrollRendering(false)
	}}}function J(Z){var a=Z.itemsContainerNode,X=a.lastChild,Y=X?X.offsetTop+X.offsetHeight-a.firstChild.offsetTop:0
	return Y
	}function W(Y){var X=J(Y),Z=Math.max(0,parseInt((Y.scrollboxNode.clientHeight-X)/2,10))
	C(Y,Math.max(0,Y.spacerMargin-Z))
	}function H(Z){var X=Z.selectedIndex,Y=X>-1
	Z.set("hasSelection",Y)
	if(!Z.domNode){return 
	}if(Y){K(Z,X)
	}else{W(Z)
	}}function E(Y){var a=Y.scrollboxNode,X=J(Y),Z=X>a.clientHeight/2
	S.toggleClass(Y.upArrowNode,["enabled"],Z)
	S.toggleClass(Y.downArrowNode,["enabled"],Z)
	}function N(X,Y){var Z=X.scrollboxNode
	Z.scrollTop=Math.min(Math.max(Z.scrollTop+Y,0),Z.scrollHeight-Z.offsetHeight)
	}function B(Y,X){if(!Y._scrollInter){var Z=Q*(X?-1:1)
	Y._scrollInter=window.setInterval(function(){N(Y,Z)
	},50)
	}}function R(X){if(X._scrollInter){window.clearInterval(X._scrollInter)
	X._scrollInter=null
	}}mstrmojo._IsDial=mstrmojo.provide("mstrmojo._IsDial",{markupString:'<div id="{@id}" class="mstrmojo-Dial {@cssClass}" style="position:relative
	"><div class="mstrmojo-Dial-uparrow"   mstreventmark="dialUpArrowNode" mstrevent="mouseover mouseout click mousedown mouseup"  onmouseover="mstrmojo.all.{@id}.onmouseoverarrow(self, arguments[0], true)"  onmouseout="mstrmojo.all.{@id}.onmouseoutarrow(self, arguments[0], true)"  onclick="mstrmojo.all.{@id}.onclickarrow(self, arguments[0], true)"  onmousedown="mstrmojo.all.{@id}.onmousedownarrow(self, arguments[0], true)"  onmouseup="mstrmojo.all.{@id}.onmouseuparrow(self, arguments[0], true)"></div><div class="mstrmojo-Dial-scrollbox {@cssClass}" style="position:relative
	{@cssText}" mstrAttach:mousedown,mouseup><div class="mstrmojo-Dial-spacer" style="{@spacerCssText}"><div class="mstrmojo-Dial-itemsContainer" style="position:relative
	{@itemsContainerCssText}">{@itemsHtml}</div></div></div><div class="mstrmojo-Dial-dnarrow"  mstreventmark="dialDownArrowNode" mstrevent="mouseover mouseout click mousedown mouseup"  onmouseover="mstrmojo.all.{@id}.onmouseoverarrow(self, arguments[0], false)"  onmouseout="mstrmojo.all.{@id}.onmouseoutarrow(self, arguments[0], false)"  onclick="mstrmojo.all.{@id}.onclickarrow(self, arguments[0], false)"  onmousedown="mstrmojo.all.{@id}.onmousedownarrow(self, arguments[0], false)"  onmouseup="mstrmojo.all.{@id}.onmouseuparrow(self, arguments[0], false)"></div></div>',eventHandlerMap:{dialUpArrowNode:{mouseover:{requiredParams:["id"],handlerFn:function(X){return function(){mstrmojo.all[X.id].onmouseoverarrow(self,arguments[0],true)
	}
	}},mouseout:{requiredParams:["id"],handlerFn:function(X){return function(){mstrmojo.all[X.id].onmouseoutarrow(self,arguments[0],true)
	}
	}},click:{requiredParams:["id"],handlerFn:function(X){return function(){mstrmojo.all[X.id].onclickarrow(self,arguments[0],true)
	}
	}},mousedown:{requiredParams:["id"],handlerFn:function(X){return function(){mstrmojo.all[X.id].onmousedownarrow(self,arguments[0],true)
	}
	}},mouseup:{requiredParams:["id"],handlerFn:function(X){return function(){mstrmojo.all[X.id].onmouseuparrow(self,arguments[0],true)
	}
	}}},dialDownArrowNode:{mouseover:{requiredParams:["id"],handlerFn:function(X){return function(){mstrmojo.all[X.id].onmouseoverarrow(self,arguments[0],false)
	}
	}},mouseout:{requiredParams:["id"],handlerFn:function(X){return function(){mstrmojo.all[X.id].onmouseoutarrow(self,arguments[0],false)
	}
	}},click:{requiredParams:["id"],handlerFn:function(X){return function(){mstrmojo.all[X.id].onclickarrow(self,arguments[0],false)
	}
	}},mousedown:{requiredParams:["id"],handlerFn:function(X){return function(){mstrmojo.all[X.id].onmousedownarrow(self,arguments[0],false)
	}
	}},mouseup:{requiredParams:["id"],handlerFn:function(X){return function(){mstrmojo.all[X.id].onmouseuparrow(self,arguments[0],false)
	}
	}}}},markupSlots:{scrollboxNode:function(){return this.domNode.childNodes[1]
	},spacerNode:function(){return this.domNode.childNodes[1].firstChild
	},itemsContainerNode:function(){return this.domNode.childNodes[1].firstChild.firstChild
	},upArrowNode:function(){return this.domNode.childNodes[0]
	},downArrowNode:function(){return this.domNode.childNodes[2]
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	},onhasSelectionChange:function(){S.toggleClass(this.domNode,["hasSelection"],!!this.hasSelection)
	}},animate:true,itemsEffect:{scriptClass:"mstrmojo.fx.AnimateProp",duration:500,interval:25,slot:"itemsContainerNode",preStart:function(){var Y=this.widget[this.slot],X=(Y&&Y.offsetWidth)||0
	this.props=X?{left:{start:-X,stop:0,suffix:"px",isStyle:true}}:{}
	},revertOnCancel:false},scrollEffect:{scriptClass:"mstrmojo.fx.AnimateProp",duration:250,interval:25,slot:"scrollboxNode",revertOnCancel:false},multiSelect:false,holdJumpOnly:true,audibles:{"*":true,hasSelection:false},initSpacer:function I(){var X=(this.cssText||"").match(/height:\s*(\d*)px/)
	if(X){this.spacerMargin=parseInt(Number(X[1])/2,10)
	var Y=this.spacerMargin+"px"
	this.spacerCssText="padding-top: "+Y+"
	padding-bottom: "+Y+"
	"
	}else{this.spacerMargin=0
	delete this.spacerCssText
	}},center:function U(){H(this)
	},preBuildRendering:function(){this.initSpacer()
	return this._super()
	},postBuildRendering:function D(){this._super()
	this.center()
	E(this)
	},refreshScroll:function G(){this.center()
	E(this)
	},prechange:function O(X){this._super(X)
	if(this.hasRendered){if(!this.multiSelect||(X&&X.added&&X.added.length)){this.center()
	}}},onclickarrow:function A(Z,Y,X){N(this,Q*(X?-1:1))
	},onmouseoverarrow:function L(Z,Y,X){if(!this.holdJumpOnly){B(this,X)
	}},onmouseoutarrow:function M(Z,Y,X){R(this)
	},onmousedownarrow:function F(Z,Y,X){if(this.holdJumpOnly){B(this,X)
	}},onmouseuparrow:function P(Z,Y,X){R(this)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.css")
	var F=mstrmojo.array,E=mstrmojo.css,C=mstrmojo.hash,H="focus-visible",B=["menuitem","option","listitem","radio","tab"]
	mstrmojo._IsAccessibleList=mstrmojo.provide("mstrmojo._IsAccessibleList",{_mixinName:"mstrmojo._IsAccessibleList",listRole:"listbox",itemRole:"option",itemTabIndex:-1,itemSelectedAriaProp:"aria-selected",updateItemAriaLabel:mstrmojo.emptyFn,enableA11y:function D(){this.domNode.setAttribute("role",this.listRole)
	if(this.multiSelect){this.domNode.setAttribute("aria-multiselectable","true")
	}var L=this,K=this.selectedIndices||{},J=(this.items&&this.items.length)||0,N=F.indexOf(B,this.itemRole)>-1,M=this.itemsContainerNode&&this.itemsContainerNode.childNodes
	F.forEach(M,function(P,O){P.setAttribute("tabindex",L.itemTabIndex)
	P.setAttribute("role",L.itemRole)
	if(N){P.setAttribute("aria-setsize",J)
	P.setAttribute("aria-posinset",O+1)
	}if(L.itemSelectedAriaProp){P.setAttribute(L.itemSelectedAriaProp,!!K[O])
	}})
	},postBuildRendering:function A(){if(this._super){this._super()
	}if(this.enableAccessibility){this.enableA11y()
	}},setA11yAttribute:function(K,J){if(!this.enableAccessibility||!K){return 
	}if(this.itemSelectedAriaProp){K.setAttribute(this.itemSelectedAriaProp,J)
	}this.updateItemAriaLabel(K,J)
	},getFocusNode:function I(J){return C.walk("parent.navList."+J,this)
	},isTabItemHighlighting:function G(){var K=this.parent,L,J
	if(!this.enableAccessibility||!K.canTab){return false
	}L=this.getFocusNode(K.tabIndex)
	J=this.getFocusNode(K.tabIndex-1)
	if(L&&L instanceof Element&&E.hasClass(L,H)){return true
	}if(J&&J instanceof Element&&E.hasClass(J,H)){return true
	}return false
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.color","mstrmojo.css","mstrmojo.hash")
	var A=mstrmojo.color,E=mstrmojo.css,B=mstrmojo.hash
	function G(J){J=D(J)
	if(isNaN(J)){J=0
	}J%=16777216
	return{b:J%(1<<8),g:(J%(1<<16))>>8,r:(J%(1<<24))>>16}
	}function F(N,O,M){N=D(N)
	M=B.copy(M,{retainGradientObject:false})
	if(C(N)){var L=F(N.c1,O),J=F(N.c2,O)
	if(M.retainGradientObject){return{c1:L,c2:J,or:N.or}
	}return E.buildGradient(N.or,L,J).v
	}if(typeof O==="number"){var K=G(N)
	if(isNaN(N)){O=0
	}return"rgba("+K.r+" ,"+K.g+" ,"+K.b+" ,"+O+" )"
	}else{if(isNaN(N)){N=0
	}return"#"+(16777216+N%16777216).toString(16).substring(1,7)
	}}function D(L){var K=L.c1,J=L.c2
	if(C(L)){return{c1:D(K),c2:D(J),or:L.or}
	}if(typeof L==="number"){return L
	}if(typeof L!=="string"){return NaN
	}if(L[0]!=="#"){return parseInt(L,10)
	}if(L.length===4){L=L[0]+L[1]+L[1]+L[2]+L[2]+L[3]+L[3]
	}return parseInt(L.substring(1,7),16)
	}function I(L,J){var O=L.value,Q=L.opacity
	if(C(O)){return["c1","c2"].reduce(function(X,Y,W){var Z=I({value:O[Y],opacity:Q},J)
	X.value[Y]=Z.value
	if(W===0){X.opacity=Z.opacity
	}return X
	},{value:{or:O.or}})
	}if(O==="transparent"){L.value=J.value
	}var N=A.hex2rgb(F(L.value)),M=A.hex2rgb(F(J.value)),U=L.opacity,S=J.opacity,R=1-U,P,K
	K=U+S*R
	P=N.map(function(W,X){return(W*U+M[X]*S*R)/K
	})
	return{value:"#"+A.rgb2hex.apply(undefined,P),opacity:K}
	}function C(J){return J&&["c1","c2","or"].every(function(K){return J.hasOwnProperty(K)
	})
	}mstrmojo.util.color=mstrmojo.provide("mstrmojo.util.color",{getCSSColorString:F,getColorValue:D,mix:I,isGradientColor:C,getRGB:G,isBrightColor:function H(N){var L=N>>16,K=(N&65280)>>8,J=(N&255),M=(L*299+K*587+J*114)/1000
	return M>150
	},createCanvasFillPattern:function(L,R,K,Q,J,P){var M=L.value,O=L.opacity,N
	if(C(M)){N=R.createLinearGradient(K,Q,J,P)
	N.addColorStop(0,F(M.c1,O))
	N.addColorStop(1,F(M.c2,O))
	}else{N=F(M,O)
	}return N
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.string","mstrmojo.dom","mstrmojo.css","mstrmojo.array")
	var E=mstrmojo.dom,Q=mstrmojo.css,B=mstrmojo.string,I="selected",L="hidden"
	function P(X,Y,Z,W,b){var a=b.listHooks[X]
	if(a&&a.call(b,Y,Z,W)){return 
	}Q.toggleClass(Y,I,X==="select")
	}function G(Z,Y,X){var a=this[Z],W=a?a.split(Y):[]
	this[Z]=mstrmojo.array.distinct(W.concat(X.split(Y))).join(Y)
	}mstrmojo._IsList=mstrmojo.provide("mstrmojo._IsList",{_mixinName:"mstrmojo._IsList",listHooks:{},useListModKeys:false,allowHTML:false,init:function N(W){this._super(W)
	this._shiftStartIndex=-1
	},getItemMarkup:function D(X,W){var Y=(this.allowHTML?"":"@en")
	return'<{@tag} class="item {@cls}" idx="{@idx}" style="{@style}" title="{'+Y+'@title}">{'+Y+"@n}</{@tag}>"
	},getItemDisplayName:function M(W){return W.n||""
	},getItemProps:function R(a,W){var X=!!this.selectedIndices[W],b={tag:"div",sel:X,cls:"",n:this.getItemDisplayName(a),style:"",idx:W,addCls:function Y(d){G.call(this,"cls"," ",d)
	},addStyle:function Z(d){G.call(this,"style","
	",d)
	},title:a.title||""}
	if(b.n&&B.isEmpty(b.n)){b.n=B.decodeHtmlString("<br/>")
	}if(X){b.addCls(I)
	}var c=a.cls
	if(c){b.addCls(c)
	}if(a.hid){b.addCls(L)
	}return b
	},itemRenderer:{render:function S(X,W,Y){X._renderIdx=W
	return mstrmojo.string.apply(Y.getItemMarkup(X,W),Y.getItemProps(X,W))
	},select:function K(X,Y,W,Z){P("select",X,Y,W,Z)
	},unselect:function H(X,Y,W,Z){P("unselect",X,Y,W,Z)
	}},onclick:function U(W){try{var Y=this.getItemFromTarget(W.getTarget())
	if(Y){W.cancel()
	this.doItemSelect(Y,W||{})
	}}catch(X){mstrApp.onerror(X)
	}},doItemSelect:function C(m,l){var d=l.hWin,f=l.e,j=m._renderIdx,g=m._positionIdx,X=E.isMetaKey(d,f),c=E.shiftKey(d,f),Y=this.multiSelect,b=this.useListModKeys,k=this._shiftStartIndex,Z=this.selectedIndices
	if(Y&&b&&c&&k>-1){var W=[],a=[]
	this.processContinuousSelection(W,a,j)
	this.addSelect(W)
	this.removeSelect(a)
	}else{if(Y&&(!b||X)){var h=(Z[j])?"remove":"add"
	this[h+"Select"](j,false,g)
	}else{this.singleSelect(j,false,g)
	}this._shiftStartIndex=j
	}},processContinuousSelection:function J(Y,X,W){var d=this._shiftStartIndex,c=this.selectedIndices,b=Math.min(d,W),a=Math.max(d,W),Z
	for(Z=0
	Z<this.items.length
	Z++){if(b<=Z&&Z<=a){if(!c[Z]){Y.push(Z)
	}}else{if(c[Z]){X.push(Z)
	}}}},onclearSelection:function A(){this._shiftStartIndex=-1
	},getItemNodeFromTarget:function F(X){var W=E.findAncestorByAttr(X,"idx",true,this.domNode)
	return(W&&W.node)||null
	},getItemFromTarget:function O(Y){var X=this.getItemNodeFromTarget(Y),W=X&&parseInt(X.getAttribute("idx"),10)
	if(W!==null&&!isNaN(W)&&this.items){return this.items[W]
	}return undefined
	}})
	mstrmojo._IsList.SELECTED_CLS=I
	mstrmojo._IsList.HIDDEN_CLS=L
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css")
	var J=mstrmojo.dom,A=false,M=3.5,N=5,I=1,O=2
	function D(f,R){var Y=R.parentRect.x||R.parentRect.left,c=R.parentRect.y||R.parentRect.top,Z={},W=R.info&&R.info.min,e=R.info&&R.info.max,b=R.target,d=b&&b.getAttribute("pos"),g=d&&parseInt(d,10),U=b&&!b.isSide
	Z.x=Math.min(Math.max(W.x,J.getMousePosition(f,window).x),e.x)
	Z.y=Math.min(Math.max(W.y,J.getMousePosition(f,window).y),e.y)
	var X=R.targetContainer,Q=R.skipGuideOperation,a=X.parent.snapGuide,P=!Q?a.findIntersect(Z.y-c,"y"):null,S=!Q?a.findIntersect(Z.x-Y,"x"):null
	Z.y=P?parseFloat(P.mid)+c:Z.y
	Z.x=S?parseFloat(S.mid)+Y:Z.x
	Z.shouldYSnap=P!==null
	Z.shouldXSnap=!!S&&((g===O)||(U&&g===I))
	return Z
	}function B(P,Q){var e=Q.parentRect,R=Q.parentScrollPos,j=(e.x||e.left)+R.scrollLeft,S=(e.y||e.top)+R.scrollTop,W=Q.targetContainer,k=W.parent.snapGuide,c=P.x-j,X=P.width,Z=c+X,Y=P.y-S,f=P.height,g=Y+f,m=[c,Z,null,Y,g,null].reduce(function(h,l,b){var o=null
	if(l!==null&&!Q.skipGuideOperation){o=k.findIntersect(l,Math.floor(b/3)?"y":"x")
	}h.push(o)
	return h
	},[])
	if(!Q.skipGuideOperation){W.updateGuidesDiv(Q.highLight,m,e)
	}[].forEach.call(Q.boxOverlay.children,function(h,b){mstrmojo.hash.copy({left:((b%2?P.x-j:b?P.x-j+P.width:P.x-j))+"px",top:((b%2?b&2?P.y-S+P.height:P.y-S:P.y-S))+"px",width:(b%2?P.width:3)+"px",height:(b%2?3:P.height)+"px"},h.style)
	})
	if(J.isIE11){var a=mstrmojo.hash.walk("targetContainer.parent.containerNode",Q),n=a&&a.getBoundingClientRect(),U=a&&Math.floor(n.left),d=a&&Math.floor(n.top)
	[].forEach.call(Q.boxOverlay.children,function(b){b.style.transform="translate("+U+"px, "+d+"px)"
	})
	}}function K(R,P,Q){return function(S){R.call(mstrmojo.all[P],S,Q)
	}
	}function C(Q,S,W){var Y={},U=S.targetContainer,R=(U&&!!U.getBoxBorderWidth)?U.getBoxBorderWidth()/2:0
	var X=Q.y+S.parentScrollPos.scrollTop,P=Q.x+S.parentScrollPos.scrollLeft
	Y.width=Math.abs(P-S.info.axis.x)
	Y.height=Math.abs(X-S.info.axis.y)
	if(S.isSide){if(S.isV){Y.x=P>S.info.axis.x?S.info.axis.x-R:P
	Y.y=S.info.axis.y-R
	Y.height=S.boxRect.height
	if(W){Y.width+=Q.shouldXSnap?0:M
	}else{Y.width-=Q.shouldXSnap?M:0
	}}else{Y.x=S.info.axis.x-R
	Y.y=X>S.info.axis.y?S.info.axis.y-R:X
	Y.width=S.boxRect.width
	if(W){Y.height+=Q.shouldYSnap?0:M
	}else{Y.height-=Q.shouldYSnap?M:0
	}}}else{Y.x=P>S.info.axis.x?S.info.axis.x-R:P
	Y.y=X>S.info.axis.y?S.info.axis.y-R:X
	if(W){Y.width+=Q.shouldXSnap?0:N
	Y.height+=Q.shouldYSnap?0:N
	}else{Y.width-=Q.shouldXSnap?N:0
	Y.height-=Q.shouldYSnap?N:0
	}}return Y
	}function L(P,Q){var R=D(P,Q)
	B(C(R,Q,false),Q)
	}function H(Z,P){if(!A){return 
	}J.detachEvent(window.document,"mousemove",P.fnMove)
	J.detachEvent(window.document,"mouseup",P.fnUp)
	A=false
	mstrApp.setInteractive(true)
	(this.children||[]).forEach(function(a){a.domNode.style.pointerEvents="inherit"
	})
	var X=D(Z,P),W=C(X,P,true),Q=P.targetContainer,R=(Q&&!!Q.getBoxBorderWidth)?Q.getBoxBorderWidth()/2:0,U=P.target,S
	if(R!==0&&U&&Q){if(U.className==="resizer"&&Q.resizerCache){S=Q.resizerCache.indexOf(U)
	if(S<=1){W.height+=R
	}if(S===0||S===3){W.width+=R
	}}else{if(U.className==="edge"&&Q.splitterCache){S=Q.splitterCache.indexOf(U)
	if(S===0){W.width+=R
	}else{if(S===1){W.height+=R
	}}}}}this.resizerMouseUp(W,P)
	var Y=P.highLight
	if(Y){this.toggleGuidesDiv(Y,false)
	delete P.highLight
	}delete P.fnMove
	delete P.fnUp
	delete P.boxOverlay
	}function G(Q){if(A){return 
	}if(!this.resizable){return 
	}if(this.boxContentDisAllowResizing&&this.boxContentDisAllowResizing()){return 
	}mstrApp.setInteractive(false)
	var U={},X=J.eventTarget(window,Q)
	U.boxRect=this.domNode.getBoundingClientRect()
	U.info=this.getResizerInfo(X.getAttribute("pos")^2,X.isSide)
	U.startPos=J.getMousePosition(Q,window)
	U.target=X
	if(X.isSide){U.isSide=X.isSide
	}U.isV=X.isV
	(this.children||[]).forEach(function(Z){Z.domNode.style.pointerEvents="none"
	})
	var P=this.parent.parentRect||this.domNode.parentNode.getBoundingClientRect()
	U.highLight=this.createGuidesDiv(P)
	this.toggleGuidesDiv(U.highLight,true)
	U.boxOverlay=document.createElement("div")
	U.targetContainer=this
	for(var S=0
	S<4
	++S){var Y=document.createElement("div")
	Y.setAttribute("pos",S)
	Y.style.position="fixed"
	Y.style.background="#4286f4"
	U.boxOverlay.appendChild(Y)
	}this.resizerMouseDown(U)
	var W=K(L,this.id,U),R=K(H,this.id,U)
	J.attachEvent(window.document,"mousemove",W)
	J.attachEvent(window.document,"mouseup",R)
	U.fnMove=W
	U.fnUp=R
	A=true
	Q.stopPropagation()
	}mstrmojo.vi.ui.rw._boxCornerResizer=mstrmojo.provide("mstrmojo.vi.ui.rw._boxCornerResizer",{_mixinName:"mstrmojo.vi.ui.rw._boxCornerResizer",registerResizerHandler:function E(P){this.resizerEvtMouseDownHandler=K(G,this.id)
	J.attachEvent(P,"mousedown",this.resizerEvtMouseDownHandler)
	},unregisterResizerHandler:function F(P){if(this.resizerEvtMouseDownHandler){J.detachEvent(P,"mousedown",this.resizerEvtMouseDownHandler)
	}},getResizerInfo:mstrmojo.emptyFn,resizerMouseUp:mstrmojo.emptyFn,resizerMouseDown:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.dom","mstrmojo.css")
	var I=mstrmojo.array,L=mstrmojo.hash,W=mstrmojo.css,F=mstrmojo.dom
	function K(){if(this.canTab&&!this.hasTabFocus){this.tabIndex=0
	this.hasTabFocus=true
	}}function H(h){var Y=this.navList,a=this.tabIndex,Z=a,d=this.tabWrap,e=Y.length,f=e>0,b=h?-1:1,c=e,g
	while(!this.isValidTarget(g)&&c>=0){a+=b
	c--
	if(a>=Y.length){if(d){a=0
	}else{a=f?e-1:0
	}}else{if(a<0){if(d){a=f?e-1:0
	}else{a=0
	}}}if(a===Z){break
	}g=Y[a]
	}if(!this.isValidTarget(g)){g=null
	}return{idx:a,item:g,foundItem:!!g}
	}mstrmojo.vi.ui.rw._SupportTabNav=mstrmojo.provide("mstrmojo.vi.ui.rw._SupportTabNav",{_mixinName:"mstrmojo.vi.ui.rw._SupportTabNav",canTab:true,tabParent:null,tabIndex:0,navList:[],tabWrap:true,tabBubbles:true,hasTabFocus:false,initTabNavigation:function P(){var Y=this.parent
	while(Y&&!Y.canTab){Y=Y.parent
	}this.tabParent=Y
	if(!this.focusEventFn){this.focusEventFn=K.bind(this)
	}F.attachEvent(this.domNode,"focusin",this.focusEventFn)
	this.buildNavList()
	},postBuildRendering:function S(){if(this._super){this._super()
	}this.initTabNavigation()
	},destroy:function U(){if(this._super){this._super()
	}if(this.focusEventFn){F.detachEvent(this.domNode,"focusin",this.focusEventFn)
	}},changeTabTarget:function E(e,b){var a=typeof e==="string",d=typeof e==="number",Z=this.navList,Y=this.tabIndex,c=Z.length
	I.forEach(Z,function(g,f){if(a){if(g.k===e){Y=f
	return false
	}}else{if(d){if(f===e){Y=f
	return false
	}}else{if(g===e){Y=f
	return false
	}}}})
	if(b){Y--
	if(Y<0){if(this.tabWrap){Y=c>0?c-1:0
	}else{Y=0
	}}}this.tabIndex=Y
	},resetTabNav:function O(Y){this.tabIndex=0
	this.buildNavList()
	if(Y!==undefined){this.changeTabTarget(Y)
	}},buildNavList:function G(){var Y=[],Z=this.children
	I.forEach(Z,function(a){if(a.canTab){Y.push(a)
	}})
	this.navList=Y
	},isValidTarget:function A(Y){return !(Y===undefined||Y===null||(Y instanceof HTMLElement&&W.getStyleValue(Y,"display")==="none"))
	},handleTab:function M(Y,a){var b=Y.e||Y,Z=b.key
	if(!this.canTab){return false
	}if(Z==="Tab"){if(!this.hasTabFocus){return true
	}Y.preventDefault()
	b.stopPropagation()
	if(a){this.changeTabTarget(a)
	}if(!Y.shiftKey){this.navigateNext()
	}else{this.navigatePrevious()
	}return true
	}return false
	},navigateToFirstValidTarget:function B(){var Z,Y
	this.tabIndex=-1
	Z=H.call(this,false)
	if(Z.foundItem){this.tabIndex=Z.idx
	Y=Z.item
	if(Y&&Y.grabFocus){Y.grabFocus(true)
	}}},navigateNext:function X(){var f=this.tabParent,Z=this.tabIndex,c=this.navList,b=this.tabBubbles,d=Z,a,e,Y
	a=H.call(this,false)
	if(a.foundItem){this.tabIndex=a.idx
	e=c[d]
	if(e!==this&&e&&e.loseFocus){e.loseFocus(true)
	}Y=a.item
	if(Y&&Y.grabFocus){Y.grabFocus(true)
	}}else{if(c.length===1){return 
	}else{if(f&&f.canTab&&b){if(this.loseFocus){this.loseFocus(true)
	}f.changeTabTarget(this)
	f.navigateNext()
	}}}},navigatePrevious:function R(){var f=this.tabParent,Z=this.tabIndex,c=this.navList,b=this.tabBubbles,d=Z,a,e,Y
	a=H.call(this,true)
	if(a.foundItem){this.tabIndex=a.idx
	e=c[d]
	if(e!==this&&e&&e.loseFocus){e.loseFocus(true)
	}Y=a.item
	if(Y&&Y.grabFocus){Y.grabFocus(true)
	}}else{if(c.length===1){return 
	}else{if(f&&f.canTab&&b){if(this.loseFocus){this.loseFocus(true)
	}f.changeTabTarget(this)
	f.navigatePrevious()
	}}}},navigateToParent:function Q(Z){var Y=this.tabParent
	if(Y&&Y.canTab){Y.changeTabTarget(this,Z)
	if(this.loseFocus){this.loseFocus(true)
	}if(Y.grabFocus){Y.grabFocus(true)
	}}},grabFocus:function J(){this.hasTabFocus=true
	},loseFocus:function D(){this.hasTabFocus=false
	},restoreFocus:function C(){if(L.walk("navList."+this.tabIndex+".grabFocus",this)){this.navList[this.tabIndex].grabFocus(true)
	}},getFocusedTarget:function N(){return L.walk("navList."+this.tabIndex,this)
	}})
	mstrmojo.vi.ui.rw._SupportTabNav.nextValidItem=H
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.dom","mstrmojo.hash","mstrmojo.css")
	var f=mstrmojo.dom,d=mstrmojo.hash,g=mstrmojo.array,G=mstrmojo.css,N=function N(AK){var AJ=[],AH=this.clonedRowHeader&&this.clonedRowHeader.getTableNode()&&this.clonedRowHeader.getTableNode().tBodies,AI=[],AG
	AI.push(this.zone.tableNode.tBodies)
	if(AH){AI.push(AH)
	}g.forEach(AI,function(AL){g.forEach(AL,function(AM){for(AG=0
	AG<AM.childNodes.length
	AG++){AJ.push(AM.childNodes[AG])
	}if(AK&&AM.childNodes.length<this.zone.rowsPerPage){AJ.push.apply(AJ,new Array(this.zone.rowsPerPage-AM.childNodes.length))
	}},this)
	},this)
	return AJ
	},F=function F(AI,AK){if(this.getCachedCell){var AH=this.getCachedCell(AI,AK)
	return AH
	}var AJ=N.call(this,true)[AK],AG
	for(AG=0
	AG<AJ.childNodes.length
	AG++){if(x.call(this,AJ.childNodes[AG])>AI){return null
	}if(x.call(this,AJ.childNodes[AG])===AI){return AJ.childNodes[AG]
	}}},x=function x(AG){var AH=this.getCellForNode(AG)
	return AH&&AH.colIx||0
	},A={REPLACE_ALL:1,REMOVE:2,APPEND:3,TOGGLE:4},t={CONTROL:"Ctrl",SHIFT:"Shft",SINGLE:"Single"},S=function S(AH,AJ,AI){var AG=this.rhsCP.getUnmergedCells(AH)||[]
	if(AG.length>AJ){return AG[AJ]
	}else{if(AI){return this.chsCP.getCell(AH,AJ-AG.length)
	}else{return this.rhsCP.getCell(AH,AJ-AG.length)
	}}},Y=function Y(AQ,AM,AG){var AL=AQ.o,AH=AL,AJ=AQ._gd,AP=AQ._e&&AQ._e.id,AO,AN=this.zone.searchRow(AL+AM),AK,AI=AQ.colIx
	if(AN!==null){AK=AG===1?AN.max-AM:AN.min
	while(Math.abs(AL-AK)>0){AO=S.call(this,AL+AG,AI)
	if(!AO||AP!==(AO._e&&AO._e.id)||(AH!==AO.o&&AJ===AO._gd)){break
	}AL+=AG
	}return AL+AM
	}else{return null
	}},k=function(AG){var AJ=this.model.getCellDataUnion(AG),AH={},AI
	g.forEach(AJ,function(AK){AI=AK.v
	if(AH[AK.tid]&&AH[AK.tid][0]&&AH[AK.tid][0].n){AI=AH[AK.tid][0].n+":"+AK.v
	}AH[AK.tid]=[{id:AK.eid,n:AI}]
	})
	return AH
	},q=function q(AU){if(!AU){return null
	}if(!this.selectSiblings(AU)||(this.model&&this.model.hasRecursiveAttribute&&this.model.hasRecursiveAttribute())){return[AU]
	}var AQ=[],AK=this.getCellForNode(AU),AT=this.gridData,AS=AT.gsi,AP,AI,AO,AG,AL,AJ,AR,AM,AN=function(AW,AV){var AX=true
	if(AW.length===AV.length){g.forEach((AW||[]),function(AY){AX=AX&&g.find(AV,"id",AY.id)!==-1
	return AX
	})
	return AX
	}return false
	},AH=this.model.getCellInfo(AK)
	if(AH.isMetric){if(AS.tma===2){AP=AU.parentNode.childNodes
	for(AI=0
	AI<AP.length
	AI++){AJ=true
	AO=this.getCellForNode(AP[AI])
	if(AO&&AO.hasOwnProperty("mix")){AR=k.call(this,AO)
	AM=k.call(this,AK)
	AG=d.keyarray(AR)
	AL=d.keyarray(AM)
	if(!!AG.length&&AG.length===AL.length){g.forEach((AG||[]),function(AV){AJ=AJ&&AN(AR[AV],AM[AV])
	return AJ
	},this)
	}else{AJ=false
	}if(AJ){AQ.push(AP[AI])
	}}}}else{AQ.push(AU)
	}}else{if(this.isSelectAllCell(AU)){AQ.push(AU)
	}else{if(AK&&AK._e&&AK.axis===1){this.getRowHeaderSiblings(AU,AQ,AK._e.id)
	}else{if(AK&&AK._e&&AK.axis===2){AP=AU.parentNode.childNodes
	for(AI=0
	AI<AP.length
	AI++){AJ=true
	AO=this.getCellForNode(AP[AI])
	if(AO&&AO._e){if(AK._e.id===AO._e.id){AQ.push(AP[AI])
	}}}}}}}return AQ
	},w=function w(AH,AN,AI){var AL=N.call(this,false),AJ=this.model,AG,AK,AM
	g.forEach((AL||[]),function(AO){for(AK=0
	AK<=AO.childNodes.length
	AK++){AG=AO.childNodes[AK]
	AM=this.getCellForNode(AG)
	if(AM&&AM._e){if(AJ.compareElementsId(AI,AM._e.id)){AN.push(AG)
	}}}},this)
	},D=function D(AH,AG){var AI=AG&&AH&&(AG.tui||AG.ui)!==(AH.tui||AH.ui)
	return AI||(AG&&AH&&AG.axis!==AH.axis)
	},n=function n(){this.selCells=[]
	this.clearSelections()
	},a=function a(AI){var AH=this,AG=AH.getCellForNode(AI)
	this.selCells=g.filter(this.selCells,function(AK){var AJ=AH.getCellForNode(AK)
	return D(AG,AJ)
	})
	this.clearUnitSelections(this.model.data.gts[AG.axis===1?"row":"col"][AG.tui||AG.ui].id)
	},AD=function AD(AI){var AH=this.isSelectAllCell(AI),AJ=this.getCellForNode(AI),AK=this.model.getCellInfo(AJ),AG=this.model.getCellTitleInfo(AJ)
	if(!AJ){return 
	}if(!AH){if(g.indexOf(this.selCells,AI)===-1){this.selCells.push(AI)
	}}else{if(!AJ.hasOwnProperty("mix")){var AL=AK.isMetric?"Metrics":(AG.title&&AG.title.id),AN=this.model.scm,AM=AL&&AN&&AN[AL]
	if(AM&&(AM.all||AM.showall)){this.addAttributeSelection(AG.title.id,"OA:(All)","all")
	}}return 
	}if(AJ.hasOwnProperty("mix")){this.addMetricValueSelection(k.call(this,AJ))
	}else{this.addAttributeSelection(AG.title.id,AJ._e.id,AJ._e.n)
	}},O=function O(AG){var AI=this.selCells.indexOf(AG),AH=this.getCellForNode(AG)
	this.selCells.splice(AI,1)
	if(AH.hasOwnProperty("mix")){this.removeMetricValueSelection(k.call(this,AH))
	}else{this.removeAttributeSelection(this.model.getCellTitleInfo(AH).title.id,AH._e.id)
	}},e=function e(){if(this.clearContextMenuHighlights){this.clearContextMenuHighlights()
	}this.cmSelCells=[]
	this.clearCxtMnuSelection()
	},AC=function AC(AH,AJ){var AI=this.getCellForNode(AH),AG=this.model.getCellTitleInfo(AI)
	if(g.indexOf(this.cmSelCells,AH)===-1){this.cmSelCells.push(AH)
	if(AI.hasOwnProperty("mix")){this.addContextMenuMetricValueSelection(k.call(this,AI))
	}else{this.addContextMenuAttributeSelection(AG.title.id,AI._e.id,AJ.n,undefined,undefined,undefined,AJ.fm)
	}}},K=function(AQ){var AO=this,AK={n:"",fm:""},AN,AH=[],AI,AG,AP,AM,AJ=[],AL=0
	if(AQ.length){g.forEach(AQ,function(AR){AN=AO.getCellForNode(AR)
	AG=AN._e
	AI=AG&&AG.n
	if(AI){AH.push(AI)
	}})
	if(AG){AP=AG.id.split("
	")
	AM=AP[1]
	AJ=g.map(AO.model.getAttributeFormsInTemplate(AM),function(AR){return AR.bfid
	})
	AK.fm=AJ.join("
	")
	AL=AJ.length
	}if(AH.length){AK.n=AH.slice(0,AL).join(" ")
	}}return AK
	},l=function l(){var AJ=this,AH,AG,AI
	e.call(this)
	this.cmSelCells=this.selCells.slice(0)
	g.forEach(this.cmSelCells,function(AK){AI=K.call(AJ,q.call(AJ,AK))
	AH=AJ.getCellForNode(AK)
	AG=AJ.model.getCellTitleInfo(AH)
	if(AH.hasOwnProperty("mix")){AJ.addContextMenuMetricValueSelection(k.call(AJ,AH))
	}else{AJ.addContextMenuAttributeSelection(AG.title.id,AH._e.id,AI.n,undefined,undefined,undefined,AI.fm)
	}})
	},E=function E(AH){var AG=this.getCellForNode(AH)
	if(AG){return g.some(this.model.getCellDataUnion(AG),function(AI){return AI.isSubtotal
	})
	}return false
	},b=function b(AI,AK,AH){var AJ,AG,AL=this
	if(!AL.canMultiSelect(AI)){AK=A.REPLACE_ALL
	}if(d.isEmpty(AI)&&(!AH&&this.clearAllSelections&&this.clearAllSelections())){n.call(this)
	}AI=g.filter((AI||[]),function(AM){return !E.call(AL,AM)
	})
	g.forEach(AI,function(AM){AG=AK
	AJ=~g.indexOf(this.selCells,AM)
	if(A.TOGGLE===AG){AG=AJ?A.REMOVE:A.APPEND
	}if(A.REPLACE_ALL===AG){if(AH){a.call(this,AM)
	}else{n.call(this)
	}AK=AG=A.APPEND
	}switch(AG){case A.APPEND:AD.call(this,AM)
	break
	case A.REMOVE:O.call(this,AM)
	break
	}},this)
	},j=function j(AG){var AI=this,AH
	AG=g.filter((AG||[]),function(AJ){return !E.call(AI,AJ)
	})
	e.call(this)
	AH=K.call(this,AG)
	g.forEach(AG,function(AJ){AC.call(this,AJ,AH)
	},this)
	},P=function P(AL,AM,AH,AJ){var AI=Math.min(AM,AJ),AK=Math.min(AL,AH),AR=Math.max(AM,AJ),AG=Math.max(AL,AH),AO,AN,AQ=[],AP=function(AS,AT){g.forEach((AT||[]),function(AU){if(g.indexOf(AS,AU)===-1){AS.push(AU)
	}})
	}
	for(AO=AK
	AO<=AG
	AO++){for(AN=AI
	AN<=AR
	AN++){AP(AQ,q.call(this,F.call(this,AO,AN)))
	}}b.call(this,AQ,A.APPEND)
	},h=function h(AK,AO){var AN,AH=this.selectorControl,AX=AH&&(AH.showall!==undefined?AH.showall:AH.all),AT=!!this.defn.msuc,AW=this.isSelectAllCell(AO),AR=(this.model.getSelectorControlMapInfo?this.model.getSelectorControlMapInfo():[]),AG=!AH&&(AR&&AR.length>0),AS,AQ,AI,AM,AU,AP=this.hasAccessibility,AJ,AL=this.model.hasRecursiveAttribute&&this.model.hasRecursiveAttribute(),AV=this.parent&&this.parent.defn&&this.parent.defn.t===527
	if(AV){AT=!!this.parent.defn.msuc
	}if(AG){if(!AT){AK=t.SINGLE
	}AI=this.getCellForNode(AO)
	AQ=AI&&AI.id
	AM=g.find(AR,"did",AQ)
	if(AM>=0){AS=AR[AM].sc
	AX=AS.showall||AS.all
	}}if(AO.attributes.getNamedItem("ei")!==null&&(AG||(!E.call(this,AO)&&(AX||!AW)))){AN=this.getSelectionHash()
	if(d.isEmpty(AN)){this.selCells=[]
	}AJ=this.selCells.length
	if(AP&&AJ>0){for(AU=0
	AU<AJ
	AU++){this.selCells[AU].setAttribute("aria-selected","false")
	G.removeClass(this.selCells[AU],"xtabCellFocus")
	}}if(this.selCells.length>0&&(AL?(this.selCells.indexOf(AO)>-1):AO.className.indexOf(this.CELL_HIGHLIGHT)!==-1)){if(AX===false&&(AK===t.SINGLE||AK===t.CONTROL)&&u.call(this,AO)){return 
	}if(AK===t.SINGLE&&u.call(this,AO)){AK=t.CONTROL
	if(this.xTabHiddenTextArea){this.xTabHiddenTextArea.blur()
	}}}if(this.clearHighlights){this.clearHighlights()
	}this["on"+AK+"Select"](AO,AG)
	this.lastSelectedCell=AO
	if(AK!==t.SHIFT){this.shiftInfo={lastCell:AO,selCells:[].concat(this.selCells)}
	}AJ=this.selCells.length
	if(AP&&AJ>0){for(AU=0
	AU<AJ
	AU++){this.selCells[AU].setAttribute("aria-selected","true")
	}}this.markSelections()
	this.endSelections()
	}else{if(AX===true&&AO.attributes.getNamedItem("ei")===null&&!this.cellMenuOnCloseFlag){n.call(this)
	this.markSelections()
	this.endSelections()
	if(this.hasElementSelection){delete this.hasElementSelection
	this.handleContextMenuSelectionData()
	}}}},AF=function AF(AI){var AH=false,AG=this.isSelectAllCell(AI)
	if(AI.attributes.getNamedItem("ei")!==null&&!AG){AH=this.isSelected(AI)
	if(AH){l.call(this)
	}else{j.call(this,q.call(this,AI))
	}this.markContextMenuSelections()
	}},u=function u(AM){var AI=this.selCells,AK=true
	if(this.selectSiblings(AM)){var AH=this.getCellForNode(AI[0]),AG=this.model.getCellInfo(AH).isMetric,AJ=AG?AH._ei:AH._e&&AH._e.id,AL=AG?AH._tp&&AH._tp._e&&AH._tp._e.id:undefined
	AK=!g.some(AI,function(AN){AN=this.getCellForNode(AN)
	if(AG){return AN._tp._e.id===AL&&AN._ei!==AJ
	}else{return AN._e&&AN._e.id!==AJ
	}}.bind(this))
	}else{if(AI.length>1){AK=false
	}}return AK
	}
	mstrmojo.vi.ui.rw._IsMultiselectXtab=mstrmojo.provide("mstrmojo.vi.ui.rw._IsMultiselectXtab",{_mixinName:"mstrmojo.vi.ui.rw._IsMultiselectXtab",selCells:[],cmSelCells:[],cellMenuOnCloseFlag:false,lastSelectedCell:null,isMultiSelect:false,CELL_SELECTION:t,isUnSelectCell:u,supportsColHeaderSelection:false,modifySelections:b,getCellDataUnion:k,isSubtotalRelated:E,addCell:AD,removeCell:O,getTableRows:N,getRowHeaderSiblings:w,getSiblings:q,getLastSelectedCell:function M(){return this.lastSelectedCell
	},canMultiSelect:function C(){return true
	},onCtrlSelect:function o(AG,AH){b.call(this,q.call(this,AG),A.TOGGLE,AH)
	},sameUnitType:function Q(AJ,AH){var AI=this.getCellForNode(AJ),AG=this.getCellForNode(AH)
	return !AI||!AG||AI.hasOwnProperty("mix")===AG.hasOwnProperty("mix")
	},getRowSelectRange:function J(AG,AQ,AT,AM,AO,AH,AU,AS){var AL,AI,AN,AR,AP,AJ
	if(AQ===AM){AN=this.getCellForNode(AH)
	AR=this.getCellForNode(AU)
	}else{var AK=Math.min(AQ,AM)
	AN=S.call(this,AG-AO,AK)
	AR=S.call(this,AT-AO,AK)
	if(this.zone.searchRow(AN.o+AO)===null){AN=this.getCellForNode(AH)
	}if(this.zone.searchRow(AR.o+AO)===null){AR=this.getCellForNode(AU)
	}}AL=(AN.o<AR.o)?AN:AR
	AP=Y.call(this,AL,AO,-1)
	AI=(AN.o>AR.o)?AN:AR
	AJ=Y.call(this,AI,AO,1)
	return{fromRowIx:AP,toRowIx:AJ}
	},onShftSelect:function AE(AS,AI){if(AI||!this.canMultiSelect([AS])){return this.onSingleSelect(AS,AI)
	}var AH=this.shiftInfo.lastCell
	if(this.isOutlineMode&&(!this.getCellForNode(AH)||!this.getCellForNode(AS))){return 
	}if(this.sameUnitType(AS,AH)){this.selCells=[].concat(this.shiftInfo.selCells)
	var AN=this.getHeaderRowCount(AH),AO,AJ,AM,AP=x.call(this,AH),AL=x.call(this,AS),AG=parseInt(AH.getAttribute("r"),10),AR=parseInt(AS.getAttribute("r"),10),AK=this.model.getCellInfo(this.getCellForNode(AS)),AQ=AG<AN
	if(AK.isMetric||(AQ&&this.supportsColHeaderSelection)){AO=AG
	AJ=AR
	}else{AM=this.getRowSelectRange(AG,AP,AR,AL,AN,AH,AS,AQ)
	AO=AM.fromRowIx
	AJ=AM.toRowIx
	}P.call(this,AP,AO,AL,AJ)
	}},onSingleSelect:function X(AG,AH){b.call(this,q.call(this,AG),A.REPLACE_ALL,AH)
	},getClickedCell:function B(AG){return AG&&f.findAncestorByName(AG,"td",true,this.viewport)
	},handleSelection:function I(AK,AG,AJ){var AI=this.getClickedCell(AJ),AH=this.sameUnitType(AI,this.lastSelectedCell),AL
	if(!f.isRMC(AK,AG)&&!(AK.keyCode===121&&AK.shiftKey===true)){if(f.isMetaKey(AG,AK)&&AH){AL=t.CONTROL
	}else{if(f.shiftKey(AG,AK)&&AH){AL=t.SHIFT
	}else{AL=t.SINGLE
	}}h.call(this,AL,AI)
	}else{if(!(f.isMetaKey(AG,AK)||f.shiftKey(AG,AK))||(AK.keyCode===121&&AK.shiftKey===true)){AF.call(this,AI)
	}}},markSelections:function H(){this.highlightCells([].concat(this.selCells))
	},markContextMenuSelections:function Z(){if(this.highlightCellsWithContextMenuSelection){this.highlightCellsWithContextMenuSelection(this.cmSelCells)
	}},handlesMultiSelection:function r(AG){return(this._super&&this._super(AG))||this.isMultiSelect
	},isSelected:function AB(AG){return g.indexOf(this.selCells,AG)!==-1
	},addSelection:function W(AG){if(!this.isSelected(AG)){h.call(this,t.CONTROL,AG)
	}},onclick:function p(AH){f.clearBrowserHighlights()
	e.call(this)
	var AJ=AH.getTarget&&AH.getTarget()
	if(this.handlesMultiSelection(AH)){if(mstrApp.isExpress){var AI=this.getClickedCell(AJ),AG=f.findAncestorByName(AJ,"span",true,AI)
	if(AG){this.handleSelection(AH.e,AH.hWin,AJ)
	}}else{this.handleSelection(AH.e,AH.hWin,AJ)
	}}else{this._super(AH)
	}this.cellMenuOnCloseFlag=false
	},handleSingleTapSelection:function L(AG){h.call(this,t.SINGLE,AG)
	},handleLongPressTap:function c(AG){AF.call(this,AG)
	},singleUnitSelect:function v(){var AH=this.lastSelectedCell,AG=this.getCellForNode(AH)
	this.defaultAction(AH,AG)
	},getActionCells:function R(AG){var AI=this,AH=g.map(g.filter(this.selCells,function(AK){var AJ=AI.getCellForNode(AK)
	return !D(AG,AJ)
	}),function(AJ){return AI.getCellForNode(AJ)
	})
	if((AH.length===0)||!this.model.getCellTitleInfo(AG).isSrcTitle){AH=this._super(AG)
	}return AH
	},openXtabCellMenu:function U(AK){var AH=mstrmojo.findAncestor(this,"openXtabCellMenu"),AI=this,AG=null
	if(this.isInFilterPanel()&&mstrApp&&mstrApp.isInVFInteractMode){AH=this.controller&&this.controller.view
	}if(AH){if(AK.evt){if(f.isMetaKey(AK.hWin,AK.evt)){var AJ=this.getClickedCell(AK.td)
	this.addSelection(AJ)
	}}AG=AH.openXtabCellMenuWithSelectionStyleControl(AK)
	if(AG){AG.onCloseMenuCallBack=function(){if(AI.clearContextMenuHighlights){AI.clearContextMenuHighlights()
	}if(!AI.reserveCellMenuOnCloseFlag){AI.cellMenuOnCloseFlag=true
	delete AI.reserveCellMenuOnCloseFlag
	}}
	}if(this.parent&&this.parent.selectVIUnit){this.parent.selectVIUnit()
	}}},closeXtabCellMenu:function z(AI){var AG=mstrmojo.findAncestor(this,"openXtabCellMenu"),AH=this
	if(this.isInFilterPanel()&&mstrApp&&mstrApp.isInVFInteractMode){AG=this.controller&&this.controller.view
	}if(AG&&AG.closePopup){AG.closePopup()
	}},highlightCells:function(AH,AG){if(this._super){this._super(AH,AG)
	}if(AG){this.selCells=AH
	}},selectSiblings:function(){return true
	},isSelectAllCell:function AA(AI){var AG=this.getCellForNode(AI),AH=AG&&this.model.getCellDataUnion(AG)
	return !!AG&&(AH.length===0||(AH.length===1&&!AH[0].eid))
	},selectionContainsOnlyLeafNode:function(){var AG=this
	return this.selCells.every(function(AI){var AH=AG.getCellForNode(AI)
	return AH&&AH.ln
	})
	},getHeaderRowCount:function m(){return this.rhsCP.startIndexInContainer
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.hash","mstrmojo.string","mstrmojo.DICFactory")
	var P=3,A=8,Y=2,a=2,W=mstrmojo.css,B="********",S=mstrmojo.hash,N=mstrmojo.array,D=mstrmojo.string
	var L=null
	function I(h,g){if(h){var b=this.dicWidget
	if(b&&b.setDirtyFlag){b.setDirtyFlag(h,g)
	}else{if(h.className!=="flag-container"){var e=document.createElement("div")
	e.className="flag-container"
	e.style.right="10px"
	e.innerHTML='<div class="dirty-cell"/>'
	g.insertBefore(e,h)
	}}}}function U(e,b){if(e.className==="flag-container"){b.removeChild(e)
	}}function F(e,c,d,b){return'<rwf rw_tree_type="'+this.tt+'" rw_node_key="'+this.fgk+'" rw_field_key="'+this.k+'" key="'+this.key+'" columns="'+this.cls+'" types="'+d+'" '+c+b+' dt="'+e.dt+'" />'
	}mstrmojo._IsEditableTextfield={_mixinName:"mstrmojo._IsEditableTextfield",preBuildRendering:function X(){if(!this.edb){var e=this.node.data,b=this.node.defn,c=e.dic||b.txi.dic,f=(this.rv==="")?this.value:this.rv
	if(c.psw){this.v=B
	f=this.rv=""
	}if(c.ipt===a){c.vls=this.vls||[]
	this.dk=c.k
	this.ddic=true
	}this.dt=c.dt
	this.dicWidget=mstrmojo.DICFactory.createDIC({dic:S.copy(c,{req:this.req}),enabled:!!this.enabled,owner:this,k:0,dv:this.value,value:f,openerType:Y,popupTitle:b.n})
	if(this.shouldReplaceValueNode()){if(!L){L=S.clone(this.formatHandlers)
	}this.formatHandlers.domNode=["T","z-index","D","B","F","P","text-align","background-color","fx","white-space","overflow"]
	delete this.formatHandlers.valueNode
	}}this.set("cssClass",this.edb?"":"editable-field")
	this._super()
	},shouldReplaceValueNode:function R(){return this.dicWidget.showByDefault||this.dicWidget.hasPreview
	},postBuildRendering:function M(){this._super()
	if(this.edb){return 
	}var b=this.dicWidget,d=this.valueNode.innerHTML
	if(D.isEmpty(d)){this.valueNode.innerHTML=d+"1"
	this.valueNode.style.height=W.getStyleValue(this.valueNode,"height")
	this.valueNode.innerHTML=d
	}if(b.showByDefault){b.render()
	}else{if(this.enabled){if(b.hasPreview){b.openerNode=this.domNode
	b.renderPreview(this.value)
	}else{b.openerNode=this.valueNode
	}mstrmojo.dom.attachEvent(b.openerNode,mstrApp.isMobile?mstrmojo.dom.TOUCHEND:"click",function(){b.showInPopup()
	})
	}else{W.addClass(this.domNode,"disabled")
	return 
	}}if(this.shouldReplaceValueNode()){S.copy(L,this.formatHandlers)
	}this.registerTxWidget()
	this.addToTraversalList()
	if(this.mdf&&this.sci){var c=this.domNode
	I.call(this,c.firstChild,c)
	}},getKeyContext:function G(){return{dt:this.dt||0,k:this.dk||undefined}
	},getUpdates:function E(){var g=this.getUpdatedValues()[0],b=N.find(this.vls,"v",g.v),c=this.dicWidget,f=this.ddic&&(b===-1),d,e=""
	if(c.canSlice||f){e=F.call(this,g,"",A,"")
	}if(!f){d=g.k?('rw_control_key="'+g.k+'" element_id="'+D.encodeXMLAttribute(this.vls[b].eid)+'" '):""
	e+=F.call(this,g,d,P,'value="'+D.encodeXMLAttribute(String(g.v))+'"')
	}return e
	},updateValue:function O(j,c){if(this._super){this._super(j,c)
	}var l=this.valueNode,g=this.domNode,h=this.dicWidget,k=c.v,b=c.dv,f=N.find(this.vls,"v",k),e=this.ddic&&(f===-1)
	if(this.rv!==k){if(this.req){W.removeClass(g,"required")
	}this.rv=k
	this.v=b
	this.mdf=e?0:1
	if(!h.showByDefault){if(h.hasPreview){h.renderPreview()
	}else{l[l.innerText!==undefined?"innerText":"textContent"]=this.psw?B:(!b?"\u00a0":D.decodeHtmlString(b,false))
	}}if(this.req){W.removeClass(g,"required")
	}if(this.sci&&!e){I.call(this,g.firstChild,g)
	}else{U.call(this,g.firstChild,g)
	}}if(this.txar){return true
	}return false
	},applyPasswordMask:function Q(){this.psw=true
	this.v=B
	this.rv=""
	},getUpdateObject:function J(){var d={fieldKey:this.k,wid:this.wid,newValue:D.encodeXMLAttribute(String(this.rv)),dataType:this.dt},b=-1,c=this.getUpdatedValues()[0]
	if(c.k!==undefined){d.controlKey=c.k
	b=mstrmojo.array.find(this.vls,"v",c.v)
	d.elementId=b>=0?this.vls[b].eid:""
	}return{nodeKey:this.fgk,cells:[d],retrieveData:false,autoRefresh:false}
	},autoRefresh:function(b){this.model.sendTransactionUpdates(b)
	},update:function K(b){if(this._super){this._super(b)
	}var e=b.data,c=b.defn
	if(e.vls){this.vls=e.vls
	}else{delete this.vls
	}this.cell=b.data
	this.value=e.v||""
	this.rv=(e.rv===undefined)?this.value:e.rv
	this.tca=e.tca||0
	this.dt=e.dt
	this.key=e.key||""
	this.cls=e.cls||""
	this.wid=e.wid
	this.edb=e.edb
	this.mdf=e.mdf
	this.sci=c.txi.sci
	this.req=this.required||c.txi.dic.req
	this.tt=c.tt
	this.fgk=c.fgk
	this.txar=c.txi.txar
	this.txck=c.txi.dic.ckey
	},addToTraversalList:function Z(){if(mstrmojo.DICConfig.isKeyNavigable(this.dicWidget.dic)){var d=this.parent.traversalList,e=this.domNode
	if(!d){d=this.parent.traversalList=[]
	}var b=this.k,c=false
	N.forEach(d,function(f){if(f.refField.k===b){c=true
	return false
	}})
	if(!c){d.push({x:e.offsetLeft,y:e.offsetTop,h:e.offsetHeight,refField:this})
	}}},editNext:function H(){var g=this.parent.traversalList,e,b,d,f=0
	if(!g){return false
	}if(!g.isSorted){for(e=0,b=g.length
	e<b
	e++){f+=g[e].h
	}d=f/b
	g.sort(function(k,h){var l=Math.floor(k.y/d),j=Math.floor(h.y/d)
	if(l<j){return -1
	}if(l>j){return 1
	}if(k.x<h.x){return -1
	}if(k.x>h.x){return 1
	}return(k.y<h.y)?-1:1
	})
	g.isSorted=true
	}for(e=0,b=g.length
	e<b
	e++){if(g[e].refField.k===this.k){break
	}}if(e<b){do{e++
	if(e>=b){e%=b
	}if(e===parseInt(this.k,10)){return false
	}var c=g[e].refField.dicWidget
	if(c){if(!c.showByDefault){c.showInPopup()
	}else{c.focus()
	}return true
	}}while(true)
	}},checkRequiredObjects:function C(){if(this.req&&!this.mdf&&!this.edb){W.addClass(this.domNode,"required")
	return false
	}return true
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css")
	function B(){var D=this.maskNode,E=this.isMasked
	D.style.display=E?"block":"none"
	mstrmojo.css.toggleClass(D,"masked",E)
	}mstrmojo.vi.ui._HasMask=mstrmojo.provide("mstrmojo.vi.ui._HasMask",{_mixinName:"mstrmojo.vi.ui._HasMask",isMasked:false,postBuildRendering:function C(){if(this._super){this._super()
	}B.call(this)
	},onisMaskedChange:function A(){if(!this.hasRendered){return 
	}B.call(this)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.color","mstrmojo.css","mstrmojo.dom")
	var K={T:["top","left"],D:["height","width"],B:["border","border-color","border-style","border-width"],F:["font","color","text-decoration"],P:["padding"],BG:["background-color","background-opacity","fx"],RW:[]}
	K.RW=["z-index"].concat(K.T.concat(K.D))
	var J=mstrmojo.array,O=mstrmojo.color,Q=mstrmojo.css,D=mstrmojo.dom
	function P(Y,a,X){var Z=Y[a]||[]
	Z.push(X)
	Y[a]=Z
	}function M(b,a){var Z=((b&&b.fmts)||null)
	if(a){var d=b.thresholds,Y=d&&d[a]
	if(Y){var c={},e
	for(e in Z){c[e]=Y[e]||Z[e]
	}for(e in Y){var X=Y[e]
	c[e]=(typeof X==="string")?(X+" !important"):X
	}Z=c
	}}return Z
	}function U(Y,X){if(Y==="transparent"){return Y
	}if(typeof X==="undefined"||X===null||X<0||X>=100){return Y
	}return O.rgb2rgba(Y,X)
	}mstrmojo._Formattable=mstrmojo.provide("mstrmojo._Formattable",{_mixinName:"mstrmojo._Formattable",formatHandlers:null,thresholdId:null,getCacheKey:function E(){return"css_cache"+(this.thresholdId||"")
	},update:function G(Y){var X=true
	this.invisible=!!(Y&&Y.data&&Y.data.invisible)
	if(this._super){X=this._super(Y)
	}return X
	},buildCSSFormatString:function H(j,e){var b=this.formatHandlers[j],q=b.src?e[b.src]:e
	if(!q){return null
	}var Z=b.props||b
	if(!Z){return null
	}var m=[],l=-1,c=100
	var h=Z.length-1
	for(h
	h>=0
	h--){var d=Z[h]
	var Y=K[d]||[d]
	var k=Y.length-1
	for(k
	k>=0
	k--){d=Y[k]
	var o=q[d]
	if(o!==undefined){switch(d){case"fx":var n=o,a={}
	var X=n.gd
	if(X){this.formatGradient(X,a)
	}var p=parseInt(n.rt,10)
	if(p){if(p===1||p===3){this.formatTextRotation(n.rt,a)
	}}if(n.ds){this.formatDropShadow(n,a)
	}var g
	for(g in a){m[++l]=g+":"+a[g].join(" ")
	}break
	case"background-opacity":c=o
	break
	case"background-color":m[++l]=d+":"+U(o,c)
	break
	default:m[++l]=d+":"+o
	}}}}if(this.invisible){m.push("visibility:hidden")
	}return m.join("
	")+"
	"
	},applyCSSFormatToNode:function I(a,X){var b=this[a],Z=b&&b.style
	if(Z){var Y=this.buildCSSFormatString(a,X)||""
	Y.split("
	").forEach(function(c){var d=c.split(":")
	Z[Q.convertCssToCamelCase(d[0])]=d[1]
	})
	}},clearSlotBackgroundCSS:function F(Y){var Z=this[Y],X=Z&&Z.style
	if(X){X.background="transparent none 0 0 no-repeat"
	X.filter="none"
	}},preBuildRendering:function B(){this._super()
	var a=this.formatHandlers,X=this.getFormats()
	if(a&&X){var b=this.defn=this.defn||{},c=this.getCacheKey(),Z=b[c]
	if(!Z){Z=b[c]={}
	for(var Y in a){var e=Y+"CssText"
	this[e]=Z[e]=this.buildCSSFormatString(Y,X)||""
	}}else{var d
	for(d in Z){this[d]=Z[d]
	}}}return true
	},formatGradient:function S(X,Z){var Y=Q.buildGradient(X.t,X.sc,X.ec)
	if(Y){P(Z,Y.n,Y.v)
	}},formatDropShadow:function L(b,Z){if(D.supports(D.cssFeatures.DROP_SHADOW)){var a=b.ds
	if(D.isDXIE){P(Z,"filter","progid:DXImageTransform.Microsoft.DropShadow(Color='#66000000',Positive='true',OffX="+a+",OffY="+a+")")
	}else{var X=[a,a],Y=parseInt(b.rt,10)
	if(Y===1||Y===3){X[((Y===1)?1:0)]=-a
	}P(Z,(D.isWK?"-webkit-":"")+"box-shadow",X.join("px ")+"px 3px 0px #888")
	}}},formatTextRotation:function C(Y,X){if(D.supports(D.cssFeatures.TEXT_ROTATION)){if(D.isDXIE){P(X,"filter","progid:DXImageTransform.Microsoft.BasicImage(rotation="+Y+")")
	}else{var Z=(Y===1)?90:-90
	P(X,D.CSS3_PREFIX+"transform-origin","top left")
	P(X,D.CSS3_PREFIX+"transform","rotate("+Z+"deg)")
	}}},getFormats:function W(){if(!this.fmts){this.fmts=M.call(this,this.defn,this.thresholdId)
	}return this.fmts
	},clearFormats:function A(){this.fmts=undefined
	},createEmptyFormats:function(){return(this.fmts=this.fmts||{})
	},clearCache:function R(){delete this.defn[this.getCacheKey()]
	},unrender:function N(X){if(this.thresholdId){this.fmts=null
	}this._super(X)
	}})
	mstrmojo._Formattable.getBorderWidths=function(c){var a=c.getFormats(),X=(a.border)?a.border.match(/(\d*|\d*\.\d*)pt/)[0]:a["border-width"],Z=c.model,Y=Z.docModel
	return Q.getBorderWidths(X,(Y&&Y.dpi)||Z.dpi)
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash","mstrmojo._HasMarkup")
	var J=mstrmojo.dom,D=mstrmojo._HasMarkup,P,Q=mstrmojo.global.document,K,A="touchstart",C="touchmove",I="touchend",N="contextmenu"
	function O(S){var R=J.findWidget(S)
	while(R){if(R.hasContextMenuEvent){return R
	}R=R.parent
	}return null
	}function M(R){var U=R.src,S=O(U&&U.node)
	if(!S){return null
	}return S
	}function H(R){if(R&&R.touches.length===1){P.startTapHoldCheck(self,R)
	}}function B(){var R=++P.ctxt.moveCount
	if(R>P.minMoves){P.stopTapHoldCheck()
	if(K){window.clearTimeout(K)
	}}}function L(){P.stopTapHoldCheck()
	if(K){window.clearTimeout(K)
	}}mstrmojo.taphold=mstrmojo.taphold||mstrmojo.provide("mstrmojo.taphold",{timeThreshold:750,minMoves:3,startTapHoldCheck:function G(R,S){delete this.ctxt
	var U=J.captureEventInfo({hWin:R,e:S})
	this.ctxt={src:U,moveCount:0}
	J.attachEvent(Q,C,B)
	J.attachEvent(Q,I,L)
	S.name=N
	K=window.setTimeout(function(){P.stopTapHoldCheck()
	var W=D.newDomEvent(N,window,S),X
	for(X in S){if(!W[X]){W[X]=S[X]
	}}W.type=N
	P.triggerContextMenu(W)
	},this.timeThreshold)
	},triggerContextMenu:function F(R){var S=this.ctxt,U=M(S)
	if(!U){return 
	}if(U.raiseEvent){U.raiseEvent(R)
	}},stopTapHoldCheck:function E(){J.detachEvent(Q,C,B)
	J.detachEvent(Q,I,L)
	},enable:function(){if(J.isIOSTouch){J.attachEvent(Q,A,H)
	}},disable:function(){J.detachEvent(Q,A,H)
	}})
	P=mstrmojo.taphold
	P.enable()
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.registry","mstrmojo.ListBuilder")
	var H=mstrmojo.hash,E=mstrmojo.registry,G=1
	mstrmojo.WidgetListBuilder=mstrmojo.provide("mstrmojo.WidgetListBuilder",mstrmojo.mixin({newContext:function F(J){var K=J.itemFunction
	if(!K){var I=J.itemConfig
	K=I?function(M,L,N){var O=H.clone(I)
	O.data=M
	O.parent=N
	return E.ref(O)
	}:null
	}return{itemStatus:[],itemWidgets:[],itemFunc:K}
	},build:function A(K,J,N,I){var L=J.itemFunc(N,I,K)
	if(L){J.itemStatus[I]=G
	J.itemWidgets[I]=L
	if(L.set){var M=K.selectedIndices
	if(M&&M[I]){L.set("selected",true)
	}}}return L
	},onadd:function C(K,I,J){if(I){mstrmojo.array.insert(I.itemWidgets,J.index,new Array(J.value.length))
	}this._super(K,I,J)
	},onremove:function D(L,J,K){if(J){var O=J.itemWidgets.splice(K.index,K.value.length),N,I
	for(N=0,I=O.length
	N<I
	N++){var M=O[N]
	if(M&&M.destroy){delete M.parent
	M.destroy()
	}}}this._super(L,J,K)
	},onchange:function B(S,J,P,U){if(U){var N=P.itemWidgets,L,O,I,R
	for(O=0,I=U.removed,R=I&&I.length
	O<R
	O++){L=N[I[O]]
	if(L&&L.set){L.set("selected",false)
	}}var M,Q,K
	for(M=0,Q=U.added,K=Q&&Q.length
	M<K
	M++){L=N[Q[M]]
	if(L&&L.set){L.set("selected",true)
	}}}}},H.copy(mstrmojo.ListBuilder)))
	}())
	(function(){var D={}
	var B="XHRServerTransport"
	mstrmojo.XHRServerTransport={serverRequest:function A(I,G,F){var E=mstrmojo.all[I],H=D[G]=new mstrmojo.SimpleXHR()
	$MAPF(true,B,"transportRequest")
	if(F.params&&!F.params.sessionState&&mstrConfig&&mstrConfig.isAddSessionState&&mstrApp&&mstrApp.sessionState){F.params.sessionState=mstrApp.sessionState
	}H.request(F.config.method||"POST",F.taskURL||mstrConfig.taskURL,{success:function(J){if(typeof J==="string"&&J[0]==="{"){try{J=JSON.parse(J)
	}catch(K){}}if(J.mstrerr){J.code=J.mstrerr.code
	J.message=J.mstrerr.message
	}E&&E.response(G,true,J)
	},failure:function(L){var M=L.status,K=L.getResponseHeader("X-MSTR-TaskErrorCode"),J
	if(M===0){M=K||M
	J=mstrmojo.desc(15666,"The connection to the MicroStrategy Web Server failed. Please wait a few minutes and then attempt to reload the page. If the condition persists, please contact your administrator.")
	}else{M=K||M||"-999"
	J=L.getResponseHeader("X-MSTR-TaskFailureMsg")||L.responseText||"Unexpected error, please contact your administrator"
	}E&&E.response(G,false,{code:M,message:J})
	},complete:function(){delete D[G]
	},textResponse:F.callback.textResponse},F.params)
	},cancelRequest:function C(F){var G=D[F],E=false
	if(G){E=G.cancel()
	delete D[F]
	}$MAPF(false,B,"transportRequest")
	return E
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.xhr")
	var F=mstrmojo.hash
	function J(K,L){return function(){if(K[L]){K[L]()
	}}
	}var B=[]
	function H(L){var K
	switch(L.cacheLevel){case mstrmojo.AjaxCall.CACHELEVEL_LOCAL:if(L._cache==null){L._cache=[]
	}K=L._cache
	break
	default:if(B==null){B=[]
	}K=B
	break
	}return K
	}function E(N){var M=H(N)
	var P={cache:M,idx:-1},O=N.params
	if("xts" in O){delete O.xts
	}for(var L=0,K=M.length
	L<K
	L++){var Q=M[L]
	if(Q&&F.equals(Q.url,N.url)&&F.equals(Q.params,O)){P.idx=L
	break
	}}return P
	}function C(L){var K=H(L),M=F.copy(L.params)
	delete M.xts
	K.push({url:L.url,params:M,res:F.copy(L.response)})
	}function D(K){var L=E(K)
	if(L&&L.idx>=0){K.response=L.cache[L.idx].res
	return true
	}return false
	}mstrmojo.AjaxCall=mstrmojo.declare(mstrmojo.QueuedXHR,null,{scriptClass:"mstrmojo.AjaxCall",method:"POST",url:"",params:null,onsuccess:null,onerr:null,oncomplete:null,oncancel:null,readCache:false,writeCache:false,cacheLevel:"",_cache:null,useQueue:false,init:function I(K){this._super(K)
	F.copy(K,this)
	},send:function A(){var K=this
	if(this.readCache&&D(this)){this.onsuccess()
	return 
	}this.request(this.method,this.url,{success:function(L){K.response=L
	if(K.writeCache){C(K)
	}if(K&&K.onsuccess){K.onsuccess()
	}},failure:J(K,"onerr"),complete:J(K,"oncomplete")},this.params,!this.useQueue)
	},cancel:function G(){this._super()
	if(this.oncancel){this.oncancel()
	}}})
	mstrmojo.AjaxCall.CACHELEVEL_GLOBAL="global"
	mstrmojo.AjaxCall.CACHELEVEL_LOCAL="local"
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Base","mstrmojo.registry","mstrmojo._Provider","mstrmojo.array")
	var B=mstrmojo.registry,F=mstrmojo.array
	mstrmojo.Obj=mstrmojo.declare(mstrmojo.Base,[mstrmojo._Provider],{scriptClass:"mstrmojo.Obj",id:"",init:function I(J){this.disposables=[]
	this._super(J)
	B.add(this)
	if(this.postCreate){this.postCreate()
	}},addDisposable:function G(M){var K=this.disposables,L,J
	if(M&&M.constructor===Array){for(L=0,J=M.length
	L<J
	L++){K.push(M[L])
	}}else{K.push(M)
	}return M
	},destroyDisposables:function D(J){F.forEach(this.disposables,function(K){if(!K){return 
	}if(K.destroy){K.destroy(J)
	}else{if(K.clear){K.clear()
	}}})
	this.disposables=[]
	},throwAbstractMethodError:function A(J){throw new Error(this.scriptClass+" must implement "+J+".")
	},destroy:function H(J){if(this.destroyed){return 
	}this._super(J)
	this.destroyDisposables(J)
	B.remove(this)
	delete this.parent
	this.destroyed=true
	}})
	var C=mstrmojo.Obj
	C.free=function E(J){if(J instanceof C){J.destroy()
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.registry","mstrmojo.publisher","mstrmojo._Provider")
	var G=mstrmojo.hash,A=mstrmojo.array,B=mstrmojo.registry,D=mstrmojo.publisher
	mstrmojo.Arr=mstrmojo.declare(null,[mstrmojo._Provider],{scriptClass:"mstrmojo.Arr",postApplyProperties:null,postCreate:null,length_bindEvents:["add","remove"],init:function H(K){var J
	if(K&&K.data){J=K.data
	delete K.data
	}else{if(K){J=K
	K=null
	}}if(!J||J.constructor!==Array){J=[]
	}G.copy(mstrmojo.Arr.prototype,J)
	if(K){G.copy(K,J)
	}if(J.postApplyProperties){J.postApplyProperties()
	}B.add(J)
	if(J.postCreate){J.postCreate()
	}return J
	},destroy:function E(){D.clearSubscriptions(this.id)
	B.remove(this)
	},add:function I(L,J,K){var M=L&&L.length
	if(M){if(J==null){J=this.length
	}A.insert(this,J,L)
	if(!K&&(this.onadd||D.hasSubs(this.id,"add"))){this.raiseEvent({name:"add",value:L,index:J})
	}}},remove:function F(J,L,K){if(L==null){L=1
	}if((J!=null)&&L){var M=this.splice(J,L)
	if(!K&&(this.onremove||D.hasSubs(this.id,"remove"))){this.raiseEvent({name:"remove",value:M,index:J})
	}}}})
	mstrmojo.Arr.makeObservable=function C(J,K){if(!J){return 
	}if(!K){K={}
	}K.data=J
	return this.prototype.init(K)
	}
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.num","mstrmojo.array","mstrmojo.DICFactory")
	var F=1,J=0,M=1,O=2,G=".",I=mstrmojo.dom,K=mstrmojo.css,E=mstrmojo.hash,D=mstrmojo.Enum_Keys.TAB,H=function(R){return(R>=1&&R<=7)||R==21||R==22||R==30
	},C=function(W,S){if(I.isIE&&!/px$/.test(S)){var R=document.createElement("img"),U
	R.style.zIndex=-1
	R.style.left=S
	W.appendChild(R)
	U=R.style.pixelLeft
	W.removeChild(R)
	return U+"px"
	}return S
	},B=function(R,S){return parseInt(C(R,K.getStyleValue(R,S)),10)||0
	},N=function(R){return{lp:B(R,"paddingLeft"),rp:B(R,"paddingRight"),tp:B(R,"paddingTop"),bp:B(R,"paddingBottom")}
	},Q=function(S){var R=K.getComputedStyle(S)||S.currentStyle
	return{fontFamily:R.fontFamily,fontSize:C(S,R.fontSize),fontStyle:R.fontStyle,fontVariant:R.fontVariant,fontWeight:R.fontWeight,textAlign:R.textAlign}
	},P=function(U,R){var S=mstrmojo.findAncestor(U,"scriptClass","mstrmojo.DocInfoWindow")
	if(!!S){S[R?"registerLock":"releaseLock"](this)
	}}
	mstrmojo._IsInputControl={_mixinName:"_IsInputControl",dic:null,owner:null,openerNode:null,popupStyle:J,items:null,applyOnEnter:true,lv:null,init:function(W){if(this._super){this._super(W)
	}var Y=this.dic,X=Y.dt,U=mstrmojo.expr.DTP,S,R=[]
	if(mstrApp.useBinaryFormat){if(X==U.DATE||X==U.TIME||X==U.TIMESTAMP){S=mstrmojo.date.parseDateAndOrTime(this.value)
	if(S){if(X!=U.TIME){R.push(mstrmojo.date.formatDateInfo(S.date,mstrmojo.locales.datetime.DATEOUTPUTFORMAT))
	}if(X!=U.DATE){R.push(mstrmojo.date.formatTimeInfo(S.time,mstrmojo.locales.datetime.TIMEOUTPUTFORMAT))
	}this.value=R.join(" ")
	}}}this.lv=this.value
	if(Y.wm&&Y.w===undefined){Y.wm=0
	}},showByDefault:false,hasPreview:false,getItems:function(){var a=this.dic,S=[],Y,W,R=0,X=String(a.itv),U=X&&X.indexOf(G),Z=H(a.dt)
	if(U>=0){R=X.substring(U+1).length
	}if(parseInt(a.ipt,10)===0){for(Y=0,W=a.min
	W<a.max+0.00001
	Y++,W+=a.itv){S[Y]={n:mstrmojo.num.toLocaleString(R>0?W.toFixed(R):W),v:W}
	}}else{S=a.vls
	mstrmojo.array.forEach(S,function(b){if(b.n===undefined){b.n=Z?mstrmojo.num.toLocaleString(b.v):b.v
	}})
	}return S
	},font:null,onfontChange:function(){if(this.getInputNode){var R=this.getInputNode(),S=this.font
	E.forEach(S,function(W,U){R.style[U]=W
	})
	}},getOpenerNodeStyle:function(){var R=this.group&&this.group.ons,S=this.openerNode
	if(!R){R=N(S)
	R.hp=R.lp+R.rp
	R.vp=R.tp+R.bp
	R.iw=Math.max(0,S.clientWidth-R.hp)
	R.ih=Math.max(0,S.clientHeight-R.vp)
	if(this.group){this.group.ons=R
	}}return R
	},onvalueChange:function(){if(this._super){this._super()
	}this.dicChanged=true
	if(this.showByDefault&&(!this.isDicWidgetReady||this.isDicWidgetReady())){this.applyChanges()
	}else{if(this.popupStyle!==J&&this.popup&&this.popup.enableApply){this.popup.enableApply()
	}}},preBuildRendering:function(){if(this._super){this._super()
	}this.openerNode=this.openerNode||this.owner.domNode
	if(this.showByDefault){this.openerStyle=this.getOpenerNodeStyle()
	if(this.inlineExtraCssText){this.cssText+=" "+this.inlineExtraCssText
	}}if(!this.placeholder){this.placeholder=document.body.appendChild(document.createElement("div"))
	}},postBuildRendering:function(){var W=this.openerNode
	if(this._super){this._super()
	}if(!mstrmojo.isDescendant(this.owner,this)){if(this.showByDefault){var U=this.domNode
	if(!(this.handleDisable()||this.enabled)){var R=document.createElement("div"),S=document.createElement("div")
	R.className="DIC-Container"
	S.className="curtain"
	R.appendChild(U)
	R.appendChild(S)
	U=R
	}W.innerHTML=""
	W.appendChild(U)
	}if(this.dic.t===1||this.dic.t===8){this.set("font",Q(W))
	}}if(mstrmojo.DICConfig.isKeyNavigable(this.dic)){this.registerKeyEvents(this.domNode)
	}},applyChanges:function(){var Z=this.lv,R=this.getCurValue?this.getCurValue():this.value,Y=this.openerNode,U=this.getDisplayValue?this.getDisplayValue():R,X=this.dic.dt,S=mstrmojo.expr.DTP,W=mstrmojo.locales.datetime
	if(String(R)!==String(Z)){if(mstrApp.useBinaryFormat){if(X==S.TIME||X==S.TIMESTAMP){R=R.replace(new RegExp(W.AM_NAME),"AM").replace(new RegExp(W.PM_NAME),"PM")
	}}this.lv=R
	this.dv=U
	if(this.owner&&this.owner.dataChanged){this.owner.dataChanged(this.k,Z,{dv:U,v:R},Y,this.dic.k)
	}}return true
	},cancelChanges:function A(){this.value=this.lv
	},isElementVisible:function L(R){var S=R.getBoundingClientRect()
	return(S.top>=0)&&(S.left>=0)&&(S.bottom<=(window.innerHeight||document.documentElement.clientHeight))&&(S.right<=(window.innerWidth||document.documentElement.clientWidth))
	},showInPopup:function(){var S=this.owner
	var R=this.openerNode
	if(!this.isElementVisible(R)){R.scrollIntoView({block:"nearest"})
	}this.popup=mstrmojo.DICFactory.createDICPopup(S,this)
	this.popup.open(S,{widget:this})
	if(this.focus&&!mstrApp.useBinaryFormat){this.focus()
	}this.setInfoWindowLock(true)
	},lockPopup:function(){this.setInfoWindowLock(false)
	},renderPreview:null,onTabDown:function(R){mstrmojo.dom.preventDefault(window,R)
	if(this.applyChanges()!==false){if(this.popup){this.popup.close()
	}this.owner.editNext(this.k)
	this.cleanup()
	}},cleanup:mstrmojo.emptyFn,registerKeyEvents:function(S){var R=this
	I.attachEvent(S,"keydown",function(U){var W=U||window.event
	if(W.keyCode===D){R.onTabDown(U)
	}})
	if(I.isIE){I.attachEvent(S,"keyup",function(U){var W=U||window.event
	if(W.keyCode===D){R.focus()
	}})
	}},setInfoWindowLock:function(R){P.call(this,this.owner,R)
	},handleDisable:function(){return true
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.num","mstrmojo.locales")
	var D=mstrmojo.array,A=mstrmojo.num,B=mstrmojo.locales
	mstrmojo.vi.util.NumberFormatUtility=mstrmojo.provide("mstrmojo.vi.util.NumberFormatUtility",{applyFormatToNumber:function C(P,Q,G){var H="\u00A4",L=/"[^"]*"/g,F=P.match(L),K=P.replace(L,H),O=["m","y","d","h","s"],N=G||false,E=new Date(),M=E.getFullYear(),J=E.getMonth(),I=E.getDay(),S=B.datetime,R
	D.forEach(O,function(U){N=N||K.indexOf(U,0)!==-1
	})
	if(N){K=K.replace(/y{3,}/g,M).replace(/y{1,2}/g,M.toString().slice(2,4))
	K=K.replace(/m{4,}/g,S.MONTHNAME_FULL[J-1]).replace(/m{3}/g,S.MONTHNAME_SHORT[J-1]).replace(/mm/g,"07").replace(/m/g,"7").replace(/7ber/g,"mber")
	K=K.replace(/d{4,}/g,S.dayNames[I-1]).replace(/d{3}/g,"Mon").replace(/dd/g,"10").replace(/d/g,"1").replace(/1ay/g,"day")
	K=K.replace(/hh/g,"08").replace(/h/g,"8")
	K=K.replace(/ss/g,"04").replace(/s/g,"4")
	K=K.split(H)
	R=K[0]
	D.forEach(F,function(W,U){R+=W+K[U+1]
	})
	return R
	}if(A.isNumeric(Q)){return A.formatByMask(P,A.parseNumeric(Q))
	}return Q
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.num","mstrmojo.hash","mstrmojo.string","mstrmojo.array","mstrmojo._FormatDefinition")
	var B=mstrmojo.num,G=mstrmojo.hash,F=mstrmojo.string,C=mstrmojo.array,E=mstrmojo._FormatDefinition.NumberFormatCategory
	mstrmojo.MetricSelectorUtility=mstrmojo.provide("mstrmojo.MetricSelectorUtility",{_GENERIC:1,_RANK:2,_PERCENT:3,OP:{_EQUALS:0,_NOT_EQUALS:1,_GREATER:2,_GREATER_EQUAL:3,_LESS:4,_LESS_EQUAL:5,_BETWEEN:6,_NOT_BETWEEN:7,_IN:8,_NOT_IN:9,_IS_NULL:10,_IS_NOT_NULL:11},OP_NAMES:[{n:mstrmojo.desc(2795,"Equals"),v:0},{n:mstrmojo.desc(2796,"Does not equals"),v:1},{n:mstrmojo.desc(521,"Greater than"),v:2},{n:mstrmojo.desc(522,"Greater than or equal to"),v:3},{n:mstrmojo.desc(523,"Less than"),v:4},{n:mstrmojo.desc(524,"Less than or equal to"),v:5},{n:mstrmojo.desc(696,"Between"),v:6},{n:mstrmojo.desc(746,"Not between"),v:7},{n:mstrmojo.desc(587,"In"),v:8},{n:mstrmojo.desc(2204,"Not In"),v:9},{n:mstrmojo.desc(2202,"Is null"),v:10},{n:mstrmojo.desc(2203,"Is not null"),v:11}],RANK_OP_NAMES:[{n:mstrmojo.desc(529,"Highest"),v:1},{n:mstrmojo.desc(530,"Lowest"),v:2},{n:mstrmojo.desc(4407,"Highest %"),v:3},{n:mstrmojo.desc(4406,"Lowest %"),v:4}],Q:{_G:0,_RT:1,_RB:2,_PT:3,_PB:4},MRPFN:{TOP:1,BOTTOM:2,BETWEEN:3,EXCLUDETOP:4,EXCLUDEBOTTOM:5,NOTBETWEEN:6,EQUALS:7,DIFFERENTFROM:8,EQUALSDESCENDING:15,NOTEQUALSDESCENDING:16,GREATERTHANDESCENDING:4,GREATERTHANEQUALSDESCENDING:18,LESSTHANDESCENDING:20,LESSTHANEQUALSDESCENDING:1,BETWEENDESCENDING:13,NOTBETWEENDESCENDING:14,INDESCENDING:22,NOTINDESCENDING:24,EQUALSASCENDING:7,NOTEQUALSASCENDING:8,GREATERTHANASCENDING:5,GREATERTHANEQUALSASCENDING:17,LESSTHANASCENDING:19,LESSTHANEQUALSASCENDING:2,BETWEENASCENDING:3,NOTBETWEENASCENDING:6,INASCENDING:21,NOTINASCENDING:23},FN:{EQUALS:6,NOTEQUALS:7,GREATERTHAN:8,GREATERTHANEQUALS:10,LESSTHAN:9,LESSTHANEQUALS:11,BETWEEN:17,NOTBETWEEN:44,ISNULL:54,ISNOTNULL:55,IN:22,NOTIN:57,CONTAINS:76,NOTCONTAINS:79,BEGINSWITH:77,NOTBEGINSWITH:80,ENDSWITH:78,NOTENDSWITH:81,LIKE:18,NOTLIKE:43,AND:19,OR:20,NOT:21,RANK:23,RANKPERCENT:59,TUPLE:1000},F:[[6,7,8,10,9,11,17,44,22,57,54,55],[15,16,4,18,20,1,13,14,22,24],[7,8,5,17,19,2,3,6,21,23]],EnumNumberCategory:{Default:-2,Fixed:0,Currency:1,Date:2,Time:3,Percentage:4,Fraction:5,Scientific:6,Custom:7,Special:8,General:9,FromGrid:10},typeHelperCls:{0:"MetricValueSliderHelper",defaultCls:"MetricRankSliderHelper"},ErrorType:{_GENERIC:mstrmojo.desc(11689,"Invalid Number"),_RANK:mstrmojo.desc(11856,"Please enter value between ## and ###.")},ErrorCode:{EmptyValue:"emptyValueVIWarning",InvalidValue:"invalidValueVIWarning",OutOfRange:"outOfRangeVIWarning",NotInteger:"notIntegerVIWarning"},getQuaByFunc:function(L,M){var I=this.F,H=this.Q,K=H._G,J=function(N){return C.indexOf(I[1],N)!==-1
	}
	if(J(L)){K=(M===this._RANK)?H._RT:H._PT
	}else{K=(M===this._RANK)?H._RB:H._PB
	}return K
	},getFuncInfo:function(K,L){var J={},I=this.Q,H=this.F
	J[I._G]={ft:this._GENERIC,f:H[0][K]}
	J[I._RT]={ft:this._RANK,f:H[1][K]}
	J[I._RB]={ft:this._RANK,f:H[2][K]}
	J[I._PT]={ft:this._PERCENT,f:H[1][K]}
	J[I._PB]={ft:this._PERCENT,f:H[2][K]}
	return J[L]||{}
	},getOpIdxByfunc:function(J,K){if(!J||!K){return -1
	}var H=this.F,I=-1
	switch(K){case this._GENERIC:I=C.indexOf(H[0],J)
	break
	case this._RANK:case this._PERCENT:I=C.indexOf(H[1],J)
	if(I===-1){I=C.indexOf(H[2],J)
	}break
	}return I
	},getIncludeByOp:function(I){var H=this.OP
	return I===H._EQUALS||I===H._GREATER_EQUAL||I===H._LESS_EQUAL||I===H._BETWEEN||I===H._IN
	},formatNumber:function(J,L,I){var M,K=this.Q,N=I.fm,H=I.cat
	if(!B.validateFormat(N)){N="#,##0.00
	(#,##0.00)"
	}if(J===K._G){M=(N)?B.formatByMask(N,L):B.format(I.cat,I.dp,I.curr,L)
	}else{if(J===K._RB||J===K._RT){M=String(parseInt(L,10))
	}else{if(J===K._PB||J===K._PT){M=parseFloat(L)+"%"
	}}}if((H===E.Fixed||H===E.Currency||H===E.Percentage)&&L<0&&!F.startsWith(M,"(")&&!F.startsWith(M,"-")){M="-"+M
	}return M
	},doValidation:function(U,L,P,N){var O=L.qua,R=L.low,K=L.high,M=this.Q,W=O===M._RT||O===M._RB,H=O===M._PT||O===M._PB,S="",J,I=this.ErrorCode
	if(F.isEmpty(U)){S=I.EmptyValue
	}else{if(!(B.isNumeric(U)||(H&&String(U).match(/^\d+(\.\d+)?%$/))||(N&&!H&&B.isBigDecimal(U)))){S=I.InvalidValue
	}else{if((O===M._PT||O===M._PB)&&B.inNumericRange(parseFloat(U),R,K)){S=I.OutOfRange
	J=H?["0","100%"]:[R,K]
	}else{if(W&&(!B.isInt(U)||B.parseInteger(U,10)<0)){S=I.NotInteger
	}}}}return G.copy(P,{invalid:!!S,errorCode:S,args:J||[]})
	},restoreMetricSelectorProps:function D(I,H){if(!I||!H){return 
	}G.copyProps(["max","min","cnt","dt","nov"],H,I)
	},restoreMetricSelectorSelections:function A(I,H){if(!I||!H){return 
	}G.copyProps(["f","ft","cs"],H,I)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.locales","mstrmojo.expr","mstrmojo.date","mstrmojo.num","mstrmojo.string")
	mstrmojo.validation={STATUSCODE:{UNKNOWN:-1,VALID:0,INVALID:1,INVALID_EMPTY:2,INVALID_CHAR:3,INVALID_OUTOFRANGE:4,INVALID_REGEX:5,INVALID_VALIDATOR:6,INVALID_BAD_NUMERICFORMAT:7,INVALID_BAD_DATESTRING:8},TRIGGER:{NONE:0,ONBLUR:1,ONKEYUP:2,VALUESET:4,ALL:7},REGEXP:{US_ZIP:/^\d{5}([\- ]?\d{4})?$/,EMAIL_ADDRESS:/^([a-zA-Z0-9_\.\-])+@(([a-zA-Z0-9\-])+[\.])+([a-zA-Z0-9]{2,4})+$/,SOCIAL_SECURITY_NUMBER:/^((?!000)(?!666)\d{3})(\s|\-)?((?!00)\d{2})\2((?!0000)\d{4})$/,PHONE_NUMBER:/^(?!-)[ \d\-\(\)\.\+]+$/,FILE_NAME:new RegExp('^[^:*?"<>|/\\\\()]+$'),FOLDER_PATH_WIN:new RegExp('^([a-zA-Z]:|\\\\\\\\[^:*?"<>|/\\\\]+|[^:*?"<>|/\\\\]*)(\\\\[^:*?"<>|/\\\\]+)*(\\\\){0,1}$'),FOLDER_PATH_UNIX:new RegExp('^(/){0,1}([^:*?"<>|/\\\\]+/)*([^:*?"<>|/\\\\]+){0,1}$'),PRINTER_PATH_SINGLE:new RegExp('^[^$%:*?"<>|/\\\\]*$'),PRINTER_PATH_MULTIPLE:new RegExp('^((/|\\\\\\\\)[^$%:*?"<>|/\\\\]+)((/|\\\\)[^$%:*?"<>|/\\\\]+)*(/|\\\\){0,1}$')}}
	var J=mstrmojo.validation,C=J.TRIGGER,g=J.STATUSCODE,B={"-1":-1,1:1,2:1,3:2,4:2,5:2,6:2,7:2,8:3,9:3,10:3,11:4,12:4,13:4,14:6,15:6,16:6,17:3,18:3,21:2,22:2,23:3,24:4,25:3,30:5,34:5,49:7}
	J.VALIDATOR={DEMO:function Q(k){var j=parseInt(k,10),l=mstrmojo.validation.STATUSCODE
	if(j===0||j===1||j>10){return{code:l.VALID}
	}return{code:l.INVALID,msg:"This field must be either 0, 1 or greater than 10"}
	},VALIDATE_PHONENO:function L(j){var k=String(j).replace(/[^\d]/g,"")
	if(k.length<10){return{code:g.INVALID,msg:mstrmojo.desc(9203,"A telephone number must contain at least 10 digits.")}
	}if(!J.REGEXP.PHONE_NUMBER.test(j)){return{code:g.INVALID,msg:mstrmojo.desc(9204,"The telephone number contains invalid characters.")}
	}return{code:g.VALID}
	},VALIDATE_ZIPCODE:function I(j){var l="",k=this.dtp
	if(!J.REGEXP.US_ZIP.test(j)){if(J.isNumeric(k)||J.isInt(k)){l=mstrmojo.desc(9208,"A zip code must be 5 digits or 5+4 digits.")
	}else{if(J.isString(k)){l=mstrmojo.desc(9206,"The zip code is invalid")
	}}return{code:g.INVALID,msg:l}
	}return{code:g.VALID}
	},VALIDATE_EMAIL:function Y(j){var k=j.indexOf("@")
	if(k===-1){return{code:g.INVALID,msg:mstrmojo.desc(9197,"The email address is missing an at sign (@).")}
	}if(j.substring(k).indexOf(".")===-1){return{code:g.INVALID,msg:mstrmojo.desc(9198,"The email address is missing a period on the domain.")}
	}return J.REGEXP.EMAIL_ADDRESS.test(j)?{code:g.VALID}:{code:g.INVALID,msg:mstrmojo.desc(9207,"The email address is invalid.")}
	},VALIDATE_SSN:function U(j){var l=this.dtp,k
	if(J.isNumeric(l)||J.isInt(l)){k=String(j).replace(/[^\d]/g,"")
	if(k.length!==9){return{code:g.INVALID,msg:mstrmojo.desc(9209,"A Social Security Number must be 9 digits.")}
	}}if(!J.REGEXP.SOCIAL_SECURITY_NUMBER.test(j)){return{code:g.INVALID,msg:mstrmojo.desc(9210,"The Social Security Number is invalid.")}
	}return{code:g.VALID}
	}}
	J.isInt=function F(j){return B[j]===1
	}
	J.isNumeric=function d(j){return B[j]===2||B[j]===5
	}
	J.isEnhNumeric=function K(j){return B[j]===7
	}
	J.isString=function M(j){return B[j]===3
	}
	J.isDateTime=function A(j){return B[j]===6
	}
	var E=window.mstrConfig,P=E.listSep,X=mstrmojo.expr,O=X.DTP,e=mstrmojo.num,Z=mstrmojo.string,H=mstrmojo.date
	function S(r,t){var o=r.dtp,q=r.constraints,w=q.allowedFormatChars||"",m=J.isInt(o),j=J.isNumeric(o),n=J.isEnhNumeric(o),k=J.isDateTime(o),u=mstrmojo.locales.number.THOUSANDSEPARATOR,l=mstrmojo.locales.number.DECIMALSEPARATOR,p
	if(m){if(!r._intRegExp){w+="0-9-"+(r.isList?P:"")+u
	r._intRegExp=new RegExp("[^"+w+"]")
	}p=r._intRegExp
	}if(j){if(!r._numericRegExp){w+="0-9-#"+(r.isList?P:"")+l+u
	r._numericRegExp=new RegExp("[^"+w+"]")
	}p=r._numericRegExp
	}if(n){if(!r._percentageRegExp){w+="0-9-#"+(r.isList?P:"")+l+u+"%"
	r._percentageRegExp=new RegExp("[^"+w+"]")
	}p=r._percentageRegExp
	}return !!p&&p.test(t)
	}function h(t,w){var p=t.dtp,r=t.constraints,m=J.isInt(p),j=J.isNumeric(p),n=J.isEnhNumeric(p),k=J.isDateTime(p),l=r.min,u=r.max,q
	if(l===undefined&&u===undefined){return false
	}if(m||j){if(e.isBigDecimal(w)){return e.inNumericRange(e.parseBigDecimal(w),l,u)!==0
	}return e.inNumericRange(w,l,u)!==0
	}if(k){return H.inDateTimeRange(w,l,u)!==0
	}if(n){var o=e.toLocaleString(e.parseEnhNumeric(w))
	l=e.parseEnhNumeric(e.toLocaleString(l))
	u=e.parseEnhNumeric(e.toLocaleString(u))
	return e.inNumericRange(o,l,u)!==0
	}return false
	}function N(k,j){return !e.isNumeric(j)&&!e.isBigDecimal(j)
	}function D(k,j){return !e.isNumeric(j,true)
	}function W(m,k){var l=(m.dtp===O.DATE),j=(m.dtp===O.TIME)
	return(l?!H.isDate(k):(j?!H.isTime(k):!H.isDateAndOrTime(k)))
	}mstrmojo._CanValidate=mstrmojo.provide("mstrmojo._CanValidate",{constraints:null,required:false,dtp:O.INTEGER,isList:false,autoFormat:false,validationStatus:null,init:function b(j){this._super(j)
	if(!this.constraints){this.constraints={}
	}var k=this.constraints
	if(!k.hasOwnProperty("trigger")){k.trigger=C.NONE
	}},_set_value:function(p,l){var m=this.value,k=(m!==l)
	if(k){this.value=l
	var o=this.constraints.trigger,j=(o&C.VALUESET)>0
	if(j){this.validate(l)
	}}return k
	},validate:function R(){var l=(this.value!==null&&this.value!==undefined)?this.value:"",o=this.isList?l.split(P):[l],n,k,p,j=o.length,m
	for(m=0
	m<j
	m++){n=this.doValidation(o[m])
	k=(n.code>g.VALID)
	if(k){if(j>1){n.msg=mstrmojo.locales.validation.invalidValueInListError.replace("#",o[m]||" ")
	}break
	}}p=k?"onInvalid":"onValid"
	if(!k&&this.autoFormat){this.format()
	}this.set("validationStatus",n)
	if(this[p]){this[p](n)
	}},format:function c(){var o=this.dtp,l=J.isDateTime(o)
	if(!l){return 
	}var q=mstrConfig.listSep,u=this.value||"",k=this.isList?u.split(q):[u],t=o===14,r=[],j,m=mstrmojo.locales.datetime,p=k.length,n
	for(n=0
	n<p
	n++){u=k[n]
	j=H.parseDateAndOrTime(u)
	if(j){if(t&&j.date){r.push(H.formatDateInfo(j.date,m.DATEOUTPUTFORMAT))
	}else{r.push((j.date?H.formatDateInfo(j.date,m.DATEOUTPUTFORMAT):"")+" "+(j.time?H.formatTimeInfo(j.time,m.TIMEOUTPUTFORMAT):""))
	}}}this.set("value",r.join(q))
	},isValid:function a(){var j=this.validationStatus
	if(!j){this.validate()
	}return this.validationStatus.code===g.VALID
	},clearValidation:function f(){this.set("validationStatus",{code:g.VALID})
	if(this.onClearValidation){this.onClearValidation()
	}},doValidation:function G(AA){var w=this.constraints,x=w.regExp,l=w.validator,j={id:this.id,code:g.VALID,msg:""},u=this.dtp,q=J.isInt(u),k=J.isNumeric(u),t=J.isEnhNumeric(u),m=J.isString(u),n=J.isDateTime(u),p=Z.isEmpty(AA),z=String(AA).length,o="",AC=mstrmojo.locales.validation
	if(this.required&&p){j.code=g.INVALID_EMPTY
	j.msg=AC.requiredFieldError
	return j
	}AA=Z.trim(AA)
	if(!p&&S(this,AA)){if(q){o=AC.integerDataType
	}if(k){o=AC.numericDataType
	}if(n){o=AC.dateDataType
	}j.code=g.INVALID_CHAR
	j.msg=AC.invalidCharError.replace("#",o)
	return j
	}if(!p&&n&&W(this,AA)){j.code=g.INVALID_BAD_DATESTRING
	j.msg=AC.invalidDateStringError
	return j
	}if(!p&&(k||q)&&N(this,AA)){j.code=g.INVALID_BAD_NUMERICFORMAT
	j.msg=AC.invalidNumericFormatError
	return j
	}if(!p&&t&&D(this,AA)){j.code=g.INVALID_BAD_NUMERICFORMAT
	j.msg=AC.invalidNumericFormatError
	return j
	}if(!p&&(q||k||n||t)&&h(this,AA)){j.code=g.INVALID_OUTOFRANGE
	if(w.min!==null&&w.max!==null){o=AC.outofRangeError.replace("# ","").replace("##",e.toLocaleString(w.min)).replace("###",e.toLocaleString(w.max))
	}else{if(w.min!==null){o=AC.noLessMinError.replace("##",e.toLocaleString(w.min)).replace("# ","")
	}else{if(w.max!==null){o=AC.noGreaterMaxError.replace("###",e.toLocaleString(w.max)).replace("# ","")
	}}}j.msg=o
	return j
	}if(m&&w.minLen!==null&&w.maxLen!==null){if(z<w.minLen||z>w.maxLen){j.code=g.INVALID
	j.msg=mstrmojo.desc(9211).replace(/#/,w.minLen).replace(/##/,w.maxLen)
	return j
	}}if(x&&!x.test(AA)){j.code=g.INVALID_REGEX
	j.msg=mstrmojo.desc(9205)
	return j
	}var AB=l&&l.apply(this,[AA])
	if(AB){j.code=AB.code
	j.msg=AB.msg
	return j
	}return j
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.expr")
	var H=mstrmojo.array,J=mstrmojo.hash,N=mstrmojo.expr,S=N.TP,P=N.STP,L=4,I=12,E="-1"
	mstrmojo.vi.ui.rw.xtab._SupportXtabThresholds=mstrmojo.provide("mstrmojo.vi.ui.rw.xtab._SupportXtabThresholds",{_mixinName:"mstrmojo.vi.ui.rw.xtab._SupportXtabThresholds",getClearThresholdAction:function C(Y,W,X){return{act:"clearThreshold",unitId:Y,unitType:W,tid:X}
	},addClearActions:function F(Z,X,Y,a,W){X.reverse().forEach(function(b){a.push(Z.model.getClearThresholdAction(Y,W,b.tid))
	})
	},getCreateSimpleThresholdAction:function A(b,Z,W,a,Y,X){return{act:"threshold",nodeKey:Z,thresholds:b,thresholdType:a,basedOnId:Y||W,did:W,objType:X}
	},getThresholdTargets:function O(){var X=this,Y=X.data,a=Y.gsi,W=J.clone(a.mx),Z=a.rows.concat(a.cols)
	W.forEach(function(b){b.t=4
	})
	Z=Z.concat(W).filter(function(d){var b=d.t,e=d.st,c=d.did
	return !((b===S.FILTER&&e===P.CUSTOMGROUP)||(b===S.CONS&&e===P.CONS)||(X.hasDerivedElements(c))||(c===E)||(b===S.DIM))
	})
	return Z
	},cleanupThresholdTargets:function Q(W){W.forEach(function(Z){var Y
	if(Z.t===I){Y=this.getObjectInfo(Z.did)
	Z.da=Y?Y.da:undefined
	}else{if(Z.t===S.CONS&&Z.st===P.NDE){Y=this.getObjectInfo(Z.did)
	Z.ndetype=Y.ndetype
	}else{if(Z.t===L){var X=this.getFullObjectInfo(Z.did)
	Z.dt=X&&X.dt
	}}}},this)
	},getThresholdSupportsFeatureCallback:function D(W,b,a){var Y=mstrmojo.threshold.ThresholdModel.FEATURES,X=this
	a=a||{}
	return function Z(e){switch(e){case Y.SHOW_ADVANCED_EDITOR:return !W
	case Y.SHOW_BASED_ON:return !W
	case Y.SHOW_IMAGE:return b
	case Y.SHOW_COLOR_TREND:return a.canSupportColorTrend
	case Y.SHOW_MC_ADVANCED_EDITOR:return a.canShowMCAdvancedEditor
	case Y.SHOW_VALUE_ITEM:var d=X.getFullObjectInfo(this.model.basedOnId),f=d&&d.dt,c=[8,9,10,14,15,16,30]
	return !f||c.indexOf(f)===-1
	}}
	},getThresholdSubmitActionsCallback:function B(){var W=this,X=W.xtab
	return function(h,a,Z,b,f,g,Y){var e=this,d=X.k,c=[]
	if(a){W.addClearActions(X,a,Z,c,Y)
	}c.push(W.getCreateSimpleThresholdAction(h,d,Z,f,b,Y))
	X.controller.submitUndoRedoTemplateUpdates(X,c,{success:function(){if(g){e.set("data",W.data)
	e.openEditor()
	g=false
	}}})
	}
	},getThresholdSaveCallback:function G(){return function(Y,W,X,a,Z){this.dataService.saveThresholds(J.copy(a,{thresholds:JSON.stringify(Y),basedOnId:W,thresholdType:X}),Z,{hideFailureErr:true})
	}
	},getThresholdLoadCallback:function M(){var W=this
	return function(Y,Z){var X=this.model
	this.dataService.getThresholds({thresholdsID:Z},{success:function(f){var e=f.thresholds,b=[],a,g,d={}
	H.forEach(e||[],function(h){a=N.findTargets(h.expr,"did")
	g=true
	J.forEach(a,function(j,k){if(!W.getObjectInfo(k)){d[k]=j.n
	g=false
	}})
	if(g){b.push(h)
	}})
	if(!J.isEmpty(d)){var c=J.valarray(d)
	mstrmojo.alert(mstrmojo.desc(15431,"The following objects: # are not on the visualization, so some thresholds will not be loaded...").replace("#",c.join(",")))
	}X.addThresholds(b)
	}})
	}
	},getThresholdControllerParams:function R(f,Z,d,W,a,X){var Y=this,e=Y.docModel,c=Y.data,b=f.did||f.id
	return{metricId:b,objectType:f.t,title:W,data:c,targets:a,messageId:e.mid,datasets:e.datasets,dataService:e.getDataService(),supportsFeature:this.getThresholdSupportsFeatureCallback(Z,d,X),onSubmitActions:this.getThresholdSubmitActionsCallback(),onSaveThresholds:this.getThresholdSaveCallback(),onLoadThresholds:this.getThresholdLoadCallback()}
	},openThresholdEditor:function K(Z,W,b){var a=Z.did||Z.id,X=mstrmojo.desc(3647,"Thresholds"),Y=function(){if(Z.t===L||Z.t===I){var d=this.getThresholdTargets()
	this.cleanupThresholdTargets(d)
	if(a!==E){X+=" - "+Z.n
	}var e=mstrmojo.threshold.ThresholdController
	var c=new e(this.getThresholdControllerParams(Z,W,b,X,d))
	if(Z.t===I){c.model.editorMode=mstrmojo.threshold.ThresholdModel.EDITOR_TYPES.ADVANCED_EDITOR
	}c.openEditor()
	}}.bind(this)
	mstrmojo.loader.loadBundleWithCss("mstrmojo.threshold.ThresholdController","threshold-editor.js",[mstrmojo.getJsRoot()+"mojo/css/threshold-editor.css"],Y)
	},buildThresholdMenuOptions:function U(b,X,a,h){var Z=this,k=X.item,g=k.did,W=Z.xtab,f=Z.data,j=f.gsi,Y=j.thresholds,e=Y&&Y[g],c=mstrmojo.desc(13261,"Clear Thresholds"),d=W.excludeData
	if((!d&&k.t===L)||k.t===I&&!Z.docModel.isOldDEObject(g)){b.addMenuItem(e?mstrmojo.desc(19946,"Edit Thresholds..."):mstrmojo.desc(6050,"Thresholds..."),"",function(){Z.openThresholdEditor(k,a,h)
	},this)
	if(g!==E){if(e){b.addMenuItem(c,"",function(){var l=W.controller,m=[]
	Z.addClearActions(W,e,g,m,k.t)
	l.submitUndoRedoTemplateUpdates(W,m)
	},this)
	}}}},})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.expr","mstrmojo.vi.util.TemplateUtils")
	var F=mstrmojo.array,E=mstrmojo.expr,D=E.ET,B=mstrmojo.vi.util.TemplateUtils
	function C(J,H,L){var I=L&&B.findUnitsById(L,[J.did]),G=I&&!!I.length&&I[0].n,K
	if(G&&!!G.length){return G
	}else{K=H.findUnitNameInDataSetFromUnit(J.did)
	return !!K?K:J.n
	}}mstrmojo._HasItemAliases=mstrmojo.provide("mstrmojo._HasItemAliases",{_mixinName:"mstrmojo._HasItemAliases",adjustItemName:function A(I,G,J){var H=this
	if(!I||!G){return 
	}if(I.a&&I.a2){I.a.n=C(I.a,G,J)
	I.a2.n=C(I.a2,G,J)
	}else{if(I.a){I.a.n=C(I.a,G,J)
	}else{if(I.m&&I.m2){I.m.n=C(I.m,G,J)
	I.m2.n=C(I.m2,G,J)
	}else{if(I.m){I.m.n=C(I.m,G,J)
	}else{if(I.et===D.ANDOR){F.forEach(I.nds,function(K){H.adjustItemName(K,G,J)
	})
	}else{if(I.n!==undefined&&I.did){I.n=C(I,G,J)
	}}}}}}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.string","mstrmojo.expr","mstrmojo.array","mstrmojo.hash","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo.mstr.EnumDSSConsolidationType")
	mstrmojo.requiresDescs(308,5923,7930,5282,5283,2793,2787,2788,12298)
	var D=mstrmojo.string,S=mstrmojo.expr,M=S.ET,L=mstrmojo.array,R=mstrmojo.hash
	var W=S.FN,K=S.BRANCH_FNS[W.NOT],a=mstrmojo.mstr.EnumDSSXMLObjectTypes,H=mstrmojo.mstr.EnumDSSXMLObjectSubTypes,N=mstrmojo.mstr.EnumDSSConsolidationType
	function C(b){return D.htmlAngles(b)||""
	}var A={betweenText:mstrmojo.desc(308,"and"),atText:mstrmojo.desc(5923,"at"),emptyText:mstrmojo.desc(7930,"Empty condition"),andText:mstrmojo.desc(5282,"AND"),orText:mstrmojo.desc(5283,"OR"),boldandText:"<span style='font-weight:bold
	'>"+mstrmojo.desc(5282,"AND")+"</span>",boldorText:"<span style='font-weight:bold
	'>"+mstrmojo.desc(5283,"OR")+"</span>",whereText:mstrmojo.desc(2793,"Where (##)"),notText:mstrmojo.desc(12298,"NOT")}
	var Z={"*":function(c,b){return{html:c?('<span class="mstrmojo-unknown">'+(C(c.n||c.xml)||"...")+"</span>"):null,text:c?(C(c.n||c.xml)||"..."):null}
	}}
	function X(b){return !!b.not||b.fn===W.NOT_EQUAL||b.fn===W.NOT_IN_LIST||b.fn===W.NOT_BETWEEN||b.fn===W.NOT
	}function I(b){if(b&&b.not){return{html:'<span class="mstrmojo-text mstrmojo-not">'+K+"</span>",text:K+" "}
	}return{html:"",text:""}
	}function U(d,c){var b=d&&((c?'<span class="mstrmojo-ListIcon t'+c+'"></span>':"")+'<span class="mstrmojo-text mstrmojo-embedobj">'+C(d)+"</span>")
	return{html:b,text:d&&((c?c+" ":"")+C(d))}
	}function Q(b,d){var c=d&&d.trim().split(" ")||[]
	if(b.t===a.Attribute&&b.st===H.AttributeRecursive){c.push("recursive")
	}else{if(b.t===a.Consolidation&&b.st===H.ConsolidationManaged){c.push("derived")
	if(b.ndetype===N.DssRecursiveDerivedElement){c.push("recursive")
	}}}return c.join(" ")
	}function G(c,b){var d=C(c.n)
	return{html:'<span class="mstrmojo-text mstrmojo-attr '+Q(c,b)+'">'+d+"</span>",text:d}
	}Z[M.R]=function(c,b){return U(c.r&&c.r.n,c.r&&c.r.t)
	}
	Z[M.F]=function(c,b){return U(c.f&&c.f.n,c.f&&c.f.t)
	}
	Z[M.XML]=function(c,b){return U(c.n||c.p&&c.p.n||c.xml,c.p&&c.p.t)
	}
	Z[M.AE]=function(r,g){var o=[],n=[],f=(g&&g.elemsEmpty)||"("+mstrmojo.desc(2210,"Empty")+")"
	if(r&&r.a&&r.a.n){var c=G(r.a)
	o.push(c.html)
	n.push("{"+c.text+"}")
	var b=C(S.fnName(r.et,r.fn,r.fnt))
	o.push('<span class="mstrmojo-text mstrmojo-fn">'+b+"</span>")
	n.push(" "+b+" ")
	var t=r.es,j=t&&t.length||0
	if(j){o.push('<span class="mstrmojo-elems">')
	n.push("[")
	var m=o.length,q=""
	for(var p=0
	p<j
	p++){o[m++]='<span class="mstrmojo-text mstrmojo-elem">'
	q=C(t[p].n)
	o[m++]=q
	n.push(q)
	if(p<j-1){o[m++]=", "
	n.push(", ")
	}o[m++]="</span>"
	}o[m++]="</span>"
	n.push("]")
	}else{o.push('<span class="mstrmojo-text mstrmojo-emptyelems">'+f+"</span>")
	n.push(f)
	}}return{html:o.join(""),text:n.join("")}
	}
	Z[M.AQ]=function(x,AA){var v=[],k=[]
	if(x&&x.a&&x.a.n){var f=G(x.a)
	v.push(f.html)
	k.push("{"+f.text+"}")
	if(x.fm&&x.fm.n){var AB=C(x.fm.n)
	v.push('<span class="mstrmojo-text mstrmojo-form">'+AB+"</span>")
	k.push("("+AB+")")
	if(x.fn!=null){var l=C(S.fnName(x.et,x.fn,x.fnt,x.fm.dtp))
	v.push('<span class="mstrmojo-text mstrmojo-fn">'+l+"</span>")
	k.push(" "+l+" ")
	var m=S.fnCstCount(x.fn,x.fnt)
	if(x.et===M.AC){if(m>=1){if(x.a2&&x.a2.n){var q=C(x.a2.n)
	v.push('<span class="mstrmojo-text mstrmojo-attr2">'+q+"</span>")
	k.push("{"+q+"}")
	if(x.fm2&&x.fm2.n){var w=C(x.fm2.n)
	v.push('<span class="mstrmojo-text mstrmojo-form2">'+w+"</span>")
	k.push("("+w+")")
	}}if(m>1){v.push('<span class="mstrmojo-text mstrmojo-btwn">'+A.betweenText+"</span>")
	k.push(" "+A.betweenText+" ")
	if(x.a3&&x.a3.n){var c=C(x.a3.n)
	v.push('<span class="mstrmojo-text mstrmojo-attr3">'+c+"</span>")
	k.push("{"+c+"}")
	if(x.fm3&&x.fm3.n){var e=C(x.fm3.n)
	v.push('<span class="mstrmojo-text mstrmojo-form3">'+e+"</span>")
	k.push("("+e+")")
	}}}}}else{if(x.et===M.AL){var b=x.cs||[],g=[]
	for(var r=0,u=b.length
	r<u
	r++){g.push(C(b[r].v))
	}var o=g.join(mstrConfig.listSep)
	v.push('<span class="mstrmojo-text mstrmojo-c1">'+o+"</span>")
	k.push("["+o+"]")
	}else{if(m>=1){var b=x.cs,p=b&&b[0]
	var z=C(p&&p.p&&p.p.n||p&&p.v)
	v.push('<span class="mstrmojo-text mstrmojo-c1">'+z+"</span>")
	k.push(z)
	if(m>1){var n=b&&b[1]
	v.push('<span class="mstrmojo-text mstrmojo-btwn">'+A.betweenText+"</span>")
	k.push(" "+A.betweenText+" ")
	var j=C(n&&n.p&&n.p.n||n&&n.v)
	v.push('<span class="mstrmojo-text mstrmojo-c1">'+j+"</span>")
	k.push(j)
	}}}}}}}return{html:v.join(""),text:k.join("")}
	}
	Z[M.AC]=Z[M.AQ]
	Z[M.AL]=Z[M.AQ]
	Z[M.MQ]=function(AA,AB){var z=[],o=[],t=AA&&AA.m,AD=t&&t.n
	if(AD){var c=AA.fnt,j=S.FNT.PER,x=S.FNT.RANK
	AD=c===j?mstrmojo.desc(2787,"Percentage of ##").replace("##",AD):c===x?mstrmojo.desc(2788,"Rank of ##").replace("##",AD):AD
	z.push('<span class="mstrmojo-text mstrmojo-metric">'+C(AD)+"</span>")
	o.push(C(AD))
	if(AA.fn!=null){var p=C(S.fnName(AA.et,AA.fn,c,S.DTP.REAL))
	z.push('<span class="mstrmojo-text mstrmojo-fn">'+p+"</span>")
	o.push(" "+p+" ")
	var q=S.fnCstCount(AA.fn,c)
	if(AA.et==S.ET.MC){if(q>=1){var AC=(AA.m2&&AA.m2.n)||(AA.c2&&AA.c2.v)||"?"
	z.push('<span class="mstrmojo-text mstrmojo-m2">'+C(AC)+"</span>")
	o.push(C(AC))
	if(q>1){z.push('<span class="mstrmojo-text mstrmojo-btwn">'+A.betweenText+"</span>")
	o.push(" "+A.betweenText+" ")
	var f=(AA.m3&&AA.m3.n)||(AA.c3&&AA.c3.v)||"?"
	z.push('<span class="mstrmojo-text mstrmojo-m3">'+C(f)+"</span>")
	o.push(C(f))
	}}}else{if(q>=1){var e=AA.cs,v=e&&e[0]
	var b=function(h){var d=h.v
	if(AA.fnt==j){if(d.replace){h.v=d.replace(/%$/,"")
	}d=h.v+"%"
	}return d
	}
	var m=C(v&&v.p&&v.p.n||v&&v.v&&b(v))
	z.push('<span class="mstrmojo-text mstrmojo-c1">'+m+"</span>")
	o.push(m)
	if(q>1){var r=e&&e[1],n=C(r&&r.p&&r.p.n||r&&r.v&&b(r))
	z.push('<span class="mstrmojo-text mstrmojo-btwn">'+A.betweenText+"</span>")
	o.push(" "+A.betweenText+" ")
	z.push('<span class="mstrmojo-text mstrmojo-c2">'+n+"</span>")
	o.push(n)
	}}}var w=AA.dmy&&AA.dmy.uts,l=w&&w.length
	if(l){z.push('<span class="mstrmojo-text mstrmojo-at">'+A.atText+"</span>")
	o.push(" "+A.atText+" ")
	z.push('<span class="mstrmojo-dmy">')
	for(var k=0
	k<l
	k++){var g=w[k]
	z.push('<span class="mstrmojo-text mstrmojo-dmyunit">')
	z.push(C(g.utgt?g.utgt.n:g.n))
	o.push(C(g.utgt?g.utgt.n:g.n))
	if(k<l-1){z.push(",")
	o.push(",")
	}z.push("</span>")
	}z.push("</span>")
	}}}return{html:z.join(""),text:o.join("")}
	}
	Z[M.MC]=Z[M.MQ]
	Z[M.ANDOR]=function(m,e){var k=[],j=[],c=(e&&e.elemsEmpty)||"("+mstrmojo.desc(2210,"Empty")+")",f=R.valarray(S.findTargets(m,"did"))[0],g=true
	function n(d){if(!g){k.push('<span class="spliter"></span>')
	j.push(", ")
	}g=false
	if(d){j.push(mstrmojo.desc(12298,"NOT")+" ")
	}}if(!f){return{html:'<span class="mstrmojo-text mstrmojo-emptyelems">'+c+"</span>",text:c}
	}var b=G(f,"andor")
	k.push(b.html)
	j.push("{"+b.text+"}")
	k.push("<span>:</span>")
	j.push(" : ")
	k.push('<span class="mstrmojo-elems">')
	j.push("[")
	L.forEach(m.nds,function l(o){if(!o){return 
	}var d=X(o),v=o.fm,r=o.cs,p,t,h,q
	switch(o.et){case M.ANDOR:L.forEach(o.nds,l)
	break
	case M.AE:switch(o.fn){case W.IN_LIST:case W.NOT_IN_LIST:L.forEach(o.es,function(w){n(d)
	p=d?" not":""
	t=C(w.n)
	k.push('<span class="mstrmojo-text mstrmojo-elem single'+p+'">'+t+"</span>")
	j.push(t)
	})
	break
	case W.DESCENDANT:var u=(o.es||[]).slice()
	if(u.length===0){u.push({n:c})
	}L.forEach(u,function(x){n(d)
	p=d?" not":""
	t=C(x.n)
	if(r&&r[0]){var w
	q=r[0].v
	if(isNaN(q)){h=q.substr(q.indexOf("
	")+1)
	}else{h=mstrmojo.desc(493,"Level")+" "+(parseInt(q,10)+1)
	}w=h+" "+mstrmojo.desc(12853,"of")+" "+t
	k.push('<span class="mstrmojo-text mstrmojo-elem level'+p+'">')
	k.push(w)
	j.push(w)
	}else{k.push('<span class="mstrmojo-text mstrmojo-elem descendant'+p+'">')
	k.push(C(x.n))
	j.push(t)
	}k.push("</span>")
	})
	break
	}break
	case M.AQ:L.forEach(o.cs,function(w){n(d)
	p=d?" not":""
	q=w.v
	h=(v&&v.n)?C(v.n+" "+q):""
	if(v&&v.n==="LEVEL_NUMBER"){p+=" level"
	if(isNaN(q)){h=q.substr(q.indexOf("
	")+1)
	}else{h=mstrmojo.desc(493,"Level")+" "+(parseInt(q,10)+1)
	}}k.push('<span class="mstrmojo-text mstrmojo-elem constant'+p+'">'+h+"</span>")
	j.push(h)
	})
	break
	}})
	k.push("</span>")
	j.push("]")
	return{html:k.join(""),text:j.join("")}
	}
	function O(g,f){var d=Z[g&&g.et]||Z["*"],c=I(g),e=d&&d(g,f),b=f&&f.emptyText||A.emptyText
	return{html:c&&c.html+((e&&e.html)||('<span class="mstrmojo-text empty-cond">'+b+"</span>")),text:c&&c.text+((e&&e.text)||b)}
	}function F(b){return O(b).text
	}function J(g,f,d){if(!g){return null
	}var q=g.et,n=g.fn,c=g.nds
	if(q===M.ANDOR){var r=d?"bold":"",b=n===W.AND?A[r+"andText"]:(n===W.OR?A[r+"orText"]:"")
	c=[].concat(c)
	if(c.length<1){return null
	}var m=[],t
	L.forEach(c,function(u){t=J(u,false,d)
	if(t){m.push(t)
	}})
	var p,o=m.length
	if(o<1){return null
	}else{if(o===1){p=m[0]
	}else{p=m.join(" "+b+" ")
	}}p=f||g.not?p:"("+p+")"
	return g.not?A.notText+" "+p:p
	}else{if(q===M.RLS){var l=g.dmy&&g.dmy.uts||[],j=[],h
	L.forEach(l,function(u){j.push("{"+u.n+"}")
	})
	h=j.join(", ")
	var e=g.nds&&g.nds[0],k=J(e,false,d)
	if(k){return"("+h+" "+A.whereText.replace(/\(##\)/g,"").replace(/'##'/g,"")+k+")"
	}return null
	}else{return F(g)
	}}}function B(b){if(mstrmojo.fe.FilterUtils.isExprEmpty(b)){return{et:14,fn:19}
	}else{((b&&b.nds)||[]).forEach(function(d,c){b.nds[c]=B(d)
	})
	return b
	}}mstrmojo.fe.FilterUtils=mstrmojo.provide("mstrmojo.fe.FilterUtils",{getExprXml:function(h){var c="<exp>",b="</exp>",f={a:true,a2:true,a3:true,agg:true,cc:true,ce:true,cgp:true,cs:true,conid:true,desc:true,did:true,attId:true,dmt:true,dmy:true,dtp:true,es:true,et:true,expr:true,f:true,flat:true,flt:true,fm:true,fm2:true,fm3:true,fn:true,fnt:true,fres:true,gb:true,isp:true,items:true,m:true,m2:true,m3:true,n:true,nds:true,not:true,pf:true,p:true,r:true,rps:true,st:true,t:true,utgt:true,utp:true,uts:true,v:true,xml:true,relation:true,applySubExpr:true,useSchema:true,guide:true,rsTp:true,joTp:true,paTp:true,erTp:true,exp:true,joAttrs:true,ph:true,idx:true,idc:true,idcsi:true,ucfg:true,node:true},e={getArrItemName:function(j){return j.substr(0,j.length-1)
	},isSerializable:function(u,r,q){if(u==="xml"){var l=r[q].xml
	return{att:'hasXML = "-1"',child:l}
	}else{if(mstrmojo.array.indexOf(["header_format","grid_format","child_header_format","child_grid_format"],u)>-1){var v=r[q][u]
	if(!v){return{}
	}var n="<"+u+">"
	for(var t in v){n+="<prs n='"+t+"'>"
	var m=v[t]
	for(var j in m){var p=m[j]
	n+="<pr n='"+j+"' v='"+(p==="pru"?"":p)+"'"
	n+=p==="pru"?' pru="1"':""
	n+="/>"
	}n+="</prs>"
	}n+="</"+u+">"
	return{child:n}
	}else{if(u==="cs"){var k=r[q],o=r[q][u]
	if(k&&k.fnt&&k.fnt==S.FNT.PER&&o){if(o[0]){o[0].v+="%"
	}if(o[1]){o[1].v+="%"
	}}return true
	}else{if(u==="c2"||u==="c3"){var k=r[q]
	if(k&&k.et==S.ET.MC&&(k.fn==S.FN.BETWEEN||k.fn==S.FN.NOT_BETWEEN)){return true
	}else{return false
	}}}}}return(f[u])?true:false
	},skipNull:true},d=B(h)
	if(!d||d.et!=M.ANDOR||d.fn===W.NOT||d.not){d={et:M.ANDOR,fn:S.FN.AND,nds:d?[d]:[]}
	}var g=D.json2xml("nd",[{},d],e)
	return c+g+b
	},isExprEmpty:function(b){return(!b||(b.et===M.ANDOR&&(b.nds||[]).length<1))
	},getExprConditionNodeHtml:function E(b){return O(b).html
	},getExprConditionNodeText:function F(b){return O(b).text
	},getExprNodeHtmlAndText:function P(c,b){return O(c,b)
	},getExprText:function Y(c,b){return J(c,true,b)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.expr","mstrmojo.func","mstrmojo.css","mstrmojo.UUID","mstrmojo.fe.FilterUtils","mstrmojo.desc")
	var Q=mstrmojo.func,L=mstrmojo.hash,J=mstrmojo.array,N=mstrmojo.expr,U=mstrmojo.css,R=N.DTP,F=mstrmojo.UUID,W=mstrmojo.fe.FilterUtils,U=mstrmojo.css
	var H=16,E=32
	function O(b,a,d){var Y=L.copyProps(["did","t","st","n"],b),Z=(b.fs||[]).filter(function(e){return e.fnm==="LEVEL_NUMBER"||e.n==="LEVEL_NUMBER"
	})[0],c
	if(a){c={et:N.ET.AE,fn:N.FN.DESCENDANT,a:Y,es:[{v:a.v,n:a.n}]}
	if(parseInt(d,10)>=a.lv){c.cs=[{v:d-a.lv,dtp:R.INTEGER},{v:2,dtp:R.INTEGER}]
	}}else{if(parseInt(d,10)>=0&&Z){c={et:N.ET.AQ,fn:N.FN.EQUAL,a:Y,fm:{did:Z.did||Z.fid,n:Z.n||Z.fnm,dtp:R.INTEGER},cs:[{v:d,dtp:R.INTEGER}]}
	}}return c?W.getExprXml(c):""
	}mstrmojo.ui._IsIncFetchHierarchyList=mstrmojo.provide("mstrmojo.ui._IsIncFetchHierarchyList",{_mixinName:"mstrmojo.ui._IsIncFetchHierarchyList",blockCount:500,getDataHelper:mstrmojo.emptyFn,getAttribute:mstrmojo.emptyFn,isHiearachyDisplay:mstrmojo.emptyFn,getItemMarkup:function C(a,Y){var Z
	if(a.fetcher){Z='<{@tag} class="item fetcher {@cls}" idx="{@idx}" style="{@style}"><span class="indent" style="padding-left: {@indent}px
	"></span><span class="text">{@en@n}</span></{@tag}>'
	}else{Z=this._super(a,Y)
	}return Z
	},isFetcher:function K(Y){if(Y instanceof HTMLElement){Y=this.getItemFromTarget(Y)
	}return Y&&Y.fetcher
	},fetchItems:function I(Y,Z){this._super(Y,Q.wrapMethods(this.getFetchItemsCallback(Y),Z))
	},fetchItemsThroughTaskCall:function P(c,h){var b=this.getDataHelper(),a=this.getAttribute()
	if(b&&a&&!this.isFetching){this.set("isFetching",true)
	var e=this,f=c.branch,Y=parseInt(c.level,10),d=c.blockBegin||1,g=c.blockCount||this.blockCount,Z=c.browseFlags||0
	b.set("browseConfig",L.copy({blockBegin:d,blockCount:g,browseFlags:Z,expressionXML:(f||Y>=0)?O(a,f,Y):"",otp:a.t,compress:1},L.copy(b.browseConfig)))
	b.getItems(d,Q.wrapMethods({success:function(j){if(j){L.copy({bb:d,bc:g},j)
	J.forEach(j.es,function(k){if(!k.pid&&k.pi>-1){k.pid=j.es[k.pi].v
	delete k.pi
	}L.copy({lv:k.lv||0,hcd:!!k.hcd,hid:!!k.hid,dhid:!!k.hid,pid:k.pid||""},k)
	})
	}}},h,{complete:function(j){e.set("isFetching",false)
	}}),{hideFailureErr:h.failure})
	}},getFlatDisplayItems:function B(Y){return Y.filter(function(Z){var a=Z.fhid
	delete Z.fhid
	return !a
	})
	},getFetchItemsCallback:function M(b){var a=this,Z=b.branch,c=parseInt(b.level,10),Y=this.isHiearachyDisplay()
	return{success:function(d){if(d&&d.es){var f=d.es,e=d.bb+d.bc-1
	if(d.sz>e&&!d.raad){f.push({v:"fetcher"+F.create(),n:mstrmojo.desc(1005,"More..."),fetcher:true,lv:Y?(c>=0?c:(Z?Z.lv+1:0)):-1,config:L.copy({blockBegin:e+1},L.copy(b))})
	}if(!Y){f.forEach(function(h){var j=h.hid,g=a.getItemByValue(h.v)
	delete h.epd
	delete h.hid
	if(g){delete h.hcd
	}L.copy({fhid:j,dhid:!g||g.dhid},h)
	})
	}if(a.setDisplayParent){a.setDisplayParent(f,null,true)
	}}}}
	},getMaxLevel:function A(){var Y=this.getAttribute(),Z=(Y&&Y.lvfs||[]).length
	if(Z>0){return Z-1
	}return this._super?this._super():0
	},getLevels:function D(){var Y=this.getAttribute(),a=Y&&Y.lvfs||[],Z
	return a.map(function(c,b){Z=parseInt(c.lv)
	return{v:(Z===0)?0:(Z||b),n:c.lvfn}
	})
	},initElements:function S(d){if(this.isHiearachyDisplay()){delete this.displayRoots
	var a=this.getItems(),Z=a.length,c,Y
	if(Z>0){if(this.raad){for(var b=Z-1
	b>-1
	b--){c=a[b]
	if(c.fetcher&&c.fake){c.hid=true
	Y=J.find(c.parent&&c.parent.children,"idx",c.idx)
	if(Y>-1){c.parent.children.splice(Y,1)
	}Y=J.find(c.displayParent&&c.displayParent.displayChildren,"idx",c.idx)
	if(Y>-1){c.displayParent.displayChildren.splice(Y,1)
	}}}}this.refresh()
	}else{this.fetchItems({browseFlags:E},d)
	}}else{this.clearItemsNode()
	this.fetchItems({blockCount:500,browseFlags:H},d)
	}},clearItemsNode:function G(){var Y=this.itemsContainerNode
	if(Y){Y.innerText=""
	this.updateScrollbars()
	}},onclick:function X(j){var f=j.getTarget(),Z=this.getItemNodeFromTarget(f),k=this.getItemFromTarget(f)
	if(k&&k.fetcher){if(U.hasClass(f,"text")){if(k.fake){var e=function(l){if(l.displayParent){if(!l.displayParent.hid){return l.displayParent
	}else{return e(l.displayParent)
	}}},c=e(k),b=c?c.displayChildren:this.getDisplayRoots(),g=this.items,Y=k.config.nextSiblingIdx,d=this.blockCount,a=Y+d,h
	if(b.length-1>a){h=b.slice(Y,a)
	k.config.nextSiblingIdx+=d
	k.lv=h[h.length-1].lv
	h.push(k)
	}else{b.pop()
	if(k.parent){k.parent.children.pop()
	}g.splice(J.find(g,"idx",k.idx),1)
	h=b.slice(Y,b.length)
	}Z.outerHTML=this._buildSiblingsMarkup(h).join("")
	this.updateScrollbars()
	}else{this.fetchItems(k.config,{success:function(l){k.hid=true
	Z.outerHTML=""
	}})
	}}j.cancel()
	}else{this._super(j)
	}},})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo._LoadsScript","mstrmojo.Binding","mstrmojo._HasBindings","mstrmojo._HasMarkup","mstrmojo._HasTooltip","mstrmojo.css")
	mstrmojo.Widget=mstrmojo.declare(mstrmojo.Obj,[mstrmojo._LoadsScript,mstrmojo._HasBindings,mstrmojo._HasMarkup,mstrmojo._HasTooltip],{scriptClass:"mstrmojo.Widget",domNode:null,hasRendered:false,visible:true,enabled:true,tooltip:"",cssClass:"",cssText:"",cssDisplay:"block",slot:"",alias:"",parent:null,init:function A(C){this._super(C)
	var D=this.parent
	if(!D||D.hasInitBindings){this.initBindings()
	}},destroy:function B(C){if(this.hasRendered){this.unrender(C)
	}if(this.bindings){this.destroyBindings()
	}this._super()
	},invalidate:mstrmojo.emptyFn,widgetResized:mstrmojo.emptyFn})
	mstrmojo.Widget.cssTextMarkupMethod=function(){this.domNode.style.cssText=this.cssText||""
	}
	mstrmojo.Widget.visibleMarkupMethod=function(){this.domNode.style.display=(this.visible)?this.cssDisplay:"none"
	}
	mstrmojo.Widget.topMarkupMethod=function(){var C=this.top
	if(C){this.domNode.style.top=C
	}}
	mstrmojo.Widget.leftMarkupMethod=function(){var C=this.left
	if(C){this.domNode.style.left=C
	}}
	mstrmojo.Widget.heightMarkupMethod=function(){var C=this.height
	if(C){this.domNode.style.height=C
	}this.widgetResized()
	}
	mstrmojo.Widget.widthMarkupMethod=function(){var C=this.width
	if(C){this.domNode.style.width=C
	}this.widgetResized()
	}
	mstrmojo.Widget.enabledMarkupMethod=function(){mstrmojo.css.toggleClass(this.domNode,"disabled",!this.enabled)
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo._LoadsScript","mstrmojo._HasChildren","mstrmojo.Binding","mstrmojo._HasBindings")
	mstrmojo.Model=mstrmojo.declare(mstrmojo.Obj,[mstrmojo._LoadsScript,mstrmojo._HasChildren,mstrmojo._HasBindings],{scriptClass:"mstrmojo.Model",init:function A(C){this._super(C)
	if(this.children){this.initChildren()
	}if(!this.parent){this.initBindings()
	}},destroy:function B(C){if(this.children){this.destroyChildren(true)
	}if(this.bindings){this.destroyBindings()
	}this._super(C)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.hash","mstrmojo._Fetchable")
	var A=mstrmojo.hash
	mstrmojo.mstr.DocElementDataHelper=mstrmojo.declare(mstrmojo.Obj,[mstrmojo._Fetchable],{scriptClass:"mstrmojo.mstr.DocElementDataHelper",source:null,items:null,browseConfig:null,concat:true,init:function(B){var C=B&&B.browseConfig
	this.blockBegin=(C&&C.blockBegin)||1
	this.blockCount=(C&&C.blockCount)||mstrApp.elementsBlockCount||30
	if(this._super){this._super(B)
	}},getBrowseConfig:function(){if(!this.browseConfig){this.browseConfig={blockBegin:this.blockBegin,blockCount:this.blockCount}
	}return this.browseConfig
	},_retrieveItems:function(E,C,B){var D=this.getBrowseConfig()
	D.blockBegin=E
	mstrmojo.func.override({success:function(F){if(this._super){this._super(mstrmojo.hash.copy(F,{items:F.es,totalSize:F.sz}))
	}}},C)
	this.source.browseElements(D,C,B)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.hash","mstrmojo.dom","mstrmojo.array")
	var R=Math,W=mstrmojo.publisher.hasSubs,Q=mstrmojo.hash,F=Q.forEach,c=mstrmojo.dom
	var S=0.15
	var f=1,U=2
	var B={y:{edge:["top","bottom"],size:0},x:{edge:["left","right"],size:0},clsName:"mstrmojo-touch-scroll-indicator",init:function a(){var k=this.y,j=this.x
	if(!k.i){var l=k.i=document.createElement("div")
	l.className=this.clsName
	var m=j.i=l.cloneNode(false)
	document.body.appendChild(l)
	document.body.appendChild(m)
	}},setGradient:function b(q,l,r,n){var p=q.i,k=q.edge[l?1:0]
	var o=R.min(R.round(R.min(R.abs(r)/200,1)*100),n/2),j="left top",m="left bottom"
	if(l){m=j
	if(k==="bottom"){j="left bottom"
	}else{j="right top"
	}}else{if(k==="left"){m="right top"
	}}if(o!==q.size){p.style.background="-webkit-gradient(linear, "+j+", "+m+", from(rgba(39, 104, 162, .4)), to(rgba(39, 104, 162, 0)), color-stop("+(o/100)+", rgba(39, 104, 162, 0)))"
	q.size=o
	}},scrollAxis:function D(m,w,o,u,l){var AC=w-o,k=l[m]=(AC!==0)
	if(!k){this.hide(m)
	return 
	}var p=this[m],t=p.i,j=t.style,q=(m==="y"),r=(AC>0),v=this.clsName+" "+p.edge[r?1:0]
	if(!p.size||t.className!==v){t.className=v
	var x="px",AD=3,z=u.y,n=u.x,AA=100,AB=u.w
	if(q){if(r){z+=u.h-AA-AD
	}}else{AB=AA
	AA=u.h
	if(r){n+=u.w-AB-AD
	}}j.top=z+x
	j.left=n+x
	j.width=AB+x
	j.height=AA+x
	j.display="block"
	}this.setGradient(p,r,AC,q?u.h:u.w)
	},scroll:function D(m,l,p,o,t){var r=l.x,q=l.y
	if(r!==p||q!==o){this.init()
	var n=this._widgetPosition
	if(!n){var j=m.indicatorEl||t
	n=mstrmojo.dom.position(j.parentNode)
	}var k=m._outOfBounds||{}
	this.scrollAxis("y",q,o,n,k)
	this.scrollAxis("x",r,p,n,k)
	this._widgetPosition=n
	m._outOfBounds=k
	}else{this.hideAll()
	delete m._outOfBounds
	}},hide:function M(k){var j=this[k]
	if(j.size!==undefined){j.i.style.display="none"
	j.i.className=this.clsName
	j.size=0
	}},hideAll:function d(){this.hide("y")
	this.hide("x")
	delete this._widgetPosition
	}}
	function Y(j,k){return k?R.max(R.min(R.round(j),k.end),k.start):j
	}function O(j,l,k){k.name=l
	k.id=j.identifier
	j.raiseEvent(k)
	}function G(){var k="scrollDone",j=this.origin
	if(W(this.id,k)&&j){O(this,k,{x:j.x,y:j.y})
	}this.stopDeceleration()
	}function I(l,k,o){var n=l.scrollEl
	if(!n){G.call(l)
	return 
	}var m={x:k.x||0,y:k.y||0}
	F(l._scrollBarEls,function(AC,w){var AH=(w==="x"),AB=m[w],p=AC.length,AD=AC.ratio,z=AC.viewportSize,u=6/p,t=AC["base"+(AH?"Left":"Top")],AA=t+z-p,r=R.round(t+(AD*AB))
	if(r<t){r=t-AB
	p+=AB
	}else{if(r>AA){var AG=(AB-l.offset[w].end)*AD
	r=R.min(AA+AG,z+t-6)-1
	p-=AG
	}}var AF=0,q=[AF,AF,AF],x=[1,1,1],AE=AH?0:1
	q[AE]=(r-t)
	x[AE]=R.min(R.max(p/AC.length,u),1)
	c.translate(AC,q[0],q[1],q[2]," scale3d("+x.join(",")+")")
	})
	if(o){o+="ms"
	}if(l._isHosted){var j=n.parentNode
	j.scrollTop=m.y
	j.scrollLeft=m.x
	}else{n.style[c.CSS3_TRANSITION_DURATION]=o||"0"
	c.translate(n,-m.x,-m.y,0,l.transform,l.useTranslate3d)
	}if(W(l.id,"scrollMoved")){O(l,"scrollMoved",{x:k.x,y:k.y})
	}}function J(j,k,l){return R.ceil(1+R.log(j/R.abs(k))/R.log(1-l))
	}function E(j,n,l,k,m){return j+(n*(l*(1-R.pow(1-m,k))/m))
	}function N(AH,AR,o,AN,z,AM,u){var t=AH.offset[o]
	if(!t){return AR
	}var n=AH._outOfBounds,k=n&&n[o],w=t.incFetch,x=AH.friction,r=t.start,q=t.end,AI=AN?q:r
	z=R.abs(z)
	if(k){AN=(AR<r)
	AI=AN?r:q
	}var AQ=AN?1:-1
	if(k&&(AN||!w)){var v=S*3,AP=1/(1-x),m=v/R.pow((1-x),(R.log(1-R.abs(AR-AI)*(1-AP)/v)/R.log(AP))-1)
	var AF=R.round(E(AR,AQ,m,AM,x))
	if(AN?(AF>=AI):(AF<=AI)){G.call(AH)
	return AI
	}return AF
	}var AL=t.pageSize,AK=t.supportedEdges
	var p=E(AR,AQ,z,AM,x),AA=(p<=r),l=(p>=q)
	if(AA||l){if(w&&((AA&&((AK&f)>0))||(l&&((AK&U)>0)))){if(p-q>=AL){p=q+AL
	AI=p
	}if(!AH.STATUS_INC_FETCH){AH.STATUS_INC_FETCH=true
	O(AH,"incFetch",{edge:l?U:f})
	}}else{if(AH.bounces){var AO=x*2,AB=AH.bounceVelocity,j=AH.bounceTime,AJ=AH.bounceDistance
	if(!AH.hasBounced){AB[o]=R.abs(S/R.pow(1-x,u-AM-1))
	j[o]=J(S,AB[o],AO)
	AJ[o]=R.abs(E(p,AQ,AB[o],j[o],AO)-p)
	AH.raiseEvent({name:"bounceOut",id:AH.identifier,axis:o,direction:AN,value:R.round(p)})
	AH.hasBounced=true
	}var AE=Math.floor(AJ[o]/2)
	var AD=E(AI,AQ,AB[o],AM,AO),AG=R.abs(AD-AI)
	if(R.abs(AG)<AE){return AD
	}if(R.abs(AG)>=AJ[o]){G.call(AH)
	return AI
	}var AC=AE-(AG-AE)
	return R.round(AI-(AN?-AC:AC))
	}p=AI
	}}return R.round(p)
	}function P(k){var j=this._scrollListener
	if(j){if(!k||k!==j.el){c.detachEvent(j.el,"scroll",j.fn)
	delete this._scrollListener
	return true
	}return false
	}return true
	}mstrmojo.TouchScroller=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.TouchScroller",scrollEl:null,identifier:"",hScroll:false,vScroll:false,offset:null,origin:null,transform:"",friction:0.0015,frameRate:60,bounces:true,hasBounced:false,bounceDistance:{},bounceTime:{},bounceVelocity:{},showScrollbars:false,showIndicators:true,useTranslate3d:true,STATUS_INC_FETCH:false,init:function a(j){this._super(j)
	B.init()
	},initScroller:function Z(k){Q.copy(k,this)
	var n=this.scrollEl
	if(n){var m=this._isHosted=false
	if(m){var j=n.parentNode
	if(P.call(this,j)){j.style.overflow="auto"
	var o=this.id,l=this._scrollListener={el:j,fn:function(p){var q=mstrmojo.all[o].origin,r=p.target
	q.x=r.scrollLeft
	q.y=r.scrollTop
	}}
	c.attachEvent(j,"scroll",l.fn)
	}this.showScrollbars=false
	}}},canScroll:function L(){return this.vScroll||this.hScroll
	},updateScrollBars:function H(q,m){var o=this.scrollEl
	if(!this.showScrollbars||!o){return 
	}var k=this._scrollBarEls
	if(!k){var n=this
	k=this._scrollBarEls={x:"hScroll",y:"vScroll"}
	F(k,function(r,t){if(n[r]){var u=document.createElement("div")
	u.className="mstrmojo-touch-scrollBar "+t+"Axis"
	(m||o.parentNode).appendChild(u)
	k[t]=u
	}else{delete k[t]
	}})
	}if(!q){var j=this.scrollEl.parentNode
	q={top:0,right:j.clientWidth,bottom:j.clientHeight,left:0}
	}var p=9,l={x:{left:q.left,top:q.bottom-p,x:q.right-q.left,d:"Width"},y:{left:q.right-p,top:q.top,x:q.bottom-q.top,d:"Height"}}
	F(k,function(z,u){var AE=z.style,AC=l[u],v=AC.d,w=z.parentNode,AD=AC.x
	var t=AC.left,AB=AC.top,AA=AD/o["offset"+v],r=Math.min(Math.round(AD*AA),AD)
	z.baseLeft=t
	z.baseTop=AB
	z.ratio=AA
	z.viewportSize=AD
	z.length=r
	AE.left=t+"px"
	AE.top=AB+"px"
	AE[v.toLowerCase()]=r+"px"
	})
	},toggleScrollBars:function C(j){F(this._scrollBarEls,function(k){k.style.opacity=j?1:0
	})
	},scrollTo:function(k,o,m){if(!this.canScroll()&&!(k===0&&o===0)){I(this,{x:0,y:0})
	return 
	}var n=this.offset,l=this.origin,j={x:(this.hScroll)?Y(k,n.x):0,y:(this.vScroll)?Y(o,n.y):0}
	I(this,j,m)
	l.x=j.x
	l.y=j.y
	},scrollToEnd:function(k,o,m){var l=this.origin,n=this.offset,j={x:0,y:0}
	if(l&&n){mstrmojo.array.forEach([k,o],function(q,p){var t=p?"y":"x",r=n[t]
	j[t]=q?(r&&r.end)||0:l[t]
	})
	}this.scrollTo(j.x,j.y,m)
	},scroll:function D(o){if(this._isHosted){return 
	}var m=this.offset,w=this.scrollEl,z=o.delta,AA=z.x,x=z.y
	if(!w){return 
	}if(!m&&this.showIndicators){B.scroll(this,{x:(this.noHScroll)?0:-AA,y:(this.noVScroll)?0:-x},0,0,w)
	return 
	}var v=this.origin,p={x:(this.hScroll)?R.round(v.x-AA):0,y:(this.vScroll)?R.round(v.y-x):0},t=Y(p.x,m.x),r=Y(p.y,m.y)
	if(!m.scrollPast){if(this.showIndicators){B.scroll(this,p,t,r,w)
	}p.x=t
	p.y=r
	}else{var n=(t!==p.x),q=(r!==p.y),j=(n||q),l=this._outOfBounds,k=""
	if(l){if(n!==(l.x===true)||q!==(l.y===true)){k="scrollIn"
	}}else{if(j){k="scrollOut"
	}}if(k){if(W(this.id,k)){var u=o.direction
	O(this,k,{x:{position:p.x,direction:u.x},y:{position:p.y,direction:u.y}})
	}if(j){this._outOfBounds={x:n,y:q}
	}else{delete this._outOfBounds
	}}}I(this,p)
	},scrollEnd:function X(x){B.hideAll()
	if(!this.canScroll()||this._isHosted){return 
	}var AG=this.id,z=this.friction,AO=1/(1-z),AH=this.origin,m=x.velocity,AM=x.direction,AF=new Date(),n=this._outOfBounds,u=this.offset,AN={x:this.hScroll,y:this.vScroll},AA={},AQ={},AP={},v={},p={},w={},r={},q={},AJ={},AL=function(AT){w[AT]=S
	var AS=u[AT],AR=(n&&n[AT]),AU=(AR&&(!AS||!u.scrollPast))
	AQ[AT]=(AN[AT]&&!AU)?AH[AT]-x.delta[AT]:AH[AT]
	if(AS){r[AT]=AS.start
	q[AT]=AS.end
	if(AR){if(!AU){AM[AT]=(AQ[AT]<r[AT])
	AJ[AT]=(AM[AT])?r[AT]:q[AT]
	if(AM[AT]||!AS.incFetch){w[AT]=S*3
	m[AT]=w[AT]/R.pow((1-z),(R.log(1-R.abs(AQ[AT]-AJ[AT])*(1-AO)/w[AT])/R.log(AO))-1)
	}}else{AQ[AT]=Y(AH[AT]-x.delta[AT],AS)
	}}}AA[AT]=(AN[AT]&&!AU)?R.abs(m[AT]):0
	AP[AT]=(AM[AT]||false)?1:-1
	v[AT]=J(w[AT],AA[AT],z)
	p[AT]=E(AQ[AT],AP[AT],AA[AT],v[AT],z)
	}
	AL("x")
	AL("y")
	AH.x=AQ.x
	AH.y=AQ.y
	var AD=(AA.x>0),AC=(AA.y>0)
	if(!u.scrollPast&&!AD&&!AC){G.call(this)
	var o,AI,AB,l,AK
	for(o in u){AI=u[o]
	AK=AI.supportedEdges
	AB=((AI.start===AQ[o])&&((AK&f)>0))
	l=((AI.end===AQ[o])&&((AK&U)>0))
	if(AI.incFetch&&(AB||l)){this.STATUS_INC_FETCH=true
	O(this,"incFetch",{edge:l?U:f})
	}}return 
	}this.hasBounced=false
	this.bounceDistance={}
	this.bounceTime={}
	this.bounceVelocity={}
	this.decelerating=true
	var k=Math.round(1000/this.frameRate),t=AF,AE,j={x:AD,y:AC}
	this.decelerationTimer=window.setTimeout(function(){var AR=mstrmojo.all[AG],AS=AR.origin,AW=new Date(),AX=(AW-AF),AV
	if(AR._halt){G.call(AR)
	return 
	}AE=AW-t
	t=AW
	if(AE>(k+5)){k=k+R.round((AE-k)/2)
	}for(AV in j){if(j[AV]){var AU=N(AR,AQ[AV],AV,AM[AV],AA[AV],AX,v[AV])
	if(!isNaN(AU)){AS[AV]=AU
	}}}I(AR,AS)
	var AT=(AX>v.x&&AX>v.y)
	if(!AT&&!AR.bounces){AT=true
	mstrmojo.hash.forEach(u,function(Aa,AZ){var AY=AS[AZ]
	if(AY!==Aa.end&&AY!==Aa.start){AT=false
	return false
	}})
	}if(AT){G.call(AR)
	}else{if(AR.decelerating){AR.decelerationTimer=window.setTimeout(arguments.callee,k)
	}}},k)
	},stopDeceleration:function A(){var j=!!this.decelerating
	if(j){if(this.decelerationTimer){window.clearTimeout(this.decelerationTimer)
	delete this.decelerationTimer
	}delete this.decelerating
	this.toggleScrollBars(false)
	}delete this._outOfBounds
	delete this.hasBounced
	delete this.bounceDistance
	delete this.bounceTime
	delete this.bounceVelocity
	delete this._halt
	return j
	},haltScroller:function K(){this._halt=!!this.decelerating
	},unrender:function e(){delete this.scrollEl
	},destroy:function g(){this.stopDeceleration()
	P.call(this)
	this._super()
	}})
	mstrmojo.TouchScroller.getScrollPositionTotals=function h(n){var l=n.parent,j=n._scroller,k=mstrmojo.hash.copy((j&&j.origin)||{x:0,y:0})
	if(l){var m=mstrmojo.TouchScroller.getScrollPositionTotals(l)
	k.x+=m.x
	k.y+=m.y
	}return k
	}
	mstrmojo.TouchScroller.ScrollIndicators=B
	mstrmojo.TouchScroller.EnumIncFetchEdges={start:f,end:U}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.array")
	var C=mstrmojo.array
	mstrmojo.ObjectBrowserDataProvider=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.ObjectBrowserDataProvider",path:mstrConfig.taskURL,serverRequest:function(D,E){if(mstrApp&&mstrApp.serverRequest){mstrApp.serverRequest(D,E,{silent:true})
	}else{mstrmojo.xhr.request("POST",this.path,E,D,undefined,this.XServer,this.baseParams)
	}},fetchFolderContents:function(D,E,H){var F=D.blockCount,G={taskId:"searchMetadata",styleName:"MojoFolderStyle",blockCount:F,includeAncestorInfo:"true",includeObjectDesc:D.includeObjectDesc,encodeObjectInfo:false}
	if(D.folderLinksContextId){G.folderLinksContextId=D.folderLinksContextId
	}if(D.sId){G.sessionState=D.sId
	}if(E.fid){G.rootFolderID=E.fid
	}else{if(E.fty){G.rootFolderType=E.fty
	}}if(D.browsableTypes){G.objectType=D.browsableTypes
	}if(E.blockBegin){G.blockBegin=E.blockBegin
	}if(E.searchPattern){if(D.enableQuickSearch){G.quickSearch=D.enableQuickSearch
	}G.searchPattern=E.searchPattern
	if(E.recursive){G.recursive=E.recursive
	}}this.serverRequest(G,H)
	},newFolder:function(G,H,F,D){var E={taskId:"createFolder",taskContentType:"json",folderID:G,name:H,description:F}
	this.serverRequest(E,D)
	},loadObjects:function B(H,I,D,G){var E=[],F=[]
	C.forEach(H,function(J){E.push(J.did)
	F.push(J.t)
	})
	if(H.length>0&&G){this.serverRequest({taskId:"getObjectInfo",objectIDs:E.join(","),objectTypes:F.join(","),includeDetails:true},I,D)
	}else{I.success()
	}},loadRecentSaveAsFolders:function A(E){var D={taskId:"getRecentSaveAsFolders"}
	this.serverRequest(D,E)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Obj")
	var D={TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4}
	var C={LEFT_TO_RIGHT:0,RIGHT_TO_LEFT:1}
	mstrmojo.ui.PopupConfig=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.ui.PopupConfig",ENUM_CORNERS:D,isHostedWithin:true,position:null,hostProxyCssClass:"",hostId:"",hostElement:null,anchorElement:null,popupHandlers:null,alignment:null,alignWithAnchor:false,useTooltip:false,useDarkTheme:false,init:function H(I){this.clear()
	this._super(I)
	},setAlignment:function E(I,J){this.alignment={host:I,popup:J}
	},addPopupHandlers:function F(I,K,J){this.popupHandlers[I]={open:K,close:J}
	},clear:function B(){this.popupHandlers={}
	var I=this.ENUM_CORNERS
	this.alignment={host:I.BOTTOM_LEFT,popup:I.TOP_LEFT}
	},destroy:function(I){this.anchorElement=null
	this.hostElement=null
	if(this._super){this._super(I)
	}}})
	mstrmojo.ui.PopupConfig.ENUM_CORNERS=D
	mstrmojo.ui.PopupConfig.directionCfg={menuDirection:C.LEFT_TO_RIGHT,isRightToLeft:function G(){return this.menuDirection===C.RIGHT_TO_LEFT
	},setDirection:function A(I){this.menuDirection=I?C.RIGHT_TO_LEFT:C.LEFT_TO_RIGHT
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Obj")
	mstrmojo.StepperContentProvider=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.StepperContentProvider",item:null,renderer:null,min:null,max:null,interval:1,minField:"min",maxField:"max",maxLengthField:"maxLength",valField:"value",intField:"interval",canLoop:false,next:mstrmojo.emptyFn,prev:mstrmojo.emptyFn,hasPrev:mstrmojo.emptyFn,hasNext:mstrmojo.emptyFn,renderItemAt:mstrmojo.emptyFn,setVal:mstrmojo.emptyFn,getVal:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.Obj","mstrmojo.string","mstrmojo.hash","mstrmojo.expr","mstrmojo.num","mstrmojo.mstr.EnumNodeDimty")
	var G=mstrmojo.array,S=mstrmojo.expr,L=S.ET,K=S.TP,D=S.DTP,M=mstrmojo.mstr.EnumNodeDimty,P=S.ET2TGT,O=S.ET2COND,C=mstrmojo.meta.TP,B=mstrmojo.num
	function Q(X,A){var W=(A&&A.did)?A.did.split(S.FN_SEP):null,E=W&&parseInt(W[0],10),U=W&&parseInt(W[1],10),Y=X.et
	X.fnt=E
	X.fn=U
	if(Y!=L.AE&&S.fn_List(U,E)){X.et=L.AL
	X.a2=null
	X.cs=null
	}else{if(Y==L.AL&&!S.fn_List(U,E)){X.et=L.AQ
	X.cs=null
	}else{if(Y==L.MC&&!S.fn_AC_MC(U,E)){X.et=L.MQ
	X.m2=null
	}else{if(Y==L.AC&&!S.fn_AC_MC(U,E)){X.et=L.AQ
	X.a2=null
	}}}}switch(U){case S.FN.IS_NULL:case S.FN.IS_NOT_NULL:X.a2=null
	X.a3=null
	X.fm2=null
	X.fm3=null
	X.m2=null
	X.m3=null
	X.cs=null
	break
	case S.FN.BETWEEN:case S.FN.NOT_BETWEEN:break
	default:X.a3=null
	X.fm3=null
	X.m3=null
	while(X.cs&&X.cs.length>1){X.cs.pop()
	}}}function H(a,b,d){var E=2+b,Y
	if((!!a.a||!!a.m)&&a.fnt===3){d.dtp=D.REAL
	}else{if(B.isBigDecimal(d.v)){d.dtp=D.BIGDECIMAL
	}}switch(d.t){case K.PROMPT:Y=a.cs
	var Z
	if(!Y){Y=[]
	a.cs=Y
	}Y[b]={}
	Z=Y[b]
	Z.p=d
	a["a"+E]=null
	a["m"+E]=null
	switch(a.et){case L.AC:a.et=L.AQ
	break
	case L.MC:a.et=L.MQ
	break
	}break
	case K.METRIC:a["a"+E]=null
	a.cs=null
	a.et=L.MC
	a["m"+E]=d
	break
	case K.ATTR:a["m"+E]=null
	a.cs=null
	a.et=L.AC
	a["a"+E]=d
	a["fm"+E]=null
	break
	default:a["a"+E]=null
	a["m"+E]=null
	Y=a.cs
	if(!Y){Y=[]
	a.cs=Y
	}if("did" in d){a["a"+E]=null
	a["fm"+E]=null
	a["m"+E]=null
	if(Y[b]&&Y[b].p){Y[b].p=null
	}}else{if(d&&d.v!=null){Y[b]=d
	}else{if(Y[b]&&a.et!==L.AL){Y=Y.splice(b,1)
	}}}if(!d.skipET){switch(a.et){case L.MC:if((!a.c2||!a.m3)&&(!a.m2||!a.c3)){a.et=L.MQ
	}break
	case L.AC:a.et=L.AQ
	break
	case L.AL:if(!("did" in d)&&d.v){var A,W=d.dtp
	Y=[]
	A=d.v.split(mstrConfig.listSep)
	for(var U=0,X=A.length
	U<X
	U++){Y.push({v:mstrmojo.string.trim(A[U]),dtp:W})
	}a.cs=Y
	}break
	}}}}var J={}
	J[L.AQ]={target:1,fm:1,fn:1,cs:1}
	J[L.AL]={target:1,fm:1,fn:1,cs:1}
	J[L.AE]={target:1,fn:1,es:1}
	J[L.AC]={target:1,a2:1,a3:1,fm:1,fm2:1,fm3:1,fn:1}
	J[L.MQ]={target:1,fn:1,cs:1,dmy:1}
	J[L.MC]={target:1,fn:1,m2:1,m3:1,dmy:1}
	J[L.F]={target:1}
	J[L.R]=J[L.F]
	J[L.XML]={target:1}
	J[L.ANDOR]={target:1}
	var I=function(A){return A!==null&&A!==undefined
	}
	var N=function(b){if(b.data){return true
	}if(!b||!I(b.et)){return false
	}var a=true,A=J[b.et],Y=b.cs,X
	a=a&&(!A.target||b[P[b.et]])
	a=a&&(!A.fm||b.fm)
	a=a&&(!A.fn||I(b.fn))
	var W=S.fnCstCount(b.fn,b.fnt)
	if(a&&A.cs){for(X=0
	X<W
	X++){a=a&&Y&&I(Y[X])
	}}if(a){var Z=[P[b.et],"fm"]
	for(var E=0
	E<2
	E++){for(X=0
	X<W
	X++){var c=Z[E]+(2+X)
	a=a&&(!A[c]||b[c])
	}}}a=a&&(!A.es||b.es&&(b.es.length>0))
	var U=b.dimtyTypes
	a=a&&(!A.dmy||U[M.NodeDimtyUnspecified]||U[M.NodeDimtyNone]||(U[M.NodeDimtyOutputLevel]&&b.dmy&&b.dmy.uts&&(b.dmy.uts.length>0)))
	return a
	}
	mstrmojo.ConditionModel=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.ConditionModel",data:null,completed:false,defaultETAttr:L.AQ,init:function(A){if(this._super){this._super(A)
	}this._updateCompleted()
	},edit:function R(q,g,AD){var X=this[q]
	if(X===g){return 
	}this.etWas=this.et
	switch(q){case"not":g=!!(g&&g.did===S.FN.NOT)
	X=!!this.not
	if(g===X){return 
	}this.not=!!g||null
	break
	case"target":var AH=this.et
	if(g){switch(g[C]){case K.ATTR:case K.CONS:X=this.a
	if(AH!==L.AQ&&AH!==L.AE&&AH!==L.ANDOR){this.et=this.defaultETAttr
	this.m=null
	this.m2=null
	this.m3=null
	this.r=null
	this.f=null
	}if(AH!==L.AE){this.fn=null
	this.fnt=null
	}this.fm=null
	this.fm2=null
	this.fm3=null
	this.cs=null
	break
	case K.METRIC:X=this.m
	if((AH!==L.MQ)&&(AH!==L.MC)){this.et=L.MQ
	this.fm=null
	this.fm2=null
	this.fm3=null
	this.fn=null
	this.fnt=null
	this.a=null
	this.a2=null
	this.a3=null
	this.r=null
	this.f=null
	this.cs=null
	this.dmt=M.NodeDimtyUnspecified
	}this.m2=null
	break
	case K.REPORT:X=this.r
	if(AH!==L.R){this.et=L.R
	this.fm=null
	this.fm2=null
	this.fm3=null
	this.fn=null
	this.fnt=null
	this.a=null
	this.a2=null
	this.a3=null
	this.m=null
	this.m2=null
	this.m3=null
	this.f=null
	}break
	case K.FILTER:X=this.f
	if(AH!==L.F){this.et=L.F
	this.fm=null
	this.fm2=null
	this.fm3=null
	this.fn=null
	this.fnt=null
	this.a=null
	this.a2=null
	this.a3=null
	this.m=null
	this.m2=null
	this.m3=null
	this.r=null
	}break
	case K.PROMPT:X=this.prms&&this.prms[0]
	if(AH!==L.XML){this.et=L.XML
	this.fm=null
	this.fm2=null
	this.fm3=null
	this.fn=null
	this.fnt=null
	this.a=null
	this.a2=null
	this.a3=null
	this.m=null
	this.m2=null
	this.m3=null
	this.r=null
	this.f=null
	}break
	}}this.es=null
	this.data=null
	this[P[this.et]]=g
	break
	case"fm":if(g&&g[C]==="fn"){this.et=L.AE
	this.fm=null
	Q(this,g)
	}else{this.fm=g
	if(g&&(this.et==L.AE)){this.et=L.AQ
	}this.fnt=null
	this.fn=null
	this.cs=null
	this.a2=null
	this.fm2=null
	}break
	case"fm2":case"fm3":this[q]=g
	break
	case"fn":Q(this,g)
	break
	case"es":var AK=this.es
	if(g&&g.removed&&AK){G.removeItems(AK,g.itemIdField,g.removed)
	}if(g&&g.added){if(!AK){AK=g.added.concat()
	this.es=AK
	}else{G.insert(AK,AK.length,g.added)
	}}break
	case"c0":H(this,0,g)
	break
	case"c1":H(this,1,g)
	break
	case"dmy":var AE=this.dmy
	if(!AE){AE={cc:true,fres:true,uts:[]}
	this.dmy=AE
	}var AA=AE&&AE.uts
	if(!AA){AA=[]
	AE.uts=AA
	this.dmt=M.NodeDimtyOutputLevel
	}var U={}
	U[S.TP.ATTR]=true
	U[S.TP.DIM]=true
	if(g&&g.removed){var l=[],A=false,e=[],W=false
	for(var p=0,Y=g.removed,E=Y.length
	p<E
	p++){var d=Y[p],AG=d[C] in U
	if(AG){W=true
	}else{A=true
	}var o=AG?e:l
	o.push(d)
	}if(A){G.removeItems(AA,"did",l)
	}if(W){var AJ={}
	for(var j=0,h=AA&&AA.length
	j<h
	j++){var f=AA[j]
	if(f&&f.utgt){AJ[f.utgt.did]=j
	}}var Z=[]
	for(var AF=0,AC=e.length
	AF<AC
	AF++){var m=AJ[e[AF].did]
	if(m>-1){Z.push(m)
	}}Z.sort(G.numSorter)
	for(var z=Z.length-1
	z>-1
	z--){AA.splice(Z[z],1)
	}}}if(g&&g.added){var AL=[],t=S.DMY_TP.DIM,x=S.DMY_TP.ATTR
	for(var AI=0,AB=g.added,k=AB.length
	AI<k
	AI++){var w=AB[AI]
	AL.push((w[C] in U)?{utgt:w,utp:w[C]===K.DIM?t:x,agg:1,flt:2,gb:true,rps:0,n:w.n}:w)
	}G.insert(AA,AA.length,AL)
	}break
	case"data":this.data=g
	break
	}this._updateCompleted()
	if(!AD){this.raiseEvent({name:"edit",prop:q,value:g,valueWas:X})
	}},get:function F(){var A=this.data?this.data:this
	var E=O[A.et]||[]
	E.push("et")
	return mstrmojo.hash.copyProps(E,A)
	},_updateCompleted:function(){this.set("completed",N(this))
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.func","mstrmojo.Obj")
	var L=mstrmojo.hash
	var S=0
	var F=[]
	var K={}
	var M=false
	var H=false
	function J(Y){var Z=Y.callback
	if(Z.submission){Z.submission(Y.id,this.userInteractionRequired(Y),Y)
	}this.submitRequest(Y)
	}function G(){if(F.length&&!M&&!H){J.call(this,F.shift())
	}}mstrmojo.ServerProxy=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.ServerProxy",transport:null,cnt:0,request:function E(j,f,Z,a){if(Z){this.cancelRequests()
	}var c=this.id,d=this.transport,Y=mstrmojo.now()+f.taskId+S++,b=j.canceled||mstrmojo.emptyFn
	j.canceled=function(k){b()
	j.complete(true)
	return d.cancelRequest(k)
	}
	j=mstrmojo.func.wrapMethods(j,{complete:function(k){mstrmojo.all[c]&&mstrmojo.all[c].deleteRequest(k)
	}})
	var e=!L.isEmpty(this._requests),g=this.createRequest(Y,j,f,a),h=(M||e||H)&&!a.doNotHold
	if(h){F.push(g)
	}else{J.call(this,g)
	}return Y
	},hasRequests:function Q(){return !L.isEmpty(this._requests)||M
	},createRequest:function U(a,c,b,Y){var Z=this._requests
	if(!Z){Z=this._requests={}
	}Z[a]={id:a,callback:c,params:b,config:Y}
	return Z[a]
	},submitRequest:function N(Y){this.transport.serverRequest(this.id,Y.id,Y)
	},cancelRequests:function X(){var Y=false
	L.forEach(this._requests,function(Z){if(Z.gotResponse===undefined){Y|=Z.callback.canceled(Z.id)
	}})
	this._requests={}
	F=[]
	return Y
	},cancelRequest:function C(c){var Z=false,b=this._requests[c],a,Y=F.length
	for(a=0
	a<Y
	a++){if(F[a]===b){break
	}}if(a<Y){F.splice(a,1)
	delete this._requests[c]
	Z|=b.callback.canceled(b.id)
	}return Z
	},response:function A(c,Y,a){$MAPF(false,"AndroidServerTransport","transportRequest")
	var b=this.getRequest(c)
	if(b){b.gotResponse=true
	var d=b.callback,Z=(Y&&!a.mstrerr)?"success":"failure"
	try{if(d[Z]){d[Z](a,b)
	}}finally{d.complete(c)
	}}G.call(this)
	},deleteRequest:function P(Z){var Y=this._requests
	delete Y[Z]
	},getRequest:function I(Z){var Y=this._requests
	return Y&&Y[Z]
	},userInteractionRequired:function B(Y){return false
	},addLoadingGraph:function D(Y){K[Y]=true
	M=true
	},removeLoadingGraph:function W(Y){delete K[Y]
	if(L.isEmpty(K)){M=false
	G.call(this)
	}},pauseSubsequentRequst:function R(){H=true
	},resumeSubsequentRequst:function O(){H=false
	G.call(this)
	},_serverRequestParallel:function(Z,b,c,Y){var a=Y||new mstrmojo.SimpleXHR()
	a.request("POST",Z,{success:function(d){if(c.success){c.success(d)
	}},failure:function(d){if(c.failure){c.failure({code:d.getResponseHeader("X-MSTR-TaskErrorCode"),message:d.getResponseHeader("X-MSTR-TaskFailureMsg")})
	}},complete:function(){if(c.complete){c.complete()
	}}},b)
	},serverRequestParallel:function(Z,a,Y){this._serverRequestParallel(mstrConfig.taskURL,Z,a,Y)
	},upload:function(e,d,c,Z,b,a,Y){mstrmojo.xhr.upload("POST",mstrConfig.taskURL,e,d,c,Z,b,a,Y)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash")
	mstrmojo.touchManager=new mstrmojo.Obj(mstrmojo.hash.copy(mstrmojo.inClosureProps,{notify:function(v,w){return this.raiseEvent({name:"touchesBegin",srcId:v,touch:w})
	}}))
	var X=mstrmojo.dom,r=X.attachEvent,t=X.detachEvent,B=Math,Y=window.mstrConfig,Q=false,J=null,k=Y&&Y.allowDefaultTouches
	var j=5,D=250,F=400,a=100
	var h="Begin",N="End",e="Move",S="Cancel"
	var o=1,p=2,C=3,P=4
	var K={}
	K[o]="Select"
	K[p]="Swipe"
	K[C]="Multi"
	K[P]="Tap"
	if(document&&document.body){r(document.body,"touchmove",function(v){if(!Y||!Y.allowDefaultTouches){if(v.preventDefault){v.preventDefault()
	return false
	}}return true
	})
	}function Z(v){var w=v.identifier
	return(w===undefined)?1:w
	}function l(z,AA,x,w){if(Q){var v=w?Z(w)+" ":""
	window.console.log(z+":"+(x?" "+x.scriptClass+" "+x.id:"")+" "+v+(AA||""))
	}}function m(v){return(J===v)
	}function U(v){if(!m(v)){return 
	}l("detachWinEvts","",v)
	t(window,X.TOUCHMOVE,v._tmCallback,true)
	t(window,X.TOUCHEND,v._teCallback,true)
	t(window,X.TOUCHCANCEL,v._teCallback,true)
	J=null
	}function W(v){if(m(v)){return 
	}var w=J
	if(w){l("forced deactivation","",w)
	U(w)
	}l("attachWinEvts","",v)
	r(window,X.TOUCHMOVE,v._tmCallback,true)
	r(window,X.TOUCHEND,v._teCallback,true)
	r(window,X.TOUCHCANCEL,v._teCallback,true)
	J=v
	}function M(w,v){return"touch"+((v&&K[v])||"")+(w||"")
	}function b(x,z,w){var v=M(z,w)
	return(x[v]!==undefined)?v:""
	}function q(z,AB,AC,x,w){w=w||z.gestures[AC.id]
	var AA=(w&&w.bubbleTarget)||z,v=b(AA,AB,x)
	if(v){l("fire",v,AA)
	AC.methodName=v
	return AA[v](AC)
	}l("no handler",M(AB,x),AA)
	return true
	}function f(AE,AF,v,AA){var AB=v.pageX,z=v.pageY,AC=AE.timeStamp,w=Z(v),AJ={x:B.round(AB-AF.pageX),y:B.round(z-AF.pageY)}
	var AI={id:w,evt:AE,pageX:AB,pageY:z,clientX:v.clientX,clientY:v.clientY,target:v.target,delta:AJ,date:AC,stop:function(){l("event stopped",w)
	AE.stopPropagation()
	AE.cancelBubble=true
	}}
	if(AA){var x=AC-AA.date,AH=AA.delta,AD={x:B.abs(AJ.x-AH.x),y:B.abs(AJ.y-AH.y)}
	AI.velocity={x:AD.x/x,y:AD.y/x}
	AI.isVertical=(AD.y>AD.x)
	AI.accelDelta=AD
	var AG=AI.direction={}
	if(AB!==AA.pageX){AG.x=(AB<AA.pageX)
	}else{if(AB!==AF.pageX){AG.x=(AB<AF.pageX)
	}}if(z!==AA.pageY){AG.y=(z<AA.pageY)
	}else{if(AB!==AF.pageX){AG.y=(z<AF.pageY)
	}}}return AI
	}function I(z,v,x,w){return{s:z,p1:v,p2:x,evt:w,target:w.target}
	}function L(w,v){if(w){w.gestures[v]=null
	}}function c(w,v){U(w)
	q(w,N,v)
	}function G(v){if(v._selectHandle){window.clearTimeout(v._selectHandle)
	delete v._selectHandle
	l("cancelSelect","",v)
	}}function n(v){if(v.stopPropagation){v.stopPropagation()
	}if(v.preventDefault){v.preventDefault()
	}v.cancelBubble=true
	return false
	}function H(AC,AE){var AA=AE.which
	if(AA&&AA===3){l("ignore","right mouse click",AC)
	return 
	}var AD=AC.gestures,AB=AE.touches||[AE],v=(AE.changedTouches&&AE.changedTouches[0])||AE,AH=m(AC),AI=f(AE,v,v),AG=I(AI,AI,AI,AE)
	l("touchBegin","",AC,v)
	if(X.isTouchOptimizationEnabled()&&AC.ontouchstart){AC.ontouchstart(AE)
	}if(AB.length>1){if(!AH){AI.stop()
	l("ignore","cross widget multitouch",AC,v)
	var z=J
	if(z&&z.onCrossWidgetMultitouch!==undefined){l("call onCrossWidgetMultitouch for","",z)
	z.onCrossWidgetMultitouch()
	}return false
	}}else{if(AH){l("forced deactivation","",AC,v)
	U(AC)
	AH=false
	}}if(AC.singleNode&&v.target!==AC._tn){l("ignore","target is not touch node",AC,v)
	return 
	}if(mstrmojo.touchManager.notify(AC.id,AI).ignore){AI.stop()
	return 
	}if(!AH){var x=AI.target.tagName
	x=x&&x.toLowerCase()
	if(x==="select"||x==="input"){l("ignore","target is input or select",AC,v)
	if(AC.monitorInputs){q(AC,null,AI,P)
	}return 
	}}AD[AI.id]=AG
	if(AH){if(!AC.multiTouch){G(AC)
	var w=AB[AB.length-2],AF=AD[Z(w)]
	q(AC,S,w,AF.action,AF)
	}else{AG.action=C
	if(AC._singleTouch){G(AC)
	AC._singleTouch.action=C
	delete AC._singleTouch.bubbleTarget
	delete AC._singleTouch
	q(AC,h,AI,C)
	}}AI.stop()
	return 
	}if(!X.contains(AC._tn,AE.target,true,AC.domNode)){delete AD[AI.id]
	return 
	}AC._singleTouch=AG
	if(q(AC,h,AI)===false){return 
	}if(!mstrmojo.dom.isTouchOptimizationEnabled()){AI.stop()
	}if(b(AC,h,o)){AC._selectHandle=window.setTimeout(function(){AG.action=o
	if(q(AC,h,AI,o)===false){c(AC,AI)
	}delete AC._selectHandle
	},F)
	}W(AC)
	if(!AC.enableBubble){n(AE)
	}}function u(AA,AB){var AD=(AB.changedTouches&&AB.changedTouches[0])||AB,w=AA.gestures[Z(AD)]
	if(!w){return 
	}var x=f(AB,w.s,AD,w.p2),z=w.action
	w.p2=w.p1
	w.p1=x
	if(!z&&(B.abs(x.delta.x)>j||B.abs(x.delta.y)>j)){z=w.action=p
	G(AA)
	if(!b(AA,h,z)&&!b(AA,e,z)){x.methodName=M(h,z)
	return AA.bubbleTouchEvent(x)
	}if(q(AA,h,x,z)===false){c(AA,x)
	return 
	}}if(z){var v=w.lastMove||w.s.date,AC=x.date-v
	if(!mstrApp.isTouchApp()||AC>=a){w.lastMove=x.date
	q(AA,e,x,z)
	}}if(!AA.enableBubble){n(AB)
	}}function E(AA,AC){var v=(AC.changedTouches&&AC.changedTouches[0])||AC,AD=(AC.touches&&AC.touches.length)||0,AB=AA.gestures,AG=Z(v),AF=AB[AG]
	if(!AF){l("No gesture",AG,AA,v)
	return 
	}var z=AF.action,AH=f(AC,AF.s,v,AF.p2)
	if(!z){G(AA)
	if(!AF.wasMulti){z=P
	}}if(AD===0){U(AA)
	AA.gestures=[]
	l("gestures","clear all",AA,v)
	}else{AB[AG]=null
	l("gestures","clear single",AA,v)
	}L(AF.bubbleTarget,AG)
	switch(z){case p:case o:if(!mstrmojo.dom.isTouchOptimizationEnabled()){AH.stop()
	}q(AA,N,AH,z,AF)
	break
	case C:if(AD<2){q(AA,N,AH,z,AF)
	if(AD===1){var x=AC.touches[0],AE=f(AC,x,x),w=I(AE,AE,AE,AC)
	w.wasMulti=true
	AB[Z(x)]=w
	AA._singleTouch=w
	}}if(AD>0){return 
	}break
	case P:if(!b(AA,null,z)){break
	}var AI=AA._tapHandler
	if(AI){window.clearTimeout(AI.h)
	}if(AH.date-AF.s.date<F){if(q(AA,"Before",AH,z,AF)===false){break
	}if(!AA.multiTap){AH.count=1
	q(AA,null,AH,z,AF)
	}else{if(AI){AI.count++
	}else{AI=AA._tapHandler={count:1}
	}AI.h=window.setTimeout(function(){var AJ=X.isTouchOptimizationEnabled()
	if(AJ){AA.tapElement=AH.target
	}AH.count=AI.count
	q(AA,null,AH,z,AF)
	delete AA._tapHandler
	if(AJ){delete AA.tapElement
	}},D)
	}}else{delete AA._tapHandler
	}break
	}q(AA,N,AH,undefined,AF)
	if(!AA.enableBubble){n(AC)
	}}function d(w){var v=w._tn
	if(!v){return 
	}if(!w._tmCallback){w._tsCallback=function(x){H(w,x)
	}
	w._tmCallback=function(x){u(w,x)
	}
	w._teCallback=function(x){E(w,x)
	}
	}r(v,X.TOUCHSTART,w._tsCallback)
	}mstrmojo._TouchGestures=mstrmojo.provide("mstrmojo._TouchGestures",{_mixinName:"mstrmojo._TouchGestures",singleNode:false,multiTouch:false,touchNode:null,multiTap:true,enableBubble:true,monitorInputs:false,postBuildRendering:function O(){if(this._super){this._super()
	}this._tn=this.touchNode||this.domNode
	this.gestures=[]
	d(this)
	},bubbleTouchEvent:function g(AC){var z=AC.methodName,v=AC.id,w=this.gestures[v],x=this.parent
	while(x){var AB=x[z],AA=x.touchBegin
	if(AB&&(!AA||q(x,h,AC)!==false)){AC.methodName=z
	L(w.bubbleTarget,v)
	w.bubbleTarget=x
	x.gestures[v]=w
	l("bubble",((this.k)?" "+this.k:"")+"] bubbled "+z+" to ["+x.scriptClass+((x.k)?" "+x.k:"")+"]",this,AC)
	return AB.call(x,AC)
	}x=x.parent
	}return false
	},unrender:function A(w){if(m(this)){U(this)
	}var v=this._tn
	if(v){X.detachEvent(v,X.TOUCHSTART,this._tsCallback)
	}this._super(w)
	},restoreDefaultTouches:function R(v){if(Y){Y.allowDefaultTouches=v&&k
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.vi.enums.EnumPromptType")
	var B=mstrmojo.string,A=mstrmojo.vi.enums.EnumPromptType
	mstrmojo.ResSetLink=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.ResSetLink",SAME_PROMPT:1,DO_NOT_ANSWER:2,CLOSE:3,DYNAMIC:4,STATIC:5,CURRENT_UNIT:6,ALL_VALID_UNITS:7,USE_DEFAULT_ANSWER:8,DYNAMIC_OR_SAME_PROMPT:9,USE_FILTER_PANEL_SELECTIONS:10,toXml:function C(){var O=this,F=function(W,X){return" "+W+'="'+X+'"'
	},E=function(W,X){return F(W,mstrmojo.string.encodeXMLAttribute(X))
	},J=new mstrmojo.StringBuffer(),H=function(X,Y){var W=mstrmojo.string.multiReplace(Y.disp_n,{"&nbsp
	":" "})
	X.append("<e"+E("ei",B.decodeXMLAttribute(Y.ei))+E("disp_n",B.decodeXMLAttribute(W))+F("emt",Y.emt)+"/>")
	}
	var M=this.prms,D=M&&M.length
	if(D||O.aopam!=O.DO_NOT_ANSWER){J.append("<hl"+F("mid",O.mid)+F("srct",O.srct)+F("aopam",O.aopam)+">")
	if(D){J.append("<prms>")
	for(var I=0
	I<D
	I++){var U=M[I]
	J.append("<prm"+F("id",U.id)+F("am",U.am)+F("pt",U.pt))
	if(U.orid){J.append(F("orid",U.orid)+F("ortp",U.ortp))
	}J.append(">")
	switch(U.am){case O.DO_NOT_ANSWER:case O.CLOSE:case O.USE_DEFAULT_ANSWER:case O.SAME_PROMPT:break
	case O.STATIC:J.append('<pa ia="1"><es>')
	var S=U.pa.es,R=S&&S.length||0
	for(var N=R-1
	N>=0
	--N){var L=S[N]
	H(J,L)
	}J.append("</es></pa>")
	break
	case O.DYNAMIC:case O.CURRENT_UNIT:case O.DYNAMIC_OR_SAME_PROMPT:var Q=U.pa
	if(Q){J.append('<pa ia="1">')
	var P=Q.a
	if(P){J.append("<a"+F("id",P.id)+E("n",P.n)+">")
	}if(U.pt===A.CONSTANT){J.append(mstrmojo.string.encodeXMLAttribute(Q.v))
	}else{J.append("<es"+F("dispForms",P&&P.dispForms>=0?P.dispForms:"")+">")
	var S=Q.es
	R=S&&S.length||0
	for(var N=R-1
	N>=0
	--N){var L=S[N]
	H(J,L)
	}J.append("</es>")
	if(P){J.append("</a>")
	}}J.append("</pa>")
	}break
	case O.USE_FILTER_PANEL_SELECTIONS:var Q=U.pa
	if(Q&&U.pt===A.EXPRESSION){J.append('<pa ia="1">')
	J.append(JSON.stringify(Q.exp))
	J.append("</pa>")
	}break
	case O.ALL_VALID_UNITS:var Q=U.pa
	if(Q){J.append('<pa ia="1">')
	var P=Q.a,K=(P&&P.length)||0,G
	if(K===0&&U.pt===A.CONSTANT){J.append(mstrmojo.string.encodeXMLAttribute(Q.v))
	}else{J.append("<attGroups><attGroup>")
	for(G=0
	G<K
	G++){J.append("<a"+F("id",P[G].id)+E("n",P[G].n)+">")
	if(U.pt===A.CONSTANT){J.append(mstrmojo.string.encodeXMLAttribute(Q.v))
	}else{J.append("<es"+F("dispForms",P[G].dispForms>=0?P[G].dispForms:"")+">")
	H(J,Q.es[G])
	J.append("</es>")
	}J.append("</a>")
	}J.append("</attGroup></attGroups>")
	}J.append("</pa>")
	}break
	default:break
	}J.append("</prm>")
	}J.append("</prms>")
	}else{J.append("<prms/>")
	}J.append("</hl>")
	}return J.toString()
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Obj")
	function D(K,J){this.raiseEvent({name:"viCompBuilt",type:K,widget:J})
	}mstrmojo.vi.models.VIComponentMap=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.vi.models.VIComponentMap",init:function H(J){this._super(J)
	this.relativePanels={}
	this.comps={}
	},addRelativePanel:function G(J){this.relativePanels[J]=true
	},isRelativePanel:function F(J){return !!this.relativePanels[J]
	},isComponent:function E(K,J){return this.getComponentKey(K)===J
	},getComponent:function C(J){return this.comps[J]
	},setComponent:function I(K,J){this.comps[K]=J
	},getComponentKey:function B(K){var J=this.getComponent(K)
	return(J&&J.k)||""
	},createComponent:function A(M,L,K){D.call(this,M)
	var J=new L(K)
	this.setComponent(M,J)
	D.call(this,M,J)
	return J
	}})
	mstrmojo.vi.models.VIComponentMap.TYPES={FILTER_STACK:1,FILTER_PANEL:2,PAGEBY_STACK:3,PAGEBY_PANEL:4,VIZ_CONTENT:5,MAIN_CONTENT:6}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.WidgetListBuilder")
	mstrmojo.WidgetTreeBuilder=mstrmojo.provide("mstrmojo.WidgetTreeBuilder",mstrmojo.mixin({newContext:function A(B){var D=this._super(B)
	if(!B.itemFunction&&D.itemFunc){var C=D.itemFunc
	D.itemFunc=function(G,F,H){var E=C(G,F,H)
	if(E){E.tree=H.tree||H
	}return E
	}
	}return D
	}},mstrmojo.hash.copy(mstrmojo.WidgetListBuilder)))
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.taphold")
	var A=false,Q=mstrmojo.dom,W=16
	mstrmojo._HasContextMenu=mstrmojo.provide("mstrmojo._HasContextMenu",{cm:null,cmPos:null,itemField:"n",itemIdField:"did",itemChildrenField:"items",dynamicUpdate:false,queryChecked:function(X){return false
	},queryEnabled:function(X){return true
	},queryVisible:function(X){return true
	},executeCommand:function P(X){},item2textCss:function E(X){return X.cssClass||X.cmdId||("cmd"+X[this.itemIdField])
	},showContextMenu:function J(){if(!A){mstrmojo.requiresCls("mstrmojo.ContextMenu")
	A=true
	}var d=this._subMenu,b=this.getMenuPosition()
	if(!d){var f=(this.menuZIndex||this.zIndex||10)+1,Z={left:b.x+"px",top:b.y+"px",zIndex:f,visible:false,dynamicUpdate:this.dynamicUpdate,itemField:this.itemField,itemIdField:this.itemIdField,itemChildrenField:this.itemChildrenField,_cmSource:this.getContextMenuSource(),items:this.getContextMenuItems(),cssClass:this.getContextMenuCssClass(),placeholder:document.body.appendChild(document.createElement("div")),parent:this}
	d=new mstrmojo.ContextMenu(Z)
	d.render()
	this._subMenu=d
	}else{d.set("left",b.x+"px")
	d.set("top",b.y+"px")
	}if(this.dynamicUpdate){var Y=d.ctxtBuilder.itemWidgets,a=Y&&Y.length,X,c,e=this.getContextMenuSource()
	for(X=0
	X<a
	X++){c=Y[X]
	if(e.queryVisible){c.set("visible",e.queryVisible(c.data))
	}if(e.queryChecked){c.set("checked",e.queryChecked(c.data))
	}if(e.queryEnabled){c.set("enabled",e.queryEnabled(c.data))
	}}}d.set("visible",true)
	this.callOnContextMenuOpen()
	this.adjustMenuPosition()
	this.attachMousedownEvent()
	},hideContextMenu:function I(){var X=this._subMenu
	if(X&&X.visible){this._subMenu.set("visible",false)
	this.callOnContextMenuClose()
	}},adjustMenuPosition:function O(){var X=this._subMenu,a=this._subMenu.domNode,Z=a.offsetHeight,Y=a.offsetWidth,d=Q.windowDim(),c=Q.position(a,false),b=Q.position(a,true)
	if((c.x+Y+W)>d.w){X.set("left",(d.w-Y-W+(b.x-c.x))+"px")
	}if((c.y+Z+W)>d.h){X.set("top",(d.h-Z-W+(b.y-c.y))+"px")
	}},attachMousedownEvent:function M(){var X=this
	if(!this._close_handler){this._close_handler=function(Y){X.closeMenuHandler(Y)
	}
	}Q.attachEvent(document.body,"mousedown",this._close_handler)
	},closeMenuHandler:function R(X){if(!this.isOnMySubmenu(Q.eventTarget(self,X))){this.closeMenuTree()
	}},isOnMySubmenu:function N(b){var Y=this._subMenu
	if(!Y){return false
	}if(Q.contains(Y.domNode,b,true,document.body)){return true
	}var c=Y.ctxtBuilder.itemWidgets,X=c&&c.length,a,Z
	for(a=0
	a<X
	a++){Z=c[a]
	if(Z.isOnMySubmenu(b)){return true
	}}return false
	},oncmChange:function K(){delete this._subMenu
	},callOnContextMenuOpen:function D(){if(this.onContextMenuOpen){this.onContextMenuOpen()
	}},callOnContextMenuClose:function C(){if(this.onContextMenuClose){this.onContextMenuClose()
	}},getContextMenuItems:function U(){return this.cm
	},getContextMenuCssClass:function B(){return this.cmCssClass||""
	},getContextMenuSource:function H(){return this
	},getMenuPosition:function F(){if(this.cmPos){return this.cmPos
	}var X=Q.position(this.domNode,true)
	return{x:Math.round(X.x),y:Math.round(X.y+X.h)}
	},isSeparatorItem:function G(X){return X[this.itemIdField]===-1||X[this.itemField]==="-"
	},hasSubmenu:function L(X){return !!X[this.itemChildrenField]
	},closeMenuTree:function S(Z){var Y=this.activeMenuItem,X=this._cmSource||this
	if(!Y){if(Z){this.activeMenuItem=Z
	}else{X.hideContextMenu()
	}return 
	}if(Y===Z){return 
	}if(Z){this.activeMenuItem=Z
	if(Z.parent.parent===Y){return 
	}if(Z.parent===Y.parent){Y.hideContextMenu()
	return 
	}}else{Z=X
	this.activeMenuItem=null
	}Y.hideContextMenu()
	while(Y!==X){Y=Y.parent.parent
	if(Y!==Z||X===Z){Y.hideContextMenu()
	if(X===Z){Q.detachEvent(document.body,"mousedown",this._close_handler)
	}}if(Y.parent===Z.parent){break
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.array","mstrmojo.css","mstrmojo.vi.ui.rw._IsMultiselectXtab")
	var d=mstrmojo.dom,j=mstrmojo.css
	function Z(l,m){mstrmojo.array.forEach(l,function(n){if(n.height===0){n.style.height=""
	n.style.height=m*n.offsetHeight+"px"
	}})
	}function N(){var l=this._outlineRenderTimer
	if(l){self.clearInterval(l)
	delete this._outlineRenderTimer
	this.renderingRows=false
	}}function Q(l,q,u,n,p,o,t){var r=this,m=this.id
	this.renderingRows=true
	this._outlineRenderTimer=self.setInterval(function(){try{if(!l){return 
	}var v=[],x=l.pageStatus[q],AA=0,z=l.rowsPerPage
	if(!x||!x.filled){v.push({idx:q,fill:true})
	}if(v.length>0){l.preRenderPages()
	l.renderPages(v)
	l.postRenderPages()
	l._postPagesClearup=true
	}else{if(l._postPagesClearup){l.postRenderPagesCleanup()
	l.configureActions()
	l._postPagesClearup=false
	}N.call(r)
	if(l.isRenderingComplete()){l.postRenderingCleanup()
	}if(o){q++
	if(l.pageStatus[q]){Q.call(r,l,q,u,n,p,o)
	}else{W.call(r)
	r.domNode.style.visibility="visible"
	}}else{if(t){Y.call(r,u,n,p,t)
	}else{C.call(r,u,n,p,t)
	}}}}catch(w){N.call(r)
	throw w
	}},l.renderPause)
	}function g(){var n=this.scrollboxNode
	if(!this.heightLimit){n.style.height=n.firstChild.offsetHeight+(n.offsetHeight-n.clientHeight)+"px"
	}var m=this.xtabClonedNodes,l
	for(l in m){m[l].refreshNode()
	}this._adjustClipSize()
	this.alignLockNodes(this.scrollboxLeft,this.scrollboxTop)
	}function G(){var l=this.getTargetZone()
	if(l&&l.onscroll){l.onscroll()
	}}function W(){j.removeClass(this.domNode,"outlineBusyCursor")
	var l=this.scrollboxNode
	if(!this.heightLimit){l.style.height=l.firstChild.offsetHeight+(l.offsetHeight-l.clientHeight)+"px"
	this.refreshResizeHandlers()
	}if(!this.widthLimit){this.scrollboxNode.firstChild.style.position="relative"
	this.onGridWidthChanged()
	}if(this.scrollboxHeightFixed){g.call(this)
	this._refreshClonedNodes()
	}this.refreshResizeHandlers()
	G.call(this)
	this.updateScrollbars&&this.updateScrollbars()
	}function D(m,l){if(!m){return 
	}if(l){m.className="icon-outline-span outline-expand"
	m.setAttribute("collapsed",true)
	}else{m.className="icon-outline-span outline-collapse"
	m.setAttribute("collapsed",false)
	}}function a(){if(this.allPagesLoaded){return true
	}var n=0,q=this.children[0].pageStatus,l=q.length
	for(n=0
	n<l
	n++){if(!q[n].filled){return false
	}}this.allPagesLoaded=true
	var u=this.getTargetZone().tableNode,t=u.rows,r=this.gridData.maxLevel,o,p,m
	l=t.length
	P.call(this,r,true)
	for(n=0
	n<l
	n++){m=t[n].getElementsByClassName("icon-outline-span")[0]
	p=(m&&parseInt(m.getAttribute("dpt"),10))||0
	if(p>0){p=parseInt(m.getAttribute("dpt"),10)
	o="depth"+(p-1)
	this.maxIndividualCollapseCount[o]+=1
	if(m.getAttribute("collapsed")==="true"){this.individualCollapseCount[o]+=1
	}}}return true
	}function L(l){l.setAttribute("collapsed","true")
	l.className="icon-outline-span outline-expand"
	}function h(l,n){var m=(typeof l==="number"&&l>=0)
	return m?l:n
	}function C(x,p,u,v){var AA=x.rows,r=AA.length,l=this.getTargetZone(),z,t,o,n=0,q=true,m=this.startCollapseRowIndex,w
	for(o=u+1
	o<r
	o++){z=AA[o]
	t=parseInt(z.getAttribute("level"),10)
	if(isNaN(t)){n=parseInt(z.parentElement.getAttribute("n")||1,10)
	if((u===o-1)&&l.pageStatus[n].filled===true){o++
	}break
	}if(t<=p){n=parseInt(z.parentElement.getAttribute("n")||0,10)+1
	if(n<l.totalPages&&l.pageStatus[n].filled){q=false
	}delete this.outlineState.collapseToLevel
	break
	}}if(o===r){n=parseInt(AA[r-1].parentElement.getAttribute("n")||0,10)+1
	if(n<l.totalPages&&l.pageStatus[n].filled===true){n++
	}}if(q&&n<l.totalPages){Q.call(this,l,n,x,p,o-1,false,v)
	}else{w=h(m,u)
	M.call(this,x,p,w,v)
	if(this.isAutoTableLayout()){g.call(this)
	}delete this.startCollapseRowIndex
	delete this.outlineState.collapseToLevel
	}}function Y(x,p,u,v){var AA=x.rows,r=AA.length,l=this.getTargetZone(),z,t,o,n=l.pageStatus.length,q=true,m=this.startCollapseRowIndex,w
	for(o=u+1
	o<r
	o++){z=AA[o]
	t=parseInt(z.getAttribute("level"),10)
	if(isNaN(t)){n=parseInt(z.parentElement.getAttribute("n")||1,10)
	if(l.pageStatus[n].filled===true){l.pageStatus[n].filled=false
	o++
	}break
	}if(t<=p){n=parseInt(z.parentElement.getAttribute("n")||0,10)+1
	if(n<l.totalPages&&l.pageStatus[n].filled){q=false
	}delete this.outlineState.collapseToLevel
	break
	}}if(q&&n<l.totalPages){Q.call(this,l,n,x,p,o-1,false,v)
	}else{w=h(m,u)
	M.call(this,x,p,w,v)
	if(this.isAutoTableLayout()){g.call(this)
	}delete this.startCollapseRowIndex
	delete this.outlineState.collapseToLevel
	}}function M(AI,o,t,m){var AJ=this,AA=AI.rows,AG=AA.length,u,n,p,AE,AD,z="outlineMode "+(m?"":" hiddenRow"),AH=AJ.getStickedTableNodes(),l=AJ.children[0],AC=this.outlineState,AF,q,v=this.model.docModel.getZoomFactor(),x=l.rowsPerPage
	for(AE=t+1
	AE<AG
	AE++){u=AA[AE]
	p=parseInt(u.getAttribute("level"),10)
	if(p<=o){break
	}if(m&&p>o+1){continue
	}u.className=z
	q=u.getAttribute("ei")
	AF=u.getElementsByClassName("icon-outline-span")[0]
	if(!m){AC[q]={expanded:false,hidden:true}
	if(AF&&AF.getAttribute("collapsed")!=="true"){AJ.individualCollapseCount["depth"+(p-1)]+=1
	L(AF)
	}}else{AC[q]={expanded:false,hidden:false}
	if(v!==1){Z(u.getElementsByTagName("img"),v)
	}}for(AD=0
	AD<AH.length
	AD++){n=AH[AD].rows[AE]
	if(n){n.className=z
	if(!m){AF=n.getElementsByClassName("icon-outline-span")[0]
	if(AF){L(AF)
	}}else{if(v!==1){Z(n.getElementsByTagName("img"),v)
	}}}}}W.call(AJ)
	var r="depth"+(o-1)
	if(a.call(AJ)){if(AJ.individualCollapseCount[r]===0){S.call(AJ,o+1,true)
	}else{if(!m&&this.maxIndividualCollapseCount[r]===this.individualCollapseCount[r]){R.call(AJ,o)
	}}}var AB=mstrmojo.findAncestor(this,"adjustAutoWidth",null,mstrmojo.grid)
	if(AB){AB.adjustAutoWidth(this)
	}}function S(p,m){if(!this.gridData.gts.show){return 
	}var o=this.getTargetZone().tableNode,q=this.getStickedTableNodes(),l=p-1,r,n
	q.push(o)
	mstrmojo.array.forEach(q,function(t){var u=t.rows[0].getElementsByClassName("icon-outline-span")
	for(n=0
	n<u.length
	n++){r=u[n]
	if(n<l){r.setAttribute("collapsed",0)
	j.removeClass(r,"outline-expand")
	j.addClass(r,"outline-collapse")
	}else{if(!m){r.setAttribute("collapsed",1)
	j.removeClass(r,"outline-collapse")
	j.addClass(r,"outline-expand")
	}}}})
	}function R(m){if(m===this.gridData.maxLevel){return 
	}var l="depth"+(m-1)
	if(this.individualCollapseCount[l]===this.maxIndividualCollapseCount[l]){S.call(this,m)
	}else{R.call(this,m+1)
	}}function P(q,m){var o=this.gridData,l=o.maxLevel||(o.gts&&o.gts.row&&o.gts.row.length)||0,p,n
	for(n=0
	n<l
	n++){p="depth"+n
	if(m){this.maxIndividualCollapseCount[p]=0
	}if(n>=q){this.individualCollapseCount[p]=this.maxIndividualCollapseCount[p]
	}else{this.individualCollapseCount[p]=0
	}}}function J(){var m=this.gridData,l=m.gts.show?1:0
	if(m.gts.col&&m.gts.col.length>1){l=m.gts.col.length
	}return l
	}function U(){this.outlineState={}
	if(mstrApp.outlineStates[this.id]){delete mstrApp.outlineStates[this.id]
	}}function O(){this.retainOutlineState=true
	if(!mstrApp.outlineStates[this.id]){mstrApp.outlineStates[this.id]=this.outlineState
	}}mstrmojo.vi.ui.rw._IsOutlineXtab=mstrmojo.provide("mstrmojo.vi.ui.rw._IsOutlineXtab",{_mixinName:"mstrmojo.vi.ui.rw._IsOutlineXtab",init:function c(l){if(this._super){this._super(l)
	}if(!mstrApp.outlineStates){mstrApp.outlineStates={}
	}},onclick:function k(x){var u=this,t=x.getTarget&&x.getTarget(),q=t&&d.findAncestorByName(t,"td",true,this.viewport),n=q&&d.findAncestorByName(t,"span",true,q),r=n&&parseInt(n.getAttribute("expandTo"),10)
	if(n&&(n.getAttribute("sty")==="outimg"||r>=1)){var z=q.parentElement
	if(n&&!x.shiftKey&&!x.ctrlKey){var AA=this.getTargetZone().tableNode
	if(this.renderingRows){return 
	}if(r>=1){U.call(this)
	this.scrollboxNode.scrollTop=0
	var v=this.gridData,l=u.model.getDataService(),p=parseInt(n.getAttribute("collapsed"),10)||0
	r+=p?1:0
	S.call(this,r)
	v.lvlepd=r=r<v.maxLevel?r:-1
	l.setOutlineExpanding({xtab:u,outlineLevel:r})
	window.setTimeout(function(){u.refresh()
	},10)
	}else{if(n.getAttribute("sty")==="outimg"){j.addClass(this.domNode,"outlineBusyCursor")
	var o=parseInt(n.getAttribute("dpt"),10),w=t.getAttribute("collapsed")==="true",m=z.getAttribute("ei")
	this.outlineState[m]={expanded:w,hidden:false}
	if(w){t.className="icon-outline-span outline-collapse"
	t.setAttribute("collapsed","false")
	this.individualCollapseCount["depth"+(o-1)]-=1
	window.setTimeout(function(){u.outlineState.isExpanding=true
	u.outlineState.collapseToLevel=o+1
	u.startCollapseRowIndex=z.rowIndex
	Y.call(u,AA,o,z.rowIndex,true)
	},10)
	}else{t.className="icon-outline-span outline-expand"
	t.setAttribute("collapsed","true")
	this.individualCollapseCount["depth"+(o-1)]+=1
	window.setTimeout(function(){u.outlineState.isExpanding=false
	u.outlineState.collapseToLevel=o
	u.startCollapseRowIndex=z.rowIndex
	C.call(u,AA,o,z.rowIndex,false)
	},10)
	}}}}}else{this._super(x)
	}},handleSingleTapOutlineCell:function b(q){var t=this,n=q&&q.getElementsByClassName("icon-outline-span")[0],r=n&&parseInt(n.getAttribute("expandTo"),10)
	var w=q.parentElement
	if(n){var x=this.getTargetZone().tableNode
	if(this.renderingRows){return 
	}if(r>=1){U.call(this)
	this.scrollboxNode.scrollTop=0
	var u=this.gridData,l=t.model.getDataService(),p=parseInt(n.getAttribute("collapsed"),10)||0
	r+=p?1:0
	S.call(this,r)
	u.lvlepd=r=r<u.maxLevel?r:-1
	l.setOutlineExpanding({xtab:t,outlineLevel:r})
	window.setTimeout(function(){t.refresh()
	},10)
	}else{if(n.getAttribute("sty")==="outimg"){j.addClass(this.domNode,"outlineBusyCursor")
	var o=parseInt(n.getAttribute("dpt"),10),v=n.getAttribute("collapsed")==="true",m=w.getAttribute("ei")
	this.outlineState[m]={expanded:v,hidden:false}
	if(v){n.className="icon-outline-span outline-collapse"
	n.setAttribute("collapsed","false")
	this.individualCollapseCount["depth"+(o-1)]-=1
	window.setTimeout(function(){t.outlineState.isExpanding=true
	t.outlineState.collapseToLevel=o+1
	t.startCollapseRowIndex=w.rowIndex
	Y.call(t,x,o,w.rowIndex,true)
	},10)
	}else{n.className="icon-outline-span outline-expand"
	n.setAttribute("collapsed","true")
	this.individualCollapseCount["depth"+(o-1)]+=1
	window.setTimeout(function(){t.outlineState.isExpanding=false
	t.outlineState.collapseToLevel=o
	t.startCollapseRowIndex=w.rowIndex
	C.call(t,x,o,w.rowIndex,false)
	},10)
	}}}}},refresh:function I(l,u){var r=this
	if(u){var q=this.getTargetZone(),x=q&&q.tableNode,v=this.gridData
	if(!v||!q||!x){return this._super(l,u)
	}var t=this.getFormats(),o=q.gridContainerNode,n=this.xtabClonedNodes||[],m=(t&&t.width)||o.style.width,w=(t&&t.height)||this.scrollboxNode.style.height,p=parseInt(m,10)
	if(v.afc){p=Math.max(x.offsetWidth,p)
	}o.style.width=p+"px"
	mstrmojo.array.forEach(n,function(z){if(z.domNode){z.domNode.firstChild.style.width=p+"px"
	}})
	this.widthLimit=p
	this.heightLimit=parseInt(w,10)
	this.scrollboxNode.style.height=w
	this.resize()
	this.updateScrollbars()
	return 
	}this._super(l)
	},postBuildRendering:function f(){var p=this.gridData
	this.isOutlineMode=(p&&p.olm&&!(p.rw&&p.rw.row.bc>0)&&!this.defn.txi)
	if(mstrApp.outlineStates[this.id]){this.outlineState=mstrApp.outlineStates[this.id]
	}else{if(!this.outlineState){this.outlineState={}
	}}this._super()
	var n=this.getTargetZone(),o=n&&n.tableNode
	if(!p||!n||!o){return 
	}var q=p.lvlepd||0,m=p.maxLevel||(p.gts&&p.gts.row&&p.gts.row.length)||0,l=p.olm&&!(p.rw&&p.rw.row.bc>0)&&(q>=1&&q<m)
	this.allPagesLoaded=false
	this.individualCollapseCount={}
	this.maxIndividualCollapseCount={}
	P.call(this,m,true)
	if(l){if(this.scrollboxHeightFixed){n._defaultPageHeight=Math.min(o.tBodies[0].offsetHeight,n._defaultPageHeight)
	n.gridContainerNode.style.minHeight=n._defaultPageHeight*n.totalPages+"px"
	}S.call(this,q)
	this.scrollboxNode.scrollTop=0
	G.call(this)
	}},gridPagesRendered:function B(){this._super()
	if(a.call(this)&&!this.outlineState.isExpanding){R.call(this,1)
	}},isOutlineMode:true,showBanding:function A(l){O.call(this)
	this._super(l)
	},formatGridZone:function X(n,m,l,p,o){O.call(this)
	this._super(n,m,l,p,o)
	},batchFormatGridZones:function E(n,m,l){O.call(this)
	this._super(n,m,l)
	},formatPadding:function K(m,n,l){O.call(this)
	this._super(m,n,l)
	},updateRelatedColWidths:function F(l){O.call(this)
	this._super(l)
	},updateScenario:function H(m,l){O.call(this)
	this._super(m,l)
	},unrender:function e(l){if(!this.retainOutlineState){U.call(this)
	}else{this.retainOutlineState=false
	}this._super(l)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.vi.util.A11yUtility","mstrmojo.css")
	var F=mstrmojo.array,A=mstrmojo.css,E=mstrmojo.dom,D=mstrmojo.vi.util.A11yUtility
	function B(){var Y=this,N=this.navMode||(this.popupConfig&&this.popupConfig.navMode),M=this.itemsContainerNode,H=(M&&M.childNodes)||[],P=this.multiSelect===true,O,J,X,Q=function(){for(O=0
	O<H.length
	O++){X=H[O]
	if(X===document.activeElement){X.blur()
	A.removeClass(X,D.CSS_FOCUS_VISIBLE)
	A.addClass(X,"ignore-hover")
	break
	}}},G=function(Z){if(N){A.addClass(Z.target,D.CSS_FOCUS_VISIBLE)
	}},S=function(Z){if(N){A.removeClass(Z.target,D.CSS_FOCUS_VISIBLE)
	}},W=function(Z){if(N){Q()
	Y.navMode=N=false
	}else{J=Z.target.parentElement
	if(!J.classList.contains("separator")){J.focus()
	A.removeClass(J,D.CSS_FOCUS_VISIBLE)
	}for(O=0
	O<H.length
	O++){X=H[O]
	A.removeClass(X,"ignore-hover")
	}}},L=function(Z){if(N){J=Z.target.parentElement
	if(!J.classList.contains("separator")){A.removeClass(X,"ignore-hover")
	}}},U=function(Z){var b=Z.code==="ArrowUp",a=Z.code==="ArrowDown"
	if(!b&&!a){return 
	}if(N){J=Z.target
	var c=parseInt(J.getAttribute("idx"),10)+(b?-1:1)
	while(c>=0&&c<=H.length&&H[c]&&H[c].classList.contains("separator")){c+=(b?-1:1)
	}for(O=0
	O<H.length
	O++){X=H[O]
	if(O===c){A.removeClass(X,"ignore-hover")
	}else{A.addClass(X,"ignore-hover")
	}}}else{Q()
	Y.navMode=N=true
	}}
	for(O=0
	O<H.length
	O++){X=H[O]
	if(P){X.setAttribute("role","checkbox")
	var K=X.classList.contains("selected")
	X.setAttribute("aria-checked",K)
	var R=this.parent&&this.parent.btnNode&&this.parent.btnNode.children||[]
	F.forEach(R,function(Z){Z.setAttribute("aria-role","button")
	})
	}else{X.setAttribute("role","menuitem")
	}X.setAttribute("tabindex","-1")
	if(X.classList.contains("pop")){X.setAttribute("aria-haspopup",true)
	}X.onfocus=G
	X.onblur=S
	X.onmouseover=W
	X.onmouseout=L
	X.onkeydown=U
	if(N&&O===0){X.focus()
	}}var I=this.scriptClass==="mstrmojo.vi.ui.InteractiveUnitList"?this.getListContainer():this.domNode
	if(I){I.setAttribute("role","menu")
	E.attachEvent(I,"keydown",function(Z){E.captureDomEvent(this.id,this.evtName,Y,Z)
	}.bind({id:I.mstrmojoId,evtName:"keydown"}))
	}}mstrmojo._IsAccessibleMenu=mstrmojo.provide("mstrmojo._IsAccessibleMenu",{_mixinName:"mstrmojo._IsAccessibleMenu",hasAccessibility:true,enableAccessibility:function C(){if(this._super){this._super()
	}var H="popup-mid-render"
	var G=(this.children&&this.children[0])||this
	if(G.accessibilityMenuContainer){var I=G.accessibilityMenuContainer()
	A.removeClass(this.domNode,H)
	B.call(I)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListMapper")
	var D=1,B="mstrmojo-itemwrap"
	mstrmojo.ListMapperHoriz=mstrmojo.provide("mstrmojo.ListMapperHoriz",mstrmojo.hash.copy({markupPrefix:'<table class="mstrmojo-itemwrap-table" cellspacing="0" cellpadding="0"><tbody><tr>',markupSuffix:"</tr></tbody></table>",itemWrapperPrefix:function(H){return'<td class="'+this.getWrapperCss(H)+'">'
	},getWrapperCss:function(H){return"mstrmojo-itemwrap-td"
	},itemWrapperPrefill:"&nbsp
	&nbsp
	&nbsp
	&nbsp
	&nbsp
	&nbsp
	&nbsp
	",itemWrapperSuffix:"</td>",wrapperNodes:function G(H){return this.wrapperParentNode(H).cells
	},wrapperParentNode:function F(H){return H.firstChild.rows[0]
	},createWrapperNode:function E(H){var I=H.ownerDocument,J=I.createElement("td")
	return J
	},findScrollRange:function C(W,L,S,Z,I,P,a,Y){var Q=this.wrapperNodes(W),R=parseInt(L/2,10),K=parseInt(Math.log(L)/Math.log(2),10),J=0,H=L-1,U=I+P,M=Q[0].offsetLeft,O
	for(var X=1
	X<=K
	X++){O=Q[R].offsetLeft-M+a
	if(O<=I){J=R
	}else{if(O>=U){H=R
	}}var N=Math.round(L/Math.pow(2,X+1))
	R+=(O>I)?-N:N
	R=Math.min(Math.max(0,R),L-1)
	}return{start:J,end:H}
	},findIndex:function A(I,M,K){if(M&&K){var H=I.domNode,L=this.wrapperParentNode(M),J=K.parentNode
	while(J){if(J===L){return mstrmojo.array.findBin(this.wrapperNodes(M),K,"offsetLeft",I.items&&I.items.length)
	}else{if(J===H){break
	}}K=J
	J=K.parentNode
	}}return -1
	}},mstrmojo.hash.copy(mstrmojo.ListMapper)))
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.models.FormatModel","mstrmojo.vi.models.editors.EnumXtabEditorModelStyles")
	var J=mstrmojo.array,O=mstrmojo.hash,L=mstrmojo.models.FormatModel.ENUM_PROPERTY_NAMES,P=mstrmojo.vi.models.editors.EnumXtabEditorModelStyles
	var M=2,Q=3,Z=4
	var K="1pt solid",F="none"
	var B=P.ENUM_STYLE_NAME,G=P.DEFAULT_TEMPLATE_PROPS
	var D=P.ENUM_TARGET_FORMAT
	var W={FMT_GROUP_GRID_COLOR:{type:[D[M],"st.ch"],props:[L.BACKGROUND_COLOR,L.BORDER_BOTTOM_COLOR,L.BORDER_BOTTOM_COLOR]},FMT_GROUP_GRID_STYLE:{type:[D[M],D[Q],D[Z],"st.ch","st.rh","st.va"],props:[L.BORDER_BOTTOM_STYLE,L.BORDER_RIGHT_STYLE]}}
	var Y={FLAT:mstrmojo.desc(7805,"Flat"),CLASSIC:mstrmojo.desc(125,"Classic"),CUSTOM:"Custom"}
	function U(){var c=[],b={}
	b[B.FLAT]=0
	b[B.CLASSIC]=1
	b[B.CUSTOM]=-1
	c[b[B.FLAT]]={id:B.FLAT,n:Y.FLAT,css:B.FLAT,brs:F,bbs:K}
	c[b[B.CLASSIC]]={id:B.CLASSIC,n:Y.CLASSIC,css:B.CLASSIC,brs:K,bbs:K}
	this._styleItems=c
	this._styleItemIndexMap=b
	}function H(b){return Object.keys(b).length===0
	}var A={}
	function X(b){if(!A[b]){A[b]=mstrmojo.color.encodeColor(b)
	}return A[b]
	}function N(c,b){return(c.substring&&c.substring(0,1)==="#")?X(c)===X(b):c===b
	}function S(c,d){var b=true
	O.forEach(c,function(f,e){if(d[e]===undefined){b=false
	}else{if(typeof d[e]==="object"){if(H(d[e])){b=true
	}else{b=S(f,d[e])
	}}else{b=N(d[e],f)
	}}if(!b){return false
	}})
	return b
	}mstrmojo.vi.models.editors._XtabEditorModelStyle=mstrmojo.provide("mstrmojo.vi.models.editors._XtabEditorModelStyle",{mixinName:"mstrmojo.vi.models.editors._XtabEditorModelStyle",_styleItems:null,_styleItemIndexMap:null,targetFormatMap:D,getSelectedGridStyle:function E(b){var c=W.FMT_GROUP_GRID_STYLE,f=c.props,d=c.type,g=this.getStyleItems(),e=null,h=function(j){if(j===K){return 1
	}else{if(j===F){return 0
	}}return -1
	}
	J.forEach(g,function(j){e=j.id
	J.forEach(d,function(l){var k=O.walk(l,b)
	if(H(k)){return true
	}J.forEach(f,function(m){if(k[m]!==h(j[m])){e=null
	return false
	}})
	if(!e){return false
	}})
	if(e){return false
	}})
	return e||B.CUSTOM
	},isColumnHeaderFillColor:function R(b,c){var d=[D[M],"st.ch"],f=L.BACKGROUND_COLOR,e
	return d.every(function(g){e=O.walk(g,b)[f]
	return e&&N(e,c)
	})
	},getSelectedColorIndex:function a(d,c){var g=-1,b=g,f=W.FMT_GROUP_GRID_COLOR.type,e=W.FMT_GROUP_GRID_COLOR.props
	if(!S(G,d)){return b
	}J.forEach(c,function(j,h){b=h
	J.forEach(f,function(l){var k=O.walk(l,d)
	J.forEach(e,function(m){if(!N(k[m],j[m])){b=g
	return false
	}})
	if(b===g){return false
	}})
	if(b!==g){return false
	}})
	return b
	},getStyleItems:function C(){if(!this._styleItems){U.call(this)
	}return this._styleItems
	},getStyleItemIndexMap:function I(){if(!this._styleItemIndexMap){U.call(this)
	}return this._styleItemIndexMap
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.ListMapper")
	var C=1
	mstrmojo._hasWidgetListMapper={buildItemWrappers:function A(H,G,F,E,J,I){E.first=J
	E.last=I
	return this._super(H,G,F,E,0,0)
	},postBuildRendering:function B(K,I,H,G,F){var J=F.first
	if(J){this.fillItemWrappers(K,I,H,G,F,0,J)
	}if(F.last){var E=I&&I.length||0,L=Math.max(Math.max(0,E-F.last),J)
	this.fillItemWrappers(K,I,H,G,F,L,E)
	}if(this._super){this._super(K,I,H,G,F)
	}},fillItemWrappers:function D(F,N,K,R,M,E,I,Q){var L=(N&&N.length)||0,P=this.wrapperNodes(F),S=M.itemStatus
	for(var J=E,O=Math.min(I+1,L),H=0
	J<O
	J++){if(S[J]!==C){var G=K.build(R,M,N[J],J)
	if(G){G.placeholder=P[J].firstChild
	G.render()
	}H++
	if(H===Q){break
	}}}return H
	},onchange:null}
	mstrmojo.WidgetListMapper=mstrmojo.provide("mstrmojo.WidgetListMapper",mstrmojo.mixin(mstrmojo._hasWidgetListMapper,mstrmojo.hash.copy(mstrmojo.ListMapper)))
	mstrmojo.WidgetListMapper.RENDERED=C
	mstrmojo.requiresCls("mstrmojo.ListMapperHoriz")
	mstrmojo.WidgetListMapperHoriz=mstrmojo.provide("mstrmojo.WidgetListMapperHoriz",mstrmojo.mixin(mstrmojo._hasWidgetListMapper,mstrmojo.hash.copy(mstrmojo.ListMapperHoriz)))
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.registry","mstrmojo._HasContextMenu","mstrmojo.Widget","mstrmojo.url")
	var G=mstrmojo.dom,L=mstrmojo.css,D=mstrmojo.url,O=16
	mstrmojo.ContextMenuItem=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._HasContextMenu],{scriptClass:"mstrmojo.ContextMenuItem",SUBMENU_SHIFT:3,visible:true,checked:false,enabled:true,allowHMTL:false,buildDom:function(){var X=document.createElement("tr"),Y=this.data,b=this._cmSource,S,U
	X.id=this.id
	X.className="mstrmojo-ContextMenuItem "+(b.isSeparatorItem(Y)?"separator":b.item2textCss(Y))
	var Z=this,a=function(){Z.handleMouseOver()
	},W=function(){Z.handleMouseOut()
	},R=function(){Z.handleClick()
	}
	G.attachEvent(X,"mouseover",a)
	G.attachEvent(X,"mouseout",W)
	G.attachEvent(X,"click",R)
	S=document.createElement("td")
	X.appendChild(S)
	S.className="mstrmojo-CMI-left"
	U=document.createElement("img")
	U.src=D.getPlaceholderImageURL()
	S.appendChild(U)
	S=document.createElement("td")
	X.appendChild(S)
	S.className="mstrmojo-CMI-text"
	if(b.isSeparatorItem(Y)){U=document.createElement("img")
	U.src=D.getPlaceholderImageURL()
	}else{U=document.createElement("div")
	U.className="mstrmojo-CMI-content"
	if(Y.itemWidget){S.innerHTML="&nbsp"
	}else{if(this.allowHTML){S.innerHTML=Y[this.itemField]
	}else{S.innerText=Y[this.itemField]
	}}}S.appendChild(U)
	S=document.createElement("td")
	X.appendChild(S)
	S.className="mstrmojo-CMI-right "+(this.hasSubmenu?"sm":"")
	U=document.createElement("img")
	U.src=D.getPlaceholderImageURL()
	S.appendChild(U)
	return X
	},buildRendering:function N(){this._super()
	var R=this.data.itemWidget
	if(R){R.placeholder=this.domNode.cells[1].children[0]
	R.data=this.data
	R=mstrmojo.insert(R)
	R.render()
	R.parent=this
	this.itemWidget=R
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"":"none"
	},oncheckedChange:function(){L.toggleClass(this.domNode,["checked"],this.checked)
	},onenabledChange:function(){L.toggleClass(this.domNode,["disabled"],!this.enabled)
	}},getMenuPosition:function J(){var R=G.position(this.domNode,true)
	return{x:Math.round(R.x+R.w-this.SUBMENU_SHIFT),y:Math.round(R.y)}
	},getContextMenuItems:function B(){return this.data[this.itemChildrenField]
	},getContextMenuCssClass:function E(){return this.data.cmCssClass||""
	},callOnContextMenuOpen:function M(){var R=this.data
	if(R.onContextMenuOpen){R.onContextMenuOpen.apply(this,[])
	}},callOnContextMenuClose:function A(){var R=this.data
	if(R.onContextMenuClose){R.onContextMenuClose.apply(this,[])
	}},attachMousedownEvent:function K(){},getContextMenuSource:function Q(){return this._cmSource
	},adjustMenuPosition:function H(){var R=this._subMenu,W=this._subMenu.domNode,U=W.offsetHeight,S=W.offsetWidth,Z=G.windowDim(),Y=G.position(W,false),X=G.position(W,true)
	if((Y.x+S+O)>Z.w){R.set("left",(G.position(this.domNode,true).x-S)+"px")
	}else{R.set("left",(G.position(this.domNode,true).x+this.domNode.offsetWidth)+"px")
	}if((Y.y+U+O)>Z.h){R.set("top",(Z.h-U-O+(X.y-Y.y))+"px")
	}},handleMouseOver:function P(){var R=this,S=function(){if(R.hasSubmenu){R.showContextMenu()
	}R._cmSource.closeMenuTree(R)
	R._mouseOverTimer=null
	}
	if(this._cmSource.activeMenuItem!==this){this._mouseOverTimer=window.setTimeout(S,80)
	}},handleMouseOut:function I(){if(this._mouseOverTimer){window.clearTimeout(this._mouseOverTimer)
	this._mouseOverTimer=null
	}},closeMenuTree:function C(){this._cmSource.closeMenuTree()
	},handleClick:function F(){if(this.hasSubmenu){return 
	}var R=this._cmSource,S=this.data
	if(!this.itemWidget){if(!R.isSeparatorItem(S)&&R.queryEnabled(S)){if(R.executeCommand){R.executeCommand(this.data)
	}R.closeMenuTree()
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.array","mstrmojo.hash","mstrmojo.StringBuffer","mstrmojo.ResSetLink","mstrmojo.vi.enums.EnumFeatures","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo._XtabModelShared")
	var d=1,O=2
	var R=1,J=4
	var b=mstrmojo.array,X=mstrmojo.hash,H=mstrmojo.mstr.EnumDSSXMLObjectSubTypes
	function E(e,f){return e[((f===d)?"row":"col")]
	}function B(e,g){var f=g.lm
	return f&&f[e.mix||0]
	}function Z(f,l,r){var p=new mstrmojo.ResSetLink({mid:this.getMessageId(),srct:l.target.t||2,aopam:l.daMode})
	var m=l.ans,q=m&&m.length
	if(q){var n=p.prms=[],g=0
	for(g=0
	g<q
	g++){var v=m[g]
	var h=v.pid,k=parseInt(v.m,10),u={id:h,am:k,pt:v.pt}
	n.push(u)
	if(v.po){u.orid=v.po.did
	u.ortp=v.po.t
	}switch(k){case p.DO_NOT_ANSWER:case p.CLOSE:case p.USE_DEFAULT_ANSWER:case p.SAME_PROMPT:break
	case p.STATIC:var e=v.es,t=(e&&e.length)||0,o
	u.pa={es:[]}
	for(o=t-1
	o>=0
	--o){var j=e[o]
	u.pa.es.push({ei:j.id,disp_n:j.n,emt:1})
	}break
	case p.DYNAMIC:case p.ALL_VALID_UNITS:case p.CURRENT_UNIT:case p.DYNAMIC_OR_SAME_PROMPT:if(r.els){A.call(this,v,r,u,k,p)
	}else{G.call(this,v,r,u,k,p)
	}break
	}}}return p
	}function A(m,f,e,l,k){var j=m.dunits,g=f.els,h=e.pa={}
	b.forEach(g,function(n){if(b.find(j,"id",n.id)>=0){if(l!==k.DYNAMIC&&l!==k.DYNAMIC_OR_SAME_PROMPT){h.a={id:n.id,n:n.disp_n,dispForms:n.dfi}
	}if(m.pt===1){h.v=n.v
	}else{h.es=[]
	h.es.push({ei:n.ei,emt:n.emt,disp_n:n.disp_n})
	}}})
	}function G(w,r,v,j,m){var n=w.dunits,p=w.dsUnits,k=X.walk("data.ghs.chs.show",this)
	if(n&&n.length&&r){var o=v.pa={}
	var h=r,g=(r.mix!==undefined)&&(r._lp||r._tp)
	if(g){h=r._lp||r._tp
	}var f=parseInt(h.axis,10)
	while(h){var u=this.getPTitle(h,f)
	if(u&&b.find(n,"id",u.id)>=0){var l={id:u.id,n:u.n,dispForms:u.dfi}
	if(j===m.ALL_VALID_UNITS){o.a=(o.a||[]).concat(l)
	}else{if(j!==m.DYNAMIC&&j!==m.DYNAMIC_OR_SAME_PROMPT){o.a=l
	}}if(w.pt===1){var e=w.formMap
	o.v=e&&e[h.fmi]?e[h.fmi]:h.v
	break
	}else{var q={ei:h._e.id,emt:1,disp_n:h._e.n}
	if(j===m.ALL_VALID_UNITS){o.es=(o.es||[]).concat(q)
	}else{o.es=[].concat(q)
	}}if(j===m.CURRENT_UNIT){break
	}}var t=this.getPCellParentNode(h,f)
	if(g&&!t&&f===d){f=O
	t=r._tp
	}if(!t&&f===O&&typeof k!=="undefined"&&!k){t=this.getPCellParentNodeByPI(h)
	}h=t
	}}else{if(p&&p.length&&r){v.pa={es:p}
	}}}function M(g){var f=this.getCellTitleInfo(g[0]),j=[],l=function(m){if(m){if(mstrApp.useBinaryFormat){if(m._e){j.push(m.axis+"A"+(m.ui+1)+"A"+m._e.id)
	}l(m._p)
	}else{j.push(m.axis+"A"+(m.ui+1)+"A"+m.o)
	}}},h,e
	if(!f.isSrcTitle){for(h=0,e=g.length
	h<e
	h++){var k=g[h]
	if(k.mix!==undefined&&(k._lp||k._tp)){l(k._lp)
	l(k._tp)
	}else{l(k)
	}}}return(mstrApp.useBinaryFormat)?j:j.join(",")
	}function F(j,h,f){var g=true,e=f.length
	while(j<e){if(f[j].id!==h.id){g=false
	break
	}j++
	}return g
	}mstrmojo.XtabModel=mstrmojo.declare(mstrmojo.Obj,[mstrmojo._XtabModelShared],{scriptClass:"mstrmojo.XtabModel",getMessageId:function N(){return this.data.mid
	},getCellDrillsInfo:function D(e,g){var f=this.getAllDrillPathsForCell(e,g)
	if(!f||f.length===0){return undefined
	}return f[e.mix||0]
	},getLinkDrillAction:function K(e){return this.getActionObject(e)
	},getAction:function Q(e){return this.getActionObject(e)
	},getActionObject:function I(f){var e=f[0]&&f[0].at,h,g=null
	if(e){if((e&J)>0){h=this.getLinkAction(f[0])
	if(h){g={h:"onLink",a:h}
	}}else{if((e&R)>0){h=this.getDrillAction(f)
	if(h){g={h:"onDrill",a:h}
	}}}}return g
	},getSubTotalsPos:function U(){var e=this.data.gts
	if(e){return[e.rowSubPos,e.colSubPos]
	}return[0,0]
	},isPvtButtonVisible:function a(m,g){var j=m.axis,h=E(this.data.gts,j),l=m.ui,f=m.hasOwnProperty("mix")
	if(g==="b"&&l===0){return false
	}if(!isNaN(g)){if(parseInt(g,10)===j){return false
	}if(f){return !!h[m.ui]._hid
	}return true
	}var k=h[m.ui].es,e=f?k.length:h.length
	if(e===1){return false
	}if(j===(f?O:d)){if(g==="u"||g==="d"){return false
	}}else{if(g==="l"||g==="r"){return false
	}}if(f?m._e===k[0]:l===0){if(g==="l"||g==="u"){return false
	}}if(f?m._e===k[e-1]:(this.xtab.isOutlineMode&&m.fix)?F(l+1,m,h):l===e-1){if(g==="r"||g==="d"){return false
	}}return true
	},getDrillAction:function C(e,g){var f=g||this.getCellDrillsInfo(e[0])
	if(!f){return null
	}return{srcMsgId:this.data.mid,sliceId:this.xtab.sid,isWithin:f.within,drillPathKey:f.k,drillPathIndex:f.dpi,drillElements:M.call(this,e)}
	},isVis:function Y(){if(this.xtab){return this.xtab.isVis&&this.xtab.isVis()
	}else{var e=this.controller&&this.controller.view
	if(e&&e.isVis){return e.isVis()
	}}return false
	},getPTitle:function c(g,f){var e
	if(this.isVis()){e=g.titleInfo
	}else{e=E(this.data.gts,f)[g.tui]
	}return e
	},getPCellParentNode:function L(g,f){var e
	if(this.isVis()){e=(f===d)?g._lp:g._tp
	}else{e=g._p
	}return e
	},getLinkAction:function P(g,f){var e,h
	if(this.isVis()){g=g.node
	h=g.titleInfo
	}else{e=this.getCellTitleInfo(g,this.xtab.dataBlocks[g._gd])
	h=e.title
	}return this.getLinkActionImpl(g,h,f)
	},getLinkActionImpl:function W(r,n,p){var g=B(r,n),o=g&&g.links,u=(g&&g.onw)?"_blank":""
	if(p===null||p===undefined){p=(g&&g.di)||0
	}var k=o&&o[p]
	if(!k){return null
	}var h={linkInfo:k,linkTarget:u}
	var e=k.url
	if(e){var j="&CurrentElement"
	if(r&&n&&e.indexOf(j)>-1){e=e.replace(j,r._e.id)
	}h.url=e
	}else{var l=k.target,q,f
	switch(parseInt(l&&l.t,10)){case 55:if(parseInt(l.st,10)===14081){if(l.dvm&(8192|2048)&&!((l.dvm&2048&&mstrApp.features["run-vi-flash"]))){q=3140
	if(mstrmojo.dom.isIE6||mstrmojo.dom.isIE7||mstrmojo.dom.isIE8){mstrmojo.alert(mstrmojo.desc(15474,"To work with HTML5 dossiers, please turn off your browser Compatibility View or update your browser to one of the following browser versions: Chrome, Firefox, Safari, Internet Explorer 9 or above."))
	return null
	}f="objectID"
	}else{q=2048001
	f="documentID"
	}}else{q=32001
	f="documentID"
	}break
	case 3:q=4001
	f="reportID"
	var t=parseInt(l.st,10)
	h.reportViewMode=t===H.ReportGridAndGraph?3:(t===H.ReportGraph?2:1)
	break
	default:return null
	}h.evt=q
	h[f]=l.did
	h.srcMsgId=this.getMessageId()
	var m=Z.call(this,g,k,r)
	if(m){h.link=m
	}return h
	}},getDownloadAction:function S(h,f,k,g,j,e,l){return{xtabId:j,rowPosition:h,maxRows:f,colPosition:k,maxColumns:g,rowMode:l,memo:e}
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ServerProxy")
	mstrmojo.ME.WorkstationPluginProxy=mstrmojo.declare(mstrmojo.ServerProxy,null,{workstationEnv:null,createRequest:function(B,D,C,A){return this._super(B,D,C,A)
	},serverRequestParallel:function(C,D,A){var B=mstrmojo.hash.copy(C)
	B.taskContentType=B.taskContentType||"json"
	B.taskEnv=B.taskEnv||"xhr"
	this.request(D,C,false,{})
	},upload:function(J,E,G,D,B,C,A){if(G===null){this.request(J,E,undefined,D)
	}else{var H=new FileReader()
	var I=this
	var F=function(){H.onload=null
	}
	if(!this.fileReaderUnloader){this.fileReaderUnloader={}
	}this.fileReaderUnloader[E.tableID]=F
	if(E.fileFieldName){E[E.fileFieldName]=G
	}else{E.myFile=G
	}I.request(J,E,undefined,D)
	}},cancelFileReader:function(C){var B=this.fileReaderUnloader||{}
	var A=B[C]
	if(A){A()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ServerProxy")
	mstrmojo.QueueNative=mstrmojo.declare(mstrmojo.ServerProxy,null,{scriptClass:"mstrmojo.QueueNative",queue:[],requestCount:0,transport:null,createRequest:function(C,E,D,B){return this._super(C,E,D,B)
	},advance:function(){var B=this.queue.shift()
	if(B){this.request(B.callback,B.params,false,{})
	}},queueHandle:function(B,C){if(this.requestCount>0){this.queue.push({callback:C,params:B})
	this.requestCount++
	}else{this.requestCount++
	this.request(C,B,false,{})
	}},response:function A(F,B,D){var E=this.getRequest(F)
	if(E){E.gotResponse=true
	var G=E.callback,C=(B&&!D.mstrerr)?"success":"failure"
	try{if(G[C]){G[C](D,E)
	}}finally{G.complete(F)
	}this.requestCount--
	this.advance()
	}},})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.StepperContentProvider","mstrmojo.num")
	var A=mstrmojo.num
	function B(G,F){var H=F?G.max:G.min,D=F?G.min:G.max,E=G.getVal(F?1:-1)
	return(H===null||(F?(E<=H):(E>=H))||(D!==null&&G.canLoop))
	}function C(H,G){var F=H.min,D=H.max,E=H.getVal(G?1:-1)
	if((G&&D!==null&&E>D)||(!G&&F!==null&&(E<F))){if(H.canLoop){E=((E-F)%(D-F+1))+F
	E=(E>=F)?E:E+(D-F+1)
	}else{return 
	}}H.item[H.valField]=H.curVal=E
	H.onTraverse()
	}mstrmojo.NumStepperContentProvider=mstrmojo.declare(mstrmojo.StepperContentProvider,null,{scriptClass:"mstrmojo.NumStepperContentProvider",curVal:null,init:function(E){this._super(E)
	var F=this.item,D=function(I){var H=I&&F[I]
	return(H===null||H===undefined)
	},G=function(I,K,H){var J=H&&D.call(this,K)?null:F[K]
	if(J!==null&&J!==undefined){this[I]=J
	}}
	G.call(this,"min",this.minField,true)
	G.call(this,"max",this.maxField,true)
	G.call(this,"maxLength",this.maxLengthField,true)
	G.call(this,"interval",this.intField)
	this._initCurrent()
	},_initCurrent:function(){var E=this.item,F=this.curVal=E[this.valField]
	if(F===null||F===undefined){var D=this.min
	this.curVal=D!==null?D:0
	}},next:function(){C(this,true)
	},prev:function(){C(this,false)
	},hasPrev:function(){return B(this,false)
	},hasNext:function(){return B(this,true)
	},renderItemAt:function(F){var E=this.getVal(F),D=this.renderer
	return D?D.render(E,this):E
	},getVal:function(D){return this.curVal+(this.interval*(D||0))
	},setVal:function(F){var G=this.min,D=this.max,E=this.getVal()
	if(typeof F!=="number"||isNaN(F)||F===E||A.inNumericRange(F,G,D)!==0){return 
	}this.item[this.valField]=this.curVal=F
	this.onTraverse()
	},onTraverse:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.PopupConfig","mstrmojo.array","mstrmojo.hash","mstrmojo.css","mstrmojo.ui._HasUITheme","mstrmojo.vi.ui.theme","mstrmojo.dom")
	function j(k,m){if(!mstrmojo.DocInfoWindow){return 
	}var l=k
	while(l){if(l instanceof mstrmojo.DocInfoWindow){l[m?"registerScrollLock":"releaseScrollLock"](this)
	break
	}l=l.parent
	}}var O=mstrmojo.array,D=mstrmojo.dom,U=mstrmojo.hash,g=mstrmojo.css,H="px",L=mstrmojo.ui._HasUITheme.EnumThemeNames
	var C=false
	function N(k,m){if(!mstrmojo.DocInfoWindow){return 
	}var l=k
	while(l){if(l instanceof mstrmojo.DocInfoWindow){l[m?"registerLock":"releaseLock"](this)
	this.lockIW=m?l:null
	break
	}l=l.parent
	}}var Y=mstrmojo.ui.PopupConfig,P=Y.directionCfg,B=Y.ENUM_CORNERS,b=B.TOP_LEFT,X=B.TOP_RIGHT,J=B.BOTTOM_RIGHT,I=B.BOTTOM_LEFT
	function K(k){return(k===I||k===b)
	}function f(k){return(k===X||k===J)
	}function R(k){return(k===J||k===I)
	}function W(k){return(k===X||k===b)
	}function c(t,m,AC,AI){var AL=AC.x,AK=AC.y,AH=AC.w||0,w=AC.h||0,l=AI.w,AD=AI.h,AG=t.alignment,q=AG.popup,o=AG.host,AJ=f(o),AM=R(o),AF=false,AA=false,n=false,AB=false,p=false,x=false,AE=D.isMobile,u=mstrmojo.ui.PopupConfig.directionCfg
	if(K(q)){var r=AL+l+(AJ?AH:0)
	AF=m.w<r
	p=AE&&(AF||u.isRightToLeft())
	}if(W(q)){var z=AK+AD+(AM?w:0)
	AA=m.h<z
	x=AE&&AA
	}if(f(q)||p){var v=AL-l+((AJ&&!p)?AH:0)
	n=v<0
	}if(R(q)||x){var k=AK-AD+((AM&&!x)?w:0)
	AB=k<0
	}return{top:AB,bottom:AA,left:n,right:AF}
	}function G(l){var k=this.popupConfig
	if(k){U.forEach(k.popupHandlers,function(n,o){var m=n[l?"open":"close"]
	if(m){m.call(mstrmojo.all[o]||m,!!l)
	}})
	}}function M(l){var k=this.popupConfig
	if(k&&!k.isHostedWithin){var m=this.hostProxy
	if(m){m.style.display=l?"":"none"
	}}}function h(k){return k!==undefined&&k!==null&&!isNaN(k)
	}mstrmojo._IsPopup={visible:false,lockIWForScroll:false,disposable:true,opener:null,onOpen:mstrmojo.emptyFn,onClose:mstrmojo.emptyFn,popupConfig:null,hostProxy:undefined,open:function Q(m,k){G.call(this,true)
	if(this.updatePopupConfig){this.updatePopupConfig(k,m)
	}else{U.forEach(k,function(p,o){this.set(o,p)
	},this)
	}var l="popup-mid-render"
	this.set("opener",m)
	if(!this.hasRendered){var n=this.visible
	this.visible=false
	this.render()
	g.addClass(this.domNode,l)
	this.set("visible",n)
	}if(this.nudge){this.domNode.style.top="-10000px"
	}M.call(this,true)
	this.set("visible",true)
	if(this.lockIWForScroll){j.call(this,this.opener,true)
	}if(k&&k.lockIW){N.call(this,k.lockIW,true)
	}if(this.nudge){this.nudge()
	}if(this.adjustSize){this.adjustSize()
	}this.adjustCornersForPopupOverflow()
	this.onOpen()
	g.removeClass(this.domNode,l)
	},adjustCornersForPopupOverflow:function d(){var v=this.popupConfig
	if(!v){return false
	}var Aa=(v.includeScroll!==undefined)?v.includeScroll:true
	var p=v.anchorElement||v.hostElement,n=v.position||D.position(p,Aa),AG=p&&p.style&&p.style.zIndex||v.zIndex
	if(!v.isHostedWithin){var Ai=this.hostProxy,AZ=this.hostProxy=document.createElement("div")
	document.body.appendChild(AZ)
	AZ.appendChild(this.domNode)
	if(Ai){Ai.parentNode.removeChild(Ai)
	}var AQ=AZ.style,AR={x:"left",y:"top",w:"width"}
	AZ.className=v.hostProxyCssClass
	AQ.position="absolute"
	AQ.background="none"
	g.addClass(AZ,"mstrmojo-popup-widget-hosted")
	AQ.height="0"
	O.forEach(["x","y","w"],function(Ar){var Aq=n[Ar]
	if(h(Aq)){AQ[AR[Ar]]=Aq+H
	}})
	this.adjustPopupPosInMobile(n,AQ)
	}var AF=v.ENUM_CORNERS,Ao=AF.BOTTOM_LEFT,AS=AF.BOTTOM_RIGHT,l=AF.TOP_RIGHT,AL=AF.TOP_LEFT
	var t=v.isStaticAnchor?D.windowDim():D.position(document.body),AU=D.position(this.domNode),Ad=c(v,t,n,AU),r=Ad.right,AE=Ad.bottom,Ap=Ad.left,AY=Ad.top,AH=v.alignment,AP=AH.popup,m=AH.host,z=AP,AD=m,AT=D.isMobile,AC=p&&p.classList&&p.classList.contains("mstrmojo-ui-Menu-item"),AV=this.id,AA=p&&p.parentNode,AW=AA&&AA.parentElement,AO=p||this.domNode,AM,Aj=this.domNode.style
	if(AW&&AW.classList.contains("mstrmojo-ui-Menu")){AO=AW
	}AM=D.position(AO)
	if(AC&&((Ap&&r)||(AY&&AE))){if(AW){Aj.top=AM.y+"px"
	Aj.left=AM.x+"px"
	var Ah=document.getElementsByClassName("mstrmojo-ui-Menu")
	O.forEach(Ah,function(Aq){if(AV!==Aq.id){Aq.style.visibility="hidden"
	}})
	}v.anchorElement=AO
	v.position={h:0,w:0,x:(AM.x+AU.w)>t.w?Math.min(AM.x,5):AM.x,y:(AM.y+AU.h)>t.h?Math.min(AM.y,90):AM.y}
	this.adjustCornersForPopupOverflow()
	return 
	}if(P.isRightToLeft()&&(!AT||AU.w>0)){if(!AT||!Ap){r=true
	}else{if(!AT||!r){P.setDirection(false)
	this.resetDirection=true
	if(AT){AD=(AD===l)?AL:Ao
	}}}}else{if(r){P.setDirection(true)
	this.resetDirection=true
	}}if(r||Ap){if(K(AD)){AD=W(AD)?l:AS
	}else{if(f(AD)){AD=W(AD)?AL:Ao
	}}if(r&&K(z)){z=W(z)?l:AS
	}else{if(Ap&&f(z)){z=W(z)?AL:Ao
	}}}if(AE||AY){if(K(AD)){AD=W(AD)?Ao:AL
	}else{if(f(AD)){AD=W(AD)?AS:l
	}}if(AE&&W(z)){z=K(z)?Ao:AS
	}else{if(AY&&R(z)){z=K(z)?AL:l
	}}}if(AY||r||AE||Ap){if(C){console.log("Overflow directions: "+JSON.stringify(Ad))
	}this._orgalgn={host:m,popup:AP}
	v.setAlignment(AD,z)
	}if(!v.isHostedWithin){if(h(n.y)&&h(n.h)){this.hostProxy.style.top=(n.y+(R(z)?(v.alignWithAnchor===true?n.h:0):(v.alignWithAnchor===true?0:n.h)))+H
	this.hostProxy.style.zIndex=(h(AG)&&(AG>100))?AG+1:101
	}}var AX,Al={}
	if(v.isHostedWithin&&!!this.opener){AX=g.getComputedStyle(this.opener.domNode)
	}O.forEach(["left","right","top","bottom"],function(Aq){Al[Aq]=AX?parseInt(AX["border-"+Aq+"-width"]||0,10):0
	})
	var Af=R(AD),Ag=f(AD),x=R(z),q=f(z),Ab=function(Ar,Aq){return"calc(100% + "+(Aq?Al[Ar]:0)+"px)"
	},AB=function(Ar,Aq){return(Aq?-Al[Ar]:0)+"px"
	}
	var u,Ac,k,o
	u=Ac=k=o="auto"
	if(x){k=Af?AB("top"):Ab("top")
	}else{u=Af?Ab("bottom"):AB("bottom")
	}if(q){Ac=Ag?AB("left"):Ab("left")
	}else{o=Ag?Ab("right"):AB("right")
	}Aj.top=u
	Aj.right=Ac
	Aj.bottom=k
	Aj.left=n.isAndroidMobile?0+H:o
	var w=D.position(this.domNode),AN=5
	if(AE||AY){var Am=w.y,AI=D.getMaxScrollHeight()+"px",Ak=this.scrollNode,AJ=Ak&&Ak.style.maxHeight
	if(Am<0||(Am+w.h>t.h)){if(Ak&&AI!==AJ){Ak.style.maxHeight=AI
	this.updateScrollbars()
	}var Ae=(-n.y+AN)+H
	if(!v.isHostedWithin){if(this.hostProxy){this.hostProxy.style.top=0
	}Ae=AN+H
	}Aj.top=Ae
	Aj.bottom="auto"
	}}if(Ap||r){var An=w.x
	if(An<0||(An+w.w>t.w)){var AK=(-n.x+AN)+H
	if(!v.isHostedWithin){if(this.hostProxy){this.hostProxy.style.left=0
	}AK=AN+H
	}Aj.left=AK
	Aj.right="auto"
	}}return true
	},adjustPopupPosInMobile:function E(t,n){if(t.isAndroidMobile&&t.interval&&t.boundingRect&&t.widgetRect){var m=t.interval,l=t.boundingRect,k=t.widgetRect,q=D.position(this.domNode),v=10,p=0,u=0
	if((l.topLeft.x===0)&&(l.topLeft.y===0)&&(l.bottomRight.x===0)&&(l.bottomRight.y===0)){p=k.x
	u=(k.h-q.h)/2+k.y
	}else{if(q.w<m.left-v){p=l.topLeft.x-q.w-v
	u=l.topLeft.y
	}else{if(q.w<m.right-v){p=l.bottomRight.x+v
	u=l.topLeft.y
	}else{if(q.h<m.top-v){p=l.topLeft.x
	u=l.topLeft.y-q.h-v
	}else{if(q.h<m.bottom-v){p=l.topLeft.x
	u=l.bottomRight.y+v
	}else{p=l.topLeft.x
	u=l.topLeft.y+(l.bottomRight.y-l.topLeft.y-q.h)/2
	}}}}}var o=window.innerWidth,r=window.innerHeight
	p=Math.min(Math.max(0,p),o-q.w)
	u=Math.min(Math.max(0,u),r-q.h)
	n.left=p+H
	n.top=u+H
	}},close:function S(l){if(this.keepOpen){return 
	}if(this.onClose){this.onClose(l)
	}M.call(this,false)
	if(this.lockIWForScroll){j.call(this,this.opener,false)
	}this.set("visible",false)
	this.set("opener",null)
	if(this.lockIW){N.call(this,this.lockIW,false)
	}G.call(this,false)
	var k=this._orgalgn
	if(k){this.popupConfig.setAlignment(k.host,k.popup)
	}if(this.resetDirection){this.resetDirection=false
	P.setDirection(false)
	}},preBuildRendering:function A(l){this._super(l)
	var o=this.popupConfig
	if(o&&!o.isHostedWithin){var k=o.hostProxyCssClass.split(" "),n=false
	O.forEach(U.keyarray(L),function(p){if(k.indexOf(L[p])>=0){n=true
	return false
	}})
	if(!(n||o.noInheritTheme)){var m=mstrmojo.vi.ui.theme.getThemeClass.call(this)
	if(m){k.push(m)
	}}o.hostProxyCssClass=k.join(" ")
	}},buildRendering:function F(){var k=this._super()
	if(k){if(!this.parent&&!this.domNode.parentElement){document.body.appendChild(this.domNode)
	}}return k
	},postBuildRendering:function a(){var k=this,l=this.popupConfig
	if(l&&!this._ListenerProc){this._ListenerProc=function(){k.monitorWindow()
	}
	D.attachEvent(window,"resize",this._ListenerProc)
	}this._super()
	},monitorWindow:function(){var m=D.getMaxScrollHeight(),k=window.orientation||U.walk("screen.orientation.angle",window)
	if(this.updateScrollbars&&this.scrollNode){this.scrollNode.style.maxHeight=(this.scrollNodeMaxHeight||m)+"px"
	this.updateScrollbars()
	}if(this.orientationAngle!==undefined&&this.orientationAngle!==k){this.close()
	}if(this.visible){var l=this,n=null
	window.clearTimeout(n)
	n=window.setTimeout(function(){if(l.scrollNode&&l.scrollNode.style){l.scrollNode.style.maxHeight=(l.scrollNodeMaxHeight||m)+H
	l.adjustCornersForPopupOverflow()
	}},175)
	}},destroy:function e(k){if(this._ListenerProc){D.detachEvent(window,"resize",this._ListenerProc)
	delete this._ListenerProc
	}this._super(k)
	},unrender:function Z(k){if(this.popupConfig&&!this.popupConfig.isHostedWithin&&this.hostProxy){document.body.removeChild(this.hostProxy)
	delete this.hostProxy
	}this._super(k)
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.TouchScroller","mstrmojo.hash")
	var H=mstrmojo.hash
	mstrmojo._HasTouchScroller=mstrmojo.provide("mstrmojo._HasTouchScroller",{_meta_usesSuper:true,scrollerConfig:{},allowTouchBubble:true,scrollerSetupDelay:undefined,init:function M(S){this._super(S)
	this.scrollerConfig=H.clone(this.scrollerConfig)
	},updateScrollerConfig:function P(){return this.scrollerConfig
	},updateScroller:function F(X,Y){var S=this._scroller
	if(S){var U=this.updateScrollerConfig()
	S.initScroller(U)
	if(!X){var W=U.origin
	if(W){S.scrollTo(W.x,W.y,Y)
	}}S.updateScrollBars()
	}},initScroller:mstrmojo.emptyFn,useSelectScroll:false,postBuildRendering:function Q(){var S=this._scroller
	if(!S){S=this._scroller=new mstrmojo.TouchScroller()
	this.initScroller(S)
	}else{S.haltScroller()
	}if(!this.layoutConfig){var W=this.id,U=this.scrollerSetupDelay
	if(!isNaN(U)){window.setTimeout(function(){mstrmojo.all[W].updateScroller()
	},U)
	}else{this.updateScroller()
	}}this._super()
	},afterLayout:function G(){this._super()
	this.updateScroller()
	},getScrollPos:function A(){return H.copy(this._scroller.origin||{x:0,y:0})
	},shouldTouchBubble:function I(X){if(!this.allowTouchBubble){return false
	}var S=this._scroller,W=X.isVertical,U=W?"y":"x"
	return(!S[(W?"v":"h")+"Scroll"]||S.offset[U][X.direction[U]?"end":"start"]===S.origin[U])
	},touchBegin:function L(S){this._scroller.haltScroller()
	return(this._super&&this._super(S))||true
	},touchSwipeBegin:function J(S){if(this.shouldTouchBubble(S)){if(this.bubbleTouchEvent(S)===false){this._touchCanceled=true
	}return 
	}if(this._super){this._super(S)
	}this._scroller.toggleScrollBars(true)
	},touchSelectBegin:function B(S){if(this._super){this._super(S)
	}if(this.useSelectScroll){this.touchSwipeBegin(S)
	}},touchSwipeMove:function C(S){if(!this._touchCanceled){if(this._super){this._super(S)
	}}this._scroller.scroll(S)
	},touchSelectMove:function E(S){if(!this._touchCanceled){if(this._super){this._super(S)
	}}if(this.useSelectScroll){this.touchSwipeMove(S)
	}},touchSwipeEnd:function N(S){S.evt.handled=true
	if(!this._touchCanceled){if(this._super){this._super(S)
	}}this._scroller.scrollEnd(S)
	},touchSelectEnd:function K(S){if(this._touchCanceled){return 
	}if(this._super){this._super(S)
	}if(this.useSelectScroll){this.touchSwipeEnd(S)
	}},touchEnd:function D(S){if(this._touchCanceled){delete this._touchCanceled
	return 
	}if(this._super){this._super(S)
	}},unrender:function O(U){var S=this._scroller
	if(S){S.unrender()
	}delete this.scrollerConfig.scrollEl
	this._super(U)
	},destroy:function R(){if(this._scroller){this._scroller.destroy()
	delete this._scroller
	}if(this._super){this._super()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Model","mstrmojo._HasPopup","mstrmojo.string","mstrmojo.taphold","mstrmojo.array","mstrmojo.dom")
	var E=mstrmojo.dom,C=mstrmojo.string,R=E.isIOSTouch,X=mstrmojo.css,M=mstrmojo.array
	var O=1,D=2,K=4,a=8,Z=16,L=512,N=-1
	function Q(h,c){var g=h.getCellForNode(c),b=g&&g.at,f=0
	if(b){f=(b&D)||(b&K)||(b&O)
	}if(f===K){var l=h.model.getCellLinksInfo(g)
	if(!l||isNaN(l.di)){return""
	}var k=l.links[l.di]
	return k.n
	}if(f===O){var j=h.model.getCellDrillsInfo(g)
	if(j){return mstrmojo.desc(183,"Drill to")+" "+j.n
	}}if(g){var d=("mix" in g)?g._e:g
	if(d&&d.desc){return C.decodeHtmlString(d.desc)
	}}return""
	}function B(c,g){if(!mstrApp.isExpress){return[]
	}if(!c.onDemandDrillDynamicItems){c.onDemandDrillDynamicItems={}
	}var f="drill"+g,b=c.onDemandDrillDynamicItems[f]||[]
	if(b.length===0&&c.gridData.odd){c.loadingDCM=true
	var e=new mstrmojo.SimpleXHR({async:false})
	e.request("POST",mstrConfig.taskURL,{success:function d(h){M.forEach(h.dynamicMenus,function(j){c.onDemandDrillDynamicItems[j.n]=j.items
	if(j.n===f){b=j.items
	}})
	c.onDemandDrillItems=h.menuItems
	delete c.loadingDCM
	}},{taskId:"RWOnDemandDrill",styleName:"OndemandDrillContextMenusStyle",viewMode:1,usePartDisplay:1,docGridKey:c.k,rwb:c.model.docModel.bs})
	}return b
	}function J(l,c){var j=l.getCellForNode(c),b=j&&j.at
	if((b&a)>0||(b&Z)>0||(b&L)>0||(j&&j.otp===N)){return true
	}var g,e
	if(j){g=l.model.getCellTitleInfo(j)
	e=B(l,g.title.id)
	}var d=0
	if((b&O)>0&&j.sdm===undefined&&(e.length>0||l.model.getCellDrillsInfo(j))){return true
	}if((b&K)>0){d++
	}if((b&D)>0){d++
	}if(d>1){return true
	}if((b&K)>0){var m=l.model.getCellLinksInfo(j),k=m&&m.links,h=j.v?C.decodeHtmlString(j.v):j.v
	var f=(k&&k.length)||0
	if(m&&!isNaN(m.di)&&!C.isEmpty(h)){f--
	}if(f>0){return true
	}}return false
	}function I(b){return b.viewport.clientWidth-(b.scrollboxNode.offsetWidth-b.scrollboxNode.clientWidth)
	}mstrmojo._XtabCellHoverMgr=mstrmojo.declare(mstrmojo.Model,null,{scriptClass:"mstrmojo._XtabCellHoverMgr",parent:null,td:null,audibles:{"*":false},startup:function F(){var c=this.parent
	if(c&&c.getCellForNode){var b=c.zones,d
	for(d in b){this.addMgrElement(d)
	}if(!this._sub_ihc){this._sub_ihc=c.attachEventListener("ignoreHoverChange",this.id,"onChangeIgnoreHover")
	}window.setTimeout(function(){c._pl=I(c)
	},0)
	}},addMgrElement:function U(d){var g=this.parent,f=this,h=d===undefined?g.contentNode:g.zones[d].tableNode
	if(h&&g&&g.getCellForNode){if(!this.fCtxMenu){this.fCtxMenu=function(j){f.oncontextmenu(j,self)
	}
	}if(!this.fOver){this.fOver=function(j){f.onhover(j,self)
	}
	}if(!this.fOut){this.fOut=function(j){f.onunhover(j,self)
	}
	}var e=this.fCtxMenu,c=this.fOver,b=this.fOut
	if(!E.isTouchOptimizationEnabled()){E.attachEvent(h,"mouseover",c)
	E.attachEvent(h,"mouseout",b)
	E.attachEvent(h,"contextmenu",e)
	if(R){this.xtabContextMenuListener=g.attachEventListener("contextmenu",h.id,e)
	g.hasContextMenuEvent=true
	}}else{X.addClass(document.body,"touch-device")
	}}},shutdown:function A(){var d=this.parent,c=d&&d.zones,e
	if(!E.isTouchOptimizationEnabled()){for(e in c){var b=c[e].tableNode
	if(b){E.detachEvent(b,"mouseover",this.fOver)
	E.detachEvent(b,"mouseout",this.fOut)
	E.detachEvent(b,"contextmenu",this.fCtxMenu)
	}}if(R&&d&&this.xtabContextMenuListener){d.detachEventListener(this.xtabContextMenuListener)
	d.hasContextMenuEvent=false
	}}},onXtabWidthChanged:function(){var b=this.parent
	b._pl=I(b)
	},onChangeIgnoreHover:function(){var b=this.parent
	if(!b.ignoreHover&&this._ignored){this.onhover(null,null,this._ignored)
	}},onhover:function G(g,b,f){if(this.parent.ignoreHover){this._ignored=E.eventTarget(b,g)
	return 
	}var d=this.parent,h=this.getEvtTargetCell(g,b,d,f)
	if(h&&d){var c=Q(d,h)
	if(c){h.title=c
	}}if(this.showHvrBtn(d,h)){this.td=h
	if(!d._pl){d._pl=I(d)
	}d.openPopup("cellHoverPopupRef",{xtab:d,td:h})
	}else{this.onunhover(g,b,f)
	}},onunhover:function P(){if(this.parent.ignoreHover){return 
	}var c=this.parent,b=c._lastOpened
	if(!b){return 
	}if(b.autoCloses){b.autoClose()
	}else{c.closePopup()
	}},getEvtTargetCell:function H(g,b,f,d){var c=d||E.eventTarget(b,g)
	return c&&E.findAncestorByName(c,"td",true,f.viewport)
	},oncontextmenu:function S(h,b,g){var f=this.parent,k=this.getEvtTargetCell(h,b,f,g)
	this.processRightClick(h,b,k)
	if(k&&this.shouldShowPopup(f,k,true)){if(!(E.isMetaKey(b,h)||E.shiftKey(b,h))||(E.shiftKey(b,h)&&h.keyCode===121)){var d=E.getMousePosition(h,b)
	f.openPopup("cellHoverPopupRef",{xtab:f,td:k,cmPos:d})
	if(f.hasAccessibility&&!d.x&&!d.y){var c=h.target
	var c=h.srcElement
	var j=c.getBoundingClientRect()
	d.x=j.left+j.width/2
	d.y=j.top+j.height/2
	}f.cellHoverPopupRef.btn.openPopup()
	if(f.tooltipWin){f.tooltipWin.hide(true)
	}}f.closePopup()
	E.preventDefault(b,h)
	E.stopPropogation(b,h)
	}},processRightClick:mstrmojo.emptyFn,shouldShowPopup:function Y(e,f,d){var c=f.mstrShowPopup
	if(c!==undefined){return c
	}c=J(e,f)
	f.mstrShowPopup=c
	return c
	},showHvrBtn:function W(b,c){if(mstrApp.isDossier||mstrApp.isVI){return false
	}return this.shouldShowPopup(b,c,false)
	}})
	}())
	(function(){mstrmojo.ToolBarModel=mstrmojo.declare(mstrmojo.Model,null,{scriptClass:"mstrmojo.ToolBarModel",getChildren:function A(C,B){return(C||this.n||this).items
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.css","mstrmojo.dom","mstrmojo.boxmodel","mstrmojo.Widget")
	var Z=mstrmojo.hash,h=mstrmojo.css,L=mstrmojo.dom,e="animate",P="px"
	function c(j){return Z.copy(((!!mstrApp.isWSStyling)?Z.walk(j,window).boxConfigurationWS:undefined)||Z.walk(j,window).boxConfiguration||mstrmojo.vi.ui._IsBoxLayoutChild.boxConfiguration)
	}function H(l){var k=l.boxCache,m=k&&k[this.id],j=false
	if(!m){j=this.domNode.className.indexOf(e)>-1
	this.cacheCtxtBoxPosition(l)
	}l.boxAnimating=j
	}mstrmojo.vi.ui._IsBoxLayoutChild=mstrmojo.provide("mstrmojo.vi.ui._IsBoxLayoutChild",{_mixinName:"mstrmojo.vi.ui._IsBoxLayoutChild",markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,ontopChange:mstrmojo.Widget.topMarkupMethod,onleftChange:mstrmojo.Widget.leftMarkupMethod,onzIndexChange:function(){this.domNode.style.zIndex=this.zIndex||1
	}},id:null,left:"0px",top:"0px",zIndex:1,draggable:false,dropZone:false,getBoxConfiguration:function C(){return c(this.scriptClass)
	},getBoxBorderWidth:function I(){return 0
	},getMinBoxSize:function A(j){return mstrmojo.vi.ui._IsBoxLayoutChild.getBoxMinimums(this.scriptClass)[j]
	},getIdentifier:function Q(){return this.id
	},updateLayout:function O(m,j){if(Z.equals(m,this._currentLayout)){return 
	}mstr_profile.log(this.title+" layout update.")
	var l=this.domNode,o=window.Modernizr,n=this.getBoxBorderWidth()
	if(l&&j&&o.testProp("transition")){h.addClass(l,e)
	h.onTransitionEnd(l,function(){h.removeClass(l,e)
	})
	}var k=this._currentLayout
	this._currentLayout=Z.copy(m)
	this.applyBoxSize(Math.max((this.unDocked?parseFloat(m.height):parseInt(m.height,10))-n,0)+P,Math.max((this.unDocked?parseFloat(m.width):parseInt(m.width,10))-n,0)+P,m.top,m.left)
	if(this.hasRendered&&this.doLayout){this.doLayout()
	}this.postUpdateLayout(k)
	},postUpdateLayout:function D(){},applyBoxSize:function a(j,m,o,n){this.height=j
	this.width=m
	this.top=o
	this.left=n
	var l=this.domNode
	if(l){var k=this.domNode.style
	k.top=o
	k.left=n
	k.height=j
	k.width=m
	if(parseInt(j,10)<=0||parseInt(m,10)<=0){k.borderWidth="0"
	}}},createAvatar:function X(){return this.offsetAvatar(this.domNode)
	},offsetAvatar:function S(j){j.style.margin="20px 0 0 20px"
	return j
	},setMaskVisibility:function U(j){var k=this.maskNode.style
	k.display=j?"block":"none"
	if(!j){this.resetMask()
	}},isDragValid:function F(j){return true
	},initializeDrag:function G(j){},ondragstart:function g(j){this.initializeDrag(j)
	delete this._currentLayout
	this.parent.beginBoxMove(j,this)
	if(!this.unDocked){this._super(j)
	}},ondragend:function N(j){if(!this.unDocked){this._super(j)
	}this.parent.endBoxMove(j,this)
	if(!j.dropSuccessful){this.parent.cancelBoxMove(j)
	}var k=this.domNode
	k.style.margin="0"
	},allowDrop:function K(j){var l=j.src,k=l&&l.widget
	return(k&&k.parent===this.parent)
	},wasDropped:function M(j){},cancelBoxMove:function J(j){return false
	},ondragenter:function W(j){this.setMaskVisibility(true)
	},ondragover:function Y(j){H.call(this,j)
	this.highlightMask(this.parent.getPanelTargetEdge(j)||this.getTargetDropZone(j),j)
	if(j.boxAnimating){delete j.boxCache[this.id]
	}},cacheCtxtBoxPosition:function E(k){var j=k.boxCache=k.boxCache||{}
	j[this.id]=L.position(this.domNode)
	},ondrop:function d(j){H.call(this,j)
	var l=j.src.widget
	if(l.wasDropped){l.wasDropped(j)
	}var k=this.parent
	if(l.parent===k){k.dropBox(j,this,this.maskNode.zone,true)
	}this.setMaskVisibility(false)
	},ondragleave:function B(){this.setMaskVisibility(false)
	},highlightMask:function f(m,l){var j=this.maskNode,k=l.boxAnimating
	if(m!==j.zone||k||j.isAnimating!==k){j.zone=m
	j.isAnimating=k
	this.parent.updateDropCue(m,l,l.boxCache[this.id])
	}},getTargetDropZone:function R(j){return mstrmojo.boxmodel.getEdgeQuadrantByPoint(j.boxCache[this.id],j.tgt.pos)
	},resetMask:function b(){this.parent.updateDropCue("")
	var j=this.maskNode
	delete j.zone
	delete j.isAnimating
	},getBoxDimension:mstrmojo.emptyFn,postDropBox:mstrmojo.emptyFn})
	mstrmojo.vi.ui._IsBoxLayoutChild.boxConfiguration={addToEnd:true}
	mstrmojo.vi.ui._IsBoxLayoutChild.getBoxMinimums=function(j){var k=c(j)
	return Z.copy(k.minSize||k.f||{h:75,v:75})
	}
	mstrmojo.vi.ui._IsBoxLayoutChild.BoxConfigurationType=null
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget")
	mstrmojo.WaitIcon=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.WaitIcon",cssFloat:"left",visible:false,markupString:'<div id="{@id}" class="mstrmojo-WaitIcon {@cssClass}" style="float:{@cssFloat}
	{@cssText}
	"></div>',markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},markupSlots:{}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo._Formattable")
	mstrmojo.DocLine=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._Formattable],{scriptClass:"mstrmojo.DocLine",markupString:'<div id="{@id}" k="{@k}" class="mstrmojo-DocLine" title="{@tooltip}" style="{@domNodeCssText}"></div>',formatHandlers:{domNode:["RW","border-top","border-left","fx"]},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},update:function B(C){if(this.thresholdId||C.data.tid){delete this.fmts
	}this.thresholdId=C.data.tid
	this.set("visible",!C.data.hidden)
	if(this._super){this._super(C)
	}},getFormats:function A(){var C=this._super()
	if(C&&parseInt(C.height,10)===0){C.height="1px"
	}return C
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo._Formattable","mstrmojo._HTMLMediaController","mstrmojo.vi.enums.EnumFeatures")
	var B=mstrmojo.dom
	mstrmojo.DocHTMLContainer=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._Formattable,mstrmojo._HTMLMediaController],{scriptClass:"mstrmojo.DocHTMLContainer",overflow:"hidden",scrolling:"auto",markupString:'<div class="mstrmojo-DocHTMLContainer" style="overflow:{@overflow} !important
	-webkit-overflow-scrolling: touch !important
	{@domNodeCssText}" mstrAttach:pointerleave><iframe id="{@id}" k="{@k}" title="{@tooltip}" style="width:100%
	height:100%" src="{@v}" scrolling="{@scrolling}"></iframe></div>',formatHandlers:{domNode:["RW","B","F","background-color","text-align","white-space","fx"]},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},update:function C(F){this.v=F.data.v
	if(B.isIOSTouch){var E=B.getOSInfo().version,D=parseInt(E.split(".")[0])
	if(!isNaN(D)&&D<13){this.scrolling="no"
	this.overflow="auto"
	}}if(this.thresholdId||F.data.tid){delete this.fmts
	}this.thresholdId=F.data.tid
	this.set("visible",!F.data.hidden)
	},canDuplicate:function A(){return mstrApp.supportFeature(mstrmojo.vi.enums.EnumFeatures.DUP_FIELD)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.dom","mstrmojo.hash","mstrmojo.css","mstrmojo.string")
	var D=mstrmojo.dom,B=mstrmojo.hash,G=mstrmojo.css,J=mstrmojo.string
	mstrmojo.Button=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.Button",iconClass:"",innerIconClass:"",title:"",text:"&nbsp
	",ariaLabel:"",tabIndex:-1,enabled:true,selected:false,markupString:'<div id="{@id}" role="button" aria-label="{@getAriaLabel}" tabindex="{@tabIndex}" class="mstrmojo-Button {@cssClass} {@iconClass}" title="{@title}" style="{@cssText}" mstrAttach:touchstart,click,mousedown,mouseup,keydown><div class="mstrmojo-Button-text {@innerIconClass}"></div></div>',markupSlots:{textNode:function(){return this.domNode.firstChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onenabledChange:function(){G.toggleClass(this.domNode,"disabled",!this.enabled)
	},onselectedChange:function(){G.toggleClass(this.domNode,"selected",this.selected)
	},ontextChange:function(){this.textNode.innerHTML=this.text
	},ontitleChange:function(){this.domNode.title=this.title
	if(!this.ariaLabel){this.domNode.setAttribute("aria-label",this.getAriaLabel())
	}},onariaLabelChange:function(){this.domNode.setAttribute("aria-label",this.getAriaLabel())
	},onwidthChange:mstrmojo.Widget.widthMarkupMethod},oniconClassChange:function E(M){var N=this.domNode
	if(this.hasRendered&&N){N.className=N.className.replace(M.valueWas,"")+" "+M.value
	}},onclick:mstrmojo.emptyFn,ontouchend:function L(M){this.onclick(M)
	},onkeydown:function F(M){var O=M.e||M,N=O.key
	if(this._super){this._super(M)
	}if(N==="Enter"||N===" "){O.preventDefault()
	O.stopPropagation()
	this.onclick(M)
	}},getAriaLabel:function C(){return J.encodeHtmlString(this.ariaLabel||this.text,true)
	}})
	mstrmojo.Button.newIconButton=function K(O,R,P,M,Q){var N={scriptClass:"mstrmojo.Button",title:O,cssClass:R,text:"",onclick:P}
	if(M){N.bindings=M
	}B.copy(Q,N)
	return N
	}
	function I(P,Q,M,S){var O=[]
	if(M){O.push(M)
	}var R=S&&S.cssClass
	if(R){O.push(R)
	delete S.cssClass
	}var N={scriptClass:"mstrmojo.Button",cssClass:O.join(" "),text:P}
	if(Q){N.onclick=Q
	}return B.copy(S,N)
	}mstrmojo.Button.newInteractiveButton=function H(P,Q,S,R){var O={glowClass:"glow"}
	if(S&&(D.isFF||D.isWK)){B.copy({onmousedown:function M(){G.applyShadow(this.domNode,0,0,10,S)
	},onmouseup:function N(){G.removeShadow(this.domNode)
	}},O)
	}return I(P,Q,"mstrmojo-InteractiveButton",B.copy(R,O))
	}
	mstrmojo.Button.newWebButton=function A(N,M,P,O){return I(N,M,"mstrmojo-WebButton"+(P?" hot":""),O)
	}
	mstrmojo.Button.newActionButton=function(N,O,P){var M=mstrmojo.Button.newWebButton(N,O,false,P)
	M.cssClass=M.cssClass+" action-button"
	return M
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.color","mstrmojo.dom")
	var L=mstrmojo.color,H=mstrmojo.dom
	var I=68.5,M=77.5,D=83
	function B(O,N){return{x:O.clientX-N.x-M,y:O.clientY-N.y-M}
	}function K(){var N=this._hsl[1],P=this._hsl[2]
	var O=this.slHandleNode.style
	O.left=Math.round(D*(0.5-N)+M)+"px"
	O.top=Math.round(D*(0.5-P)+M)+"px"
	}function F(){var N=this._hsl[0],P=N*2*Math.PI
	var O=this.hueHandleNode.style
	O.left=Math.round(Math.sin(P)*I+M)+"px"
	O.top=Math.round(-Math.cos(P)*I+M)+"px"
	this.slNode.style.backgroundColor=L.hsl2hex(N,1,0.5)
	}function C(){this._hsl=L.hex2hsl(this.color)
	if(this.slHandleNode&&this.hueHandleNode){K.call(this)
	F.call(this)
	}}mstrmojo.ui.editors.controls.ColorWheel=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.ui.editors.controls.ColorWheel",markupString:'<div id="{@id}" class="mstrmojo-ui-ColorWheel {@cssClass}" style="{@cssText}" mstrAttach:mousedown><div class="cwHue"></div><div class="cwColorField"></div><div class="cwHandle"><div></div></div><div class="cwHandle"><div></div></div></div>',markupSlots:{slNode:function(){return this.domNode.childNodes[1]
	},hueHandleNode:function(){return this.domNode.childNodes[2]
	},slHandleNode:function(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},slNode:null,hueHandleNode:null,slHandleNode:null,color:"#ffffff",onColorPicked:function G(N){},postBuildRendering:function A(){C.call(this)
	},oncolorChange:function J(){C.call(this)
	},onmousedown:function E(Q){var S=this,N=H.position(this.domNode),U=this._hsl,P=Q.e,R=B(P,N),W=Math.max(Math.abs(R.x),Math.abs(R.y))*2>D,O=function(Z){var c=B(Z,N),Y=U[0],a=U[1],b=U[2]
	if(W){Y=Math.atan2(c.x,-c.y)/(2*Math.PI)
	if(Y<0){Y+=1
	}S._hsl=[Y,a,b]
	F.call(S)
	}else{a=Math.max(0,Math.min(1,-(c.x/D)+0.5))
	b=Math.max(0,Math.min(1,-(c.y/D)+0.5))
	S._hsl=[Y,a,b]
	K.call(S)
	}var X=L.hsl2hex(Y,a,b)
	S.color=X
	S.onColorPicked(X)
	H.stopPropogation(window,Z)
	return false
	}
	H.attachMouseMoveEvents(O)
	O(P)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.string")
	var B=mstrmojo.string
	mstrmojo.Label=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.Label",allowHTML:false,text:"",title:"",markupString:'<div id="{@id}" class="mstrmojo-Label {@cssClass}" style="{@cssText}" title="{@title} "mstrAttach:click></div>',markupMethods:{ontitleChange:function(){this.domNode.title=this.title
	},ontextChange:function(){var C=this.text
	C=B.isEmpty(C)?"":C.toString()
	this.domNode.innerHTML=this.allowHTML?C:B.encodeHtmlString(B.decodeHtmlString(C),true)
	},oncssTextChange:mstrmojo.Widget.cssTextMarkupMethod,onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onenabledChange:mstrmojo.Widget.enabledMarkupMethod},autoHide:false,_set_text:function A(E,C){if(this.autoHide){this.set("visible",(C!==null)&&(C!=="")&&(C!==undefined))
	}var D=this.text
	this.text=C
	return(D!==C)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo._Formattable")
	mstrmojo.DocRoundRectangle=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._Formattable],{scriptClass:"mstrmojo.DocRoundRectangle",markupString:'<div id="{@id}" k="{@k}" class="mstrmojo-DocRoundRectangle" title="{@tooltip}" style="{@domNodeCssText}"><div class="mstrmojo-DocRoundRectangle-l1" style="{@tCornersCssText}{@tCornersCssGradText}"></div><div class="mstrmojo-DocRoundRectangle-l2" style="{@tCornersCssText}{@tCornersCssGradText}"></div><div class="mstrmojo-DocRoundRectangle-l3" style="{@tCornersCssText}{@tCornersCssGradText}"></div><div style="{@rectNodeCssText}{@rectNodeGradCssText}"></div><div class="mstrmojo-DocRoundRectangle-l3" style="{@bCornersCssText}{@bCornersCssGradText}"></div><div class="mstrmojo-DocRoundRectangle-l2" style="{@bCornersCssText}{@bCornersCssGradText}"></div><div class="mstrmojo-DocRoundRectangle-l1" style="{@bCornersCssText}{@bCornersCssGradText}"></div></div>',markupSlots:{rectNode:function(){return this.domNode.childNodes[3]
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},formatHandlers:{domNode:["top","left","width","z-index","fx"],rectNode:["height","background-color"],tCorners:["background-color"],bCorners:["background-color"]},update:function C(D){if(this.thresholdId||D.data.tid){delete this.fmts
	}this.thresholdId=D.data.tid
	this.set("visible",!D.data.hidden)
	},preBuildRendering:function B(){var F=this._super()
	var G=this.getFormats(),D=!!this.defn.topc,I=D?4:8,H="(\\d*px)",E=Math.max(parseInt(G.height,10)-I,0)
	if(G.height==="100%"){H="(100%)"
	E=this.parent.getHeight()-I
	}this.rectNodeCssText=this.rectNodeCssText.replace(new RegExp("(.*height:)"+H+"(.*)"),"$1"+E+"px$3")
	if(D){this.bCornersCssText="display:none
	"
	}return F
	},formatGradient:function A(E,H){var F=mstrmojo.css.buildGradient(E.t,E.sc,E.ec)
	if(!F){return 
	}var D=F.n+":"+F.v+"
	",G="background-color:"
	this.rectNodeGradCssText=D
	if(E.t===0){this.tCornersCssGradText=G+E.sc+"
	"
	this.bCornersCssGradText=G+E.ec+"
	"
	}else{this.tCornersCssGradText=this.bCornersCssGradText=D
	}}})
	}())
	(function(){var regExH=/"height", "[0-9.]+"/g
	var regExW=/"width", "[0-9.]+"/g
	var regExH1=/height="?[0-9.]+"?/g
	var regExW1=/width="?[0-9.]+"?/g
	mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo._Formattable","mstrmojo._IsSelectorTarget")
	mstrmojo.DocVisualization=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._Formattable,mstrmojo._IsSelectorTarget],{scriptClass:"mstrmojo.DocVisualization",markupString:'<div id={@id} class="mstrmojo-docvisualization" title="{@tooltip}" style="{@domNodeCssText}">{@htmlText}</div>',formatHandlers:{domNode:["RW","T","B","fx"]},update:function update(node){if(this._super){this._super(node)
	}var d=node.data
	this.htmlText=d.htmlText
	this.jsText=d.jsText
	this.selData=d.selData
	this.ctrLink=d.ctrLink
	this.vp=d.vp
	this.eg=d.eg
	if(this.eg){this.htmlText=this.eg
	}},preBuildRendering:function(){if(this._super){this._super()
	}var fmts=this.getFormats()
	if(!fmts){return 
	}var h=fmts.height
	if(h){h=h.replace("px","")
	}var w=fmts.width
	if(w){w=w.replace("px","")
	}if(this.jsText){this.jsText=this.jsText.replace(regExH,'"height", "'+h+'"').replace(regExW,'"width", "'+w+'"')
	}},postBuildRendering:function pstBldRnd(){if(this._super){this._super()
	}eval(this.jsText)
	},resize:function(){if(this.eg){return 
	}var embedNode=this.domNode.firstChild.firstChild.firstChild
	if(!embedNode){return 
	}var fmts=this.getFormats()
	var h=fmts.height
	if(h){h=h.replace("px","")
	}var w=fmts.width
	if(w){w=w.replace("px","")
	}if(mstrmojo.dom.isIE){embedNode.firstChild.setAttribute("height",h)
	embedNode.firstChild.setAttribute("width",w)
	}else{embedNode.innerHTML=embedNode.innerHTML.replace(regExH1,'height="'+h+'"').replace(regExW1,'width="'+w+'"')
	}},makeSelections:function(selections){var shuffledData={},i,j,attId,e
	for(i=0
	i<selections.length
	i++){var attIdI=selections[i].attId
	if(!shuffledData[attIdI]){shuffledData[attIdI]=[]
	}shuffledData[attIdI]=shuffledData[attIdI].concat(selections[i].values)
	}var sep="\u001E",sep1="\u001F"
	var ckJoined="",eidJoined="",cklJoined=""
	var tksArray=[]
	for(attId in shuffledData){var sd=this.getSelectionData(attId)
	if(!sd){continue
	}var ctrLink=this.ctrLink[attId]
	var values=shuffledData[attId]
	if(sd&&values&&values.length>0){sd.sel=values
	sd.ias=false
	for(e in values){if(e==="u
	"){sd.ias=true
	break
	}}}if(ctrLink.gbTargets){var t=ctrLink.targets=[],gbt=ctrLink.gbTargets,cgbmap=this.model.getCGBMap()
	for(j=0
	j<gbt.length
	j++){var targetKey=cgbmap[gbt[j]]
	if(targetKey){t.push(targetKey)
	}}delete ctrLink.gbTargets
	}ckJoined+=ctrLink.ctxt+sep1
	eidJoined+=values.join(sep)+sep1
	cklJoined+=ctrLink.ck+sep1
	tksArray=tksArray.concat(ctrLink.targets)
	}ckJoined=ckJoined.substring(0,ckJoined.length-1)
	eidJoined=eidJoined.substring(0,eidJoined.length-1)
	cklJoined=cklJoined.substring(0,cklJoined.length-1)
	if(tksArray.length===0){return 
	}var evt={ck:ckJoined,eid:eidJoined,src:this.k,tks:tksArray.join(sep),type:this.defn.t,ctlKey:cklJoined,include:true,isDocVis:true}
	this.model.slice(evt)
	},getAllSelectionData:function(){return this.selData
	},getSelectionData:function(attId){var selData=this.selData,k
	if(selData&&selData.attl){var attl=selData.attl
	if(attId){return attl[attId]
	}return attl[attl.keys()[0]]
	}},saveVisProps:function(widgetPropsXml){mstrApp.docModel.updateUnitFormat(this,1,{FormattingWidget:{WidgetProps:widgetPropsXml}},{success:function(){}})
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.hash")
	function A(H,E,G,F){var D=mstrmojo.hash.copy(F,{props:{left:{isStyle:true,start:H,stop:E,suffix:"px",ease:mstrmojo.ease.linear}},duration:G})
	(new mstrmojo.fx.AnimateProp(D)).play()
	}function B(K,N,G,L){var I=K.domNode,M=I.offsetWidth,D=K.scrollableIncFetch
	var E=K.hasAnimation&&(!(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent))||Number(RegExp.$1)>3.5),J=L?1:-1,F=parseInt(M,10)*J,H=E?500:0
	A(0,-F,H,{target:G,duration:H,preStart:function(){this.target.style.overflowY="hidden"
	},onEnd:function(){this.target.style.display="none"
	}})
	A(F,0,H,{target:N,preStart:function(){this.target.style.display="block"
	this.target.style.overflowY=(D?"visible":"auto")
	}})
	if(K.waiting){A(0,-F,H,{widget:K,slot:"loaderNode",onEnd:function(){this.widget.waiting=false
	}})
	}}var C=function(D){var E=D.currentPage
	if(E===D.p1Node){E=D.p2Node
	}else{E=D.p1Node
	}D.currentPage=E
	}
	mstrmojo.Booklet=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.Booklet",pageClass:"mstrmojo-BookletPage",markupString:'<div id="{@id}" class="mstrmojo-Booklet {@cssClass}" style="{@cssText}"><div id="{@id}_p1" class="mstrmojo-BookletPage" ></div><div id="{@id}_p2" class="mstrmojo-BookletPage" style="left:-100%
	"></div><div id="{@id}_ldr" class="mstrmojo-BookletLoader" ></div></div>',markupSlots:{containerNode:function(){return this.domNode
	},p1Node:function(){return this.domNode.firstChild
	},p2Node:function(){return this.domNode.childNodes[1]
	},loaderNode:function(){return this.domNode.childNodes[2]
	}},markupMethods:{onnextChange:function(){var G=this.next
	if(!G){return 
	}var D=this.currentPage,F=this.p1Node,E=this.currentPage=(D==F)?this.p2Node:F
	if(!(G instanceof mstrmojo.Obj)){G=this.next=mstrmojo.insert(G)
	}if(!G.hasRendered){G.placeholder=E.appendChild(document.createElement("span"))
	G.render()
	}else{if(E.firstChild){E.replaceChild(G.domNode,E.firstChild)
	}else{E.appendChild(G.domNode)
	}}this.set("waiting",false)
	if(E&&D){B(this,E,D,this.turnDirFwd)
	}else{if(this.scrollableIncFetch){E.style.overflowY="visible"
	}}},onwaitingChange:function(D){this.loaderNode.style.left=(this.waiting)?0:"-100%"
	},onheightChange:function(D){if(this.height){this.domNode.style.height=this.height
	}},onwidthChange:function(D){if(this.width){this.domNode.style.width=this.width
	}}},enabled:true,waiting:false,next:null,currentPage:null,turnDirFwd:true,hasAnimation:true,scrollableIncFetch:false,FORWARD:true,REVERSE:false,turnFwd:function(D){this.turn(D,this.FORWARD)
	},turnBack:function(D){this.turn(D,this.REVERSE)
	},turn:function(D,E){this.set("turnDirFwd",E)
	this.set("next",D)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Widget")
	var C=mstrmojo.css,G=mstrmojo.array
	function F(H,J){var I={searchMetadata:{taskId:"searchMetadata",styleName:this.searchStyleName,rootFolderID:this.rootID,searchPattern:this.searchPattern+"*",nameWildcards:(this.qse?16:1),quickSearch:this.qse,sortKey:(this.qse?-1:6),blockBegin:this.blockBegin||1,blockCount:this.blockCount,recursive:1,folderBrowserStyle:0,includeAncestorInfo:"true",includeObjectDesc:this.includeObjectDesc,searchXML:this.searchXML||"",dataSourcesXML:this.dataSources||"",objectType:this.objectTypes},browseFolder:{taskId:"searchMetadata",rootFolderID:this.rootID,blockBegin:this.blockBegin,blockCount:this.blockCount,recursive:this.hierarchical?0:(this.searchXML?"":1),folderBrowserStyle:this.hierarchical?1:0,includeAncestorInfo:String(!!this.hierarchical),searchXML:this.searchXML||"",dataSourcesXML:this.dataSources||"",objectType:this.objectTypes},browseElements:{taskId:"browseElements",styleName:"MojoAttributeStyle",attributeID:this.rootID,blockBegin:this.blockBegin,blockCount:this.blockCount,filterXML:this.filterXML||"",searchPattern:this.searchPattern||"",matchCase:!!this.matchCase,dataSourcesXML:this.dataSourcesXML||"",includeFormNames:!!this.collectForms,includeFormValues:!!this.bIncludeFormValues,displayedForms:this.displayedForms||1,dimensionID:this.dimensionId||""}}[H]||{}
	if(typeof J==="object"){mstrmojo.hash.copy(J,I)
	}return I
	}var B="##searchPattern"
	mstrmojo.SearchBox2=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.SearchBox2",taskId:"searchMetadata",rootID:null,searchStyleName:"MojoFolderStyle",objectTypes:"3,14,256,257,1024,1027,2048,3072,10",token:{searchMetadata:/\//,browseElements:/(^-)|(,)|( OR )|( AND)|([<>]=?)|(&)|( )|(["\[\]\/])/},blockCount:50,blockBegin:1,minSearchLength:2,matchCase:false,enableMatchCase:true,supportIncFetch:true,quickSearch:false,searchAfterSearchPatternRestored:false,includeObjectDesc:true,forceResetCache:false,onUpdateSearchParams:mstrmojo.emptyFn,markupString:'<table id={@id} cellspacing=0 cellpadding=0 class="mstrmojo-SearchBox-Wrapper {@cssClass}" style="{@cssText}
	"><tr><td><div class="mstrmojo-SearchBox" mstrAttach:click ><input class="mstrmojo-SearchBox-input" type="text" mstrAttach:keyup,blur /></div></td><td><div class="mstrmojo-SearchBox-bg"><div class="mstrmojo-SearchBox-search" id="{@id}sbSearch" mstrAttach:click ></div></div></td><td><div class="mstrmojo-SearchBox-options" style="{@cssTextShowMC}"><input id="{@id}sbMatchCase" type="checkbox" mstrAttach:click /><label for="{@id}sbMatchCase">'+mstrmojo.desc(4326,"Case Sensitive")+"</label></div></td></tr></table>",markupSlots:{inputNode:function(){return this.domNode.rows[0].cells[0].firstChild.firstChild
	},searchNode:function(){return this.domNode.rows[0].cells[1].firstChild.firstChild
	},optionNode:function(){return this.domNode.rows[0].cells[2].firstChild.firstChild
	}},preBuildRendering:function(){this.cssTextShowMC=this.enableMatchCase?"":"display: none"
	},postBuildRendering:function(){if(this._super){this._super()
	}this.matchCase=this.optionNode.checked
	},onkeyup:function E(H){var J=this
	var I=J.searchTimer
	if(I){window.clearTimeout(I)
	}J.searchTimer=window.setTimeout(function(){J.onkeyupDelayed(H)
	delete J._searchTimer
	},parseInt(H.e.keyCode||H.e.charCode,10)===13?0:J.searchDelay)
	},onkeyupDelayed:function A(I){var H=I.hWin,K=I.e||H.event
	var J=mstrmojo.string.trim(this.inputNode.value)
	if(this.searchNode){C.toggleClass(this.searchNode,["clear"],J.length>0)
	}this.showTaskError=false
	this.click2Search=false
	if(J.length==0||this.autoSubmit||this.onEnter&&K.keyCode===13){this._onsearch()
	}},onEnter:function(){this._onsearch()
	},onclick:function(I){var H=I.hWin,K=I.e||H.event,M=K.target||K.srcElement,L=M&&M.id
	switch(L.replace(this.id,"")){case"sbDown":if(this.enableMatchCase){var J=this.optionNode.parentNode.style
	J.display=J.display=="block"?"none":"block"
	}break
	case"sbSearch":if(this.inputNode.value.length>0){this.clearSearch()
	}break
	case"sbMatchCase":this.set("matchCase",this.optionNode.checked)
	break
	case"sbSpinner":break
	}},clearSearch:function(){this.inputNode.value=""
	C.removeClass(this.searchNode,["clear"])
	var I=this.searchCache,H=this.rootID
	if(I&&I[H]){I[H][B]=""
	}this._onsearch(true)
	},onmatchCaseChange:function(){this.matchCaseChanged=true
	this._onsearch()
	},onrootIDChange:function(){this.rootChanged=true
	this._setupCache(this.forceResetCache)
	var I=this.searchCache[this.rootID]
	if(I){var H=I[B]||""
	this.inputNode.value=H
	if(H.length>0){if(H.length>=this.minSearchLength&&this.searchAfterSearchPatternRestored){this._onsearch()
	}}}},getRootID:function(){},contentWidget:null,_notifyContentWidget:function(I){var H=this.contentWidget||this
	H.set("items",I[0])
	if(this.supportIncFetch){var J=I[1],L=I[2],K=this.blockCount
	H.set("ifs",{np:Math.floor(J/K)+((J%K>0)?1:0),cp:Math.floor(L/K)+((L%K>0)?1:0)})
	}},_onsearch:function(H){this.getRootID()
	this._setupCache()
	var K=mstrmojo.string.trim(this.inputNode.value)
	if(K.length===0){H=true
	}var L=this.token[this.taskId]
	if(L.test(K)){}if(this.searchPattern==K&&!this.rootChanged&&!this.matchCaseChanged&&!this.click2Search){return 
	}var M=this.rootID,J=this.searchCache[M]
	if((K.length<this.minSearchLength&&!this.click2Search)&&!H){if(this.searchPattern&&this.searchPattern.length>=this.minSearchLength){this._notifyContentWidget(J[M])
	this.searchPattern=K
	}}else{this.searchPattern=K
	J[B]=this.searchPattern
	var I=this.filterCache(K,J,H)
	if((this.click2Search||I===null)&&!H){this.blockBegin=1
	this.fetch()
	return 
	}else{this._notifyContentWidget(I)
	}}J[B]=K
	},_setupCache:function(J){var K=this.searchCache,I=this.rootID
	if(K&&(J||!K[I])){K[I]=K[I]||{}
	var H=this.contentWidget&&this.contentWidget.items||this.rootCacheItems||[]
	K[I][I]=[H,this.totalSize||0,this.blockBegin||1].concat()
	}},taskCallId:0,path:mstrConfig.taskURL,method:"POST",serverRequest:function D(H,I){if(mstrApp&&mstrApp.serverRequest){mstrApp.serverRequest(H,I)
	}else{mstrmojo.xhr.request("POST",this.path,I,H,undefined,this.XServer,this.baseParams)
	}},fetch:function(){this.rootChanged=false
	this.matchCaseChanged=false
	if(this.spinnerNode){this.spinnerNode.style.display="block"
	}if(this.preFetch){this.preFetch()
	}var H=this,I=F.apply(this,[this.taskId])
	I.searchPattern=this.searchPattern
	this.onUpdateSearchParams(I)
	var J={success:function(K){var L=K.items||K.es||[]
	L=[L,K.totalSize||K.sz||0,K.blockBegin||K.bb]
	mstrmojo.all[H.id].searchCache[H.rootID][(I.searchPattern.length==0?H.rootID:H.buildIndex(I.searchPattern))]=L
	H._notifyContentWidget(L)
	},failure:function(K){if(H.showTaskError){mstrmojo.alert(mstrmojo.desc(8117,"Data request failed:")+" \n"+K.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}},complete:function(){if(H.spinnerNode){H.spinnerNode.style.display="none"
	}if(H.postFetch){H.postFetch()
	}}}
	this.serverRequest(I,J)
	},fetchPage:function(H){this.blockBegin=H*this.blockCount+1
	this.fetch()
	},filterCache:function(J,M,I){var H=M&&M[I?this.rootID:this.buildIndex(J)]
	if(H){return H
	}var K=this.token[this.taskId]
	if(K.test(J)||this.totalSize>this.blockCount){return null
	}var O=J.replace(/.$/,"")
	H=M&&M[this.buildIndex(O)]
	while(H===undefined&&(O=O.replace(/.$/,"")).length>0){H=M&&M[this.buildIndex(O)]
	}if(H!==undefined){if(H[1]>this.blockCount){return null
	}var L=H[0],N=[]
	G.forEach(L,function(P){if(P.n.search(new RegExp(J,this.matchCase?"":"i"))>-1){N.push(P)
	}})
	this.totalSize=N.length
	return(M[this.buildIndex(J)]=[N,N.length,this.blockBegin].concat())
	}return null
	},buildIndex:function(H){if(H.replace(/^\s|\s$/g,"").length===0){return""
	}return !this.matchCase?H.toUpperCase():H+"::0"
	},init:function(H){if(this._super){this._super(H)
	}this.qse=mstrApp.useQuickSearch&&mstrApp.useQuickSearch()||0
	this.autoSubmit=this.quickSearch&&(mstrApp.searchAutoComplete&&mstrApp.searchAutoComplete()||false)
	this.searchDelay=mstrApp.searchAutoCompleteDelay&&mstrApp.searchAutoCompleteDelay()||0
	this.xhr=new mstrmojo.SimpleXHR()
	this.searchCache=this.searchCache||{}
	},clear:function(){this.inputNode.value=""
	C.removeClass(this.searchNode,["clear"])
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.publisher","mstrmojo.Widget","mstrmojo.array","mstrmojo._HasChildren")
	var G=mstrmojo.array
	function E(P){if(!this.shouldPropagateEnabled){return 
	}var O=this._disabledChildren
	G.forEach(P,function(Q){if(Q.enabled){O.push(Q.id)
	Q.set("enabled",false)
	}})
	}function J(){G.forEach(this._disabledChildren,function(O){var P=mstrmojo.all[O]
	if(P&&P.parent===this){P.set("enabled",true)
	}},this)
	this._disabledChildren=[]
	}mstrmojo.Container=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._HasChildren],{scriptClass:"mstrmojo.Container",defaultChildSlot:"containerNode",containerNode:null,preserveChildDomOrder:true,shouldPropagateEnabled:false,init:function M(P){this._super(P)
	this._disabledChildren=[]
	this.attachEventListener("addChild",this.id,function(Q){if(this.shouldPropagateEnabled&&!this.enabled){E.call(this,Q.value)
	}})
	if(this.children){this.initChildren()
	}var O=this.parent
	if(!O||O.hasInitBindings){this.initBindings()
	}},destroy:function H(O){if(this.children){this.destroyChildren(true)
	}if(this.bindings){this.destroyBindings()
	}this._super(O)
	},unrender:function I(Q){var R=this.children,O=(R&&R.length)||0,P
	for(P=O-1
	P>-1
	P--){R[P].unrender(true)
	}this._super(Q)
	},postBuildRendering:function A(){if(this._super()!==false){this.renderChildren()
	return true
	}return false
	},renderChildren:function L(){var Q=this.children,O=(Q&&Q.length)||0,P
	for(P=0
	P<O
	P++){var R=Q[P]
	if(this.childRenderCheck(R)){R.render()
	}}},childRenderCheck:function D(P){if(P&&!P.hasRendered){var O=P.slot||this.defaultChildSlot
	return !!this[O]
	}return false
	},addChildren:function N(R,P,Q){var O=this._super(R,P,Q)
	if(O){this.childRenderOnAddCheck(O)
	}return O
	},removeChildren:function F(X,R){var W=X?[X]:(this.children||[]),O=W.length,S
	for(S=O-1
	S>-1
	S--){var Q=W[S],P=Q&&Q.domNode
	if(P){var U=this[(Q.slot||this.defaultChildSlot)]
	if(P.parentNode===U){U.removeChild(P)
	}}}return this._super(X,R)
	},childRenderOnAddCheck:function B(Q){if(this.hasRendered&&Q){var O=Q.length,P
	for(P=0
	P<O
	P++){var R=Q[P]
	if(this.childRenderCheck(R)){R.render()
	}else{if(R&&R.hasRendered){this.onchildRenderingChange(R)
	}}}}},onchildRenderingChange:function K(O){var Y=O&&O.domNode
	if(!Y){return 
	}var P=this.defaultChildSlot,X=O.slot||P,a=this[X],Q=this.children
	if(!a){if(Y.parentNode){Y.parentNode.removeChild(Y)
	}}else{if(Y.parentNode===a){return 
	}if(!this.preserveChildDomOrder){a.appendChild(Y)
	}else{var R,W
	for(W=Q.length-1
	W>=0
	W--){var Z=Q[W]
	if(Z===O){break
	}if(X===(Z.slot||P)){var b=Z.domNode
	if(b&&b.parentNode===a){R=b
	}}}if(R){a.insertBefore(Y,R)
	}else{a.appendChild(Y)
	}}}if(mstrmojo.publisher.hasSubs(this.id,"childrenRendered")){var S=Q.length,U
	for(U=0
	U<S
	U++){if(!Q[U].domNode){return 
	}}this.raiseEvent({name:"childrenRendered"})
	}},propagateChildProps:function C(S){var R=this[S],Q=this.children||[],O=Q.length,P
	for(P=0
	P<O
	P++){Q[P].set(S,R)
	}}})
	mstrmojo.Container.enabledMarkupMethod=function(){mstrmojo.Widget.enabledMarkupMethod.apply(this,arguments)
	if(this.shouldPropagateEnabled){if(this.enabled){J.call(this)
	}else{E.call(this,this.children)
	}}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo._IsInputControl")
	mstrmojo.DefaultDIC=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.DefaultDIC",isDummy:true,showInPopup:function(){mstrmojo.alert("The control style has not been supported yet.")
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.expr","mstrmojo.css","mstrmojo._IsExprNode","mstrmojo._HasPopup","mstrmojo.Widget","mstrmojo.fe.FilterUtils","mstrmojo.url")
	var I=mstrmojo.dom,A=mstrmojo.css,E=mstrmojo.fe.FilterUtils,D=E.getExprConditionNodeHtml,B=E.getExprNodeHtmlAndText
	function C(J){var K=J.data
	return D(K)
	}mstrmojo.ConditionNode=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._IsExprNode,mstrmojo._HasPopup],{scriptClass:"mstrmojo.ConditionNode",data:null,editable:false,prefixedAndOrEditable:false,markupString:'<div id="{@id}" class="mstrmojo-cond mstrmojo-ConditionNode {@cssClass}" mstrAttach:mousedown><div class="mstrmojo-onhoverparent mstrmojo-cond-prefix {@cssClass}"><span class="mstrmojo-textset mstrmojo-cond-prefix-text" mstrAttach:click></span><span class="mstrmojo-onhover-in mstrmojo-andor-tools {@cssClass}">{@_prefixAndOrToolsMarkup}</span></div><div class="mstrmojo-onhoverparent mstrmojo-cond-contents {@cssClass}"><span class="mstrmojo-textset mstrmojo-cond-text {@cssClass}" mstrAttach:click></span><span class="mstrmojo-cond-text-postfix {@cssClass}"></span><span class="mstrmojo-rel mstrmojo-cond-popupNode {@cssClass}"></span><span class="mstrmojo-onhover-bl mstrmojo-abs mstrmojo-topright mstrmojo-cond-tools {@cssClass}"><img class="mstrmojo-del" src="'+mstrmojo.url.getPlaceholderImageURL()+'" tooltip="'+mstrmojo.desc(7931,"Delete condition")+'"'+ +' alt="'+mstrmojo.desc(7931,"Delete condition")+'" mstreventmark="delNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].del()" /></span></div></div>',eventHandlerMap:{delNode:{click:{requiredParams:["id"],handlerFn:function(J){return function(){mstrmojo.all[J.id].del()
	}
	}}}},markupSlots:{prefixHoverNode:function(){return this.domNode.firstChild
	},prefixNode:function(){return this.domNode.firstChild.firstChild
	},prefixAndOrToolsNode:function(){return this.domNode.firstChild.childNodes[1]
	},condNode:function(){return this.domNode.childNodes[1]
	},textNode:function(){return this.domNode.childNodes[1].firstChild
	},textPostfixNode:function(){return this.domNode.childNodes[1].childNodes[1]
	},popupNode:function(){return this.domNode.childNodes[1].childNodes[2]
	}},markupMethods:{onprefixedAndOrEditableChange:function(){A.toggleClass(this.prefixNode,["editable"],this.prefixedAndOrEditable)
	},oneditableChange:function(){A.toggleClass(this.textNode,["editable"],this.editable)
	},onselectedChange:function(){A.toggleClass(this.condNode,["selected"],this.selected)
	},ondataChange:function(){this.prefixNode.innerHTML=this.andOrTxt()
	var J=B(this.data)
	this.textNode.innerHTML=J.html
	this.textNode.title=J.text
	this.textPostfixNode.innerHTML=this.getConditionTextPostfix()
	}},betweenText:mstrmojo.desc(308,"and"),atText:mstrmojo.desc(5923,"at"),emptyText:mstrmojo.desc(7930,"Empty condition"),init:function H(J){this._super(J)
	this.markupString=this.markupString.replace("{@_prefixAndOrToolsMarkup}",this.getPrefixAndOrToolsMarkup())
	},getConditionTextPostfix:function(){return""
	},del:function G(){var J=this.parent
	if(J&&J.remove&&this.data){J.remove(this.data)
	}},isEmpty:function(){var K=this.data,J=K&&K.et,L=J&&mstrmojo.expr.ET2TGT[J]
	return !(L&&K[L])
	},isSelectableArea:function(J){return I.contains(this.condNode,J,true)
	},preclick:function F(J){var L=null,K=I.eventTarget(J.hWin,J.e)
	if(I.contains(this.prefixNode,K,true)){L="andor"
	}else{if(I.contains(this.textNode,K,true)){L="condition"
	}else{if(I.contains(this.textPostfixNode,K,true)){I.stopPropogation(J.hWin,J.e)
	return false
	}}}J.part=L
	}})
	mstrmojo.ConditionNode.getFunctionNode=C
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.Widget")
	var A=mstrmojo.css
	mstrmojo.TabButton=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.TabButton",cssDisplay:"inline",markupString:'<span id="{@id}" class="mstrmojo-TabButton {@cssClass}" style="{@cssText}" mstrAttach:click></span>',markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onenabledChange:mstrmojo.Widget.enabledMarkupMethod,ontitleChange:function(){this.domNode.innerHTML=this.title||""
	},onbackgroundColorChange:function(){this.domNode.style.backgroundColor=this.backgroundColor||""
	},onselectedChange:function(){A.toggleClass(this.domNode,["selected"],!!this.selected)
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.dom","mstrmojo.css","mstrmojo.string","mstrmojo.Widget","mstrmojo._ListSelections")
	var F=mstrmojo.dom,G=mstrmojo.css,O=mstrmojo.string,M=mstrmojo.Enum_Keys
	mstrmojo.ListBase=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._ListSelections],{scriptClass:"mstrmojo.ListBase",selectionPolicy:null,itemRenderer:null,icnCssText:"",icnCss:"",markupString:'<div id="{@id}" tstid="{@tstid}" class="mstrmojo-ListBase {@cssClass}" aria-label="{@en@ariaLabel}" style="{@cssText}" mstrAttach:click,dblclick,mousedown,mouseover,mouseout,contextmenu,keydown><div class="{@icnCss}" style="{@icnCssText}">{@itemsHtml}</div></div>',markupSlots:{itemsContainerNode:function K(){return this.domNode.firstChild
	},scrollboxNode:function A(){return this.domNode
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onheightChange:mstrmojo.Widget.heightMarkupMethod,onwidthChange:mstrmojo.Widget.widthMarkupMethod,onariaLabelChange:function(){this.domNode.setAttribute("aria-label",O.encodeHtmlString(this.ariaLabel,true))
	}},autoHide:false,itemsContainerNode:null,_markupPrefix:null,_markupSuffix:null,_itemPrefix:null,_itemSuffix:null,keydownIndex:0,enableAccessibility:false,ariaLabel:"",init:function P(R){this._super(R)
	if(this.autoHide){this.visible=!!(this.items&&this.items.length)
	}},buildRendering:function E(){this.itemsHtml=""
	var R=(this.renderOnScroll?this.items&&((this.renderIndex+1)*this.renderBlockSize):this.items&&this.items.length)
	if(R){this.itemsHtml=this._buildItemsMarkup(0,R-1,this._markupPrefix&&this._markupPrefix(),this._markupSuffix&&this._markupSuffix(),this._itemPrefix&&this._itemPrefix(),this._itemSuffix&&this._itemSuffix()).join("")
	}this._super()
	delete this.itemsHtml
	this.addSlots({itemsNode:this.itemsContainerNode.firstChild})
	},_buildItemsMarkup:function B(R,W,d,S,e,U){var f=[],Z=0
	f[Z++]=d||""
	var Y=this.itemRenderer,c=Y&&Y.render
	if(c&&typeof c==="function"){var a=this.items,b=Math.min(W+1,((a&&a.length)||0)),X,g
	for(X=R
	X<b
	X++){g=a[X]
	if(g.skip){continue
	}f[Z++]=e||""
	f[Z++]=c(g,X,this)
	f[Z++]=U||""
	}}f[Z+1]=S||""
	return f
	},setA11yAttribute:mstrmojo.emptyFn,onselectionChange:function L(f){if(!f){return 
	}var b=this.itemRenderer
	if(!b){return 
	}var d=this.items
	if(f.added&&f.added.length>0&&d.length>0&&!mstrmojo.array.some(f.added,function(j){return !d[j]||!d[j].dsbld
	})){return 
	}var X=b.unselect,a=this.items||[],g=f.removed,W,U,S,Y,h
	if(X&&g){for(Y=0,h=g.length
	Y<h
	Y++){W=g[Y]
	if(typeof (W)==="object"){U=(W.idx==0)?0:W.positions
	W=W.idx
	}else{U=W
	}S=this._getItemNode(U)
	if(S){X(S,a[W],U,this)
	this.setA11yAttribute(S,false)
	}}}var R=b.select,e=f.added,Z,c
	if(R&&e){for(Z=0,c=e.length
	Z<c
	Z++){W=e[Z]
	if(typeof (W)==="object"){U=(W.idx==0)?0:W.positions
	W=W.idx
	}else{U=W
	}S=this._getItemNode(U)
	if(S){R(S,a[W],U,this)
	this.setA11yAttribute(S,true)
	}}}if(this.onchange){this.onchange({added:f.added,removed:f.removed})
	}},_set_items:function C(W,R){this.renderIndex=0
	if(this.autoHide){this.set("visible",!!(R&&R.length))
	}var U=this.items
	this.items=R
	if(U!==R){var S=this.hasRendered
	if(S){this.unrender(false)
	}this.clearSelect()
	if(S){this.render()
	}return true
	}return false
	},onItemContextMenu:mstrmojo.emptyFn,oncontextmenu:function J(R){F.preventDefault(window,R.e)
	var U=R.getTarget(),S=this.getItemFromTarget&&this.getItemFromTarget(U)
	if(S){if(this.onItemContextMenu(S,R)){R.cancel()
	}}},getA11yCSS:mstrmojo.emptyFn,arrowKeySupported:function(R){return false
	},updateItemStyle:function I(U){if(!this.enableAccessibility){return 
	}var R=this.getA11yCSS(),S=this.getSelectedNode(this.keydownIndex)
	if(S){S[U?"focus":"blur"]()
	G.toggleClass(S,R,U)
	}},onkeydown:function H(S){var R=S.hWin,W=S.e||R.event,U=W.keyCode
	if(!this.enableAccessibility||!this.arrowKeySupported(U)){return false
	}if(U===M.DOWN_ARROW||U===M.RIGHT_ARROW||U===M.END){S.cancel()
	S.preventDefault()
	this.updateItemStyle(false)
	if(U===M.END){this.keydownIndex=this.items.length-1
	}else{this.keydownIndex=(this.keydownIndex+1)%this.items.length
	}this.updateItemStyle(true)
	this.scrollToSelectedItem(this.keydownIndex)
	return true
	}if(U===M.UP_ARROW||U===M.LEFT_ARROW||U===M.HOME){S.cancel()
	S.preventDefault()
	this.updateItemStyle(false)
	if(U===M.HOME){this.keydownIndex=0
	}else{this.keydownIndex=(this.keydownIndex>0)?(this.keydownIndex-1):(this.items.length-1)
	}this.updateItemStyle(true)
	this.scrollToSelectedItem(this.keydownIndex)
	return true
	}return false
	},getSelectedNode:function Q(R){var S=this.itemsContainerNode&&this.itemsContainerNode.childNodes
	return S&&S[R!==undefined?R:this.selectedIndex]
	},scrollToSelectedItem:function D(W){var Z=this.getSelectedNode(W)
	if(Z){var S=this.scrollNode,Y=S.clientHeight,X=Z.offsetTop,R=S.clientWidth,U=Z.offsetLeft
	if(X-S.scrollTop+Z.offsetHeight>Y){S.scrollTop=X+Z.offsetHeight-Y
	}else{if(X<S.scrollTop){S.scrollTop=Math.max(X-10,0)
	}}if(U-S.scrollLeft+Z.offsetWidth>R){S.scrollLeft=U+Z.offsetWidth-R
	}else{if(U<S.scrollLeft){S.scrollLeft=Math.max(U-10,0)
	}}}},_getItemNode:function N(R){var S=this.itemsContainerNode
	return(S&&S.childNodes[R])||null
	},renderOnScroll:false})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.string")
	var F=mstrmojo.Widget,E=mstrmojo.string
	mstrmojo.ui._IsPulldown=mstrmojo.provide("mstrmojo.ui._IsPulldown",{scriptClass:"mstrmojo.ui._IsPulldown",markupString:'<div id="{@id}" style="{@cssText}" class="mstrmojo-ui-Pulldown {@cssClass}" mstrAttach:mousedown,click,keydown><div class="mstrmojo-ui-Pulldown-text {@cssTextClass}" title="{@title}" style="{@labelCssText}" aria-label="{@en@value}">{@value}</div><div class="container"></div></div>',markupSlots:{selectedNode:function D(){return this.domNode.firstChild
	},containerNode:function A(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:F.visibleMarkupMethod,onheightChange:F.heightMarkupMethod,onwidthChange:F.widthMarkupMethod,onvalueChange:function G(){this.selectedNode.innerHTML=this.value||""
	this.selectedNode.setAttribute("aria-label",E.encodeHtmlString(this.value||"",true))
	},onenabledChange:mstrmojo.Widget.enabledMarkupMethod},getPopupList:mstrmojo.emptyFn,anchorSlot:"selectedNode",postBuildRendering:function B(){this._super()
	this.getPopupList().set("items",this.items)
	var H=this.selectedIndex,I=this.selectedIndices
	if(H!==undefined){this.set("selectedIndex",H)
	}if(I!==undefined){this.set("selectedIndices",mstrmojo.hash.copy(I||{}))
	}},onitemsChange:function C(){var H=this.getPopupList()
	if(H){H.set("items",this.items)
	}},onPopupWidgetOpened:function(){var H=this.getPopupList()
	if(H&&(!H.items||H.items.length===0)){H.close()
	}else{if(this.enableAccessibility){this.selectedNode.setAttribute("aria-expanded","true")
	}}},onPopupWidgetClosed:function(){if(this.destroyed){return 
	}if(this.enableAccessibility){this.selectedNode.setAttribute("aria-expanded","false")
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget")
	var C=mstrmojo.css,A="selected"
	mstrmojo.ButtonSwitch=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.ButtonSwitch",markupString:'<div id="{@id}" class="mstrmojo-ButtonSwitch {@cssClass}" style="{@cssText}" mstrAttach:click><div class="left selected" > {@label1} </div><div class="right"> {@label2} </div></div>',markupSlots:{left:function(){return this.domNode.children[0]
	},right:function(){return this.domNode.children[1]
	}},switchFn:mstrmojo.emptyFn,onselectedChange:function(){var D
	for(D=0
	D<2
	D++){C.toggleClass(this.domNode.children[D],A,this.selected===D)
	}this.switchFn()
	},onclick:function B(D){this.set("selected",(D.getTarget()===this.left)?0:1)
	}})
	}())
	mstrmojo.ToolSeparator=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.ToolSeparator",markupString:'<div class="mstrmojo-ToolSeparator {@cssClass}" style="{@cssText}"></div>',markupSlots:{},markupMethods:{}})
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo._IsExprNode","mstrmojo.fe._IsRelationTreeNode","mstrmojo._HasEditableText","mstrmojo.css","mstrmojo.string","mstrmojo.dom","mstrmojo.url")
	var C=mstrmojo.css,A=mstrmojo.dom,F=mstrmojo.string,E=function(H){this._super&&this._super(H)
	A.stopPropogation(H.hWin,H.e)
	},G=mstrmojo.fe._IsRelationTreeNode.createSetHtml
	mstrmojo.fe.DynamicNode=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._IsExprNode,mstrmojo.fe._IsRelationTreeNode,mstrmojo._HasEditableText],{scriptClass:"mstrmojo.fe.DynamicNode",markupString:'<div id="{@id}" class="mstrmojo-dynamic {@cssClass}"  style="position:relative
	{@cssText}" mstrAttach:mousedown><div class="mstrmojo-onhoverparent mstrmojo-dynamic-prefix {@cssClass}"><span class="mstrmojo-textset mstrmojo-dynamic-prefix-text"  mstrAttach:click></span><span class="mstrmojo-onhover-in mstrmojo-andor-tools {@cssClass}">'+G+'<span class="mstrmojo-indent" mstreventmark="indentNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].ind()">'+mstrmojo.desc(5895,"Group conditions")+'</span><span class="mstrmojo-outdent" mstreventmark="outdentNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].out()">'+mstrmojo.desc(5896,"Ungroup Conditions")+'</span></span></div><div class="mstrmojo-onhoverparent mstrmojo-dynamicNode" title="'+mstrmojo.desc(13229,"Add this condition to the target list of a selector.")+'"><span class="mstrmojo-dynamicNode-info"><span class="mstrmojo-textset"></span></span><span class="mstrmojo-onhover-bl mstrmojo-abs mstrmojo-topright mstrmojo-cond-tools {@cssClass}"><img class="mstrmojo-del" src="'+mstrmojo.url.getPlaceholderImageURL()+'" tooltip="'+mstrmojo.desc(7931,"Delete condition")+'" alt="'+mstrmojo.desc(7931,"Delete condition")+'" mstreventmark="delNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].del()" ></img></span><span class="mstrmojo-textset mstrmojo-rename-text" mstrAttach:click >'+mstrmojo.desc(1388,"Rename")+"</span>"+G+"</div></div>",eventHandlerMap:{indentNode:{click:{requiredParams:["id"],handlerFn:function(H){return function(){mstrmojo.all[H.id].ind()
	}
	}}},outdentNode:{click:{requiredParams:["id"],handlerFn:function(H){return function(){mstrmojo.all[H.id].out()
	}
	}}},delNode:{click:{requiredParams:["id"],handlerFn:function(H){return function(){mstrmojo.all[H.id].del()
	}
	}}}},markupSlots:{prefixHoverNode:function(){return this.domNode.firstChild
	},prefixNode:function(){return this.domNode.firstChild.firstChild
	},dynamicNode:function(){return this.domNode.lastChild
	},textNode:function(){return this.domNode.lastChild.firstChild.lastChild
	},createSetOptNode:function(){return this.domNode.firstChild.childNodes[1].firstChild
	},createSetNode:function(){return this.domNode.lastChild.lastChild
	},renameNode:function(){return this.domNode.lastChild.childNodes[2]
	}},markupMethods:{onprefixedAndOrEditableChange:function(){C.toggleClass(this.prefixNode,["editable"],this.prefixedAndOrEditable)
	},onselectedChange:function(){C.toggleClass(this.dynamicNode,["selected"],this.selected)
	},onisEditingChange:function(){C.toggleClass(this.domNode,["renaming"],this.isEditing)
	},ondataChange:function(){this.prefixNode.innerHTML=this.andOrTxt()
	this.textNode.innerHTML=F.encodeHtmlString(this.data.ph.n)
	},onglowChange:function(){var H=this
	C.toggleClass(H.dynamicNode,["glow"],this.glow)
	if(this.glow){setTimeout(function(){C.toggleClass(H.dynamicNode,["glow"],false)
	H.glow=false
	},1000)
	}},onnoRelationOperatorChange:function(){C.toggleClass(this.prefixHoverNode,["noRelation"],this.noRelationOperator)
	},onnoRelationChange:function(){C.toggleClass(this.dynamicNode,["noRelation"],this.noRelation)
	}},editableSlot:"textNode",editButtonSlot:"renameNode",init:function(H){var J=H.data
	if(J){var I=H.tree.nameFactory
	if(J.ph.n){I.setName(J.ph.n,this)
	}else{J.ph.n=I.getNewName(this,mstrmojo.desc(12033,"Dynamic Condition")+" ")
	}}this._super(H)
	},_set_data:function(K,H){var I=this.data,J=(I!==H)
	if(J){this.data=H
	this.text=H.ph.n
	}return J
	},preclick:function D(H){var J=null,I=A.eventTarget(H.hWin,H.e)
	if(A.contains(this.prefixNode,I,true)){J="andor"
	}else{if(A.contains(this.createSetOptNode,I,true)&&!this.noRelationOperator&&!this.noRelation){J="createSetOpt"
	}else{if(A.contains(this.createSetNode,I,true)&&!this.noRelation){J="createSet"
	}else{if(A.contains(this.renameNode,I,true)){this.set("isEditing",true)
	}}}}H.part=J
	},isEmpty:function(){var I=this.data,H=I&&I.ph
	return !(H&&H.n)
	},del:function B(){var I=this.parent,H=this.tree.nameFactory
	if(I&&I.remove&&this.data){I.remove(this.data)
	H.removeName(this.data.ph.n)
	}},onkeyup:E,onkeydown:E,onTextEditComplete:function(){var J=this.tree,K=J.nameFactory,H=F.trim(this.text||""),I=this.data.ph.n
	if(H&&H!==I){if(K.isNameExist(H)){K.names[H].set("glow",true)
	this.set("isEditing",true)
	}else{K.changeName(I,H,this)
	this.data.ph.n=H
	}}},isSelectableArea:function(H){return mstrmojo.dom.contains(this.dynamicNode,H,true)
	},avatarCssCls:"mstrmojo-FE mstrmojo-dynamicNode",getAvatarNode:function(){return this.dynamicNode.cloneNode(true)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.Widget","mstrmojo.url")
	var B=mstrmojo.dom,C=mstrmojo.url
	mstrmojo.InlineEditBox=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.InlineEditBox",text:null,editMode:false,allowEdit:true,okSave:false,allowHighlight:false,emptyHint:"Enter your text here.",markupString:'<div id="{@id}" class="mstrmojo-InlineEditBox {@cssClass}" style="{@cssText}" mstrAttach:click><div class="mstrmojo-InlineEditBox-text"></div><div class="mstrmojo-InlineEditBox-edit"><input type="text" class="mstrmojo-InlineEditBox-input" mstrAttach:keyup/><img class="mstrmojo-InlineEditBox-ok" src="'+C.getPlaceholderImageURL()+'" title="Save"/><img class="mstrmojo-InlineEditBox-cancel" src="'+C.getPlaceholderImageURL()+'" title="Cancel"/></div></div>',markupSlots:{textNode:function(){return this.domNode.firstChild
	},editNode:function(){return this.domNode.lastChild
	},inputNode:function(){return this.domNode.lastChild.firstChild
	},okNode:function(){return this.domNode.lastChild.childNodes[1]
	},cancelNode:function(){return this.domNode.lastChild.lastChild
	}},markupMethods:{ontextChange:function(){var D=this.text||this.emptyHint||""
	this.textNode.innerHTML=this.allowHighlight?D:mstrmojo.string.encodeHtmlString(D)
	},oneditModeChange:function(){var I=this.editMode,F=this.domNode,E=this.textNode,H=this.editNode
	mstrmojo.css.toggleClass(F,["edit"],I)
	if(I){E.style.display="none"
	H.style.display="block"
	E=this.inputNode
	var G=E.style
	E.value=this.text||""
	G.width=(F.clientWidth-(this.okSave?(this.okNode.offsetWidth+this.cancelNode.offsetWidth):0))+"px"
	G.height=F.clientHeight+"px"
	E.focus()
	if(E.createTextRange){var J=E.createTextRange(),D=E.value.length
	J.move("character",D)
	J.select()
	}}else{E.style.display="block"
	H.style.display="none"
	}},onokSaveChange:function(){var D=this.okSave?"inline":"none"
	this.okNode.style.display=D
	this.cancelNode.style.display=D
	},onallowEditChange:function(){mstrmojo.css.toggleClass(this.domNode,["disable"],!this.allowEdit)
	}},onvisibleChange:function A(){if(this.domNode){this.domNode.style.display=(this.visible?"block":"none")
	}},preclick:function(D){var F=D.e,E=B.eventTarget(D.hWin,F)
	if(E===this.okNode){this.save()
	}else{if(E===this.cancelNode){this.cancel()
	}else{if(this.editMode!==this.allowEdit){this.set("editMode",this.allowEdit)
	}}}},prekeyup:function(D){var F=D.e,E=F.keyCode||F.charCode
	if(E===mstrmojo.Enum_Keys.ENTER){this.save()
	}else{if(E===mstrmojo.Enum_Keys.ESCAPE){this.cancel()
	}}},_attachEvents:function(){var D=this
	if(this.editMode){if(!this._save_handler){this._save_handler=function(){var E=B.eventTarget(self,arguments[0])
	if(!B.contains(D.domNode,E,true,document.body)){D.save()
	}}
	}B.attachEvent(document.body,"mousedown",this._save_handler)
	}else{if(this._save_handler){B.detachEvent(document.body,"mousedown",this._save_handler)
	}}},postBuildRendering:function(){if(this._super){this._super()
	}this._em_sub=this.attachEventListener("editModeChange",this.id,"_attachEvents")
	},destroy:function(){this.detachEventListener(this._em_sub)
	if(this._super){this._super()
	}},save:function(){this.set("text",this.inputNode.value)
	this.set("editMode",false)
	if(this.onSave){this.onSave()
	}},cancel:function(){this.set("editMode",false)
	if(this.onCancel){this.onCancel()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.vi.util.A11yUtility","mstrmojo.css")
	var E=mstrmojo.Widget,B=mstrmojo.vi.util.A11yUtility
	mstrmojo.ui.Checkbox=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.ui.Checkbox",ariaLabel:"",markupString:'<div id="{@id}" role="checkbox" aria-label="{@en@ariaLabel}" class="mstrmojo-ui-Checkbox {@cssClass}" mstrAttach:click,keydown></div>',markupMethods:{onvisibleChange:E.visibleMarkupMethod,oncheckedChange:function D(){mstrmojo.css.toggleClass(this.domNode,"checked",this.checked)
	if(this.domNode){this.domNode.setAttribute("aria-checked",this.checked)
	}},onenabledChange:E.enabledMarkupMethod},checked:false,onclick:function A(F){this.actionByKeyboard=B.isKeyBoardEvent(F&&F.e)
	this.set("checked",!this.checked)
	},onkeydown:function C(F){var H=F.e||F,G=H.key
	if(this._super){this._super(F)
	}if(G==="Enter"||G===" "){H.preventDefault()
	H.stopPropagation()
	this.onclick(F)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.boxmodel","mstrmojo.array","mstrmojo.hash","mstrmojo.dom","mstrmojo.css","mstrmojo.Widget","mstrmojo.Arr","mstrmojo._HasLayout","mstrmojo._ListBase2Selections","mstrmojo.ListSelector","mstrmojo._TouchScrolling","mstrmojo._PagingList")
	var c=mstrmojo.hash,h=mstrmojo.array,g=mstrmojo.boxmodel,e=mstrmojo.dom
	function A(l,n,k){var m=l.listSelector
	if(m){m[n](l,l.itemsContainerNode,k)
	}}function L(l,k){var m=l.lastPagePos
	if(!m||m.dragId!==k){m=g.offset(l.itemsContainerNode)
	m.dragId=k
	l.lastPagePos=m
	var n=l.scrollboxNode
	l.lastScrollPos={left:n.scrollLeft,top:n.scrollTop,width:n.clientWidth,height:n.clientHeight}
	}}function O(n,q,l){var m=q&&q.node
	if(m===n.dropCueNode||m===n.dropCueNode.firstChild){return n.dropCuePos
	}var o=n.listMapper
	var k=o&&o.whereDrop(n,n.itemsContainerNode,m,q.pos,{left:n.lastPagePos.left-n.lastScrollPos.left,top:n.lastPagePos.top-n.lastScrollPos.top,width:n.lastScrollPos.width,height:n.lastScrollPos.height})
	var p=n.dropCuePos
	return((l!==false)&&p&&k&&(p.idx===k.idx)&&(p.left===k.left)&&(p.top===k.top))?p:k
	}var j="attachEventListener"
	function D(l,k){if(l.makeObservable){k=k||[]
	if(!k[j]){mstrmojo.hash.make(k,l.itemsScriptClass||mstrmojo.Arr)
	}}return k
	}function H(l,k){if(k&&k[j]){l._sub_its=k
	l._sub_add=k[j]("add",l.id,"preadd")
	l._sub_rmv=k[j]("remove",l.id,"preremove")
	}}function G(k){if(k._sub_its){var l=mstrmojo.publisher
	l.unsubscribe(k._sub_add)
	l.unsubscribe(k._sub_rmv)
	delete k._sub_add
	delete k._sub_rmv
	delete k._sub_its
	}}mstrmojo.ListBase2=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._ListBase2Selections,mstrmojo._TouchScrolling,mstrmojo._PagingList,mstrmojo._HasLayout],{scriptClass:"mstrmojo.ListBase2",items:null,markupString:'<div id="{@id}" class="mstrmojo-ListBase2 {@cssClass}" style="position:relative
	{@cssText}" mstrAttach:keyup,keypress,mousedown,mouseup,dblclick><div class="mstrmojo-ListBase2-itemsContainer" style="position:relative
	{@itemsContainerCssText}">{@itemsHtml}</div><div class="mstrmojo-ListBase2-dropCue {@cssClass}"><div class="mstrmojo-ListBase2-dropCue-inner"></div></div></div>',markupSlots:{scrollboxNode:function(){return this.domNode
	},itemsContainerNode:function(){return this.domNode.firstChild
	},dropCueNode:function(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?this.cssDisplay:"none"
	},ondropCuePosChange:function(){var l=this.dropCueNode,k=l&&l.style
	if(!k){return 
	}var n=this.dropCuePos,m=!!n
	if(m){k.left=n.left+"px"
	k.top=n.top+"px"
	}k.display=m?"block":"none"
	},onpageChange:function(){if(this.usePaging&&!this._inScroll){this._inPaging=true
	this.listMapper.toPage(this,this.page)
	this._inPaging=false
	}},onwidthChange:function(){if(!isNaN(parseInt(this.width))){this.domNode.style.width=this.width
	}},onheightChange:function(){if(!isNaN(parseInt(this.height))){this.domNode.style.height=this.height
	}}},autoHide:false,renderOnScroll:false,firstRenderBlockSize:50,renderBlockSize:50,listMapper:null,listBuilder:null,listSelector:mstrmojo.ListSelector,animate:false,itemsEffect:null,containerResizable:true,init:function b(n){this._super(n)
	this.items=this.initItems(this.items)
	var m=this.selectedIndices,k=this.selectedIndicesList,l=this.selectedIndex,p=this.selectedItem
	this.selectedIndices={}
	this.selectedIndex=-1
	delete this.selectedIndicesList
	delete this.selectedItem
	if(m||k||(l>-1)||p){this.initSelections(m,k,l,p)
	}if(this.postInitItems){this.postInitItems()
	}},initItems:function I(k){return D(this,k)
	},preBuildRendering:function Y(){var o=this.listBuilder,r=o.newContext(this)
	this.ctxtBuilder=r
	var l=this.markupSlots,n=!!(this.renderOnScroll&&this.renderBlockSize&&l&&l.scrollboxNode),m=this.items,k=(m&&m.length)||0,p=n?this.firstRenderBlockSize:k,q=n?this.firstRenderBlockSize:0
	this._eros=n
	this.paused=false
	this.itemsHtml=this.listMapper.buildItemWrappers(m,o,this,r,p,q).join("")
	this.itemsContainerCssText="visibility: hidden"
	if(this._super){this._super()
	}},postBuildRendering:function E(){delete this.itemsHtml
	var p=this.listMapper
	if(p&&p.postBuildRendering){p.postBuildRendering(this.itemsContainerNode,this.items,this.listBuilder,this,this.ctxtBuilder)
	}H(this,this.items)
	if(this._eros||this.usePaging){if(!this._cb_scroll){var r=this.id
	this._cb_scroll=function(){var n=mstrmojo.all[r]
	n.onscroll()
	}
	}mstrmojo.dom.attachEvent(this.scrollboxNode,"scroll",this._cb_scroll)
	this.onscroll()
	}if(this.animate){for(var m=0,l=["itemsEffect","scrollEffect"],k=l.length
	m<k
	m++){var q=l[m],o=this[q]
	if(o&&o.constructor===Object){o=mstrmojo.insert(mstrmojo.hash.clone(o))
	o.widget=this
	this[q]=o
	}}if(this.itemsEffect){this.itemsEffect.play()
	}}this.itemsContainerNode.style.visibility="inherit"
	if(this.containerResizable&&this.itemsContainerNode.scrollWidth<this.domNode.scrollWidth){this.itemsContainerNode.style.width=this.domNode.scrollWidth+"px"
	}if(this._super){this._super()
	}},unrender:function Z(n){G(this)
	if(this._eros){mstrmojo.dom.detachEvent(this.scrollboxNode,"scroll",this._cb_scroll)
	delete this._cb_scroll
	}for(var l=0,m=["itemsEffect","scrollEffect"],k=m.length
	l<k
	l++){var o=this[m[l]]
	if(o&&o.isPlaying){o.cancel()
	}}this._super(n)
	},pauseScrollRendering:function P(m,k,l){if(m!==false){m=true
	}if(this.paused===!!m){return 
	}this.paused=!!m
	if(m){if(this._fillTmr){window.clearTimeout(this._fillTmr)
	delete this._fillTmr
	}}else{this.fill(k,l)
	}},onscroll:function K(){if(this.paused){return 
	}if(this._eros){if(!this._fillTmr){var k=this
	this._fillTmr=self.setTimeout(function(){k.fill()
	k=null
	},50)
	}}if(this._super){this._super()
	}},fill:function d(k,o){try{if(this._fillTmr){window.clearTimeout(this._fillTmr)
	delete this._fillTmr
	}var p=(this.items&&this.items.length)||0
	if(!p){if(o){o()
	}}else{var m=this.scrollboxNode,q=this.itemsContainerNode,n=mstrmojo.boxmodel.offset(q,m),u=this.listMapper
	if(m){var r=u.findScrollRange(q,p,(this.usesTouches&&this.pos&&parseInt(this.pos.y,10))||m.scrollTop,m.clientHeight,(this.usesTouches&&this.pos&&parseInt(this.pos.x,10))||m.scrollLeft,m.clientWidth,n.left,n.top)
	if(this.fillAt(r.start,r.end)){if(k){k()
	}var l=this.id
	this._fillTmr=window.setTimeout(function(){mstrmojo.all[l].fill(k,o)
	},100)
	}else{if(o){o()
	}}}}}catch(t){console.error(t)
	}},fillAt:function M(m,l){var k=this.listMapper
	if(k){return k.fillItemWrappers(this.itemsContainerNode,this.items,this.listBuilder,this,this.ctxtBuilder,m,l,this.renderBlockSize)
	}else{return false
	}},add:function R(l,k){if(!l||!l.length){return -1
	}var m=this.items
	if(k==null){k=c.min(this.selectedIndices,false,true)
	if(k!==null&&k!==undefined){k++
	}}if(k==null||k===-1){k=(m&&m.length)||0
	}if(m&&m.add){m.add(l,k)
	}else{this.set("items",m?h.insert(m.concat(),k,l):l)
	}return k
	},preadd:function B(m){if(this.hasRendered){var p=this.listMapper
	if(p){p.onadd(this,this.itemsContainerNode,this.ctxtBuilder,m)
	}var o=this.listBuilder
	if(o){o.onadd(this,this.ctxtBuilder,m)
	}var l=this.listSelector
	if(l){l.onadd(this,m)
	}if(this._eros){this.onscroll()
	}else{var n=m.index,k=m.value.length
	this.fillAt(n,n+k-1)
	}}if(this.onadd){this.onadd(m)
	}if(this._super){this._super(m)
	}},remove:function W(k){if(k==null){return -1
	}if(k.constructor!==Array){return this._remove(k)
	}var m=this.items
	if(m){var l
	if(m.remove){for(l=k.length-1
	l>-1
	l--){m.remove(k[l],1)
	}}else{m=m.concat()
	for(l=k.length-1
	l>-1
	l--){m.splice(k[l],1)
	}this.set("items",m)
	}return k[0]
	}return -1
	},_remove:function W(m){var l=this.items
	if(!l||(m==null)){return -1
	}var k
	if(!isNaN(m)){k=m
	}else{k=this.itemIndex(m)
	}if(k>-1){if(l.remove){l.remove(k,1)
	}else{l=l.concat()
	l.splice(k,1)
	this.set("items",l)
	}}return k
	},duplicate:function a(p,l,m){var n=this.items,k=-1
	if(!n||(p==null)){return -1
	}if(!isNaN(p)){if(l===null||l===undefined){l=p+1
	}p=n[p]
	}else{if(l===null||l===undefined){l=this.itemIndex(p)+1
	}}if(p){var o
	o=c.copy(m,c.clone(p))
	k=this.add([o],l)
	}return k
	},preremove:function N(l){if(this.hasRendered){var n=this.listMapper
	if(n){n.onremove(this,this.itemsContainerNode,this.ctxtBuilder,l)
	}var m=this.listBuilder
	if(m){m.onremove(this,this.ctxtBuilder,l)
	}var k=this.listSelector
	if(k){k.onremove(this,l)
	}if(this._eros){this.onscroll()
	}}if(this.onremove){this.onremove(l)
	}if(this._super){this._super(l)
	}},move:function S(n,t){function q(v,u){return t>=v&&t<=v+u
	}var r=(this.items&&this.items.length)||0
	if(t===-1||t==null||isNaN(t)){t=r
	}else{t=Math.min(t,r)
	}var m,k,p,o
	if(n.constructor===Array){k=n
	p=n
	o=(k&&k.length)||0
	if(q(n[0],n.length)){return false
	}m=h.get(this.items,n)
	}else{if(typeof (n)==="object"){m=[n]
	o=1
	k=this.itemIndex(m[0])
	p=[k]
	if(q(k,1)){return false
	}}else{k=n
	p=[n]
	o=1
	if(q(k,1)){return false
	}m=[this.items[k]]
	}}for(var l=0
	l<o
	l++){if(p[l]<=t){t--
	}}if(m[0]!=null){this.remove(k)
	this.add(m,t)
	}return true
	},itemIndex:function F(k){if(k==null){return -1
	}var l=this.itemIdField
	return l?h.find(this.items,l,k[l]):h.indexOf(this.items,k)
	},prechange:function U(m){if(this.hasRendered){var l=[this.listBuilder,this.listMapper]
	for(var n=0,k=l.length
	n<k
	n++){var p=l[n]
	if(p&&p.onchange){p.onchange(this,this.itemsContainerNode,this.ctxtBuilder,m)
	}}}},makeObservable:false,_set_items:function J(q,k){var p=this.items
	k=this.initItems(k)
	this.items=k
	if(p!==k){var o=this,m=function(){if(o.autoHide){o.set("visible",!!(k&&k.length))
	}o=null
	},l=this.hasRendered
	if(l){this.refresh(m)
	}else{m()
	}}return p!==k
	},premousedown:function f(k){A(this,"premousedown",k)
	},premouseup:function Q(k){A(this,"premouseup",k)
	},scrollTo:function X(l){var k,m=this.listMapper
	if(m&&m.toItem){if(!isNaN(l)){k=l
	}else{k=this.itemIndex(l)
	}if(k>=0){m.toItem(this,k)
	}}},draggable:false,getDragData:function(o){L(this,o.id)
	var m=O(this,o.src),l=m&&m.idxActual
	if((l>-1)&&this.selectedIndices[l]){var n=this.sortSelectedIndices(),k=h.get(this.items,n)||[]
	switch(k.length){case 1:return c.copy({html:k[0][this.itemDisplayField],index:n[0]},c.copy(k[0]))
	case 0:return null
	default:return c.copy({html:k.length+" selections",indices:n},k)
	}}},dropZone:false,ondragenter:function(k){L(this,k.id)
	this.set("dropCuePos",O(this,k.tgt))
	},ondragover:function(k){this.set("dropCuePos",O(this,k.tgt))
	},ondragleave:function(k){this.set("dropCuePos",null)
	},isDragValid:function C(k){return k&&k.src&&k.src.data
	},ondragstart:function(k){if(!(k&&k.src&&k.src.data)){return false
	}},allowCopy:false,ondragend:function(n){var l=n&&n.tgt,k=l&&l.widget
	if(k===this){}else{if(this.tree&&k&&k.tree===this.tree){if(!this.allowCopy||!e.ctrlKey(l.hWin,l.e)){var m=n.src&&n.src.data
	if(m&&(m.indices||(m.index!==null))){this.remove(m.indices||m.index)
	}}}}},ondrop:function(t){var w=t&&t.src,r=w&&w.data
	if(r){var m=O(this,t.tgt,false),u=m&&m.idx,n=(r&&r.constructor===Array),l=this.sortSelectedIndices()
	var p=this.items
	u=Math.min(u,p&&p.length)||0
	var v=true
	if(w.widget===this){v=this.move(l,u)
	h.forEach(l,function(x){if(x<=u){u--
	}})
	}else{this.add(n?r:[r],u)
	}if(v){var q=n?r.length:1,k={}
	for(var o=0
	o<q
	o++){k[u+o]=true
	}this.set("selectedIndices",k)
	}}this.set("dropCuePos",null)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo._Formattable")
	mstrmojo.DocRectangle=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._Formattable],{scriptClass:"mstrmojo.DocRectangle",markupString:'<div id="{@id}" k="{@k}" class="mstrmojo-DocRectangle" title="{@tooltip}" style="{@domNodeCssText}"></div>',markupMethods:{onheightChange:function(){if(this.height){this.domNode.style.height=this.height+"px"
	}},onwidthChange:function(){if(this.width){this.domNode.style.width=this.width+"px"
	}},onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},formatHandlers:{domNode:["RW","B","background-color","fx"]},preBuildRendering:function B(){var E=this._super(),D=this.defn
	if(D.r){this.domNodeCssText+=mstrmojo.css.buildRoundCorners(D.r,D.topc)
	}return E
	},postBuildRendering:function(){var F=this._super()
	var E=this.fmts
	if(E){var D=E.border||E["border-width"],G=D&&(parseInt(D,10)/72*this.model.dpi)
	if(G){if(E.height==="100%"){this.set("height",this.domNode.clientHeight-2*G)
	}if(E.width==="100%"){this.set("width",this.domNode.clientWidth-2*G)
	}}}return F
	},update:function C(D){if(this.thresholdId||D.data.tid){delete this.fmts
	}this.thresholdId=D.data.tid
	this.set("visible",!D.data.hidden)
	if(this._super){this._super(D)
	}},getFormats:function A(){var D=this._super(),E="z-index"
	if(D&&this.defn&&this.defn.fmts&&D[E]!=this.defn.fmts[E]){D[E]=this.defn.fmts[E]||D[E]
	}return D
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.ui._HasScroller","mstrmojo.css")
	var E=mstrmojo.css,G=mstrmojo.string,A=mstrmojo.desc(14058,"Show Details"),D=mstrmojo.desc(14059,"Hide Details"),C=mstrmojo.desc(14060,"We are sorry for the inconvenience. Please {contact} your administrator for help.").replace("{",'<span class="dyn-link">').replace("}","</span>")
	mstrmojo.ui.editors.ErrorDialogContent=mstrmojo.declare(mstrmojo.Widget,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ui.editors.ErrorDialogContent",markupString:'<div class="mstrmojo-error-content {@cssClass}" mstrAttach:click><div class="scroll-container"><div>{@shortDesc}</div><div class="contact">'+C+'</div><div class="toggle-details-link" >'+A+'</div><div class="error-details">{@longDesc}</div></div></div>',markupSlots:{scrollNode:function(){return this.domNode.firstChild
	},contactNode:function(){return this.domNode.firstChild.children[1].getElementsByClassName("dyn-link")[0]
	},toggleDetailsNode:function(){return this.domNode.firstChild.children[2]
	},errorDetailsNode:function(){return this.domNode.firstChild.children[3]
	}},markupMethods:{onshowDetailsChange:function(){var J=this.showDetails
	this.toggleDetailsNode.innerHTML=J?D:A
	E.toggleClass(this.domNode,"show-details",J)
	this.updateScrollbars()
	}},cssClass:undefined,shortDesc:undefined,longDesc:undefined,showDetails:false,showToggle:true,enableContactStr:true,allowHTML:false,init:function H(J){this._super(J)
	this.shortDesc=this.shortDesc||mstrmojo.desc(14061,"An error has occurred")
	},onclick:function I(J){var L=J.getTarget(),K,M=this.longDesc
	if(L===this.contactNode){K="mailto:?subject="+encodeURI("Issue: "+this.shortDesc)+(M?("&body="+encodeURI("Detail:\r\n"+M)):"")
	mstrApp.openPage(K,"_self")
	}else{if(L===this.toggleDetailsNode){this.set("showDetails",!this.showDetails)
	this.parent.raiseEvent({name:"EditorResized"})
	this.parent.positionDialog()
	}}},setupScrollNodes:function B(){this.scrollNode=this.scrollNode
	},preBuildRendering:function F(){this._super&&this._super()
	if(!this.allowHTML){this.longDesc=G.encodeHtmlString(G.decodeHtmlString(this.longDesc),true)
	}},postBuildRendering:function(){var J=this.domNode.firstChild.children[1]
	this._super&&this._super()
	!this.showToggle&&E.addClass(this.toggleDetailsNode,"hide")
	!this.enableContactStr&&E.addClass(J,"invisible")
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.dom","mstrmojo.url")
	var B="mstrmojo-Image"
	mstrmojo.Image=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.Image",markupString:'<div id="{@id}" class="'+B+' {@cssClass}" style="{@cssText}" mstrAttach:click><image class="{@imgCssClass}" src="{@src}" mstrAttach:load /></div>',markupSlots:{imgNode:function(){return this.domNode.firstChild
	}},markupMethods:{onsrcChange:function(){var C=this.imgNode
	if(C){C.src=this.src||mstrmojo.url.getPlaceholderImageURL()
	}},oncssClassChange:function(){var C=this.domNode
	if(C){C.className=this.cssClass||B
	}},onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},src:"",getImageSize:function A(){var C=this.imgNode
	return{w:C.clientWidth,h:C.clientHeight}
	}})
	mstrmojo.Image.baseCssClass=B
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo._RowRendTracker","mstrmojo.array","mstrmojo.dom","mstrmojo.url","mstrmojo.expr","mstrmojo.string","mstrmojo.chart.model.enums.EnumDSSBaseFormType","mstrmojo.hash","mstrmojo.vi.ui._IsValidURL")
	var O="<tr>"
	var h=mstrmojo.dom
	var w=['<table role="grid" tabindex="-1" cellspacing="0" cellpadding="0" style="table-layout:',null,"
	width:",null,'
	mstr-tablestyle-slot" ',null,">",null,"<tbody>"]
	var b="&nbsp
	"
	var u="fsbp_1 "
	var g="fsbp_2 "
	var Y="fsbp_3 "
	var r=1,t=2,J=3,q=4,AC=5,a={1:" stack-top",2:" stack-middle",3:" stack-bottom",4:" stack-bottom-last",5:" no-stack",6:" stack-full"},N=1,z=3
	var E=mstrmojo.css,m=mstrmojo.array,AA=mstrmojo.string,X=mstrmojo.chart.model.enums.EnumDSSBaseFormType,j=mstrmojo.expr.TP,S=mstrmojo.hash
	var Q=4,v=j.ATTR
	var U="<a data='",k="' href='",B="' target='_blank' rel='noopener noreferrer'>",D="</a>",AD=new RegExp(/<a tabindex="-1" data='([\s\S]*)' href='([\s\S]*)' target='_blank'(?: rel='noopener noreferrer')?>([\s\S]*)<\/a>/)
	var f={dcpp:20,limit:60,dcw:50,tcc:0,curSel:{rows:{},cols:undefined},currColSec:0,isIncremental:false,getPaddingHTML:function n(AF,AH,AG,AE){AF[1]=AG
	AF[3]=1
	AF[5]=AF[5]+" gd-col-padding "
	AF[11]=AH
	AF[13]='<div style="width: '+AE+'px">&nbsp
	</div>'
	return AF.join("")
	},getBeginIndex:function d(){return Math.max(this.currColSec-1,0)*this.dcpp
	},getEndIndex:function C(){return Math.min(this.tcc,(this.currColSec+2)*this.dcpp)
	}}
	function l(AH,AI,AE){var AG=true,AF=0
	if(AE.cs>1){for(AF=0
	AF<AE.cs
	AF++){AG=AG&&AH[AI+AE.cs-AF-1]
	}}else{AG=AH[AI]
	}return AG
	}function c(AG,AF){for(var AH=0,AE=AG.length
	AH<AE
	AH++){var AJ=AG[AH]
	var AI=AF.rows[AJ.rows].cells[AJ.cells]
	if(AI){mstrmojo.css.addClass(AI,u)
	}}}function p(AG){var AI=AG.indexOf('src="')
	if(AI<0){return AG
	}var AH=AG.substring(AI+5),AF=AH.indexOf('"'),AJ
	AH=AH.substring(0,AF)
	AJ=AH
	if(mstrApp.isDossier){AJ=mstrmojo.url.getFullPath(AH)
	}else{var AE=this.parent&&this.parent.controller&&this.parent.controller.model&&this.parent.controller.model.dataService
	if(AE&&AE.getImage){AJ=AE.getImage(AH)
	}}return AG.replace(AH,AJ)
	}function AB(AJ,AI,AH){var AE="",AK="#srcend",AF=-1,AG,AL=AJ.split("#srcstart")
	AL.forEach(function(AM){AF=AM.indexOf(AK)
	AG=AM.split(AK)
	AG.forEach(function(AO,AN){if(AN===0&&AF!==-1){AO=AO.substring(0,AF)
	if(AH){AO=mstrmojo.url.getFullPath(AO)
	}AE+='<img src="'+AO+'" '+AI+">"
	}else{AE+=AO
	}})
	})
	return AE
	}function H(AG,AF,AE){var AL=AG.outLvl,AH="outlineMode",AK=this.parent.outlineState,AJ=AG._ei,AI=AJ?(' ei="'+AJ+'"'):""
	if(AK&&AK[AJ]){AH+=AG.hidden?" hiddenRow":""
	}else{if((AE>0&&AL>AE)){AH+=" hiddenRow"
	}}if(this.parent.hasEmptyTBody&&AH.indexOf("hiddenRow")===-1){this.parent.hasEmptyTBody=false
	}return' level="'+AL+'" class="'+AH+'"'+AI+">"
	}var M=(function(){var AH=/\n/g,AM="<br/>",AR=/<a\s[^>]+>/gi,AQ="<a ",Aa='<a target="_blank" ',AF="target="
	var AP='<a href="',AN="",AK="</a>",AG="<span>",AE="</span>",AX="<div>",AV="</div>",AT='<span class="text">',AS="</span>",AO='<span rabtn class="raBtn ',AL='"></span>',AU="iconRA-expand",AJ="iconRA-collapse",AZ="<span>",AY="</span>",AW='<span class="htmlEnc"></span>',AI=function(Ab){return Ab.fnm==="DYNAMICLINK"
	}
	return function(Ad,Ag){var Ar=Ag&&Ag.forceNewBrowserWindow,Ap=Ag&&Ag.gridId,Av=Ag&&Ag.isServerEncoded,A0=mstrmojo.all[Ap],Ai=A0.model,Ay,A1,Aw=Ad.v||Ad.n||b,Al=Ad.ts===X.DssBaseFormUrl,Ao=Ad.ts===X.DssBaseFormHTMLTag,Ah=Ad.isDynamicLink,Af=Aw.toLowerCase().indexOf("<img")>-1,As=Ad.isNDE&&Ad.dei===undefined,Au=Ad.lv!==undefined
	if(As){Ay=Ai.getFullObjectInfo(Ad.id)
	if(Ay){Ay=Ai.getFullObjectInfo(Ay.attId)
	if(Ay){if(Ay.formType===X.DssBaseFormHTMLTag){Ao=true
	}else{if(m.filter(Ay.fs,AI).length===1){Ah=true
	Ao=true
	}}}}}if(Ad.mix!==undefined&&Ad.axis===undefined){A1=Ai.getFullMetricInfoFromCell(Ad)
	if(A1&&A1.mft){Ad.ts=X.DssBaseFormHTMLTag
	Ao=true
	}}Aw=(Ad.ts===X.DssBaseFormText||Ad.mdf===1)?Aw.replace(AH,AM):Aw
	if(Ao){if(Av&&!Ah){Aw=AW
	}else{Aw=Aw.replace("<a",'<a tabindex="-1"')
	if(Ah){var Ae=AD.exec(Aw)
	if(Ae&&Ae.length>=4){if(this.isValidURL(Ae[2])){Aw=[U,AA.encodeHtmlString(Ae[1],true),k,AA.encodeHtmlString(Ae[2],true,true),B,AA.encodeHtmlString(Ae[3],true),D].join("")
	}else{Aw=AA.encodeHtmlString(Ae[3],true)
	}}}if(Ar){(Aw.match(AR)||[]).forEach(function(A3){if(A3.indexOf(AF)===-1){Aw=Aw.replace(A3,A3.replace(AQ,Aa))
	}})
	}}}else{if(Al){if(!AN){AN=Ar?'" target="_blank">':'">'
	}if(this.isValidURL(Aw)){Aw=AP+Aw+AN+Aw+AK
	}}}if(Af){var Ac=document.createElement("div")
	Ac.innerHTML=Aw
	var Am=Ac.querySelectorAll("img")
	m.forEach(Am,function(A4){A4.onload=function A3(){var A5=mstrmojo.all[Ap]
	if(A5){if(A5._updateScrollbarTimer){clearTimeout(A5._updateScrollbarTimer)
	}if(A5.updateScrollbars){A5._updateScrollbarTimer=setTimeout(function(){A5.updateScrollbars()
	},100)
	}}}
	})
	Aw=Ac.innerHTML
	}if((Ad.css&&Ad.css.indexOf("hl")>-1)||Al){Aw=AG+Aw+AE
	}if(Au){var Az=Ad.lv,A2="&nbsp
	&nbsp
	&nbsp
	&nbsp
	",Ak="",Ab="",Aq="",At
	for(At=0
	At<Az
	At++){Ak+=A2
	}if(Ad.hcd&&Ad.fi===undefined){Aq=AO+(Ad.epd?AJ:AU)+AL
	}else{Ak+=A2
	}if(Ad.axis===1){Ab=AZ+Ak+AY
	}Aw=AX+Ab+Aq+AT+Aw+AS+AV
	}else{if(Ad.outLvl&&Ad.cs>1&&!Ad.isLeaf){var Ax=(Ad.stt===1&&!Ad.dpt),Aj=Ax?"":"icon-outline-span"+(Ad.epd?" outline-expand":" outline-collapse"),An=!Ax&&Ad.epd?' collapsed="true"':""
	Aw='<span class="'+Aj+'"  sty="outimg" dpt="'+Ad.outLvl+'"'+An+"></span>"+Aw
	}else{if(Ad.expandLevel){Aw='<span class="icon-outline-span outline-collapse" expandTo="'+Ad.expandLevel+'" title=""></span>'+Aw
	}else{if(Ad.fillerCell&&Aw===b){Aw=""
	}}}}return Aw
	}
	}())
	mstrmojo.GridBase=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._RowRendTracker,mstrmojo.vi.ui._IsValidURL],{scriptClass:"mstrmojo.GridBase",markupString:'<span id="{@id}" class="mstrmojo-Grid {@cssClass}" style="{@cssText}"></span>',markupSlots:{gridContainerNode:function(){return this.domNode
	}},autoFitWindow:false,tableLayout:null,numAutoHeightRows:0,cp:null,rc:0,cc:0,cws:null,rh:null,totalColWidth:0,start:0,end:0,forceFixedSizes:true,hiliteCellsMap:null,eiMap:null,init:function F(AE){this._super(AE)
	},numColumnCanMerge:0,icr:mstrmojo.hash.clone(f),preBuildRendering:function A(){var AE=this.cp
	if(!AE){return 
	}AE.initContent()
	this.rc=AE.rc||0
	this.cws=AE.colWidths||[]
	this.cc=this.cws.length
	this.tdWidths=AE.tdWidths||[]
	this.tdCnt=this.tdWidths?this.tdWidths.length:0
	this.start=0
	this.end=this.rc-1
	this.numAutoHeightRows=AE.getNumAutoHeightRows&&AE.getNumAutoHeightRows()||0
	this.hiliteCellsMap={}
	this.eiMap={}
	this.posMap=[]
	this.thPosMap=[]
	this.totalColWidth=0
	},resetICR:function R(){var AE=this.icr.isIncremental
	this.icr=mstrmojo.hash.clone(f)
	this.icr.isIncremental=AE
	},buildRendering:function o(AF){var AE=this._super(AF)
	this.renderGrid()
	return AE
	},renderGrid:function I(AF){var AE=this.getGridContainer()
	this.resetICR()
	this.preBuildGridTable()
	this.buildGridTable(AE,AF)
	this.postBuildGridTable()
	},getGridContainer:function L(){return this.gridContainerNode
	},buildGridTable:function P(AG,AE){var AF=this.getTableStartMarkup()
	var AM=this.getTableEndMarkup()
	if(AE){this.mergeHdrsAcrossBlks=true
	}this._hasInlineListener=false
	var AK=this.buildTableRowsMarkup(this.start,this.end,AF,AM).join("")
	if(AE){var AI=document.createElement("div")
	AI.innerHTML=AK
	if(this._hasInlineListener){h.recursiveReplaceInlineEventListeners(AI,false,this)
	this._hasInlineListener=false
	}var AL=AG.firstChild,AN=AL&&AL.tBodies,AH=AI.firstChild.tBodies[0],AJ=this.matchedHdrsAcrossBlks
	AL.appendChild(AH)
	if(AJ&&AJ.length>0){c(AJ,AN[AN.length-2])
	}}else{AG.innerHTML=AK
	if(this._hasInlineListener){h.recursiveReplaceInlineEventListeners(AG,false,this)
	this._hasInlineListener=false
	}}this.markPages(this.start,this.end)
	},getTableStartMarkup:function G(){var AG=this._getGridWidths(),AE=w.slice()
	if(mstrApp.isDossier&&mstrApp.isVI){var AF=this.parent&&this.parent.parent?this.parent.parent.title:""
	AE[0]=AE[0].replace("<table",'<table aria-label="'+AA.encodeHtmlString(AF,true)+'"')
	}AE[1]=AG.tableLayout
	AE[3]=AG.totalColWidths
	AE[5]=this.tableCssClass?"class="+this.tableCssClass:""
	AE[7]="<colgroup>"+AG.colgroup+"</colgroup>"
	if(this.tbodyStyle){AE[8]='<tbody style="'+this.tbodyStyle+'">'
	}return AE.join("")
	},getTableEndMarkup:function W(){return"</tbody></table>"
	},_getGridWidths:function Z(){var AT={}
	var AO="",AL=[],AS="fixed",AI=this.cws,AP=AI.length
	if(AP){var AN=this.icr
	AN.tcc=AP
	var AF=AN.getBeginIndex(),AJ=this.parent.titlesCP,AK=AJ.getSpanDimension(),AH=AK.nCol,AE=AN.getEndIndex()
	var AR=function AR(AU){if(!AN.isIncremental){return true
	}if(AU<AH){return true
	}if(AU>=AF-1&&AU<=AE){return true
	}return false
	}
	AO=0
	AL=[]
	for(var AM=0
	AM<AP
	AM++){if(AI[AM].w!==""){AO+=parseInt(AI[AM].w,10)
	}}for(AM=0
	AM<AP
	AM++){if(AR(AM)){var AG=AI[AM]
	if(AG.w!==""&&!this.autoFitWindow&&!this.autoFitContent){var AQ=parseInt(AG.w,10)
	if(h.isIE7){if(AQ===0){AL.push('<col style="width:0%
	display:none"></col>')
	}else{AL.push('<col style="width:'+(AQ/AO*100)+'%"></col>')
	}}else{if(h.isWK&&AQ===0){AL.push('<col style="width:-1px"></col>')
	}else{AL.push('<col style="width:'+AG.w+'"></col>')
	}}}else{AL.push("<col />")
	AS="auto"
	}}}this.totalColWidth=AO
	}AT.colgroup=AL.join("")
	AS=this.tableLayout||AS
	if(this.autoFitWindow){AS=this.tableLayout||AS||"fixed"
	AO="100%"
	}else{if(AS==="fixed"){AO+="px"
	}else{AO="auto"
	}}AT.totalColWidths=AO
	AT.tableLayout=AS
	return AT
	},_CELL_MARKUP:['<td tabindex="-1" role="gridcell" rowSpan="',null,'" colSpan="',null,'" class="',null,'" ei="',null,'" style="',null,'" r="',null,'">',null,"</td>"],buildTableRowsMarkup:function K(AY,Az,AS,AL,AF){var BQ=[],Ay=0
	BQ[Ay++]=AS||"<table><tbody>"
	var Ap=this.cp,BP=this.acws,BU=this.rowMerge,Bi=this.headerOffset,Bj=this.mxPos,Bb=!!Ap.gemh,Bm=Ap.getRowHeight(),AE=this._CELL_MARKUP,Bk=Bm?'<tr style="height:'+(Bm?Bm+"px":"")+'">':O
	var BX=true,Bg=true,Au=[],Bp
	var BA=function BA(Br){var Bq=-1
	mstrmojo.array.forEach(BP,function(Bt,Bs){Br=Br-Bt
	if(Br<0){Bq=Bs
	return false
	}})
	return Bq
	}
	var Ai=function Ai(Bs,Br){var Bq=-1
	mstrmojo.hash.forEach(Ap.gemh,function(Bt,Bu){if(Bs<=Bu&&Bs+Br>Bu){Bq=Bu
	return false
	}})
	return Bq
	}
	var AX=function AX(Bu,Bv,Bt){var Bs="",Br,Bq
	Bq=Bu.gemh&&Bu.gemh[Bv]
	if(Bq){Br=BA(Bt)
	if(Bq[Br]&&Bq[Br].v===0){Bs+=u
	}}Bq=Bu.gsmh&&Bu.gsmh[Bv]
	if(Bq){Br=BA(Bt)
	if(Bq[Br]&&Bq[Br].v===0){Bs+=Y
	}}return Bs
	}
	var BV,Am,BH,An=[],Ax,Ar,AK=0,A7=0,Av,AT,AJ=Ap.colWidths&&Ap.colWidths.length,Bo=0,BL=0,BE=AF||((AS&&AS.indexOf("table-layout:fixed
	")!==-1)?"fixed":"auto"),Ae=mstrApp.isSingleTier,At=mstrApp&&(mstrApp.isDossier||(mstrApp.getWSLiveMode&&mstrApp.getWSLiveMode())),Aa=this.parent,BR=Aa.shouldEncodeHtmlContent()
	if(BP&&Bb){for(Ax=0
	Ax<BP.length-1
	Ax++){BL+=BP[Ax]
	}}BL=BL||this.numColumnCanMerge
	if(BE==="fixed"){BV=[]
	for(Am=0,BH=this.cws.length
	Am<BH
	Am++){if(window.parseFloat(this.cws[Am].w)<=0){BV[Am]=true
	}else{BV[Am]=false
	}}}this.matchedHdrsAcrossBlks=[]
	var AN=Az,Bl=Aa.isOutlineMode,BF=Aa.gridData,Bh=BF.maxLevel,A0=BF.lvlepd,AP=Aa.id,Aq=0
	Ap.renderingNewPage=true
	var AG=this.icr,BY=this.parent.titlesCP,BB=BY.getSpanDimension(),BO=BB.nCol,BG=AG.isIncremental,Ac=AG.currColSec,A1=0,Ah=0,BS=AG.getBeginIndex(),BC=AJ
	AG.tcc=AJ
	if(BG){BC=AG.getEndIndex()
	var A8=this.columnSecWidth,Ag
	for(Ag=BO
	Ag<(Ac-1)*AG.dcpp
	Ag++){A1+=A8[Ag]
	}A1=Math.max(A1,AG.leftOffset||0)
	for(Ag=(Ac+2)*AG.dcpp
	Ag<AJ
	Ag++){Ah+=A8[Ag]
	}if(h.isIE&&AJ>10000){if(A1>0){var Ba=this.parent.scrollNode,AQ=0
	for(Ag=0
	Ag<BO
	Ag++){AQ+=A8[Ag]
	}for(Ag=(Ac-1)*AG.dcpp
	Ag<Ac*AG.dcpp
	Ag++){AQ+=A8[Ag]
	}A1=Ba.scrollLeft-AQ
	for(Ag=Ac*AG.dcpp
	Ag<(Ac+2)*AG.dcpp
	Ag++){AQ+=A8[Ag]
	}Ah=Ba.scrollWidth-Ba.scrollLeft-AQ
	}else{Ah=80000
	}}}for(var As=AY
	As<=Az
	As++){AK=0
	Bp=Ay++
	BQ[Bp]=As<this.numAutoHeightRows?O:Bk
	var AH=Ap.updateCounter,A2=Ap.getRowCells(As)
	if(Bl&&window.mstrApp&&mstrApp.isExporting){var Ad=Ap.updateCounter-AH
	if(Ad>0){Aq=Ad
	}if(Aq>0){Aq--
	BQ[Bp]=BQ[Bp].substr(0,BQ[Bp].length-1)+' extra="1">'
	}}var A6=Az+1-As
	var Ak=0
	AT=BU
	Av=""
	if(!this.mergeHdrsAcrossBlks){if(BX&&AY>0&&A2.length<Ap.colWidths.length){var BJ=Ap.getUnmergedCells(AY),BD
	if(BJ){Ak=BJ.length
	}for(Ax=0,BH=Ak
	Ax<BH
	Ax++){var BN=BJ[Ax],Bf=BN.rs
	if(Bf>A6){AE[1]=A6
	AE[5]=g+BN.css
	}else{AE[1]=Bf||1
	AE[5]=Y+BN.css
	}if(BV&&BV[A7+AK]){AE[5]+=" nwFixedWidth0 "
	}if(Bf&&Bf>1){An.push(Bf)
	}AK+=BN.cs||1
	if(BN.cet){AE[5]+=" mstrmojo-selected-cell"
	this.addHilitePosition(BN.cet,As,Ax)
	}if(BN._ei){this.addExtraInfoMap(BN._ei,As,Ax)
	AE[5]+=" pt"
	}AE[9]=""
	AE[13]=b
	AE[3]=BN.cs
	if(BN._ei===undefined){BD=Ap.getRowCells(BN.o+(Ap.cps[0]&&Ap.cps[0].rc||0),true)
	BN=m.filterOne(BD,function(Bq){return Bq.dpt===BN.dpt&&Bq.idx===BN.idx
	})
	}AE[7]=BN._ei
	AE[11]=As
	if(Bb){if(AT){Av=AX(Ap,As-Bi,Ax)
	}if(!!Av){AE[5]=Av+AE[5]
	}else{AT=false
	}Av=AX(Ap,Ai(As-Bi,AE[1]),Ax)
	if(!!Av){AE[5]=u+AE[5]
	AT=true
	}}BQ[Ay++]=AE.join("")
	}BX=false
	}}var BZ=false
	var AO=0
	Bo=AJ
	BH=A2.length
	var A4
	for(A4=0
	A4<BH
	A4++){Bo-=A2[A4].cs||1
	}for(A4=0
	A4<BH
	A4++){var Al=A2[A4],Be
	AO=0
	if(BG){var A5=Bo
	if(A5>=BO){if(A5>=BC){break
	}if(A5<BS){if(!BZ){BQ[Ay++]=AG.getPaddingHTML(AE,As,Al.rs||1,A1)
	BZ=true
	}if(A5+(Al.cs||1)<=BS){Bo+=Al.cs||1
	continue
	}else{AO=Math.min((Al.cs||1)-(BS-A5),BC-BS)
	}}else{if(A5+(Al.cs||1)>BC){AO=BC-A5
	}}}}if(Al.outLvl){var Bc=H.call(this,Al,Bh,A0)
	BQ[Bp]=BQ[Bp].replace(">",Bc)
	if(Ap.updateCounter>0){Az=AN+Ap.updateCounter
	}}Al.colIx=Bo
	if(Al.rs&&Al.rs>A6){AE[1]=A6
	AE[5]=u+Al.css
	if(Al._ei){this.addExtraInfoMap(Al._ei,As,A4)
	}}else{AE[1]=Al.rs||1
	AE[5]=Al.css
	}if(BV&&BV[Bo]){if(Al.cs===undefined||l(BV,Bo,Al)){AE[5]+=" nwFixedWidth0 "
	}}if(Al.rs&&Al.rs>1){An.push(Al.rs)
	}AK+=Al.cs||1
	if(Al.rowType!==r){AE[5]+=" xtab-td "
	}if(Al.cet){AE[5]+="sc_"+this.parent.k
	this.addHilitePosition(Al.cet,As,A4)
	}if(Al.lv!==undefined){AE[5]+=" ra "
	}Be=Al.rowType
	if(Be){AE[5]+=a[Be]||""
	var Ao=Ap.getRowHeight(Be)
	if(Ao){BQ[Bp]='<tr style="height:'+(Ao?Ao+"px":"")+'">'
	}}if(Al.hcCss){AE[5]+=Al.hcCss
	}AE[3]=AO||Al.cs||1
	AE[7]=Al._ei!==undefined?Al._ei:""
	if(Al.fs||Al._e){this.addTitleHeaderPositionMap(As,A4+Ak,Al)
	}if(Al._ei!==null){this.addPositionMap(Al._ei,As,A4+Ak)
	}AE[11]=As
	var BI=Al.v&&Al.v.indexOf("#srcstart")>=0
	if(Al.ts===Q){if(At&&!BI){Al.v=mstrmojo.url.getFullPath(Al.v)
	}var BT=Al.v
	if(this.imgCacheMap){var Aw=this.imgCacheMap,Ab=BT&&BT.replace(/\\/g,"/")
	if(Aw.cachedImg[Ab]){Al.v=BT=Aw.baseURL+Aw.cachedImg[Ab]
	}else{if(Ab&&!Aw.unCachedImg[Ab]){Aw.unCachedImg[Ab]=Ab
	}}}else{var AR=this.parent&&this.parent.controller&&this.parent.controller.model&&this.parent.controller.model.dataService
	if(AR&&AR.getImage){BT=AR.getImage(BT)
	}}if(Al.rowType){var AZ=(Ap.getRowHeight(Al.rowType)||Ap.rh||Bm),Af=AZ,Bn=this.tdWidths,AV=Al.colIdx,AM=0,AU=0
	var A9=Ap.getPadding(N),BW=Ap.getPadding(z)
	if(Al.rowType===r||Al.rowType===q){AU=AZ>(A9+BW)?(AZ-A9-BW):0
	}else{if(Al.rowType===t||Al.rowType===J){AU=AZ>2*BW?(AZ-2*BW):0
	}else{if(Al.rowType===AC){AU=AZ>(BW*2)?(AZ-BW*2):0
	}}}if(AV!=="undefined"&&AV>-1&&Bn&&Bn.length>AV){var Aj=Bn[AV]&&Bn[AV].w
	if(Aj!=="undefined"){AM=parseInt(Aj,10)
	}}var AI=AM>30?(AM-30):0
	AE[13]='<div><div style="top:'+(-parseInt(Af/2,10))+"px
	height:"+(AZ-1)+"px
	line-height:"+(AZ-1)+'px !important
	">&nbsp
	<img style="max-height:'+AU+"px
	max-width: "+AI+'px
	" src="'+BT+'"></img></div></div>'
	}else{AE[9]=""
	var BK="",AW=this.parent&&this.parent.controller&&this.parent.controller.model&&this.parent.controller.model,BM=AW.getZoomFactor()
	if(BM!==1){BK=' mstreventmark="todoRefactorNode" mstrevent="load" onload="this.style.height = parseInt((this.style.height || 0), 10) > 0 ? this.style.height : '+BM+" * this.offsetHeight+'px'
	\""
	this._hasInlineListener=true
	}if(Bl){if(BI){Al.v=AB(BT,BK,At)
	}else{Al.v='<img src="'+BT+'" '+BK+"></img>"
	}AE[13]=M.call(this,Al,{forceNewBrowserWindow:Ae,gridId:AP,isServerEncoded:BR})
	}else{var A3=mstrmojo.hash.clone(Al)
	A3.v='<img src="'+BT+'" '+BK+"></img>"
	AE[13]=M.call(this,A3,{forceNewBrowserWindow:Ae,gridId:AP,isServerEncoded:BR})
	}if(Al.css&&Al.css.indexOf("hl")>-1){AE[13]="<span>"+AE[13]+"</span>"
	}}}else{AE[9]=""
	if(Bl&&BI){Al.v=AB(Al.v,"",At)
	AE[13]=M.call(this,Al,{forceNewBrowserWindow:Ae,gridId:AP,isServerEncoded:BR})
	}else{if((mstrApp.isDossier||mstrApp.useBinaryFormat)&&Al.v&&Al.v.indexOf("img")>=0){Al.v=p.call(this,Al.v)
	}AE[13]=M.call(this,Al,{forceNewBrowserWindow:Ae,gridId:AP,isServerEncoded:BR})
	}}if(A4<BL){if(As===AY&&this.mergeHdrsAcrossBlks){var Bd=this.rowHdsAcrossBlks
	if(Bg&&Al.v&&Bd&&Bd[A4]){if(Al.v===Bd[A4].v){AE[1]=Al.rs||1
	AE[5]=Y+Al.css
	AE[13]=""
	this.matchedHdrsAcrossBlks.push(Bd[A4])
	}else{Bg=false
	}}}if(Bb&&AT){Av=AX(Ap,As-Bi,Bo)
	if(!!Av){AE[5]=Av+AE[5]
	if(Av.indexOf(Y)>=0&&As-Bi>1){AE[13]=b
	}}else{AT=false
	}Av=AX(Ap,Ai(As-Bi,AE[1]),Bo)
	if(!!Av){AE[5]=u+AE[5]
	AT=true
	}}if(AE[1]>=A6&&Al.v){Au.push({rows:As-AY,cells:A4,v:Al.v})
	}}Bo+=Al.cs||1
	BQ[Ay++]=AE.join("")
	}if(BG&&AJ>BC){BQ[Ay++]=AG.getPaddingHTML(AE,As,1,Ah)
	}BQ[Ay++]="</tr>"
	for(A4=An.length-1
	A4>=0
	A4--){Ar=An[A4]
	if(Ar<=1){An.pop()
	}else{An[A4]=--Ar
	}}A7=An.length
	}BQ[Ay++]=AL||"</tbody></table>"
	this.rowHdsAcrossBlks=Au
	return BQ
	},addHilitePosition:function(AF,AG,AE){var AH=this.hiliteCellsMap[AF]
	if(!AH){this.hiliteCellsMap[AF]={pos:[],nodes:[]}
	}this.hiliteCellsMap[AF].pos.push({row:AG,cell:AE,page:0})
	},addExtraInfoMap:function(AF,AE,AG){if(!this.eiMap[AF]){this.eiMap[AF]=[]
	}this.eiMap[AF].push({row:AE,cell:AG,page:0})
	},addPositionMap:function(AF,AE,AG){if(!this.posMap[AF]){this.posMap[AF]={row:AE,cell:AG,page:0}
	}},addTitleHeaderPositionMap:function(AE,AG,AF){this.thPosMap.push({row:AE,cell:AG,page:0,obj:AF})
	},clearHilites:function(AH){var AL=this.hiliteCellsMap[AH],AJ=AL&&AL.nodes,AI=this.parent
	if(AJ){if(AJ.length===0&&AL.pos){AJ=this.getNodesByPositions(AL.pos)
	}for(var AG=0,AF=AJ.length
	AG<AF
	AG++){var AK=AJ[AG],AE=AI.getCellForNode(AK)
	if(AE){delete AE.cet
	}E.removeClass(AK,"sc_"+AI.k)
	}this.hiliteCellsMap[AH].nodes=[]
	}},setHilites:function(AF,AG){E.addClass(AG,"sc_"+this.parent.k)
	if(!this.hiliteCellsMap[AF]){this.hiliteCellsMap[AF]={pos:[],nodes:[]}
	}this.hiliteCellsMap[AF].nodes.push(AG)
	var AE=this.parent.getCellForNode(AG)
	if(AE){AE.cet=AF
	}},getNodesByPositions:function(AI){var AH=this.tableNode,AE=[]
	for(var AG in AI){var AF=AI[AG]
	AE.push(AH.tBodies[0].rows[AF.row].cells[AF.cell])
	}return AE
	},preBuildGridTable:function e(){},postBuildGridTable:function x(){this.addSlots({tableNode:this.gridContainerNode&&this.gridContainerNode.firstChild})
	if(this.tableNode&&mstrApp&&mstrApp.isSingleTier){h.redirectUrlToFormWrapper(this.tableNode)
	}}})
	mstrmojo.GridBase.ColRenderSetting=f
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo.string","mstrmojo.dom")
	var F=mstrmojo.array,C=mstrmojo.css,G=mstrmojo.string,B=mstrmojo.dom,A="unselected",D="block"
	function H(L){var K=mstrApp.getConfiguration()
	if(L===decodeURI(L)){L=encodeURI(L)
	}if(K&&L&&L.indexOf("://")===-1){L=K.getHostUrlByProject(mstrApp.getCurrentProjectId())+L
	}return(mstrApp.useBinaryFormat)?String(mstrMobileApp.getImage(L)):L
	}mstrmojo.ImageToggle=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.ImageToggle",unset:null,useAnimation:true,markupString:'<div class="mstrmojo-ImageToggle {@cssClass}" style="{@cssText}" tabindex="{@tabIndex}"  mstrAttach:click,blur,keydown ></div>',tabIndex:0,markupMethods:{onimageListChange:function(){var P=this.imageList&&this.imageList.slice(),M=this,N=this.unset,L,O,K
	if(!G.isEmpty(N)&&P){P.push({n:N,v:N,_ust:true})
	}if(this.domNode&&P){M.domNode.innerHTML=""
	M.domNode.style.minHeight=Math.min(20,M.height)+"px"
	M.domNode.style.minWidth=Math.min(20,M.width)+"px"
	M._loadedImgs=P.length
	mstrmojo.array.forEach(P,function(R,Q){O=document.createElement("div")
	O.style.cssText="display:none
	font-size:0px !important
	line-height:"+Math.min(30,M.height)+"px !important
	"
	K=document.createElement("img")
	K.alt=K.title=R.v
	K.style.verticalAlign="middle"
	K.style.maxHeight=M.height+"px"
	K.style.maxWidth=(M.width-1)+"px"
	if(!mstrmojo.dom.isIE){K.onerror=function(){this.src="../images/image_not_found.jpg"
	}
	}O.appendChild(K)
	M.domNode.appendChild(O)
	K.src=(R.n&&H(R.n))||"../images/image_not_found.jpg"
	if(R._ust){M.ustImgIdx=Q
	}M._imgs[Q]=O
	})
	this._setSelectedValue()
	}},onvalueChange:function(){this._setSelectedValue()
	}},imageList:null,value:null,selectedIndex:-1,preBuildRendering:function E(){if(this._super){this._super()
	}this._imgs=[]
	},_setSelectedValue:function I(){var M=this,L=this.selectedIndex,O=this.imageList
	if(O){if(O[L]){M._imgs[L].style.display="none"
	}F.forEach(this.imageList,function(P,Q){if(P.v==M.value){C.removeClass(M.domNode,A)
	M.selectedIndex=Q
	M._imgs[Q].style.display=D
	return 
	}})
	if(this.selectedIndex===-1){if(!this.unset){C.addClass(this.domNode,A)
	}else{var N=this._imgs[this.ustImgIdx],K=N.lastChild
	K.alt=K.title=this.value
	N.style.display=D
	}}}},onclick:function J(){var M=this.imageList,N=M&&M.length,O=300,W=this.selectedIndex,L=W,K=this.domNode,S,R,Q,U,P=this
	Q=(W===-1&&this.ustImgIdx!==null)?this._imgs[this.ustImgIdx]:this._imgs[W]
	W=(W+1)%N
	U=this._imgs[W]
	C.removeClass(K,A)
	this.selectedIndex=W
	if(this.useAnimation){R=new mstrmojo.fx.FadeIn({duration:O,interval:(B.isIE8?(O/3):(O/10)),target:U,preStart:function(){this.target.style.display=D
	}})
	S=new mstrmojo.fx.FadeOut({duration:O,interval:(B.isIE8?(O/3):(O/10)),target:Q,onEnd:function(){Q.style.display="none"
	if(L===-1){P._imgs.splice(P.ustImgIdx,1)
	K.removeChild(Q)
	delete P.ustImgIdx
	}R.play()
	}})
	if(Q){S.play()
	}else{R.play()
	}}else{if(Q){Q.style.display="none"
	if(L===-1){P._imgs.splice(P.ustImgIdx,1)
	K.removeChild(Q)
	delete P.ustImgIdx
	}}U.style.display=D
	}this.value=this.imageList[W].v
	this.focus()
	},onkeydown:function(L){var K=L.hWin,M=L.e||K.event
	if(M.keyCode===mstrmojo.Enum_Keys.SPACE){mstrmojo.dom.preventDefault(K,M)
	this.onclick()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.hash","mstrmojo.css","mstrmojo.string","mstrmojo.url")
	function A(C,B){return mstrmojo.hash.copy(B,{label:"",tabIndex:-1,cssDisplay:"inline",name:null,markupString:'<span id="{@id}" class="'+C+' {@cssClass}" style="{@cssText}" title="{@en@tooltip}" mstrAttach:keydown tabIndex="{@tabIndex}"><input id="{@id}_input"  type="{@type}" name="{@name}" value="{@value}" mstrAttach:click tstid="{@tstid}"/><label for="{@id}_input">{@en@label}</label></span>',markupSlots:{inputNode:function(){return this.domNode.firstChild
	},labelNode:function(){return this.domNode.childNodes[1]
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=(this.visible)?this.cssDisplay:"none"
	},onenabledChange:function(){this.inputNode.disabled=!this.enabled
	mstrmojo.css[this.enabled?"removeClass":"addClass"](this.domNode,"disabled")
	},onlabelChange:function(){this.labelNode.innerHTML=mstrmojo.string.encodeHtmlString(this.label)
	},oncheckedChange:function(){this.inputNode.checked=this.checked
	if(this.domNode){this.domNode.setAttribute("aria-checked",this.checked)
	}if(this.labelNode&&this.labelNode.enableAccessibility){this.labelNode.setAttribute("aria-checked",this.checked)
	}}},checked:false,onkeydown:function D(E){var G=E.e||E,F=G.key
	if(this._super){this._super(E)
	}if(F==="Enter"||F===" "){G.preventDefault()
	G.stopPropagation()
	this.inputNode.checked=!this.inputNode.checked
	this.preclick()
	}},preclick:function(){this.set("checked",this.inputNode.checked)
	},isChecked:function(){return this.inputNode.checked
	}})
	}mstrmojo.CheckBox=mstrmojo.declare(mstrmojo.Widget,null,A("mstrmojo-CheckBox",{scriptClass:"mstrmojo.CheckBox",type:"checkbox"}))
	mstrmojo.ImageCheckBox=mstrmojo.declare(mstrmojo.Widget,null,A("mstrmojo-CheckBox mstrmojo-ImageCheckBox",{scriptClass:"mstrmojo.CheckBox",type:"image",cssDisplay:"block",preclick:function(){this.set("checked",!this.checked)
	},postCreate:function(){this.markupMethods=mstrmojo.hash.copy(this.markupMethods)
	this.markupMethods.oncheckedChange=function(){mstrmojo.css.toggleClass(this.inputNode,["checked"],this.checked)
	}
	},postBuildRendering:function(){this.inputNode.src=this.src||mstrmojo.url.getPlaceholderImageURL()
	if(this._super){return this._super()
	}return true
	}}))
	mstrmojo.RadioButton=mstrmojo.declare(mstrmojo.Widget,null,A("mstrmojo-RadioButton",{scriptClass:"mstrmojo.RadioButton",type:"radio",postBuildRendering:function(){if(mstrmojo.dom.isIE){this.inputNode.checked=this.checked
	}}}))
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.css","mstrmojo.string")
	function C(H,D,E){var K=[]
	var G=H.optionRenderer,I=G&&G.render
	if(I&&typeof I==="function"){var L=H.options,J=Math.min(E,((L&&L.length)||0)),F
	for(F=D
	F<J
	F++){K.push(I(L[F],F,H))
	}}return K.join("")
	}mstrmojo.DropDownList=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.DropDownList",title:"",selectCssClass:"",tooltip:"",cssDisplay:"inline",value:"",unset:false,options:null,optionValueField:"v",optionNameField:"n",idx:-1,renderedOptions:"",markupString:'<span id="{@id}"  class="mstrmojo-DropDownList {@cssClass}">{@en@title}<select id="{@id}_select" class="mstrmojo-DropDownList-select {@selectCssClass}"  style="{@cssText}" title="{@tooltip}" mstreventmark="selectNode" mstrevent="change" onchange="mstrmojo.all[\'{@id}\'].set(\'selected\', this.options[this.selectedIndex].value)
	">{@renderedOptions}</select><div class = "strikeoutContainer"></div></span>',eventHandlerMap:{selectNode:{change:{requiredParams:["id"],handlerFn:function(D){return function(){mstrmojo.all[D.id].set("selected",this.options[this.selectedIndex].value)
	}
	}}}},markupSlots:{selectNode:function(){return this.domNode.getElementsByTagName("select")[0]
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onidxChange:function(){var D=this.domNode.getElementsByTagName("select")
	if(D&&D.length){D[0].selectedIndex=this.idx
	}},onvalueChange:function(){var I=this.selectNode,G=I.options,F=this.value,E,H
	for(H=0
	H<G.length
	H++){var D=G[H].value.toString()===F
	if(D){E=H
	if(F!==""){mstrmojo.css.toggleClass(G[H],"selected",D)
	}break
	}}if(I.length>0&&E>0&&this.unset){if(this.options[0].v==="-1"){I.remove(0)
	E--
	}this.unset=false
	}this.set("idx",E)
	},onwidthChange:function(){var D=this.width
	if(D>=0){this.selectNode.style.width=D+"px"
	}}},_set_selected:function(G,D){var E=this.selectNode,F=this[G]!==D
	this[G]=D
	if(E){this.set("value",D)
	}return F
	},preBuildRendering:function A(){var F=this
	if(F.unset){F.idx=0
	}var E=F.options,D=(E&&E.length)||0
	if(D){F.renderedOptions=C(F,0,D)
	}return this._super()
	},optionRenderer:{render:function(E,D,F){return mstrmojo.string.apply(F.getOptionMarkup(E),F.getOptionProps(E,D))
	}},getOptionMarkup:function(D){return'<option value="{@en@v}" class="{@cls}" style="{@style}" {@sel}>{@en@n}</option>'
	},getOptionProps:function B(F,D){var G=this,H=F[G.optionValueField],E=D===parseInt(G.idx,10)
	G.selected=G.value=E?H.toString():G.value
	return{cls:E?"selected":"",v:H===undefined?"":H,n:F[G.optionNameField]||"",style:"",sel:E?"selected":""}
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.DropDownList")
	function D(){var E=new mstrmojo.WaitIcon(),H=function(K){this.controller.onGroupBy(this,{groupbyKey:K.src.k,elementId:K.value},function(L){E.set("visible",L)
	})
	}
	for(var G=0,F=this.data.length
	G<F
	G++){var I=this.data[G]
	var J=this.addChildren(new mstrmojo.DropDownList({k:I.k,title:I.unit.target.n+":",idx:I.unit.idx,cssClass:"mstrmojo-DocGroupBy-unit",selectCssClass:"mstrmojo-DocGroupBy-unit-select"}))
	J.options=I.unit.elms
	J.attachEventListener("selectedChange",this.id,H)
	}this.addChildren(E)
	}function B(){var H=this.data,G=this.children
	if(H.length===G.length-1){for(var F=0,E=H.length
	F<E
	F++){var I=H[F].unit,J=G[F]
	J.idx=I.idx
	J.options=I.elms
	J.refresh()
	}}}mstrmojo.DocGroupBy=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.DocGroupBy",markupString:'<div id="{@id}" class="mstrmojo-DocGroupBy {@cssClass}"><div style="padding-top: 5px
	"></div><div class="mstrmojo-clearMe"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	}},init:function C(E){this._super(E)
	this.ondataChange()
	},ondataChange:function A(){if(!this.data||!this.data.length){return 
	}if(!this.hasRendered){D.apply(this)
	}else{B.apply(this)
	}},areUnitsSetToAll:function(){var E=true
	mstrmojo.array.forEach(this.data,function(F){if(F.unit.elms[F.unit.idx].v!=="u
	"){E=false
	return false
	}})
	return E
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.Container","mstrmojo._FormatDefinition","mstrmojo.CheckBox","mstrmojo.array")
	var E=mstrmojo.hash,A=mstrmojo._FormatDefinition,F=mstrmojo.array
	var D=function(G){return mstrmojo.hash.copy(G,{scriptClass:"mstrmojo.TextBox",alias:"decimalPlaces",bindings:{m:G.modelBinding,value:function(){return this.m.DecimalPlaces||"2"
	},category:function(){var H=this.m.Category
	this.onkeyup()
	}},onkeyup:function(H){if(/^\d{1,2}$/.test(this.value)){var O=this.m.DecimalPlaces,J=this.value
	this.m.DecimalPlaces=J
	if(O!=J&&this.negative){var K=this.parent[this.negative],M
	if(K&&K.refreshFormatList){K.refreshFormatList()
	}else{M=mstrmojo.hash.clone(A[this.negative])
	if(M){var N=J>0?".":"",I=N,L
	for(L=0
	L<Math.min(J,A.MaxNegativeDidigts)
	L++){N+=L%9
	I+="0"
	}for(L=0
	L<M.length
	L++){M[L].n=M[L].n.replace(/\.\d{2}/g,N)
	M[L].f=M[L].f.replace(/\.\d{2}/g,I)
	}K.set("items",M)
	}}}}}})
	},B=function(G){return mstrmojo.hash.copy(G,{scriptClass:"mstrmojo.List",cssClass:"mstrmojo-FormatEditor-numberFormatList",itemMarkupFunction:function(J,H,K){var I=J.r?"color: red":""
	return'<div class="mstrmojo-FormatEditor-bullet"><div class="mstrmojo-text" style="'+I+'">'+J.n+"</div></div>"
	},selectionPolicy:"reselect",bindings:{m:G.modelBinding,selectedIndex:function(){var H=F.find(this.items,"v",this.m.NegativeNumbers)
	if(H===-1){H=F.find(this.items,"f",this.m.Format)
	}this.singleSelect(H)
	return H==-1?3:H
	},category:function(){var H=this.m.Category
	this.onchange()
	}},onchange:function(H){if(this.parent.idx===F.find(A.Category,"v",this.m.Category)&&this.selectedItem){this.m.NegativeNumbers=this.selectedItem.v
	this.m.set("Format",this.selectedItem.f||this.selectedItem.v)
	}},onmChange:function(H){if(this.m){var M=this.m.DecimalPlaces
	if(M!=2){var K=mstrmojo.hash.clone(A[this.alias])
	if(K){var L=M>0?".":"",I=L,J
	for(J=0
	J<Math.min(M,A.MaxNegativeDidigts)
	J++){L+=J%9
	I+="0"
	}for(J=0
	J<K.length
	J++){K[J].n=K[J].n.replace(/\.\d{2}/g,L)
	K[J].f=K[J].f.replace(/\.\d{2}/g,I)
	}this.set("items",K)
	}}}},postCreate:function(){this.onmChange()
	}})
	},C=function(G){return mstrmojo.hash.copy(G,{scriptClass:"mstrmojo.List",cssClass:"mstrmojo-FormatEditor-numberFormatList "+G.alias,itemMarkupFunction:function(I,H,J){return'<div class="mstrmojo-FormatEditor-bullet"><div class="mstrmojo-text">'+I.n+"</div></div>"
	},selectedIndex:0,bindings:{m:G.modelBinding,selectedIndex:function(I){var H=F.find(this.items,"v",this.m.Format)
	return H===-1?0:H
	},category:function(){var H=this.m.Category
	this.onchange()
	}},onchange:function(H){if(this.parent.idx===F.find(A.Category,"v",this.m.Category)){this.m.set("Format",this.selectedItem.f||this.selectedItem.v)
	}}})
	}
	mstrmojo.NumberFormatter=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.NumberFormatter",cssClass:"mstrmojo-NumberFormatter",markupString:'<div id={@id} class="{@cssClass}" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},postCreate:function(){this.onmodelChange()
	},onmodelChange:function(){if(this.model&&!this.model.scriptClass){E.make(this.model,mstrmojo.Obj)
	}},children:[{scriptClass:"mstrmojo.Table",layout:[{cells:[{colSpan:2}]},{cells:[{},{}]}],children:[{slot:"0,0",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7940),cssClass:"category",cssText:"font-weight: bold"},{slot:"1,0",scriptClass:"mstrmojo.List",alias:"numberCategory",cssClass:"mstrmojo-FormatEditor-numberCategory",items:A.Category,selectionPolicy:"reselect",bindings:{m:"this.parent.parent.model",selectedIndex:function(){var H=this.m.Category,G=F.find(this.items,"v",(H==="pru"?-2:H))
	return(G===-1)?0:G
	}},onchange:function(G){if(this.m){this.m.set("Category",this.selectedIndex===0?"pru":this.selectedItem.v)
	}}},{slot:"1,1",scriptClass:"mstrmojo.Container",alias:"numberSubpanelContainer",width:"300px",markupString:'<div id={@id} class="mstrmojo-FormatEditor-numberPanel-subpanel {@cssClass}"><div class="mstrmojo-FormatEditor-numberPanel-subpanel-container"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	}},postBuildRendering:function(){var G=mstrmojo.Container.prototype.postBuildRendering.apply(this)
	this.parent.numberCategory.singleSelect(this.parent.numberCategory.selectedIndex)
	return G
	},children:[{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-FormatEditor-numberPanel-subpanel-item",idx:0,rows:1,cols:1,children:[{scriptClass:"mstrmojo.Label",text:" ",slot:"0,0"}],bindings:{visible:'this.parent.parent.parent.model.Category=="pru"',category:function(){var H=this.parent.parent.parent.model,G=this.parent.parent.parent.model.Category
	if(H&&this.idx===F.find(A.Category,"v",G)){H.set("Format","")
	}}}},{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-FormatEditor-numberPanel-subpanel-item",idx:1,rows:1,cols:1,children:[{scriptClass:"mstrmojo.Label",text:" ",slot:"0,0"}],bindings:{visible:"this.parent.parent.parent.model.Category==9",category:function(){var H=this.parent.parent.parent.model,G=this.parent.parent.parent.model.Category
	if(H&&this.idx===F.find(A.Category,"v",G)){H.set("Format","")
	}}}},{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-FormatEditor-numberPanel-subpanel-item fixed",idx:2,rows:3,cols:2,layout:[{cells:[{},{}]},{cells:[{},{}]},{cells:[{colSpan:2}]}],bindings:{visible:"this.parent.parent.parent.model.Category==0"},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2046),slot:"0,0"},D({modelBinding:"this.parent.parent.parent.parent.model",negative:"FixedNegative",alias:"FixedDecimalPlaces",slot:"0,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2044),slot:"1,0"},B({modelBinding:"this.parent.parent.parent.parent.model",items:A.FixedNegative,refreshFormatList:function(){var H=this.parent,K=H&&H.FixedDecimalPlaces,N=H&&H.ThousandSeparator
	if(!K||!N){return 
	}var I=K.value||0,R=mstrmojo.hash.clone(A.FixedNegative),G=N.checked,Q=I>0?".":"",P=Q,O,M,L
	for(M=0,L=Math.min(I,A.MaxNegativeDidigts)
	M<L
	M++){Q+=M%9
	P+="0"
	}var J
	for(J=0
	J<R.length
	J++){O=R[J].n.replace(/\.\d{2}/g,Q)
	if(!G){O=O.replace("1,234","1234")
	}R[J].n=O
	O=R[J].f.replace(/\.\d{2}/g,P)
	if(!G){O=O.replace(/#,##/g,"###")
	}R[J].f=O
	}this.set("items",R)
	},alias:"FixedNegative",slot:"1,1"}),{scriptClass:"mstrmojo.ImageCheckBox",alias:"ThousandSeparator",label:mstrmojo.desc(2049),cssText:"width:auto
	",bindings:{m:"this.parent.parent.parent.parent.model",checked:function(){var G=this.m.ThousandSeparator
	if(G==null){G=-1
	}return parseInt(G,10)!==0
	}},oncheckedChange:function(){if(this.m&&this.parent.idx===F.find(A.Category,"v",this.m.Category)){this.m.ThousandSeparator=this.checked?-1:0
	this.parent.FixedNegative.refreshFormatList()
	}},slot:"2,0"}]},{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-FormatEditor-numberPanel-subpanel-item currency",idx:3,rows:4,cols:2,bindings:{visible:"this.parent.parent.parent.model.Category==1"},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2046),slot:"0,0"},D({modelBinding:"this.parent.parent.parent.parent.model",negative:"CurrencyNegative",alias:"currencyDecimal",slot:"0,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2047),slot:"1,0"},{scriptClass:"mstrmojo.TextBox",alias:"currencySymbol",maxLength:5,bindings:{m:"this.parent.parent.parent.parent.model",value:function(){return this.m.CurrencySymbol||mstrmojo.desc("2369")
	},category:function(){var G=this.m.Category
	this.onkeyup()
	}},onkeyup:function(G){this._update()
	},onvalueChange:function(){this._update()
	},_update:function(){if(this.m){var H=this.m.CurrencySymbol
	this.m.CurrencySymbol=this.value
	var G=this.parent.CurrencyNegative
	if(G&&(H!=this.value)){G.refreshFormatList()
	}}},slot:"1,1"},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2048),slot:"2,0"},{scriptClass:"mstrmojo.List",cssClass:"mstrmojo-FormatEditor-numberFormatList",alias:"CurrencyPosition",items:A.CurrencyPosition,itemMarkupFunction:function(H,G,I){return'<div class="mstrmojo-FormatEditor-bullet"><div class="mstrmojo-text">'+H.n+"</div></div>"
	},bindings:{m:"this.parent.parent.parent.parent.model",selectedIndex:function(){var G=F.find(A.CurrencyPosition,"v",this.m.CurrencyPosition)
	return(G===-1?0:G)
	},category:function(){var G=this.m.Category
	this.onchange()
	}},onchange:function(G){if(this.m){this.m.CurrencyPosition=this.selectedItem.v
	var H=this.parent.CurrencyNegative
	if(H){H.refreshFormatList()
	}}},slot:"2,1"},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2044),slot:"3,0"},B({modelBinding:"this.parent.parent.parent.parent.model",items:A.CurrencyNegative,refreshFormatList:function(){var O=this.parent,J=O&&O.currencyDecimal,N=O&&O.CurrencyPosition,K=O&&O.currencySymbol
	if(!J||!N||!K){return 
	}var M=J.value||0,I=parseInt(N.selectedIndex,10)||0,H=K.value||"",L=mstrmojo.hash.clone(A.CurrencyNegative),a=M>0?".":"",Y=a,Q,Z,W
	H=(I===2?H+" ":(I===3?" "+H:H))
	for(Z=0,W=Math.min(M,A.MaxNegativeDidigts)
	Z<W
	Z++){a+=Z%9
	Y+="0"
	}var P=mstrConfig.decimalSep,G=mstrConfig.thousandsSep,U
	for(U=0
	U<L.length
	U++){var R=L[U].n,X=L[U].f,S
	if(I===1||I===3){Q=X.split("
	")
	for(S=0,W=Q.length
	S<W
	S++){Q[S]=Q[S].replace(/(\"\$\")(.*)/g,"$2$1")
	}R=R.replace(/(\$)(.*)/g,"$2$1")
	X=Q.join("
	")
	}R=R.replace(/\$/g,H).replace(/\.\d{2}/g,a)
	X=X.replace(/\$/g,H).replace(/\.\d{2}/g,Y)
	L[U].n=R.replace(/,/,G).replace(/(\d{2,3})\./,"$1"+P)
	L[U].f=X.replace(/,/,G).replace(/(\d{2,3})\./,"$1"+P)
	}this.set("items",L)
	},alias:"CurrencyNegative",slot:"3,1"})]},{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-FormatEditor-numberPanel-subpanel-item Date",idx:4,rows:1,cols:2,bindings:{visible:"this.parent.parent.parent.model.Category==2"},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2869),slot:"0,0"},C({modelBinding:"this.parent.parent.parent.parent.model",items:A.Date,alias:"Date",slot:"0,1"})]},{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-FormatEditor-numberPanel-subpanel-item Time",idx:5,rows:1,cols:2,bindings:{visible:"this.parent.parent.parent.model.Category==3"},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2869),slot:"0,0"},C({modelBinding:"this.parent.parent.parent.parent.model",items:A.Time,alias:"Time",slot:"0,1"})]},{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-FormatEditor-numberPanel-subpanel-item percentage",idx:6,rows:2,cols:2,bindings:{visible:"this.parent.parent.parent.model.Category==4"},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2046),slot:"0,0"},D({modelBinding:"this.parent.parent.parent.parent.model",negative:"PercentNegative",slot:"0,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2044,"Negative numbers"),slot:"1,0"},B({modelBinding:"this.parent.parent.parent.parent.model",items:A.PercentNegative,alias:"PercentNegative",slot:"1,1"})]},{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-FormatEditor-numberPanel-subpanel-item Fraction",idx:7,rows:1,cols:2,bindings:{visible:"this.parent.parent.parent.model.Category==5"},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2869),slot:"0,0"},C({modelBinding:"this.parent.parent.parent.parent.model",items:A.Fraction,alias:"Fraction",slot:"0,1"})]},{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-FormatEditor-numberPanel-subpanel-item scientific",idx:8,rows:1,cols:2,children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2046),slot:"0,0"},D({slot:"0,1",modelBinding:"this.parent.parent.parent.parent.model"})],bindings:{m:"this.parent.parent.parent.model",visible:"this.m.Category==6",category:function(){if(this.m&&this.idx===F.find(A.Category,"v",this.m.Category)){this.m.set("Format","0.00E+00")
	}}}},{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-FormatEditor-numberPanel-subpanel-item custom",idx:9,rows:1,cols:2,bindings:{visible:"this.parent.parent.parent.model.Category==7"},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2133),slot:"0,0"},{scriptClass:"mstrmojo.TextBox",alias:"custom",value:"",bindings:{m:"this.parent.parent.parent.parent.model",value:function(){return this.m.Format
	}},onvalueChange:function(){if(this.m&&this.parent.idx===F.find(A.Category,"v",this.m.Category)){this.m.Format=this.value
	}},slot:"0,1"}]}]}]}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.ImageToggle","mstrmojo._IsInputControl")
	mstrmojo.ToggleDIC=mstrmojo.declare(mstrmojo.ImageToggle,[mstrmojo._IsInputControl],{scriptClass:"mstrmojo.ToggleDIC",init:function(A){this._super(A)
	this.unset=this.dic.ust
	},focus:function(){this.domNode.focus()
	},onvalueChange:function(){},onblur:function(B){var A=B.e||B,C=this.domNode,D=mstrmojo.boxmodel.offset(C,document.body)
	if(A.clientX>D.left&&A.clientX<D.left+C.offsetWidth&&A.clientY>D.top&&A.clientY<D.top+C.offsetHeight){this.domNode.focus()
	}else{this.applyChanges()
	}},postBuildRendering:function(){if(this._super){this._super()
	}if(this.showByDefault){var A=this.openerStyle
	this.width=A.iw
	this.height=A.ih
	this.set("imageList",this.dic.vls)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.color","mstrmojo.css","mstrmojo.dom","mstrmojo.GridBase","mstrmojo.array")
	var b=mstrmojo.css,Q=mstrmojo.color,g=mstrmojo.css,F=mstrmojo.dom,J=F.isEdge
	function D(j,k){var l=j&&j.parent
	while(l&&l.scriptClass.indexOf("DocPanelStack")===-1){if(k in l){return l
	}l=l.parent
	}return null
	}function C(k){var j=document.createElement("img")
	k.appendChild(j)
	k.removeChild(j)
	}function G(j,k){var m=Math.floor(j/k.rowsPerPage),o=j%k.rowsPerPage,n=k.tableNode.tBodies[m],l=n.rows[o].cells
	return l
	}function K(){var k=this._renderTimer
	if(k){for(var j in k){self.clearInterval(k[j])
	}delete this._renderTimer
	this.renderingRows=false
	}}mstrmojo.Grid=mstrmojo.declare(mstrmojo.GridBase,null,{scriptClass:"mstrmojo.Grid",rowsPerPage:0,effectiveRh:0,numPagesRendered:0,totalPages:0,pageStatus:null,_defaultPageHeight:0,renderPause:10,rhMin:14,defaultRowsPerPage:100,minRowsPerPage:50,init:function I(j){this._super(j)
	this.forceFixedSizes=true
	},initPageSettings:function O(){var m=this.parent,k=m.gridData,l=this.defaultRowsPerPage,j=this.cp.getAvailableRowsCount()
	this.effectiveRh=this.rh||this.rhMin||1
	this.effectiveRh=this.effectiveRh*m.model.docModel.getZoomFactor()
	if(m&&m.numRowFixed){l=j
	}else{if(m&&m.scrollboxHeightFixed){l=Math.ceil(m.scrollboxHeight/this.effectiveRh)
	l=Math.max(l,this.minRowsPerPage)
	if(j<l){l=this.minRowsPerPage
	this._shouldRenderNextPage=true
	}}}if(m.isOutlineMode){l=Math.min(200,j)
	}this.pageStatus=[]
	this.columnSecWidth=[]
	this.rowsPerPage=l
	this.initPageStatus(this.pageStatus)
	this._defaultPageHeight=this.rowsPerPage*this.effectiveRh
	this.initColumnSec(this.columnSecWidth)
	},initColumnSec:function A(k){var l,m=this.cp.colWidths,j=m&&m.length||0,n=this.icr.dcw
	this.totalColumnSecs=Math.ceil(j/this.icr.dcpp)
	for(l=0
	l<j
	l++){k[l]=(k[l]||0)+(parseInt(m[l].w,10)||n)
	}},initPageStatus:function e(m){var l=this.rowsPerPage,j,o,k,n=function(r,t,p){var q=this
	return function(){if(q._onDemand===undefined){q._onDemand=!r.isDataAvailable(t,p)
	}return q._onDemand
	}
	}
	this.totalPages=(l&&Math.ceil(this.cp.rc/l))||0
	m=m||this.pageStatus
	for(j=0
	j<this.totalPages
	++j){o=j*l
	k=o+l-1
	if(!m[j]){m[j]={}
	}delete m[j]._onDemand
	m[j].isOnDemand=n.call(m[j],this.cp,o,k)
	}},buildRendering:function H(){var j=false
	if(this.renderMode==="vscroll"){this.initPageSettings()
	var m=this.pageStatus[0]
	j=m&&m.isOnDemand()
	this.start=0
	this.end=-1
	if(!j){this.end=Math.min(this.cp.rc,this.rowsPerPage)-1
	}this.preRenderPages()
	this.preRenderPage(0,!j)
	}this._super()
	if(this.renderMode==="vscroll"){var l=this.parent
	this.gridContainerNode.style[g.MINHEIGHT]=(this.cp.rc*this.effectiveRh)+"px"
	if(!this.connectedScrollbox){if(l&&l.connectScrollbox){l.connectScrollbox(this)
	this.connectedScrollbox=true
	}}this.postRenderPage(0,!j)
	this.postRenderPages()
	var k=l&&!l.scrollboxHeightFixed&&!l.numRowFixed
	if(k&&this.numPagesRendered>=this.totalPages&&!j){this.postRenderingCleanup()
	}else{if(j||k||this._shouldRenderNextPage||(l.isOutlineMode&&this.getPageHeight(this.pageNum)<this._defaultPageHeight)){this.onscroll()
	delete this._shouldRenderNextPage
	}}}},preRenderPages:function U(){},postRenderPages:function f(){if(mstrApp&&mstrApp.isExpress){var k=this.parent.scrollboxNode,l=k.scrollTop,m=k.scrollLeft,j=(l>5)?l-5:0
	this.parent.scrollTo({x:m,y:j})
	this.parent.scrollTo({x:m,y:l})
	}},configureActions:function P(){var j=this.parent
	if(j&&j.configureActions){j.configureActions()
	}},preRenderPage:function R(j,k){this.pageNum=j
	},postRenderPage:function M(k,m,n){if(k+1>this.numPagesRendered){this.numPagesRendered=k+1
	}var j=this.pageStatus,l=j[k]
	if(!l){l=j[k]={}
	}if(m){l.filled=true
	l.dirty=false
	}var o=this.gridContainerNode.style
	if(k===this.totalPages-1&&o){o[g.MINHEIGHT]=""
	}},invalidAllPages:function(){for(var j=0
	j<this.totalPages
	++j){var k=this.pageStatus[j]
	if(k.filled){k.dirty=true
	}delete k._onDemand
	k.filled=false
	k.isDownloading=false
	}this.thPosMap=[]
	this.posMap=[]
	},_startPageRenderThread:function h(j){var k=this.id
	K()
	this.renderingRows=true
	this._renderTimer=this._renderTimer||{}
	this._renderTimer[Date.now()]=self.setInterval(function(){try{var n=mstrmojo.all[k]
	if(!n){return 
	}var l=n.getPagesToRender(j)
	if(l.length>0){n.preRenderPages()
	n.renderPages(l)
	n.postRenderPages()
	n._postPagesClearup=true
	}else{if(n._postPagesClearup){n.postRenderPagesCleanup()
	n.configureActions()
	n._postPagesClearup=false
	}K.call(n)
	if(n.isRenderingComplete()){n.postRenderingCleanup()
	}}}catch(m){K.call(mstrmojo.all[k])
	throw m
	}},this.renderPause)
	},onscroll:function d(k,j){if(j&&j.deltaY===0&&this.icr.isIncremental&&!this.icr.sectionChanged){return 
	}if(!this.renderingRows){if(k===true){var l=this.parent
	if(l&&l.maskNode){b.addClass(l.maskNode,"wait")
	}}window.clearTimeout(this.scrollingTimeOut)
	this.scrollingTimeOut=window.setTimeout(function(){this._startPageRenderThread(j)
	this.icr.sectionChanged=false
	}.bind(this),150)
	}},isRenderingComplete:function S(){if(this.end>=this.cp.rc-1){for(var j=this.pageStatus,k=this.totalPages-1
	k>-1
	k--){if(!j[k]||!j[k].filled){return false
	}}return true
	}return false
	},renderPages:function E(l){var n=this.icr,t=n.isIncremental,o,r,z=2
	if(t){var q=false
	mstrmojo.array.forEach(l,function(AA){if(AA.idx===0){q=true
	return false
	}})
	if(!q){this.renderPage(0,true,true)
	}var m=false
	r=l.length
	for(o=0
	o<r
	++o){if(l[o].fill){m=true
	}}var u=n.renderedPages||[],p=l[0].idx,x=this.tableNode,v=this.parent,j=v.lockHeadersCase&z
	x.firstChild.innerHTML="<colgroup>"+this._getGridWidths().colgroup+"</colgroup>"
	if(j){v.resetColgroupNodes(x.firstChild)
	}if(m){var k=this.domNode.ownerDocument.createElement("table")
	for(o=1
	o<x.tBodies.length
	o++){if(o!==p&&o!==p+1&&(x.tBodies[o].childElementCount>1||x.tBodies[o].children[0].childElementCount>1)){k.innerHTML='<tbody n="'+o+'"><tr><td style="height:'+x.tBodies[o].getBoundingClientRect().height+'px">&nbsp
	</td></tr></tbody>'
	if(j){v.onPageRendered(k.tBodies[0],o,true,true)
	}x.replaceChild(k.tBodies[0],x.tBodies[o])
	}}}}n.renderedPages=[]
	var w=n.curSel.rows={}
	r=l.length
	for(o=0
	o<r
	++o){this.renderPage(l[o].idx,l[o].fill,o!==r-1||t)
	w[l[o].idx]=true
	}},renderPageInView:function W(){if(!this.renderingRows&&!this._renderTimer){this._startPageRenderThread()
	}},renderPage:function c(u,l,x){var AA=this.pageStatus,o=(this.numPagesRendered>=u+1)
	if(o){if(!l||((AA[u]&&AA[u].filled)&&!this.icr.forceRender)){return 
	}}var z=this.rowsPerPage,q=this.domNode,t=this.parent
	this.start=u*z
	this.end=Math.min(this.start+z,this.cp.rc)-1
	this.preRenderPage(u,l)
	if(l&&t.isOutlineMode){t.hasEmptyTBody=true
	}var k=this.tempTable
	if(!k){k=this.tempTable=q.ownerDocument.createElement("div")
	}var w=this.tableNode,v=this.start,m=this.end,r=t.isViewOnly?'class="empty-block" ':""
	tInnerHTML=l?this.buildTableRowsMarkup(v,m,'<table><tbody n="'+this.pageNum+'">',"</tbody></table>",w.style.tableLayout).join(""):'<table><tbody n="'+this.pageNum+'"><tr><td '+r+'style="height:'+(t.isOutlineMode?this._defaultPageHeight:(this.effectiveRh*(this.end-this.start+1)))+'px">&nbsp
	</td></tr></tbody></table>'
	if(l&&t.hasEmptyTBody){if(!t.outlineState.hasTBodyElementsToExpand){tInnerHTML='<table><tbody n="'+this.pageNum+'"><tr style="height:'+0+'px"></tr></tbody></table>'
	}else{t.outlineState.hasTBodyElementsToExpand=false
	}}k.innerHTML=tInnerHTML
	var n=k.firstChild.tBodies[0]
	if(!o){w.appendChild(n)
	if(t.isOutlineMode&&t.isAutoTableLayout()){if(t.clonedColHeader){t.clonedColHeader.getTableNode().appendChild(n.cloneNode(true))
	}if(t.clonedTitle&&t.clonedTitle.getTableNode()){t.clonedTitle.getTableNode().appendChild(n.cloneNode(true))
	}}}else{w.replaceChild(n,w.tBodies[u])
	}if(n&&mstrApp&&mstrApp.isSingleTier){F.redirectUrlToFormWrapper(n)
	}if(l){this.markPages(v,m)
	}this.postRenderPage(u,l,n)
	var j=this.parent
	if(j.onPageRendered){j.onPageRendered(n,u,o,l,x)
	}},getPagesToRender:function Y(AM){var l=[],AS=this.parent,AK=this._defaultPageHeight,AP=null,AV=this.pageStatus,AC=this
	if(!this.tableNode){return[]
	}function AH(j){var m=AV[j]
	if(m&&(m.filled||m.dirty)){if(!AP){AP=AC.tableNode.tBodies
	}m.height=AP[j].getBoundingClientRect().height
	if(J){m.height-=11
	}return m.height
	}else{return AK
	}}var AQ=0,AA=null,w=null,Aa=AS.scrollboxTop
	for(var AY=0,AE=this.totalPages,AD=this.pageStatus
	AY<AE
	AY++){AQ+=AH(AY)
	if(AQ>=Aa){AA=AY>0?AY-1:AY
	break
	}}if(AA===null){AA=w=Math.max(AE-1,0)
	}else{var AF=AS.scrollboxBottom
	if(isNaN(AF)&&AS.numRowFixed){AF=Aa
	}for(var AX=AA+1
	AX<AE
	AX++){if(parseInt(AQ,10)>AF){w=AX
	break
	}AQ+=AH(AX)
	}}if(w===null){w=AE-1
	}else{if(w<AE-1&&w<=AA){w=w+1
	}}for(var AU=this.numPagesRendered
	AU<AA
	++AU){l.push({idx:AU,fill:false})
	}var u=0,k=this.rowsPerPage,x=false,AY,q=false,z=this.icr.isIncremental
	if(z){var r=this.parent.titlesCP,AR=r.getSpanDimension(),AN=AR.nCol,AO=this.cp.colWidths&&this.cp.colWidths.length
	function v(m){if(AP){var Ac=[],Ab=AP[0].lastChild,p=AP[0].firstChild,j
	for(j=0
	j<AN
	j++){m[j]=p.children[j].offsetWidth
	}for(j=0
	j<Ab.childElementCount
	j++){if(Ab.children[j].className.indexOf("gd-col-padding")>-1){Ac.push(j)
	}}var n=AB.getBeginIndex()
	if(Ac.length===2){var Ae=Ac[0]+1,Ad=Ac[1]-Ae
	for(j=0
	j<Ad
	j++){m[n+j]=Ab.children[Ae+j].offsetWidth
	}}else{if(Ac[0]<Ab.childElementCount-1){for(j=1
	j<=AO-n
	j++){m[AO-j]=Ab.children[Ab.childElementCount-j].offsetWidth
	}}else{for(j=AN
	j<Ac[0]
	j++){m[j]=Ab.children[j].offsetWidth
	}}}}}var AB=this.icr,AG=AB.currColSec
	v(this.columnSecWidth)
	var AL=function AL(){var p=AS.scrollNode,m=p.offsetWidth,j=p.scrollLeft,Ad=0,n=this.columnSecWidth,Ac,Ae=AO-1,Ag=0
	if(j===AB.scrollLeft){return AB.currColSec
	}if(F.isIE&&AO>10000){var Af=j/(p.scrollWidth-m)
	Ae=AO*Af
	return Math.floor(Ae/AB.dcpp)
	}for(Ac=0
	Ac<AO
	Ac++){Ag+=n[Ac]
	}for(Ac=0
	Ac<AO
	Ac++){Ad+=n[Ac]
	if(Ad>=j){Ae=Ac
	break
	}}var Ah=Math.floor(Ae/AB.dcpp)
	if(Ah>0&&Math.abs(Ah-AB.currColSec)<=1&&AP[0]){Ah=AB.currColSec
	var Ab=AP[0].firstChild.children[AN+1]
	if(F.position(Ab).x>0){Ae-=AB.dcpp
	Ah--
	}else{if(Ae<AO-1){Ab=AP[0].firstChild.lastChild
	if(mstrmojo.dom.position(Ab).x-F.position(p).x<m){Ae+=AB.dcpp
	Ah++
	}}}}AB.currColIdx=Ae
	return Ah
	}
	var AT=AL.call(this)
	AB.leftOffset=AS.scrollboxLeft-AS.scrollboxNode.offsetWidth
	AB.forceRender=false
	if(AG!==AT){q=true
	AB.scrollLeft=AS.scrollboxLeft
	if(!(AT===this.totalColumnSecs-1&&AG+1===AT)){AB.forceRender=true
	}if(AT===Math.ceil(this.columnSecWidth/AB.dcpp)){AT=AT-1
	}AB.currColSec=AT
	}for(var AY=AA
	AY<=w
	++AY){if(!AB.curSel.rows[AY]&&AV[AY]&&AV[AY].filled){q=true
	AB.forceRender=true
	}}}for(var AW=AA
	AW<=w
	++AW){var AZ=AV[AW]
	if(!AZ||!AZ.filled){if(AZ&&AZ.isOnDemand()){x=true
	if(!AZ.isDownloading&&!this.isDownloading){u+=k
	AZ.isDownloading=true
	this.isDownloading=true
	var AI=AW*k,t=AI+k-1
	this.cp.download(AI,t,AM)
	}if(!z||this.numPagesRendered<=AW){l.push({idx:AW,fill:false})
	}}else{l.push({idx:AW,fill:true})
	}}else{if(q){l.push({idx:AW,fill:true})
	}}}if(AS.isOutlineMode&&l.length===0){var o=AS.scrollboxNode.getBoundingClientRect().bottom
	while(l.length===0&&w<this.totalPages-1){var AJ=AP[w].getBoundingClientRect().bottom
	if(AJ<o){w++
	if(!AV[w].filled){l.push({idx:w,fill:true})
	}}else{break
	}}}if(x){this.parent.showDownloadStatus(u)
	}else{if(this.parent.closeDownloadStatus){this.parent.closeDownloadStatus()
	}}return l
	},addHilitePosition:function(k,m,j){var n=this.hiliteCellsMap[k]
	if(!n){this.hiliteCellsMap[k]={pos:[],nodes:[]}
	}var l=m-(this.pageNum||0)*this.rowsPerPage
	this.hiliteCellsMap[k].pos.push({row:l,cell:j,page:this.pageNum})
	},setHilites:function(m,n){var o=n.getAttribute("ei"),p=this.eiMap[o],j=this.getNodesByPositions(p)
	if(!j.length){this._super(m,n)
	return 
	}for(var l=0,k=j.length
	l<k
	l++){this._super(m,j[l])
	}},addExtraInfoMap:function(k,l,j){if(!this.eiMap[k]){this.eiMap[k]=[]
	}this.eiMap[k].push(this.getPosObj(l,j))
	},addPositionMap:function(k,l,j){if(!this.posMap[k]){this.posMap[k]=this.getPosObj(l,j)
	}},addTitleHeaderPositionMap:function(l,j,k){var m=this.getPosObj(l,j)
	m.obj=k
	this.thPosMap.push(m)
	},getPosObj:function(k,m){var l=this.pageNum||0,j=this.rowsPerPage||0
	return{row:k-l*j,cell:m,page:l}
	},getNodeByPosition:function(j){return this.tableNode.tBodies[j.page].rows[j.row].cells[j.cell]
	},getRowIdxByCell:function(j){var k=this.posMap[j._ei]
	return k.page*this.rowsPerPage+k.row
	},getNodesByPositions:function(t){var n=[]
	for(var l in t){var w=t[l],k=(w&&w.page)||0,j=w&&w.row,o=w&&w.cell,m=this.tableNode.tBodies[k],q=m&&m.rows[j],u=q&&q.cells[o]
	if(u){n.push(u)
	}}return n
	},getPageHeight:function X(j){var k=this.tableNode.tBodies
	return(k&&k[j]&&k[j].offsetHeight)||0
	},getTargetCell:function(q,p){var n=0,l=0,o
	for(o=this.totalPages
	l<o
	l++){n+=this.getPageHeight(l)
	if(p<=n){break
	}}var m=this.tableNode.tBodies[l]
	if(m){for(l=0,o=m.rows.length
	l<o
	l++){var u=m.rows[l]
	for(var k=0,t=u.cells.length
	k<t
	k++){var r=u.cells[k]
	if(r.offsetTop+r.offsetHeight>=p){if(q>=r.offsetLeft&&q<=r.offsetLeft+r.offsetWidth){return r
	}}else{break
	}}}}},postRenderPagesCleanup:function L(){var l=this.parent
	if(l&&l.gridData&&l.gridData.afc){var k=this.tableNode
	if(k&&(this.lastWidth!==k.offsetWidth)){if(l.onGridWidthChanged){l.onGridWidthChanged()
	}mstrmojo.array.forEach(this.pageStatus,function(m){delete m.height
	})
	this.lastWidth=k.offsetWidth
	}var j=D(l,"adjustAutoWidth")
	if(j){j.adjustAutoWidth(l)
	}}if(l.gridPagesRendered){l.gridPagesRendered()
	}if(F.isIE&&!F.isIE8){C(this.domNode)
	}if(l&&l.maskNode){b.removeClass(l.maskNode,"wait")
	}this.hightLightChangedCells()
	},hightLightChangedCells:function N(){var t=this.cp.getUpdatedRows(),n=this,q,j,p,u,l,m,o,k=[]
	if(t){mstrmojo.hash.forEach(t,function(w,r){o=parseInt(r,10)
	q=n.cp.getRowCells(o)
	j=G(o,n)
	p=j.length
	u=q.length-1
	if(u>=0){for(l=p-1
	l>=0
	l--){m=j[l]
	if(u<0){break
	}if(q[l]._d){var z=m.style.backgroundColor,x=m.style.color
	k.push({dom:m,bgcolor:z,ftcolor:x})
	m.style.backgroundColor=Q.getHighlightColor(Q.rgbStr2rgb(g.getStyleValue(m,"backgroundColor"),true))
	m.style.color=Q.getContrastingColor(Q.rgbStr2hex(g.getStyleValue(m,"backgroundColor")),"#ffffff","#000000")
	delete q[l]._d
	}u--
	}}})
	if(k.length>0){window.setTimeout(function(){mstrmojo.array.forEach(k,function(r){r.dom.style.backgroundColor=r.bgcolor
	r.dom.style.color=r.ftcolor
	})
	},300)
	}}},postRenderingCleanup:function B(){var j=this.parent
	if(j&&this.connectedScrollbox){j.disconnectScrollbox(this)
	}this.connectedScrollbox=false
	if(j&&!j.scrollboxHeightFixed){var k=D(j,"performCanGrowCanShrink")
	if(k){if(j.isOutlineMode){k.performCanGrowCanShrink([j],false)
	C(k.domNode)
	}else{k.performCanGrowCanShrink([j],true)
	}}}},getRowInfoByPosition:function(j){return this.cp.getRowCellInfo(j)
	},unrender:function a(j){K.call(this)
	if(this.connectedScrollbox){this.parent.disconnectScrollbox(this)
	this.connectedScrollbox=false
	}this.numPagesRendered=0
	this.lastWidth=0
	this.isDownloading=false
	this.unMarkAllPages()
	this._super(j)
	},dataDownloaded:function Z(){this.isDownloading=false
	this.initPageStatus()
	this.onscroll()
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.ui.editors.ErrorDialogContent","mstrmojo.css","mstrmojo.DI.DIConstants")
	mstrmojo.requiresDescs(14058,14059,20218)
	var D=mstrmojo.css,E=mstrmojo.desc(14058,"Show Details"),A=mstrmojo.desc(14059,"Hide Details")
	mstrmojo.ui.editors.LinkErrorDialogContent=mstrmojo.declare(mstrmojo.ui.editors.ErrorDialogContent,null,{scriptClass:"mstrmojo.ui.editors.LinkErrorDialogContent",markupString:'<div class="mstrmojo-error-content {@cssClass}" mstrAttach:click><div class="scroll-container"><div>{@shortDesc}</div><div class="contact">{@shortLinkMsg}</div><div class="toggle-details-link" >'+E+'</div><div class="error-details">{@longDesc}</div><div class="contact">{@longLinkMsg}</div></div></div>',markupMethods:{onshowDetailsChange:function(){var F=this.showDetails
	this.toggleDetailsNode.innerHTML=F?A:E
	D.toggleClass(this.domNode,"show-details",F)
	if(this.longLinkMsg){D.toggleClass(this.longLinkMsgNode,"invisible",!F)
	}this.updateScrollbars()
	}},markupSlots:{scrollNode:function(){return this.domNode.firstChild
	},shortLinkMsgNode:function(){return this.domNode.firstChild.children[1]
	},shortLinkNode:function(){return this.domNode.firstChild.children[1].getElementsByClassName("dyn-link")[0]
	},toggleDetailsNode:function(){return this.domNode.firstChild.children[2]
	},longLinkMsgNode:function(){return this.domNode.firstChild.children[4]
	},longLinkNode:function(){return this.domNode.firstChild.children[4].getElementsByClassName("dyn-link")[0]
	},},shortLinkMsg:undefined,shortLinkFn:undefined,longLinkMsg:undefined,longLinkFn:undefined,onclick:function C(F){var G=F.getTarget()
	if(G===this.shortLinkNode&&this.shortLinkFn instanceof Function){this.shortLinkFn()
	}else{if(G===this.longLinkNode&&this.longLinkFn instanceof Function){this.longLinkFn()
	}else{if(G===this.toggleDetailsNode){this.set("showDetails",!this.showDetails)
	this.parent.raiseEvent({name:"EditorResized"})
	this.parent.positionDialog()
	}}}},preBuildRendering:function B(){if(this._super){this._super()
	}this.shortLinkMsg=this.shortLinkMsg&&this.shortLinkMsg.replace("{",'<span class="dyn-link">').replace("}","</span>")
	this.longLinkMsg=this.longLinkMsg&&this.longLinkMsg.replace("{",'<span class="dyn-link">').replace("}","</span>")
	},postBuildRendering:function(){if(!this.showToggle){D.addClass(this.toggleDetailsNode,"hide")
	}D.addClass(this.longLinkMsgNode,"invisible")
	if(!this.shortLinkMsg){D.addClass(this.shortLinkMsgNode,"invisible")
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase2","mstrmojo.ListMapper","mstrmojo.ListBuilder","mstrmojo.ListSelector")
	mstrmojo.List=mstrmojo.declare(mstrmojo.ListBase2,null,{scriptClass:"mstrmojo.List",renderOnScroll:true,listMapper:mstrmojo.ListMapper,listBuilder:mstrmojo.ListBuilder,listSelector:mstrmojo.ListSelector,itemIdField:"dssid",itemField:"n",itemMarkup:null,itemMarkupFunction:null})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase2")
	function B(E){var I=E.ctxtBuilder
	if(I){var H=I.itemWidgets,G
	for(G=H.length-1
	G>-1
	G--){var F=H[G]
	if(F){F.destroy(true)
	}}}}mstrmojo.WidgetListBase=mstrmojo.declare(mstrmojo.ListBase2,null,{scriptClass:"mstrmojo.WidgetListBase",unrender:function C(G){var I=this.ctxtBuilder
	if(I){var H=I.itemWidgets,F
	for(F=H.length-1
	F>-1
	F--){var E=H[F]
	if(E&&E.hasRendered){E.unrender(true)
	}}}this._super(G)
	},refresh:function A(E){B(this)
	if(this._super){this._super(E)
	}},destroy:function D(E){B(this)
	this._super(E)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase2","mstrmojo.ListMapperHoriz","mstrmojo.ListBuilder")
	mstrmojo.ListHoriz=mstrmojo.declare(mstrmojo.ListBase2,null,{scriptClass:"mstrmojo.ListHoriz",renderOnScroll:true,listMapper:mstrmojo.ListMapperHoriz,listBuilder:mstrmojo.ListBuilder,itemField:"n",itemMarkup:null,itemMarkupFunction:null})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.ui.Checkbox")
	var A={ROUND:"round",RECT:""}
	mstrmojo.ui.ToggleButton=mstrmojo.declare(mstrmojo.ui.Checkbox,null,{scriptClass:"mstrmojo.ui.ToggleButton",markupString:'<div id="{@id}" class="mstrmojo-ui-ToggleButton {@cssClass}" mstrAttach:click><div class="container"><div class="slider {@sliderStyle}"></div></div></div>',sliderStyle:A.ROUND})
	mstrmojo.ui.ToggleButton.EnumStyle=A
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase","mstrmojo._IsList")
	var A
	mstrmojo.ui.editors.controls.ColorList=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList],{scriptClass:"mstrmojo.ui.editors.controls.ColorList",init:function D(E){this._super(E)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-ui-ColorList")
	},getItemMarkup:function C(F,E){if(!A){A=this._super(F,E).replace(">{@en@n}<",">{@en@msg}<")
	}return A
	},getItemProps:function B(G,E){var F=this._super(G,E)
	if(G.id==="transparent"){F.msg=mstrmojo.desc(5774,"No Fill")
	F.addCls("noFill")
	}else{F.msg=""
	G.title=G.n
	F.addStyle("background-color:"+G.id)
	}return F
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase")
	mstrmojo.SelectBox=mstrmojo.declare(mstrmojo.ListBase,null,{scriptClass:"mstrmojo.SelectBox",size:10,cssDisplay:"inline",markupString:'<select id="{@id}" class="mstrmojo-SelectBox {@cssClass}" style="{@cssText}" size="{@size}" {@multipleHtml} mstrAttach:keyup,change tstid="{@tstid}">{@itemsHtml}</select>',markupSlots:{itemsContainerNode:function(){return this.domNode
	},scrollboxNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?this.cssDisplay:"none"
	},onenabledChange:function(){this.domNode.disabled=!this.enabled
	}},itemCssClass:"mstrmojo-selectbox-item",itemDisplayField:"n",itemIdField:"v",showItemTooltip:false,itemRenderer:{render:function(E,D,F){var G=mstrmojo.string.htmlAngles((F.getItemName)?F.getItemName(E,D):(F.itemDisplayField&&E[F.itemDisplayField]))
	return'<option class="'+F.itemCssClass+'" value="'+((F.getItemValue)?F.getItemValue(E,D):(F.itemIdField&&E[F.itemIdField]))+'" '+((F.selectedIndices[D])?'selected="true" ':"")+((F.showItemTooltip)?'title="'+mstrmojo.string.encodeXMLAttribute(G)+'"':"")+">"+G+"</option>"
	},select:function(E,F,D,G){E.selected=true
	},unselect:function(E,F,D,G){E.selected=false
	}},buildRendering:function C(){this.multipleHtml=this.multiSelect?' multiple="true" ':""
	this._super()
	delete this.multipleHtml
	},_getItemNode:function(D){var E=this.scrollboxNode
	return E&&E.options[D]
	},prechange:function A(E){if(this._syncDom){return 
	}this._syncDom=true
	var H=this.scrollboxNode
	if(this.multiSelect){var I=H.options,F=[]
	for(var G=0,D=I.length
	G<D
	G++){if(I[G].selected){F.push(G)
	}}this.select(F)
	}else{this.singleSelect(H.selectedIndex)
	}delete this._syncDom
	},prekeyup:function(E){var H=this.scrollboxNode,F=false
	if(this.multiSelect){var I=H.options
	for(var G=0,D=I.length
	G<D
	G++){if(I[G].selected!==!!this.selectedIndices[G]){F=true
	break
	}}}else{if(H.selectedIndex!==this.selectedIndex){F=true
	}}if(F){var J=E
	J.name="change"
	this.raiseEvent(E)
	}},onselectionChange:function B(D){if(!this._syncDom){this._super(D)
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase","mstrmojo._IsList","mstrmojo.dom","mstrmojo.vi.util.A11yUtility","mstrmojo.css")
	var E=mstrmojo.css,K=mstrmojo.vi.util.A11yUtility,C=mstrmojo.dom
	mstrmojo.ui.ButtonBar=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList],{scriptClass:"mstrmojo.ui.ButtonBar",enableAccessibility:false,markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onwidthChange:mstrmojo.Widget.widthMarkupMethod,onenabledChange:function G(){E.toggleClass(this.domNode,"disabled",!this.enabled)
	}},cssDisplay:"table",icnCssText:"display:table-row
	",items:null,showIcon:true,hasSpacing:false,cssItemMarkup:undefined,textItemMarkup:undefined,init:function J(M){this._super(M)
	var L=["mstrmojo-ui-ButtonBar"]
	if(this.hasSpacing){L.push("spacing")
	}if(!this.showIcon){L.push("btn-text")
	}E.addWidgetCssClass(this,L)
	},toggleFocusForSelectedItem:function B(M){var L=this._getItemNode(this.selectedIndex)
	if(!L){return 
	}E.toggleClass(L,K.CSS_FOCUS_VISIBLE,M)
	if(M){L.focus()
	}else{L.blur()
	}},postBuildRendering:function A(){this._super()
	if(!this.enableAccessibility){return 
	}this.domNode.tabindex=-1
	this.focusOutFn=function(){this.toggleFocusForSelectedItem(false)
	}.bind(this)
	C.attachEvent(this.domNode,"focusout",this.focusOutFn)
	if(this.accessibilityHook){this.accessibilityHook()
	}},destroy:function H(){this._super()
	if(this.focusOutFn){C.detachEvent(this.domNode,"focusout",this.focusOutFn)
	}},grabFocus:function(){if(!this.enableAccessibility){return 
	}this.toggleFocusForSelectedItem(true)
	},loseFocus:function(){if(!this.enableAccessibility){return 
	}this.toggleFocusForSelectedItem(false)
	},onkeydown:function D(M){var O=M.e||M,N=O.key
	if(!this.enableAccessibility){M.preventDefault()
	O.stopPropagation()
	return 
	}if(N==="Tab"||N==="Escape"){return 
	}M.preventDefault()
	O.stopPropagation()
	var L
	if(N==="ArrowLeft"){this.toggleFocusForSelectedItem(false)
	if(this.selectedIndex<=0){L=this.items.length-1
	}else{L=this.selectedIndex-1
	}this.set("selectedIndex",L)
	this.toggleFocusForSelectedItem(true)
	}else{if(N=="ArrowRight"){this.toggleFocusForSelectedItem(false)
	if(this.selectedIndex>=this.items.length-1){L=0
	}else{L=this.selectedIndex+1
	}this.set("selectedIndex",L)
	this.toggleFocusForSelectedItem(true)
	}}},getItemMarkup:function I(L){if(!this.textItemMarkup){this.textItemMarkup=this._super(L)
	if(this.enableAccessibility){this.textItemMarkup=this.textItemMarkup.replace("title=",'tabindex="-1" title=')
	}}if(!this.cssItemMarkup){this.cssItemMarkup=this.textItemMarkup.replace(">{@en@n}<",'title="{@en@n}"><div>&nbsp
	</div><')
	}return this.showIcon&&!L.tx?this.cssItemMarkup:this.textItemMarkup
	},getItemProps:function F(N,L){var M=this._super(N,L)
	var O=N.css
	if(O){M.addCls(O)
	}M.n=N.n||""
	return M
	}})
	mstrmojo.ui.ButtonBar.ItemType=null
	}())
	(function(){mstrmojo.requiresClsP("mstrmojo","ListBase","_IsList")
	mstrmojo.VisMenuList=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList],{scriptClass:"mstrmojo.VisMenuList",prevSelection:{},itemField:"v",selectionPolicy:"toggle",multiSelect:false,init:function C(D){this._super(D)
	},getItemProps:function A(F,D){var E=this._super(F,D)
	E.tag="a"
	E.addCls("mstrmojo-ui-Menu-item")
	return E
	},onselectionChange:function B(D){this._super(D)
	this.parent.data.set("valid",true)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase","mstrmojo._IsList")
	mstrmojo.ui.List=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList],{scriptClass:"mstrmojo.ui.List",postselectionChange:function C(D){var G=D.added||[],F=G.length,I=D.removed||[],E=I.length
	if(E){this.selectionRemoved({added:G,removed:I,isReselect:false})
	}if(F){var H=function(J){return[].concat(J).sort().join(",")
	}
	this.selectionAdded({added:G,removed:I,isReselect:H(G)===H(I)})
	}},selectionAdded:function A(D){},selectionRemoved:function B(D){}})
	mstrmojo.ui.List.SelectionChangeEvtType=null
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase","mstrmojo._IsList")
	var D=mstrmojo.dom,E=mstrmojo.hash
	var A
	mstrmojo.SuggestionList=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList],{scriptClass:"mstrmojo.SuggestionList",itemField:"n",getItemMarkup:function(G,F){if(!A){var I=this.itemField,H=(this.allowHTML?"":"@en")
	A=this._super(G).replace(H+'@title}">{'+H+"@n}<",H+"@"+I+'}">{'+H+"@"+I+"}<")
	}return A
	},getItemProps:function C(H,F){var G=this._super(H,F),I=this.itemField
	if(!mstrmojo.string.isEmpty(H[I])){G[I]=H[I]
	}return G
	},onclick:function B(F){if(this.disableClick){return false
	}var K=this,H=this.parent,J=H.opener,G=D.isMetaKey(F.hWin,F.e)
	if(G&&!this.multiSelect){this.multiSelect=J.parent.defn.multi
	if(this.multiSelect){D.attachOneTimeEvent(document.documentElement,"keyup",function(){var M=K.selectedIndices
	if(J){J.suggestionShown=false
	if(M&&!E.isEmpty(M)){var L=[]
	E.forEach(K.selectedIndices,function(O,N){L.push(K.items[N])
	})
	J.handleSuggestionItemSelect(L)
	}H.close()
	}K.multiSelect=false
	})
	}}this._super(F)
	if(!this.multiSelect){J.suggestionShown=false
	var I=this.selectedItem
	if(I){J.handleSuggestionItemSelect(I)
	}H.close()
	}},bindings:{itemField:"this.parent.opener.itemField",items:"this.parent.opener.suggestionItems",disableClick:"this.parent.opener.disableClick"}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.string")
	mstrmojo.DivItemRenderer={render:function(E,C,F){var D=mstrmojo.string.encodeHtmlString((F.getItemName?F.getItemName(E,C):(F.itemDisplayField&&E[F.itemDisplayField])))
	return'<div mstridx="'+C+'" class="'+F.itemCssClass+(F.selectedIndices[C]?" "+F.itemSelectedCssClass:"")+(E.cssClass?" "+E.cssClass:"")+'" style="'+F.itemCssText+'">'+D+"</div>"
	},select:function(C){if(C&&C.className){C.className+=" selected"
	}},unselect:function(C){if(C&&C.className){C.className=C.className.replace(/selected/g,"")
	}},rowHeight:21}
	mstrmojo._RendersItemDivs={tableCssClass:"mstrmojo-ListBox-table",tableCssText:"",rowCssClass:"",rowCssText:"",cellCssClass:"mstrmojo-ListBox-cell",cellCssText:"",itemCssClass:"mstrmojo-ListBox-item",itemSelectedCssClass:"selected",itemDisplayField:"n",itemRenderer:mstrmojo.DivItemRenderer,rangeSelected:false,_findMatch:function(C,D){return mstrmojo.dom.findAncestorByAttr(mstrmojo.dom.eventTarget(C,D),"mstridx",true,this.itemsNode)
	},premousedown:function A(C){if(mstrmojo.dom.shiftKey(C.hWin,C.e)){mstrmojo.dom.preventDefault(C.hWin,C.e)
	}},preclick:function B(K){var G=K.hWin,H=K.e,F=this._findMatch(G,H)
	if(F){var J=parseInt(F.value,10),I=mstrmojo.dom,C=I.isMetaKey(G,H),D=I.shiftKey(G,H)
	if(C||D){I.clearBrowserHighlights(G)
	}if(this.multiSelect&&(this.selectionPolicy==="toggle"||C)){var E=this.rangeSelected||this.selectedIndex===-1
	this.toggleSelect(J)
	if(E&&J<this.items.length&&this.selectedIndices[J+1]){J++
	}this.selectedIndex=J
	this.rangeSelected=false
	}else{if(this.multiSelect&&D){this.rangeSelected=true
	this.rangeSelect(J)
	}else{this.singleSelect(J)
	this.rangeSelected=false
	}}}}}
	mstrmojo.requiresCls("mstrmojo.ListBase")
	mstrmojo.ListBoxBase=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._RendersItemDivs],{scriptClass:"mstrmojo.ListBoxBase",cssClass:"mstrmojo-ListBox",itemCssClass:"mstrmojo-ListBox-item",_markupPrefix:function(){var C=this.itemRenderer
	return(C&&C.markupPrefix)||('<table class="'+this.tableCssClass+'" style="'+this.tableCssText+'" cellspacing="0" cellpadding="0"><tbody>')
	},_markupSuffix:function(){var C=this.itemRenderer
	return(C&&C.markupSuffix)||"</tbody></table>"
	},_itemPrefix:function(){var C=this.itemRenderer
	return(C&&C.itemPrefix)||('<tr class="'+this.rowCssClass+'" style="'+this.rowCssText+'"><td class="'+this.cellCssClass+'" style="'+this.cellCssText+'">')
	},_itemSuffix:function(){var C=this.itemRenderer
	return(C&&C.itemSuffix)||"</td></tr>"
	},_getItemNode:function(C){var H=this.itemsNode,G=this.renderAllItems,F=H&&H.tBodies,E=G?0:Math.floor(C/100),D=G?C:C%100,I=F&&F[E]&&F[E].rows&&F[E].rows[D]
	return I&&I.cells[0].firstChild
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ConditionNode","mstrmojo.fe._IsRelationTreeNode","mstrmojo.dom","mstrmojo.css","mstrmojo.expr","mstrmojo.url")
	mstrmojo.requiresDescs(1994,5893,7931,15671)
	var A=mstrmojo.dom,B=mstrmojo.css,D=mstrmojo.expr.ET,E=mstrmojo.fe._IsRelationTreeNode.createSetHtml
	mstrmojo.fe.ConditionNode=mstrmojo.declare(mstrmojo.ConditionNode,[mstrmojo.fe._IsRelationTreeNode],{scriptClass:"mstrmojo.fe.ConditionNode",emptyText:mstrmojo.desc(5893,"New Condition"),markupString:'<div id="{@id}" class="mstrmojo-cond mstrmojo-ConditionNode {@cssClass}" mstrAttach:mousedown><div class="mstrmojo-onhoverparent mstrmojo-cond-prefix {@cssClass}"><span class="mstrmojo-textset mstrmojo-cond-prefix-text" mstrAttach:click></span><span class="mstrmojo-onhover-in mstrmojo-andor-tools {@cssClass}">{@_prefixAndOrToolsMarkup}</span></div><div class="mstrmojo-onhoverparent mstrmojo-cond-contents {@cssClass}"><span class="mstrmojo-textset mstrmojo-cond-text {@cssClass}" mstrAttach:click></span><span class="mstrmojo-cond-text-postfix {@cssClass}"></span><span class="mstrmojo-rel mstrmojo-cond-popupNode {@cssClass}"></span><span class="mstrmojo-onhover-bl mstrmojo-abs mstrmojo-topright mstrmojo-cond-tools {@cssClass}"><img class="mstrmojo-del" src="'+mstrmojo.url.getPlaceholderImageURL()+'" tooltip="'+mstrmojo.desc(7931,"Delete condition")+'" alt="'+mstrmojo.desc(7931,"Delete condition")+'" mstreventmark="delNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].del()" /><img class="mstrmojo-lock" src="../images/lock_view.svg"/></span><span class="mstrmojo-add-cond" mstrAttach:click>'+mstrmojo.desc(1994,"Add Condition")+"</span>"+E+"</div></div>",eventHandlerMap:{delNode:{click:{requiredParams:["id"],handlerFn:function(F){return function(){mstrmojo.all[F.id].del()
	}
	}}}},getPrefixAndOrToolsMarkup:function(){return(E+this._super())
	},markupSlots:{prefixHoverNode:function(){return this.domNode.firstChild
	},prefixNode:function(){return this.domNode.firstChild.firstChild
	},prefixAndOrToolsNode:function(){return this.domNode.firstChild.childNodes[1]
	},condNode:function(){return this.domNode.childNodes[1]
	},textNode:function(){return this.domNode.childNodes[1].firstChild
	},textPostfixNode:function(){return this.domNode.childNodes[1].childNodes[1]
	},popupNode:function(){return this.domNode.childNodes[1].childNodes[2]
	},createSetNode:function(){return this.domNode.childNodes[1].lastChild
	},createSetOptNode:function(){return this.domNode.firstChild.childNodes[1].firstChild
	},addConditionNode:function(){return this.domNode.childNodes[1].childNodes[4]
	},},markupMethods:mstrmojo.hash.copy({onnoRelationOperatorChange:function(){B.toggleClass(this.prefixHoverNode,["noRelation"],this.noRelationOperator)
	},onnoRelationChange:function(){B.toggleClass(this.condNode,["noRelation"],this.noRelation)
	},onnoCreateSetChange:function(){B.toggleClass(this.condNode,["noRelation"],this.noCreateSet)
	},onlockedChange:function(){B.toggleClass(this.condNode,["locked"],this.locked)
	}},mstrmojo.hash.copy(mstrmojo.ConditionNode.prototype.markupMethods)),init:function(I){if(this._super){this._super(I)
	}var K=this.data&&this.data.et
	if(K){this.set("noCreateSet",mstrApp.supportAdvFilter?false:(K===D.MQ||K===D.MC))
	}var G=this.tree.editor
	if(G){var F=G.scriptClass==="mstrmojo.fe.FilterEditor"
	var H=typeof (G.disableElementsBrowsing)==="function"&&G.disableElementsBrowsing()
	if(F&&H&&K===D.AE){this.set("locked",true)
	this.set("editable",false)
	this.set("useRichTooltip",true)
	var J=this
	this.set("updateTooltipConfig",function(){var L=mstrmojo.dom.position(J.domNode)
	this.richTooltip={content:mstrmojo.desc(15671,"Edit or remove is only available in workstation"),refNode:J.domNode,enableHover:true,cssClass:"vi-regular vi-tooltip-V V-center",posType:mstrmojo.tooltip.POS_BOTTOMCENTER,left:L.w/2,top:-10}
	})
	}}},preclick:function C(F){var I=null,H=A.eventTarget(F.hWin,F.e),G=this._super(F)
	if(A.contains(this.createSetOptNode,H,true)&&!this.noRelationOperator&&!this.noRelation){I="createSetOpt"
	}else{if(A.contains(this.createSetNode,H,true)&&!this.noRelation){I="createSet"
	}else{if(A.contains(this.addConditionNode,H,true)){I="addCondition"
	}}}F.part=I||F.part
	return G
	},onmouseover:function(){this.toggleGroupBorder(true)
	},onmouseout:function(){this.toggleGroupBorder(false)
	}})
	})()
	mstrmojo.requiresCls("mstrmojo.Container")
	mstrmojo.TBox=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.TBox",markupString:'<table id="{@id}" class="mstrmojo-TBox {@cssClass}" cellspacing="{@cellSpacing}" cellpadding="{@cellPadding}" style="{@cssText}"><tbody><tr><td></td></tr></tbody></table>',markupSlots:{containerNode:function(){return this.domNode.rows[0].cells[0]
	}},cellSpacing:0,cellPadding:0})
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.dom")
	var M=mstrmojo.Widget,G=mstrmojo.dom,N=mstrmojo.global.document,C=50,B=500
	mstrmojo.Stepper=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Stepper",orientation:"vertical",provider:null,title:"",markupString:'<div id="{@id}" class="mstrmojo-Stepper {@orientation} {@cssClass}" mstrAttach:click,mousedown,selectstart><div class="title">{@title}</div><div class="next">+</div><div class="text">{@itemHtml}</div><div class="prev">-</div></div>',markupSlots:{titleNode:function(){return this.domNode.firstChild
	},nextNode:function(){return this.domNode.children[1]
	},textNode:function(){return this.domNode.children[2]
	},prevNode:function(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:M.visibleMarkupMethod,onheightChange:M.heightMarkupMethod,onwidthChange:M.widthMarkupMethod,onenabledChange:function I(){mstrmojo.css.toggleClass(this.domNode,"disabled",!this.enabled)
	}},preBuildRendering:function J(){this.itemHtml=this.provider.renderItemAt()
	this._super()
	},processEvent:function A(O){if(G.contains(this.textNode,O)||O===this.titleNode){return 
	}var Q=this.provider,P=((O===this.nextNode)?"Next":"Prev")
	if(Q["has"+P]()){Q[P.toLowerCase()]()
	this.updateDisplayText()
	}},updateDisplayText:function E(){this.textNode.innerHTML=this.provider.renderItemAt()
	},startStepperInterval:function F(O,P){var Q=this
	this._holdTimer=setInterval(function(){Q[P](O)
	},C)
	},stopStepperInterval:function H(){if(this._holdTimer){clearInterval(this._holdTimer)
	delete this._holdTimer
	}},onclick:function L(O){this.processEvent(O.e.target)
	},onmousedown:function D(O){if(!this._holdTimer&&!this._startHoldTimer){var P=this
	this._startHoldTimer=setTimeout(function(){delete P._startHoldTimer
	P.startStepperInterval(O,"onclick")
	},B)
	G.attachOneTimeEvent(N,"mouseup",function(){if(P._startHoldTimer){clearTimeout(P._startHoldTimer)
	delete P._startHoldTimer
	}P.stopStepperInterval()
	},true)
	}},onselectstart:function K(){return false
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container")
	mstrmojo.FieldSet=mstrmojo.declare(mstrmojo.Container,null,{legend:null,scriptClass:"mstrmojo.FieldSet",markupString:'<fieldset id="{@id}" class="mstrmojo-FieldSet {@cssClass}" style="{@cssText}"><legend class="{@cssClass}-legend">{@legend}</legend></fieldset>',markupSlots:{legendNode:function(){return this.domNode.firstChild
	},containerNode:function(){return this.domNode
	}},markupMethods:{onlegendChange:function(){this.legendNode.innerHTML=mstrmojo.string.encodeHtmlString((this.legend!=null)?this.legend:"")
	},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.Container","mstrmojo.Button","mstrmojo.vi._MonitorsAppState")
	var K=mstrmojo.array
	var E=1,B=2,P=4,M=8,I=16,S=32
	function L(Z,Y,W,X,a,U){return mstrmojo.Button.newWebButton(Z,function(b){this.parent.set("_targetMode",Y)
	b.cancel()
	},W,{alias:X,flgVis:a,flgEnabled:U||undefined})
	}mstrmojo.vi.ui.TargetSelector=mstrmojo.declare(mstrmojo.Container,[mstrmojo.vi._MonitorsAppState],{scriptClass:"mstrmojo.vi.ui.TargetSelector",markupString:'<div id="{@id}" class="mstrmojo-TargetSelector {@cssClass}" style="{@cssText}"><div></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	}},init:function O(U){this._super(U)
	if(!this.hostId){throw new Error("You must pass the hostId when instantiating mstrmojo.vi.ui.TargetSelector.")
	}if(!this.srcId){this.srcId=this.hostId
	}this.hostBox=mstrmojo.all[this.hostId]
	this.srcBox=mstrmojo.all[this.srcId]
	this._targetMode=E
	},onAppStateChange:function N(U){var X=mstrmojo.vi.VisualInsightApp.APP_STATES,Y=X.SELECTOR_TARGETING,W=this.btnSelect
	if(U.valueWas&Y||U.value&Y){W.set("enabled",!mstrApp.isAppStateSelection())
	}},hostId:null,srcId:null,srcPanelStackId:null,markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onhostIdChange:function(){this.hostBox=mstrmojo.all[this.hostId]
	},onsrcIdChange:function(){this.srcBox=mstrmojo.all[this.srcId]
	},on_targetModeChange:function(){var b=this,a=this._targetMode,c=this.hostBox,U=this.srcBox,W=this.id,f=U.model,X=c.currentPanelKey?mstrmojo.all[f.getNodeDataByKey(c.currentPanelKey).id]:f.getVizContentPanel(),e=a===S,Y=function(){this.preChangeTargetSelectionMode(false,f)
	X.exitTargetSelectionMode(e,this.restoreChildren.bind(this))
	}.bind(this)
	this.children.forEach(function(g){g.set("visible",(g.flgVis&a)>0)
	g.set("enabled",(!g.flgEnabled||(g.flgEnabled&a)>0))
	g.refresh()
	})
	this.set("visible",a!==E)
	if(e||a===B){Y()
	if(!e){this.set("_targetMode",this._cancelMode)
	this.cancel(c)
	}this.exitTargetSelectionMode(c)
	}else{if(a===M){this.preChangeTargetSelectionMode(true,f)
	X.enterTargetSelectionMode(function(h,j){var g=j?E:M
	if(!j&&c.isSelectionDirty(h,j)){g=I
	}mstrmojo.all[W].set("_targetMode",g)
	if(j){c.setTargets(h)
	}},this.srcId,c.getTargetKeys(),this.enterTargetSelectionMode.bind(this),Y)
	}}var Z=mstrmojo.vi.VisualInsightApp.APP_STATES,d=mstrApp.isAppStatePause&&mstrApp.isAppStatePause()
	mstrApp.set("appState",a===M||a===I?(d?Z.SELECTOR_TARGETING|Z.PAUSE:Z.SELECTOR_TARGETING):(d?Z.PAUSE:Z.DEFAULT))
	}},ignoreLayout:true,setSourceByKey:function H(U){var W=this.srcBox.model.getNodeDataByKey(U),Y=W?mstrmojo.all[W.id]:undefined,X=Y?Y.parent:undefined
	if(X){this.set("srcId",X.id)
	}},preChangeTargetSelectionMode:function R(Y,W){var Z=W.getDocVIVisualizationsPanelStack().selector,X=W.controller.view,U=X.layoutViewer.docLayout.selector
	U.set("isMasked",Y)
	Z.set("isMasked",Y)
	},enterTargetSelectionMode:function G(a,Z){var Y=this.srcId,X=mstrmojo.all[Y],U=X.isAMSelector instanceof Function&&X.isAMSelector(),W=X.isPanelSelector instanceof Function&&X.isPanelSelector()
	a.setMaskClass(Y,Z)
	a.set("enabled",Z!=="disabled"&&a.validateTarget&&a.validateTarget(U,W,Y))
	},exitTargetSelectionMode:function D(U){U.close()
	},restoreChildren:function J(U){U.set("enabled",true)
	U.clearMaskClass()
	},cancel:function C(U){if(U){U.cancel()
	}if(this.srcBox.isAMSelector instanceof Function&&this.srcBox.isAMSelector()){this.srcBox.tmp_replaceRelation={}
	}},enterPreSelectMode:function F(){this._cancelMode=P
	this.set("_targetMode",P)
	},enterSelectMode:function Q(){this._cancelMode=E
	this.set("_targetMode",M)
	},enterOffMode:function A(){this._cancelMode=E
	this.set("_targetMode",E)
	},children:[L(mstrmojo.desc(4799,"Select Target"),M,true,"btnSelect",P),L(mstrmojo.desc(221,"Cancel"),B,false,"btnCancel",M+I),L(mstrmojo.desc(134,"Apply"),S,true,"btnApply",M+I,I)]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._Formattable","mstrmojo._ContainsDocObjects","mstrmojo._HasBuilder","mstrmojo._SupportsEllipsisText","mstrmojo._HasEllipsis","mstrmojo.css","mstrmojo.array")
	var X=mstrmojo.css,W=mstrmojo.array
	var R=2
	function D(b,Z,a){var c=b.parent.parent
	if(c&&c instanceof mstrmojo.DocPanel){c[Z+"DirtyKey"](a)
	}}function O(a,Z,b){if(a===Z.k){mstrmojo.array.forEach(Z.children,function(c){if(c.setDirtyChildren){c.setDirtyChildren(b)
	}})
	}}function I(Z){return Z._isFP()&&!Z.parent.defn.od
	}mstrmojo.DocPanel=mstrmojo.declare(mstrmojo.Container,[mstrmojo._Formattable,mstrmojo._ContainsDocObjects,mstrmojo._HasBuilder,mstrmojo._SupportsEllipsisText,mstrmojo._HasEllipsis,mstrmojo.vi.ui._IsDropTarget],{scriptClass:"mstrmojo.DocPanel",visible:false,selected:false,k:"",cssDisplay:"block",subPanelCssText:"height:100%
	width:100%
	position:absolute
	",topStart:R,contentWidth:0,markupString:'<div id="{@id}" k="{@k}" class="mstrmojo-DocPanel {@cssClass}" style="{@cssText}{@domNodeCssText}"><div class="mstrmojo-DocSubPanel-content" style="{@containerNodeCssText}{@subPanelCssText}"></div></div>',markupMethods:{onvisibleChange:function(){var a=this.domNode.style,Z=this.visible
	if(I(this)){a.visibility=(Z?"":"hidden")
	a.zIndex=(Z?10:1)
	}else{a.display=(Z?this.cssDisplay:"none")
	if(Z&&this.refreshWhenVisible){this.refresh()
	this.refreshWhenVisible=false
	}}}},markupSlots:{containerNode:function(){return this.domNode.firstChild
	}},formatHandlers:{containerNode:["background-color","fx","overflow"]},title:"",init:function Q(Z){this._super(Z)
	if(!this.title){this.title=this.node.defn.ttl||""
	}if(this._isSearchBoxPanel()){this.isSbp=true
	this.set("canApplySbp",false)
	}},childRenderCheck:function L(Z){return(this._super(Z)&&(this.selected||I(this)))
	},postBuildRendering:function U(){if(!this.defn.l&&!this._forceRender){X.addClass(this.domNode,"placeholder")
	}var a=this._super()
	if(this.isSbp){var Z=this.addChildren({scriptClass:"mstrmojo.Button",cssClass:"sbp-apply",title:mstrmojo.desc(134,"Apply"),cssText:"top:"+((parseInt(this.parent.fmts.height,10)||0)-28)/2+"px",bindings:{enabled:"this.parent.canApplySbp&&this.parent.parent.applyEnabled"},onclick:function(){this.parent.parent.applyBufferedSlices()
	}})
	Z.render()
	}if(this._isFSP()){this.set("shouldEllipsize",true)
	}if(mstrApp.isOIVM&&mstrApp.isOIVM()&&mstrmojo.dom.isChrome){var c=this.containerNode.style.overflow
	this.containerNode.style.overflow="hidden"
	var b=this
	window.setTimeout(function(){if(b.containerNode&&b.containerNode.style&&b.containerNode.style.overflow){b.containerNode.style.overflow=c
	}},2000)
	}return a
	},onselectedChange:function M(Z){if(Z.value){this.renderChildren()
	}this.model&&this.model.raiseEvent({name:"panelSelected",panelId:this.id,panelVisible:!!Z.value})
	},updateForPU:function S(Z){this.node=Z
	this.update(Z)
	},refreshForPU:function A(){this._isPartial=true
	this.refresh()
	this._isPartial=false
	},_isPartial:false,refresh:function E(){if(!this.hasRendered){return 
	}this._inRendering=true
	var b=[].concat(this.getPanelChildren()||[]),a=[].concat(this.getChildren(this._isPartial)),Z
	W.removeItems(b,"k",a)
	W.removeItems(a,"k",this.getPanelChildren())
	if(b.length!==0){W.forEach(b,function(c){this.removeChildren(c)
	c.destroy()
	},this)
	}if(a.length!==0){W.forEach(a,function(e){var d=e.id&&mstrmojo.all[e.id]
	var c=d&&d.defn
	if(c){c._isDeleted=true
	}if(d&&d.destroy){d.destroy()
	}},this)
	this.addChildren(this.builder.build(a,this.model,this.buildConfig))
	this.builtChildren=true
	}if(!this.selected){if(!this.children){this.builtChildren=false
	}this._forceRender=true
	this._super()
	delete this._forceRender
	}else{b=[].concat(this.getPanelChildren()||[])
	for(Z=b.length-1
	Z>=0
	Z--){b[Z].refresh()
	}}if(this._isFP()&&this.selected){this.refreshFP()
	}if(this._isFSP()){this.set("richTooltip",{content:this.containerNode.innerHTML,contentNodeCssClass:"sp-tooltip",left:-20,top:20,refNode:this.domNode})
	this.ellipsizeElements("div",this.containerNode,true)
	}this._inRendering=false
	},setDirty:function N(Z){this[(Z?"add":"remove")+"DirtyKey"](this.k)
	},addDirtyKey:function H(Z){var b=this.defn,a=b.dirtyKeys||{}
	a[Z]=true
	b.dirtyKeys=a
	if(Z===this.k){mstrmojo.array.forEach(this.children,function(c){if(c.setDirtyChildren){c.setDirtyChildren(true)
	}})
	}O(Z,this,true)
	D(this,"add",Z)
	},removeDirtyKey:function K(a){D(this,"remove",a)
	O(a,this,false)
	if(a===this.k){mstrmojo.array.forEach(this.children,function(c){if(c.setDirtyChildren){c.setDirtyChildren(false)
	}})
	}var b=this.defn,Z=b.dirtyKeys
	if(!Z){return 
	}delete Z[a]
	if(!mstrmojo.hash.isEmpty(Z)){return 
	}delete b.dirtyKeys
	},getPanelChildren:function G(){return W.filter(this.children||[],function(Z){return Z.scriptClass!=="mstrmojo.Button"
	})
	},preBuildRendering:function(){if(this._isFSP()){this.useRichTooltip=true
	}if(this._super){this._super()
	}},renderChildren:function J(){this._inRendering=true
	var f=this.children
	if(f&&(this._isFP()||this._isFSP())){W.forEach(f,function(j){j.getFormats()
	})
	}if(this.isSbp){X.addClass(this.domNode,"mstrmojo-sbp")
	}if(this._isFP()&&!mstrApp.isVI){X.addClass(this.parent.domNode,"fpgb")
	if(f){var g=this.domNode.clientWidth-2*R,e,Z
	this.topStart=R+1
	for(e=0,Z=(f&&f.length)||0
	e<Z
	e++){var b=this.domNode.clientWidth-2*R
	this.contentWidth=(b>0)?b:0
	if(b!==g){this.topStart=R+1
	var d
	for(d=0
	d<e
	d++){var a=f[d]
	a.refresh()
	if(a.getContainerHeight){this.topStart+=a.getContainerHeight()+R+1
	}}}var h=f[e]
	if(this.childRenderCheck(h)){h.render(null)
	if(h.getContainerHeight){this.topStart+=h.getContainerHeight()+R+1
	}}}}}else{this._super()
	}if(this._isFSP()){this.set("richTooltip",{content:this.containerNode.innerHTML,contentNodeCssClass:"sp-tooltip",left:-20,top:20,refNode:this.domNode})
	this.ellipsizeElements("div",this.containerNode,true)
	}this._inRendering=false
	},refreshFP:function F(){if(!this.hasRendered){return 
	}var d=this.children,Z=(d&&d.length)||0,b
	this.topStart=R+1
	var a=this.domNode.clientWidth-2*R
	this.contentWidth=(a>0)?a:0
	for(b=0
	b<Z
	b++){var e=d[b]
	if(!e.hasRendered){continue
	}if(e.relocate){e.relocate(this.topStart,this.contentWidth)
	}if(e.updateContentHeight){e.updateContentHeight()
	}if(e.getContainerHeight){this.topStart+=e.getContainerHeight()+R+1
	}}},getChildren:function C(d){var b=this.model.getChildren(this.node,d)
	if(this._isFP()||this._isFSP()){var Z=(b&&b.length)||0,a
	for(a=0
	a<Z
	a++){var e=b[a]
	if(this._isFP()&&!e.defn.iifp){e.defn.iifp=true
	}if(this._isFSP()&&!e.defn.iifs){e.defn.iifs=true
	}}}b=W.filter(b||[],function(c){if(typeof c.defn.ifw==="boolean"){return !c.defn.ifw
	}return true
	})
	return b
	},onchildRenderingChange:function B(Z){this._super(Z)
	if(this._isFSP()&&!this._inRendering){this.ellipsizeElements("div",this.containerNode,true)
	}if(this.parent.selectedKey!==this.k&&Z.gridInfo&&Z.tca===2){this.defn.l=false
	}},_isFP:function Y(){return !!this.parent.defn.ifp
	},_isFSP:function P(){return !!this.parent.defn.ifsp
	},_isSearchBoxPanel:function(){return false
	},canApplySearchBoxPanel:function(){var a=this.model.getChildren(this.node,false),Z
	for(Z=0
	Z<a.length
	Z++){var d=a[Z],b=mstrmojo.all[d.id]
	if(b&&b.canApply&&!b.canApply()){return false
	}}return true
	},doEllipsize:function(){if(this.shouldEllipsize){this.ellipsizeElements("div",this.containerNode,true)
	}if(this._super){this._super()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasLayout")
	var D=' style="display:inline-block
	vertical-align:middle
	"'
	mstrmojo.ui.editors.controls.ThreeColumnContainer=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.ui.editors.controls.ThreeColumnContainer",markupString:'<div id="{@id}" class="mstrmojo-vi-ThreeColumnProp {@cssClass}" style="{@cssText}"><div class="vi-col1"'+D+'></div><div class="divider1"'+D+'></div><div class="vi-col2"'+D+'></div><div class="divider2"'+D+'></div><div class="vi-col3"'+D+"></div></div>",markupSlots:{col1Node:function C(){return this.domNode.firstChild
	},divider1Node:function H(){return this.domNode.childNodes[1]
	},col2Node:function A(){return this.domNode.childNodes[2]
	},divider2Node:function B(){return this.domNode.childNodes[3]
	},col3Node:function E(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onenabledChange:mstrmojo.Container.enabledMarkupMethod},layoutConfig:{w:{col1Node:"30%",divider1Node:"5px",col2Node:"30%",divider2Node:"5px",col3Node:"40%"},xt:true},shouldPropagateEnabled:true,col1Width:"30%",divider1Width:"5px",col2Width:"30%",divider2Width:"5px",col3Width:"40%",init:function G(I){this._super(I)
	var J=this.layoutConfig=JSON.parse(JSON.stringify(this.layoutConfig)),K=J.w
	K.col1Node=this.col1Width
	K.divider1Node=this.divider1Width
	K.col2Node=this.col2Width
	K.divider2Node=this.divider2Width
	K.col3Node=this.col3Width
	},getControl:function F(I){return(this.children||[]).filter(function(J){return J.slot==="col"+I+"Node"
	})[0]
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.ui._HasScroller")
	var D=mstrmojo.Widget
	mstrmojo.ui.ScrollableContainer=mstrmojo.declare(mstrmojo.Container,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ui.ScrollableContainer",markupString:'<div id="{@id}" class="mstrmojo-ui-ScrollableContainer {@cssClass}" style="{@cssText}"><div class="ScrollableContainer-content"></div></div>',markupSlots:{containerNode:function A(){return this.domNode.firstChild
	}},accessibilityMenuContainer:function(){return this.children[0]
	},markupMethods:{onvisibleChange:D.visibleMarkupMethod,onheightChange:D.heightMarkupMethod,onwidthChange:D.widthMarkupMethod},setupScrollNodes:function C(){this.scrollNode=this.containerNode
	},onOpen:function B(){this.updateScrollbars()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash","mstrmojo.Container","mstrmojo._Formattable","mstrmojo._HTMLMediaController","mstrmojo._IsThresholdConditionTarget","mstrmojo.EnumRWUnitType")
	var TP_HTML_CONTAINER=mstrmojo.EnumRWUnitType.HTMLCONTAINER
	var $DOM=mstrmojo.dom,$HASH=mstrmojo.hash
	function buildScriptNode(scriptNode){var node=document.createElement("script"),attributes=scriptNode.attributes,length=attributes.length
	for(var i=0
	i<length
	i++){node.setAttribute(attributes[i].name,attributes[i].value)
	}return node
	}mstrmojo.DocTextfield=mstrmojo.declare(mstrmojo.Container,[mstrmojo._Formattable,mstrmojo._IsThresholdConditionTarget,mstrmojo._HTMLMediaController],{scriptClass:"mstrmojo.DocTextfield",markupString:'<div id="{@id}" k="{@k}" class="mstrmojo-DocTextfield {@cssClass}" title="{@tooltip}" style="{@domNodeCssText}"><div class="mstrmojo-DocTextfield-valueNode" style="{@valueNodeCssText}" mstrAttach:click >{@v}</div>{@buttonNodeMarkup}</div>',markupSlots:{valueNode:function(){return this.domNode.firstChild
	}},formatHandlers:{domNode:["T","z-index"],valueNode:["D","B","F","P","background-color","fx","text-align","white-space","overflow"]},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},update:function update(node){var d=node.data,v=d.v||""
	this.v=v
	this.tooltip=d.tooltip||this.tooltip
	if(this.thresholdId||d.tid){delete this.fmts
	}this.thresholdId=d.tid
	this.set("visible",!node.data.hidden)
	if(this._super){this._super(node)
	}},init:function(props){this._super(props)
	},postBuildRendering:function postBuildRendering(){var i,len
	this.handleRotatedText()
	if(this.defn.t===TP_HTML_CONTAINER){var scripts=this.domNode.getElementsByTagName("script")
	for(i=0,len=scripts.length
	i<len
	i++){if(scripts[i].src){var parentNode=scripts[i].parentNode,node=buildScriptNode(scripts[i])
	parentNode.removeChild(scripts[i])
	parentNode.appendChild(node)
	}else{try{eval(scripts[i].innerHTML)
	}catch(err){console.log(err)
	}}}}return this._super()
	},isTextFieldRotated:function isTextFieldRotated(){var formats=this.getFormats()
	return(formats.fx&&formats.fx.rt&&!$DOM.isDXIE&&$DOM.supports($DOM.cssFeatures.TEXT_ROTATION))
	},handleRotatedText:function handleRotatedText(){var formats=this.getFormats(),rotateValue=formats.fx&&formats.fx.rt
	if(this.isTextFieldRotated()){var domNode=this.domNode,domNodeStyle=domNode.style
	switch(rotateValue){case 1:domNodeStyle.left=(parseInt(formats.left,10)+domNode.offsetHeight)+"px"
	break
	case 3:domNodeStyle.top=(parseInt(formats.top,10)+domNode.offsetWidth)+"px"
	break
	}}},getAnchor:function getAnchor(){return this.valueNode
	}})
	mstrmojo.DocSummaryTextfield=mstrmojo.declare(mstrmojo.DocTextfield,null,{scriptClass:"mstrmojo.DocSummaryTextfield",markupString:'<span id="{@id}" class="mstrmojo-DocSumTextfield {@cssClass}" title="{@tooltip}" style="{@domNodeCssText}"><span class="mstrmojo-DocTextfield-valueNode" style="{@valueNodeCssText}" mstrAttach:click >{@openLink}{@v}{@closeLink}</span>{@buttonNodeMarkup}</span>',formatHandlers:{domNode:["T","z-index"],valueNode:["D","B","F","background-color","fx","text-align","white-space","overflow"]},update:function update(node){this._super(node)
	if(this.v){var v=this.v,p1=new RegExp("&lt
	bold&gt
	","g"),p2=new RegExp("&lt
	/bold&gt
	","g")
	if(v.indexOf("&lt
	empty/&gt
	")>-1){this.v=""
	return 
	}v=v.replace(p1,"<b>")
	v=v.replace(p2,"</b>")
	this.v=v
	}},preBuildRendering:function preBuildRendering(){if(this._super){this._super()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.Container")
	var D="slot"
	mstrmojo.HBox=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.HBox",cellCssClass:"",cellSpacing:0,cellPadding:0,markupString:'<table id="{@id}" class="mstrmojo-HBox {@cssClass}" style="{@cssText}" cellspacing="{@cellSpacing}" cellpadding="{@cellPadding}">{@colHTML}<tr>{@tableHtml}</tr></table>',colHTML:"",markupSlots:{containerNode:function(){return this.domNode.rows[0]
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?mstrmojo.css.DISPLAY_TABLE:"none"
	}},buildRendering:function B(){this.tableHtml=""
	var N=[],F=this.children,K=(F&&F.length)||0,I
	if(K){var G=0,J=this.cellCssClass?' class="mstrmojo-HBox-cell '+this.cellCssClass+'" ':"",M="<td "+J+"></td>"
	for(I=0
	I<K
	I++){N[G++]=M
	F[I].slot=D+I
	}this.tableHtml=N.join("")
	}this._super()
	if(K){var L={},H=this.containerNode.cells
	for(I=0
	I<K
	I++){L["slot"+I]=H[I]
	}this.addSlots(L)
	}},addChildren:function E(K,F,G){if(!K){return K
	}if(F===undefined||isNaN(F)||F<0){var J=this.children
	F=(J&&J.length)||0
	}var I=0,H
	if(K.constructor===Array){for(I=0,H=K.length
	I<H
	I++){K[I].slot=D+(F+I)
	}}else{K.slot=D+F
	}return this._super(K,F,G)
	},childRenderCheck:function C(G){if(G&&!G.hasRendered){var F=G.slot||this.defaultChildSlot
	return !!this[F]||F.match(/^slot[\d]+$/)
	}return false
	},onchildRenderingChange:function A(I){var F=(I&&I.src)||I,L=F&&F.domNode
	if(L){var Q=F.slot
	if(!this[Q]){var J=Q&&Q.match(/^slot([\d]+)$/)
	if(J){var O=parseInt(J[1],10),N=this.containerNode,P=N.cells,M=(P&&P.length)||0,K={}
	for(var H=M
	H<=O
	H++){var G=N.insertCell(H)
	K["slot"+H]=G
	if(this.cellCssClass){G.className=this.cellCssClass
	}}this.addSlots(K)
	}}}this._super(I)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.Container","mstrmojo.ui._HasScroller","mstrmojo._CanRenderChildrenOnShow")
	var A=mstrmojo.array
	mstrmojo.StackContainer=mstrmojo.declare(mstrmojo.Container,[mstrmojo._CanRenderChildrenOnShow,mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.StackContainer",isStack:true,markupString:'<div id="{@id}" class="mstrmojo-StackContainer {@cssClass}" style="{@cssText}"></div>',markupMethods:{onwidthChange:function(){if(!isNaN(parseInt(this.width))){this.domNode.style.width=this.width
	}},onheightChange:function(){if(!isNaN(parseInt(this.height))){this.domNode.style.height=this.height
	}},onborderChange:function(){this.domNode.style.border=this.border||""
	},onbackgroundChange:function(){this.domNode.style.background=this.background||""
	}},markupSlots:{containerNode:function(){return this.domNode
	}},_set_selected:function D(H,F){var G=this.selected
	if(G===F){return false
	}if(G){G.set("visible",false)
	}this.selected=F
	if(F){F.set("visible",true)
	}return true
	},addChildren:function B(J,G,H){var K=this.selected,L
	for(var I=0,F=(J&&J.length)||0
	I<F
	I++){L=J[I]
	if(L&&L.set){L.set("visible",L===K)
	}}return this._super(J,G,H)
	},removeChildren:function C(H,F){var G=this._super(H,F)
	if(!H||(H===this.selected)){this.set("selected",null)
	}return G
	},destroy:function E(F){this._super(F)
	this.selected=null
	},renderMode:"onshow"})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.css")
	var F="",B="row-",E=mstrmojo.css.DISPLAY_TABLE
	mstrmojo.Table=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Table",cellCssClass:"",rows:-1,cols:-1,_trows:-1,cellPadding:0,cellSpacing:0,layout:null,markupString:'<table id="{@id}" class="mstrmojo-Table {@cssClass}" style="{@cssText}" cellpadding="{@cellPadding}" cellspacing="{@cellSpacing}">{@tableHtml}</table>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?E:"none"
	}},preBuildRendering:function G(){var I=[],P=this.cellCssClass
	if(this.layout){var Q=this._trows=this.layout.length
	for(var K=0
	K<Q
	K++){var H=this.layout[K],R=H.cells,O=R.length,L=[]
	for(var J=0
	J<O
	J++){var N=R[J],M=""
	M+=((N.cssClass||P)?' class="'+(N.cssClass||P)+'"':"")
	M+=(N.cssText?' style="'+N.cssText+'"':"")
	M+=(N.rowSpan?' rowspan="'+N.rowSpan+'"':"")
	M+=(N.colSpan?' colspan="'+N.colSpan+'"':"")
	L[J]="<td"+M+"></td>"
	}var S=""
	S+=(H.cssClass?' class="'+H.cssClass+'"':"")
	S+=(H.cssText?' style="'+H.cssText+'"':"")
	I[K]="<tr"+S+">"+L.join("")+"</tr>"
	}}else{this._trows=this.rows
	var M=(P?' class="'+P+'"':""),L=[]
	for(var K=0
	K<this.rows
	K++){for(var J=0
	J<this.cols
	J++){L[J]="<td"+M+"></td>"
	}I[K]="<tr>"+L.join("")+"</tr>"
	}}this.tableHtml=I.join("")
	if(this._super){this._super()
	}},postBuildRendering:function C(){if(this._trows){var M={},I=this.containerNode.rows,N=I.length
	for(var L=0
	L<N
	L++){var K=I[L].cells,H=K.length
	M[B+L]=I[L]
	for(var J=0
	J<H
	J++){M[F+L+","+J]=K[J]
	}}this.addSlots(M)
	}this._super()
	},childRenderCheck:function D(I){if(I&&!I.hasRendered){var H=I.slot||this.defaultChildSlot
	return !!this[H]||H.match(/^([\d]+),([\d]+)$/)
	}return false
	},on_child_change_rendering:function A(L){var H=(L&&L.src)||L,O=H&&H.domNode
	if(O){var W=H.slot
	if(!this[W]){var M=W&&W.match(/^([\d]+),([\d]+)$/)
	if(M){var R=parseInt(M[1],10),X=parseInt(M[2],10),Q=this.containerNode,U=this[(B+R)],N=[]
	if(!U){var J=Q.rows,S=J&&J.length||0
	for(var K=S
	K<=R
	K++){N[B+K]=Q.insertRow()
	}U=N[B+R]
	}var P=U.cells&&U.cells.length||0
	for(var K=P
	K<=X
	K++){var I=U.insertCell(K)
	N[F+R+","+K]=I
	if(this.cellCssClass){I.className=this.cellCssClass
	}}this.addSlots(N)
	}}}this._super(L)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.Container")
	mstrmojo.VBox=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.VBox",markupString:'<table id="{@id}" class="mstrmojo-VBox {@cssClass}" style="{@cssText}" cellspacing="0" cellpadding="0"><tr><td></td></tr></table>',markupSlots:{containerNode:function(){return this.domNode.rows[0].cells[0]
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?mstrmojo.css.DISPLAY_TABLE:"none"
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.Container","mstrmojo._HasPopup","mstrmojo.string")
	var E=function(){var G=this.opener
	if(G.direction.toLowerCase()==="up"){this.domNode.style.top=-G.domNode.offsetHeight+"px"
	}}
	mstrmojo.DropDownButton=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.DropDownButton",height:"",text:"",direction:"down",enabled:true,title:"",allowHTML:true,markupString:'<div id="{@id}" class="mstrmojo-DropDownButton {@cssClass} {@direction}" style="{@cssText}"><div class="mstrmojo-DropDownButton-boxNode {@cssClass}-boxNode" title="{@title}" mstrAttach:mousedown><div class="mstrmojo-DropDownButton-iconNode {@cssClass}-iconNode">{@text}</div></div><div class="mstrmojo-DropDownButton-popupNode {@cssClass}-popupNode"></div></div>',markupSlots:{boxNode:function(){return this.domNode.firstChild
	},iconNode:function(){return this.domNode.firstChild.firstChild
	},popupNode:function(){return this.domNode.lastChild
	}},markupMethods:{onheightChange:function(){this.boxNode.style.height=this.height||""
	},ontextChange:function(){this.iconNode.innerHTML=this.getTextInnerHTML()
	},ontitleChange:function(){this.boxNode.title=this.title
	},onenabledChange:function(){mstrmojo.css[this.enabled?"removeClass":"addClass"](this.domNode,["disabled"])
	},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},preBuildRendering:function C(){if(this._super){this._super()
	}var G=this.popupRef
	if(G){if(G.nudge){G.nudge=mstrmojo.func.composite([G.nudge,E])
	}else{if(this.direction.toLowerCase()!=="down"){G.nudge=E
	}}}},popupRef:null,popupOpenConfig:null,destroy:function D(G){var H=this.popupRef
	if(H&&H.hasRendered){H.destroy(false)
	}if(this._super){this._super(G)
	}},togglePopup:function F(){var G=this._lastOpened
	if(G&&G.visible){this.closePopup()
	}else{this.openPopup("popupRef",this.popupOpenConfig)
	}},premousedown:function A(G){this.togglePopup()
	},getTextInnerHTML:function B(){if(!this.allowHTML){this.text=mstrmojo.string.encodeHtmlString(this.text)
	}return this.text
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container")
	var A=mstrmojo.Widget
	mstrmojo.Box=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Box",markupString:'<div id="{@id}" class="mstrmojo-Box {@cssClass}" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:A.visibleMarkupMethod,onheightChange:A.heightMarkupMethod,onwidthChange:A.widthMarkupMethod}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasBuilder","mstrmojo._CanMeasureChildren","mstrmojo._CanRenderDocOnScroll","mstrmojo._FillsBrowser")
	function A(){var E=this.domNode,D=this.containerNode,F=D.style,J=D.clientWidth||parseInt(F.width,10),I=E.clientWidth||parseInt(E.style.width,10),G=E.parentNode,M=D.clientHeight||parseInt(F.height,10),H=G.clientHeight||parseInt(G.style.height,10)
	if(J<I){F.left=(I-J)/2+"px"
	}if(M<H){F.top=(H-M)/2+"px"
	}var K=this.model.zt,L=K===1||K===2
	if(!L||this.model.zoomFactorUpdating===false){F.visibility="visible"
	}}mstrmojo.rw.DocLayout=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasBuilder,mstrmojo._CanMeasureChildren,mstrmojo._CanRenderDocOnScroll,mstrmojo._FillsBrowser],{scriptClass:"mstrmojo.rw.DocLayout",markupString:'<div id="{@id}"><div class="mstrmojo-DocLayout {@cssClass}" style="{@domNodeCssText}"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	},popupNode:function(){return this.domNode.firstChild
	}},alias:"docLayout",getHeight:mstrmojo.emptyFn,getWidth:mstrmojo.emptyFn,resizeOrReposition:mstrmojo.emptyFn,preserveChildDomOrder:false,buildRendering:function(){this._super()
	var D=this.model.zt
	if(mstrApp.features["is-document-center-align"]||D===1||D===2){this.containerNode.style.visibility="hidden"
	}},postBuildRendering:function C(){var F=this._super(),G=this,E=this.model.zt,D=E===1||E===2
	if(mstrApp.features["is-document-center-align"]){window.setTimeout(function(){A.call(G)
	},10)
	}else{if(D&&this.model.zoomFactorUpdating===false){G.containerNode.style.visibility="visible"
	}}return F
	},browserResized:function B(){if(this.hasRendered&&mstrApp.features["is-document-center-align"]){A.call(this)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container")
	mstrmojo.requiresDescs(11668,15187,15188,15189,15190)
	function B(L,K,I){var J=K,H
	for(
	J>0
	J--){H=Array(J+1).join("#")
	L=L?L.replace(H,I[J-1]):""
	}return L
	}var C='<div class="ghost-vis-txt-metric">',A='<div class="ghost-vis-txt-attr">',E='<div class="ghost-vis-txt-attr-time">',G="</div>"
	var D={grid:B(mstrmojo.desc(15187,"Add # or more ##attributes### and/or #### or more #####metrics######"),6,[1,A,G,1,C,G]),heatmap:B(mstrmojo.desc(15187,"Add # or more ##attributes### and/or #### or more #####metrics######"),6,[1,A,G,1,C,G]),barchart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,1,C,G]),verticalbarchart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,1,C,G]),horizontalbarchart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,1,C,G]),verticalclusteredbarchart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[2,A,G,1,C,G]),horizontalclusteredbarchart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[2,A,G,1,C,G]),verticalstackedbarchart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[2,A,G,1,C,G]),horizontalstackedbarchart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[2,A,G,1,C,G]),verticalpercentbarchart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[2,A,G,1,C,G]),horizontalpercentbarchart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[2,A,G,1,C,G]),syncaxisbarchart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,2,C,G]),matrixbarchart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[2,A,G,1,C,G]),linechart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,1,C,G]),dualaxislinechart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,2,C,G]),stackedareachart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,1,C,G]),absoluteareachart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,1,C,G]),bubblechart:B(mstrmojo.desc(15190,"Add # or more ##metrics### and #### or more #####attributes######"),6,[2,C,G,1,A,G]),piechart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,1,C,G]),ringchart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,1,C,G]),combochart:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,2,C,G]),network:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[2,A,G,1,C,G]),histogram:B(mstrmojo.desc(15667,"Add # or more ##attributes### and ####  #####metric######"),6,[1,A,G,1,C,G]),boxplot:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,1,C,G]),waterfall:B(mstrmojo.desc(15188,"Add # or more ##attributes### and #### or more #####metrics######"),6,[1,A,G,1,C,G]),kpicard:B(mstrmojo.desc(15878,"Add # or more ##attributes### and #### #####metric######"),6,[1,A,G,1,C,G]),surveymonkey:mstrmojo.desc(17267,"Choose a survey from ## account, or insert a ## URL").replace(/##/gi,"SurveyMonkey"),surveygizmo:mstrmojo.desc(17267,"Choose a survey from ## account, or insert a ## URL").replace(/##/gi,"Alchemer"),amselector:B(mstrmojo.desc(16875,"Add #attributes## or ###metrics#### here"),4,[A,G,C,G])}
	function F(H){return D[H]?D[H]:mstrmojo.desc(11668,"Drag objects here.")
	}mstrmojo.vi.ui.rw.GhostImageContainer=mstrmojo.declare(mstrmojo.Container,[],{scriptClass:"mstrmojo.vi.ui.rw.GhostImageContainer",markupString:'<div id="{@id}" class="mstrmojo-vi-ui-rw-GhostImageContainer {@cssClass}"><div class="mstmojo-ghostImgTableCell"><div class="mstrmojo-ghostImgDiv"><div class="ghost-vis-img"></div><div class="ghost-vis-name">{@visName}</div><div class="ghost-vis-desc">{@visDesc}</div></div></div></div>',markupSlots:{containerNode:function(){return this.domNode
	}},visName:"",visDesc:""})
	mstrmojo.vi.ui.rw.GhostImageContainer.getVisDesc=F
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._IsPopup","mstrmojo._CanAutoClose")
	function A(B){return function(){this.domNode.style[B]=this[B]||""
	}
	}mstrmojo.Popup=mstrmojo.declare(mstrmojo.Container,[mstrmojo._IsPopup,mstrmojo._CanAutoClose],{scriptClass:"mstrmojo.Popup",shadowNodeCssClass:"mstrmojo-popup-shadow",titleNodeCssClass:"mstrmojo-popup-title",contentNodeCssClass:"mstrmojo-popup-content",cssDisplay:"block",keepOpen:false,markupString:'<div id="{@id}" class="mstrmojo-Popup {@cssClass}" style="{@cssText}"><div class="mstrmojo-Popup-shadow {@shadowNodeCssClass}"></div><div class="mstrmojo-Popup-title {@titleNodeCssClass}">{@title}</div><div class="mstrmojo-Popup-content {@contentNodeCssClass}"></div></div>',markupSlots:{containerNode:function(){return this.domNode.lastChild
	},shadowNode:function(){return this.domNode.firstChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onleftChange:A("left"),ontopChange:A("top"),onzIndexChange:A("zIndex")}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.dom","mstrmojo.css")
	var I=mstrmojo.css,G={9:"Tab",13:"Enter",27:"Esc",38:"ArrowUp",40:"ArrowDown"},E="sbClear",N="sbSearch"
	mstrmojo.SearchWidget=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.SearchWidget",quickSearch:false,quickSearchForClear:false,showClearNode:true,placeholderText:"",markupString:'<table id={@id} cellspacing="0" cellpadding="0" class="mstrmojo-SearchWidget mstrmojo-SearchBox-Wrapper {@cssClass}" style="{@cssText}
	"><tr><td><div class="mstrmojo-SearchBox" mstrAttach:click ><input class="mstrmojo-SearchBox-input" type="text" style="width:{@width}
	" placeholder="{@placeholderText}" mstrAttach:keyup,focus,blur/></div></td><td><div class="mstrmojo-SearchBox-clear" id="{@id}'+E+'" mstrAttach:click></div></td><td><div class="mstrmojo-SearchBox-bg"><div class="mstrmojo-SearchBox-search" id="{@id}'+N+'" mstrAttach:click ></div></div></td></tr></table>',markupSlots:{inputNode:function(){return this.domNode.rows[0].cells[0].firstChild.firstChild
	},clearNode:function(){return this.domNode.rows[0].cells[1].firstChild
	},searchNode:function(){return this.domNode.rows[0].cells[2].firstChild.firstChild
	}},markupMethods:{onquickSearchChange:function(){I.toggleClass(this.domNode,"quick-search",this.quickSearch)
	},onwidthChange:function(){if(this.inputNode&&this.inputNode.style&&this.inputNode.style.width){this.inputNode.style.width=this.width
	}},ondisabledChange:function O(){var Q=this.disabled
	I.toggleClass(this.domNode,"disabled",Q)
	if(this.inputNode){this.inputNode.disabled=Q
	}}},clearNode:null,searchNode:null,isFocus:false,disabled:false,onsearch:mstrmojo.emptyFn,onclear:mstrmojo.emptyFn,prekeyup:function M(R){var Q=R.hWin,S=R.e||Q.event
	this.updateSearch()
	var U=G[S.keyCode]
	if(this["on"+U]){this["on"+U](R)
	}},setClearIcon:function C(){var R=this.parent
	if(!R){return 
	}var Q=R.search&&R.search.searchNode,S=this.getSearchPattern(),U=(S.length===0)
	if(Q){I.toggleClass(this.searchNode,"clear",!U&&this.quickSearch)
	}},onEnter:function D(Q){this.onsearch(this.getSearchPattern())
	},onEsc:function A(Q){this.clearSearch()
	},getSearchPattern:function K(){return mstrmojo.string.trim(this.inputNode.value)
	},setSearchPattern:function K(Q){if(this.inputNode){this.inputNode.value=Q||""
	this.updateSearch()
	}},preclick:function H(Q){var S=Q.getTarget(),R=S&&S.id
	switch(R.replace(this.id,"")){case N:if(this.quickSearch){this.clearSearch()
	}else{this.onsearch(this.getSearchPattern())
	}break
	case E:this.clearSearch()
	break
	}},updateSearch:function B(){var R=this.getSearchPattern(),Q=(R.length===0),S=this.quickSearch
	I.toggleClass(this.clearNode,"show",this.showClearNode&&!Q&&!S)
	I.toggleClass(this.searchNode,"clear",!Q&&S)
	I.toggleClass(this.domNode,"hasPattern",!Q)
	if(S||this.quickSearchForClear&&Q){this[Q?"clearSearch":"onsearch"](R)
	}},clearSearch:function L(){var Q=this.getSearchPattern()
	this.reset()
	this.onclear(Q)
	},onfocus:function P(){this.isFocus=true
	I.addClass(this.domNode,"focus")
	},onblur:function J(){this.isFocus=false
	I.removeClass(this.domNode,"focus")
	},reset:function F(){this.inputNode.value=""
	I.removeClass(this.clearNode,"show")
	I.removeClass(this.domNode,"hasPattern")
	I.removeClass(this.searchNode,"clear")
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container")
	function B(K,J,H){var I=J,G
	for(
	I>0
	I--){G=Array(I+1).join("#")
	K=K.replace(G,H[I-1])
	}return K
	}var C='<div class="freezing-vis-txt-metric">',A='<div class="freezing-vis-txt-attr">',E="</div>",F="("+mstrmojo.desc(16294,"data retrieval paused")+")"
	var D=function(J,I){if(J<1&&I<1){return null
	}var H=[],G="# ## ### ####"
	if(J>0){H.push(B(G,4,[A,J,J>1?mstrmojo.desc(3581,"Attributes"):mstrmojo.desc(518,"Attribute"),E]))
	}if(I>0){H.push(B(G,4,[C,I,I>1?mstrmojo.desc(3582,"Metrics"):mstrmojo.desc(517,"Metric"),E]))
	}return H.join(",")
	}
	mstrmojo.vi.ui.rw.FreezingImageContainer=mstrmojo.declare(mstrmojo.Container,[],{scriptClass:"mstrmojo.vi.ui.rw.FreezingImageContainer",markupString:'<div id="{@id}" class="mstrmojo-vi-ui-rw-freezingImageContainer mstrmojo-vi-ui-rw-GhostImageContainer {@cssClass}"><div class="mstmojo-freezingImgTableCell"><div class="mstrmojo-freezingImgDiv"><div class="freezing-vis-img ghost-vis-img"></div><div class="freezing-vis-desc"><label class="visName">{@visName}</label><div class="freezing-details">{@freezingDetails}</div></div><div class="vis-dropzone">{@visDropzoneMsg} </div></div></div></div>',markupSlots:{containerNode:function(){return this.domNode
	}},visName:"",freezingDetails:F,visDropzoneMsg:""})
	mstrmojo.vi.ui.rw.FreezingImageContainer.getVisDropzoneMsg=D
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.dom","mstrmojo._IsPopup","mstrmojo._CanAutoClose")
	var C=mstrmojo.dom
	mstrmojo.ui.PopupWidget=mstrmojo.declare(mstrmojo.Container,[mstrmojo._IsPopup,mstrmojo._CanAutoClose],{scriptClass:"mstrmojo.ui.PopupWidget",markupString:'<div id="{@id}" class="mstrmojo-ui-PopupWidget {@cssClass}" style="{@cssText}" mstrAttach:mouseover,mouseout,click><div class="pw-content"></div></div>',markupSlots:{containerNode:function A(){return this.domNode.firstChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},autoCloses:true,locksHover:true,closeOnClick:true,visible:true,onclick:function B(D){C.stopPropogation(null,D.e)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.ui._HasUITheme","mstrmojo.Container","mstrmojo._HasPopup","mstrmojo.ui._HasUITheme")
	var B=mstrmojo.func,D=mstrmojo.dom,C=mstrmojo.ui._HasUITheme.EnumThemeNames,G="mstrmojo-popup-widget-hosted"
	mstrmojo.ui.PopupButton=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup,mstrmojo._HasTooltip],{scriptClass:"mstrmojo.ui.PopupButton",onPopupWidgetClosed:mstrmojo.emptyFn,onPopupWidgetOpened:mstrmojo.emptyFn,anchorSlot:"domNode",isHostedWithin:true,hostedCSSClass:"",destroy:function J(N){if(this._listenerProc){D.detachEvent(window,"resize",this._listenerProc)
	}this._super(N)
	},getPopupWidget:mstrmojo.emptyFn,postCreateChildren:function E(){var N=this.getPopupWidget()
	if(!N||N._pbCfg){return 
	}var O=function O(Q,P){return function(){Q.apply(P,arguments)
	}
	}
	N.onOpen=B.composite([O(this.onPopupWidgetOpened,this),N.onOpen||mstrmojo.emptyFn])
	N.onClose=B.composite([O(this.onPopupWidgetClosed,this),N.onClose||mstrmojo.emptyFn])
	N._pbCfg=true
	},onclick:function L(N){if(this.isClickingAnchorSlot(N)){var O=this.getPopupWidget()
	if(!O.visible){this.openPopup(O)
	}else{this.closePopup()
	}}},isClickingAnchorSlot:function M(N){var O=N.getTarget()
	return O===this[this.anchorSlot]||O.parentNode===this[this.anchorSlot]
	},onPopupAutoClosed:function I(O,N){if(D.contains(this[this.anchorSlot],D.eventTarget(N,O),true)){return false
	}},getPopupHostNode:function K(){return this.containerNode
	},getPopupConfig:function H(){var O=[G],N=this.hostedCSSClass
	if(N){O.push(N)
	}var P=new mstrmojo.ui.PopupConfig({hostId:this.id,hostElement:this.getPopupHostNode(),anchorElement:this[this.anchorSlot],isHostedWithin:this.isHostedWithin,hostProxyCssClass:O.join(" ")})
	return this.disposables?this.addDisposable(P):P
	},unrender:function F(N){if(this._listenerProc){D.detachEvent(window,"resize",this._listenerProc)
	delete this._listenerProc
	}this._super(N)
	},postBuildRendering:function A(){var R=this.getPopupWidget()
	if(R){var U=this.getPopupConfig()
	if(!U.isHostedWithin){var P=this.parent||this.opener,O=U.hostProxyCssClass.split(" ")
	O.push(this.domNode.className)
	while(P){var S=P.themeClassName
	if(S){O.push(S)
	break
	}P=P.parent||P.opener
	}if(U.useDarkTheme){O.splice(O.indexOf(C.LIGHT_THEME),1)
	O.push(C.DARK_THEME)
	}U.hostProxyCssClass=O.join(" ")
	}mstrmojo.Obj.free(R.popupConfig)
	R.popupConfig=R.addDisposable(U)
	}if(!((this.editableSlot||this.containEditableWidget)&&D.isMobile)){var N=R.id,Q=this._listenerProc=function(){var W=mstrmojo.all[N]
	if(W&&W.visible&&W.adjustCornersForPopupOverflow){W.adjustCornersForPopupOverflow()
	}}
	if(this.isHostedWithin===false){D.attachEvent(window,"resize",Q)
	}}return this._super()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container")
	mstrmojo.TabStripBase=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.TabStripBase",target:null,targetProps:null,isStrip:true,ontargetChange:function A(I){var J=I&&I.valueWas
	if(J){var G=this._targetSubs
	if(G){J.detachEventListener(G.add)
	J.detachEventListener(G.rem)
	J.detachEventListener(G.sel)
	}this.removeChildren()
	}var K=this.target
	if(K){var E=this.targetProps,D=(E&&E.children)||"children",B=K[D]
	this.addTabButtons(B,0)
	var H="attachEventListener",C=this.id,F
	if(K[H]){this._targetSubs={add:K[H]("addChild",C,function(L){var M=L&&L.value
	if(M&&M.length){this.addTabButtons(M,L.index)
	}}),rem:K[H]("removeChild",C,function(M){var L=M&&M.value
	for(F=((L&&L.length)||0)-1
	F>-1
	F--){this.removeTabButton(L[F])
	}}),sel:K[H]("selectedChange",C,function(L){this.selectionChange(L)
	})}
	}}},addTabButtons:mstrmojo.emptyFn,removeTabButton:mstrmojo.emptyFn,selectionChange:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._Formattable","mstrmojo._ImageHelper","mstrmojo.string","mstrmojo.url")
	var E=mstrmojo.string,B=mstrmojo.url,F=function F(H){return H.data.dl||H.defn.dl
	}
	mstrmojo.DocImage=mstrmojo.declare(mstrmojo.Container,[mstrmojo._Formattable,mstrmojo._ImageHelper],{scriptClass:"mstrmojo.DocImage",markupString:'<div id="{@id}" k="{@k}" class="mstrmojo-DocImage" title="{@tooltip}" style="{@domNodeCssText}"><div style="{@shadowNodeCssText}"><img src="{@en@v}" style="{@imgNodeCssText}" mstrAttach:click></div>{@buttonNodeMarkup}</div>',markupSlots:{imgNode:function(){return this.domNode.firstChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},update:function G(J){var H=E.trim(J.data.v),I=F(J)
	if(H&&!((J.data.ut===4)||J.defn.oid)){H=B.getFullPath(H)
	}this.origV=H
	this.v=E.decodeHtmlString(this.getImage(H)||H)
	this.oid=J.defn.oid
	if(I&&((typeof this.hasActiveLink!=="function")||this.hasActiveLink())){this.tooltip=I.items[0].n
	}if(this.thresholdId||J.data.tid){delete this.fmts
	}this.thresholdId=J.data.tid
	this.set("visible",!J.data.hidden)
	if(this._super){this._super(J)
	}},formatHandlers:{domNode:["left","top","z-index"],shadowNode:["width","height","B","fx"],imgNode:["height","width"]},preBuildRendering:function C(){this._super()
	if(mstrApp.isMobile&&mstrApp.useBinaryFormat){var H=this.v,K=mstrMobileApp.isOnline(),J=this.model.getDataService()
	if((!K&&H.indexOf("http")===0)||(K&&H.indexOf("http")!==0)){this.v=(J&&J.getDocImage&&J.getDocImage(this.origV))||H
	}}if(this.node.data.ut===4&&this.v.indexOf(mstrConfig.taskURL)===-1){var I=mstrConfig.taskURL
	I+="?"
	this.v=I+"taskId=getRWEmbeddedImage&msgID="+this.model.mid+"&oid="+this.v
	}this.updateDimensionsFromFormats()
	},updateDimensionsFromFormats:function D(){if(!mstrmojo.dom.isIE7){var H=this.getFormats(),K=(H.fx&&H.fx.ds)||0,I=mstrmojo._Formattable.getBorderWidths(this),J=1
	if((mstrmojo.dom.isIE||mstrmojo.dom.isIEW3C)&&this.model.getZoomFactor){J=this.model.getZoomFactor()>1?this.model.getZoomFactor():1
	I.w=Math.ceil(I.w*J)
	I.h=Math.ceil(I.h*J)
	}this.domNodeCssText+="width:"+((parseInt(H.width,10)||0)+K+I.w)+"px
	height: "+((parseInt(H.height,10)||0)+K+I.h)+"px
	"
	this.shadowNodeCssText+="border-width: "+I.t+"px "+ +I.r+"px "+ +I.b+"px "+ +I.l+"px "
	}},getAnchor:function A(){return this.imgNode
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasLayout")
	var D=' style="display:inline-block
	vertical-align:middle
	"'
	mstrmojo.ui.editors.controls.TwoColumnContainer=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",markupString:'<div id="{@id}" class="mstrmojo-vi-TwoColumnProp {@cssClass}" style="{@cssText}"><div class="vi-col1"'+D+'></div><div class="divider"'+D+'></div><div class="vi-col2"'+D+"></div></div>",markupSlots:{col1Node:function C(){return this.domNode.firstChild
	},dividerNode:function B(){return this.domNode.childNodes[1]
	},col2Node:function A(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onenabledChange:mstrmojo.Container.enabledMarkupMethod},layoutConfig:{w:{col1Node:"40%",dividerNode:"5px",col2Node:"60%"},xt:true},shouldPropagateEnabled:true,col1Width:"40%",dividerWidth:"5px",col2Width:"60%",init:function F(G){this._super(G)
	var H=this.layoutConfig=JSON.parse(JSON.stringify(this.layoutConfig)),I=H.w
	I.col1Node=this.col1Width
	I.dividerNode=this.dividerWidth
	I.col2Node=this.col2Width
	},getControl:function E(G){return(this.children||[]).filter(function(H){return H.slot==="col"+G+"Node"
	})[0]
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._FillsBrowser","mstrmojo._HasLayout")
	function A(){var D=this._resizeHandler
	if(D){window.clearInterval(D)
	delete this._resizeHandler
	}}mstrmojo.OIVMPage=mstrmojo.declare(mstrmojo.Container,[mstrmojo._FillsBrowser,mstrmojo._HasLayout],{scriptClass:"mstrmojo.OIVMPage",markupString:'<div id="{@id}" class="mstrmojo-OIVMPage {@cssClass} {@themeClassName}" style="{@cssText}"><div class="mstrmojo-OIVMPage-pathbar"></div><div class="mstrmojo-OIVMPage-toolbar" style="display:none"></div><div class="mstrmojo-OIVMPage-layout"></div></div>',markupSlots:{pathbarNode:function(){return this.domNode.childNodes[0]
	},toolbar:function(){return mstrConfig.isDocAuthInWorkstation?this.domNode.childNodes[1]:""
	},layout:function(){return this.domNode.lastChild
	}},layoutConfig:{h:{pathbarNode:mstrConfig.isDocAuthInWorkstation?"0px":"42px",toolbar:mstrConfig.isDocAuthInWorkstation?"42px":"0px",layout:"100%"},w:{pathbarNode:"100%",layout:"100%"}},onError:function(F){var H=F.detail,G=mstrApp,E="#666",I=F.code
	if(I){var D=mstrmojo.Button.newInteractiveButton
	switch(I){case -2147468986:case -2147467618:case -2147071914:F.btns=[D(mstrmojo.desc(3758,"Re-run Document"),function(){var J={evt:2048001,src:G.name+"."+G.pageName+".2048001",documentID:H.dssid,currentViewMedia:1}
	if(I===-2147071914){J.result_flag_3=1
	}mstrmojo.form.send(J)
	},E),D(mstrmojo.desc(221,"Cancel"),function(){mstrmojo.form.send({evt:3010,src:mstrApp.name})
	},E)]
	break
	default:F.btns=[D(mstrmojo.desc(212,"Continue"),function(){mstrmojo.form.send({evt:3026,src:G.name+"."+G.pageName+".3026"})
	},E)]
	}}},renderPageLoadError:function(){var D=this.error
	this.onError(D)
	if(!D.btns||!D.btns.length){mstrmojo.alert(D.message,null,D.title)
	}else{mstrmojo.confirm(D.message,null,{buttons:D.btns,title:D.title})
	}},render:function C(){if(this.error){this.renderPageLoadError()
	}else{this._super()
	}},browserResized:function B(D,G){var F=this._super(D),E=this
	if(G){A.call(this)
	this._resizeHandler=window.setInterval(function(){var H=mstrApp.docModel.controller,K=H,J=H.zoom,I=H.view.zoomValue
	if(J){A.call(E)
	J.call(K,I&&I.dssid)
	}},300)
	}return F
	},destroy:function(D){A.call(this)
	this._super(D)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasScrollbox","mstrmojo._HasLayout","mstrmojo._ShowsStatus")
	function E(J){var I=this.domNode,H=parseInt(this[J.toLowerCase()],10)
	return(isNaN(H))?I["offset"+J]:H
	}mstrmojo.DocLayoutViewer=mstrmojo.declare(mstrmojo.Container,[mstrmojo._Formattable,mstrmojo._HasScrollbox,mstrmojo._HasLayout,mstrmojo._ShowsStatus],{scriptClass:"mstrmojo.DocLayoutViewer",markupString:'<div id="{@id}" class="mstrmojo-DocLayoutViewer {@cssClass}" style="{@domNodeCssText}"><div></div><div><div class="mstrmojo-progress" style="display:none"><div class="mstrmojo-progress-barbg"><div class="mstrmojo-progress-bar"></div></div><div class="mstrmojo-progress-text"></div></div><div id="{@id}_fh"></div><div id="{@id}_scrollboxNode" class="mstrmojo-DocLayoutViewer-layout" style="{@_scrollCssText}"></div><div id="{@id}_ff"></div></div><div></div></div>',markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	},onborderChange:function(){if(this.border){this.domNode.style.border=this.border
	}}},markupSlots:{groupBy:function(){return this.domNode.firstChild
	},layout:function(){return this.domNode.childNodes[1].childNodes[2]
	},scrollboxNode:function(){return this.domNode.childNodes[1].childNodes[2]
	},containerNode:function(){return this.domNode.childNodes[1].childNodes[2]
	},incFetchNode:function(){return this.domNode.lastChild
	},fixedHeaderNode:function(){return this.domNode.childNodes[1].childNodes[1]
	},fixedFooterNode:function(){return this.domNode.childNodes[1].childNodes[3]
	},_STATUS:function(){return this.domNode.childNodes[1].firstChild
	},_STATUS_TXT:function(){return this.domNode.childNodes[1].firstChild.lastChild
	},_STATUS_BAR:function(){return this.domNode.childNodes[1].firstChild.firstChild.firstChild
	}},layoutConfig:{h:{groupBy:"auto",fixedHeaderNode:"auto",layout:"100%",fixedFooterNode:"auto",incFetchNode:"auto"},w:{layout:"100%"}},k:null,scrollboxHeightFixed:true,scrollboxWidthFixed:true,getHeight:function G(){return E.call(this,"Height")
	},getWidth:function B(){return E.call(this,"Width")
	},afterLayout:function A(){this._super()
	this.notifyScrollListeners()
	},preBuildRendering:function D(){if(this.parent){var J=this.parent[this.slot].style,I=this.height,H=this.width
	this.height=(I!=="auto")?I:J.height
	this.width=(H!=="auto")?H:J.width
	}this.bs=this.model.bs
	return this._super()
	},setSlotDimensions:function F(J,I,H){if(J==="layout"){this.scrollboxHeight=parseInt(I,10)
	this.scrollboxWidth=parseInt(H,10)
	}this._super(J,I,H)
	},onaddChild:function C(H){if(!isNaN(H.index)){var I=this.children[H.index]
	if(I&&I.slot==="groupBy"){this.docGroupBy=I
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.string","mstrmojo.Container","mstrmojo._IsPopup","mstrmojo.boxmodel","mstrmojo.dom","mstrmojo.ui._HasScroller")
	var L=mstrmojo.boxmodel,I=mstrmojo.dom,M=mstrmojo.css,O="mstrmojo-Tooltip",A="mstrmojo-scrollNode",E=20
	function C(S,U,R){var W="connectScrollbox"
	if(R){W="dis"+W
	}var Q=S&&S.parent
	while(Q){if(Q[W]){Q[W](U)
	}Q=Q.parent
	}}function G(){if(!this._paintHandle){var R=this.id,Q=function(X){var b=mstrmojo.all[R]
	if(!b){return 
	}delete b._paintHandle
	var U=[O],c=b.cssClass
	if(c){U.push(c)
	}var S=mstrApp.getThemeClassName&&mstrApp.getThemeClassName(),Z=b.opener
	if(Z&&Z.getTooltipThemeClass){S=Z.getTooltipThemeClass()
	}U.push(S)
	b.domNode.className=U.join(" ")
	var a=b.content,W=b.contentNode,Y=b.arrowNode
	W.className=(O+"-content "+A+" "+b.contentNodeCssClass)
	W.style.cssText=b.contentNodeCssText
	if(!b.hasWidgetContent){W.innerHTML=a
	I.recursiveReplaceInlineEventListeners(W,false,b)
	}Y.style.cssText=""
	b.domNode.style.visibility=!!a?"visible":"hidden"
	b.updatePosition()
	if(!X&&b.optimizePos){b.optimizePos()
	}b.updateScrollbars()
	b.addScrollNodeProperties()
	}
	if(!this._hasPaint){Q(true)
	this._hasPaint=true
	}else{this._paintHandle=window.setTimeout(Q,0)
	}}}function B(X,h,n,Y){var b=h&&(h.richTooltip||h.tooltip),q=n?I.getMousePosition(n,Y||self):null,g=b&&(typeof b==="string")
	var o="",d="",a="",l=b,f=null,Q=false,c=null,S=mstrmojo.tooltip.POS_TOPLEFT,U=null,j=null,R=null,p=false,W=null,Z=mstrmojo._HasTooltip.TOOLTIP_CLOSE_DELAY
	var k=false,m=false
	if(b&&!g){d=b.cssClass||d
	o=b.contentNodeCssClass||o
	a=b.contentNodeCssText||a
	l=b.content||""
	f=b.eventHandlerMap
	c=b.refNode||c
	Q=!!b.offsetAlgo
	S=b.posType||S
	U=b.left||0
	j=b.top||0
	k=b.keepArrowXPos||k
	m=b.keepArrowYPos||m
	R=b.updatePosition||null
	p=b.hasWidgetContent
	W=b.children
	Z=b.tooltipCloseDelay||mstrmojo._HasTooltip.TOOLTIP_CLOSE_DELAY
	}X.set("contentNodeCssClass",o)
	X.set("cssClass",d)
	X.set("contentNodeCssText",a)
	X.set("content",l)
	X.set("eventHandlerMap",f)
	X.set("refNode",c)
	X.set("offsetAlgo",Q)
	X.set("posType",S)
	X.set("left",g?((q&&q.x)||X.left):U)
	X.set("top",(g||!b)?((q&&(q.y+E))||X.top):j)
	X.set("keepArrowXPos",k)
	X.set("keepArrowYPos",m)
	if(R){X.set("updatePosition",R)
	}else{X.set("updatePosition",mstrmojo.Tooltip.prototype.updatePosition)
	}X.set("hasWidgetContent",p)
	X.set("children",W)
	X.set("tooltipCloseDelay",Z)
	}mstrmojo.Tooltip=mstrmojo.declare(mstrmojo.Container,[mstrmojo._IsPopup,mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.Tooltip",content:null,top:null,left:null,refNode:null,keepArrowXPos:false,keepArrowYPos:false,posType:"TL",allowOtherTooltips:false,markupString:'<div id="{@id}" class="'+O+' {@cssClass}" style="{@cssText}" mstrAttach:mouseover,mouseout><div class="'+O+'-shadow {@shadowNodeCssClass}"></div><div class="'+O+'-contentWrapper"><div class="'+O+"-content "+A+' {@contentNodeCssClass}" style="{@contentNodeCssText}"></div></div><div class="'+O+'-arrow"></div></div>',markupSlots:{containerNode:function(){return this.domNode.children[1]
	},contentNode:function(){return this.domNode.children[1].firstChild
	},shadowNode:function(){return this.domNode.firstChild
	},arrowNode:function(){return this.domNode.children[2]
	}},setupScrollNodes:function D(){this.scrollNode=this.contentNode
	this.scrollbarHostNode=this.containerNode
	},_previousVisible:false,markupMethods:{onvisibleChange:function(){var R=this.domNode.style,Q=!!this.visible
	if(this._previousVisible!==Q){R.visibility="hidden"
	}R.display=Q?"block":"none"
	this._previousVisible=Q
	if(Q){if(!this.hasWidgetContent){this.contentNode.innerHTML=this.content
	I.recursiveReplaceInlineEventListeners(this.contentNode,false,this)
	}this.updatePosition()
	if(this.content){G.call(this)
	}}},onleftChange:G,ontopChange:G,onrefNodeChange:G,onposTypeChange:G,oncontentNodeCssClassChange:G,oncontentNodeCssTextChange:G,oncontentChange:G,oncssClassChange:G},preBuildRendering:function N(){if(!this.slot&&!this.placeholder){this.placeholder=document.body.appendChild(document.createElement("div"))
	}return this._super()
	},updatePosition:function H(X){if(!this.visible&&!X){return 
	}var W=this.refNode,U
	if(W){if(!this.offsetAlgo){U=L.offset(W,document.body)
	}else{var h=W.getBoundingClientRect(),k=document.documentElement.getBoundingClientRect()
	U={left:h.left-k.left,top:h.top-k.top}
	}}else{U={left:I.getHorizontalScroll(),top:I.getVerticalScroll()}
	}var q=this.domNode.style,j=this.containerNode,n=j.offsetWidth,b=j.offsetHeight,R=this.posType,e=R.indexOf("R")>-1,Y=R.indexOf("B")>-1,d=this.top!==null?parseInt(this.top,10)+U.top-(Y?b:0):null,S=this.left!==null?parseInt(this.left,10)+U.left-(e?n:((R.indexOf("C")>-1)?Math.floor(n/2):0)):null,o=false,c=false,f,Z,m=I.windowDim(),l=I.getHorizontalScroll()+m.w,Q=I.getVerticalScroll()+m.h,g=this.arrowNode,p=null
	if(S!==null){f=Math.min(Math.max(S,0),l-n)
	q.left=f+"px"
	o=S!==f
	}if(d!==null){Z=Math.min(Math.max(d,0),Q-b)
	q.top=Z+"px"
	c=d!==Z
	}if(o||c){var a,t=this.keepArrowXPos&&o,r=this.keepArrowYPos&&c
	if(t||r){p=M.getComputedStyle(g)
	a=p.left
	}if(a&&mstrmojo.string.endsWith(a,"%")){a=parseFloat(a)/100*n
	}if(t){g.style.left=(parseInt(a,10)+S-f)+"px"
	}if(r){g.style.top=(parseInt(p.top,10)+d-Z)+"px"
	}}M.toggleClass(this.domNode,"offset",o||c)
	},_on_tooltip_change:function(Q){B(this,Q&&Q.src)
	},_set_opener:function(U,S){var R=this.opener,Q=S!==R
	if(Q){if(S){C(S,this)
	}if(R){C(S,this,true)
	}if(R&&R.detachEventListener){R.detachEventListener(this._richSubs)
	R.detachEventListener(this._ttpSubs)
	}if(S&&S.attachEventListener){this._richSubs=S.attachEventListener("richTooltipChange",this.id,"_on_tooltip_change")
	this._ttpSubs=S.attachEventListener("tooltipChange",this.id,"_on_tooltip_change")
	}this.opener=S
	}return Q
	},updatePopupConfig:function(Q,R){B(this,R,Q&&Q.e,Q&&Q.win)
	},onscroll:function K(){if(this.visible&&this.nudge){this.nudge()
	}this._super()
	},onmouseover:mstrmojo.emptyFn,onmouseout:mstrmojo.emptyFn})
	var J=null
	mstrmojo.tooltip={POS_TOPLEFT:"TL",POS_BOTTOMLEFT:"BL",POS_TOPRIGHT:"TR",POS_BOTTOMRIGHT:"BR",POS_BOTTOMCENTER:"BC",POS_TOPCENTER:"TC",open:function F(R,U,S,Q){if(R&&R.hasWidgetContent&&J){J.destroy()
	}if(!J||!mstrmojo.all[J.id]){J=new mstrmojo.Tooltip()
	}Q=Q||{}
	Q.e=U
	Q.win=S
	J.open(R,Q)
	R.tooltip=J
	},close:function P(){if(J&&!J.allowOtherTooltips){var Q=J.opener
	if(Q){Q.tooltip=null
	}J.close()
	if(Q&&Q.hasWidgetContent){J.destroy()
	}}}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.Widget","mstrmojo.css","mstrmojo.dom","mstrmojo.func","mstrmojo.vi.util.A11yUtility")
	var e=mstrmojo.css,G=mstrmojo.dom,Z=mstrmojo.func,R=mstrmojo.vi.util.A11yUtility
	var f={9:"Tab",13:"Enter",27:"Esc",38:"ArrowUp",40:"ArrowDown"}
	function A(){var j=this.value,h=this.inputNode,k=h.value,g=(j!==null&&j!==undefined)?String(j):""
	if(g!==k&&(!this.keepEmpty||k!==this.emptyText)){h.value=g
	}if(h.mstrmojoEmpty){e.removeClass(h,[this.emptyClass])
	h.mstrmojoEmpty=null
	}}function d(){var g=this.inputNode
	g.value=this.emptyText||""
	e.addClass(g,[this.emptyClass])
	g.mstrmojoEmpty=true
	}function P(){var g=this.inputNode
	if(g){this.readingDom=true
	this.set("value",g.value)
	this.readingDom=false
	}}function b(g){var h=this
	if(g===-1){P.call(this)
	}else{if(this._lastTimeoutId){window.clearTimeout(this._lastTimeoutId)
	}this._lastTimeoutId=window.setTimeout(function(){delete h._lastTimeoutId
	P.call(h)
	},g||100)
	}}mstrmojo.TextBox=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.TextBox",value:"",type:"text",hint:"",readOnly:false,size:"",maxLength:"",cssDisplay:"inline",tabIndex:"",emptyText:"",keepEmpty:false,emptyClass:"mstrmojo-empty",valueChangeDelay:-1,textValid:true,autoComplete:true,autoCorrect:true,autoCapitalize:true,spellCheck:true,markupString:'<input id="{@id}" class="mstrmojo-TextBox {@cssClass}"  style="{@cssText}" title="{@tooltip}" type="{@type}" value="" size="{@size}" maxlength="{@maxLength}" index="{@tabIndex}"min="{@min}" max="{@max}" placeholder="{@hint}" mstrAttach:focus,keyup,blur,paste,cut,input,click,keydown,mousedown  tstid="{@tstid}"/>',markupSlots:{inputNode:function D(){return this.domNode
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onwidthChange:mstrmojo.Widget.widthMarkupMethod,onheightChange:mstrmojo.Widget.heightMarkupMethod,oncssClassChange:function X(){this.inputNode.className="mstrmojo-TextBox "+(this.cssClass||"")
	},onhintChange:function Q(){this.inputNode.setAttribute("placeholder",this.hint)
	},onenabledChange:function E(){var g=this.inputNode
	g.disabled=!this.enabled
	e.toggleClass(g,"disabled",!this.enabled)
	},onvalueChange:function S(){var g=this.value,h=(g===undefined)||(g===null)||(g==="")
	if(h){if(!this.hasFocus){d.call(this)
	}else{this.inputNode.value=""
	}}else{A.call(this)
	}if(G.isIE9){this.inputNode.type=h?"text":this.type
	}},ontooltipChange:function W(){this.domNode.title=this.tooltip
	},onreadOnlyChange:function I(){this.inputNode.readOnly=this.readOnly
	},ontextValidChange:function B(){e.toggleClass(this.inputNode,["err"],!this.textValid)
	}},postBuildRendering:function a(){this._super()
	var g=this,h=this.inputNode
	if(this.autoComplete=="new-password"){h.setAttribute("autocomplete","new-password")
	}else{h.setAttribute("autocomplete",this.autoComplete?"on":"off")
	}h.setAttribute("autocorrect",this.autoCorrect?"on":"off")
	h.setAttribute("autocapitalize",this.autoCapitalize?"on":"off")
	h.setAttribute("spellcheck",this.spellCheck?"on":"off")
	if(this.enableAccessibility){h.setAttribute("tabindex","-1")
	h.onblur=Z.composite([h.onblur||mstrmojo.emptyFn,function(){g.loseFocus()
	}])
	}},focus:function U(){if(this.inputNode&&this.inputNode.offsetParent){try{this.inputNode.focus()
	}catch(g){}}},grabFocus:function O(g){if(!this.enableAccessibility){return 
	}var h=this.inputNode
	if(g){h.focus()
	}h.onblur=mstrmojo.func.composite([h.onblur||mstrmojo.emptyFn,function(){e.removeClass(h,R.CSS_FOCUS_VISIBLE)
	}])
	e.addClass(h,R.CSS_FOCUS_VISIBLE)
	},loseFocus:function F(h){if(!this.enableAccessibility){return 
	}var g=this.inputNode
	if(h){g.blur()
	}e.removeClass(g,R.CSS_FOCUS_VISIBLE)
	},prefocus:function N(){this.hasFocus=true
	A.call(this)
	},blur:function Y(){this.inputNode.blur()
	},preblur:function c(){window.setTimeout(function(){},200)
	this.hasFocus=false
	P.call(this)
	var g=this.value
	if(((g===null||g==="")&&this.emptyText)||(this.keepEmpty&&g===this.emptyText)){d.call(this)
	}},prekeyup:function J(h){var g=h.hWin,j=h.e||g.event
	b.call(this,this.valueChangeDelay)
	var k=f[j.keyCode]
	if(this["on"+k]){this["on"+k](h)
	}},preinput:function K(){b.call(this,this.valueChangeDelay)
	},prepaste:function L(){b.call(this)
	},precut:function H(){b.call(this)
	},setInvalidState:function C(g){this.set("textValid",false)
	if(g){this.domNode.setAttribute("title",g)
	}},cleanUp:function M(){this.inputNode.value=""
	this.set("textValid",true)
	this.domNode.setAttribute("title",this.tooltip)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._Formattable","mstrmojo._ContainsDocObjects","mstrmojo._HasBuilder")
	mstrmojo.rw.DocSubsection=mstrmojo.declare(mstrmojo.Container,[mstrmojo._Formattable,mstrmojo._ContainsDocObjects,mstrmojo._HasBuilder],{scriptClass:"mstrmojo.rw.DocSubsection",markupString:'<div id="{@id}" k="{@k}" class="mstrmojo-DocSubsection" style="{@domNodeCssText}"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},formatHandlers:{domNode:["D","B","background-color","fx"]},update:function C(E){var D=E.data.tid
	if(this.thresholdId||D){delete this.fmts
	}this.thresholdId=D
	if(this._super){this._super(E)
	}},postBuildRendering:function B(){return(this.renderMode!=="scroll")?this._super():true
	},childRenderOnAddCheck:function A(D){return(this.renderMode!=="scroll")?this._super(D):false
	},preserveChildDomOrder:false,performCanGrowCanShrink:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Label","mstrmojo._HasEditableText","mstrmojo.css","mstrmojo._CanHandleTwoClicks","mstrmojo.Label","mstrmojo.Widget")
	var C=mstrmojo.css,A=mstrmojo.Label.prototype.markupMethods
	mstrmojo.EditableLabel=mstrmojo.declare(mstrmojo.Label,[mstrmojo._CanHandleTwoClicks,mstrmojo._HasEditableText],{scriptClass:"mstrmojo.EditableLabel",autoApplyDelay:-1,markupString:'<div id="{@id}" class="mstrmojo-EditableLabel {@cssClass}" title="{@title}" contenteditable="{@isEditing}" style="{@cssText}" mstrAttach:click,mousedown,blur,keydown,keyup></div>',markupMethods:mstrmojo.hash.copy({onwidthChange:function(){mstrmojo.Widget.widthMarkupMethod.call(this)
	},ontextChange:function(){if(A.ontextChange){A.ontextChange.call(this)
	}this.widgetResized()
	},onvisibleChange:function(){if(A.onvisibleChange){A.onvisibleChange.call(this)
	}if(this.visible){this.widgetResized()
	}}},mstrmojo.hash.copy(A)),onkeyup:function E(F){this._super(F)
	if(this._autoApplyTimer){window.clearTimeout(this._autoApplyTimer)
	}if(this.autoApplyDelay!==-1){var G=this
	this._autoApplyTimer=window.setTimeout(function(){G.set("isEditing",false)
	},this.autoApplyDelay)
	}},postBuildRendering:function D(){if(this._super){this._super()
	}this.widgetResized()
	},selectable:true})
	mstrmojo._HasMarkup.addMarkupMethods(mstrmojo.EditableLabel,{onselectableChange:function B(){var G=this[this.editableSlot],F=!!this.selectable
	G.selectable=F
	G.setAttribute("unselectable",!F?"on":"off")
	C.toggleClass(G,"unselectable",!F)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Label","mstrmojo.css","mstrmojo.hash")
	mstrmojo.TristateCheckBox=mstrmojo.declare(mstrmojo.Label,null,{scriptClass:"mstrmojo.TristateCheckBox",grayed:true,checked:true,cssClass:"tristate",onclick:function(){if(this.grayed){this.set("grayed",!this.grayed)
	}else{this.set("checked",!this.checked)
	}},markupMethods:mstrmojo.hash.copy({oncheckedChange:function(){mstrmojo.css.toggleClass(this.domNode,"checked",this.checked)
	},ongrayedChange:function(){mstrmojo.css.toggleClass(this.domNode,"grayed",this.grayed)
	},onenabledChange:function(){mstrmojo.css.toggleClass(this.domNode,"disabled",!this.enabled)
	}},mstrmojo.hash.copy(mstrmojo.Label.prototype.markupMethods))})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Button")
	mstrmojo.MenuItem=mstrmojo.declare(mstrmojo.Button,null,{scriptClass:"mstrmojo.MenuItem",markupString:'<div id="{@id}" class="mstrmojo-MenuItem {@cssClass} {@iconClass}" title="{@title}" style="{@cssText}" mstrAttach:click><div class="mstrmojo-MenuItem-text"></div></div>',markupSlots:{textNode:function(){return this.domNode.firstChild
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Button")
	mstrmojo.HTMLButton=mstrmojo.declare(mstrmojo.Button,null,{scriptClass:"mstrmojo.HTMLButton",markupString:'<input id="{@id}" type="button" class="mstrmojo-text mstrmojo-HTMLButton mstrButton {@cssClass} {@iconClass}" title="{@title}" style="{@cssText}" mstrAttach:click />',markupSlots:{inputNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"inline":"none"
	},onenabledChange:function(){mstrmojo.css[this.enabled?"removeClass":"addClass"](this.domNode,["disabled"])
	},onselectedChange:function(){mstrmojo.css[this.selected?"addClass":"removeClass"](this.domNode,["selected"])
	},ontextChange:function(){this.inputNode.value=this.text!=null?this.text:""
	},oniconClassChange:function(){this.domNode.className="mstrmojo-text mstrmojo-HTMLButton mstrButton "+this.cssClass+" "+this.iconClass+(this.enabled?"":" disabled")
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.EnumRWUnitType","mstrmojo.vi.viz.EnumVizStyles","mstrmojo.hash","mstrmojo.Button","mstrmojo.vi.ui.rw._IsOutlineXtab","mstrmojo.util.XtabHelper","mstrmojo.css")
	mstrmojo.requiresDescs(619,1442,15963,16112,16113)
	var B=mstrmojo.EnumRWUnitType,A=mstrmojo.vi.viz.EnumVizStyles,R=mstrmojo.hash,C={},N=mstrmojo.array,Y=mstrmojo.DynamicClassFactory.newComponent,S=mstrmojo.util.XtabHelper
	C[B.HEADER]=C[B.FOOTER]=C[B.PAGEHEADER]=C[B.PAGEFOOTER]=C[B.DETAILS]={n:"Section"}
	C[B.HTMLCONTAINER]={n:"HTMLContainer"}
	C[B.SURVEYCONTAINER]={n:"SurveyContainer"}
	C[B.SELECTOR]={n:"Selector"}
	C[B.GRID]={n:"Xtab"}
	C[B.MOJOVISUALIZATION]={n:"MojoVisualization"}
	C[B.SHAPE]={n:"Shape"}
	function D(d){return(d&&d.t)||mstrmojo.EnumRWUnitType.LAYOUT
	}mstrmojo.DocBuilder=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.DocBuilder",visList:null,selectorFactory:null,classMap:null,init:function X(d){this._super(d)
	var e=this.selectorFactory=this.createSelectorFactory()
	this.addDisposable(e)
	this.classMap=this.createClassMap()
	},createSelectorFactory:function c(){this.throwAbstractMethodError("getSelectorFactory")
	},createClassMap:function F(){return R.copy(C)
	},getMojoVisName:function Z(g){var f=g.data,h=f&&f.visName||"",d=D(g.defn),e=f&&f.vis
	if(!h){if(e&&(d===B.GRID||d===B.GRAPH||d===B.GRIDGRAPH)){if(e.vn&&e.ve&&e.vm===51){h=R.walk("dz.visProp.fmt.visStyle",f)||e.vn
	}else{if(e.we&&e.wcn){h=this.visList.findVisName(e.wcn)
	}}}}if(h===A.NEW_GRAPH_MATRIX){if(mstrApp.supportFeature&&mstrApp.supportFeature("ngm")){if(mstrApp.supportFeature("ngmPartial")){if(N.indexOf([76,79,80,81,82],R.walk("data.dz.visProp.fmt.visType",g))<0){h=A.GRAPH_MATRIX
	}}}else{h=A.GRAPH_MATRIX
	}}return h
	},build:function Q(d,l,u){var r=this.classMap,m=[],o=((d&&d.length)||0),k,g,h,e,j,f,q,p,t
	for(k=0
	k<o
	k++){g=d[k]
	h=g&&g.defn
	e=g&&g.data
	j=D(h)
	f=r[j]
	if(l.isMapLayerNode(g.k)){continue
	}if(j===B.TEXTFIELD&&((h&&h.dpst))){f=r[j+"B"]
	}q=this.getMojoVisName(g)
	if(q){e.visName=q
	f=C[B.MOJOVISUALIZATION]
	}if((q||j===B.GRID)&&h.iifp){f=C[B.SELECTOR]
	h.style=mstrmojo.DocSelector.STYLES.VISUALIZATION
	}p=(f&&f.n)?"new"+f.n:""
	t=undefined
	if(this[p]){t=this[p](l,g,f,u)
	}else{if(f&&f.scriptClass){var n=f.cls
	if(!n){n=R.walk(f.scriptClass,window)
	}if(n){t=this.newRWUnitInstance(l,g,n)
	}}}if(t){t.k=g.k
	t.builder=this
	t.tooltip=e.tooltip||h.tooltip||""
	if(h.iifp){t.style=mstrmojo.DocSelector.STYLES.VISUALIZATION
	}if(!t.defn){t.defn=h
	delete t.defn.destroyed
	t.addDisposable(t.defn)
	}if(t.update){t.update(g)
	}if(this.isPortlet(h)){t=this.createPortlet(j,g,t,u)
	}if(!this.extractWidget(t,g)){m.push(t)
	}}}return m
	},createPortlet:function H(e,f,d,g){return d
	},newRWUnitInstance:function W(d,f,g,e){return new g(R.copy(e||{},{id:f.id,node:f,controller:this.parent.controller,model:d}))
	},newSection:function a(d,e){this.throwAbstractMethodError("newSection")
	},newSelector:function M(f,g,e,h){var d=this.selectorFactory.newDocSelector(f,g,e,h)
	d.controller=this.parent.controller
	return d
	},isPortlet:function U(d){return !!((d.t!==B.PANEL&&d.ttl!==undefined)||d.qsm)
	},extractWidget:function P(e,d){return !e
	},getDefaultMojoVisModel:function J(){this.throwAbstractMethodError("getDefaultMojoVisModel")
	},newMojoVisualization:function(j,u,AE,r,l){var w=this.visList,e=u.data,AD=e.visName===A.ESRI_MAP?A.GOOGLE_MAP:e.visName,v=l?undefined:w.getVis(AD),AA=v&&((v.dc!==undefined)?v.dc:v.c),AF=this
	if(!v){var g=e.className,AG=false
	if(!g){if(!this._widgetNotFound){this._widgetNotFound=[]
	}N.forEach(this._widgetNotFound,function(AI){if(AI.name===AD){AG=true
	}})
	if(!AG){this._widgetNotFound.push({key:e.k,name:AD})
	}var m=mstrApp.isWorkstation,AB=m&&mstrApp.env.isDesktop(),o=m&&!(parseInt(mstrApp.env.isWSLiveMode(),10)===1),h=o?16113:16112,x=o?'The following custom visualization(s) plug-in(s) used in this dossier are not deployed in $$$$, so the data will be displayed in tabular form:<br>####<br><br>Click on the "plus" button in the Visualizations Gallery to import custom visualization plug-in(s).':"The following custom visualization(s) plug-in(s) used in this dossier are not deployed in your environment, so the data will be displayed in tabular form:<br>####<br><br>Please contact your administrator to deploy these custom visualization plug-in(s)."
	if(!this._showWarning){this._showWarning=window.setTimeout(function(){var AI=[]
	N.forEach(this._widgetNotFound,function(AJ){AI.push(AJ.name)
	})
	mstrmojo.warn(mstrmojo.desc(h,x).replace("$$$$",AB?mstrmojo.desc(619,"Desktop"):mstrmojo.desc(15963,"Workstation")).replace("####",AI.join("<br>")),{},{buttons:[{scriptClass:"mstrmojo.Button",text:mstrmojo.desc(1442,"OK"),onclick:function(){delete AF._widgetNotFound
	delete AF._showWarning
	}}],allowHTML:true})
	}.bind(this),0)
	}var AH=this.newXtab(j,u)
	AH.cssDefault=!!AH.cssDefault?AH.cssDefault+" noVis":"noVis"
	return AH
	}v={dc:g}
	}var f="mstrmojo."+AA,q=v.b
	if(mstrApp.isVI&&v.vib){q=v.vib
	}else{if(mstrApp.isExpress&&v.oivmb){q=v.oivmb
	}}if(AA&&"plugins"===AA.substring(0,7)&&!mstrmojo.loader.isLoaded("mstrmojo.CustomVisBase")){q="vi-customvis.js"
	}if(q&&!mstrmojo.loader.isLoaded(f)){mstrmojo.requiresBundle(q)
	}mstrmojo.requiresCls(f)
	if(v.lib){var AC=mstrmojo.getJsRoot()
	var n=JSON.parse(v.lib)
	N.forEach(n,function(AI){mstrmojo.requiresDepLib(AC+AI[0],AI[1])
	})
	}var d=this.visList.getVis(AD).m,t=R.walk(AA,mstrmojo),z=d?R.walk(d,mstrmojo):this.getDefaultMojoVisModel()
	if(!t||!z){console.error("Missing visualization class.")
	return this.newMojoVisualization(j,u,AE,r,true)
	}t=w.getVisClass(t,u.defn)
	var p=new t(R.copy(e.extProps,{id:u.id,node:u,n:u.defn.title,controller:this.parent.controller,gb:e.gbys}))
	var k=new z({xtab:p,controller:this.parent.controller,docModel:j})
	p.setModel(k)
	k.set("data",e)
	return p
	},getModelClassByVisName:function L(f){var d,g,e=this.visList.getVis(f)
	if(!e){return null
	}d=e.m
	g=d?R.walk(d,mstrmojo):this.getDefaultMojoVisModel()
	return g
	},getEditableXtab:function G(d){this.throwAbstractMethodError("getEditableXtab")
	},getDefaultXtab:function E(d){this.throwAbstractMethodError("getDefaultXtab")
	},getCustomSortXtab:function I(){this.throwAbstractMethodError("getCustomSortXtab")
	},getXtabProps:function O(){return{}
	},newXtab:function K(f,g,e,k){var j=mstrmojo.all[g.id]
	if(!j){var d=g.defn.iics?this.getCustomSortXtab():(g.defn.txi?this.getEditableXtab(g):this.getDefaultXtab(k,g)),h=this.getXtabProps(g)
	if(S.isDisplayOutline(g.data,g.defn)){d=Y(d,[mstrmojo.vi.ui.rw._IsOutlineXtab])
	}j=this.newRWUnitInstance(f,g,d,h)
	j.model=this.newXtabModel({xtab:j,docModel:f})
	}else{j.set("node",g)
	j.model.set("docModel",f)
	}return j
	},newXtabModel:function b(d){this.throwAbstractMethodError("newXtabModel")
	}})
	mstrmojo.DocBuilder.ClassMapItemType=null
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.NumStepperContentProvider","mstrmojo.num","mstrmojo.array")
	var A=mstrmojo.num,E=mstrmojo.array
	var C="?"
	function B(H,G){var J=G?H.max:H.min,F=G?H.min:H.max,I=H.getValGroup(G?1:-1)
	return(J===null||(G?(I.every(function(K){return K<=J
	})):(I.every(function(K){return K>=J
	})))||(F!==null&&H.canLoop))
	}function D(I,H){var G=I.min,F=I.max,J=I.getValGroup(H?1:-1)||[]
	if((H&&F!==null&&J.some(function(K){return K>F
	})||(!H&&G!==null&&J.some(function(K){return K<G
	})))){if(I.canLoop){J.forEach(function(L,K){L=((L-G)%(F-G+1))+G
	L=(L>=G)?L:L+(F-G+1)
	J[K]=L
	})
	}else{return 
	}}I.item[I.valField]=I.curValGroup=J
	I.onTraverse()
	}mstrmojo.NumGroupStepperContentProvider=mstrmojo.declare(mstrmojo.NumStepperContentProvider,null,{scriptClass:"mstrmojo.NumGroupStepperContentProvider",curValGroup:null,init:function(F){this._super(F)
	},_initCurrent:function(){var H=this.item,F=this.curValGroup=H[this.valField]
	if(F===null||F===undefined){var G=this.min
	this.curValGroup=G!==null?[G]:0
	}this.curValGroup=E.ensureArray(this.curValGroup)
	},next:function(){D(this,true)
	},prev:function(){D(this,false)
	},hasPrev:function(){return B(this,false)
	},hasNext:function(){return B(this,true)
	},getValGroup:function(I){var F=this.curValGroup,G=this.interval,H=[]
	(F||[]).forEach(function(K,J){H[J]=F[J]+(G*(I||0))
	})
	return H
	},getVal:function(){var F=null
	(this.curValGroup||[]).forEach(function(G){if(F===null){F=G
	}else{if(F!==C&&G!==F){F=C
	}}})
	return F
	},setVal:function(H){var I=this.min,G=this.max,F=this.curValGroup
	if(typeof H!=="number"||isNaN(H)||A.inNumericRange(H,I,G)!==0){return 
	}(F||[]).forEach(function(K,J){F[J]=H
	})
	this.onTraverse()
	},_set_curValGroup:function(J,I){var H=this.min,G=this.max,F=this.getValGroup()
	if(I.some(function(K){return typeof K!=="number"
	})||I.some(function(K){return isNaN(K)
	})||I.every(function(L,K){return L===F[K]
	})||I.every(function(K){return A.inNumericRange(K,H,G)!==0
	})){return false
	}this.item[this.valField]=this.curValGroup=I
	return true
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ME.WorkstationPluginProxy")
	mstrmojo.ME.WorkstationPluginTransport={serverRequest:function A(F,E,C){if(!workstation){return 
	}function D(H,G){mstrApp.hideWait&&mstrApp.hideWait(true)
	mstrmojo.all[F]["response"](E,!!H,G)
	}mstrApp.workstationDataFetchTaskProc&&mstrApp.workstationDataFetchTaskProc(C.params).then(function(G){window.setTimeout(function(){D(true,G)
	},0)
	},function(G){window.setTimeout(function(){var H={code:G.iServerErrorCode,messagge:G.errorMessage}
	D(false,H)
	},0)
	})
	},cancelRequest:function B(C){return false
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListMapper")
	mstrmojo.ListMapperTable=mstrmojo.provide("mstrmojo.ListMapperTable",mstrmojo.hash.copy({markupPrefix:'<table class="mstrmojo-itemwrap-table">',markupSuffix:"</table>",itemWrapperPrefix:function(E){return'<tbody class="'+this.getWrapperCss(E)+'">'
	},itemWrapperPrefill:"<tr><td>&nbsp
	</td></tr>",itemWrapperSuffix:"</tbody>",wrapperNodes:function D(E){return this.wrapperParentNode(E).tBodies
	},wrapperParentNode:function C(E){return E.getElementsByTagName("table")[0]
	},createWrapperNode:function B(E){var F=E.ownerDocument,G=F.createElement("tbody")
	return G
	},findIndex:function A(G,J,I){if(J&&I){var F=G.domNode,E=this.wrapperParentNode(J),H=I.parentNode
	while(H){if(H===E){return mstrmojo.array.findBin(this.wrapperNodes(J),I,"offsetTop",G.items&&G.items.length)
	}else{if(H===F){break
	}}I=H
	H=I.parentNode
	}}return -1
	}},mstrmojo.hash.copy(mstrmojo.ListMapper)))
	mstrmojo.requiresCls("mstrmojo.WidgetListMapper")
	mstrmojo.WidgetListMapperTable=mstrmojo.provide("mstrmojo.WidgetListMapperTable",mstrmojo.mixin(mstrmojo._hasWidgetListMapper,mstrmojo.hash.copy(mstrmojo.ListMapperTable)))
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.hash","mstrmojo.array","mstrmojo.ServerProxy","mstrmojo.XHRServerTransport","mstrmojo.mstr.EnumFunction","mstrmojo.ME.WorkstationPluginProxy","mstrmojo.ME.WorkstationPluginTransport")
	var o=mstrmojo.array,j=mstrmojo.mstr.EnumFunction
	var O={"8107C31BDD9911D3B98100C04F2233EA":"Sum","548C68A0F60811D3ACC300C04F0423DE":"StdevP","8107C31FDD9911D3B98100C04F2233EA":"Max","8107C331DD9911D3B98100C04F2233EA":"GeoMean",B2C0FA4220C711D6AD1400C04F0423DE:"First","8107C32CDD9911D3B98100C04F2233EA":"Product",B2C0FA4020C711D6AD1400C04F0423DE:"Greatest","8107C330DD9911D3B98100C04F2233EA":"Var","8107C32FDD9911D3B98100C04F2233EA":"Stdev","8107C32DDD9911D3B98100C04F2233EA":"Median",B2C0FA4320C711D6AD1400C04F0423DE:"Last","8107C31CDD9911D3B98100C04F2233EA":"Count","8107C31DDD9911D3B98100C04F2233EA":"Avg","8107C31EDD9911D3B98100C04F2233EA":"Min","8107C32EDD9911D3B98100C04F2233EA":"Mode",D64F1B10F6C011D3ACC300C04F0423DE:"VarP",B2C0FA4120C711D6AD1400C04F0423DE:"Least"},R={"8107C326DD9911D3B98100C04F2233EA":"Rank"},AA={D221F90EB35540E3A1204ED6CC9A8267:"Avg",D221F90FB35540E3A1204ED6CC9A8267:"Count",D221F910B35540E3A1204ED6CC9A8267:"Max",D221F911B35540E3A1204ED6CC9A8267:"Min",D221F90DB35540E3A1204ED6CC9A8267:"Sum"},AB={"8107C32ADD9911D3B98100C04F2233EA":"Avg","8107C350DD9911D3B98100C04F2233EA":"Count","8107C34BDD9911D3B98100C04F2233EA":"Max","8107C34CDD9911D3B98100C04F2233EA":"Min","8107C32BDD9911D3B98100C04F2233EA":"Sum"},t={"8107C329DD9911D3B98100C04F2233EA":"Avg","8107C354DD9911D3B98100C04F2233EA":"Count","8107C351DD9911D3B98100C04F2233EA":"Max","8107C352DD9911D3B98100C04F2233EA":"Min","8107C328DD9911D3B98100C04F2233EA":"Sum"},Z={"8107C337DD9911D3B98100C04F2233EA":"Banding","8107C338DD9911D3B98100C04F2233EA":"BandingC","8107C339DD9911D3B98100C04F2233EA":"BandingP"},H={"8107C31DDD9911D3B98100C04F2233EA":"Avg","8107C31CDD9911D3B98100C04F2233EA":"Count",B2C0FA4220C711D6AD1400C04F0423DE:"First","8107C331DD9911D3B98100C04F2233EA":"GeoMean",B2C0FA4320C711D6AD1400C04F0423DE:"Last","8107C31FDD9911D3B98100C04F2233EA":"Max","8107C32DDD9911D3B98100C04F2233EA":"Median","8107C31EDD9911D3B98100C04F2233EA":"Min","8107C32EDD9911D3B98100C04F2233EA":"Mode","8107C32CDD9911D3B98100C04F2233EA":"Product","8107C32FDD9911D3B98100C04F2233EA":"Stdev","548C68A0F60811D3ACC300C04F0423DE":"StdevP","8107C31BDD9911D3B98100C04F2233EA":"Sum","8107C330DD9911D3B98100C04F2233EA":"Var",D64F1B10F6C011D3ACC300C04F0423DE:"VarP",A202C23DDD9D11D3B98100C04F2233EA:"Fvschedule",A202C23CDD9D11D3B98100C04F2233EA:"IRR",A202C240DD9D11D3B98100C04F2233EA:"MIRR",A202C23EDD9D11D3B98100C04F2233EA:"NPV","8107C34ADD9911D3B98100C04F2233EA":"Percentile","9C374203DD9F11D3B98100C04F2233EA":"AvgDev","9C374228DD9F11D3B98100C04F2233EA":"ChiSquareTest","9C374225DD9F11D3B98100C04F2233EA":"Correlation","9C374224DD9F11D3B98100C04F2233EA":"Covariance","9C374237DD9F11D3B98100C04F2233EA":"ForecastV","9C37422FDD9F11D3B98100C04F2233EA":"FTest","9C374234DD9F11D3B98100C04F2233EA":"GrowthV","9C37422EDD9F11D3B98100C04F2233EA":"HeteroscedasticTTest","9C37422DDD9F11D3B98100C04F2233EA":"HomoscedasticTTest","9C37422ADD9F11D3B98100C04F2233EA":"Intercept","9C374204DD9F11D3B98100C04F2233EA":"Kurtosis","9C374222DD9F11D3B98100C04F2233EA":"MeanTTest","9C37422CDD9F11D3B98100C04F2233EA":"PairedTTest","9C374226DD9F11D3B98100C04F2233EA":"Pearson","9C374227DD9F11D3B98100C04F2233EA":"RSquare","9C374205DD9F11D3B98100C04F2233EA":"Skew","9C374229DD9F11D3B98100C04F2233EA":"Slope","9C37422BDD9F11D3B98100C04F2233EA":"SteYX","9C374231DD9F11D3B98100C04F2233EA":"TrendV","9C374223DD9F11D3B98100C04F2233EA":"VarTest","4A99DC7BC5254A319F6B8098E7D652C1":"ConcatAgg"},b={AND283:"And",OR284:"Or",NOT285:"Not",IF305:"If"},q={BEGINSWITH279:"Begins with",ENDSWITH279:"Ends with",IN289:"In",BETWEEN290:"Between",CONTAINS291:"Contains",LIKE291:"Like"}
	function Q(AG){var AE=function(AI,AH){return mstrmojo.array.stringSorter(AI.n,AH.n)
	},AF,AD
	AG=AG.sort(AE)
	for(AF=0,AD=AG.length
	AF<AD
	AF++){AG[AF].fns=AG[AF].fns.sort(AE)
	}return AG
	}function a(AG,AH){var AD=AG.length,AF
	for(AF=0
	AF<AD
	AF++){var AE=AG[AF].fns
	if(mstrmojo.array.find(AE,"did",AH)>-1){return AF
	}}return -1
	}function M(AE){var AD=mstrApp&&mstrApp.useQuickSearch&&mstrApp.useQuickSearch()
	AE=mstrmojo.hash.copy(AE,{taskId:"searchMetadata",recursive:true,styleName:"MojoFolderStyle",includeObjectDesc:true,includeAncestorInfo:false})
	if(AD){AE.quickSearch=AD
	AE.nameWildcards=16
	AE.sortKey=-1
	}return AE
	}function I(AE,AD){if(mstrApp.serverRequest){mstrApp.serverRequest(AD,AE)
	}else{window.$MAPF=function(){return false
	}
	this.getServerProxy().request(AE,AD,false,{})
	}}mstrmojo.ME.MetricDataService=mstrmojo.provide("mstrmojo.ME.MetricDataService",{rootFolderTypes:{ALL:39,FILTERS:4,METRICS:5,FACTS:29,SCHEMA:24,ATTRIBUTES:26,TRANSFORMATIONS:38},blockCount:10,suggestCount:10,suggestDelay:200,noCache:true,functions:null,metricComponents:null,functionsDetails:null,getServerProxy:function F(){if(!this.serverProxy){if(mstrApp.isWorkstationPlugin){this.serverProxy=new mstrmojo.ME.WorkstationPluginProxy({transport:mstrmojo.ME.WorkstationPluginTransport})
	}else{this.serverProxy=new mstrmojo.ServerProxy({transport:mstrmojo.XHRServerTransport})
	}}return this.serverProxy
	},getMetricDefintion:function U(AF,AD){var AE={taskId:"getMetricDefinition",metricId:AF.id,outputFlags:65599}
	if(AF.msgID){AE.msgID=AF.msgID
	}I.call(this,AD,AE)
	},validateMetric:function g(AF,AD){var AE={taskId:"validateMetric",metricId:AF.metricId,tokenStreamXML:AF.tokenStreamXML,metricXML:AF.metricXML,outputFlags:327695}
	if(mstrmojo.string.isEmpty(AF.metricId)){AE.isNew=true
	}if(AF.msgID){AE.msgID=AF.msgID
	}if(AF.formID){AE.frmid=AF.formID
	}if(AF.isIDForm){AE.isIDForm=AF.isIDForm
	}if(AF.objectType){AE.objectType=AF.objectType
	}I.call(this,AD,AE)
	},getMetricComponents:function B(AH,AE){var AD=this,AF=this.metricComponents
	if(!this.noCache&&AF&&AF.items.length==AF.sz){AE.success(AF)
	return 
	}AE.success=mstrmojo.func.composite([AE.success,function(AI){if(AD.metricComponents&&AD.metricComponents.items){AD.metricComponents.items.push(AI.items)
	}else{AD.metricComponents=AI
	}}])
	var AG=M({blockBegin:AH.blockBegin,blockCount:AH.blockCount,searchPattern:AH.pattern,rootFolderType:AH.rootFolderType||24,objectType:AH.objectType||"12,13,43"})
	I.call(this,AE,AG)
	},getAttributes:function S(AF,AD){var AE=M({blockBegin:AF.blockBegin,blockCount:AF.blockCount,searchPattern:AF.pattern,rootFolderType:AF.rootFolderType||26,objectType:12})
	I.call(this,AD,AE)
	},getFacts:function L(AF,AD){var AE=M({blockBegin:AF.blockBegin,blockCount:AF.blockCount,searchPattern:AF.pattern,rootFolderType:AF.rootFolderType||29,objectType:13})
	I.call(this,AD,AE)
	},getMetrics:function G(AF,AD){var AE=M({blockBegin:AF.blockBegin,blockCount:AF.blockCount,searchPattern:AF.pattern,rootFolderType:AF.rootFolderType||5,objectType:4})
	if(AF.isVerify){AE.nameWildcards=2
	}I.call(this,AD,AE)
	},getFunctions:function W(AI){var AK=this,AL=window.sessionStorage,AH=this.functions||(AL&&AL.getItem("functions")),AJ=AL&&AL.getItem("mstrLocaleId"),AF=mstrApp&&mstrApp.localeId
	if(AH&&AJ==AF){AH=Q(JSON.parse(AH).fncs)
	AI.success(AH)
	}else{var AE={failure:AI.failure,textResponse:true},AG={taskId:"getSystemFunctions",includeFunctionDetails:true,functionFlags:2|2147483648,includeFunctionHelpTopic:true}
	var AD=function(AM){o.forEach(AM,function(AO){var AN=AO&&AO.fns
	o.forEach(AN,function(AQ){var AP=AQ.pros
	var AR=o.filterOne(AP,function(AS){return AS.n==="UseLookupForAttributes"
	})
	if(AR){AR.dfv="0"
	}})
	})
	}
	AE.success=function(AM){if(typeof AM==="string"||(!mstrApp.isSingleTier&&(!mstrApp.isWorkstationPlugin||typeof mstrApp.isSingleTier!=="undefined"))){AM=AM.replace(/\\'/g,"'")
	var AO=JSON.parse(AM),AN=AO.fncs
	AD(AN)
	AM=JSON.stringify(AO)
	if(AL){AL.setItem("functions",AM)
	AL.setItem("mstrLocaleId",AF)
	}AK.functions=AM
	AH=Q(JSON.parse(AM).fncs)
	}else{AD(AM.fncs)
	AH=Q(AM.fncs)
	AK.functions=JSON.stringify(AM)
	}AI.success(AH)
	}
	I.call(this,AE,AG)
	}},getAggFunctions:function C(){if(this._aggFunctions){return this._aggFunctions
	}var AD=this.parseFuncStr()
	AD=mstrmojo.array.filter(AD[this.getBasicCategoryIndex(AD)].fns,function(AF){var AE=AF.did,AG
	if(AE!=="B2C0FA4020C711D6AD1400C04F0423DE"&&AE!=="B2C0FA4120C711D6AD1400C04F0423DE"){AG=O[AE]
	}return AG
	})
	return AD
	},getOLAPAggFunctions:function E(AD){var AE=this.parseFuncStr()
	AE=mstrmojo.array.filter(AE[this.getOLAPCategoryIndex(AE)].fns,function(AF){switch(AD){case"moving":return AB[AF.did]
	case"running":return t[AF.did]
	case"olap":default:return AA[AF.did]
	}return false
	})
	return AE
	},getFunctionCatList:function v(){if(this._functionCatList){return this._functionCatList
	}var AD=this.parseFuncStr()
	AD=mstrmojo.hash.make(AD,mstrmojo.Arr)
	this._functionCatList=AD
	return AD
	},getCategoryIndex:function u(AE,AD){return a(AD||this.getFunctionCatList(),AE)
	},getBasicCategoryIndex:function J(AE){var AD="B2C0FA4020C711D6AD1400C04F0423DE"
	return a(AE||this.getFunctionCatList(),AD)
	},getDataMiningCatIndex:function m(AD){var AE="F17CD4F3FF134D91B80DDAB9CA73C919"
	return a(AD||this.getFunctionCatList(),AE)
	},getDateTimeCategoryIndex:function z(AE){var AD="C50F2A4F75AE49D6B20E00224967B500"
	return a(AE||this.getFunctionCatList(),AD)
	},getStringCategoryIndex:function k(AE){var AD="6F7DF5FF449111D5BEA300B0D01A55EF"
	return a(AE||this.getFunctionCatList(),AD)
	},getOLAPCategoryIndex:function J(AE){var AD="D221F90EB35540E3A1204ED6CC9A8267"
	return a(AE||this.getFunctionCatList(),AD)
	},getInternalCategoryIndex:function X(AE){var AD="8107C337DD9911D3B98100C04F2233EA"
	return a(AE||this.getFunctionCatList(),AD)
	},getFunctionDetails:function w(AF,AD){var AE={taskId:"getSystemFunctions",functionId:AF.did,includeFunctionDetails:true,includeFunctionHelpTopic:true}
	I.call(this,AD,AE)
	},getTransformations:function P(AF,AD){var AE=M({blockBegin:AF.blockBegin,blockCount:AF.blockCount,searchPattern:AF.pattern,rootFolderType:AF.rootFolderType||38,objectType:43})
	I.call(this,AD,AE)
	},getFilters:function n(AF,AD){var AE=M({blockBegin:AF.blockBegin,blockCount:AF.blockCount,searchPattern:AF.pattern,rootFolderType:AF.rootFolderType||4,objectType:1})
	I.call(this,AD,AE)
	},getAttributeForms:function h(AF,AD){var AE={taskId:"getAttributeForms",attributeID:AF.attributeID,displayedForms:AF.displayedForms,styleName:"WidgetElementListStyle"}
	I.call(this,AD,AE)
	},getSubtotalFunctions:function Y(AF,AD){var AE=M({objectType:"1025,1026",searchPattern:""})
	I.call(this,AD,AE)
	},isBasicAggMap:function p(AD){var AE=!!O[AD]
	if(AD==="B2C0FA4020C711D6AD1400C04F0423DE"||AD==="B2C0FA4120C711D6AD1400C04F0423DE"){AE=false
	}return AE
	},isOLAPAgg:function AC(AD){return !!AA[AD]
	},isMovingAgg:function c(AD){return !!AB[AD]
	},isRunningAgg:function f(AD){return !!t[AD]
	},isBanding:function l(AD){return !!Z[AD]
	},isOLAP:function K(AE){var AF=this.getFunctionCatList(),AD=AF[this.getOLAPCategoryIndex(AF)].fns
	return mstrmojo.array.find(AD,"did",AE)>-1
	},isRank:function D(AD){return !!R[AD]
	},isScalar:function e(AD){return(AD||{}).sqt===3
	},hasLookupForAttributesProps:function(AD){return !!H[AD]
	},getFunctionHelpTopic:function r(AD){var AE="<div class='func-details' mstreventmark='showFunctionHelpTopicNode' mstrevent='click' onclick='mstrmojo.ME.MetricDataService.showFunctionHelpTopic(\"##HELPTOPIC##\")'>"+mstrmojo.desc(5811,"Details...")+"</div>"
	if(mstrApp.isWorkstationPlugin){AE="<div class='func-details'><a href="+mstrmojo.ME.MetricDataService.getFunctionHelpTopicUrl("##HELPTOPIC##")+" target='_blank'>"+mstrmojo.desc(5811,"Details...")+"</a></div>"
	}AE=AE.replace("##HELPTOPIC##",AD)
	return AE
	},showFunctionHelpTopic:function x(AE){var AF=mstrApp.isSingleTier,AD=((mstrApp.helpUrl||"../help/")+"FunctionsRef/")
	if(AF){AD=AD+"index.htm#cshid="+(AE||"")
	window.FormWrapper.openPage(AD)
	}else{if(AE){AD=AD+"Content/"+AE+".htm"
	}else{AD=AD+"index.htm"
	}window.open(AD)
	}return false
	},getFunctionHelpTopicUrl:function N(AE){var AD=((mstrApp.helpUrl||"../help/")+"FunctionsRef/")
	if(AE){AD=AD+"Content/"+AE+".htm"
	}else{AD=AD+"index.htm"
	}return AD
	},sortFunctions:function A(AE){var AF={},AD=function(AH,AG){return mstrmojo.array.stringSorter(AH.n,AG.n)
	}
	mstrmojo.array.forEach(AE,function(AG){mstrmojo.array.forEach(AG&&AG.fns,function(AH){if(AH&&AH.did){AF[AH.did]=AH
	}})
	})
	return mstrmojo.hash.valarray(AF).sort(AD)
	},parseFuncStr:function d(){var AD=window.sessionStorage,AE=this.functions||AD&&AD.getItem("functions")
	if(AE){return Q(JSON.parse(AE).fncs)
	}},isValEqual:function(AG,AF){if(AG===AF){return true
	}var AD=[-1,"-1","True",true],AE=[0,"0","False",false]
	if(AD.indexOf(AG)>-1&&AD.indexOf(AF)>-1){return true
	}else{if(AE.indexOf(AG)>-1&&AE.indexOf(AF)>-1){return true
	}}return false
	},isFuncHasUseLookupForAttributeProp:function(AE){var AD=[j.FunctionSum,j.FunctionCount,j.FunctionAvg,j.FunctionMin,j.FunctionMax,j.FunctionProduct,j.FunctionMedian,j.FunctionMode,j.FunctionStdev,j.FunctionVar,j.FunctionGeomean,j.FunctionPercentile,j.FunctionStdevP,j.FunctionVarP,j.FunctionFirst,j.FunctionLast,j.ConcatAgg]
	return AD.indexOf(AE)>-1
	},isLogicOrCompFunc:function(AE){var AD=AE.v.toUpperCase()+AE.tp
	return !!b[AD]||!!q[AD]
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Label","mstrmojo.HTMLButton","mstrmojo.CheckBox","mstrmojo.HBox","mstrmojo.VBox","mstrmojo.Box","mstrmojo.Popup","mstrmojo.List","mstrmojo.DropDownButton")
	var A=function(E){E.attachEventListener("pfChange",E.id,"positionChange")
	E.boxes.left.flat.attachEventListener("checkedChange",E.id,"flatChange")
	var D={pf:"this.boxes.left.pf.value",flat:"!this.boxes.left.flat.checked",agg:function(){return this.boxes.left.agg.checked?"2":"1"
	},rfi:"this.boxes.left.rfi.value"}
	E.set("bindings",D)
	},C=function(E){var D=E.boxes.left
	D.pf.set("value",E.pf)
	D.flat.set("checked",!E.flat)
	D.agg.set("checked",E.agg==2)
	D.rfi.set("value",E.rfi)
	}
	function B(M,I,E,F,L,D,H,K){var J={target:I,onEnd:function(){if(D){D()
	}},props:{}}
	J.props[E]={ease:H||mstrmojo.ease.sin,start:parseInt(F,10),stop:parseInt(L,10),suffix:"px"}
	J=mstrmojo.hash.copy(K,J)
	var G=new mstrmojo.fx.AnimateProp(J)
	G.play()
	}mstrmojo.CGEOptions=mstrmojo.declare(mstrmojo.VBox,null,{scriptClass:"mstrmojo.CGEOptions",children:[{scriptClass:"mstrmojo.HBox",alias:"boxes",cellCssClass:"cell",children:[{alias:"left",scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-CGEOptions-options",children:[{scriptClass:"mstrmojo.ImageCheckBox",alias:"flat",cssClass:"row",label:mstrmojo.desc(7954,"Enable hierarchical display")},{scriptClass:"mstrmojo.ImageCheckBox",alias:"agg",cssClass:"row",label:mstrmojo.desc(7955,"Enable subtotals display")},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7956,"Position parent header:"),cssClass:"row"},{scriptClass:"mstrmojo.Pulldown",itemIdField:"v",alias:"pf",cssClass:"CGE-parent-header mstrmojo-FormatEditor-DropDownButton",items:[{n:mstrmojo.desc(7957,"Above child items"),v:true},{n:mstrmojo.desc(7958,"Below child items"),v:false}],bindings:{value:"this.parent.parent.parent.pf"}},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7959,"Interaction with report filter:"),cssClass:"row"},{scriptClass:"mstrmojo.Pulldown",itemIdField:"v",alias:"rfi",cssClass:"CGE-report-filter mstrmojo-FormatEditor-DropDownButton",items:[{n:mstrmojo.desc(7960,"Default (Database Instance level)"),v:-1},{n:mstrmojo.desc(7961,"No interaction"),v:0},{n:mstrmojo.desc(2398,"Apply"),v:1},{n:mstrmojo.desc(7962,"Apply but ignore related elements"),v:2}],bindings:{value:function(){var D=this.parent.parent.parent.rfi,D=D==undefined?"-1":D
	return D
	}}}]},{scriptClass:"mstrmojo.Box",alias:"preview",cssClass:"mstrmojo-CGEOptions-preview",children:[{scriptClass:"mstrmojo.Label",cssClass:"title",text:mstrmojo.desc(3389,"Preview")},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7963,"Element Header 1"),alias:"g1t"},{scriptClass:"mstrmojo.Box",alias:"e1",cssClass:"e",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7965,"Item 1-1")},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7966,"Item 1-2")}],onflatChange:function(){mstrmojo.css.toggleClass(this.domNode,["flat"],this.flat)
	}},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7963,"Element Header 1"),cssText:"margin-bottom:10px
	",alias:"g1b"},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7964,"Element Header 2"),cssText:"margin-top:10px
	",alias:"g2t"},{scriptClass:"mstrmojo.Box",alias:"e2",cssClass:"e",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7967,"Item 2-1")},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7968,"Item 2-2")}],onflatChange:function(){mstrmojo.css.toggleClass(this.domNode,["flat"],this.flat)
	}},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7964,"Element Header 2"),alias:"g2b"}]}]},{scriptClass:"mstrmojo.HBox",alias:"btns",cssClass:"mstrmojo-Editor-buttonBar",cssText:"margin-top: 10px
	",children:[{scriptClass:"mstrmojo.HTMLButton",alias:"ok",text:mstrmojo.desc(2397,"OK"),cssClass:"mstrmojo-Editor-button",onclick:function(){this.parent.parent.save()
	}},{scriptClass:"mstrmojo.HTMLButton",alias:"cancel",text:mstrmojo.desc(2399,"Cancel"),cssClass:"mstrmojo-Editor-button",onclick:function(){this.parent.parent.cancel()
	}}]}],pf:true,flat:false,agg:"1",rfi:"-1",postBuildRendering:function(){if(this._super){this._super()
	}A(this)
	this.preview()
	},open:function(E,F){var D=E.cgp
	this.pp=D
	this.set("pf",D.pf)
	this.set("flat",D.flat)
	this.set("agg",D.agg)
	this.set("rfi",D.rfi)
	C(this)
	for(var G in F){this[G]=F[G]
	}this.set("visible",true)
	if(!this.hasRendered){this.render()
	}},cancel:function(){var D=this.closeCB
	if(D){D[0][D[1]]()
	}},save:function(){this.pp.pf=this.pf
	this.pp.flat=this.flat
	this.pp.agg=this.agg
	this.pp.rfi=this.rfi
	this.cancel()
	},positionChange:function(D){this.preview(D.value,null)
	},flatChange:function(D){this.preview(null,!D.value)
	},preview:function(G,E){G=!!G?String(G)==="true":!(String(this.pf)==="false")
	E=(E==null?this.flat:E)
	var F=!!G,D=this.boxes.preview
	D.g1t.set("visible",F)
	D.g1b.set("visible",!F)
	D.g2t.set("visible",F)
	D.g2b.set("visible",!F)
	D.e1.set("flat",E)
	D.e2.set("flat",E)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.registry","mstrmojo.Popup","mstrmojo.MenuItem")
	var G="mstrFilterPanelMenu",L="mstrmojo.Box",E="mstrmojo-Menu-Box"
	var B=function(){var N=mstrmojo.all[G],M=N.fps
	M.clearAllFilter()
	M.applyBufferedSlices()
	N.close()
	}
	var C=function(){var N=mstrmojo.all[G],M=N.fps
	if(M&&M.applyBufferedSlices){M.applyBufferedSlices()
	}N.close()
	}
	var F=function(){H(false)
	}
	var I=function(){H(true)
	}
	var A=function(){var O=mstrmojo.all[G],N=O.fps,M=!O.autoSubmit
	N.applyBufferedSlices()
	N.model.updateUnitFormat(N,1,{FormattingLayout:{CtlAutoSubmit:(M?1:0)}},{success:function(){var P=N.parent
	O.set("autoSubmit",M)
	O.fps.defn.set("cas",M)
	P.buttonbar.applyNow.set("visible",!M)
	P.buttonbar.resetBtn.set("visible",!M)
	P.adjustFPHeight2Fit()
	mstrmojo.css.toggleClass(P.buttonbarNode,"hide",M)
	mstrmojo.css.toggleClass(P.toolbarNode,["cas"],!M)
	}},{params:{suppressData:true}})
	O.close()
	}
	function H(O){var P=mstrmojo.all[G],N=P.fps,W=mstrmojo.DocPortlet,M=O?W.ST_RESTORE:W.ST_MIN
	if(!N||!N.children){return 
	}var U=N.model,R=[]
	for(var S in N.children){var X=N.children[S]
	if(!X.children||!X.selected){continue
	}for(var Q in X.children){var Y=X.children[Q]
	if(typeof (Y.defn.ttl)!=="undefined"){R.push(Y.changeWindowState(M))
	}}}if(R.length){U.getDataService().submitUpdates(R,{},{preserveUndo:true,params:{suppressData:true}})
	}P.close()
	}function J(P,N,M){var O={scriptClass:"mstrmojo.MenuItem",text:P,cssClass:"mstrmojo-InteractiveButton",onclick:N,bindings:M}
	return O
	}function K(P,N,M){M=M||{}
	M.pressed="mstrmojo.all['"+G+"'].autoSubmit"
	M.iconClass="this.pressed?'pressed':''"
	var O=J(P,N,M)
	O.onpressedChange=function(){if(this.domNode){mstrmojo.css.toggleClass(this.domNode,"pressed",this.pressed)
	}}
	return O
	}mstrmojo.FilterPanelMenu=mstrmojo.registry.ref({id:G,slot:"popupNode",scriptClass:"mstrmojo.Popup",cssClass:"mstrmojo-Menu",shadowNodeCssClass:"mstrmojo-Menu-shadow",contentNodeCssClass:"mstrmojo-Menu-content",locksHover:true,autoSubmit:true,onOpen:function D(){var R=this.opener,b=R&&R[this.slot],a=mstrmojo.dom.position(b),c=a.y||0,U=this.cmPos,X,S,Z
	if(U){X=U.x
	S=U.y-c
	}else{var N=this.openerButton.domNode
	Z=mstrmojo.boxmodel.offset(N,b)
	X=Z.left
	S=Z.top+((N&&N.offsetHeight)||0)
	}var Q=mstrmojo.dom.windowDim(),O=this.domNode
	var P=O.offsetHeight,W=Q.h-c
	Z=Math.max(0,S+P-W)
	this.set("top",S-Z+"px")
	var Y=O.offsetWidth,M=Q.w
	Z=Math.max(0,X+Y-M)
	this.set("left",X-Z+"px")
	this.set("autoSubmit",this.fps.isAutoApply())
	},children:[{scriptClass:L,bindings:{},cssClass:E,children:[J(mstrmojo.desc(15554,"Unset all filters"),B,{}),J(mstrmojo.desc(14820,"Apply Now"),C,{visible:"!mstrmojo.all['"+G+"'].autoSubmit",enabled:"mstrmojo.all['"+G+"'].fps.applyEnabled"})]},{scriptClass:L,cssClass:E,bindings:{},children:[J(mstrmojo.desc(8970,"Expand all"),I,{}),J(mstrmojo.desc(8971,"Collapse all"),F,{})]},{scriptClass:L,cssClass:E,bindings:{},children:[K(mstrmojo.desc(1996,"Auto-Apply changes"),A,{})]}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.TristateCheckBox","mstrmojo._IsInputControl")
	mstrmojo.CheckBoxDIC=mstrmojo.declare(mstrmojo.TristateCheckBox,[mstrmojo._IsInputControl],{scriptClass:"mstrmojo.CheckBoxDIC",markupString:'<div id="{@id}" class="mstrmojo-Label {@cssClass}" style="{@cssText}" tabindex="1" mstrAttach:click,keydown></div>',cssText:"width: 0
	margin:0 auto
	max-height: 18px
	cursor: pointer
	",onclick:function(){if(this.grayed){this.set("grayed",!this.grayed)
	this.set("checked",true)
	}else{this.set("checked",!this.checked)
	}},oncheckedChange:function(A){this.set("value",this[this.checked?"onValue":"offValue"])
	},preBuildRendering:function(){this._super()
	var A=this.dic.vls
	this.offValue=A[0].v
	this.onValue=A[1].v
	this.grayed=(this.onValue!==this.value)&&(this.offValue!==this.value)
	this.checked=(this.onValue===this.value)
	},postBuildRendering:function(){var B=this.domNode,D=B.style,C=this.openerStyle,A
	this._super()
	D.height=C.ih+"px"
	},onkeydown:function(B){var A=B.hWin,C=B.e||A.event
	if(C.keyCode===mstrmojo.Enum_Keys.SPACE){mstrmojo.dom.preventDefault(A,C)
	this.onclick()
	}},focus:function(){this.domNode.focus()
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.Container","mstrmojo._FormatDefinition","mstrmojo.TristateCheckBox","mstrmojo.FieldSet","mstrmojo.Table")
	var A=mstrmojo.hash,B=mstrmojo._FormatDefinition
	mstrmojo.AlignmentFormatter=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.AlignmentFormatter",cssClass:"mstrmojo-AlignmentFormatter",markupString:'<div id={@id} class="{@cssClass}" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},postCreate:function(){this.onmodelChange()
	},onmodelChange:function(){if(this.model&&!this.model.scriptClass){A.make(this.model,mstrmojo.Obj)
	}},children:[{scriptClass:"mstrmojo.FieldSet",alias:"textAlignment",cssClass:"mstrmojo-FormatEditor-textAlignment",legend:mstrmojo.desc(2065),children:[{scriptClass:"mstrmojo.Table",rows:2,cols:2,children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(3691),slot:"0,0"},{scriptClass:"mstrmojo.Pulldown",itemIdField:"v",items:B.Horizontal,bindings:{m:"this.parent.parent.parent.model",value:"this.m.Horizontal"},onvalueChange:function(){if(this.m&&this.value!=null){this.m.Horizontal=this.value
	}},slot:"0,1"},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(3692),slot:"1,0"},{scriptClass:"mstrmojo.Pulldown",itemIdField:"v",items:B.Vertical,bindings:{m:"this.parent.parent.parent.model",value:"this.m.Vertical"},onvalueChange:function(){if(this.m&&this.value!=null){this.m.Vertical=this.value
	}},slot:"1,1"}]}]},{scriptClass:"mstrmojo.FieldSet",alias:"textControl",cssClass:"mstrmojo-FormatEditor-textControl",legend:mstrmojo.desc(2884),children:[{alias:"TextWrap",scriptClass:"mstrmojo.TristateCheckBox",text:mstrmojo.desc(2070),checked:false,grayed:false,pr:"TextWrap",bindings:{m:"this.parent.parent.model",checked:function(){return this.m[this.pr]==-1
	},grayed:function(){return(typeof this.m[this.pr]=="undefined")||this.m[this.pr]=="pru"
	}},oncheckedChange:function(C){if(this.m){this.m.set(this.pr,this.checked?-1:0)
	}}},{scriptClass:"mstrmojo.HBox",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(5159)},{scriptClass:"mstrmojo.Pulldown",itemIdField:"v",items:B.TextDirection,bindings:{m:"this.parent.parent.parent.model",value:"this.m.TextDirection"},onvalueChange:function(){if(this.m&&this.value!=null){this.m.TextDirection=this.value
	}},slot:"1,1"}]}]}]})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.rw.DocSubsection","mstrmojo._CanGrowOrShrink","mstrmojo.boxmodel")
	mstrmojo.DocSubsection=mstrmojo.declare(mstrmojo.rw.DocSubsection,[mstrmojo._CanGrowOrShrink],{scriptClass:"mstrmojo.DocSubsection",postBuildRendering:function D(){var H=this.defn
	if(H.hc||H.vc){var F=this.domNode,J=this.getFormats(),K=this.id,I=J.height,G=J.width
	H.attachEventListener("resized",K,function(){var M=J.height,L=J.width
	if(M){F.style.height=M
	}if(L){F.style.width=L
	}})
	H.attachEventListener("adjustSize",K,function(N){var M=F.style,L=M.height
	if(H.hc&&M.width!==G){M.width=G
	}if(H.vc&&M.height!==I){M.height=I
	}this.performCanGrowCanShrink(this.children)
	N.heightReduced=(parseInt(L,10)>parseInt(M.height,10))
	})
	}return this._super()
	},onchildRenderingChange:function B(H){this._super(H)
	if(this.renderMode!=="scroll"){var F=this.parent.slot,G=F==="fixedHeaderNode"||F==="fixedFooterNode"
	this.performCanGrowCanShrink([(H&&H.src)||H],G)
	}},portalMaximized:function C(){var I=this.defn,J=I.vc,G=I.hc
	if(!G&&!J){return{}
	}delete I.vc
	delete I.hc
	delete I.ck
	var H=this.getFormats(),F=this.model,N=this.domNode,K=this
	var L={HideIfEmpty:-1}
	var M=function(R,P,Q){var S=R.toLowerCase(),O=parseInt(N.style[S],10)
	P=((P===undefined)?O:Math.max(parseInt(P,10),O))+"px"
	if(H[S]!==P){H[S]=P
	L[R]=mstrmojo.boxmodel.px2Inches(F.getZoomProps(),P)
	delete K["_fixed"+R]
	}Q=Q||""
	L["Max"+R]=0
	L["CanGrow"+Q]=0
	L["CanShrink"+Q]=0
	}
	if(J){M("Height",H.normHeight)
	}if(G){M("Width",H.normWidth,"Horizontal")
	}I.raiseEvent({name:"resized"})
	return L
	},adjustSectionSize:function A(){var F=this.defn
	if(F.vc||F.hc){return F.raiseEvent({name:"adjustSize"})
	}return null
	},refresh:function E(){if(!this.hasRendered){return 
	}var G=this.children||[],F=G.length-1
	for(F
	F>=0
	F--){if(G[F].refresh){G[F].refresh()
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.dom","mstrmojo.TextBox")
	var A=mstrmojo.css,C=mstrmojo.dom
	mstrmojo.TextArea=mstrmojo.declare(mstrmojo.TextBox,null,{scriptClass:"mstrmojo.TextArea",markupString:'<textarea id="{@id}" class="mstrmojo-TextArea {@cssClass}"  style="{@cssText}" title="{@tooltip}" placeholder="{@placeholderText}" rows="{@rows}" cols="{@cols}" maxlength="{@maxLength}" index="{@tabIndex}" mstrAttach:focus,keydown,keyup,blur,paste,cut></textarea>',maxLength:256,onkeydown:function B(K){var I=this.inputNode,J=this.value,E=this.maxLength,F=(J&&J.length)||0,M=K.e,L=M.keyCode
	this.isDeleteKeys=L===8||L===46
	this.isArrowKeys=L===37||L===38||L===39||L===40
	if(E!==undefined&&E<=F){var G=I.selectionEnd,H=(G!==undefined)?(G-I.selectionStart)>0:document.selection.createRange().text.length>0
	if(!this.isDeleteKeys&&!this.isArrowKeys&&!H){if(C.isIE7||C.isIE8||C.isIE9){I.blur()
	window.setTimeout(function(){I.focus()
	},1)
	}C.preventDefault(window,M)
	return false
	}}}})
	mstrmojo._HasMarkup.addMarkupMethods(mstrmojo.TextArea,{oncssClassChange:function D(){A.addClass(this.domNode,this.cssClass||"")
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.TextBox","mstrmojo.hash")
	var A="mstrmojo-TextBoxWithLabel"
	mstrmojo.TextBoxWithLabel=mstrmojo.declare(mstrmojo.TextBox,null,{scriptClass:"mstrmojo.TextBoxWithLabel",label:"",rightLabel:"",cssDisplay:"inline",type:"text",markupString:'<div class="'+A+' {@cssClass}" style="{@cssText}"><span class="mstrmojo-TextBox-label {@labelClass}" title="{@labelTitle}">{@label}</span><input id="{@id}" class="mstrmojo-TextBox {@inputNodeCssClass}"  style="{@inputNodeCssText}" title="{@tooltip}" type="{@type}" size="{@size}" maxlength="{@maxLength}" index="{@tabIndex}" mstrAttach:focus,keyup,blur/><span class="mstrmojo-TextBox-label-right">{@rightLabel}</span></div>',markupSlots:{inputNode:function(){return this.domNode.firstChild.nextSibling
	},lblNode:function(){return this.domNode.firstChild
	}}})
	mstrmojo.TextBoxWithLabel.prototype.markupMethods=mstrmojo.hash.copy({oncssClassChange:function(){var B=this.cssClass
	this.domNode.className=A+(B?" "+B:"")
	},onlabelChange:function(){this.lblNode.innerText=this.label||""
	}},mstrmojo.hash.copy(mstrmojo.TextBoxWithLabel.prototype.markupMethods))
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.string","mstrmojo.dom","mstrmojo.css","mstrmojo.array","mstrmojo.tooltip")
	var D=mstrmojo.dom,H=mstrmojo.string,C=mstrmojo.hash,E=mstrmojo.array,B=mstrmojo.tooltip
	mstrmojo.ui._HasListTooltip=mstrmojo.provide("mstrmojo.ui._HasListTooltip",{_mixinName:"mstrmojo.ui._HasListTooltip",menuItemTooltip:false,tooltipOrientation:"horizontal",tooltipOffset:8,tooltipOffsetX:0,tooltipMarkup:'<div class="content" style="{@style}">{@c}</div>',tooltipCss:{},tooltipContrast:false,getTooltipText:function F(J){return J&&(H.encodeHtmlString(J.ttp,true)||H.encodeHtmlString(J.n,true))||""
	},getTooltipNode:function A(J){return this.getItemNodeFromTarget(J)
	},showTooltip:function G(c,O){var R=this
	if(!R.hasOpenTooltip&&!(R._lastOpened&&R._lastOpened.visible&&!R.menuItemTooltip)){var j=D.eventTarget(O,c),d=R.getItemFromTarget(j),X=R.getTooltipNode(j),l=R.getTooltipText(d),Q=R.tooltipCss
	if(!l||d.ttpDisabled){return 
	}if(R.showTooltipForLargeText){if(X.offsetWidth>=X.scrollWidth){return 
	}}var k=D.position(X),b,S,M,Z="",a=R.tooltipOffset,P=(d&&d.ctxt)||{}
	if(this.tooltipOrientation==="vertical"){b=k.x+k.w/2
	M=P.posType||B.POS_TOPCENTER
	S=k.y+k.h+a
	var N="mojo-theme-light vi-regular vi-tooltip-A"
	if(!P.posType){N+=" A-center"
	}R.tooltipCss=C.copy({cssClass:N},Q)
	}else{var L=D.windowDim(),Y=40,f=k.x+k.w+a,K=k.x-a,h=K-Y,J=L.w-(f+Y),g="vi-regular vi-tooltip-",W
	S=k.y
	if(J>=h){b=f
	W=J
	M=P.posType||B.POS_TOPLEFT
	Q.cssClass=g+"C "+Q.rightCssClass
	}else{b=K
	W=h
	M=P.posType||B.POS_TOPRIGHT
	Q.cssClass=g+"D "+Q.leftCssClass
	}Z="max-width: "+W+"px
	"
	}if(R.tooltipContrast){Q.cssClass=Q.cssClass+" contrast"
	}if(Q&&Q.getItemCssClass){Q.cssClass=E.filter([Q.cssClass,Q.getItemCssClass(d)],function(e){return !!e
	}).join(" ")
	}var U=R.richTooltip=C.copy(R.tooltipCss,{content:H.apply(R.tooltipMarkup,{c:l,style:Z}),eventHandlerMap:P.eventHandlerMap,top:S,left:b,posType:M})
	if(R.itemDisabled){U.cssClass+=" vi-warning"
	}if(P.hoverable){U.enableHover=true
	}if(P.posType==="TL"){U.left=k.x+R.tooltipOffsetX
	}U.keepArrowXPos=!!R.keepArrowXPos
	U.keepArrowYPos=!!R.keepArrowYPos
	this._super(c,O)
	}},onclick:function I(J){var K=this
	window.setTimeout(function(){if(K.hasOpenTooltip){K.hideTooltip()
	}window.clearTimeout(K._tooltipTimeOut)
	},0)
	this._super(J)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._ListSelections","mstrmojo.tooltip","mstrmojo.dom","mstrmojo.string","mstrmojo.hash","mstrmojo.css")
	var R=mstrmojo.dom,n=mstrmojo.string,C=mstrmojo.css,S=mstrmojo.hash,L=mstrmojo.all,g=mstrmojo._HasMarkup,h="px"
	var D={},K=false,c
	function f(){var u={mousedown:["touchstart","mousedown"],mouseup:["touchend","mouseup"],mousemove:["touchmove","mousemove"]},t
	for(t in u){D[t]=K?u[t][0]:u[t][1]
	}}function q(u){if(this.dragging){return 
	}this._moveCnt++
	if(this._moveCnt>this.mousemoveBuffer){var t=document.body
	R.detachEvent(t,"mousemove",this._mousemoveCallback)
	R.detachEvent(t,"mouseup",this._cancelCallback)
	this.initDrag(u)
	}}function l(u){if(this.dragging){return 
	}this._moveCnt++
	if(this._moveCnt>this.mousemoveBuffer){var t=document.body
	R.detachEvent(t,"touchmove",this._touchmoveCallback)
	R.detachEvent(t,"touchend",this._cancelCallback)
	if(c){window.clearTimeout(c)
	}this.initDrag(u)
	}}function I(w){var t=document.body,v=K?"_touchmoveCallback":"_mousemoveCallback"
	R.detachEvent(t,D.mousemove,this[v])
	R.detachEvent(t,D.mouseup,this._cancelCallback)
	if(c){window.clearTimeout(c)
	}var u=this.afterDragCancel
	if(u){u.call(this.target,w)
	}}function G(z){K=true
	f()
	R.preventDefault(window,z)
	if(this.dragging){return true
	}var v=this.target.id,w=document.body,u=z&&z.touches&&z.touches[0]||z
	if(!this._touchmoveCallback){this._touchmoveCallback=function(AA){l.call(L[v].dnd,AA&&AA.touches&&AA.touches[0]||AA)
	return true
	}
	}this._moveCnt=0
	this.startE=S.copy(u)
	R.attachEvent(w,"touchmove",this._touchmoveCallback)
	if(!this._cancelCallback){this._cancelCallback=function(AA){I.call(L[v].dnd,u)
	return true
	}
	}R.attachEvent(w,"touchend",this._cancelCallback)
	var x=this,t=u
	t.type=t.name="contextmenu"
	c=window.setTimeout(function(){var AB=x.target,AC=AB&&AB.docSelector,AA=AC&&AC.parent
	R.detachEvent(w,"touchmove",this._touchmoveCallback)
	R.detachEvent(w,"touchend",this._cancelCallback)
	if(AA){AA.raiseEvent(g.newDomEvent("contextmenu",window,t))
	}},1000)
	return false
	}function j(v){K=false
	f()
	R.preventDefault(window,v)
	if(this.dragging){return true
	}var t=this.target.id,u=document.body
	if(!this._mousemoveCallback){this._mousemoveCallback=function(w){q.call(L[t].dnd,w)
	return true
	}
	}this._moveCnt=0
	this.startE=S.copy(v)
	R.attachEvent(u,"mousemove",this._mousemoveCallback)
	if(!this._cancelCallback){this._cancelCallback=function(w){I.call(L[t].dnd,w)
	return true
	}
	}R.attachEvent(u,"mouseup",this._cancelCallback)
	return false
	}function E(u){var t=this.duringDrag
	if(t){t.call(this.target,u)
	}return true
	}function O(v){this.dragging=false
	var t=document.body
	R.detachEvent(t,D.mousemove,this._dragCallback)
	R.detachEvent(t,D.mouseup,this._dragEndCallback)
	var u=this.afterDragEnd
	if(u){u.call(this.target,v)
	}return true
	}function Z(){if(this._mousemoveCallback){R.detachEvent(document.body,"mousemove",this._mousemoveCallback)
	delete this._mousemoveCallback
	}if(this._touchmoveCallback){R.detachEvent(document.body,"touchmove",this._touchmoveCallback)
	delete this._touchmoveCallback
	}if(this._cancelCallback){R.detachEvent(document.body,"mouseup",this._cancelCallback)
	R.detachEvent(document.body,"touchup",this._cancelCallback)
	delete this._cancelCallback
	}if(this._dragCallback){R.detachEvent(document.body,"mousemove",this._dragCallback)
	R.detachEvent(document.body,"touchmove",this._dragCallback)
	delete this._dragCallback
	}if(this._dragEndCallback){R.detachEvent(document.body,"mouseup",this._dragEndCallback)
	R.detachEvent(document.body,"touchmove",this._dragEndCallback)
	delete this._dragEndCallback
	}}mstrmojo.DnDComponent=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.DnDComponent",isDragging:false,initD:null,startE:null,afterDragStart:null,duringDrag:null,afterDragEnd:null,target:null,mousemoveBuffer:1,init:function X(t){S.copy(t,this)
	},initDrag:function p(x){this.dragging=true
	var u=this.target.id,w=document.body
	var z=this._dragCallback
	if(!z){z=this._dragCallback=function(AA){if(K){AA=AA&&AA.touches&&AA.touches[0]||AA
	}return E.call(L[u].dnd,AA)
	}
	}R.attachEvent(w,D.mousemove,z)
	var t=this._dragEndCallback
	if(!t){t=this._dragEndCallback=function(AA){if(K){AA=AA&&AA.touches&&AA.touches[0]||AA
	}return O.call(L[u].dnd,AA)
	}
	}R.attachEvent(w,D.mouseup,t)
	var v=this.afterDragStart
	if(v){v.call(this.target,x)
	}this._dragCallback(x)
	}})
	function b(t){this.getUnit=function u(){var v=t.items.length
	return v>1?t._effLen/(v-1):1
	}
	this.calcMinMax=function(w,v){var x=Math.round((w/t.unit+v/t.unit)/2)
	return{min:x,max:x}
	}
	this.preUpdateThumb=function(){t.start=Math.min(t.min*t.unit,t._effLen)+h
	t.sdCssText=t.orCfg.posCssP+":"+t.start+"
	"
	}
	this.updateThumb=function(){t.containerNode.style[t.orCfg.posCssP]=t.start=Math.min(Math.round(t.min*t.unit),t._effLen)+h
	}
	return this
	}function o(t){this.getUnit=function(){return t._effLen/t.items.length
	}
	this.calcMinMax=function(w,v){return{min:Math.floor(w/t.unit+0.5),max:Math.floor(v/t.unit-0.5)}
	}
	function u(){var v=t.min,x=t.unit
	var z=t.start=(v*x)+h
	var w=t.length=Math.max(Math.round((t.max-v+1)*x-t.gap),0)+h
	return{st:z,len:w}
	}this.preUpdateThumb=function(){var w=t.orCfg,v=u()
	t.sdCssText=w.posCssP+":"+v.st+"
	"+w.lenCssP+":"+v.len+"
	"
	}
	this.updateThumb=function(){var w=t.orCfg,v=u(),x=t.containerNode.style
	x[w.posCssP]=v.st
	x[w.lenCssP]=v.len
	}
	return this
	}var F="<span>{@content}</span>"
	mstrmojo.Slider=mstrmojo.declare(mstrmojo.Container,[mstrmojo._ListSelections],{scriptClass:"mstrmojo.Slider",markupString:'<div id="{@id}" class="mstrmojo-Slider {@cssClass} {@clsType} {@clsOrientation}" style="{@cssText}" mstrAttach:mouseover,mouseout,click><div class="cont"><div class="bk" style="{@bkCssText}"></div><div class="sdc" style="position:absolute
	{@sdcCssText}"><div class="sd" style="{@sdCssText}"><div class="t1"></div><div class="t2"></div><div class="t3"></div></div></div></div></div>',sdCssText:"",cssClass:"sc",clsType:"sc2",clsOrientation:"sc-v",orCfg:null,typeHelper:null,_tooltip_pos:"TL",useRichTooltip:true,init:function m(t){this._super(t)
	if(t.isHoriz){this.orCfg={posCssP:"left",marginCssP:"marginLeft",lenCssP:"width",lenP:"clientWidth",opPosCssP:"top",thickP:"clientHeight",offsetP:"x"}
	this.clsOrientation=" sc-h"
	this._tooltip_pos=mstrmojo.tooltip.POS_BOTTOMLEFT
	}else{this.orCfg={posCssP:"top",marginCssP:"marginTop",lenCssP:"height",lenP:"clientHeight",opPosCssP:"left",thickP:"clientWidth",offsetP:"y"}
	this._tooltip_pos=mstrmojo.tooltip.POS_TOPRIGHT
	this.titleHeight=(t.docSelector.fmts.ttl&&t.docSelector.fmts.ttl.height)?parseInt(t.docSelector.fmts.ttl.height,10):0
	}this._exRoom=this.thumbWidth
	if(this.multiSelect){this._exRoom*=2
	}if(t.multiSelect){this.typeHelper=new o(this)
	}else{this.clsType="sc1"
	this.typeHelper=new b(this)
	}this.tooltipOpenDelay=100
	},markupSlots:{dndNode:function(){return this.domNode.firstChild
	},bgNode:function(){return this.domNode.firstChild.firstChild
	},sdcNode:function(){return this.domNode.firstChild.lastChild
	},containerNode:function(){return this.domNode.firstChild.lastChild.firstChild
	},frontNode:function(){return this.domNode.firstChild.lastChild.firstChild.firstChild
	},thumbNode:function(){return this.domNode.firstChild.lastChild.firstChild.childNodes[1]
	},endNode:function(){return this.domNode.firstChild.lastChild.firstChild.lastChild
	},tooltipNode:function(){return this.domNode.firstChild.lastChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onwidthChange:function(){this.synchronizeSlider()
	}},start:"50px",length:"30px",min:0,max:0,gap:1,ghost:null,thumbWidth:11,cssBkBW:1,dndNode:null,synchronizeSlider:function J(){var AB=this.orCfg,AA=AB.lenCssP,v=this[AA],t=parseInt(v,10),AG=this.hasRendered,AE=this.titleHeight||0
	var w=this._effLen=isNaN(t)?0:(t-this._exRoom-AE)
	if(v){var AF={}
	AF[AA]=Math.max(parseInt(v,10)-(2*this.cssBkBW),0)-AE+h
	var x={}
	x[AA]=w+h
	x[AB.posCssP]=Math.round(this._exRoom/2)+h
	x[AB.opPosCssP]="0"+h
	if(AG){S.copy(AF,this.bgNode.style)
	S.copy(x,this.sdcNode.style)
	}else{this.bkCssText=C.getCssTextFromObj(AF)
	this.sdcCssText=C.getCssTextFromObj(x)
	}}var AI=this.selectedIndices
	if(!S.isEmpty(AI)){var AD=this.items.length,z=-1,AH=-1,AC
	for(AC=0
	AC<AD
	AC++){if(AI[AC]){if(z<0){z=AC
	}AH=AC
	}else{if(z>-1){break
	}}}this.min=z
	this.max=AH
	}var u=this.typeHelper
	this.unit=u.getUnit()
	if(AG){u.updateThumb()
	}else{u.preUpdateThumb()
	}},preBuildRendering:function A(){this.synchronizeSlider()
	},postBuildRendering:function W(){this._super()
	if(this.items.length>1){var t=this.dnd=new mstrmojo.DnDComponent({target:this})
	var u=this.id
	this.__mouseDownEvt=function(v){R.stopPropogation(window,v)
	j.call(L[u].dnd,v)
	return true
	}
	R.attachEvent(this.dndNode,"mousedown",this.__mouseDownEvt)
	if(R.supportsTouches){this.__touchstartEvt=function(v){if(R.isTouchOptimizationEnabled()&&C.hasClass(v.target,"bk")){return 
	}R.stopPropogation(window,v)
	G.call(L[u].dnd,v)
	return true
	}
	R.attachEvent(this.dndNode,"touchstart",this.__touchstartEvt)
	}t.afterDragStart=this.initDrag
	t.duringDrag=this.ondrag
	t.afterDragEnd=this.ondrop
	t.afterDragCancel=this.cancelDrag
	}},initDrag:function p(z,t){t=t||window
	var x=this.configureGhost(true),u=this.orCfg,w=this.dnd,v=w.startE
	w.initD={tP:parseInt(this.start,10),sL:this._effLen,contL:x.containerNode[u.lenP],offset:R.getMousePosition(v,t)[u.offsetP],td:R.eventTarget(t,v)}
	},configureGhost:function e(u){var w=this.ghost
	if(!w){var z=this.containerNode.cloneNode(true),x=z.childNodes
	C.addClass(z,"gh")
	z.style.display="none"
	w=this.ghost={containerNode:z,frontNode:x[0],thumbNode:x[1],endNode:x[2]}
	this.sdcNode.appendChild(z)
	}var v=this.ghost.containerNode.style,t=this.orCfg
	S.copyProps([t.posCssP,t.lenCssP],this.containerNode.style,v)
	if(u){v.display="block"
	}return w
	},ondrag:function P(AC,AB){AB=AB||window
	var AD=this.dnd.initD,x=this.ghost.containerNode,AH,v,t,AA=this.min,AE=this.max,z=this.orCfg,u=z.lenCssP,AG=z.posCssP
	var AF=R.getMousePosition(AC,AB)[z.offsetP]-AD.offset
	switch(AD.td){case this.thumbNode:AH=Math.max(Math.min(AD.tP+AF,AD.sL-AD.contL),0)
	v=AH+AD.contL
	x.style[AG]=AH+h
	var w=this.typeHelper.calcMinMax(AH,v)
	AA=w.min
	AE=w.max
	break
	case this.frontNode:AH=Math.max(Math.min(AD.tP+AF,AD.tP+AD.contL),0)
	t=Math.max(Math.min(AD.contL-AF,AD.tP+AD.contL),0)
	x.style[AG]=AH+h
	x.style[u]=t+h
	AA=Math.min(Math.floor(AH/this.unit+0.5),this.max)
	break
	case this.endNode:t=Math.max(Math.min(AD.contL+AF,AD.sL-AD.tP),0)
	v=AD.tP+t
	x.style[u]=t+h
	AE=Math.max(Math.floor(v/this.unit-0.5),this.min)
	break
	default:return 
	}if(AA!==this.min||AE!==this.max){this.min=AA
	this.max=AE
	this.typeHelper.updateThumb()
	}this._updateTooltip()
	},ondrop:function a(){this.typeHelper.updateThumb()
	var x=this.ghost
	if(x){x.containerNode.style.display="none"
	}this.hideTooltip()
	var z=this.dnd&&this.dnd.initD
	if(this.makeSelection&&z){this.makeSelection({selItem:z.td})
	}var t=this.items
	if(t&&t.length){var v=[],u
	for(u=this.min
	u<=this.max
	u++){var w=t[u]
	if(w){v.push(u)
	}}this.select(v)
	}this.dnd.initD=null
	},cancelDrag:function N(u,t){if(this.makeSelection){this.makeSelection({selItem:R.eventTarget(t||window,this.dnd.startE)})
	}},showTooltip:function r(u,t){this.configureGhost(false)
	this._updateTooltip(u,t)
	this._super(u,t)
	},hideTooltip:function Q(u,t){if(this.dnd&&this.dnd.dragging){return 
	}this._super(u,t)
	},_updateTooltip:function U(){var AB=this.orCfg,AC={contentNodeCssClass:"sc-tooltip",refNode:this.domNode,posType:this._tooltip_pos},u=(this.ghost)?this.ghost.containerNode:this.containerNode
	AC[AB.opPosCssP]=0
	AC[AB.posCssP]=u.style[AB.posCssP]
	AC.content=""
	var z=this.items,w=z.length
	if(z&&w){var t=(z[this.min]||z[0]),v=this.getItemTooltip(t),x=v
	if(this.min!==this.max){var AA=(z[this.max]||z[w-1])
	x=mstrmojo.desc(146,"From:")+" '"+v+"' "+mstrmojo.desc(147,"To:")+" '"+this.getItemTooltip(AA)+"'"
	}AC.content=F.replace(/\{@content\}/g,x)
	}this.set("richTooltip",AC)
	},getItemTooltip:function Y(t){var u=t?t.n:""
	if(this.allowHTMLOnSelector){return u
	}u=n.encodeHtmlString(u,true)
	return"'"+(u.length>20?u.slice(0,20)+"...":u)+"'"
	},unrender:function B(u){this.ghost=null
	this.hideTooltip()
	this.min=0
	this.max=(this.items&&this.items.length-1)||0
	var v=this.dndNode,w=this.__mouseDownEvt,t=this.__touchstartEvt
	if(w&&v){R.detachEvent(v,"mousedown",w)
	}if(t&&v){R.detachEvent(v,"touchstart",t)
	}Z.call(this)
	this._super(u)
	},onselectionChange:function M(){var t=this.selectedIndices,u=S.isEmpty(t)
	if(t){this.set("max",u?this.items.length-1:S.max(t,false,true))
	this.set("min",u?0:S.min(t,false,true))
	if(this.typeHelper){this.typeHelper.updateThumb()
	}}if(this.onchange){this.onchange()
	}},onclick:function d(AE){var AB=AE.getTarget()
	if(AB&&R.contains(this.sdcNode,AB,true)){return 
	}var t=parseInt(AE.src.containerNode.style.left,10),u=parseInt(AE.hWin.event.offsetX),z=this.isHoriz&&u<t,v=parseInt(AE.src.containerNode.style.width,10)
	var AC=parseInt(AE.src.containerNode.style.top,10),w=parseInt(AE.hWin.event.offsetY),AA=parseInt(AE.src.containerNode.style.height,10)
	moveTop=!this.isHoriz&&w<AC
	if(this.multiSelect){if(this.bgNode!==AE.hWin.event.target){return 
	}var AD=S.max(this.selectedIndices,false,true),x=S.min(this.selectedIndices,false,true)
	if(z||moveTop){this._addSelections([x-1])
	this.removeSelect(AD)
	}else{if((!isNaN(v)&&u>t+v)||(!isNaN(AA)&&w>AC+AA)){this._addSelections([AD+1])
	this.removeSelect(x)
	}}}else{if(z||moveTop){if(this.selectedIndex>0){this.select([this.selectedIndex-1])
	}}else{if(this.selectedIndex<0&&this.items.length>1){this.select(1)
	}else{if(this.selectedIndex<this.items.length-1){this.select([this.selectedIndex+1])
	}}}}},onmouseover:function H(t){this.showTooltip()
	},onmouseout:function k(t){this.hideTooltip()
	}})
	mstrmojo.Slider.SINGLE_HANDLE_WIDTH=11
	mstrmojo.Slider.SCROLLHANDLEWIDTH=11
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.Widget","mstrmojo.tooltip","mstrmojo.string","mstrmojo.array","mstrmojo.url")
	var P=0,E=mstrmojo.dom,J=mstrmojo.array,B=mstrmojo.string
	function Q(){var X=this.textNode,Z=this.imgNode
	if(this.eg!=null){Z.style.display="none"
	X.innerHTML=this.eg||""
	X.style.display="block"
	this.domNode.style.display=(this.visible&&this.eg.length>0)?"block":"none"
	}else{X.style.display="none"
	this.domNode.style.display=this.visible?"block":"none"
	Z.style.display="block"
	if(this.tooltip){Z.setAttribute("ttl",this.tooltip)
	}var Y=this.getFormats()
	this.retrieveGraphSrc(Y.height,Y.width)
	}}var W={6:"poly",7:"rect",100:"circle"}
	function I(){var g=this.as,c=g&&g.length
	if(!c){return 
	}var b=this.id,f=b+"_map"+P++,Z=[],e=-1,a
	for(a=0
	a<c
	a++){var Y=g[a]
	Y.id=b
	Y.aid=a
	Y.tooltip=B.multiReplace(Y.tooltip||"",{"&#13":"<br />","&#32":" ",'"':"&quot
	"})
	if(!isNaN(Y.shape)){Y.shape=this.getAreaShapeName(Y.shape)
	}if(!mstrApp.isDossier&&(Y.tks||Y.tks===""||Y.tty===1)){Y.extra=' href="#" '
	}Z[++e]=B.apply(this.areaMarkup,Y)
	}var d='<map id="'+f+'" name="'+f+'">'+Z.join("")+"</map>"
	if(!this.domNode){this.att='usemap="#'+f+'" '
	this.map=d
	}else{var X=document.createElement("div")
	X.innerHTML=d
	if(this.mapNode){X=X.firstChild
	this.mapNode.innerHTML=X.innerHTML
	E.recursiveReplaceInlineEventListeners(this.mapNode,false,this)
	}else{this.imgNode.setAttribute("usemap","#"+f)
	E.recursiveReplaceInlineEventListeners(X,false,this)
	this.mapNode=this.domNode.appendChild(X.firstChild)
	}}}var A=mstrmojo.GraphBase=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.GraphBase",cssClassPrefix:"mstrmojo-GraphBase",markupString:'<div id="{@id}" class="{@cssClassPrefix} {@cssClass}" title="{@tooltip}" style="{@domNodeCssText}
	"><div class="{@cssClassPrefix}-txt"></div><img {@att}src="'+mstrmojo.url.getPlaceholderImageURL()+'" class="{@cssClassPrefix} {@cssImageClass}" hidefocus="true" />{@map}</div>',att:"",map:"",cAreaIdx:-1,useRichTooltip:true,markupSlots:{imgNode:function K(){return this.domNode.childNodes[1]
	},mapNode:function G(){return this.domNode.childNodes.length>2?this.domNode.childNodes[2]:null
	},textNode:function N(){return this.domNode.firstChild
	}},markupMethods:{onvisibleChange:function L(){this.domNode.style.display=(this.visible)?"block":"none"
	}},preBuildRendering:function C(){I.call(this)
	return this._super()
	},postBuildRendering:function R(){Q.call(this)
	return this._super()
	},setModel:function M(X){this.model=X
	},updatingTooltipHelper:function S(b,l,f){var Y=b&&b.getAttribute("aid"),X=b&&b.getAttribute("ttl"),a=b.getAttribute("SC"),e={refNode:this.domNode,posType:mstrmojo.tooltip.POS_BOTTOMLEFT,contentNodeCssClass:"gp-tooltip"},k=(this.model.getZoomFactor?this.model.getZoomFactor():(this.model.docModel?this.model.docModel.getZoomFactor():1))+"em"
	if(Y==this.cAreaIdx){return 
	}this.cAreaIdx=Y
	e.content=X||this.defaultTooltip
	var Z="font-size:"+k+"
	"
	if(a){Z+="border-color:#"+a
	}e.contentNodeCssText=Z
	var g=b.getAttribute("coords"),j=99999,h=99999
	if(!f){if(g&&g.length>0){g=g.split(",")
	var d=0
	while(d+1<g.length){j=Math.min(j,parseInt(g[d++],10))
	h=Math.min(h,parseInt(g[d++],10))
	}}}if(j===99999){j=l.x
	}if(h===99999){h=l.y
	}e.top=h
	e.left=j
	this.richTooltip=null
	this.set("richTooltip",e)
	},redraw:function O(){if(!this.hasRendered){return false
	}Q.call(this)
	var X=this.getFormats()
	if(this.as&&X.height&&X.width){this.refreshMap()
	}return true
	},refreshMap:function H(){if(this.as){I.call(this)
	}},getAreaShapeName:function D(X){return W[parseInt(X,10)]||"default"
	}})
	var U=A.tooltipCLS="mstrmojo-mobileGraph-Tooltip-content",F=A.canvasCLS="mobile-graph-highlight-canvas"
	A.hideTooltips=function(){J.forEach(document.getElementsByClassName(U),function(X){X.style.display="none"
	})
	J.forEach(document.getElementsByClassName(F),function(X){X.getContext("2d").clearRect(0,0,X.width,X.height)
	X.width=X.width
	})
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.registry","mstrmojo.tooltip","mstrmojo.HBox")
	var B=mstrmojo.css,G=mstrmojo.hash,A=1,F=2,E=3,D=function(I){var H=B.getStyleValue(I,"verticalAlign")
	return{top:A,bottom:E,middle:F}[H]||A
	}
	mstrmojo.SliderBox=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.SliderBox",markupString:'<div id="{@id}" class="{@cssClass}" style="{@cssText}" tabindex="{@tabIndex}" ><div class="valuePart" style="{@valueCssText}"><span class="valueLabel">{@valueLabel}</span><span class="valueText">{@en@valueText}</span></div><table class="sliderPart" style="{@sliderCssText}"><tbody><tr><td class="minText">{@en@min}</td><td class="sliderWrapper"></td><td class="maxText">{@en@max}</td></tr></tbody></table></div>',markupSlots:{valuePartNode:function(){return this.domNode.firstChild
	},valueLabelNode:function(){return this.domNode.firstChild.firstChild
	},valueTextNode:function(){return this.domNode.firstChild.lastChild
	},sliderPartNode:function(){return this.domNode.lastChild
	},minTextNode:function(){return this.domNode.lastChild.rows[0].cells[0]
	},maxTextNode:function(){return this.domNode.lastChild.rows[0].cells[2]
	},sliderNode:function(){return this.domNode.lastChild.rows[0].cells[1]
	}},markupMethods:{onmaxChange:function(){this.maxTextNode.innerText=this.max
	},onminChange:function(){this.minTextNode.innerText=this.min
	},onvalueTextChange:function(){this.valueTextNode.innerText=this.valueText
	},onunsetChange:function(){var H=this.sliderBar.domNode
	if(H){mstrmojo.css.toggleClass(H,"unset",this.unset)
	}}},tabIndex:-1,sliderRef:null,valueLabel:mstrmojo.desc(4104,"Value:"),valueText:"",min:"",max:"",interval:0,isSequential:false,unset:false,cssClass:"mstrmojo-SliderGroup",postCreate:function C(){if(!this.sliderRef){this.sliderRef={scriptClass:"mstrmojo.Slider",isHoriz:true,ontitleChange:function(){if(this.domNode&&this.title){this.domNode.setAttribute("title",this.title)
	}},onselectionChange:function(){if(!this.hasRendered){return 
	}var I=this.items[this.selectedIndex]&&this.items[this.selectedIndex].n,H=this.parent
	if(H.unset){H.unset=false
	B.removeClass(this.domNode,"unset")
	}H.set("valueText",I)
	H.set("value",I)
	var J=this.selectedIndices,K=G.isEmpty(J)
	this.set("max",K?this.items.length-1:G.max(J,false,true))
	this.set("min",K?0:G.min(J,false,true))
	this.typeHelper.updateThumb()
	}}
	}this.sliderRef.slot="sliderNode"
	this.sliderRef.alias="sliderBar"
	this.addChildren(this.sliderRef)
	},preBuildRendering:function(){this._super()
	var M=this.min,I=this.max,K=mstrmojo.num.parseNumeric(this.value),J=this.items,H,L=this.sliderBar
	if(this.isSequential){H=Math.floor((Math.max(Math.min(K,I),M)-M)/this.interval)
	if(isNaN(K)||K<M||K>I){this.unset=true
	}}else{H=mstrmojo.array.find(J,"v",String(K))
	if(H==-1){this.unset=true
	H=0
	}}L.set("items",J)
	L.select(H||0)
	},postBuildRendering:function(){this._super()
	if(this.unset){B.addClass(this.sliderBar.domNode,"unset")
	}},alignSlider:function(K,H){var J=D(K),I,L
	if(!this.valuePartNode){L=this.valueCssText||""
	I=this.sliderCssText||""
	if(J===A){this.valueCssText="top:0
	"+L
	this.sliderCssText="top:0
	"+I
	}else{if(J===E){this.valueCssText="bottom:0
	"+L
	this.sliderCssText="bottom:0
	"+I
	}else{this.valueCssText="height: 100%
	line-height: "+H+"px
	"+L
	this.sliderCssText="height: 100%
	"+I
	}}}else{I=this.sliderPartNode.style
	L=this.valuePartNode.style
	if(J){if(J===A){I.top=L.top="0"
	}else{if(J===E){I.bottom=L.bottom="0"
	}else{L.height=I.height="100%"
	L.lineHeight=inlineHeight+"px"
	}}}}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.locales","mstrmojo.tooltip","mstrmojo.dom","mstrmojo.css","mstrmojo.array","mstrmojo.hash","mstrmojo.string")
	mstrmojo.requiresDescs(11038,11935,11936,11937,11856,11938,13138,13230,13260,14633,14636)
	var C=mstrmojo.hash.copy,P=mstrmojo.css,J=mstrmojo.dom,N=mstrmojo.array,E=mstrmojo.string,Q=function Q(X,U){if(!X){return 
	}var S=U&&U.length||0,W
	for(W=S
	W>0
	W--){X=X.replace(new Array(W+2).join("#"),U[W-1])
	}return X
	},L=function L(U){if(!U){return 
	}var b=this,X=J.position(U.refNode||b.refNode),a=J.position(b.domNode),Z=U.position||R.RIGHT,W=0,c=0,S=9+(U.margin!==undefined?U.margin:0),Y=" "
	switch(Z){case R.TOP:c=-a.h-S
	Y+="t"
	break
	case R.BOTTOM:c=X.h+S
	Y+="b"
	break
	case R.LEFT:W=-a.w-S
	Y+="l"
	break
	case R.RIGHT:W=X.w+S
	Y+="r"
	break
	}mstrmojo.hash.forEach(C(U,{left:W,top:c,contentNodeCssClass:Y,visible:false}),function(d,e){this[e]=d
	},this)
	this.set("visible",U.invalid)
	},A=function A(S){var Y=this,W,X=S.errorCode,Z=S.errorMsg,U=S.args,a=mstrmojo.vi.ui.rw.selectors.EnumWarningMessages
	if(S.invalid){W={content:X!==null?(Y.generateContentHTML(Q(a[X],U))||a["*"]):Z}
	}return W
	}
	mstrmojo.vi.ui.rw.selectors.EnumWarningMessages=C(mstrmojo.locales.validation,{"*":mstrmojo.desc(11038,"Invalid"),invalidValueVIWarning:mstrmojo.desc(11935,"Invalid characters"),emptyValueVIWarning:mstrmojo.desc(11936,"Please enter a number"),notIntegerVIWarning:mstrmojo.desc(11937,"Please enter an integer"),minValueVIWarning:mstrmojo.desc(19051,"Please enter a value greater than ##."),maxValueVIWarning:mstrmojo.desc(19050,"Value is too large."),outOfRangeVIWarning:mstrmojo.desc(11856,"Please enter value between ## and ###."),noMultiSelectionVIWaring:mstrmojo.desc(11938,"This selector does not support multiple selections."),continuousSelectionVIWaring:mstrmojo.desc(13138,"This selector does not support non-continuous selections."),bigDecimalMetricSliderVIWaring:mstrmojo.desc(13230,"Cannot qualify on big decimal value. Please change qualification type to Rank"),unableDisplaySelectionVIWarning:mstrmojo.desc(13260,"Filter cannot display actual selections."),imageSizeExceedLimitVIWarning:mstrmojo.desc(14633,"Cannot embed an image larger than ##MB. Your image is still ###MB after compression. Enter a URL to the image instead."),imageFileTypeNotSupportedVIWarning:mstrmojo.desc(14636,"Invalid image format. Please use .png, .jpg, .jpeg, .gif or .bmp."),imageOverSizeNoCompessionVIWarning:mstrmojo.desc(14665,"Cannot embed an image larger than ##MB. Enter a URL to the image instead."),largeSelectionVIWarning:mstrmojo.desc(19052,"Selecting a large number of elements may severely affect performance.")})
	mstrmojo.vi.ui.rw.selectors.EnumWarningPosition={TOP:1,BOTTOM:2,LEFT:3,RIGHT:4}
	var R=mstrmojo.vi.ui.rw.selectors.EnumWarningPosition
	mstrmojo.vi.ui.rw.selectors._HasWarningMessage=mstrmojo.provide("mstrmojo.vi.ui.rw.selectors._HasWarningMessage",{_mixinName:"mstrmojo.vi.ui.rw.selectors._HasWarningMessage",warningSlotName:"warning",showWarning:function G(W){var b=this,d=b.warningSlotName,f=b[d],S=W&&W.lasting||6000,Z=W&&W.offsetAlgo,a=W.refNode||this.domNode,U=W.highlight!==false,e=W.closeOnClick===false?false:true,c
	if(!f){f=new mstrmojo.Tooltip({refNode:a,offsetAlgo:Z,highlight:U,closeOnClick:e,updatePopupConfig:null,cssClass:"vi-warning vi-tooltip-V"})
	b.addDisposable(f)
	b[d]=f
	c=b.closeOnClick=b.getCloseOnClickListener()
	J.attachEvent(document.body,"click",c)
	}var Y=W.position||R.TOP,X="vi-warning vi-tooltip-"
	switch(Y){case R.TOP:f.cssClass=X+"V"
	break
	case R.BOTTOM:f.cssClass=X+"A"
	break
	case R.LEFT:f.cssClass=X+"D"
	break
	case R.RIGHT:f.cssClass=X+"C"
	break
	}f.open(b,A.call(b,W))
	this.adjustPosition(W)
	if(U){P.toggleClass(f.refNode,"mstrmojo-Warning",true)
	}window.clearTimeout(b._warningTimeOut)
	b._warningTimeOut=window.setTimeout(function(){b.hideWarning()
	},S)
	},hideWarning:function H(){var U=this,S=U[U.warningSlotName]
	if(S&&S.visible&&S.close){if(S.highlight){P.toggleClass(S.refNode,"mstrmojo-Warning",false)
	}S.close()
	window.clearTimeout(U._warningTimeOut)
	delete U._warningTimeOut
	}},getCloseOnClickListener:function I(){var S=this
	return function(){var U=S[S.warningSlotName]
	if(U.closeOnClick){S.hideWarning()
	}}
	},adjustPosition:function M(S){var U=this
	L.call(U[U.warningSlotName],S)
	},generateContentHTML:function D(S){return E.encodeHtmlString(S,true)
	},bindWarningHandler:function F(){N.forEach(arguments,function S(W){if(!W||!W.attachEventListener){return 
	}var X=W._validationEventListener,U
	if(X){W.detachEventListener(X)
	delete W._validationEventListener
	}U=this.getValidationEvtListener()
	if(U){W._validationEventListener=W.attachEventListener("validationChange",this.id,U)
	}},this)
	},getValidationEvtListener:function B(){var U=this
	return function S(W){var X=W.value
	U[(X&&X.invalid?"show":"hide")+"Warning"](X)
	}
	},unrender:function K(S){var U=this[this.warningSlotName]
	if(U){U.unrender()
	}this._super(S)
	},destroy:function O(S){J.detachEvent(document.body,"click",this.closeOnClick)
	return this._super(S)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo._IsList","mstrmojo.array","mstrmojo.css","mstrmojo.dom","mstrmojo.string","mstrmojo.tooltip","mstrmojo.ListBase")
	var F=mstrmojo.array,G=mstrmojo.css,E=mstrmojo.dom,I=mstrmojo.string
	function B(){var K,P,J=this.itemsContainerNode,L,Q=this.items,U=[],S,N,R=this.padding,O,M=0
	this.items.pop()
	if(!this.width){return 
	}K=parseInt(this.width,10)
	P=J.scrollWidth||E.position(J).w
	if(P<=K){return 
	}S=J.lastChild
	G.removeClass(S,"hide")
	N=E.position(S).w
	L=J.children
	O=L.length-1
	while(M<O){K-=(E.position(J.children[M]).w+R)
	if(K<N){break
	}M++
	}while(M<O){J.removeChild(L[L.length-2])
	U.push(Q[M++])
	}S.textContent=mstrmojo.desc(15124,"## more").replace("##",U.length)
	this.tooltipContent=F.map(U,function(W){return I.encodeHtmlString(W.n)
	}).join("</br>")
	}mstrmojo.vi.ui.TruncatedList=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList],{scriptClass:"mstrmojo.vi.ui.TruncatedList",cssClass:"mstr-truncList",padding:0,overflowCls:"",getAdditionalProperties:mstrmojo.emptyFn,useRichTooltip:true,getItemProps:function H(M,J){var L=this._super(M,J),K=M.style
	if(K){L.addStyle(K)
	}this.getAdditionalProperties(L,J)
	return L
	},buildRendering:function C(){this.items.push({alias:"overflowItem",cls:this.overflowCls+" hide",n:mstrmojo.desc(15124,"## more").replace("##",this.items.length)})
	if(this._super){this._super()
	}},setWidth:mstrmojo.emptyFn,postBuildRendering:function A(){this.setWidth()
	B.call(this)
	if(this._super){this._super()
	}},updateTooltipConfig:function D(K){var M=this.itemsContainerNode.children,J=M.length,L=J&&M[J-1],N
	if(L&&L===E.eventTarget(window,K)){N=E.position(L)
	this.richTooltip={posType:mstrmojo.tooltip.POS_TOPLEFT,cssClass:"vi-regular vi-tooltip-A",content:this.tooltipContent,top:N.y+N.h+10,left:N.x}
	}else{delete this.richTooltip
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocLayoutViewer","mstrmojo._Formattable","mstrmojo._TouchGestures","mstrmojo._HasTouchScroller","mstrmojo.dom")
	function J(g){var h,X=this._newLinks,f=mstrmojo.hash.copy(X,this._allLinks),h=g?f:X
	this._newLinks={}
	if(mstrMobileApp.isOnline()){return 
	}var Z=this.controller,Y,c,a=[],j=[],d
	for(Y in h){c=h[Y]
	d=Z.getLinkRequest(c)
	if(d){a.push(d)
	j.push(c)
	}}var b=a.length
	if(b){var e=function(k){for(Y=0
	Y<b
	Y++){c=j[Y]
	c.src.setLinkEnabled(k[Y])
	}}
	if(mstrApp.isHosted()){}else{this.model.getDataService().checkCachedLinkTargets(a,{success:e,failure:mstrmojo.emptyFn})
	}}}function D(){var Z=this.children,Y,X
	for(Y=0,X=(Z&&Z.length)||0
	Y<X
	Y++){var b=Z[Y],a=b.slot
	if(a){this.setSlotDimensions(a,b.height,b.width)
	}}}mstrmojo.MobileDocLayoutViewer=mstrmojo.declare(mstrmojo.DocLayoutViewer,[mstrmojo._TouchGestures,mstrmojo._HasTouchScroller],{scriptClass:"mstrmojo.MobileDocLayoutViewer",layoutConfig:{h:{groupBy:"0",fixedHeaderNode:"auto",layout:"100%",fixedFooterNode:"auto",incFetchNode:"0"},w:{layout:"100%"}},formatHandlers:{domNode:["background-color"]},scrollerConfig:{vScroll:false,hScroll:false,bounces:false,showScrollbars:false},usesTouches:true,init:function O(X){this._super(X)
	this._newLinks={}
	this._allLinks={}
	},postBuildRendering:function U(){this._super()
	if(this.fixedFooterNode.clientHeight>0){D.call(this)
	}},preBuildRendering:function A(){this._super()
	this._scrollCssText="overflow:"+((!mstrmojo.dom.isWinPhone)?"hidden":"auto")
	var Y=this.id,X=this.updateScroller
	if(!this.afterScrollSubscr){this.afterScrollSubscr=this.docLayout.attachEventListener("afterScroll",Y,function(){this.updateScroller()
	J.call(this)
	})
	this.model.attachEventListener("partialUpdate",Y,X)
	}},mapID:null,setMapID:function I(X){this.mapID=X
	},beforeViewHidden:function E(X){if(!this.mapID){return 
	}var Y=mstrmojo.all[this.mapID]
	if(Y&&Y.beforeViewHidden){Y.beforeViewHidden(X)
	}this.mapID=null
	},updateScrollerConfig:function R(){var Y=this.scrollerConfig,a=this.docLayout.containerNode
	if(a){var c=this.docLayout,Z={start:0,end:Math.max(c.getWidth()-this.scrollboxWidth,0)},e={start:0,end:Math.max(c.getHeight()-this.scrollboxHeight,0)},X=(e.start!==e.end),b=(Z.start!==Z.end),d
	if(X||b){d={x:Z,y:e}
	}else{Y.origin={x:0,y:0}
	}mstrmojo.hash.copy({scrollEl:this.scrollboxNode.firstChild,offset:d,vScroll:X,hScroll:b,showScrollbars:false},Y)
	if(!Y.origin){Y.origin=this._origin={x:0,y:0}
	}c.scrollBuffer=parseInt(mstrApp.rootView.getContentDimensions().h,10)
	}return this._super()
	},initScroller:function M(X){this._super(X)
	X.attachEventListener("scrollDone",this.id,function(Y){this._origin={x:Y.x,y:Y.y}
	this.notifyScrollListeners(Y)
	})
	},touchBegin:function N(Y){var X=this.parent
	if(X&&X.isAnimating&&X.isAnimating()){Y.stop()
	return false
	}return this._super(Y)
	},shouldTouchBubble:function K(X){if(mstrmojo.dom.contains(this.scrollboxNode,X.target,true,this.domNode)){return this._super(X)
	}return true
	},touchSwipeBegin:function L(Z){if(this.shouldTouchBubble(Z)){var Y=this.parent,X=Y.canScroll&&Y.canScroll(Z)
	if(X){this._parentScrolling=true
	Y.beginScroll(Z)
	}return X
	}this._super(Z)
	},touchSwipeMove:function B(X){if(this._parentScrolling){this.parent.scroll(X)
	return 
	}this._super(X)
	},touchSwipeEnd:function P(X){X.evt.handled=true
	if(this._parentScrolling){delete this._parentScrolling
	this.parent.endScroll(X)
	return 
	}this._super(X)
	},touchTap:function S(){var X=this.controller
	if(X&&X.viewTap){X.viewTap()
	}},renderChildren:function F(){this._super()
	this.updateScroller()
	},unrender:function Q(){delete this.scrollerConfig.origin
	var X=this._scroller
	if(X){delete X.origin
	}if(this.subscr){mstrmojo.publisher.unsubscribe(this.subscr)
	delete this.subscr
	}if(this.afterScrollSubscr){mstrmojo.publisher.unsubscribe(this.afterScrollSubscr)
	delete this.afterScrollSubscr
	}this._super()
	},addLinkInfo:function H(Y,X){this._newLinks[Y]=X
	},onRender:function C(){this._super()
	if(!this.subscr){var Y=mstrmojo.publisher
	this.subscr=Y.subscribe(Y.NO_SRC,Y.CONNECTIVITY_CHANGED_EVENT,function(c){if(c){var Z=this._allLinks,a,b
	for(a in Z){b=Z[a].src
	if(!b.linkEnabled){b.setLinkEnabled(true)
	}}}else{J.call(this,true)
	}},this.id)
	}if((mstrApp.useBinaryFormat||mstrApp.isHosted())&&!mstrMobileApp.isOnline()){var X=this
	window.setTimeout(function(){J.call(X)
	},100)
	}},setSlotDimensions:function W(e,d,a){if(e==="layout"){var Z=parseInt(this.height,10),Y=this.fixedHeaderNode.clientHeight,c=this.fixedFooterNode.clientHeight,X=parseInt(d,10),b=Z-Y-c
	if(Y+c>=Z){d=0
	}else{if(X!=b){d=b+"px"
	}}}this._super(e,d,a)
	},getCaptureDimensions:function G(){return this.docLayout.getCaptureDimensions()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.Container","mstrmojo._BindTargetChildren","mstrmojo.TabButton","mstrmojo.TabStripBase")
	var E=mstrmojo.array
	function D(G,F){if(G.autoHide){G.set("visible",F)
	}}mstrmojo.TabStrip=mstrmojo.declare(mstrmojo.TabStripBase,[mstrmojo._BindTargetChildren],{scriptClass:"mstrmojo.TabStrip",markupString:'<div id="{@id}" class="mstrmojo-TabStrip {@cssClass}" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},btnCssDisplay:"inline",autoHide:true,tabButtonClass:"TabButton",init:function C(F){if(F&&F.autoHide){F.visible=false
	}this._super(F)
	},addTabButtons:function B(G,O){var K=this.targetProps||{},U=K.childTitle||"n",P=K.childColor||"tbc",S=this.tabButtonClass,L=[],R=this.target,J=this.btnCssDisplay,F=function(){R.set("selected",this.target)
	}
	mstrmojo.requiresCls("mstrmojo."+S)
	for(var M=0,N=(G&&G.length)||0
	M<N
	M++){var Q=G[M],I=Q[U]
	if(I){var H=mstrmojo.insert({scriptClass:"mstrmojo."+S,title:I,backgroundColor:Q[P],target:Q,cssDisplay:J,onclick:F})
	L.push(H)
	}}if(L.length){D(this,L.length)
	this.addChildren(L,O)
	}this.selectionChange()
	},removeTabButton:function A(G){var F=E.filter(this.children,function(H){return(H.target===G)
	},{max:1})
	if(F&&F[0]){D(this,F.length-1)
	this.removeChildren(F[0])
	F[0].destroy()
	}},clearButtons:function(){var F=E.map(this.children,function(G){return G.id
	})
	this.removeChildren()
	E.forEach(F,function(G){if(mstrmojo.all[G]){mstrmojo.all[G].destroy()
	}})
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.ui.PopupButton","mstrmojo._HasLayout")
	mstrmojo.ui.editors.controls.PreviewButton=mstrmojo.declare(mstrmojo.ui.PopupButton,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.ui.editors.controls.PreviewButton",markupString:'<div id="{@id}" class="mstrmojo-ui-PreviewButton {@cssClass}" style="{@cssText}"><div class="cf" mstrAttach:click><div class="preview"></div><div class="btn">&nbsp
	</div></div><div class="host"></div></div>',markupSlots:{previewNode:function(){return this.domNode.firstChild.firstChild
	},btnNode:function(){return this.domNode.firstChild.lastChild
	},widgetHostNode:function(){return this.domNode.lastChild
	},clickableNode:function(){return this.domNode.firstChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},layoutConfig:{h:{previewNode:"100%",btnNode:"100%",widgetHostNode:"0px"},w:{previewNode:"100%",btnNode:"20px",widgetHostNode:"all"},xt:true},isHostedWithin:false,anchorSlot:"clickableNode",getLayoutOffsets:function B(){return{h:2,w:2}
	},updatePreview:function C(){throw new Error(this.scriptClass+" must implement updatePreview.")
	},getPopupHostNode:function A(){return this.widgetHostNode
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.PopupWidget","mstrmojo.ui.menus._IsMenuPopup","mstrmojo.css")
	mstrmojo.ui.menus.MenuPopup=mstrmojo.declare(mstrmojo.ui.PopupWidget,[mstrmojo.ui.menus._IsMenuPopup],{scriptClass:"mstrmojo.ui.menus.MenuPopup",popupConfig:null,init:function B(E){this._super(E)
	var C=this.popupConfig
	if(!C.contents){throw new Error("Cannot open popup without contents.")
	}var D=["mstrmojo-ui-MenuPopup"],F=C.cssClass
	if(F){D.push(F)
	}if(C.hasToggleItem){D.push("hasToggleItem")
	}mstrmojo.css.addWidgetCssClass(this,D)
	this.addChildren(C.contents)
	},shouldPropagateLockHover:function A(){return false
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.dom")
	var E=mstrmojo.dom,G=mstrmojo.css,D=mstrmojo.Button.newIconButton,A="mstrmojo-oivmSprite ",F=0,K=1,L=2,I={0:"inline",1:"above",2:"below"}
	function B(M){var N=mstrmojo.boxmodel.offset(M,document.body)
	return{left:N.left,top:N.top,width:M.offsetWidth,height:M.offsetHeight}
	}mstrmojo.OIVMDICPopup=mstrmojo.declare(mstrmojo.Popup,null,{scriptClass:"mstrmojo.OIVMDICPopup",autoCloses:false,cssClass:"inline",markupString:'<div dic="1" id={@id} class="mstrmojo-OIVMDICPopup {@cssClass}" style="{@cssText}" mstrAttach:keydown><div class="toolbar"></div><div class="dataInputControl"></div><div class="boxtip"></div></div>',markupSlots:{toolbarNode:function(){return this.domNode.firstChild
	},containerNode:function(){return this.domNode.children[1]
	},tipNode:function(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	},onheightChange:function(){this.domNode.style.height=this.height||""
	},onwidthChange:function(){this.domNode.style.width=this.width||""
	},ontopChange:function(){this.domNode.style.top=this.top||""
	},onleftChange:function(){this.domNode.style.left=this.left||""
	},oncssClassChange:function(){this.domNode.className="mstrmojo-OIVMDICPopup "+this.cssClass
	}},setStyle:function(){var W=this.widget,d=W.dic,N=W.popupStyle,Y=B(W.openerNode),X=this.domNode,Q=X.style,Z=W.domNode.style,M=this.tipNode,O=d.wm?d.w:Y.width,c=d.hm?d.h:Y.height,U
	this.set("cssClass",I[N])
	if(N===F){for(U in Y){Q[U]=Y[U]+"px"
	}W.set("width",O-2)
	Z.width=(O-8)+"px"
	Z.height=(c>8)?(c-8)+"px":"auto"
	}else{if(N===K){var b=O,R=Y.left+Y.width/2-21,a=Y.top,S=a<76
	a=S?a+Y.height+15:a-76
	M.className=S?"boxtip up":"boxtip"
	Q.left=R+"px"
	Q.top=a+"px"
	Q.width=W.domNode.scrollWidth+"px"
	Q.height="44px"
	b=b>100?(b+70):200
	var P=document.body.offsetWidth-R-b-parseInt(G.getStyleValue(X,"paddingLeft"),10)-parseInt(G.getStyleValue(X,"paddingRight"),10)
	P=P>0?0:P
	Q.left=R+P+"px"
	M.style.left=15-P+"px"
	}else{if(N===L){Q.top=Y.top+"px"
	Q.left=Y.left+"px"
	Q.height=Z.height
	Q.width=Z.width
	}}}},onOpen:function C(){var M=this.widget,O=this.lastwidget
	if(O!=M){if(O){this.removeChildren(O)
	}this.lastwidget=M
	}if(M.hasRendered){M.unrender()
	}this.addChildren([M])
	this.setStyle()
	var N=this
	this.md=this.md||function(Q){var R=E.eventTarget(self,Q),P=E.findAncestorByAttr(R,"dic",true)
	if(!P&&!mstrmojo.all.mojoAlertx9){N.onBlur()
	E.preventDefault(self,Q)
	}}
	this.mw=this.mw||function(P){N.onBlur()
	}
	E.attachEvent(document,"mousedown",this.md)
	E.attachEvent(document,E.isFF?"DOMMouseScroll":"mousewheel",this.mw)
	},onBlur:function(){if(this.widget.popupStyle===F){this.onApply()
	}else{this.onCancel()
	}},onClose:function(){E.detachEvent(document,"mousedown",this.md)
	E.detachEvent(document,E.isFF?"DOMMouseScroll":"mousewheel",this.mw)
	this.toolbar.apply.set("enabled",false)
	this.set("hasInvalidData",false)
	if(this.widget&&this.widget.hasRendered){this.widget.lockPopup()
	}},onApply:function(){if(this.widget.applyChanges()!==false){this.close()
	}},onCancel:function(){if(this.widget&&this.widget.hasRendered){this.widget.cancelChanges()
	}this.close()
	},onkeydown:function J(N){var M=N.hWin,O=N.e||M.event
	if(this.widget.applyOnEnter&&O.keyCode===13){this.onApply()
	}else{if(O.keyCode===27){this.onCancel()
	}}},enableApply:function(){this.toolbar.apply.set("enabled",true)
	},preBuildRendering:function H(){if(!this.slot&&!this.placeholder){this.placeholder=document.body.appendChild(document.createElement("div"))
	}if(this._super){return this._super()
	}else{return true
	}},onhasInvalidDataChange:function(){var M=this.invalidCurtain
	if(!M){M=this.invalidCurtain=document.createElement("div")
	M.className="mstrmojo-fullscreen-curtain"
	document.body.appendChild(M)
	}M.style.display=this.hasInvalidData?"block":"none"
	},children:[{scriptClass:"mstrmojo.ToolBar",slot:"toolbarNode",alias:"toolbar",children:[D(mstrmojo.desc(134,"Apply"),A+"tbApply greyed",function(){this.parent.parent.onApply()
	},null,{enabled:false,alias:"apply",onenabledChange:function(){G.toggleClass(this.domNode,"greyed",!this.enabled)
	}}),D(mstrmojo.desc(221,"Cancel"),A+"tbCancel",function(){this.parent.parent.onCancel()
	})]}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Popup","mstrmojo._HasBuilder","mstrmojo._IsAnchorable","mstrmojo.hash","mstrmojo.array","mstrmojo.dom")
	var N="mstrmojo-DocInfoWindow-tip",G=1,E=mstrmojo.dom,P=mstrmojo.hash,J=mstrmojo.array
	$D=mstrmojo.dom,$A=mstrmojo.array
	function H(Z){Z=Z||{}
	var Y
	if(R()){Y=this.anchor
	}else{Y=Z.anchor||this.anchor
	}var X=E.findWidget(Y)||(Y&&Y.w)
	Z.lockIW=X
	return Z
	}function W(Y){var X=Y.model
	return X.getLayoutDataCache(X.getCurrentLayoutKey())[Y.psId]
	}function U(){var Y=this.anchor,a=E.findWidget(Y)||(Y&&Y.w),X=0
	while(a){var Z=a.className
	if(Z==="mstrmojo-DocInfoWindow"){X=mstrmojo.css.getStyleValue(a,"z-index")
	break
	}a=a.parentNode||(a.domNode&&a.domNode.parentNode)
	}return X
	}function R(){return mstrApp&&mstrApp.useOriginalInfoWindow==="1"
	}mstrmojo.DocInfoWindow=mstrmojo.declare(mstrmojo.Popup,[mstrmojo._HasBuilder,mstrmojo._IsAnchorable,mstrmojo._HasPopup],{scriptClass:"mstrmojo.DocInfoWindow",markupString:'<div class="mstrmojo-DocInfoWindow-wrapper @{waitState}"><div id="{@id}" class="mstrmojo-DocInfoWindow"></div><div class="'+N+' top"></div><div class="mstrmojo-DocInfoWindow-curtain" mstrAttach:click></div></div>',markupSlots:{infoNode:function(){return this.domNode.firstChild
	},tipNode:function(){return this.domNode.childNodes[1]
	},curtainNode:function(){return this.domNode.lastChild
	},containerNode:function(){return this.domNode.firstChild
	}},boundaryNodeName:"boundary",popupNodeName:"infoNode",baseTipClass:N,anchorOffset:1,anchorOrientation:"h",anchor:null,boundary:null,closeOnClick:true,autoCloseLocks:null,autoScrollCloseLocks:null,tipNodeColor:"",ontouchstart:function K(){this.close()
	},close:function O(){if(this.isAutoCloseLocked()){return 
	}if(mstrApp&&mstrApp.isOIVM&&mstrApp.isOIVM()&&mstrApp.modalOpenEditors){if(Object.keys(mstrApp.modalOpenEditors).length>0){return 
	}}var X={name:"infoWindowClosed",psKey:this.psKey}
	var Y=R()
	if(!Y){X.id=this.id
	}this.model.raiseEvent(X)
	if(this._super){this._super()
	}if(this.anchor&&this.anchor.lockInfoWinId&&mstrmojo.all[this.anchor.lockInfoWinId]){mstrmojo.all[this.anchor.lockInfoWinId].releaseLock(this)
	}this.clearAnchorHilites()
	E.detachEvent(document,E.isFF?"DOMMouseScroll":"mousewheel",this.mw)
	E.detachEvent(document,"scroll",this.mw)
	E.detachEvent(window,"resize",this._resizeHandler)
	if(Y){delete this.anchor
	}},clearAnchorHilites:function C(){var X=mstrmojo.dom.findWidget(this.anchor)
	if(X&&X.clearHilites){if(X.parent&&X.parent.clearAllHighlights){X.parent.clearAllHighlights()
	}else{X.clearHilites(X.hiliteKey)
	delete X.hiliteKey
	}}},prepareAnchor:function A(){if(this.children&&this.children[0]){var Y=this.infoNode.style,Z=this.children[0],a=Z.dimNode||Z.domNode,b=a.offsetWidth,X=a.offsetHeight
	Y.width=(b+2*G)+"px"
	Y.height=(X+2*G)+"px"
	}},nudge:function M(){this.positionDialog()
	var X=this.containerNode.style
	if(this.anchor){var Y=parseInt(U.call(this),10)
	if(Y){this.containerNode.style.zIndex=(Y+2)+""
	}}this.model.raiseEvent({name:"infoWindowRendered",id:this.id})
	},onRender:function F(){this.open(this.opener)
	},open:function L(f,Z){var X=mstrmojo.all[this.psId]
	if(X){var c=X.defn.sfp,k=X.selectedIdx
	if(c&&k!==0){X.switchToPanel(0,0)
	X.children[k].set("selected",false)
	}}if(this._super){this._super(f,H.call(this,Z))
	}var b=function b(l){if(!l){return 
	}if(l.defn&&l.defn.ifp){l.refresh()
	}J.forEach(l.children||[],function(m){b(m)
	})
	}
	b(X)
	if(mstrApp.isTablet&&mstrApp.isTablet()){var g=mstrmojo.touchManager,Y=this.id,e=this.domNode
	this._tchHandler=g.attachEventListener("touchesBegin",Y,function(n){if(this.isAutoCloseLocked()){return 
	}var m=mstrmojo.dom.contains(e,n.touch.target,true)
	var p=document.getElementsByClassName("heatmap-infobox"),l=(p&&p.length)||0,o,r=n.touch.target,q=false
	for(o=0
	o<l
	o++){if(mstrmojo.dom.contains(p[o],r,true)){q=true
	break
	}}if(!m&&!mstrApp.hasOpenDialog()&&!q){this.closeOnTablet()
	}})
	}var d=this
	d.mw=d.mw||function(m){if(d.isAutoScrollCloseLocked()){return 
	}var l=E.eventTarget(self,m)
	if(d.autoCloses&&!E.contains(d.domNode,l,true,document.body)&&!(d.isWithinParentWidget&&d.isWithinParentWidget(l))){d.close()
	}}
	d._resizeHandler=function(l){d.positionDialog(true)
	}
	E.attachEvent(document,E.isFF?"DOMMouseScroll":"mousewheel",d.mw)
	E.attachEvent(document,"scroll",d.mw)
	E.attachEvent(window,"resize",d._resizeHandler)
	if(R()){return 
	}var j=(this.autoCloseLocks||[]).slice()
	for(var a=0
	a<j.length
	++a){var h=mstrmojo.all[j[a]]
	if(h instanceof mstrmojo.DocInfoWindow){if(h.hasRecursiveAutoCloseLock(this)){this.releaseLock(h)
	this.moveLockHoverToBack()
	}}}},hasRecursiveAutoCloseLock:function I(c){var Y=(this.autoCloseLocks||[]).slice()
	var a=Y.slice()
	while(Y.length>0){var e=Y.pop()
	if(e===c.id){return true
	}var X=mstrmojo.all[e]
	if(!(X instanceof mstrmojo.DocInfoWindow)){continue
	}var b=(X.autoCloseLocks||[]).slice()
	for(var Z=0
	Z<b.length
	++Z){var d=b[Z]
	if(J.includes(a,d)){continue
	}a.push(d)
	Y.push(d)
	}}return false
	},getChildren:function D(){return[W(this)]
	},preBuildRendering:function B(){var Z=W(this),Y=Z.defn.fmts
	Y.left=G+"px"
	Y.top=G+"px"
	if(Y.border){var X=Y.border.split(" ")
	if(X.length>=3){this.tipNodeColor=X[2]
	}}if(this._super){this._super()
	}},postBuildRendering:function S(){var X=this
	this.set("visible",true)
	if(this._super){this._super()
	}if(!this.closeOnClick){this.curtainNode.style.display="none"
	}if(!R()&&!this._infoWClosedListener){this._infoWClosedListener=this.model.attachEventListener("infoWindowClosed",this.id,function(Y){X.releaseLock(Y)
	})
	}},closeOnTablet:function Q(){this.close()
	if(this._tchHandler){this._tchHandler.clear()
	}},postwaitStateChange:function(){var X=this.children[0],Y=X.dimNode||X.domNode
	if(!this.waitState&&!Y){this.refresh()
	}},renderChildren:function(){if(!this.waitState){this._super()
	}},registerLock:function(X){var Y=this.autoCloseLocks||[]
	if(J.indexOf(Y,X.id)===-1&&this!=X){Y.push(X.id)
	this.autoCloseLocks=Y
	}},releaseLock:function(X){J.removeItem(this.autoCloseLocks,X.id)
	},isAutoCloseLocked:function(){this.autoCloseLocks=J.filter(this.autoCloseLocks,function(X){return !!mstrmojo.all[X]
	})
	return this.autoCloseLocks.length>0
	},openPopupMenu:function(Y,X){this.openPopup(Y,X)
	},registerScrollLock:function(X){var Y=this.autoScrollCloseLocks||[]
	if($A.indexOf(Y,X.id)===-1){Y.push(X.id)
	this.autoScrollCloseLocks=Y
	}},releaseScrollLock:function(X){$A.removeItem(this.autoScrollCloseLocks,X.id)
	},isAutoScrollCloseLocked:function(){this.autoScrollCloseLocks=$A.filter(this.autoScrollCloseLocks,function(X){return !!mstrmojo.all[X]
	})
	return this.autoScrollCloseLocks.length>0
	},destroy:function(){var X=mstrmojo.all[this.psId]
	if(X&&X.defn.iwpl===mstrmojo.DocInfoWindow.PLACEMENT.FIXED&&X.fmts){X.fmts.left=this._ifwfl+"px"
	X.fmts.top=this._ifwft+"px"
	}if(!R()&&this._infoWClosedListener&&this.model){this.model.detachEventListener(this._infoWClosedListener)
	delete this._infoWClosedListener
	}if(this._super){this._super()
	}}})
	mstrmojo.DocInfoWindow.PLACEMENT={AUTO:1,FIXED:2,ABOVE:3,BELOW:4,LEFT:5,RIGHT:6}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.css","mstrmojo.string","mstrmojo.dom","mstrmojo.Popup","mstrmojo.List","mstrmojo.DropDownButton")
	var B=mstrmojo.dom,F=mstrmojo.string
	mstrmojo.Pulldown=mstrmojo.declare(mstrmojo.DropDownButton,null,{scriptClass:"mstrmojo.Pulldown",cssClass:"mstrmojo-Pulldown",items:null,itemIdField:"dssid",itemField:"n",itemCSS:"css",itemTitleField:null,defaultSelection:0,defaultText:null,title:"",value:null,popupToBody:false,popupCssClass:"",popupZIndex:null,fixWidth:false,fixHeight:false,allowHTML:false,_set_items:function(I,G){var H=this.items
	this.items=G||[]
	return H!==this.items
	},markupMethods:mstrmojo.hash.copy({onvalueChange:function(){var H=this.value,G=this.selectedIndex,J=this.items||[],K,I
	if(G===undefined||(H!==null&&(G===-1||(G!==-1&&J[G]&&J[G][this.itemIdField]!==H)))){G=mstrmojo.array.find(J,this.itemIdField,H)
	G=(G>-1)?G:this.defaultSelection
	this.selectedIndex=G
	}else{if(H===null){this.selectedIndex=this.defaultSelection
	}}this.selectedItem=K=J[this.selectedIndex]
	if(K){I=K[this.itemField]
	}else{I=this.defaultText||""
	}this.set("text",I)
	}},mstrmojo.hash.copy(mstrmojo.DropDownButton.prototype.markupMethods)),prevalueChange:function D(){var H=this.value,G=-1
	if(H!==null){G=mstrmojo.array.find(this.items,this.itemIdField,H)
	}if(G>-1){this.selectedItem=this.items[G]
	this.selectedIndex=G
	}},togglePopup:function E(){if(this.popupToBody){var J=B.position(this.popupNode,true),I=this.popupRef,G={left:Math.round(J.x)+"px",top:Math.round(J.y)+"px"}
	if(!I.hasRendered){delete I.slot
	G.placeholder=document.body.appendChild(document.createElement("div"))
	}this.popupOpenConfig=this.popupOpenConfig||{}
	mstrmojo.hash.copy(G,this.popupOpenConfig)
	}else{this.popupRef.slot="popupNode"
	}if(this._super){this._super()
	}var H=this.popupRef.domNode
	if(H){if(this.fixWidth){H.style.width=(this.domNode.offsetWidth-2)+"px"
	}else{H.style.minWidth=(this.domNode.offsetWidth-2)+"px"
	}}},premousedown:function A(G){if(B.getButton(G.hWin,G.e)===B.MOUSE_BUTTON.LEFT){this.togglePopup()
	}},unrender:function C(G){var H=this.popupRef
	if(this.popupToBody&&H.hasRendered){H.unrender(false)
	}if(this._super){this._super(G)
	}},itemName:function(I,G,H){return this.allowHTML?I[H.itemField]:F.encodeHtmlString(I[H.itemField])
	},popupRef:{scriptClass:"mstrmojo.Popup",slot:"popupNode",cssClass:"mstrmojo-Pulldown-Popup",autoCloses:false,modal:false,autoClose:true,locksHover:true,adjustSize:function(){var H=this.opener,G=this.domNode
	if(H&&H.fixWidth){mstrmojo.css.addClass(G,["fix-width"])
	}if(H&&H.fixHeight){mstrmojo.css.addClass(G,["fix-height"])
	}},onOpen:function(){var I=this.opener,H=I&&I.popupZIndex,J=(I&&I.popupCssClass)||"",G=this.domNode
	if(H){G.style.zIndex=H
	}if(J){mstrmojo.css.addClass(G,[J])
	}this.adjustSize()
	},children:[{scriptClass:"mstrmojo.List",alias:"list",itemMarkupFunction:function(M,G,I){var L=I.parent.opener,K=M[I.itemCSS]||L.item2textCss&&L.item2textCss(M)||"",N=L.itemName,J=M[I.itemTitleField||I.itemField],H=L.allowHTML?J:F.encodeHtmlString(J)
	return'<div class="mstrmojo-Pulldown-listItem"><div class="mstrmojo-text '+K+'" title="'+H+'">'+(N(M,G,I)||"&nbsp
	")+"</div></div>"
	},renderOnScroll:false,bindings:{itemIdField:"this.parent.opener.itemIdField",itemField:"this.parent.opener.itemField",itemCSS:"this.parent.opener.itemCSS",itemTitleField:"this.parent.opener.itemTitleField",items:"this.parent.opener.items",selectionPolicy:"this.parent.opener.selectionPolicy",selectedIndex:"this.parent.opener.selectedIndex"},onmousedown:function(){this.parent.close()
	},onchange:function(){var I=this.parent,J=I.visible,G=I.opener,H=this.selectedItem
	if(!G||!H||!J){return 
	}G.set("value",H[this.itemIdField])
	}}]}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Popup","mstrmojo.dom")
	var B=mstrmojo.dom
	var A="openXtabCellMenu"
	mstrmojo.XtabCellHoverPopup={cssClass:"mstrXtabCellHoverPopup",scriptClass:"mstrmojo.Popup",slot:"overlayNode",autoCloses:true,children:[{scriptClass:"mstrmojo.Button",alias:"btn",onmousedown:function(D){this.openPopup(true,D)
	B.stopPropogation(D.hWin,D.e)
	B.preventDefault(D.hWin,D.e)
	return false
	},openPopup:function(F,D){var E=this.xtab[A]?this.xtab:mstrmojo.findAncestor(this.xtab,A)
	if(E){E.openXtabCellMenu({xtab:this.xtab,td:this.td,btn:this,cmPos:this.cmPos,lockIW:this.xtab,singleCellClick:F===true,evt:D})
	}this.domNode.oncontextmenu=function(G){B.stopPropogation(window,G)
	B.preventDefault(window,G)
	return false
	}
	},closePopup:function(){var D=mstrmojo.findAncestor(this.xtab,A)
	if(D){D.closePopup()
	}}}],updatePopupConfig:function C(F){var G=F&&F.td,O=F&&F.xtab,D=this.btn
	var H=this._lastTd
	if(H!==G){D.closePopup()
	this._lastTd=G
	}D.xtab=O
	D.td=G
	D.cmPos=F&&F.cmPos
	if(!G||!O){return 
	}var I=B.findAncestorByName(G.parentNode,"table",false,O.viewport),K=O.zones,N="",E
	if(I){for(E in K){var L=K[E]
	if(L&&L.tableNode===I){N=L.slot
	break
	}}}var M=mstrmojo.boxmodel.offset(G,O.overlayNode),J=23
	this.set("location",{left:0,top:M.top,width:Math.min(G.offsetWidth+M.left,O._pl),height:J})
	},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	},onlocationChange:function(){var D=this.location
	if(!D){return 
	}var E=this.domNode.style
	E.left=(D.left+Math.max(D.width-20,0))+"px"
	E.top=D.top+(D.height?Math.round(D.height/2)-7:0)+"px"
	}}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Popup","mstrmojo.css")
	mstrmojo.ui.pathbar.PathPopup=mstrmojo.declare(mstrmojo.Popup,null,{scriptClass:"mstrmojo.ui.pathbar.PathPopup",autoCloses:true,locksHover:true,markupMethods:{onvisibleChange:function(){if(this.isOpen){mstrmojo.css.toggleClass(this.domNode,"open",this.visible)
	}},onleftChange:mstrmojo.Widget.leftMarkupMethod,ontopChange:mstrmojo.Widget.topMarkupMethod},cssClass:null,targetNode:null,offsetTop:0,offsetLeft:0,onOpen:function B(){var D=this,C=D.domNode,E=mstrmojo.dom.position(D.targetNode)
	C.style.top=(E.y+E.h+D.offsetTop)+"px"
	C.style.left=(E.x+D.offsetLeft)+"px"
	D.set("visible",false)
	D.isOpen=true
	window.setTimeout(function(){D.set("visible",true)
	},100)
	mstrmojo.css.toggleClass(D.targetNode,"opened",true)
	},onClose:function A(){var C=this
	window.setTimeout(function(){delete C.isOpen
	mstrmojo.css.toggleClass(C.targetNode,"opened",false)
	},500)
	C.domNode.style.left=""
	},children:null})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.rw.DocLayout","mstrmojo._Formattable","mstrmojo._HasWaitIcon","mstrmojo.dom")
	mstrmojo.DocLayout=mstrmojo.declare(mstrmojo.rw.DocLayout,[mstrmojo._Formattable,mstrmojo._HasWaitIcon],{scriptClass:"mstrmojo.DocLayout",formatHandlers:{domNode:["B","background-color","D","min-height","width"]},markupMethods:{onminHeightChange:function(){var N=this.minHeight
	if(!N){var M=this.getFormats()
	N=M&&M["min-height"]
	}if(N){this.containerNode.style[mstrmojo.css.MINHEIGHT]=N
	}}},getHeight:function E(){var M=0
	mstrmojo.array.forEach(this.children,function(N){M+=N.getHeight()
	})
	return M||this.containerNode.offsetHeight
	},getWidth:function I(){var M=this.children
	return(M&&M.length)?M[0].getWidth():this.containerNode.offsetWidth
	},preBuildRendering:function K(){var M=this.getFormats()
	if(M&&M["min-width"]!==undefined){M.width=M["min-width"]
	}this._super()
	},renderChildren:function L(){this._super()
	this.resizeOrReposition()
	},resizeOrReposition:function D(){var O=this.containerNode
	if(!!this.defn.aw){var W=this.model.getAutoWidthIDs(),S=(W&&W.length)||0,a=0,Z=mstrmojo.all,P
	if(!S){return 
	}for(P=0
	P<S
	P++){a=Math.max(this._getWidgetRightMostPosition(Z[W[P]]),a)
	}a=Math.max(this.getLayoutMinWidth(),a)
	if(a>parseInt(this.getFormats().width,10)){O.style.width=a+"px"
	}}var Y=this.model.zt
	if(mstrApp.isMobile&&Y){var M=this.parent.domNode
	if(M){var Q=this.model.controller,N=!!Q.orientation,b=0,X=this.parent,R=X.getHeight()-X.fixedHeaderNode.clientHeight-X.fixedFooterNode.clientHeight
	if(Y===2){if(!Q.toolBarDelegated){R-=Q.getBottomToolBarHeight()
	}b=Math.round(N?Math.max((R-this.getHeight()),0)/2:0)+"px"
	}O.style.margin=b+" auto"
	var U=this
	window.setTimeout(function(){Q.nudgeWidget(U.id,{left:O.offsetLeft,top:O.offsetTop})
	},0)
	}}},getLayoutMinWidth:function F(){return 0
	},_getWidgetRightMostPosition:function F(M){return parseInt(M.getFormats().left,10)+((M.getDim&&M.getDim().w)||M.domNode.offsetWidth)
	},renderCtrlsInViewport:function C(){this._super()
	this.resizeOrReposition()
	},adjustAutoWidth:function H(M){if(!this.defn.aw||!M){return 
	}var O=this.containerNode.style,N=parseInt(O.width,10)||0
	var P=this
	window.setTimeout(function(){var Q=P._getWidgetRightMostPosition(M)
	if(Q>N){O.width=Q+"px"
	}},1)
	},_getModelChildNodes:function B(P,O,S,N,R){var Q=this.model.getNonFixedSections(P,O)
	var M=Q.length
	N=isNaN(N)?M:N
	S=S||0
	if(S>0||N<M){Q=Q.slice(S,S+N)
	}return R?{nodes:Q,total:M}:Q
	},getChildren:function G(O,N,Q,M,P){return this._getModelChildNodes(O||this.node,N||false,Q,M,P)
	},getCaptureDimensions:function J(){var N=this.domNode,M
	if(!this.domNode){return null
	}M=mstrmojo.dom.position(N)
	M.w=Math.min(N.offsetWidth,M.w)
	M.h=Math.min(N.offsetHeight,M.h)
	return M
	},preserveChildDomOrder:false,postBuildRendering:function A(){if(window.mstrMobileApp!==undefined){this.defn.lastOrientation=mstrMobileApp.getOrientation()
	}this._super()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.string","mstrmojo.ListBase","mstrmojo._IsList")
	var G=",",F=mstrmojo.string
	mstrmojo.TableLayoutList=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList],{scriptClass:"mstrmojo.TableLayoutList",cssClass:"mstrmojo-TableLayoutList",styleCssClass:"",itemIdField:"v",allowUnlistedValues:false,tableLayoutCssStyle:"auto",multiSelect:false,titleItems:null,items:null,itemsPerRow:0,getLeftEndTitle:function E(H){return""
	},getRightEndTitle:function D(H){return""
	},getTitleRowMarkup:function A(){var L=this.titleItems
	if(L){var K='<tr><td class="left_text">'+this.getLeftEndTitle(-1)+"</td>",H=L.length,J=0,I
	for(J
	J<H
	J++){I=L[J]
	K+='<td class="item_title" title="'+I+'">'+I+"</td>"
	}K+='<td class="left_text">'+this.getRightEndTitle(-1)+"</td></tr>"
	return K
	}return""
	},_markupPrefix:function(){return'<table class="tableLayoutList" style="table-layout:'+this.tableLayoutCssStyle+'" cellspacing="0" cellpadding="0"><tbody>'+this.getTitleRowMarkup()
	},_markupSuffix:function(){return"</tbody></table>"
	},getItemMarkup:function(L,I){var K='<{@tag} class="item {@cls}" idx="{@idx}" title="{@en@n}" style="{@style}">{@en@n}</{@tag}>',H=this.getLeftEndTitle(I),J=this.getRightEndTitle(I),M=this.itemsPerRow
	H='<td class="left_text" title="'+H+'">'+H+"</id>"
	J='<td class="right_text" title="'+J+'">'+J+"</id>"
	if(M>0){K=(I%M===0?"<tr>"+H:"")+"<td>"+K+"</td>"+((I+1)%M===0?J+"</tr>":"")
	}else{K='<td><div class="item_wrapper" idx="'+I+'">'+K+"</div></td>"
	if(!I){K="<tr>"+H+K
	}else{if(I===this.items.length-1){K=K+J+"</tr>"
	}}}return K
	},_getItemNode:function(H){var I=this.itemsNode,K=this.itemsPerRow,J=(this.titleItems?1:0)+((K>0)?parseInt(H/K,10):0),L=1+((K>0)?(H%K):H)
	return I.rows[J].cells[L].firstChild
	},init:function(H){this._super(H)
	mstrmojo.css.addWidgetCssClass(this,this.styleCssClass)
	},onchange:function B(){var J,I=[]
	if(!this.multiSelect){J=this.selectedItem.v
	}else{var H
	for(H in this.selectedIndices){I.push(this.items[H].v)
	}J=I.join(this.delim||G)
	}this.set("value",J)
	},postBuildRendering:function C(){this._super()
	var H=[]
	if(this.multiSelect){var J=this.value.split(G),I
	for(I=0
	I<J.length
	I++){H.push({v:J[I]})
	}}else{H.push({v:this.value})
	}this.setSelectedItems(H)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo._IsPopup","mstrmojo._CanAutoClose","mstrmojo.ui.PopupConfig","mstrmojo.css")
	mstrmojo.ui.editors.ToolbarPopup=mstrmojo.declare(mstrmojo.Box,[mstrmojo._IsPopup,mstrmojo._CanAutoClose],{scriptClass:"mstrmojo.ui.editors.ToolbarPopup",popupConfig:null,anchorElement:null,autoCloses:false,locksHover:true,init:function B(C){this._super(C)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-ui-ToolbarPopup")
	this.popupConfig=new mstrmojo.ui.PopupConfig({isHostedWithin:false,hostProxyCssClass:(mstrApp&&mstrApp.getThemeClassName())||"",anchorElement:this.anchorElement})
	},open:function A(D,C){D.closePopup()
	this._super(D,C)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.Box","mstrmojo.ui._HasScroller","mstrmojo.ME.Enum")
	mstrmojo.requiresDescs()
	var M=mstrmojo.dom,B=mstrmojo.string,D=mstrmojo.Widget
	var H=/\r?\n?----\r?\n?/
	function F(N){var O=B.encodeHtmlString((N||{}).desc||"",true).split(H)
	return{desc:O[0],example:O.length===2?O[1]:""}
	}mstrmojo.ME.FunctionInfo=mstrmojo.declare(mstrmojo.Box,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ME.FunctionInfo",markupString:'<div id="{@id}" class="mstrmojo-Box {@cssClass}" style="{@cssText}"><div class="mstrmojo-FunctionInfo-container"><div class="mstrmojo-FunctionInfo-syntax"></div><div class="mstrmojo-FunctionInfo-desc"></div><div class="mstrmojo-FunctionInfo-eg"><span class="icon" t="icon"></span><span class="text"></span></div></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	},syntaxNode:function(){return this.domNode.firstChild.firstChild
	},descNode:function(){return this.domNode.firstChild.childNodes[1]
	},egNode:function(){return this.domNode.firstChild.lastChild
	},egTextNode:function(){return this.domNode.firstChild.lastChild.lastChild
	}},markupMethods:{onvisibleChange:D.visibleMarkupMethod,onfoiChange:function(){this.syntaxNode.innerHTML=B.htmlAngles(this.syntax)||""
	this.descNode.innerHTML=this.desc
	M.recursiveReplaceInlineEventListeners(this.descNode,false,this)
	this.egTextNode.innerHTML=this.example
	this.egNode.style.display=this.example?"block":"none"
	this.updateScrollbars()
	}},foi:{},syntax:"",desc:"",example:"",init:function L(N){this._super(N)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-FunctionInfo")
	},setupScrollNodes:function C(){if(!mstrmojo.dom.ISIE8){this.scrollNode=this.containerNode
	}},onfoiChange:function A(){this.set("syntax",this.getFunctionSyntax())
	this.set("desc",this.getDesc()+" "+this.getHelpTopic())
	this.set("example",this.getExample())
	},getFunctionSyntax:function K(R){var U=R||this.foi
	if(!U){return""
	}if(U.did<0){return U.n
	}var Q=U.pars,S=U.pros,O=[],P,N
	O.push(U.n)
	S=mstrmojo.hash.clone(S)||[]
	if(U.ios){S.push({n:"SortBy"})
	}if(U.sqt===5){S.push({n:"BreakBy"})
	}if(this.showFullSyntax){if(S.length>0){O.push("<")
	for(P=0,N=S.length
	P<N
	P++){if(mstrmojo.array.indexOf(mstrmojo.ME.Enum.NonExposableParams,S[P].n)===-1){O.push(S[P].n)
	O.push(", ")
	}}O.pop()
	O.push(">")
	}}O.push("(")
	for(P=0,N=Q.length
	P<N
	P++){O.push(Q[P].n)
	if(P!==(N-1)){O.push(", ")
	}}O.push(")")
	return O.join("")
	},getDesc:function E(){return F(this.foi).desc
	},getExample:function J(){return F(this.foi).example
	},getHelpTopic:function G(N){var O=N||this.foi
	if(!O||O.did===mstrmojo.ME.Enum.SHORTCUT_FUNCTIONS.Row_Count){return""
	}return mstrmojo.ME.MetricDataService.getFunctionHelpTopic(O.h)
	},useRichTooltip:true,showTooltip:function I(N,Q){var P=M.eventTarget(Q,N),O=this.foi
	if(P&&P.getAttribute("t")==="icon"){this.richTooltip=this.getTooltip(O,P)
	if(this.richTooltip){this._super(N,Q)
	}}},getTooltip:function(Q,R){var O=M.position(R),P=R.egTip||""
	var N={areaId:Q._renderIdx+"text",cssClass:"vi-regular vi-tooltip-V",contentNodeCssClass:"regular-unitlist-tooltips",posType:"",content:P,top:O.y-75,left:O.x+O.w-30,enableHover:false}
	return N
	}})
	mstrmojo.ME.FunctionInfo.getDescAndExample=F
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Label","mstrmojo.Box","mstrmojo.hash")
	var C=mstrmojo.css,F=mstrmojo.hash,B="mstrmojo-st-removeFilter"
	mstrmojo.express.ui.SubmenuEditor=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.express.ui.SubmenuEditor",contentScriptClass:"mstrmojo.Box",contentConfig:null,menuItemNode:undefined,contentNode:undefined,init:function E(G){this.children[1].scriptClass=G.contentScriptClass
	F.copy(G.contentConfig||{},this.children[1])
	this._super(G)
	this.children[0].text=this.text
	this.contentNode.onSubmenuOpen=this.contentNode.onSubmenuOpen||mstrmojo.emptyFn
	C.addWidgetCssClass(this,"mstrmojo-SubmenuEditor")
	},_set_xtab:function(H,G){this.contentNode.xtab=G
	return true
	},_set_cell:function(H,G){this.contentNode.cell=G
	return true
	},_set_visible:function(H,G){this.menuItemNode.set("visible",G)
	this.contentNode.set("visible",false)
	return true
	},children:[{scriptClass:"mstrmojo.Widget",alias:"menuItemNode",markupString:'<div class="mstrmojo-MenuItem-text" mstrAttach:click><div class="mstrmojo-MenuItem-textNode">{@text}</div><div class="mstrmojo-MenuItem-arw"></div></div>',onclick:function(){var G=this.parent.contentNode
	G.set("visible",!G.visible)
	}},{scriptClass:"mstrmojo.Box",alias:"contentNode",cssClass:"mstrmojo-SubmenuItem-content",visible:false,onSubmenuClosed:function D(){this.set("visible",false)
	mstrmojo.all[this.parent.parentID].close()
	},onvisibleChange:function A(){var G=this.visible
	if(G){this.onSubmenuOpen()
	}C.toggleClass(document.getElementById(this.parent.parentID),B,G)
	}}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.func","mstrmojo.array","mstrmojo.Button","mstrmojo.HBox","mstrmojo.dom","mstrmojo.Box")
	var D=mstrmojo.dom
	mstrmojo.Dialog=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Dialog",title:"",buttons:null,alignment:"center",btnAlignment:"right",zIndex:10,modal:true,listenOnRootView:false,markupString:'<div id="{@id}" class="mstrmojo-Dialog {@cssClass}" style="z-index: 1100
	" tabindex="0" mstrAttach:click><div class="win mstrmojo-Editor" style="{@cssText}"><div class="mstrmojo-Editor-titlebar"><div class="mstrmojo-Editor-title">{@title}</div></div><div class="mstrmojo-Editor-content"></div><div class="mstrmojo-Editor-buttons"></div></div><div class="mstrmojo-Editor-curtain"></div><div class="mstrmojo-Editor-tip"></div></div>',markupSlots:{editorNode:function(){return this.domNode.firstChild
	},curtainNode:function(){return this.domNode.childNodes[1]
	},titleNode:function(){return this.domNode.firstChild.firstChild
	},containerNode:function(){return this.domNode.firstChild.childNodes[1]
	},buttonNode:function(){return this.domNode.firstChild.lastChild
	},tipNode:function(){return this.domNode.lastChild
	}},editorNode:null,btnHbox:null,markupMethods:{onzIndexChange:function(){this.editorNode.style.zIndex=this.zIndex
	this.curtainNode.style.zIndex=this.zIndex-1
	},onwidthChange:function(){this.editorNode.style.width=this.width||"auto"
	},onvisibleChange:function(L){if(L){return 
	}var J=this.visible,K=J?"block":"none"
	this.editorNode.style.display=K
	if(this.modal){this.curtainNode.style.display=K
	}},onleftChange:function(){this.editorNode.style.left=this.left||""
	},ontopChange:function(){this.editorNode.style.top=this.top||""
	},ontitleChange:function(){this.titleNode.firstChild.innerHTML=this.title||""
	}},preBuildRendering:function F(){var J
	var K=this.buttons
	if(K&&!this.btnHbox){for(J in K){K[J].cssClass=(K[J].cssClass||"")+(this.noButtonCls?"":" mstrmojo-Editor-button")
	}this.addChildren([{scriptClass:"mstrmojo.HBox",cssText:"float:"+this.btnAlignment,slot:"buttonNode",alias:"btnHbox",children:K},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-clearMe",slot:"buttonNode"}])
	}if(this.modal){this.cssClass+=" modal"
	}return this._super()
	},buildRendering:function B(){var J=this.placeholder
	if(this._super()){if(!this.parent&&!J){document.body.appendChild(this.domNode)
	}return true
	}return false
	},getResizeHandler:function E(){var J=this.id
	return function(){var K=mstrmojo.all[J]
	K.resizeDialog()
	K.positionDialog()
	}
	},addListener2RootView:function(K){var L=document.querySelector("#rootView")
	var M=L.style.height
	var J=L.style.width
	this.observer=new MutationObserver(function(N){N.forEach(function(P){var O=L.style.height
	var Q=L.style.width
	if(P.attributeName==="style"&&(M!==O||J!==Q)){K()
	M=O
	J=Q
	}})
	})
	this.observer.observe(L,{attributes:true})
	},postBuildRendering:function A(){this._super()
	if(this.modal&&this.visible){this.curtainNode.style.display="block"
	}if(!this._resizeHandler){var K=this._resizeHandler=this.getResizeHandler()
	if(this.listenOnRootView){this.addListener2RootView(K)
	}else{D.attachEvent(window,"resize",K)
	}}this.resizeDialog()
	this.positionDialog()
	try{this.domNode.focus()
	}catch(J){}return true
	},resizeDialog:function G(){if(this.modal){this.resizeCurtain()
	}},resizeCurtain:function C(){var K=this,O=K.curtainNode,J=document.body,M=document.documentElement,N=O.style,L=K.curtainPosition
	N.width=Math.max(J.clientWidth,M.scrollWidth)+"px"
	if(L&&L.h){N.height=L.h+"px"
	}else{N.height=Math.max(J.clientHeight,M.scrollHeight)+"px"
	}if(L&&L.y){N.top=L.y+"px"
	}K.raiseEvent({name:"resizeCurtain"})
	},positionDialog:function H(){var K=this.editorNode,M=this.left,L=this.top
	if(!M||!L){D.center(K)
	var J=K.style
	if(this.alignment==="top"){J.top="10px"
	}if(M){J.left=M
	}if(L){J.top=L
	}}},destroy:function(K){var J=this._resizeHandler
	if(J){if(this.listenOnRootView){this.observer&&this.observer.disconnect()
	}else{D.detachEvent(window,"resize",J)
	}}this._super(K)
	}})
	mstrmojo.toast=function I(O,M,Q,J){var P="mojoToast9",N,L=M||3000
	if(J&&J.id){P=J.id+"-"+P
	}try{mstrmojo.all[P].destroy()
	}catch(K){}mstrmojo.insert({id:P,scriptClass:"mstrmojo.Label",cssClass:(J&&J.cssClass)?J.cssClass:"toastCss",text:O}).render()
	N=mstrmojo.all[P].domNode
	if(J&&J.dom){J.dom.appendChild(N)
	}else{document.body.appendChild(N)
	D.bottomCenter(N)
	}window.setTimeout(function(){if(Q){Q()
	}try{mstrmojo.all[P].destroy()
	}catch(R){}},L)
	}
	mstrmojo.mask={show:function(){var J=mstrmojo.mask.win=mstrmojo.insert({scriptClass:"mstrmojo.Box",cssClass:"fullscreen-mask"})
	J.render()
	document.body.appendChild(J.domNode)
	},hide:function(){mstrmojo.mask.win.destroy()
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.StackContainer")
	mstrmojo.MouseOverContainer=mstrmojo.declare(mstrmojo.StackContainer,null,{scriptClass:"mstrmojo.MouseOverContainer",markupString:'<div id="{@id}" class="mstrmojo-Box {@cssClass}" style="{@cssText}" mstrAttach:mouseover,mouseout></div>',doSwitch:true,mouseoverItem:null,mouseoutItem:null,init:function(A){this._super(A)
	if(this.setupSelectedItem){this.setupSelectedItem()
	}},markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},onmouseover:function(){if(this.doSwitch&&this.enabled){this.set("selected",this.mouseoverItem)
	}},onmouseout:function(){if(this.doSwitch){this.set("selected",this.mouseoutItem)
	}},preBuildRendering:function(){this.set("selected",this.mouseoutItem)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo._HasLayout","mstrmojo.css")
	var B=mstrmojo.css
	mstrmojo.vi.ui.editors.EditorGroup=mstrmojo.declare(mstrmojo.Box,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.vi.ui.editors.EditorGroup",layoutConfig:{w:{containerNode:"100%"},xt:true},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onenabledChange:mstrmojo.Container.enabledMarkupMethod},showDivider:true,isNested:false,isContainer:false,init:function D(E){this._super(E)
	B.addWidgetCssClass(this,["mstrmojo-vi-EditorGroup","ctrl-group"])
	},preBuildRendering:function A(){var E=[]
	if(this.showDivider){E.push("divide")
	}if(this.isContainer){E.push("container")
	}if(E.length){B.addWidgetCssClass(this,E)
	}return this._super()
	},getLayoutOffsets:function C(){return{h:0,w:this.isNested?0:19}
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.Box","mstrmojo.css")
	var A=mstrmojo.css
	mstrmojo.vi.ui.rw.VisFilterIndicator=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.vi.ui.rw.VisFilterIndicator",cssClass:"VisFilterIndicator",init:function D(F){var G=F.unitContainer.domNode,E=G.style
	if(G){if(F.hasOwnProperty("width")===false){F.width=(E&&E.width)||(G.clientWidth+"px")
	}if(F.hasOwnProperty("left")===false){F.left=G.offsetLeft+"px"
	}if(F.hasOwnProperty("top")===false){F.top=(G.offsetTop)+"px"
	}}this._super(F)
	this.placeholder=G.appendChild(document.createElement("div"))
	},children:[{scriptClass:"mstrmojo.Label",slot:"containerNode",alias:"lblTitle",text:mstrmojo.desc(15297,"Items selected in configuration mode will not be applied to visualization filter.")}],postBuildRendering:function(){this._super()
	var F=this.domNode,E=this
	F.style.left=this.left
	F.style.top=this.top
	if(!this.animationListener){var G=this.animationListener=function(H){if(H.animationName==="indicatorout"){A.addClass(F,"hidden")
	E.destroy()
	}}
	A.onAnimationEnd(F,G)
	}},updateDimension:function C(){if(this.hasRendered&&!this.destroyed&&this.unitContainer){var E=this.unitContainer.domNode
	if(E){this.set("width",(E.style.width||(E.clientWidth+"px")))
	}}},destroy:function B(){if(this.animationListener){this.animationListener=null
	}this._super()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.ui._HasScroller","mstrmojo.css")
	var B=mstrmojo.css
	mstrmojo.ui.ColumnContainer=mstrmojo.declare(mstrmojo.Box,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ui.ColumnContainer",markupString:'<div id="{@id}" class="mstrmojo-ui-ColumnContainer {@cssClass}"><div></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	},scrollNode:function(){return this.domNode.firstChild
	}},markupMethods:{onnextChange:function A(){B.toggleClass(this.domNode,"hasNext",!!this.next)
	}},active:false,next:null,idx:undefined,updateColumnContainer:function D(){var E=this.next
	if(E){E.updateColumnContainer()
	}},onactiveChange:function C(){B.toggleClass(this.domNode,"active",this.active)
	var E=this.next
	if(E){E.updateColumnContainer()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.ui.editors._HostsControls","mstrmojo._HasLayout","mstrmojo.css")
	mstrmojo.ui.editors.controls.ControlGroup=mstrmojo.declare(mstrmojo.Box,[mstrmojo.ui.editors._HostsControls,mstrmojo._HasLayout],{scriptClass:"mstrmojo.ui.editors.controls.ControlGroup",layoutConfig:{w:{containerNode:"100%"},xt:true},shouldPropagateEnabled:true,init:function A(B){this._super(B)
	mstrmojo.css.addWidgetCssClass(this,"ctrl-group")
	}})
	mstrmojo._HasMarkup.addMarkupMethods(mstrmojo.ui.editors.controls.ControlGroup,{onenabledChange:mstrmojo.Container.enabledMarkupMethod})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.Button","mstrmojo.DropDownButton","mstrmojo.Label","mstrmojo.WaitIcon")
	mstrmojo.IncFetch=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.IncFetch",markupString:'<div id="{@id}" class="mstrmojo-IncFetch {@cssClass}" style="{@cssText}"><div class="mstrmojo-IncFetch-content"></div><div class="mstrmojo-clearMe"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	}},preBuildRendering:function A(){var J=[],F=this.ds,M=this.cp,P=this.np,C=this.ps,E=this.id,G=2
	var L=function(){mstrmojo.all[E].set("cp",this.text)
	}
	var H={f:1,p:Math.max(M-1,1),n:Math.min(M+1,P),l:P}
	for(var O in H){J.push(new mstrmojo.Button({iconClass:"arrow "+O,title:F[O],enabled:(H[O]!==M),text:H[O],onclick:L}))
	}var D=Math.max(Math.min(M-2,P-4),1),I=Math.min(D+4,P)
	for(var K=D
	K<=I
	K++){var N
	if(K===M){if(I-D===4&&P!==5){N=new mstrmojo.DropDownButton({height:"13px",title:F.a?F.a:"",text:K,direction:"up",popupRef:{scriptClass:"mstrmojo.Popup",slot:"popupNode",contentNodeCssClass:"goto",autoCloses:false,locksHover:true,children:[{scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.Label",cssText:"float:left
	",text:F.gt},{scriptClass:"mstrmojo.TextBox",cssText:"float:left
	",size:3,maxLength:String(P).length,onEnter:function(){var R=this.inputNode.value,U=this.parent.parent
	if(R===""){U.close()
	return 
	}var Q=parseInt(R,10),S=!(isNaN(Q)||Q<1||Q>P)
	if(S){mstrmojo.all[E].set("cp",Q)
	U.close()
	}else{this.setInvalidState(F.v.replace("###",P).replace("##",1).replace(" #",""))
	}}},{scriptClass:"mstrmojo.Button",cssText:"float:left",iconClass:"apply",title:F.ap?F.ap:"",onclick:function(){this.parent.children[1].onEnter()
	}}]}],onOpen:function(){mstrmojo.css.addClass(this.parent.domNode,["open"])
	var Q=this.children[0].children[1].inputNode
	window.setTimeout(function(){Q.focus()
	},0)
	},onClose:function(){mstrmojo.css.removeClass(this.parent.domNode,["open"])
	this.children[0].children[1].cleanUp()
	}}})
	}else{N=new mstrmojo.Button({iconClass:"pg on",text:K})
	}}else{N=new mstrmojo.Button({iconClass:"pg",text:K,onclick:L})
	}J.splice(G++,0,N)
	}J.splice(G++,0,new mstrmojo.Label({text:F.pgs.replace("###",P).replace("##",""),cssText:"float:left
	margin:1px 1px 1px 3px
	"}))
	this._iWait=new mstrmojo.WaitIcon({cssText:"margin-top:-2px
	"})
	J.push(this._iWait)
	this.addChildren(J)
	return this._super?this._super():true
	},_set_cp:function B(D,C){if(parseInt(C,10)!==this.cp){this.raiseEvent({name:"fetch",v:C,iWait:this._iWait})
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Button","mstrmojo.date","mstrmojo.dom","mstrmojo.HBox","mstrmojo.VBox")
	var Q=mstrmojo.date,J=mstrmojo.dom,L=mstrmojo.boxmodel,I=function(){return mstrmojo.locales.datetime
	},D=Math.PI/6,O=1,P=2,M=3,A=I().AM_NAME,N=I().PM_NAME
	function E(S,R){if(S===0){return"00"
	}if(S<10){return R?S.toString():"0"+S
	}return S.toString()
	}function G(W){if(!W){return null
	}var S=Q.parseTime(W),U=/.*\ [a|p]m/i.test(W)
	if(!S){var R=Q.parseDateAndOrTime(W)
	S=R&&R.time
	if(!S){return null
	}}if(U){S.h12=/.*\ am/i.test(W)?A:N
	}return S
	}function C(g,U){var e=this,S=L.offset(U,document.body),a=(e._hh%12)*(Math.PI/6)+(Math.PI/360)*e._mm,b=(Math.PI/30)*e._mm,c=0,d=0,Y=S.left+80,X=S.top+80,W=0,Z=0,R=function(m,k,h,p){var n=0,o=0,l=h-m,j=k-p
	if(j===0){if(l>=0){o=Math.PI/2
	}else{o=3*Math.PI/2
	}}else{if(l===0){if(j>=0){o=0
	}else{o=Math.PI/2
	}}else{n=l/j
	if(n>0&&l>0){o=Math.atan(n)
	}else{if(n>0&&l<0){o=Math.PI+Math.atan(n)
	}else{if(n<0&&l>0){o=Math.PI+Math.atan(n)
	}else{o=2*Math.PI+Math.atan(n)
	}}}}}return o
	},f=function(j){var k=R(Y,X,j.pageX,j.pageY),h
	if(Z===O){h=e._hh
	e._hh=Math.floor(k*6/Math.PI)
	if(e._hh===0){if(h===23){e._hh=0
	}else{if(h===11||h===12){e._hh=12
	}else{if(h>12){e._hh+=12
	}}}}else{if(e._hh===11){if(h===0){e._hh=23
	}else{if(h===13||h===12){e._hh=11
	}else{if(h>12){e._hh+=12
	}}}}else{if(h>=12){e._hh+=12
	}}}e._updateValue()
	}else{h=e._mm
	e._mm=Math.floor(k*30/Math.PI)
	if(e._mm<15&&h>45){if(e._hh===23){e._hh=-1
	}e._hh+=1
	}else{if(e._mm>45&&h<15){if(e._hh===0){e._hh=24
	}e._hh-=1
	}}e._updateValue()
	}}
	W=R(Y,X,g.pageX,g.pageY)
	c=Math.abs(a-W)
	c=Math.min(c,2*Math.PI-c)
	d=Math.abs(b-W)
	d=Math.min(d,2*Math.PI-d)
	if(c<D||d<D){if(d<c){Z=P
	e.active=P
	}else{Z=O
	e.active=O
	}J.attachEvent(U,"mousemove",f)
	J.attachEvent(U,"mouseup",function(h){J.detachEvent(U,"mousemove",f)
	})
	}}function F(X,S){var R=S.getContext("2d"),W=X.hour,U=X.min
	R.save()
	R.clearRect(0,0,160,160)
	if(X.h12){R.save()
	R.fillStyle=W<12?"rgba(191, 223, 255, 1)":"rgba(246, 200, 126, .5)"
	R.fillRect(68,100,26,14)
	R.font="bold 14px sans-serif"
	R.fillStyle="black"
	R.fillText(W<12?"AM":"PM",70,112)
	R.restore()
	}R.translate(80,80)
	R.scale(0.3,0.3)
	R.rotate(-Math.PI/2)
	R.fillStyle="rgb(90, 158, 198)"
	R.save()
	R.rotate(W*(Math.PI/6)+(Math.PI/360)*U)
	R.lineWidth=12
	R.beginPath()
	R.moveTo(-28,0)
	R.lineTo(105,0)
	R.stroke()
	R.restore()
	R.save()
	R.rotate((Math.PI/30)*U)
	R.lineWidth=10
	R.beginPath()
	R.moveTo(-35,0)
	R.lineTo(162,0)
	R.stroke()
	R.restore()
	R.restore()
	}function H(U,S){var X=L.offset(S,document.body),R=X.left,W=X.top
	if(U.pageX<R+68||U.pageX>R+94||U.pageY<W+100||U.pageY>W+114){return false
	}return true
	}mstrmojo.TimePicker=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.TimePicker",markupString:'<div class="mstrmojo-TimePicker {@cssClass}" style="{@cssText}"><div></div><div class="mstrmojo-Clock-time"><canvas width="157" height="157"></canvas></div></div>',cssText:"width:158px
	height:"+(J.isIE?28:180)+"px",markupSlots:{hbNode:function(){return this.domNode.firstChild
	},canvasNode:function(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	},onintervalChange:function(){this.interval=parseInt(this.interval,10)
	},onvalueChange:function(){if(this.domNode){var R,U
	R=G(this.value)
	if(!R){var W=new Date(),S=Q.getDateJson(W)
	this.set("value",Q.formatTimeInfo(S,I().TIMEINPUTFORMATS[0]))
	return 
	}this._hh=R.hour
	this._mm=R.min
	U=this.ctn.hb&&this.ctn.hb.tf
	if(R.h12){U.set("visible",true)
	this.set("_tf",R.h12)
	this.set("_HH",E(R.hour>12?R.hour-12:(R.hour===0?12:R.hour),true))
	}else{U.set("visible",false)
	this.set("_HH",E(R.hour,true))
	}this.set("_MM",E(R.min))
	if(!J.isIE){F(R,this.canvasNode.firstChild)
	}}}},active:P,value:null,_hh:null,_HH:null,_mm:null,_MM:null,_tf:null,interval:5,children:[{scriptClass:"mstrmojo.HBox",alias:"ctn",slot:"hbNode",children:[{scriptClass:"mstrmojo.HBox",alias:"hb",cssText:"border: 1px solid #CECBCE
	margin-left: 5px
	background-color:#FFFFCC
	",children:[{scriptClass:"mstrmojo.TextBox",alias:"hh",width:"20px",cssText:"border:none
	text-align:right
	",bindings:{value:"this.parent.parent.parent._HH"},onfocus:function(){this.ov=this.value
	this.domNode.select()
	this.parent.parent.parent.active=O
	},onkeyup:function(){var R=parseInt(this.value,10)
	if(parseInt(this.ov,10)!==R&&R>=0&&R<=23){this.parent.parent.parent.updateHours(this.value)
	this.ov=this.value
	}},onblur:function(){var R=parseInt(this.value,10)
	if(R<0||R>23){this.set("value",this.ov)
	}}},{scriptClass:"mstrmojo.Label",cssText:"width:5px
	",text:":"},{scriptClass:"mstrmojo.TextBox",alias:"mm",width:"20px",cssText:"border:none
	",bindings:{value:"this.parent.parent.parent._MM"},onfocus:function(){this.ov=this.value
	this.domNode.select()
	this.parent.parent.parent.active=P
	},onkeyup:function(){var R=parseInt(this.value,10)
	if(parseInt(this.ov,10)!==R&&R>=0&&R<=60){this.parent.parent.parent.updateMinutes(this.value)
	this.ov=this.value
	}},onblur:function(){var R=parseInt(this.value,10)
	if(R<0||R>60){this.set("value",this.ov)
	}}},{scriptClass:"mstrmojo.TextBox",width:"24px",cssText:"padding-right:2px
	border:none
	",alias:"tf",visible:false,onfocus:function(){this.ov=this.value
	this.domNode.select()
	this.parent.parent.parent.active=M
	},onkeyup:function(){var R=this.value&&this.value.toUpperCase(),S=this.parent.parent.parent
	if((R===I().AM_NAME||R===I().PM_NAME)&&(R!==this.ov)){S._hh+=S._hh<12?12:-12
	this.value=this.ov=R
	S._updateValue()
	}},onblur:function(){var R=this.value&&this.value.toUpperCase()
	if(R!==I().AM_NAME&&R!==I().PM_NAME){this.set("value",this.ov)
	}},value:"AM",bindings:{value:"this.parent.parent.parent._tf"}}]},{scriptClass:"mstrmojo.VBox",alias:"stepper",slot:"stepperNode",cssText:"padding-left: 2px
	padding-top: 0px
	",children:[{scriptClass:"mstrmojo.Button",title:mstrmojo.desc(8314,"Increase"),cssClass:"stepper up",text:"",onclick:function(){this.parent.parent.parent.incr()
	},onmousedown:function(){var R=this
	this.tmr=window.setInterval(function(){R.parent.parent.parent.incr()
	},200)
	},onmouseup:function(){if(this.tmr){window.clearInterval(this.tmr)
	delete this.tmr
	}}},{scriptClass:"mstrmojo.Button",title:mstrmojo.desc(8315,"Decrease"),cssClass:"stepper down",text:"",onclick:function(){this.parent.parent.parent.decr()
	},onmousedown:function(){var R=this
	this.tmr=window.setInterval(function(){R.parent.parent.parent.decr()
	},200)
	},onmouseup:function(){if(this.tmr){window.clearInterval(this.tmr)
	delete this.tmr
	}}}]}]}],init:function(R){if(this._super){this._super(R)
	}this._hh=0
	this._HH=""
	this._mm=0
	this._MM=""
	},focus:function B(){var R=this.ctn,S=R&&R.hb
	if(!S||!this.visible){return 
	}if(this.active===O){S.hh.focus()
	}else{if(this.active===M){S.tf.focus()
	}else{S.mm.focus()
	}}},postBuildRendering:function K(){var S=this.canvasNode.firstChild,R=this
	if(this._super){this._super()
	}if(!this.value){this.value="12:00 AM"
	}if(J.isIE){this.canvasNode.style.display="none"
	}else{F({hour:this._hh,min:this._mm},S)
	S.onmousedown=function(U){C.call(R,U,S)
	}
	S.onclick=function(U){if(!H(U,S)){return 
	}R.active=M
	R._hh+=R._hh<12?12:-12
	R._updateValue()
	}
	}},_updateValue:function(){var R
	if(this._tf){R=I().TIMEINPUTFORMATS[0]
	}else{R=I().TIMEINPUTFORMATS[1]
	}this.set("value",Q.formatTimeInfo({hour:this._hh,min:this._mm},R))
	},incr:function(){var R
	if(this.active===O){R=this._hh
	if(R===23){R=-1
	}this._hh=R+1
	}else{if(this.active===M){if(this._hh>12){this._hh-=12
	}else{this._hh+=12
	}}else{R=parseInt(this._mm,10)+this.interval
	if(R>=60){if(this._hh===23){this._hh=-1
	}this._hh+=1
	R=R-60
	}this._mm=R
	}}this._updateValue()
	},decr:function(){var R
	if(this.active===O){R=this._hh
	R=(R===0)?24:R
	this._hh=R-1
	}else{if(this.active===M){if(this._hh>12){this._hh-=12
	}else{this._hh+=12
	}}else{R=parseInt(this._mm,10)-this.interval
	if(R<0){if(this._hh===0){this._hh=24
	}this._hh-=1
	R+=60
	}this._mm=R
	}}this._updateValue()
	},updateHours:function(S){var R=parseInt(S,10)
	if(this._tf){if(this._hh>=12&&R<12){this._hh=R+12
	}else{this._hh=R
	}}else{this._hh=R
	}this._updateValue()
	},updateMinutes:function(R){this._mm=parseInt(R,10)
	this._updateValue()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.Container","mstrmojo._FormatDefinition","mstrmojo.FieldSet","mstrmojo.Table")
	var D=mstrmojo.hash,B=mstrmojo.num
	var C=function(F){return D.copy(F,{scriptClass:"mstrmojo.ValidationTextBox",maxLength:6,dtp:4,min:0,max:100,constraints:{trigger:mstrmojo.validation.TRIGGER.ONKEYUP},bindings:{m:F.modelBinding,value:function(){var G=this.m[this.pr]
	return G==null?"":this._PT2UserUnits(G).replace(/([\.,][1-9]{1,})0{1,}$/,"$1").replace(/\.$/,".0").replace(/,$/,",0")
	}},postCreate:function(){this.markupMethods=D.copy({onvalueChange:function(){this.inputNode.value=this.value
	}},D.copy(this.markupMethods))
	},onValid:function(){this.m[this.pr]=this._UserUnits2PT(this.value)
	},_PT2UserUnits:function(G){return B.toLocaleString(B.convertToLocalUnits(B.toString(G),mstrApp.units))
	},_UserUnits2PT:function(G){return B.toLocaleString(B.toString(B.convertToUSUnits(G,mstrApp.units)))
	}})
	}
	var A=function(F,G){return{scriptClass:"mstrmojo.Label",text:F,slot:G}
	}
	mstrmojo.PaddingFormatter=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.PaddingFormatter",cssClass:"mstrmojo-PaddingFormatter",markupString:'<div id={@id} class="{@cssClass}" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},postCreate:function(){this.onmodelChange()
	},onmodelChange:function(){if(this.model&&!this.model.scriptClass){D.make(this.model,mstrmojo.Obj)
	}},init:function E(F){var G=mstrConfig.unitsLabel||mstrApp.unitsLabel
	this.children=[{scriptClass:"mstrmojo.FieldSet",alias:"padding",cssClass:"mstrmojo-FormatEditor-padding",legend:mstrmojo.desc(2883),children:[{scriptClass:"mstrmojo.HBox",cssClass:"paddingBox",children:[{scriptClass:"mstrmojo.Table",rows:2,cols:3,children:[A(mstrmojo.desc(3528),"0,0"),C({pr:"LeftPadding",slot:"0,1",modelBinding:"this.parent.parent.parent.parent.model"}),A(G,"0,2"),A(mstrmojo.desc(3526),"1,0"),C({pr:"TopPadding",slot:"1,1",modelBinding:"this.parent.parent.parent.parent.model"}),A(G,"1,2")]},{scriptClass:"mstrmojo.Table",rows:2,cols:3,children:[A(mstrmojo.desc(3529),"0,0"),C({pr:"RightPadding",slot:"0,1",modelBinding:"this.parent.parent.parent.parent.model"}),A(G,"0,2"),A(mstrmojo.desc(3527),"1,0"),C({pr:"BottomPadding",slot:"1,1",modelBinding:"this.parent.parent.parent.parent.model"}),A(G,"1,2")]}]}]}]
	this._super(F)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Table","mstrmojo.SelectBox","mstrmojo._CanValidate","mstrmojo.MetricSelectorUtility")
	var D=mstrmojo.MetricSelectorUtility,K=mstrmojo.validation,G=mstrmojo.expr,E=mstrmojo.num,N=D.OP,F=[{n:mstrmojo.desc(2795,"Equals"),v:N._EQUALS},{n:mstrmojo.desc(2796,"Does not equals"),v:N._NOT_EQUALS},{n:mstrmojo.desc(521,"Greater than"),v:N._GREATER},{n:mstrmojo.desc(522,"Greater than or equal to"),v:N._GREATER_EQUAL},{n:mstrmojo.desc(523,"Less than"),v:N._LESS},{n:mstrmojo.desc(524,"Less than or equal to"),v:N._LESS_EQUAL},{n:mstrmojo.desc(519,"Between (enter value1
	value2)"),v:N._BETWEEN},{n:mstrmojo.desc(614,"Not between (enter value1
	value2)"),v:N._NOT_BETWEEN},{n:mstrmojo.desc(898,"In (enter value1
	value2
	...
	valueN)"),v:N._IN},{n:mstrmojo.desc(2394,"Not In (enter value1
	value2
	...
	valueN)"),v:N._NOT_IN},{n:mstrmojo.desc(2202,"Is null"),v:N._IS_NULL},{n:mstrmojo.desc(2203,"Is not null"),v:N._IS_NOT_NULL}],L=F.slice(0,10),J="padding:2px 2px 2px 2px",H=F.slice(10,12)
	var C=function(b,S,U,X,W){var Y
	if(W===2){return S
	}var c=String(b).split("
	"),Z=K.STATUSCODE.INVALID_VALIDATOR,R=K.STATUSCODE.VALID
	if(X&&c&&c.length>1){S.code=Z
	}else{for(Y=0
	Y<c.length
	Y++){var a=parseFloat(c[Y],10)
	if(isNaN(a)||(U&&((c[Y].match(/^\d+(\.\d+)?%$/)===null&&c[Y].match(/^\d+(\.\d+)?$/)==null)||a<0||a>100))||(!U&&c[Y].match(/\d+$/)===null)){S.code=Z
	}if(S.code!==R){break
	}}}if(S.code!==R){S.msg=mstrmojo.desc(6103,"Please fix any invalid data")
	}return S
	}
	var M=function(R){R=parseFloat(R)
	return isNaN(R)?"54px":((R*72/16)+"pt
	")
	},Q=function(U){if(U.hasRendered){var S=U.domNode.style
	S.font=U.font
	S.width=M(S.fontSize)
	}else{var R=U.font.match(/[^\s]*?pt/)||[]
	U.cssText=U.cssText+" font:"+U.font+"
	width:"+M(R[0])
	}},I=function(R){if((R>=8&&R<=16)||(R>=23&&R<=25)){return false
	}return true
	}
	mstrmojo.MetricQualification=mstrmojo.declare(mstrmojo.Table,null,{scriptClass:"mstrmojo.MetricQualification",cssClass:"qs",cssText:"width:100%",markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?mstrmojo.css.DISPLAY_TABLE:"none"
	}},getClientHeight:function P(){return this.domNode.clientHeight+2
	},rows:1,cols:4,layout:[{cells:[{cssText:"width:100%"},{cssText:"width:56px"},{cssText:"width:56px"},{cssText:"width:18px"}]}],init:function(R){if(this._super){this._super(R)
	}this._init()
	},_init:function(U){var S
	switch(this.qua){case 0:this.low=(this.da&&this.da.low)||0
	this.high=(this.da&&this.da.high)||0
	break
	case 1:case 2:this.low=1
	this.high=(this.da&&this.da.cnt)||0
	break
	case 3:case 4:this.low=0
	this.high=100
	break
	}if(U){this.cs=[]
	this.f=this.ft=null
	}var X=D.getOpIdxByfunc(this.f,this.ft),W=I(this.dt)?N._GREATER_EQUAL:N._IS_NULL
	this.set("opId",(X==-1)?W:X)
	var R=(this.cs&&this.cs.length>0)?E.toLocaleString(this.cs[0].v):""
	if(this.opId===N._IN||this.opId===N._NOT_IN){for(S=1
	S<this.cs.length
	S++){R+="
	"+E.toLocaleString(String(this.cs[S].v))
	}}else{this.set("cs2",(this.cs&&this.cs.length>1)?E.toLocaleString(this.cs[1].v):"")
	}this.set("cs1",R)
	this.vldTbL.validate()
	this.vldTbH.validate()
	this.changeQual=false
	},updateData:function B(R,S){this.da=R
	this.updateExpr(S)
	},updateExpr:function A(R){if(R){this.cs=R.cs
	this.f=R.f
	this.ft=R.ft
	this.qua=R.qua
	}this._init()
	},onquaChange:function O(R){this._init(true)
	this.func.items=(this.qua!==0)?L:I(this.parent.dt)?F:H
	this.func.refresh()
	this.changeQual=true
	this.onchange()
	},children:[{slot:"0,0",alias:"func",scriptClass:"mstrmojo.SelectBox",cssText:"width:100%",size:1,bindings:{sv:"this.parent.opId",font:"this.parent.font"},onfontChange:function(){if(this.hasRendered){this.domNode.style.font=this.font
	}else{this.cssText="width:100%
	font:"+this.font
	}},onsvChange:function(){if(this.sv!==null&&this.sv!==undefined){this.set("selectedItem",{v:this.sv})
	}},postCreate:function(){if(mstrmojo.dom.isIE){this.itemDisplayField="n"
	this.showItemTooltip=true
	}this.items=(this.parent.qua!==0)?L:I(this.parent.dt)?F:H
	},onchange:function(){var S=this.parent,U=this.selectedItem
	if(U&&U.v!==null&&U.v!==undefined){var R=D.getIncludeByOp(U.v)
	S.include=R
	if(S.parent&&R!==S.parent.include){S.changeInclude=true
	}else{S.changeInclude=false
	}S.set("opId",U.v)
	}if(mstrApp.isMobile&&(U.v===N._IS_NULL||U.v===N._IS_NOT_NULL)){if(S.onchange){S.onchange()
	}}}},{slot:"0,1",alias:"vldTbL",scriptClass:"mstrmojo.ValidationTextBox",required:true,dtp:G.DTP.VARCHAR,constraints:{trigger:K.TRIGGER.ALL,validator:function(R){var S={id:this.id,code:K.STATUSCODE.VALID,msg:""},U=this.parent
	C(R,S,(U.qua===3||U.qua===4),(U.opId!==8&&U.opId!==9),(U.numFmts&&U.numFmts.cat))
	return S
	}},bindings:{visible:"this.parent.opId!=10&&this.parent.opId!=11",value:"this.parent.cs1",font:"this.parent.font"},onfontChange:function(){Q(this)
	},onValid:function(){var S=this.parent,R=this.domNode
	S.set("cs1",this.value)
	if(R&&R.value.length>6){R.title=R.value
	}else{if(R){R.title=""
	}}},onvisibleChange:function(){if(!this.visible){this.parent.set("cs1","")
	}},onkeyup:function(S){var R=S.hWin,X=S.e||R.event,W=this.parent,U=S.src.domNode
	if(X.keyCode===13&&W.apply&&W.apply.enabled){W.apply.onclick()
	}}},{slot:"0,2",alias:"vldTbH",scriptClass:"mstrmojo.ValidationTextBox",required:true,dtp:G.DTP.VARCHAR,constraints:{trigger:K.TRIGGER.ALL,validator:function(R){var S={id:this.id,code:K.STATUSCODE.VALID,msg:""},U=this.parent
	C(R,S,(U.qua===3||U.qua===4),(U.opId!==8&&U.opId!==9),(U.numFmts&&U.numFmts.cat))
	return S
	}},bindings:{visible:"this.parent.opId ==7 ||this.parent.opId ==6",value:"this.parent.cs2",font:"this.parent.font"},onfontChange:function(){Q(this)
	},onValid:function(){this.parent.set("cs2",this.value)
	var R=this.domNode
	if(R&&R.value.length>6){R.title=R.value
	}else{if(R){R.title=""
	}}},onvisibleChange:function(){if(!this.visible){this.parent.set("cs2","")
	}},onkeyup:function(S){var R=S.hWin,W=S.e||R.event,U=this.parent
	if(W.keyCode===13&&U.apply&&U.apply.enabled){U.apply.onclick()
	}}},{slot:"0,3",alias:"apply",title:mstrmojo.desc(2164,"Apply"),scriptClass:"mstrmojo.Button",cssClass:"icn apply",bindings:{enabled:"(!this.parent.vldTbL.visible ||!this.parent.vldTbL.validationStatus.code)&& (!this.parent.vldTbH.visible||!this.parent.vldTbH.validationStatus.code)"},onclick:function(){var U=this.parent,Y=(U.qua===D.Q._PT||U.qua===D.Q._PB),R
	U.cs=[]
	var W=function(Z){return Z+((Y&&!String(Z).match(/^\d+%$/))?"%":"")
	}
	var S=function(Z,a){return((Z===2||Z===3)&&a===0)?14:5
	}
	if(U.opId===N._IN||U.opId===N._NOT_IN){var X=String(U.cs1).split("
	")
	for(R=0
	R<X.length
	R++){if(!mstrmojo.string.isEmpty(X[R])){U.cs.push({dtp:5,v:W(X[R])})
	}}}else{if(U.vldTbL.visible){U.cs.push({dtp:S((U.numFmts&&U.numFmts.cat),U.qua),v:W(U.cs1)})
	}if(U.vldTbH.visible){U.cs.push({dtp:S((U.numFmts&&U.numFmts.cat),U.qua),v:W(U.cs2)})
	}}if(U.onchange){U.onchange()
	}if(U.makeSelection){U.makeSelection()
	}}}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasLayout","mstrmojo.StackContainer")
	mstrmojo.TabContainer=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.TabContainer",markupString:'<div id="{@id}" class="mstrmojo-tabcontainer {@cssClass}"><div class="mstrmojo-tabcontainer-tabs"></div><div class="mstrmojo-tabcontainer-stack"></div><div></div></div>',markupMethods:{onborderChange:function(){if(this.border){this.domNode.style.border=this.border
	}},onbackgroundChange:function(){this.domNode.style.background=this.background||""
	}},markupSlots:{top:function(){return this.domNode.childNodes[0]
	},stack:function(){return this.domNode.childNodes[1]
	},containerNode:function(){return this.domNode.childNodes[1]
	},bottom:function(){return this.domNode.childNodes[2]
	}},addChildren:function A(D,K,H){var G=this._super(D,K,H)
	var B=this.children,F=B.length
	if(F>=2){var L,I,E
	for(E=0
	E<F
	E++){var C=B[E],J=C&&C.slot
	if(!L&&C.isStrip){L=C
	}else{if(!I&&(!J||J==="stack")){I=C
	}}if(L&&I){L.set("target",I)
	break
	}}}return G
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.HBox","mstrmojo._HasBuilder","mstrmojo._CanMeasureChildren")
	function D(){return(this.renderMode!=="scroll")?this._super():true
	}function C(){if(!this.hasRendered){return 
	}var F=this.children||[],E=F.length-1
	for(E
	E>=0
	E--){if(F[E].refresh){F[E].refresh()
	}}}mstrmojo.DocSection=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasBuilder,mstrmojo._CanMeasureChildren],{scriptClass:"mstrmojo.DocSection",markupString:'<div id="{@id}" k="{@k}" class="mstrmojo-DocSection" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},postBuildRendering:D,childRenderOnAddCheck:D,refresh:C,getWidth:function A(){return this._super(1)
	}})
	mstrmojo.DocSectionHoriz=mstrmojo.declare(mstrmojo.HBox,[mstrmojo._HasBuilder,mstrmojo._CanMeasureChildren],{scriptClass:"mstrmojo.DocSectionHoriz",postBuildRendering:D,childRenderOnAddCheck:D,refresh:C,getHeight:function B(){return this._super(1)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo._HasBuilder")
	mstrmojo.ToolBar=mstrmojo.declare(mstrmojo.HBox,[mstrmojo._HasBuilder],{scriptClass:"mstrmojo.ToolBar",cellCssClass:"mstrmojo-ToolBar-cell",markupString:'<table id="{@id}" class="mstrmojo-ToolBar {@cssClass}" style="{@cssText}" cellspacing="0" cellpadding="0"><tr><td class="mstrmojo-ToolBar-outercell"><table class="mstrmojo-ToolBar-innertable" cellspacing="0" cellpadding="0"><tr>{@tableHtml}</tr></table></td></tr></table>',markupSlots:{containerNode:function(){return this.domNode.rows[0].cells[0].firstChild.rows[0]
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?mstrmojo.css.DISPLAY_TABLE:"none"
	}},buildChildren:function A(){var B=this.buildConfig
	if(!B){this.buildConfig={}
	B=this.buildConfig
	}B.target=this.target
	return this._super()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo._IsInputControl","mstrmojo.num","mstrmojo.HBox","mstrmojo.Container")
	var E=mstrmojo.expr.DTP,P="mstrmojo.Button",G=mstrmojo.num,N=mstrmojo.validation.TRIGGER,D=50,B=500,L=10
	function F(Q){var R=this
	this._holdTimer=setInterval(function(){R.onclick(Q)
	},D)
	}function H(){if(this._holdTimer){clearInterval(this._holdTimer)
	delete this._holdTimer
	}}function K(Q){var R=this
	if(!this._holdTimer&&!this._startHoldTimer){this._startHoldTimer=setTimeout(function(){delete R._startHoldTimer
	F.call(R,Q)
	},B)
	}}function A(){if(this._startHoldTimer){clearTimeout(this._startHoldTimer)
	delete this._startHoldTimer
	}H.call(this)
	}function M(Q){A.call(this)
	}function C(Q){return Q?parseFloat(Q.toFixed(L)):Q
	}function I(U){var Q=U.max,S=U.min,R=U.itv
	return{scriptClass:"mstrmojo.HBox",alias:"hBox",children:[{scriptClass:P,alias:"minus",cssClass:"mstrmojo-StepperDIC-Operator",onclick:function(X){var Z=this.parent.parent,Y=Z.numericValue
	if(!isNaN(Y)){if(Q!==undefined&&Y-R>Q){Z.set("numericValue",Q)
	}else{if(S===undefined||Y-R>=S){Z.set("numericValue",C(Y-R))
	}else{if(Y>=S&&Y-R<S){Z.set("numericValue",S)
	}}}}},onmouseup:M,onmousedown:K,text:"-"},{scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mstrmojo-DataInputControl",dtp:E.DOUBLE,required:true,alias:"textInput",cssDisplay:"block",constraints:{trigger:N.ONKEYUP|N.ONBLUR,max:Q,min:S},bindings:{value:"this.parent.parent.numericValue",enabled:"!!this.parent.parent.enabled"},onValid:function(){this.parent.parent.set("numericValue",parseFloat(this.value))
	},onblur:function W(X){var Z=this,Y=this.parent.parent,a=G.parseNumeric(this.value)
	if(!Y.active&&!isNaN(a)&&a>=S&&a<=Q){Y.set("value",G.toLocaleString(Y.numericValue))
	}if(this._super){this._super(X)
	}}},{scriptClass:P,alias:"plus",cssClass:"mstrmojo-StepperDIC-Operator",onclick:function(X){var Z=this.parent.parent,Y=Z.numericValue
	if(!isNaN(Y)){if(S!==undefined&&Y+R<S){Z.set("numericValue",S)
	}else{if(Q===undefined||Y+R<=Q){Z.set("numericValue",C(Y+R))
	}else{if(Y<=Q&&Y+R>Q){Z.set("numericValue",Q)
	}}}}},onmouseup:M,onmousedown:K,text:"+"}]}
	}mstrmojo.StepperDIC=mstrmojo.declare(mstrmojo.Container,[mstrmojo._IsInputControl],{scriptClass:"mstrmojo.StepperDIC",cssClass:"mstrmojo-StepperDIC",markupString:'<div id="{@id}" class="{@cssClass}" style="{@cssText}" mstrAttach:mouseup,mousedown></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},onnumericValueChange:function(){var Q=this.numericValue
	if(this.minus){if(Q<=this.dic.min||!this.enabled){this.minus.set("enabled",false)
	A.call(this.minus)
	}else{this.minus.set("enabled",true)
	}}if(this.plus){if(Q>=this.dic.max||!this.enabled){this.plus.set("enabled",false)
	A.call(this.plus)
	}else{this.plus.set("enabled",true)
	}}},init:function O(R){if(this._super){this._super(R)
	}var Q=parseFloat(this.value)
	this.set("children",I(this.dic))
	this.textInput=this.hBox&&this.hBox.textInput
	this.plus=this.hBox&&this.hBox.plus
	this.minus=this.hBox&&this.hBox.minus
	this.set("numericValue",isNaN(Q)?(this.dic.min||0):Q)
	},onmousedown:function(Q){this.active=true
	},onmouseup:function(Q){this.active=false
	this.textInput&&this.textInput.domNode.focus()
	},unrender:function J(Q){this.plus&&A.call(this.plus)
	this.minus&&A.call(this.minus)
	this._super(Q)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css")
	mstrmojo.PickerButton=mstrmojo.declare(mstrmojo.HBox,null,{scriptClass:"mstrmojo.PickerButton",cssClass:"mstrmojo-PickerButton",cellCssClass:"mstrmojo-PickerButton-cell",enabled:true,postCreate:function(){var A=function(B){var C=B.parent,E=C&&C.items&&C.items[C.selectedIndex],D=E&&E.cssClass||null
	if(D){mstrmojo.css.removeClass(B.domNode,B.selectedItemCssClass)
	mstrmojo.css.addClass(B.domNode,B.selectedItemCssClass=D)
	}}
	this.children=[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-InteractiveButton",selectedItemCssClass:"",bindings:{title:"this.parent.title",iconClass:"this.parent.iconClass",selectedIndex:"this.parent.selectedIndex",enabled:"this.parent.enabled"},onclick:function(){this.parent.onchange()
	},onselectedIndexChange:function(){A(this)
	},onRender:function(){A(this)
	}},{scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-PickerButton-DropDownButton",bindings:{enabled:"this.parent.enabled"},popupRef:{scriptClass:"mstrmojo.Popup",slot:"popupNode",cssClass:"mstrmojo-Menu",shadowNodeCssClass:"mstrmojo-Menu-shadow",contentNodeCssClass:"mstrmojo-Menu-content",autoCloses:false,locksHover:true,children:[{scriptClass:"mstrmojo.ListBox",itemCssClass:"mstrmojo-ListBox-item mstrmojo-InteractiveText",bindings:{itemDisplayField:"this.parent.opener.parent.itemDisplayField",itemIdField:"this.parent.opener.parent.itemIdField",items:"this.parent.opener.parent.items"},onchange:function(){if(this._closing){return 
	}var C=this.selectedIndex,B=this.parent.opener
	if((C>-1)&&B){this._closing=true
	B.closePopup()
	B.parent.selectedItem=this.selectedItem
	B.parent.set("selectedIndex",C)
	B.parent.onchange()
	this._closing=false
	}}}]}}]
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.url","mstrmojo.DocTextfield")
	var I=mstrmojo.dom,K=mstrmojo.css,L=1,Q=2,A=3,N=4,P=5,E=6,B=1,D=["","CaptionOnly","IconOnly","IconLeft","IconRight","IconTop","Custom"]
	var M=[]
	M[L]=M[Q]=M[E]={minsp:0,mincs:0}
	M[A]=M[N]={minsp:10,mincs:5}
	M[P]={minsp:4,mincs:5}
	function F(X,S,Z,R,U){var a=I.position(X),W=I.position(X.parentElement),Y=X.style
	R=R||{}
	R={t:R.t||0,r:R.r||0,b:R.b||0,l:R.l||0}
	R.h=W.h-R.t-R.b
	R.w=W.w-R.l-R.r
	if(U){if(a.h>R.h){Y.height=R.h+"px"
	}if(a.w>R.w){Y.width=R.w+"px"
	}a=I.position(X)
	}if(S){Y.top=((R.h-a.h)/2+R.t)+"px"
	}if(Z){Y.left=((R.w-a.w)/2+R.l)+"px"
	}}function J(X,Y,U){var S=document.createElement("img"),R=S.style
	X.appendChild(S)
	I.attachEvent(S,"load",function(){var Z=R.display
	R.display="block"
	F(S,true,true)
	R.display=Z
	},true)
	S.className=U
	var W=this.model.getDataService()
	S.src=(W&&W.getDocImage&&W.getDocImage(Y))||Y
	}mstrmojo.DocButton=mstrmojo.declare(mstrmojo.DocTextfield,null,{scriptClass:"mstrmojo.DocButton",pressed:false,markupString:'<div id="{@id}" k="{@k}" class="mstrmojo-DocButton {@cssClass}" title="{@tooltip}" style="{@domNodeCssText}"><div class="mstrmojo-DocButton-Container" mstrAttach:click,mousedown><div class="mstrmojo-DocButton-IconNode"></div><div class="mstrmojo-DocButton-ValueNode" style="{@valueNodeCssText}">{@v}</div></div><div class="mstrmojo-DocButton-EffectOverlay"></div>{@buttonNodeMarkup}</div>',markupSlots:{iconNode:function(){return this.domNode.firstChild.firstChild
	},valueNode:function(){return this.domNode.firstChild.lastChild
	},buttonContainerNode:function(){return this.domNode.firstChild
	}},markupMethods:{onpressedChange:function(){var R=!!this.pressed,W=this.defn,U=this.domNode,S=this.fmts
	K.toggleClass(U,"pressed",R)
	this.setBackgroundColor()
	this.valueNode.style.color=R?W.fhlc:(S.color||"")
	},onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},formatHandlers:{domNode:["T","z-index","D","B","P","background-color"],valueNode:["font","fx","color","white-space","overflow"]},setBackgroundColor:function H(){this.domNode.style.backgroundColor=(!!this.pressed)?this.defn.bhlc:(this.fmts["background-color"]||"")
	},getAnchor:function O(){return this.domNode
	},getDPI:function C(){return this.model.dpi
	},buildRendering:function G(){this._super()
	var S=this.defn,l=this.domNode,X=this.buttonContainerNode,k=this.iconNode,o=this.valueNode,f=parseInt((S&&S.dpst)||1,10),g="px"
	K.toggleClass(l,D[f],true)
	l.onselectstart=l.ondragstart=function(){return false
	}
	var d=this.getFormats(),Z=parseInt(K.getComputedStyle(X).borderWidth,10)*2
	if(isNaN(Z)){Z=0
	}var b=parseFloat(d.width)-Z,m=parseFloat(d.height)-Z,Y=M[f],c=Y.minsp,q=Y.mincs,e,a=k.style,j=o.style
	function W(r,t){a.width=r+g
	a.height=t+g
	}var p=X.style
	p.height=m+g
	p.width=b+g
	switch(f){case P:var U=this.getDPI(),R=m+K.getBorderWidths(d["border-width"],U).h+K.getPaddings(d.padding,U).h
	e=Math.max(0,Math.min(m-c-q,R*0.6))
	W(b,e)
	F(k,false,true)
	F(o,true,false,{t:e+c},true)
	break
	case A:case N:e=Math.max(0,Math.min(m,b-c-q))
	W(e,e)
	F(k,true,false)
	j[(f===A)?"left":"right"]=(e+c)+g
	F(o,true,false)
	break
	case L:F(o,true,false)
	break
	case Q:case E:break
	}if(B===parseInt(S.fe,10)){K.addClass(l,"gloss")
	}J.call(this,k,mstrmojo.url.getFullPath(S.nmurl),"normal")
	J.call(this,k,mstrmojo.url.getFullPath(S.hlurl||S.nmurl),"hilight")
	var n=document.createElement("div")
	K.addClass(n,"mstrmojo-DocButton-IconMaskNode")
	k.appendChild(n)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocPanel","mstrmojo.css")
	var C=mstrmojo.css
	mstrmojo.ExpressDocPanel=mstrmojo.declare(mstrmojo.DocPanel,null,{scriptClass:"mstrmojo.ExpressDocPanel",preBuildRendering:function B(){if(this.getFormats().overflow==="auto"){C.addWidgetCssClass(this,"scroll")
	}return this._super()
	},renderChildren:function A(){if(this._isFP()&&this.children){this.children.sort(function(E,D){var F=function(G){return(G&&G.defn&&G.defn.fmts&&G.defn.fmts.p_fmts&&G.defn.fmts.p_fmts["z-index"])||0
	}
	return parseInt(F(E))>parseInt(F(D))?1:-1
	})
	}return this._super()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase","mstrmojo._ListSelections")
	mstrmojo.ListBoxHoriz=mstrmojo.declare(mstrmojo.ListBoxBase,[mstrmojo._ListSelections],{scriptClass:"mstrmojo.ListBoxHoriz",cssClass:"mstrmojo-ListBoxHoriz",tableCssClass:"mstrmojo-ListBox-table",tableCssText:"",rowCssClass:"",rowCssText:"",cellCssClass:"",cellCssText:"",cellSpacing:0,cellPadding:0,_markupPrefix:function(){var A=this.itemRenderer
	return(A&&A.markupPrefix)||('<table class="'+this.tableCssClass+'" style="'+this.tableCssText+'" cellspacing="'+this.cellSpacing+'" cellpadding="'+this.cellPadding+'"><tbody><tr class="'+this.rowCssClass+'" style="'+this.rowCssText+'">')
	},_markupSuffix:function(){var A=this.itemRenderer
	return(A&&A.markupSuffix)||"</tr></tbody></table>"
	},_itemPrefix:function(){var A=this.itemRenderer
	return(A&&A.itemPrefix)||('<td class="'+this.cellCssClass+'" style="'+this.cellCssText+'">')
	},_itemSuffix:function(){var A=this.itemRenderer
	return(A&&A.itemSuffix)||"</td>"
	},_getItemNode:function(A){if(A<0){return null
	}var B=this.itemsNode,C=B&&B.rows[0]
	return C&&C.cells[A].firstChild
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBoxBase","mstrmojo._HasScrollbox")
	mstrmojo.ListBox=mstrmojo.declare(mstrmojo.ListBoxBase,[mstrmojo._HasScrollbox],{scriptClass:"mstrmojo.ListBox",renderAllItems:false,renderPause:10,numPagesRendered:0,pageStatus:null,_rc:null,_totalPages:null,_rh:null,_rhMin:8,_rowsPerPage:null,_defaultRowsPerPage:100,_minRowsPerPage:100,_pageHeight:null,buildRendering:function K(){if(this.renderAllItems===true){this._super()
	return true
	}this._initPageSettings()
	var L=this.items
	this.items=this._rc?this.items.slice(0,Math.min(this._rowsPerPage,this._rc)):[]
	this._super()
	this.items=L
	this.postRenderPage(0,true)
	if(this._rc>this._rowsPerPage){this.itemsContainerNode.style[mstrmojo.css.MINHEIGHT]=(this._rh*this._rc)+"px"
	if(!this.connectedScrollbox){this.connectScrollbox(this)
	this.connectedScrollbox=true
	}}else{this.postRenderingCleanup()
	}},_initPageSettings:function E(){var L=this.items
	this._rc=(L&&L.length)||0
	var N=this.itemRenderer
	this._rh=(N&&N.rowHeight)||this._rhMin||3
	var M=this._defaultRowsPerPage
	if(!isNaN(this.scrollboxHeight)){M=Math.ceil(this.scrollboxHeight/this._rh)
	M=Math.max(M,this._minRowsPerPage)
	}this._rowsPerPage=M
	this._totalPages=Math.ceil(this._rc/this._rowsPerPage)
	this._pageHeight=this._rh*this._rowsPerPage
	this._pageStatus=new Array(this._totalPages)
	this._numPagesRendered=0
	},onscroll:function J(){if(!this._renderingRows){this._startPageRenderThread()
	}},_startPageRenderThread:function F(){this.renderingRows=true
	var M=this,L=this._renderTimer=self.setInterval(function(){if(!M){self.clearInterval(L)
	return 
	}var N=M.getPagesToRender()
	if(N.length>0){M.renderPages(N)
	}else{M.renderingRows=false
	self.clearInterval(M._renderTimer)
	delete M._renderTimer
	if(M.isRenderingComplete()){M.postRenderingCleanup()
	}M=null
	}},this.renderPause)
	},getPagesToRender:function I(){var P=[],b=this._pageHeight,d=null,Y=this._pageStatus,a=this
	function R(e){var f=Y[e]
	if(f&&f.filled){if(!f.height){if(!d){d=a.itemsNode.tBodies
	}f.height=d[e].offsetHeight
	}return f.height
	}else{return b
	}}var c=0,S=null,O=null,M=this.scrollboxTop
	for(var X=0,Z=this._totalPages
	X<Z
	X++){c+=R(X)
	if(c>=M){S=X
	break
	}}if(S==null){S=O=Z-1
	}else{var L=this.scrollboxBottom
	for(var U=S+1
	U<Z
	U++){if(c>=L){O=U-1
	break
	}c+=R(U)
	}}if(O==null){O=Z-1
	}for(var N=this._numPagesRendered
	N<S
	++N){P.push({idx:N,fill:false})
	}for(var Q=S
	Q<=O
	++Q){var W=Y[Q]
	if(!W||!W.filled){P.push({idx:Q,fill:true})
	}}return P
	},renderPages:function D(M){for(var N=0,L=M.length
	N<L
	++N){this.renderPage(M[N].idx,M[N].fill)
	}},renderPage:function B(R,M){var X=this._pageStatus,P=(this._numPagesRendered>=R+1)
	if(P){if(!M||(X[R]&&X[R].filled)){return 
	}}var W=this._rowsPerPage,L=R*W,N=Math.min(L+W,this._rc)-1
	var U=this.tempTableCont
	if(!U){U=this.tempTableCont=this.domNode.ownerDocument.createElement("div")
	}var Q=M?this._buildItemsMarkup(L,N,'<table><tbody idx="'+R+'">',"</tbody></table>",this._itemPrefix&&this._itemPrefix(),this._itemSuffix&&this._itemSuffix()).join(""):'<table><tbody idx="'+R+'"><tr><td style="height:'+this._pageHeight+'px">&nbsp
	</td></tr></tbody></table>'
	U.innerHTML=Q
	var O=U.firstChild.tBodies[0],S=this.itemsNode
	if(!P){S.appendChild(O)
	}else{S.replaceChild(O,S.tBodies[R])
	}this.postRenderPage(R,M)
	},postRenderPage:function G(M,O){if(M+1>this._numPagesRendered){this._numPagesRendered=M+1
	}var L=this._pageStatus,N=L[M]
	if(!N){N=L[M]={}
	}if(O){N.filled=true
	}if(M>0&&M==this._totalPages-1){this.itemsContainerNode.style[mstrmojo.css.MINHEIGHT]=""
	}},isRenderingComplete:function C(){if(this._numPagesRendered==this._totalPages){for(var L=this._pageStatus,M=this._totalPages-1
	M>-1
	M--){if(!L[M]||!L[M].filled){return false
	}}return true
	}return false
	},postRenderingCleanup:function A(){if(this.connectedScrollbox){this.disconnectScrollbox(this)
	this.connectedScrollbox=false
	}},unrender:function(L){this.postRenderingCleanup()
	this._super(L)
	},refresh:function H(){if(!this.hasRendered){return 
	}var N=this.domNode,L=N&&N.parentNode
	if(!this.parent&&L){var M=N.ownerDocument.createElement("span")
	L.insertBefore(M,N)
	}this.unrender()
	if(!this.parent&&L){this.domNode=M
	}this.render()
	if(this.defn&&this.defn.set){this.defn.set("readyState",mstrmojo.EnumReadystate.IDLE)
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.SuggestionList","mstrmojo.mstr.EnumDSSXMLObjectTypes")
	var C=function(S,W,U){var R=S.parent.opener,J=R&&R.showDesc,Q=R&&R.showPath,I=W[S.itemField]
	var P=mstrmojo.string.escape4HTMLText,X=""
	if(Q){var M=W.anc&&W.anc.items,O=M&&M.length
	if(O>0){for(var L=0
	L<O-1
	L++){X+=M[L].n+" > "
	}X+=P(M[O-1].n)
	}else{if(W.path){X+=P(W.path)
	}}}if(!U){if(W.st===8704){X+=(X.length===0?"":" > ")+P(W.ab)
	}else{X+=(X.length===0?"":" > ")+P(I)
	}}if(J){var N=W[S.itemDescField],K=120
	if(N){X+="\r\n\r\n<br>"+P(N.substring(0,K)+(N.length>K?"...":""))
	}}return X
	}
	var A=function(I,J,K){I.path=null
	if(!J||!K||K.path){if(K&&K.path){I.set("path",K.path)
	}return 
	}window.clearTimeout(this.pathTmr)
	this.pathTmr=window.setTimeout(function(){var M=J.path||J.getAttribute("path")
	if(M){I.set("path",K.path)
	return 
	}var L={success:function(O){var P=H(O.toString())||""
	K.path=P
	I.set("path",P)
	}},N={taskId:"getObjectDetails",objectID:K.did,objectType:K.t}
	if(mstrApp.isWorkstationPlugin){mstrApp.workstationDataFetchTaskProc&&mstrApp.workstationDataFetchTaskProc(N).then(function(O){L.success(O)
	})
	}else{mstrmojo.xhr.request("POST",mstrConfig.taskURL,L,N,undefined)
	}},200)
	}
	var H=function(K){var N
	if(window.DOMParser){N=(new DOMParser()).parseFromString(K,"text/xml")
	}else{N=new ActiveXObject("Microsoft.XMLDOM")
	N.async="false"
	N.loadXML(K)
	}var P=N.getElementsByTagName("path")[0],L=P.childNodes,O=""
	if(L){for(var J=0,I=L.length
	J<I
	J++){var M=L[J].childNodes&&L[J].childNodes[0]
	if(M){O+=mstrmojo.string.escape4HTMLText(M.nodeValue)+(J<I-1?"> ":"")
	}}}return O
	}
	mstrmojo.LegacySuggestionList=mstrmojo.declare(mstrmojo.SuggestionList,null,{scriptClass:"mstrmojo.LegacySuggestionList",useRichTooltip:false,itemDescField:"desc",getItemMarkup:function(K,I){var J=this.parent.opener,L=this.useRichTooltip?"":this.buildTooltip(K)
	return'<div class="mstrmojo-suggest-text '+((J&&J.item2textCss(K))||"")+'" idx="'+I+'" title="'+L+'">'+J.getHighlightedText(J.getSearchPattern(),mstrmojo.string.escape4HTMLText(K[this.itemField]))+"</div>"
	},getItemProps:function E(){return{}
	},onmouseover:function(J){var M=this.parent.opener
	if(M&&M.showPath){var K=mstrmojo.dom.eventTarget(J.hWin,J.e),I=K.getAttribute("idx"),L=I!=null?this.items[I]:null
	if(L&&L.t>-1){this.targetEl=K
	this.targetItem=L
	this.requestPath(K,L)
	}}},requestPath:function D(I,K){var J=this.parent.opener
	if(K.t===mstrmojo.mstr.EnumDSSXMLObjectTypes.Function&&J.showFunctionSyntaxAsPath){this.buildFunctionSyntax(K)
	}else{A(this,I,K)
	}},buildFunctionSyntax:function G(J){var K=J.path
	if(!K&&J.t===mstrmojo.mstr.EnumDSSXMLObjectTypes.Function){var I=function I(P){if(P.did<0){return P.n
	}var O=P.pars,M=[],N,L
	M.push(P.n)
	if(O){M.push("(")
	for(N=0,L=O.length
	N<L
	N++){M.push(O[N].n)
	if(N!==(L-1)){M.push(", ")
	}}M.push(")")
	}return M.join("")
	}
	J.path=I(J)
	}this.set("path",{path:J.path,excludeSelf:true})
	},buildTooltip:function B(I,J){return C(this,I,J)
	},onpathChange:function F(){var I=this.targetEl
	I.path=1
	var J=this.buildTooltip(this.targetItem,mstrApp.isWorkstationPlugin?!!this.path.excludeSelf:this.path.excludeSelf)
	if(this.useRichTooltip){this.useRichTooltip=true
	this.hasOpenTooltip=false
	if(!I.ttp){I.ttp=J
	this.showTooltip()
	}}else{I.title=J
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.List","mstrmojo.ui._HasScroller")
	mstrmojo.ui.ScrollableList=mstrmojo.declare(mstrmojo.ui.List,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ui.ScrollableList",markupString:'<div id="{@id}" class="mstrmojo-ListBase {@cssClass}" style="{@cssText}" mstrAttach:click,dblclick,mousedown,mouseover,mouseout,contextmenu,keydown><div class="list-content"><div class="items-container {@icnCss}" style="{@icnCssText}">{@itemsHtml}</div></div></div>',markupSlots:{itemsContainerNode:function C(){return this.domNode.firstChild.firstChild
	},scrollboxNode:function E(){return this.domNode.firstChild
	},scrollNode:function F(){return this.domNode.firstChild
	}},postBuildRendering:function B(){var G=this.parent
	if(this.renderOnScroll){if(!this.onScrollEnd){var I=this.id
	this.onScrollEnd=function H(){var J=mstrmojo.all[I]
	J.doScroll()
	J.updateScrollbars()
	}
	}}if(this._super){this._super()
	}if(this.enableAccessibility&&G.canTab&&G.navList.length&&this.getNavList){G.navList=this.getNavList()
	if(this.isTabItemHighlighting&&this.isTabItemHighlighting()){G.restoreFocus()
	}}},renderBlockSize:150,renderIndex:0,onScrollEnd:undefined,onkeydown:function D(G){var H=G.e||G
	if(!this.enableAccessibility){G.preventDefault()
	H.stopPropagation()
	}if(this._super){return this._super(G)
	}},doScroll:function A(){if(this.renderOnScroll){var H,I=this.scrollNode,G=(this.renderIndex+1)*this.renderBlockSize
	if(G>=this.items.length){return 
	}if(mstrmojo.dom.position(I).h===I.scrollHeight){H=this.domNode
	}else{H=I
	}if((mstrmojo.dom.position(H).h+H.scrollTop)>=H.scrollHeight){this.renderIndex++
	var J=this._buildItemsMarkup(this.renderIndex*this.renderBlockSize,((this.renderIndex+1)*this.renderBlockSize)-1,this._markupPrefix&&this._markupPrefix(),this._markupSuffix&&this._markupSuffix(),this._itemPrefix&&this._itemPrefix(),this._itemSuffix&&this._itemSuffix()).join("")
	this.itemsContainerNode.innerHTML+=J
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.List","mstrmojo.ui._HasScroller","mstrmojo.dom","mstrmojo.vi.util.A11yUtility","mstrmojo._IsAccessibleList","mstrmojo.string","mstrmojo.css")
	var R=mstrmojo.css,P=mstrmojo.vi.util.A11yUtility,O=mstrmojo.Enum_Keys,A=mstrmojo.string
	var U
	mstrmojo.ui.CheckList=mstrmojo.declare(mstrmojo.ui.List,[mstrmojo.ui._HasScroller,mstrmojo._IsAccessibleList],{scriptClass:"mstrmojo.ui.CheckList",markupString:'<div id="{@id}" class="mstrmojo-ui-CheckList {@cssClass}" style="{@cssText}" aria-label="{@en@ariaLabel}" tabindex="-1" mstrAttach:click,contextmenu,keydown><div class="scroll-container"><div class="{@icnCss}" style="{@icnCssText}">{@itemsHtml}</div></div></div>',markupSlots:{scrollboxNode:function K(){return this.domNode.firstChild
	},itemsContainerNode:function S(){return this.domNode.firstChild.firstChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onheightChange:mstrmojo.Widget.heightMarkupMethod,onwidthChange:mstrmojo.Widget.widthMarkupMethod,onorientationChange:function E(){R.toggleClass(this.domNode,"horizontal",this.orientation!=="v")
	},onmultiSelectChange:function J(){R.toggleClass(this.domNode,"radio",!this.multiSelect)
	},onenabledChange:function B(){R.toggleClass(this.domNode,"disabled",!this.enabled)
	},onhideCheckMarkChange:function H(){R.toggleClass(this.domNode,"hideCheckMark",this.hideCheckMark)
	},onariaLabelChange:function(){this.domNode.setAttribute("aria-label",A.encodeHtmlString(this.ariaLabel,true))
	}},multiSelect:true,hideCheckMark:false,orientation:"v",minimumSelectCnt:0,icnCss:"icn",items:null,listRole:"application",itemRole:"checkbox",itemSelectedAriaProp:"aria-checked",getItemMarkup:function F(Y){if(!U){U=this._super(Y).replace(">{@en@n}<",'title="{@tt}"><span class="text">{@en@n}</span><')
	}return U
	},getItemProps:function W(b,Z){var a=this._super(b,Z),Y={"\r\n":" ","\n":" ","\r":" "}
	var c=b.css
	if(c){a.addCls(c)
	}a.tt=b.tt||""
	b.n=mstrmojo.string.multiReplace(b.n,Y)
	a.n=b.n||""
	return a
	},postBuildRendering:function Q(){if(this._super){this._super()
	}this.resetKeydownIndex()
	},onvisibleChange:function(Y){if(this._super){this._super(Y)
	}this.updateItemStyle(Y.value)
	},refresh:function G(Y){if(this._super){this._super(Y)
	}if(this.domNode){this.domNode.focus()
	}this.updateItemStyle(true)
	},resetKeydownIndex:function(){var Z=Object.keys(this.selectedIndices),Y=Z.length
	this.keydownIndex=Y>0?parseInt(Z[0]):0
	},setKeydownIndex:function(){this.keydownIndex=0
	},grabFocus:function N(Y){if(!this.enableAccessibility){return 
	}var Z=this.domNode
	if(Y){Z.focus()
	}this.navMode=true
	this.updateItemStyle(true)
	},loseFocus:function D(Z){if(!this.enableAccessibility){return 
	}this.updateItemStyle(false)
	var Y=this.domNode
	if(Z){Y.blur()
	}this.navMode=false
	},setupScrollNodes:function M(){this.scrollNode=this.scrollboxNode
	},getA11yCSS:function(){return this.navMode?[P.CSS_FOCUS_VISIBLE]:[]
	},arrowKeySupported:function(Y){return Y===O.DOWN_ARROW||Y===O.UP_ARROW||Y===O.END||Y===O.HOME
	},onclick:function X(Y){var Z=false
	if(this._super){Z=this._super(Y)
	}if(this.enableAccessibility&&!this.multiSelect){this.keydownIndex=this.selectedIndex
	}return Z
	},onkeydown:function L(Y){var a=Y.e||hWin.event
	if(!this.enableAccessibility){return 
	}if(this._super){this._super(Y)
	}if(a.keyCode===O.ENTER||a.keyCode===O.SPACE||(!this.multiSelect&&(a.keyCode===O.DOWN_ARROW||a.keyCode===O.UP_ARROW))){Y.cancel()
	Y.preventDefault()
	var Z=this.items[this.keydownIndex]
	if(Z){this.doItemSelect(Z,Y)
	}}},preselectionChange:function C(Z){var a=this.minimumSelectCnt,Y=this.getSelectedItems().length,b=Z.removed
	if(b&&a){if(Y<a){this.select(b,true)
	return false
	}}R.toggleClass(this.itemsContainerNode,"disableSelected",Y<=a)
	return true
	},buildRendering:function I(){this._super()
	R.toggleClass(this.itemsContainerNode,"disableSelected",this.getSelectedItems().length<=this.minimumSelectCnt)
	}})
	mstrmojo.ui.CheckList.ItemType=null
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.hash","mstrmojo.ui.ButtonBar")
	var C={JUSTIFY:6,LEFT:0,RIGHT:1,CENTER:2}
	mstrmojo.vi.ui.TextAlignButtonBar=mstrmojo.declare(mstrmojo.ui.ButtonBar,null,{scriptClass:"mstrmojo.vi.ui.TextAlignButtonBar",includeJustify:true,init:function B(F){this._super(F)
	mstrmojo.css.addWidgetCssClass(this,"txtAlign")
	var E=this.itemsValueMap,D=this.items
	if(!this.includeJustify){D=D.filter(function(G){return G.id!=="justify"
	})
	}this.items=D.map(function(H){var G=mstrmojo.hash.copy(H)
	G.v=E[G.id]
	return G
	})
	},onValueChange:mstrmojo.emptyFn,itemsValueMap:{left:0,center:2,right:1,justify:6},items:[{n:mstrmojo.desc(3049,"Left"),id:"left"},{n:mstrmojo.desc(2193,"Center"),id:"center"},{n:mstrmojo.desc(2166,"Right"),id:"right"},{n:mstrmojo.desc(2068,"Justify"),id:"justify"}],getItemProps:function A(F,D){var E=this._super(F,D)
	E.addCls(F.id)
	return E
	},postselectionChange:function(D){var E=this.items,F=E[D.added[0]],G=E[D.removed&&D.removed[0]]
	this.onValueChange(F.v,G&&G.v)
	}})
	mstrmojo.vi.ui.TextAlignButtonBar.TEXT_ALIGN=C
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListHoriz","mstrmojo.fx")
	mstrmojo.FishEye=mstrmojo.declare(mstrmojo.ListHoriz,null,{scriptClass:"mstrmojo.FishEye",width:16,size:10,step:16,speed:2,cssClass:"mstrmojo-FishEye",cssClassItem:"mstrmojo-dot",itemMarkupFunction:function(B,A,C){return'<div class="mstrmojo-fisheye-item '+C.cssClassItem+'" title="'+B.n+'" idx="'+A+'" did="'+B.did+'">&nbsp
	</div>'
	},onchange:function(){this.scroll2()
	this.parent.set("selectedIndex",this.selectedIndex)
	},as:new mstrmojo.fx.AnimateProp(),onitemsChange:function(){if(this._super){this._super()
	}this.last=this.items.length-1
	this.first=Math.max(0,this.last-this.size)
	if(this.items.length>this.size){this.scroll("left",this.width)
	}},scroll2:function(){var A=this.selectedIndex-this.last
	if(this.selectedIndex==this.first&&this.first>0){this.scroll("right",this.width)
	}else{if(this.selectedIndex==this.last&&this.last<this.items.length-1){this.scroll("left",this.width)
	}else{if(this.selectedIndex>this.last){A=this.selectedIndex-this.last
	this.scroll("left",this.width*A,A)
	this.last=Math.min(this.items.length-1,this.last+A)
	}else{if(this.selectedIndex<this.first){A=this.first-this.selectedIndex
	this.scroll("right",this.width*A,A)
	this.first=Math.max(0,this.first-A)
	}}}}},scroll:function(C,F,E){var B=this.itemsContainerNode,I=B&&B.style
	var D=this.as,H=parseInt(mstrmojo.css.getStyleValue(B,{left:"right",right:"left"}[C]),10),H=isNaN(H)?0:H,A=parseInt(I.left,10)||0,G=A+(C=="left"?-1:1)*(F||(Math.min(this.step,(-1)*H)))
	D.target=B
	D.props={left:{start:A,stop:G,duration:100,interval:10,suffix:"px"}}
	D.play()
	E=E===undefined?1:E
	this.first+=(C=="left"?1:-1)*E
	this.last=this.first+this.size-1
	this.parent.set("scrollable",this.last<this.items.length-1)
	this.parent.set("rightScrollable",this.first>0)
	return G
	},srcId:null,postBuildRendering:function(){if(this._super){this._super()
	}this.hasRendered=!!this.domNode
	var E=this.itemsContainerNode,A=E&&E.firstChild,B=A&&A.rows&&A.rows[0],D=B&&B.cells&&B.cells[0]
	this.first=0
	this.last=this.size-1
	var C=this.srcId
	if(C&&mstrmojo.all[C]&&mstrmojo.all[C].attachEventListener){mstrmojo.all[C].attachEventListener("change",this.id,function(F){if(this.items[this.items.length-1]!=F.src.selectedItem){this.items.add([mstrmojo.hash.copy(F.src.selectedItem)])
	this.set("selectedIndex",this.items.length-1)
	}if(this.items.length>this.size){this.set("rightScrollable",this.items.length>this.size)
	this.scroll("left",this.width*(this.selectedIndex-this.last),(this.selectedIndex-this.last))
	}})
	}this.itemsContainerNode.style.left=Math.min(0,(this.size-this.items.length+1))*this.width+"px"
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.WidgetListBase","mstrmojo.WidgetListMapper","mstrmojo.WidgetListBuilder")
	mstrmojo.WidgetList=mstrmojo.declare(mstrmojo.WidgetListBase,null,{scriptClass:"mstrmojo.WidgetList",renderOnScroll:true,listMapper:mstrmojo.WidgetListMapper,listBuilder:mstrmojo.WidgetListBuilder,itemConfig:null,itemFunction:null,initBindings:function(){this._super()
	var E=this.ctxtBuilder,D=E&&E.itemWidgets
	if(D){for(var C=0,A=D.length
	C<A
	C++){var B=D[C]
	if(B&&B.initBindings){B.initBindings()
	}}}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.List")
	var B=mstrmojo.dom,E=mstrmojo.array,C=mstrmojo.css,G=","
	function F(){var K,I,J=this.items,L=[]
	for(K=0,I=J.length
	K<I
	K++){L.push(J[K].v)
	}this.set("value",L.join(G))
	}function H(){var I=this.itemsContainerNode
	if(I){E.forEach(I.children,function(J){if(J&&J.firstChild){C.removeClass(J.firstChild,"selected")
	}})
	}}mstrmojo.RankDIC=mstrmojo.declare(mstrmojo.List,[mstrmojo._IsInputControl],{scriptClass:"mstrmojo.RankDIC",cssClass:"mstrmojo-RankDIC",draggable:true,dropZone:true,allowCopy:false,multiSelect:false,renderOnScroll:false,itemDisplayField:"n",itemIdField:"v",containerResizable:false,itemMarkupFunction:function(M,J,K){var I=J===0,O=J===K.items.length-1,L='<div class="moveup '+(!I?"":"disabled")+'" or="1" idx="'+J+'">&nbsp
	</div>',N='<div class="movedown '+(!O?"":"disabled")+'" or="-1" idx="'+J+'">&nbsp
	</div>'
	return'<div class="mstrmojo-RankOption'+(I?" first":(O?" last":""))+'"><div class="index" contentEditable="true" onfocus="return mstrmojo.all[\''+K.id+"'].selectText(this)
	\" onblur=\"return mstrmojo.all['"+K.id+"'].indexChanged(this, "+J+')
	" onkeyup="return mstrmojo.all[\''+K.id+"'].keyPressed(event, this, "+J+')
	">'+J+'</div><div class="text">'+M.n+"</div>"+N+L+"</div>"
	},allowDrop:function(K){var J=K&&K.src,I=J&&J.widget
	return(I===this)
	},ondrop:function(L){var J=this.domNode.parentNode,K=J.style,I=false
	if(!K.height){K.height=J.offsetHeight+"px"
	I=true
	}this._super(L)
	H.call(this)
	F.call(this)
	if(I){K.height=""
	}},selectText:function D(K){var I=document.createRange()
	I.selectNodeContents(K)
	var J=window.getSelection()
	J.removeAllRanges()
	J.addRange(I)
	},indexChanged:function(M,J){var L=parseInt(M[M.innerText!==undefined?"innerText":"textContent"],10),K=parseInt(J,10),I=this.items.length
	if(isNaN(L)){M[M.innerText!==undefined?"innerText":"textContent"]=J
	return false
	}L=Math.min(Math.max(0,L),I)
	if(L!==K){this.move([K],L)
	F.call(this)
	return true
	}else{return true
	}},keyPressed:function A(J,K,I){if(J.keyCode===mstrmojo.Enum_Keys.ESCAPE){K[K.innerText!==undefined?"innerText":"textContent"]=I
	if(K.blur){K.blur()
	}}else{if(J.keyCode===mstrmojo.Enum_Keys.ENTER){this.indexChanged(K,I)
	}}return true
	},onmouseup:function(L){var M=B.eventTarget(L.hWin,L.e),K=parseInt(M.getAttribute("or"),10),J=M&&parseInt(M.getAttribute("idx"),10),I=this.items.length
	if(K===1&&J!==0){this.move([J],0)
	F.call(this)
	return true
	}else{if(K===-1&&J!==(I-1)){this.move([J],I)
	F.call(this)
	return true
	}else{mstrmojo.dom.preventDefault(window,L.e)
	return true
	}}},init:function(I){this._super(I)
	this.items=this.getItems()
	}})
	}())
	(function(){mstrmojo.requiresClsP("mstrmojo","List","desc")
	mstrmojo.requiresDescs(2827,11897)
	var B=mstrmojo.desc,A={OPERATOR:1,VALIDATE:2,CLEAR:3}
	mstrmojo.ExpressionToolbar=mstrmojo.declare(mstrmojo.List,null,{scriptClass:"mstrmojo.ExpressionToolbar",cssClass:"mstrmojo-ExpressionToolbar",items:[{t:A.OPERATOR,v:"+",cls:"plus"},{t:A.OPERATOR,v:"-",cls:"minus"},{t:A.OPERATOR,v:"*",cls:"multi"},{t:A.OPERATOR,v:"/",cls:"divide"},{t:A.OPERATOR,v:"()",cls:"par"},{t:A.OPERATOR,v:"<>",cls:"bra"},{t:A.CLEAR,v:"V",cls:"clear right",n:B(2827,"Clear")},{t:A.VALIDATE,v:"",cls:"validate right",n:B(11897,"Validate")}],itemMarkupFunction:function(F,D){var C=F.cls,G=F.n||"",E=F.t
	if(E===A.OPERATOR){return'<div class="mstrmojo-item '+C+'" idx='+D+' title="'+G+'">'+G+"</div>"
	}if(E===A.VALIDATE){return""
	}return'<div class="mstrmojo-Button mstrmojo-WebHoverButton '+C+' hoverLink"><div class="mstrmojo-Button-text" idx='+D+">"+G+"</div></div>"
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListSelector","mstrmojo.List","mstrmojo.string")
	mstrmojo.OBList=mstrmojo.declare(mstrmojo.List,null,{scriptClass:"mstrmojo.OBList",cssClass:"mstrmojo-OBList",itemClass:"mstrmojo-OBListItem",iconClass:"mstrmojo-OBListItemIcon",textClass:"mstrmojo-OBListItemText",iconCssPrefx:"mstrmojo-OBIcon_",itemMarkupFunction:function(C,A,B){return'<div class="'+B.itemClass+(C[B.itemType]?" t_"+C[B.itemType]:"")+(C[B.itemSubType]?" st_"+C[B.itemSubType]:"")+(C[this.itemISC]?" isc":"")+(C[B.itemViewMedia]?" vm_"+C[B.itemViewMedia]:"")+'"><table cellspacing="0" cellpadding="0"><tbody><tr><td>'+B.getIcon(C)+'</td><td><div class="'+B.textClass+'" title="'+B.getTooltip(C)+'">'+mstrmojo.string.htmlAngles(C.n)+"</div></td></tr></tbody></table></div>"
	},getIcon:function(F){var E=F[this.itemType],D=F[this.itemSubType],B=" t"+E,C=(parseInt(E,10)===1||parseInt(E,10)===3||parseInt(D,10)===14082)?" st"+D:"",G=F[this.itemISC]?'class="mstrmojo-ListIcon isc"':"",A=(F[this.itemViewMedia]===2048||F[this.itemViewMedia]===8192)?" hvi":""
	return'<span class="mstrmojo-ListIcon '+B+C+A+'"><span '+G+"></span></span>"
	},getTooltip:function(C){var D="",F=C.anc&&C.anc.items,A=F&&F.length,B
	if(A>0){for(B=0
	B<A-1
	B++){D+=F[B].n+" > "
	}D+=F[A-1].n
	}var E=C.desc,G=128
	if(E){D+="\r\n\r\n"+mstrmojo.string.encodeHtmlString(E.substring(0,G))+(E.length>G?"...":"")
	}return D
	},listSelector:mstrmojo.ListSelector,selectionPolicy:"reselect",itemType:"t",itemSubType:"st",itemISC:"isc",itemViewMedia:"dvm",useDblSelect:false})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo._BindTargetChildren","mstrmojo.List")
	mstrmojo.TabNameList=mstrmojo.declare(mstrmojo.List,[mstrmojo._BindTargetChildren],{scriptClass:"mstrmojo.TabNameList",isStrip:true,targetProps:{names:"items"},makeObservable:true,postchange:function A(){var E=this.selectedIndex,F=this.target
	if(F&&E!=null&&parseInt(E,10)!==-1){F.set("selected",F.children[E])
	}},addTabButtons:function B(E,M){var J=this.targetProps||{},Q=J.childTitle||"n",G=this.itemIdField||"v",F=this.itemField||"n",P=[],I=(this.items)?this.items.length:0,L=(E&&E.length)||0,K
	for(K=0
	K<L
	K++,I++){var O=E[K],H=O[Q]
	if(H){var N={target:O}
	N[F]=H
	N[G]=I
	P.push(N)
	}}if(P.length){this.add(P,M)
	}},removeTabButton:function D(F){var E=mstrmojo.array.filter(this.items,function(G){return(G.target===F)
	},{max:1})
	if(E&&E[0]){this.remove(E[0])
	}},clearButtons:function C(){this.remove(this.items)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.List","mstrmojo._IsDial")
	mstrmojo.Dial=mstrmojo.declare(mstrmojo.List,[mstrmojo._IsDial],{scriptClass:"mstrmojo.Dial",markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	},onhasSelectionChange:function(){mstrmojo.css.toggleClass(this.domNode,["hasSelection"],!!this.hasSelection)
	},hideIfEmpty:function(){this.onadd()
	}},hideIfEmpty:false,onadd:function(A){if(this._super){this._super(A)
	}if(this.hideIfEmpty){if(this.domNode){this.domNode.style.display=(!this.items||this.items.length==0)?"none":"block"
	}}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.OBList","mstrmojo.ui._IsIncFetchList","mstrmojo.ui._HasScroller")
	var F=mstrmojo.array,A=mstrmojo.chart.model.enums.EnumDSSObjectType
	function D(G){return{browseConfig:null,parent:G,next:function(J){var I=this.browseConfig
	if(!I){return 
	}I.blockBegin+=I.blockCount
	var H={taskId:"searchMetadata",styleName:"MojoFolderStyle",blockBegin:I.blockBegin,blockCount:I.blockCount,includeAncestorInfo:true}
	if(I.folderLinksContextId){H.folderLinksContextId=I.folderLinksContextId
	}if(I.includeObjectDesc){H.includeObjectDesc=I.includeObjectDesc
	}if(I.rootFolderID){H.rootFolderID=I.rootFolderID
	}else{if(I.rootFolderType){H.rootFolderType=I.rootFolderType
	}}if(I.browsableTypes){H.objectType=I.browsableTypes
	}if(I.searchPattern){H.searchPattern=I.searchPattern
	if(I.recursive){H.recursive=I.recursive
	}}this.parent.set("waiting",true)
	if(I.dataProvider){I.dataProvider.serverRequest(H,J)
	}else{mstrmojo.xhr.request("POST",mstrConfig.taskURL,J,H)
	}},hasNext:function(){var H=this.browseConfig
	return(H.blockBegin+H.blockCount-1)<H.totalSize
	}}
	}mstrmojo.mstr.ui.IncFetchOBList=mstrmojo.declare(mstrmojo.OBList,[mstrmojo.ui._IsIncFetchList,mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.mstr.ui.IncFetchOBList",cssClass:"mstrmojo-OBList mstrmojo-IF-OBList",makeObservable:true,renderOnScroll:false,waiting:false,markupString:'<div id="{@id}" class="mstrmojo-ListBase2 {@cssClass}" style="position:relative
	{@cssText}" mstrAttach:keypress,mousedown,mouseup,dblclick><div class="scroll-box" style="{@scrollBoxCssText}"><div class="mstrmojo-ListBase2-itemsContainer" style="{@itemsContainerCssText}">{@itemsHtml}</div><div class="mstrmojo-ListBase2-dropCue {@cssClass}"><div class="mstrmojo-ListBase2-dropCue-inner"></div></div></div></div>',markupSlots:{scrollboxNode:function(){return this.domNode.firstChild
	},itemsContainerNode:function(){return this.domNode.firstChild.firstChild
	},dropCueNode:function(){return this.domNode.firstChild.lastChild
	}},markupMethods:{onwaitingChange:function(){this.onwaitingChange()
	}},init:function E(G){if(this._super){this._super(G)
	}this.ifDataHelper=D(this)
	if(G.browseConfig){this.ifDataHelper.browseConfig=G.browseConfig
	}},onwaitingChange:mstrmojo.emptyFn,addItems:function B(G){var H=this.browseConfig.browsableViewMedias
	if(G&&H){var I={}
	F.forEach(H.split(","),function(J){I[parseInt(J,10)]=true
	})
	G=F.filter(G,function(J){return(J.t!==A.DssTypeDocumentDefinition)||I[J.dvm]
	})
	}this.add(G,-1)
	this.set("waiting",false)
	if(this._super){this._super(G)
	}if(this.scrollNode){this.updateScrollbars()
	}},setupScrollNodes:function C(){this.scrollNode=this.scrollboxNode
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.WidgetList")
	mstrmojo.requiresDescs(7091)
	var C=mstrmojo.desc
	mstrmojo.ME.RepeatPulldownList=mstrmojo.declare(mstrmojo.WidgetList,null,{scriptClass:"mstrmojo.ME.RepeatPulldownList",cssClass:"mstrmojo-RepeatPulldownList",makeObservable:true,cValid:true,showDelete:true,pulldownItems:null,pulldowItemsFilter:function B(G){return true
	},onpulldownItemsChange:function D(G){var H=G.value,J=[]
	mstrmojo.array.forEach(H,function I(L,K){if(this.pulldowItemsFilter(L)){J.push(L)
	}},this)
	this.pulldownItems=J
	},popupCssClass:"",item2textCss:mstrmojo.emptyFn,validate:function F(G){return mstrmojo.string.isEmpty(G)||mstrmojo.num.isNumeric(G)
	},getNewItem:function E(){return{n:"",did:-1}
	},itemFunction:function A(M,G,H){return new mstrmojo.Box({cssClass:"mstrmjo-RepeatPulldownList-item",children:[{scriptClass:"mstrmojo.SearchableDropDownList",alias:"pulldown",cssClass:"combo mstrmojo-ME-Pulldown",popupCssClass:"mstrmojo-ME-Pulldown-Popup",placeholderText:C(12179,"Search for an #").replace("#",C(518,"Attribute").toLowerCase()),itemIdField:"did",searchEnabled:true,autofocus:false,selectedIndex:-1,defaultSelection:-1,clickInput2pop:true,popupCssClass:H.popupCssClass,item2textCss:H.item2textCss,valid:true,useRichTooltip:true,items:H.pulldownItems,onvalidChange:function L(P){this.hideTooltip()
	H.set("cValid",this.valid)
	if(!this.valid){var Q=this.domNode,O=mstrmojo.dom.position(Q)
	this.richTooltip={contentNodeCssClass:"me-tooltip-content left me-err",content:'<div class="content"><span>'+C(11569,"Input contains invalid character")+"</span></div>",top:O.y-5,left:O.x+O.w+10}
	this.showTooltip()
	}else{this.richTooltip=""
	}mstrmojo.css.toggleClass(this.domNode,"err",!this.valid)
	},onkeyup:function L(O){if(this.selectedIndex<0){this.selectedItem=null
	}var P=this.getSearchPattern(),Q=H.validate(P,this)||(this.selectedIndex>-1)
	this.set("valid",Q)
	this.createNextInputParamWidget()
	},prevalueChange:function N(){this.set("valid",true)
	var P=this.value,O=-1
	if(P!==null){O=mstrmojo.array.find(this.items,this.itemIdField,P)
	}if(O>-1){this.selectedItem=this.items[O]
	this.selectedIndex=O
	this.createNextInputParamWidget()
	}},postCreate:function I(){var O=M
	if(O){if(O.did){this.value=O.did
	}else{if(O.v!==undefined){this.defaultText=O.v
	this.value=O.v
	}}}},createNextInputParamWidget:function K(){if(H.itemIndex(M)!==H.items.length-1){return 
	}H.items.add([H.getNewItem()])
	this.parent.del.set("visible",true)
	},getTokens:function J(){var O=mstrmojo.ME.MetricToken.brackets,S=this.selectedItem,R=[],Q
	if(S){if(S.did===this.value){Q={v:O(S.n)}
	if(S.t===21){Q.oi={did:S.attid,n:S.attn,t:12}
	Q.exv=S.fmdid
	Q.extp=8
	Q.v=O(S.attn)+"@"+O(S.fnm)
	}else{Q.oi=S
	}R.push(Q)
	}}else{var P=this.getSearchPattern()
	if(P.length>0){Q={v:P}
	R.push(Q)
	}}return R
	}},{scriptClass:"mstrmojo.Label",alias:"del",title:mstrmojo.desc(629,"Delete"),cssClass:"mstrmojo-RepeatPulldownList-del",cssDisplay:"inline-block",visible:(G<H.items.length-1),onclick:function(){H.items.remove(G,1)
	}}]})
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.WidgetList","mstrmojo._IsDial")
	mstrmojo.WidgetDial=mstrmojo.declare(mstrmojo.WidgetList,[mstrmojo._IsDial],{scriptClass:"mstrmojo.WidgetDial"})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dnd","mstrmojo.ui._HasScroller")
	function d(k){var m=document.createElement("div"),l=m.style,j=k.domNode
	m.className="mstrmojo-DataGrid-avatar"
	l.height=j.clientHeight+"px"
	j.appendChild(m)
	k.avatar=m
	return m
	}function Q(j){var k=mstrmojo.dom.position(j.domNode,true)
	return k.x
	}function O(j){return'<div class="mstrmojo-DataGrid-resizeHandle" unselectable="on" rh="'+j+'"></div>'
	}function f(l){var k=l.getAttribute("rh"),j=k&&parseInt(k,10)
	return j
	}function c(k,n,j){var m=j.src,o=m&&m.data,l=o&&o.resizingIdx
	if(!(l&&l>0)){return n&&n.apply(k,[j])
	}}mstrmojo.RESIZE_NEXT_COLUMN_MODE={getRange:function G(m,l){var j=m.colSizeArray
	var k=[-j[l-1]+m.minColWidth,(l==j.length-1)?j[l]-m.resizeHandleWidth-m.minColWidth:j[l]-m.minColWidth]
	return k
	},updateSize:function F(m,l,k){var j=m.colSizeArray
	j[l-1]=j[l-1]+k
	j[l]=j[l]-k
	},updateColumnWidth:function U(m,k,n,l){var j=m.colSizeArray
	k[l-1].style.width=j[l-1]+"px"
	n[l-1].style.width=j[l-1]+"px"
	k[l].style.width=j[l]+"px"
	n[l].style.width=j[l]+"px"
	}}
	mstrmojo.RESIZE_ALL_COLUMN_MODE={getRange:function G(o,n){var p=o.minColWidth+o.resizeHandleWidth,j=o.colSizeArray,l=0
	for(var m=n
	m<j.length
	++m){l+=j[m]-p
	}var k=[-j[n-1]+p,l]
	return k
	},updateSize:function F(m,q,k){var p=m.minColWidth+m.resizeHandleWidth,n=m.colSizeArray
	n[q-1]=n[q-1]+k
	var j=[]
	for(var l=0
	l<n.length-q
	++l){j[l]=q+l
	}j.sort(function(t,u){return n[t]-n[u]
	})
	for(var l=0
	l<j.length
	++l){var r=k/(j.length-l)
	var o=n[j[l]]
	k-=(o>=r+p)?r:o-p
	n[j[l]]=(o>=r+p)?o-r:p
	}},updateColumnWidth:function U(n,k,o,m){var j=n.colSizeArray
	for(var l=m-1
	l<j.length
	++l){k[l].style.width=j[l]+"px"
	o[l].style.width=j[l]+"px"
	}}}
	mstrmojo.RESIZE_CURRENT_COLUMN_MODE={getRange:function G(o,n){var p=o.minColWidth+o.resizeHandleWidth,j=o.colSizeArray,l=0
	for(var m=n
	m<j.length
	++m){l+=j[m]-p
	}var k=[-j[n-1]+p,l]
	return k
	},updateSize:function F(m,l,k){var j=m.colSizeArray
	j[l-1]=j[l-1]+k
	},updateColumnWidth:function U(m,k,n,l){var j=m.colSizeArray
	k[l-1].style.width=j[l-1]+"px"
	n[l-1].style.width=j[l-1]+"px"
	m.widgetResized()
	}}
	mstrmojo._CanResizeColumn=mstrmojo.provide("mstrmojo._CanResizeColumn",{draggable:true,dropZone:false,avatar:null,colSizeArray:null,resizableColumns:true,resizeHandleWidth:10,minColWidth:5,resizeColumnBehavior:mstrmojo.RESIZE_NEXT_COLUMN_MODE,createColSizeArray:function g(){var k,o,m,l,n,j
	o=this.headerContainerNode
	m=o&&o.getElementsByTagName("table")[0]
	l=m.rows[0].cells
	k=[]
	for(n=0,j=l.length
	n<j
	n++){k.push(l[n].offsetWidth)
	}return k
	},onselectstart:function a(){return false
	},postBuildRendering:function Y(){if(this._super){this._super()
	}if(this.avatar){this.domNode.appendChild(this.avatar)
	}this.colSizeArray=null
	if(this.resizeHandles&&this.resizeHandles.length>0){for(var j=0
	j<this.resizeHandles.length
	j++){mstrmojo.dom.attachEvent(this.resizeHandles[j],"selectstart",this.onselectstart)
	}}},unrender:function X(k){if(this.resizeHandles&&this.resizeHandles.length>0){for(var j=0
	j<this.resizeHandles.length
	j++){mstrmojo.dom.detachEvent(this.resizeHandles[j],"selectstart",this.onselectstart)
	}delete this.onselectstart
	}if(this._super){this._super(k)
	}},getDragData:function E(j){var l=j.src,m=l.node,k=f(m)
	if(k&&k>0){return{resizingIdx:k,startingX:l.pos.x,baseX:Q(this)}
	}if(this._super){return this.dropZone&&this._super(j)
	}return null
	},allowDrop:function K(j){var l=j.src,m=l&&l.data,k=m&&m.resizingIdx
	if(k&&k>0){return true
	}return this.dropZone
	},ondragenter:function R(j){c(this,this._super,j)
	},ondragover:function S(j){c(this,this._super,j)
	},ondragleave:function B(j){c(this,this._super,j)
	},ondrop:function Z(j){c(this,this._super,j)
	},isDragValid:function C(j){var l=j.src,m=l&&l.data,k=m&&m.resizingIdx
	if(k&&k>0){return true
	}if(this._super){return this._super(j)
	}return false
	},ondragstart:function b(j){var m=j.src,n=m&&m.data,l=n&&n.resizingIdx
	if(l&&l>0){var k=this.avatar||d(this)
	this.ownAvatar=true
	k.style.left=(n.startingX-n.baseX)+"px"
	k.style.display="block"
	document.body.style.cursor="col-resize"
	if(!this.colSizeArray){this.colSizeArray=this.createColSizeArray()
	this._firstTimeResize=true
	}n.resizingRange=this.resizeColumnBehavior.getRange(this,l)
	return 
	}if(this._super){this._super(j)
	}},ondragmove:function P(k){var r=k.src,l=r&&r.data,p=l&&l.resizingIdx
	if(p&&p>0){var q=k.tgt,m=this.avatar,o=l.resizingRange,n=q.pos.x-l.startingX,j=Math.min(o[1],Math.max(n,o[0]))
	l.deltaX=j
	if(m){m.style.left=(l.startingX-l.baseX+j)+"px"
	}}else{if(this._super){this._super(k)
	}}},ondragend:function L(n){var v=n.src,o=v&&v.data,t=o&&o.resizingIdx
	if(t&&t>0){var j=this.titleColGroup,u=j&&j.childNodes,q=this.dataColGroup,r=q&&q.childNodes,m=u.length,p=this.colSizeArray,k=o.deltaX
	this.resizeColumnBehavior.updateSize(this,t,k)
	if(this._firstTimeResize){var l
	for(l=0
	l<m
	l++){u[l].style.width=p[l]+"px"
	r[l].style.width=p[l]+"px"
	}this._firstTimeResize=false
	}else{this.resizeColumnBehavior.updateColumnWidth(this,u,r,t)
	}this.avatar.style.display="none"
	document.body.style.cursor=""
	this.ownAvatar=false
	}else{if(this._super){this._super(n)
	}}}})
	mstrmojo.requiresCls("mstrmojo.ListMapperTable","mstrmojo.WidgetList")
	function J(l){var o=document.createElement("colgroup"),j=l.length,k,n
	for(n=0
	n<j
	n++){var m=document.createElement("col")
	k=l[n]
	if(k.colWidth){m.style.width=k.colWidth+"px"
	}m.className=k.colCss||("col"+n)
	o.appendChild(m)
	}return o
	}function I(k){var l=k._headerWidgets_,j=l&&l.length
	if(j>0){var m
	for(m=0
	m<j
	m++){l[m].destroy(true)
	}}}function A(n,j,m,p,k){var l=[],o=n.headerWidget
	m=m?(" "+m):""
	p=p||this._headerWidgets
	k=k?(" "+k):' w="1"'
	l.push("<td"+m+">")
	if(j>0&&this.resizableColumns){l.push(O(j))
	}l.push('<div class="mstrmojo-DataGrid-headerText')
	l.push(n.headerCss?" "+n.headerCss:"")
	if(o){p.push(mstrmojo.hash.copy(o))
	l.push('"'+k+">")
	}else{l.push('">')
	}l.push(n.headerText||"&nbsp")
	l.push("</div>")
	l.push("</td>")
	return l.join("")
	}function e(j,q){var l,o,p,k,r,n,m=[]
	j=j||"_headerWidgets"
	q=q||"1"
	l=this[j]
	o=l.length
	if(o>0){p=this.headerContainerNode.getElementsByTagName("div")
	k=mstrmojo.array.filter(p,function(t){return t.getAttribute("w")==q
	})
	for(n=0
	n<o
	n++){l[n].placeholder=k[n].firstChild
	l[n].dataGrid=this
	r=mstrmojo.registry.ref(l[n])
	r.render()
	m.push(r)
	}}this[j+"_"]=m
	}mstrmojo.DataGrid=mstrmojo.declare(mstrmojo.WidgetList,[mstrmojo._CanResizeColumn,mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.DataGrid",banding:true,resizableColumns:true,columns:null,items:null,listMapper:mstrmojo.WidgetListMapperTable,lockHeader:false,contentWidth:"",renderHook:{},shouldDisableItem:function(){return false
	},markupString:'<div id="{@id}" class="mstrmojo-DataGrid {@cssClass}" style="{@cssText}" mstrAttach:mousedown,mouseup><div class="mstrmojo-DataGrid-headerContainer">{@headerHtml}</div><div class="mstrmojo-DataGrid-itemsScrollBox" style="position:relative
	"><div class="mstrmojo-DataGrid-itemsContainer" style="{@itemsContainerCssText}">{@itemsHtml}</div><div class="mstrmojo-ListBase2-dropCue"><div class="mstrmojo-ListBase2-dropCue-inner"></div></div></div></div>',markupSlots:{scrollboxNode:function(){return this.domNode.lastChild
	},itemsContainerNode:function(){return this.domNode.lastChild.firstChild
	},dropCueNode:function(){return this.domNode.lastChild.lastChild
	},headerContainerNode:function(){return this.domNode.firstChild
	},headerRows:function(){return this.domNode.firstChild.firstChild.rows
	},bodyRows:function(){return this.domNode.lastChild.firstChild.firstChild.rows
	},resizeHandles:function(){return this.domNode.getElementsByClassName("mstrmojo-DataGrid-resizeHandle")
	}},markupMethods:{oncontentWidthChange:function(){var k=this.contentWidth,l=this.headerContainerNode,j=this.itemsContainerNode
	if(k&&l&&j){l.style.width=k
	j.style.width=k
	}},onlockHeaderChange:function(){mstrmojo.css.toggleClass(this.domNode,"lockHeader",this.lockHeader)
	},onvisibleChange:function(){this.domNode.style.display=this.visible?this.cssDisplay:"none"
	}},setupScrollNodes:function M(){this.scrollNode=this.scrollboxNode
	},itemFunction:function(l,j,k){var m=new mstrmojo.DataRow({columns:k.columns,data:l,disable:k.shouldDisableItem(l),idx:j,dataGrid:k,parent:k})
	return m
	},preBuildRendering:function D(){var o=this.renderHook
	if(o&&o.pre){o.pre.apply(this,[A])
	}else{var k=this.columns,j=k.length,l=['<table class="mstrmojo-DataGrid-headerTable" cellspacing="0" cellpadding="0"><tr>'],n
	this._headerWidgets=[]
	var m
	for(m=0
	m<j
	m++){n=A.apply(this,[k[m],m])
	l.push(n)
	}l.push("</tr></table>")
	this.headerHtml=l.join("")
	}if(this._super){this._super()
	}},postBuildRendering:function Y(){if(this._super){this._super()
	}var l=this.renderHook
	if(l&&l.post){l.post.apply(this,[J,e])
	}else{e.apply(this)
	this.titleColGroup=J(this.columns)
	}var j=this.titleColGroup,q=j.cloneNode(true),n=this.headerContainerNode,p=n&&n.getElementsByTagName("table")[0],r=this.itemsContainerNode,o=this.scrollboxNode,m=this.domNode,k=r&&r.getElementsByTagName("table")[0]
	this.dataColGroup=q
	if(p&&k){p.insertBefore(j,p.firstChild)
	k.insertBefore(q,k.firstChild)
	}if(this.lockHeader){o.style.height=m.offsetHeight-n.offsetHeight+"px"
	mstrmojo.dom.attachEvent(o,"scroll",function(t){n.style.left=-o.scrollLeft+"px"
	})
	}},refresh:function H(j){I(this)
	if(this._super){this._super(j)
	}},destroy:function h(j){I(this)
	this._super(j)
	},unrender:function W(n){var l=this._headerWidgets_,k=l&&l.length,j
	if(k>0){var m
	for(m=0
	m<k
	m++){j=l[m]
	if(j&&j.hasRendered){j.unrender(true)
	}}}this._super(n)
	}})
	mstrmojo.requiresCls("mstrmojo.css","mstrmojo.hash","mstrmojo.Container")
	mstrmojo.DataRow=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.DataRow",cssClass:"mstrmojo-DataRow",dataTextCSSClass:"mstrmojo-DataRow-text",columns:null,disable:false,markupMethods:{onselectedChange:function(){mstrmojo.css.toggleClass(this.domNode,"selected",this.selected)
	}},buildDom:function(){this.children=[]
	var p=document.createElement("tr"),u=this.data,z=this.idx,k=this.dataGrid,q=this.cssClass,AB=this.columns,j=this.children,m=this.disable,l,v=-1,AA,x
	p.setAttribute("id",this.id)
	if(k.banding){q+=(z%2==1)?" odd":" even"
	}p.className=q+(mstrmojo.string.isEmpty(u[k.itemDisplayField||"n"])?" empty-row":"")+(" "+u[k.itemCSSField||"itemCss"]||"")+(m?" disabled":"")
	var o,t
	for(o=0,t=AB.length
	o<t
	o++){AA=AB[o]
	x=(AA.dataWidgetBuilder&&AA.dataWidgetBuilder(u))||AA.dataWidget
	l=document.createElement("td")
	if(AA.applyStyle2Cell&&AA.colCss){l.setAttribute("class",AA.colCss)
	}p.appendChild(l)
	if(x){l.setAttribute("w","1")
	v++
	j.push(mstrmojo.hash.copy(x,{slot:"slot"+v,data:u,idx:z,dataGrid:k}))
	}else{if(AA.dataFunction){l.innerHTML=AA.dataFunction(u,z,k)
	}else{var n=mstrmojo.string.htmlAngles(u[AA.dataField||"n"])||"&nbsp",r=AA.tooltip?' title="'+n+'"':""
	l.innerHTML='<div class="'+this.dataTextCSSClass+'" '+r+">"+n+"</div>"
	}}}this.initChildren()
	p.mstrmojoId=this.id
	return p
	},buildRendering:function N(){this._super()
	var n=this.domNode.childNodes,j=n.length,m={},l=0,o,k
	for(k=0
	k<j
	k++){o=n[k]
	if(o.getAttribute("w")=="1"){m["slot"+l]=o
	l++
	}}this.addSlots(m)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.ContextMenuItem","mstrmojo.WidgetList","mstrmojo.ListMapperTable")
	var H=false,B=20
	function G(J,K){var L=J.itemsContainerNode
	L.scrollTop=Math.min(Math.max(L.scrollTop+K,0),L.scrollHeight-L.offsetHeight)
	}function I(K,J){if(!K._scrollInter){var L=B*(J?-1:1)
	K._scrollInter=window.setInterval(function(){G(K,L)
	},50)
	}}function E(J){if(J._scrollInter){window.clearInterval(J._scrollInter)
	J._scrollInter=null
	}}mstrmojo.ContextMenu=mstrmojo.declare(mstrmojo.WidgetList,null,{scriptClass:"mstrmojo.ContextMenu",zIndex:100,visible:true,makeObservable:true,markupString:'<div id={@id} class="mstrmojo-ContextMenu {@cssClass}" style="z-index: {@zIndex}
	{@cssText}"><div class="mstrmojo-CM-scrollup"  mstreventmark="scrollUpNode" mstrevent="mousedown mouseup click"  onmousedown="mstrmojo.all.{@id}.onmousedownarrow(self, arguments[0], true)"  onmouseup="mstrmojo.all.{@id}.onmouseuparrow(self, arguments[0], true)" onclick="mstrmojo.all.{@id}.onclickarrow(self, arguments[0], true)" ></div><div class="mstrmojo-CM-itemsContainer">{@itemsHtml}</div><div class="mstrmojo-CM-scrolldown"  mstreventmark="scrollDownNode" mstrevent="mousedown mouseup click"  onmousedown="mstrmojo.all.{@id}.onmousedownarrow(self, arguments[0], false)"  onmouseup="mstrmojo.all.{@id}.onmouseuparrow(self, arguments[0], false)" onclick="mstrmojo.all.{@id}.onclickarrow(self, arguments[0], false)" ></div></div>',eventHandlerMap:{scrollUpNode:{mousedown:{requiredParams:["id"],handlerFn:function(J){return function(){mstrmojo.all[J.id].onmousedownarrow(self,arguments[0],true)
	}
	}},mouseup:{requiredParams:["id"],handlerFn:function(J){return function(){mstrmojo.all[J.id].onmouseuparrow(self,arguments[0],true)
	}
	}},click:{requiredParams:["id"],handlerFn:function(J){return function(){mstrmojo.all[J.id].onclickarrow(self,arguments[0],true)
	}
	}}},scrollDownNode:{mousedown:{requiredParams:["id"],handlerFn:function(J){return function(){mstrmojo.all[J.id].onmousedownarrow(self,arguments[0],false)
	}
	}},mouseup:{requiredParams:["id"],handlerFn:function(J){return function(){mstrmojo.all[J.id].onmouseuparrow(self,arguments[0],false)
	}
	}},click:{requiredParams:["id"],handlerFn:function(J){return function(){mstrmojo.all[J.id].onclickarrow(self,arguments[0],false)
	}
	}}}},markupSlots:{scrollupNode:function(){return this.domNode.firstChild
	},itemsContainerNode:function(){return this.domNode.childNodes[1]
	},scrolldownNode:function(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:function(){var K=this.domNode,P=this.itemsContainerNode,N=this.scrollupNode,M=this.scrolldownNode
	K.style.display=this.visible?"block":"none"
	if(this.visible){N.style.display="none"
	M.style.display="none"
	P.style.overflow="auto"
	P.style.height="auto"
	var J=mstrmojo.dom.windowDim().h,O=K.offsetHeight,L=K.offsetWidth
	if(J<O){N.style.display="block"
	N.style.minWidth=L+"px"
	M.style.display="block"
	M.style.minWidth=L+"px"
	P.style.overflow="hidden"
	P.style.height=(J-42)+"px"
	}}},onleftChange:function(){this.domNode.style.left=(this.left!=null)?this.left:""
	},ontopChange:function(){this.domNode.style.top=(this.top!=null)?this.top:""
	}},listMapper:mstrmojo.WidgetListMapperTable,itemFunction:function C(N,J,L){if(!H){mstrmojo.requiresCls("mstrmojo.ContextMenuItem")
	H=true
	}var K={data:N,parent:L,hasSubmenu:L._cmSource.hasSubmenu(N),dynamicUpdate:L.dynamicUpdate,_cmSource:L._cmSource,zIndex:L.zIndex,itemIdField:L.itemIdField,itemField:L.itemField,itemChildrenField:L.itemChildrenField,itemFunction:L.itemFunction},M=new mstrmojo.ContextMenuItem(K)
	return M
	},onmousedownarrow:function A(L,K,J){I(this,J)
	},onclickarrow:function F(L,K,J){G(this,B*(J?-1:1))
	},onmouseuparrow:function D(L,K,J){E(this)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.WidgetList","mstrmojo.dom","mstrmojo.TreeNodeSelector","mstrmojo.url")
	var B=mstrmojo.dom,A={0:"closed",1:"opened",2:"leaf"}
	mstrmojo.TreeNode=mstrmojo.declare(mstrmojo.WidgetList,null,{scriptClass:"mstrmojo.TreeNode",markupString:'<li id="{@id}" class="mstrmojo-TreeNode {@cssClass}" style="{@cssText}" mstrAttach:mousedown,mouseover><div class="mstrmojo-TreeNode-div"><img class="mstrmojo-TreeNode-state" src="'+mstrmojo.url.getPlaceholderImageURL()+'" /><span class="mstrmojo-TreeNode-text {@textCssClass}"></span></div><ul class="mstrmojo-TreeNode-itemsContainer">{@itemsHtml}</ul></li>',markupSlots:{stateNode:function(){return this.domNode.firstChild.firstChild
	},textNode:function(){return this.domNode.firstChild.lastChild
	},itemsContainerNode:function(){return this.domNode.lastChild
	}},markupMethods:{ontextChange:function(){this.textNode.innerHTML=mstrmojo.string.encodeHtmlString(this.text)
	},onstateChange:function(){this.stateNode.className="mstrmojo-TreeNode-state "+(A[this.state]||"closed")
	this.itemsContainerNode.style.display=(this.state===1)?"block":"none"
	},onselectedChange:function(){var D=this.selected?"addClass":"removeClass"
	mstrmojo.css[D](this.domNode.firstChild,["selected"])
	},ondropCuePosChange:mstrmojo.WidgetList.prototype.markupMethods.ondropCuePosChange,},renderOnScroll:false,listSelector:mstrmojo.TreeNodeSelector,premousedown:function C(D){var E=this._super(D),F=B.eventTarget(D.hWin,D.e)
	if(F===this.stateNode){if(this.state!==2){this.set("state",this.state===1?0:1)
	}}return E
	},preclick:function(D){mstrmojo.dom.stopPropogation(D.hWin,D.e)
	},prechange:function(D){var E=this._super(D)
	if(E!==false){var F=this.tree
	if(F&&F.onnodechange){F.onnodechange(D)
	}}return E
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Arr","mstrmojo.Button","mstrmojo.HBox","mstrmojo.FishEye")
	var A=function(B){return mstrmojo.hash.copy(B,{scriptClass:"mstrmojo.Button",text:"",enabled:false,dir:"left",cssClass:"mstrmojo-icon left",onclick:function(){var D=this.parent.fishEyeList,C=D&&D.scroll(this.dir,D.step)
	}})
	}
	mstrmojo.FishEyeContainer=mstrmojo.declare(mstrmojo.HBox,null,{scriptClass:"mstrmojo.FishEyeContainer",cssClass:"mstrmojo-FishEyeContainer",selectedIndex:-1,setItems:function(B){this.fishEyeList.set("items",B)
	},setSelectedIndex:function(B){this.fishEyeList.set("selectedIndex",B)
	},scrollable:false,rightScrollbale:false,children:[A({bindings:{enabled:"!!this.parent.scrollable"}}),({scriptClass:"mstrmojo.FishEye",alias:"fishEyeList",items:mstrmojo.Arr.makeObservable([]),srcId:"obList"}),A({alias:"feScrollRight",cssClass:"mstrmojo-icon right",dir:"right",bindings:{enabled:"!!this.parent.rightScrollable"}})]})
	mstrmojo.css=mstrmojo.hash.copy({getStyleValue:function(D,E){var B=null
	if(D.currentStyle){E=(E==="float"?"styleFloat":E)
	B=D.currentStyle[E]
	}if(document.defaultView&&document.defaultView.getComputedStyle){E=(E==="float"?"cssFloat":E)
	var C=document.defaultView.getComputedStyle(D,null)
	B=C?C[E]:null
	}return B
	},setStyleValue:function(D,F,E){var B=function(G){return !!(G&&(typeof G==="object")&&(typeof G.length==="number"))
	}
	if(B(F)&&B(E)){var C
	for(C in F){D.style[F[C]]=E[C]
	}}else{D.style[F]=E
	}}},mstrmojo.css)
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.CheckList","mstrmojo.css","mstrmojo.ui._HasListTooltip")
	var F=mstrmojo.css
	var D
	mstrmojo.ui.IconTooltipCheckList=mstrmojo.declare(mstrmojo.ui.CheckList,[mstrmojo.ui._HasListTooltip],{scriptClass:"mstrmojo.ui.IconTooltipCheckList",markupString:'<div id="{@id}" class="mstrmojo-ui-CheckList {@cssClass}" style="{@cssText}" tabindex="-1" mstrAttach:click,contextmenu,mouseover,mouseout,keydown><div class="scroll-container"><div class="{@icnCss}" style="{@icnCssText}">{@itemsHtml}</div></div></div>',markupSlots:{scrollboxNode:function A(){return this.domNode.firstChild
	},itemsContainerNode:function G(){return this.domNode.firstChild.firstChild
	}},getItemMarkup:function L(P){if(!D){var O='><span class="text">{@en@n}</span> <span class="{@iconCss}" ttp="{@ttp}"></span><'
	D=this._super(P).replace(">{@en@n}<",O)
	}return D
	},markupslots:{scrollboxNode:function A(){return this.domNode.firstChild
	},itemsContainerNode:function G(){return this.domNode.firstChild.firstChild
	}},getItemProps:function H(R,P){var Q=this._super(R,P),O={"\r\n":" ","\n":" ","\r":" "}
	if(R.css){Q.addCls(R.css)
	}Q.ttp=R.ttp||""
	Q.iconCss=R.iconCss||""
	R.n=mstrmojo.string.multiReplace(R.n,O)
	Q.n=R.n||""
	return Q
	},postBuildRendering:function B(){this.set("richTooltip",{cssClass:"vi-regular vi-tooltip-D",refNode:this.itemsContainerNode,posType:mstrmojo.tooltip.POS_TOPRIGHT,keepArrowXPos:false})
	if(this.accessibilityHook){this.accessibilityHook()
	}},useRichTooltip:true,tooltipOffset:5,tooltipOffsetX:-8,keepArrowXPos:true,keepArrowYPos:true,tooltipMarkup:'<div class="content" style="{@style}">{@c}</div>',tooltipOrientation:"horizontal",tooltipCss:{leftCssClass:"no-arrow",rightCssClass:"no-arrow"},showTooltip:function K(P,R){var Q=this,O=mstrmojo.dom.position(P.target)
	Q.richTooltip.top=Math.max(O.y+O.h)
	Q.richTooltip.left=Math.max(O.x+4,0)
	this._super(P,R)
	},getItemFromTarget:function I(R){var Q=mstrmojo.dom.findAncestorByAttr(R,"idx",true,this.domNode)
	if(!Q){return 
	}var P=Q.node,O=P&&parseInt(P.getAttribute("idx"),10)
	return this.items&&this.items[O]
	},getItemNodeFromTarget:function C(O){return O
	},getTooltipText:function E(O){return O.ttp
	},onclick:function M(O){var Q=O.getTarget(),P=Q.getAttribute("ttp")
	if(P){if(this.hasOpenTooltip){this.hideTooltip()
	}else{this.showTooltip(O.e,self)
	}}else{this._super(O)
	}},onmouseout:function J(){this.hideTooltip()
	},onmouseover:function N(O){var S=this.id,P=mstrmojo.all[S],R=O.getTarget(),Q=R.getAttribute("ttp")
	if(!Q){return 
	}P.richTooltip.content=Q
	P.showTooltip(O.e,self)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.CheckList","mstrmojo.ui._IsHierarchyList","mstrmojo.css","mstrmojo.array","mstrmojo.EnumSelectionType")
	var R=mstrmojo.css,J=mstrmojo.array,A=mstrmojo.EnumSelectionType
	var N="selected",Q="dynamic",P="expanded",F="collapsed"
	function O(Y){this.updateBtnSelectionStatus(Y)
	J.forEach(Y.children,function(Z){O.call(this,Z)
	},this)
	}mstrmojo.ui.HierarchyCheckList=mstrmojo.declare(mstrmojo.ui.CheckList,[mstrmojo.ui._IsHierarchyList],{scriptClass:"mstrmojo.ui.HierarchyCheckList",markupString:'<div id="{@id}" class="mstrmojo-ui-CheckList {@cssClass}" style="{@cssText}" mstrAttach:click,contextmenu><div class="header"></div><div class="scroll-container"><div class="{@icnCss}" style="{@icnCssText}">{@itemsHtml}</div></div><div class="footer"></div></div>',markupSlots:{headerNode:function E(){return this.domNode.firstChild
	},footerNode:function C(){return this.domNode.lastChild
	},scrollboxNode:function H(){return this.domNode.children[1]
	},itemsContainerNode:function S(){return this.domNode.children[1].firstChild
	}},getItemMarkup:function D(){return'<{@tag} class="item {@cls}" idx="{@idx}" style="{@style}" title="{@tt}"><span class="indent" style="padding-left: {@indent}px
	"></span><span class="triangle"></span><span class="checkbox"></span><span class="text">{@en@n}</span></{@tag}>'
	},getItemProps:function U(a,Y){var Z=this._super(a,Y)
	if(a.isSelected){Z.addCls(N)
	}if(this.isHiearachyDisplay()){if(a.hcd){Z.addCls(a.epd?P:F)
	}}return Z
	},setupScrollNodes:function I(){this.scrollNode=this.scrollboxNode
	var Y=this.domNode.clientHeight-this.headerNode.clientHeight-this.footerNode.clientHeight
	if(Y>0){this.scrollNode.style.height=Y+"px"
	}},onclick:function X(Y){var a=Y.getTarget(),b=this.getItemNodeFromTarget(a),Z=this.getItemFromTarget(a)
	if(Z){if(R.hasClass(a,"triangle")){if(Z.hcd){this.doExpandCollapse(b,Z)
	}}else{if(!R.hasClass(a,"indent")){this.doBranchSelect(b,Z,!Z.isSelected)
	}}Y.cancel()
	}},doElementSelect:function W(a,Z,Y){Z.isSelected=Y
	this.onSelectionChange(A.ELEMENT,Y,Z)
	this.updateItemNodesStatus()
	},doBranchSelect:function M(b,Z,Y){var a=function(c){c.isSelected=Y
	c.isBranchSelected=Y
	J.forEach(c.children,function(d){a.call(this,d)
	},this)
	}
	a.call(this,Z)
	this.onSelectionChange(A.BRANCH,Y,Z)
	O.call(this,Z)
	this.updateItemNodesStatus()
	},doLevelSelect:function G(Z,Y){this.getItems().forEach(function(a){if(a.lv===Z){a.isSelected=Y
	}})
	this.onSelectionChange(A.LEVEL,Y,null,Z)
	this.updateBtnSelectionStatus()
	if(this.docSelector&&!this.docSelector.incFetch){this.initDescStatusForNonIncFetch()
	}this.updateItemNodesStatus()
	},doBranchLevelSelect:function B(c,Z,b,Y){var a=function(d){if(d.lv===b){d.isSelected=Y
	}else{if(d.lv<b){(d.children||[]).forEach(function(e){a(e)
	})
	}}}
	a(Z)
	this.onSelectionChange(A.BRANCH_LEVEL,Y,Z,b)
	O.call(this,Z)
	if(this.docSelector&&!this.docSelector.incFetch){this.initDescStatusForNonIncFetch()
	}this.updateItemNodesStatus()
	},doAllSelect:function K(Y){this.getItems().forEach(function(Z){Z.isSelected=Z.isBranchSelected=Y
	Z.hcsd=Y?Z.hcd:false
	})
	this.onSelectionChange(A.ALL,Y)
	this.updateItemNodesStatus()
	},updateItemNodesStatus:function L(){var Y=this.itemsContainerNode&&this.itemsContainerNode.childNodes
	J.forEach(Y,function(a){var Z=this.getItemFromTarget(a)
	if(Z){R.toggleClass(a,Q,Z.isBranchSelected)
	R.toggleClass(a,N,Z.isSelected)
	}},this)
	},onSelectionChange:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresClsP("mstrmojo","ListBase","_IsList")
	mstrmojo.requiresCls("mstrmojo.ui.CheckList","mstrmojo.EnumSubtotals")
	var F=mstrmojo.array,B=mstrmojo.EnumSubtotals.TYPES
	function C(I,H){var G=H?I.nextElementSibling:I.previousElementSibling
	if(G&&G.classList.contains("separator")){G=C(G,H)
	}return G
	}mstrmojo.express.ui.SubtotalsWidget=mstrmojo.declare(mstrmojo.ui.CheckList,null,{scriptClass:"mstrmojo.express.ui.SubtotalsWidget",prevSelection:{},itemField:"v",selectionPolicy:"toggle",multiSelect:true,accessibilityMenuContainer:function(){return this
	},init:function E(G){this._super(G)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-vi-subtotals")
	},_set_selectedItems:function(J,H){var G=[],I=this.prevSelection={}
	F.forEach((H||[]),function(K){G.push(K.t)
	})
	F.forEach(G,function(K){I[K]=true
	})
	this.setSelectedItems(F.filter(this.items,function(K){return F.indexOf(G,K.v)>-1
	}))
	},onkeydown:function D(R){var K=R.getTarget(),U=R.e.keyCode,N
	var H=function(){var X=window.event,e=X.keyCode,c=mstrmojo.dom.findWidget(this.offsetParent),Y=mstrmojo.dom.findWidget(c.containerNode.firstChild),W=Y.itemsNode,f=this.parentElement.childNodes[0],b=this.parentElement.childNodes[1],d=null,a=this.textContent==="OK"
	switch(e){case 9:if(!X.shiftKey){d=a?b:W
	break
	}d=a?W:((f.classList.contains("disabled"))?W:f)
	break
	case 13:var Z=c.opener&&c.opener.td
	this.onclick(X)
	if(this===b&&Z){Z.focus()
	}break
	default:X.stopPropagation()
	}if(d){if(d!==W){d.setAttribute("tabindex","-1")
	d.setAttribute("role","button")
	mstrmojo.dom.attachEvent(d,"keydown",H)
	}d.focus()
	}X.preventDefault()
	X.stopImmediatePropagation()
	}
	switch(U){case 37:case 27:var M=this.parent,P=M.opener,G=P.openerMenuElement
	if(G){M.close()
	G.focus()
	delete P.openerMenuElement
	}break
	case 39:break
	case 38:case 40:var J=U===40?true:false
	N=C(K,J)
	if(N){N.focus()
	}break
	case 13:var O=K.getAttribute("aria-checked")==="true"
	K.setAttribute("aria-checked",!O)
	this.onclick(R)
	break
	case 9:var Q=mstrmojo.dom.findWidget(this.domNode.offsetParent),I=Q.btnNode&&Q.btnNode.hasChildNodes(),L=I&&Q.btnNode.children,S
	if(K.classList.contains("item")){if(I&&!L[0].classList.contains("disabled")){S=L[0]
	}else{if(I){S=L[1]
	}}}if(S&&S.classList.contains("mstrmojo-WebButton")){mstrmojo.dom.attachEvent(S,"keydown",H)
	S.setAttribute("role","button")
	S.setAttribute("tabindex","-1")
	S.focus()
	}R.e.preventDefault()
	break
	default:R.e.preventDefault()
	break
	}R.e.stopPropagation()
	},getSubtotalTypes:function A(){var I=this.items,J=this.selectedIndices,L=this.prevSelection,H=I.filter(function(N,M){return J[M]&&!L[N.v]
	}),K=I.filter(function(N,M){return !J[M]&&L[N.v]
	}),G=function(M){return M.v
	}
	return[H.map(G),K.map(G)]
	},items:B})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.ScrollableList","mstrmojo._IsPopup","mstrmojo.dom","mstrmojo.hash","mstrmojo._CanAutoClose","mstrmojo._IsAccessibleList","mstrmojo.vi.util.A11yUtility","mstrmojo.ui._HasListTooltip")
	var L=mstrmojo.Enum_Keys,E=mstrmojo.hash,B="hover",O=mstrmojo.vi.util.A11yUtility
	mstrmojo.ui.PopupList=mstrmojo.declare(mstrmojo.ui.ScrollableList,[mstrmojo._IsPopup,mstrmojo._CanAutoClose,mstrmojo.ui._HasListTooltip,mstrmojo._IsAccessibleList],{scriptClass:"mstrmojo.ui.PopupList",autoCloses:true,locksHover:true,closeOnClick:true,scrollNodeMaxHeight:undefined,parentDomNode:undefined,keydownString:null,lastKeydownTime:null,keydownInterval:500,enableAccessibility:true,listRole:"menu",itemRole:"menuitem",itemSelectedAriaProp:undefined,closeAfterSelection:true,markupString:'<div id="{@id}" class="mstrmojo-PopupList {@cssClass}" style="{@cssText}" tabIndex="-1" mstrAttach:click,dblclick,mouseover,mouseout,contextmenu,keydown><div class="mstrmojo-popupList-scrollBar"><div class="{@icnCss}" style="{@icnCssText}">{@itemsHtml}</div></div></div>',markupSlots:{itemsContainerNode:function K(){return this.domNode.firstChild.firstChild
	},scrollboxNode:function C(){return this.domNode.firstChild
	}},setupScrollNodes:function H(){this.scrollNode=this.scrollboxNode
	},onOpen:function G(){this._super()
	this.updateScrollbars()
	var Q=this
	setTimeout(function(){Q.scrollToSelectedItem()
	if(Q.opener&&Q.opener.focusOnPopup){Q.focus()
	}Q.updateItemStyle(true)
	},10)
	Q.updateItemStyle(false)
	this.keydownIndex=this.selectedIndex
	},onclick:function N(Q){this.closeAfterSelection=true
	this._super(Q)
	},postBuildRendering:function A(){var R=this._super()
	if(!this.parent){var Q=this.parentDomNode=this.parentDomNode||document.body
	Q.appendChild(this.domNode)
	}return R
	},closePopup:function M(){this.set("visible",false)
	},getA11yCSS:function(){return this.navMode?[B,O.CSS_FOCUS_VISIBLE]:[B]
	},arrowKeySupported:function(Q){return Q===L.DOWN_ARROW||Q===L.UP_ARROW||Q===L.END||Q===L.HOME
	},getNavContainer:function I(){if(!this.enableAccessibility){return 
	}var Q=this.parent
	while(!Q.canTab){Q=Q.parent
	}return Q
	},onkeydown:function J(b){if(!this.opener||!this.opener.focusOnPopup){return 
	}var S=b.hWin,W=b.e||S.event,Z=this.getNavContainer(),Q=this.keydownString,R=E.walk("parent.parent",this)
	this.locksHover=false
	this.closeAfterSelection=false
	if(Z){Z.handleTab(b)
	}if(this._super&&this._super(b)){return 
	}if(W.keyCode===mstrmojo.Enum_Keys.ENTER||W.keyCode===mstrmojo.Enum_Keys.SPACE){b.cancel()
	b.preventDefault()
	this.closeAfterSelection=true
	this.singleSelect(this.keydownIndex)
	if(this.parent&&this.parent.grabFocus){this.parent.grabFocus(true)
	}if(R&&R.isAMSelector&&R.isAMSelector()){R.selectByKey=true
	}if(R&&R.isPanelSelector&&R.isPanelSelector()){var a=R.parent
	if(a&&a.addRestoreFocusFlag){a.addRestoreFocusFlag()
	}}}else{if(W.keyCode===mstrmojo.Enum_Keys.ESCAPE){b.cancel()
	b.preventDefault()
	this.close()
	if(this.parent&&this.parent.grabFocus){this.parent.grabFocus(true)
	}}else{if(W.keyCode===mstrmojo.Enum_Keys.TAB){this.close()
	}else{var X=new Date(),U=X.getTime(),c=W.key&&W.key.toLowerCase()||String.fromCharCode(W.keyCode).toLowerCase(),Y=this
	if(this.lastKeydownTime===null){this.keydownString=c
	}else{if(U-this.lastKeydownTime<this.keydownInterval){this.keydownString=this.keydownString+c
	}else{this.keydownString=c
	}}Q=this.keydownString
	if(this._holdTimer){clearTimeout(this._holdTimer)
	}this._holdTimer=setTimeout(function(){Y.changeSelectedItem(b)
	Y.adjustPosition()
	},Y.keydownInterval)
	this.lastKeydownTime=U
	}}}},changeSelectedItem:function F(Q){var U=this.selectedIndex,S=this.items&&this.items.length
	if(S>0){var R
	for(R=this.selectedIndex+1
	R<this.items.length
	R++){if(this.items[R].n.toLowerCase().indexOf(this.keydownString)==0){U=R
	break
	}}if(U===this.selectedIndex){for(R=0
	R<this.selectedIndex
	R++){if(this.items[R].n.toLowerCase().indexOf(this.keydownString)==0){U=R
	break
	}}}if(U!==this.selectedIndex){this.set("selectedIndex",U)
	}}},focus:function P(){this.domNode.focus()
	},adjustPosition:function D(){this.adjustCornersForPopupOverflow()
	this.scrollToSelectedItem()
	this.focus()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Label","mstrmojo.Box","mstrmojo.array","mstrmojo.hash","mstrmojo.string","mstrmojo.ui.Checkbox","mstrmojo.vi.enums.EnumFeatures","mstrmojo.vi.enums.EnumPromptType")
	var G=mstrmojo.array,E=mstrmojo.hash,D=mstrmojo.string,F=mstrmojo.vi.enums.EnumFeatures,B=mstrmojo.vi.enums.EnumPromptType
	var A="ANY_OTHER_PROMPTS"
	var C={USE_THE_SAME_ANSWER_FROM_THE_SOURCE_PROMPT:1,PROMPT_USER:2,IGNORE_THE_PROMPT:3,USE_THE_SELECTED_OBJECT_AS_THE_PROMPT_ANSWER:4,USE_THE_DEFAULT_ANSWER:8,USE_FILTER_PANEL_SELECTIONS:10}
	mstrmojo.ui.editors.controls.PromptAndAnswerList=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.ui.editors.controls.PromptAndAnswerList",cssClass:"prompts-wrapper",visible:false,prompts:[],aopam:C.PROMPT_USER,fromVis:false,onAnswerChange:mstrmojo.emptyFn,promptList:undefined,promptAnswersPulldown:undefined,selectedPromptId:undefined,init:function(H){this._super(H)
	this.prompts=E.clone(H.prompts||[])
	this.addChildren([{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(17001,"Choose prompt")},this.getPromptList(),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(17002,"Answer prompt")},this.getPromptAnswersPulldown()])
	},setStateOfPrompts:function(){if(this.prompts.length>0){this.promptList.set("items",this.generatePromptItems())
	this.promptList.set("selectedIndex",0)
	this.selectedPromptId=this.prompts[0].id
	this.setSelectedPromptAnswer()
	}else{this.promptList.set("items",[])
	this.promptList.set("selectedIndex",-1)
	this.selectedPromptId=undefined
	}},postpromptsChange:function(){this.prompts=E.clone(this.prompts||[])
	this.setStateOfPrompts()
	},postaopamChange:function(){this.setStateOfPrompts()
	},generatePromptItems:function(){var H=this
	return G.map(this.getRealPrompts(),function(I){return{n:D.apply('<span class="prompt-name" title="{@name} ({@am})">{@name}</span><span class="answer-mode" title="{@name} ({@am})">({@am})</span>',{name:I.nm,am:(G.filterOne(H.getAnswerList(I),function(J){return J.id===I.am
	})||{}).n})}
	})
	},setSelectedPromptAnswer:function(){var H=this.getPromptInfo(),I=this.getAnswerList(H)
	this.promptAnswersPulldown.set("items",I)
	this.promptAnswersPulldown.set("selectedIndex",G.find(I,"id",H.am))
	},getPromptAnswer:function(I){if(I===A){return this.aopam
	}var H=this.getPromptIndex(I)
	if(H!==-1){return this.prompts[H].am
	}return undefined
	},getAnswerList:function(H){var J=1,I=[{n:mstrmojo.desc(17350,"Prompt user"),id:C.PROMPT_USER},{n:mstrmojo.desc(17349,"Use the default answer"),id:C.USE_THE_DEFAULT_ANSWER},{n:mstrmojo.desc(17351,"Ignore the prompt"),id:C.IGNORE_THE_PROMPT}]
	if(H&&(H.id===A||H.hsp)){I.splice(1,0,{n:mstrmojo.desc(17348,"Use the same answer from the source prompt"),id:C.USE_THE_SAME_ANSWER_FROM_THE_SOURCE_PROMPT})
	}if(H&&H.pt===B.ATTRIBUTE_LELMENT_LSIT&&this.fromVis){I.splice(1,0,{n:mstrmojo.desc(17352,"Use the selected object as the answer"),id:C.USE_THE_SELECTED_OBJECT_AS_THE_PROMPT_ANSWER})
	J=2
	}if(mstrApp.supportFeature(F.SUPPORT_ANSWER_PROMPT_WITH_FILTER_PANEL_SELECTIONS)&&H&&H.orid&&(H.pt===B.ATTRIBUTE_LELMENT_LSIT||H.pt===B.EXPRESSION)){I.splice(J,0,{n:mstrmojo.desc(20144,"Use the filter panel selection(s) as the answer"),id:C.USE_FILTER_PANEL_SELECTIONS})
	}return I
	},getPromptInfo:function(H){H=H===undefined?this.selectedPromptId:H
	return G.filterOne(this.getRealPrompts(),function(I){return I.id===H
	})
	},getPromptIndex:function(H){H=H===undefined?this.selectedPromptId:H
	return G.find(this.getRealPrompts(),"id",H)
	},getRealPrompts:function(){return this.prompts.concat({id:A,am:this.aopam,nm:mstrmojo.desc(17000,"Any other prompts")})
	},getPromptList:function(){var J=this,K,I=this.generatePromptItems()
	this.promptList=new mstrmojo.ui.ScrollableList({cssClass:"target-prompts",allowHTML:true,items:I,postitemsChange:function(){if(this.scrollNode){this.scrollNode.scrollTop=K
	}},selectionAdded:function(M){if(M.added.length===0){return 
	}var L=M.added[0],N=J.getRealPrompts()[L].id
	if(J.selectedPromptId===N){return 
	}J.selectedPromptId=N
	J.setSelectedPromptAnswer()
	}})
	var H=this.promptList.set
	this.promptList.set=function(M,L){if(M==="items"){K=this.scrollNode?this.scrollNode.scrollTop:0
	}return H.call(this,M,L)
	}
	return this.promptList
	},getPromptAnswersPulldown:function(){var H=this
	this.promptAnswersPulldown=mstrmojo.ui.Pulldown.newPulldown(this.getAnswerList(),function(I){if(H.getPromptAnswer(H.selectedPromptId)===I.id){return 
	}H.setPromptAnswer(H.selectedPromptId,I.id)
	H.promptList.set("items",H.generatePromptItems())
	H.promptList.set("selectedIndex",H.getPromptIndex())
	},0)
	return this.promptAnswersPulldown
	},setPromptAnswer:function(J,I){if(J===A){this.aopam=I
	this.onAnswerChange(true,I)
	return 
	}var H=this.getPromptIndex(J)
	if(H!==-1){this.prompts[H].am=I
	this.onAnswerChange(false,E.clone(this.prompts))
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.LegacySuggestionList","mstrmojo.ui._HasScroller")
	var E=mstrmojo.dom
	mstrmojo.ui.ScrollableSuggestionList=mstrmojo.declare(mstrmojo.LegacySuggestionList,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ui.ScrollableSuggestionList",markupString:'<div id="{@id}" class="mstrmojo-ListBase mstrmojo-scrollable-suggestlist {@cssClass}" style="{@cssText}" mstrAttach:click,dblclick,mouseover,mouseout,contextmenu><div class="list-content"><div class="items-container {@icnCss}" style="{@icnCssText}">{@itemsHtml}</div></div></div>',markupSlots:{itemsContainerNode:function B(){return this.domNode.firstChild.firstChild
	},scrollboxNode:function D(){return this.domNode.firstChild
	},scrollNode:function H(){return this.domNode.firstChild
	}},onclick:function A(I){var J=this.getItemFromTarget(I.getTarget())
	if(J){this._super(I)
	}},onitemsChange:function C(){var I=this
	window.setTimeout(function(){I.hideTooltip()
	I.updateScrollbars()
	},0)
	},updateScrollbars:function F(){this._super()
	var K=this,M=K.scrollNode,I=M.clientWidth,L=K.itemsContainerNode,J=L.clientWidth
	L.style.width="auto"
	window.setTimeout(function(){if(I>J){L.style.width=J+(I-J)+"px"
	}},10)
	},useRichTooltip:true,getItemTooltip:function(L,M){var J=E.position(M),K=M.ttp
	var I={areaId:L._renderIdx+"text",cssClass:"vi-regular vi-tooltip-C",contentNodeCssClass:"regular-unitlist-tooltips",posType:"",content:K,top:J.y,left:J.x+J.w+6,enableHover:false}
	return I
	},showTooltip:function G(I,L){var K=this.targetEl,J=this.targetItem
	if(!mstrApp.isWorkstationPlugin||E.position(K).w||E.position(K).h){if(K&&K.ttp){this.richTooltip=this.getItemTooltip(J,K)
	if(this.richTooltip){this._super(I,L)
	}}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBox","mstrmojo.string","mstrmojo.ListBoxBase")
	mstrmojo.ButtonItemRenderer=mstrmojo.hash.copy(mstrmojo.DivItemRenderer)
	mstrmojo.ButtonItemRenderer.render=function(D,A,E){var B=D.v!=="u
	"?" nAll":"",C=(E.enabled===false)
	return'<input mstridx="'+A+'" class="'+E.itemCssClass+(E.selectedIndices[A]?" "+E.itemSelectedCssClass:"")+" "+(D.css||"")+B+'" style="'+E.itemCssText+'" type="button"  value="'+mstrmojo.string.encodeHtmlString(D[E.itemDisplayField],false,true)+'" '+(C?"disabled ":"")+"/>"
	}
	mstrmojo._RendersItemButtons=mstrmojo.hash.copy(mstrmojo._RendersItemDivs)
	mstrmojo._RendersItemButtons.itemRenderer=mstrmojo.ButtonItemRenderer
	mstrmojo.ButtonList=mstrmojo.declare(mstrmojo.ListBox,[mstrmojo._RendersItemButtons],{scriptClass:"mstrmojo.ButtonList",cssClass:"mstrmojo-ButtonList",itemCssClass:"mstrmojo-ButtonItem",selectionPolicy:"toggle"})
	mstrmojo.requiresCls("mstrmojo.ListBoxHoriz")
	mstrmojo.ButtonListHoriz=mstrmojo.declare(mstrmojo.ListBoxHoriz,[mstrmojo._RendersItemButtons],{scriptClass:"mstrmojo.ButtonListHoriz",cssClass:"mstrmojo-ButtonListHoriz",itemCssClass:"mstrmojo-ButtonItem",selectionPolicy:"toggle"})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBox","mstrmojo.ListBoxHoriz","mstrmojo.string")
	var B=mstrmojo.string
	var A={render:function(G,C,H){var J=(H.htmlName+C),E=H.selectedIndices[C]?"checked ":"",F=E?" selected":"",D=G.v!=="u
	"?" nAll":"",I=G[H.itemDisplayField||"n"]
	return'<div class="'+H.itemCssClass+F+D+'"><input type="'+H.inputType+'" name="'+H.htmlName+'" id="'+J+'" value="'+C+'" '+E+'/><label for="'+J+'" title="'+B.encodeHtmlString(G[H.itemTitleField]||"")+'" style="'+H.labelCssText+'">'+(H.allowHTML?I:B.encodeHtmlString(I))+"</label></div>"
	},select:function(D){var C=D&&D.firstChild
	if(C){if(!C.checked){C.checked=true
	}mstrmojo.css.toggleClass(D,"selected",C.checked)
	}},unselect:function(D){var C=D&&D.firstChild
	if(C){if(C.checked){C.checked=false
	}mstrmojo.css.toggleClass(D,"selected",C.checked)
	}},rowHeight:23}
	mstrmojo._RendersInputItems=mstrmojo.provide("mstrmojo._RendersInputItems",{inputType:null,htmlName:null,itemRenderer:A,init:function(C){this._super(C)
	if(!this.htmlName){this.htmlName=this.id
	}},preclick:function(F){var E=F.hWin,H=F.e,G=mstrmojo.dom.eventTarget(E,H)
	if(G&&G.nodeName.match(/input/i)){var D=parseInt(G.value,10)
	if(this.inputType&&this.inputType.match(/radio/i)){this.singleSelect(D)
	}else{var C=(G.checked)?"add":"remove"
	this[C+"Select"](D)
	}}}})
	mstrmojo._InputList=mstrmojo.declare(mstrmojo.ListBox,[mstrmojo._RendersInputItems],{scriptClass:"mstrmojo._InputList"})
	mstrmojo._InputListHoriz=mstrmojo.declare(mstrmojo.ListBoxHoriz,[mstrmojo._RendersInputItems],{scriptClass:"mstrmojo._InputListHoriz"})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBox","mstrmojo.hash","mstrmojo.string")
	var B=mstrmojo.hash,A=mstrmojo.string
	mstrmojo.ListSelectorItemRenderer=B.clone(mstrmojo.DivItemRenderer)
	mstrmojo.ListSelectorItemRenderer.render=function(F,C,G){var D=F.v!="u
	"?" nAll":"",E=G.getItemName?G.getItemName(F,C):(G.itemDisplayField&&F[G.itemDisplayField])
	if(mstrmojo.string.isEmpty(E)){E=" "
	}return'<div mstridx="'+C+'" class="'+G.itemCssClass+(G.selectedIndices[C]?" "+G.itemSelectedCssClass:"")+D+'" style="'+G.itemCssText+'">'+(G.allowHTML?E:A.encodeHtmlString(E))+"</div>"
	}
	mstrmojo.ListBoxSelector=mstrmojo.declare(mstrmojo.ListBox,null,{allowHTML:false,itemRenderer:mstrmojo.ListSelectorItemRenderer})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.ListBox","mstrmojo.color","mstrmojo.string")
	var C=[127,206,255]
	var D=[216,230,239]
	var B=function(H,K){if(!H||H==="transparent"){H="#FFFFFF"
	}var G=mstrmojo.color.hex2rgb(H),J,I,E
	if(!K){J=Math.round((3/5)*parseInt(G[0])+110)
	I=Math.round((3/5)*parseInt(G[1])+110)
	E=Math.round((3/5)*parseInt(G[2])+110)
	}else{J=G[0]*K[0]/255
	I=G[1]*K[1]/255
	E=G[2]*K[2]/255
	var F=G[0]*0.3+G[1]*0.59+G[2]*0.11
	if(F<85){J=J+(63*((85-F)/85))
	if(J>255){J=255
	}I=I+(63*((85-F)/85))
	if(I>255){I=255
	}E=E+(96*((85-F)/85))
	if(E>255){E=255
	}}}return"#"+mstrmojo.color.rgb2hex(J,I,E)
	}
	var A=function(F,G,E){if(F&&F.style){F.style.backgroundColor=G["bg"+E+"Color"]||""
	F.style.color=G["text"+E+"Color"]||""
	}}
	mstrmojo.LinkItemRenderer=mstrmojo.hash.copy({render:function(G,E,H){var F=G.v!=="u
	"?" nAll":""
	var I=G[H.itemDisplayField]
	if(!H.allowHTML){I=mstrmojo.string.encodeHtmlString(I)
	}return'<input mstridx="'+E+'" class="'+H.itemCssClass+(H.selectedIndices[E]?" "+H.itemSelectedCssClass:"")+F+'" style="'+H.itemCssText+" color:"+(H.selectedIndices[E]?H.textSelectedColor:H.textNormalColor)+"
	background-color:"+(H.selectedIndices[E]?H.bgSelectedColor:H.bgNormalColor)+'
	" type="button"  value="'+I+'"  mstreventmark="todoRefactorNode" mstrevent="mouseover mouseout"  onmouseover="mstrmojo.all.'+H.id+".onmouseover(self, "+E+')" onmouseout="mstrmojo.all.'+H.id+".onmouseout(self, "+E+')"/>'
	},select:function(F,G,E,H){F.className+=" selected"
	A(F,H,"Selected")
	},unselect:function(F,G,E,H){F.className=F.className.replace(/selected/g,"")
	A(F,H,"Normal")
	},highlight:function(G,H,E,I){var F=I.selectedIndices[E]?"Selected":"Highlighted"
	A(G,I,F)
	},unhighlight:function(G,H,E,I){var F=I.selectedIndices[E]?"Selected":"Normal"
	A(G,I,F)
	}},mstrmojo.hash.copy(mstrmojo.DivItemRenderer))
	mstrmojo._RendersItemLinks=mstrmojo.hash.copy({onmouseover:function(G,E){if(isNaN(E)||E<0){return 
	}var F=this._getItemNode(E)
	this.itemRenderer.highlight(F,this.items[E],E,this)
	},onmouseout:function(G,E){if(isNaN(E)||E<0){return 
	}var F=this._getItemNode(E)
	this.itemRenderer.unhighlight(F,this.items[E],E,this)
	},preBuildRendering:function(){this.bgNormalColor=this["background-color"]||this.parent&&this.parent["background-color"]
	this.bgSelectedColor=this.parent&&this.parent.defn&&this.parent.defn.ssc
	if(this.bgSelectedColor!=null){if(this.bgSelectedColor==="transparent"){this.bgHighlightedColor=mstrmojo.LinkList.dftTrptBgHltColor
	}else{this.bgHighlightedColor=B(this.bgSelectedColor)
	}}else{this.bgSelectedColor=B(this.bgNormalColor,C)
	this.bgHighlightedColor=B(this.bgNormalColor,D)
	}this.textSelectedColor=(this.bgSelectedColor==="transparent")?mstrmojo.LinkList.dftTrptTxSelColor:mstrmojo.color.getContrastingColor(this.bgSelectedColor,"#ffffff","#000000")
	this.textHighlightedColor=(this.bgSelectedColor==="transparent")?mstrmojo.LinkList.dftTrptTxHltColor:mstrmojo.color.getContrastingColor(this.bgHighlightedColor,"#ffffff","#000000")
	this.textNormalColor=this.color
	if(this._super){this._super()
	}}},mstrmojo.hash.copy(mstrmojo._RendersItemDivs))
	mstrmojo._RendersItemLinks.itemRenderer=mstrmojo.LinkItemRenderer
	mstrmojo.requiresCls("mstrmojo.ListBox")
	mstrmojo.LinkList=mstrmojo.declare(mstrmojo.ListBox,[mstrmojo._RendersItemLinks],{scriptClass:"mstrmojo.LinkList",cssClass:"mstrmojo-LinkList",itemCssClass:"mstrmojo-LinkList-item",selectionPolicy:"toggle"})
	mstrmojo.LinkList.dftTrptBgHltColor="#FFFFFF"
	mstrmojo.LinkList.dftTrptTxSelColor="#FFFFFF"
	mstrmojo.LinkList.dftTrptTxHltColor="#000000"
	mstrmojo.requiresCls("mstrmojo.ListBoxHoriz")
	mstrmojo.LinkListHoriz=mstrmojo.declare(mstrmojo.ListBoxHoriz,[mstrmojo._RendersItemLinks],{scriptClass:"mstrmojo.LinkListHoriz",cssClass:"mstrmojo-LinkListHoriz",itemCssClass:"mstrmojo-LinkListHoriz-item",selectionPolicy:"toggle"})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.DocButton")
	var B=mstrmojo.dom
	mstrmojo.express.ui.DocButton=mstrmojo.declare(mstrmojo.DocButton,null,{scriptClass:"mstrmojo.express.ui.DocButton",premousedown:function A(C){if(B.getButton(C.hWin,C.e)===1){var E=this.id,D="pressed"
	this.set(D,true)
	B.attachOneTimeEvent(document,"mouseup",function(){var F=mstrmojo.all[E]
	if(F){F.set(D,false)
	}},true)
	}}})
	}())
	(function(){var BUILDER_METHOD={BUTTON:"newButton",PICKERBUTTON:"newPickerButton",LIST:"newList",SEPARATOR:"newSeparator",TEXT:"newCustom"}
	function cmdMethodName(cmdid){return(cmdid==="export")?cmdid+"Cmd":cmdid
	}function bindEnabled(enabledFeatures){var arr=enabledFeatures.split(","),txt=[],i,len
	for(i=0,len=arr.length
	i<len
	i++){var s=arr[i],neg=s.match(/^\!/)
	if(neg){s=s.replace("!","")
	}txt.push((neg?"!":"")+"this.target.model.features['"+s+"']")
	}return txt.join(" && ")
	}function bindItems(cmdid){return"var t = this.target.view, c = this.cmdid
	if (t && c) {return this.target.view."+cmdid+"Options
	}"
	}function bindSelectedItem(cmdid){return"var x = this.items
	var t = this.target.view, c = this.cmdid
	if (t && c){return this.target.view."+cmdid+"Value
	}"
	}function openLink(json){var link=json.link,h=link&&link.href,t=link&&link.target,xtraUrl=json["extra-url"]
	if(!link||!h){return 
	}if(xtraUrl){h+="&"+xtraUrl
	}if(link["use-window-open"]){t="_blank"
	}window.open(h,t?t:"_self")
	}mstrmojo.ToolBarBuilder={scriptClass:"mstrmojo.ToolBarBuilder",build:function build(nodes,model,config){var arr=[],i,len
	for(i=0,len=(nodes&&nodes.length)||0
	i<len
	i++){var json=nodes[i],n=BUILDER_METHOD[(json&&json.type)||"SEPARATOR"],w=this[n]&&this[n](json,config)
	if(w){arr.push(w)
	}}return arr
	},newButton:function nwBtn(json,config){if(json["on-click"]||json.link){return this.newCustom(json,config)
	}var c=cmdMethodName(json.cmdid)
	return new mstrmojo.Button({title:json.tooltip,iconClass:json.id,cssClass:"mstrmojo-InteractiveButton",target:config&&config.target,cmdid:c,onclick:function(e){var t=this.target,ci=this.cmdid
	t[ci](e)
	},bindings:json.enabledFeatures?{enabled:bindEnabled(json.enabledFeatures)}:null})
	},newPickerButton:function nwPkrBtn(json,config){var c=cmdMethodName(json.cmdid)
	var bs
	if(!json.items){bs={}
	bs.items=bindItems(c)
	}if(json.enabledFeatures){bs=bs||{}
	bs.enabled=bindEnabled(json.enabledFeatures)
	}function oc(){var t=this.target,ci=this.cmdid,its=this.items,idx=this.selectedIndex
	t[ci](its[idx].dssid)
	}return new mstrmojo.PickerButton({title:json.title||"",iconClass:json.id,items:json.items,itemDisplayField:"n",itemIdField:"dssid",autoHide:true,size:1,selectedIndex:parseInt(json.selectedIndicesList,10)||0,target:config&&config.target,cmdid:c,onchange:oc,bindings:bs})
	},newList:function nwLst(json,config){var c=cmdMethodName(json.cmdid),bs={selectedItem:bindSelectedItem(c)}
	if(!json.items){bs.items=bindItems(c)
	}if(json.enabledFeatures){bs.enabledFeatures=bindEnabled(json.enabledFeatures)
	}return new mstrmojo.SelectBox({id:json.cmdid,size:1,tooltip:json.title||"",iconClass:json.id,cmdid:c,target:config&&config.target,itemDisplayField:"n",itemIdField:"dssid",autoHide:true,onchange:function(){var t=this.target,ci=this.cmdid,itm=this.selectedItem
	t[ci](itm&&itm.dssid)
	},items:json.items,bindings:bs})
	},newSeparator:function nwSep(json,config){return new mstrmojo.ToolSeparator(json)
	},newCustom:function newCstm(json,config){var b=new mstrmojo.Button({markupString:'<div id="{@id}" class="mstrmojo-Button {@cssClass}" title="{@title}" style="{@cssText}" mstrAttach:click,mousedown,mouseup><div id="{@iconClass}" class="mstrmojo-Button-text"></div></div>',title:json.tooltip,cssClass:"mstrmojo-InteractiveButton",onclick:function(){if(json.link){openLink(json)
	}if(json["on-click"]){eval(json["on-click"])
	}},bindings:json.enabledFeatures?{enabled:bindEnabled(json.enabledFeatures)}:null}),v=json.value
	b.text=v||""
	b.cssText=v?"width:auto
	margin-top:4px
	":""
	b.title=json.tooltip||""
	b.iconClass=json.id||""
	return b
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.ToolBar","mstrmojo.boxmodel","mstrmojo.array","mstrmojo.EnumRWUnitType","mstrmojo.dom","mstrmojo.css")
	var Q=["background-color","border","border-color","border-left","border-style","border-top","border-width","filter","top","left","z-index","fx","normWidth","normHeight","normZIndex","normTop","normLeft","tbborder","lrborder","ttl"],Z=["width","height"],q="p_fmts"
	var n="px"
	var l={getContentHeight:function(u,w){var v=w.ttl&&w.ttl.height
	if(u&&v&&!this.floatingToolbar){return Math.max(parseInt(u,10)-parseInt(v,10),0)+n
	}return""
	},getPortletMinHeight:function(u){return u.ttl.height
	},adjustTitleCss:function(){return 
	}}
	var h={getContentHeight:function(u){return u
	},getPortletMinHeight:function(){return 0
	},adjustTitleCss:function(u){u.titlebarNodeClass+=" floating"
	return 
	}}
	function A(x,v){var w=this.parent,u=x+"DirtyKey"
	if(w[u]){w[u](v)
	}}function P(){this.toolbarTitleTextNode.innerHTML=this.title+(this.count?" ("+this.count+")":"")
	}function k(){var v=this.parent,x=v&&v.defn
	if(x&&parseInt(x.t,10)===mstrmojo.EnumRWUnitType.PANEL){var u=v.parent,w=u.defn
	if(w&&w.ifp){return u
	}}return null
	}var R=mstrmojo.hash,G=2
	mstrmojo.DocPortlet=mstrmojo.declare(mstrmojo.Container,[mstrmojo._Formattable],{scriptClass:"mstrmojo.DocPortlet",floatingTitle:false,floatingTitleHeight:30,n:"",buttonWidth:17,markupString:'<div class="mstrmojo-portlet {@borderCss}" nm="{@n}" style="{@portletNodeCssText}"><div class="mstrmojo-portlet-slot-shadow" style="{@shadowNodeCssText}"></div><div class="mstrmojo-portlet-container" style="{@portletContainerNodeCssText}"><div class="mstrmojo-portlet-titlebar {@titlebarNodeClass}" style="{@titlebarNodeCssText}"><table style="height:100%
	width:100%" class="mstrmojo-portlet-titlebar-table" cellspacing="0" cellpadding="0"><tr><td class="mstrmojo-portlet-slot-toolbar-left {@leftToolbarNodeClass}" style="{@leftToolbarNodeCssText}"></td><td class="mstrmojo-portlet-title" style="{@titleNodeCssText}"><div style="overflow: hidden
	"></div></td><td class="mstrmojo-portlet-slot-toolbar {@toolbarNodeClass}" style="{@rightToolbarNodeCssText}"></td></tr></table></div><div class="mstrmojo-portlet-buttonbar {@buttonbarNodeClass}" style="{@buttonbarNodeCssText}"></div><div class="mstrmojo-portlet-slot-content" style="{@contentNodeCssText}"></div></div></div>',rightToolbarNodeCssText:"",leftToolbarNodeCssText:"",titleNodeCssText:"",titlebarNodeClass:"",titlebarNodeCssText:"",contentNodeCssText:"",borderCss:"no-border",buttonbarNodeClass:"",buttonbarNodeCssText:"",markupSlots:{containerNode:function(){return this.domNode.lastChild
	},portletNode:function(){return this.domNode
	},portletContainerNode:function(){return this.domNode.lastChild
	},dimNode:function(){return this.domNode.lastChild
	},shadowNode:function(){return this.domNode.firstChild
	},titleNode:function(){return this.domNode.lastChild.childNodes[0]
	},buttonbarNode:function(){return this.domNode.lastChild.childNodes[1]
	},toolbarNode:function(){return this.domNode.lastChild.firstChild.childNodes[0].rows[0].cells[2]
	},toolbarTitleTextNode:function(){return this.domNode.lastChild.firstChild.childNodes[0].rows[0].cells[1].firstChild
	},leftToolbarNode:function(){return this.domNode.lastChild.firstChild.childNodes[0].rows[0].cells[0]
	},contentNode:function(){return this.domNode.lastChild.lastChild
	}},markupMethods:{ontitleChange:function(){P.call(this)
	},oncountChange:function(){P.call(this)
	},onfcChange:function(){if(this.fc&&this.content){this.updateContentHeight()
	}}},formatHandlers:{portletContainerNode:["RW","B","fx","background-color"],shadowNode:["RW","B","fx","background-color"],buttonbarNode:{src:"ttl",props:["background-color"]},titlebarNode:{src:"ttl",props:["F","B","background-color","height","fx","text-align","vertical-align"]},titleNode:{src:"ttl",props:["vertical-align","P","text-decoration"]}},updateServer:true,fc:false,content:null,rightToolbar:null,leftToolbar:null,floatingToolbar:false,_ts:l,getCacheKey:function F(){return this._super()+"-portlet"
	},getFormats:function M(){var v=this.content,u=v&&v.getFormats()
	return u&&u[q]
	},updateContentHeight:function f(z){var u=this.getFormats(),v=this.content,x=v.dimNode||v.domNode,w=((u.ttl&&parseInt(u.ttl.height,10))||0)
	if(x){if(!z){w+=((this.fc||this.isInFilterPanel())?x.offsetHeight:(u.height?parseInt(u.height,10):0))
	}this.containerNode.style.height=w+n
	this.shadowNode.style.height=w+n
	}},init:function r(u){this._super(u)
	var v=this.content
	this.n=(u&&u.defn&&u.defn.n)||""
	if(v&&v.getFormats()&&!this.getFormats()){this._createFormats()
	}},preBuildRendering:function B(){var v=this._ts=(this.floatingTitle)?h:l
	if(this.isInFilterPanel()){var w=R.clone(this.formatHandlers)
	w.portletContainerNode=["z-index","height","B","backgroud-color"]
	w.shadowNode=["z-index","height","B","fx","background-color"]
	this.formatHandlers=w
	}this._super()
	v.adjustTitleCss(this)
	var u="display:none
	"
	if(!this.leftToolbar){this.leftToolbarNodeCssText+=u
	}if(!this.toolbar){this.toolbarNodeCssText+=u
	}var x=mstrmojo._Formattable.getBorderWidths(this)
	if(x.l||x.t||x.r){this.borderCss="has-border"
	}},postBuildRendering:function a(){var AI=mstrmojo.dom,AD=this.titleNode,AK=this.onclicktitle
	if(this.floatingTitle&&this.titleNode){document.body.appendChild(this.titleNode)
	var AC=mstrmojo.css,AJ=this.contentNode,AL=this
	if(!this._onhover){this._onhovertt=function(){AC.addClass(AL.titleNode,["visible"])
	AL._onflt=true
	return true
	}
	this._onhoverofftt=function(){AC.removeClass(AL.titleNode,["visible"])
	AL._onflt=false
	return true
	}
	this._onhover=function(){var AN=AL.titleNode
	AC.addClass(AN,["visible"])
	var AO=AI.position(AL.contentNode,true)
	AN.style.top=(AO.y-AN.clientHeight+2)+n
	AN.style.left=AO.x+n
	return true
	}
	this._onhoveroff=function(){AC.removeClass(AL.titleNode,["visible"])
	return true
	}
	}AI.attachEvent(AJ,"mouseover",this._onhover)
	AI.attachEvent(AJ,"mouseout",this._onhoveroff)
	AI.attachEvent(AD,"mouseover",this._onhovertt)
	AI.attachEvent(AD,"mouseout",this._onhoverofftt)
	}if(AD&&AK){AI.attachEvent(AD,"click",AK)
	}if(this._super){this._super()
	}var AM=this.getFormats()
	this.set("fc",AM&&!AM.height)
	if(this.isInFilterPanel()&&!this.isHorizFP()){var AF=this.portletContainerNode.style,AG=this.shadowNode.style,AB=this.parent
	AF.width=AG.width="99%"
	AF.top=AG.top=AB.topStart+n
	AF.left=AG.left=G+n
	}else{if(this.isInFilterPanel()&&this.isHorizFP()){G=8
	this.portletContainerNode.style.left=this.shadowNode.style.left=parseInt(AM.left,10)+G*this.orgPos+n
	}else{if(this.defn.ifp){this.adjustFPHeight2Fit()
	}}}if(this.buttonbarNode.clientHeight>0){var w=this.model.getZoomFactor()
	var AA=function(AO,AN){if(!AO){return AN
	}return parseInt(AO,10)*w
	}
	var u=this.buttonbarNode.getElementsByClassName("mstrmojo-Button mstrmojo-FilterPanel-Btn")
	var AE=8
	var z=0
	for(var AH=0
	AH<u.length
	AH++){var v=u[AH]
	var x=window.getComputedStyle(v)
	z=Math.max(z,AA(x.width,31))
	v.style.height=v.style.lineHeight=v.clientHeight*w+"px"
	v.style.fontSize=AE*w+"pt"
	v.style.marginTop=AA(x.marginTop,5)+"px"
	v.style.marginBottom=AA(x.marginBottom,5)+"px"
	v.style.borderRadius=AA(x.borderRadius,12)+"px"
	v.style.borderWidth=AA(x.borderWidth,1)+"px"
	}for(var AH=0
	AH<u.length
	AH++){u[AH].style.width=z+"px"
	}}},adjustFPHeight2Fit:function(){var w=mstrmojo.dom,u=w.position(this.titleNode),v=w.position(this.contentNode).y-u.y-u.h
	this.content.domNode.style.height=parseInt(this.defn.fmts.height,10)-v+"px"
	},unrender:function E(v){if(this.floatingTitle&&this.titleNode){var x=this.domNode,u=this.titleNode,w=mstrmojo.dom
	if(x&&this._onhover){w.detachEvent(x,"mouseover",this._onhover)
	}if(x&&this._onhoveroff){w.detachEvent(x,"mouseout",this._onhoveroff)
	}if(u&&this._onhovertt){w.detachEvent(u,"mouseover",this._onhovertt)
	}if(u&&this._onhoverofftt){w.detachEvent(u,"mouseout",this._onhoverofftt)
	}if(u){document.body.removeChild(u)
	}}if(this._super){this._super(v)
	}},updateStyle:function(v,u){var z=this.shadowNode.style,x=this.containerNode.style
	z.height=x.height=v
	z.width=x.width=u
	},_createFormats:function X(){var AA=this.content&&this.content.getFormats(),x
	x=AA.p_fmts={}
	var u,z
	for(u in Q){z=Q[u]
	if(AA[z]!==undefined){x[z]=AA[z]
	delete AA[z]
	}}for(u in Z){z=Z[u]
	if(AA[z]!==undefined){x[z]=AA[z]
	}}AA.height=this._ts.getContentHeight(AA.height,x)
	if(mstrmojo.dom.isIE&&x.fx&&x.fx.ds&&!x["background-color"]){x["background-color"]="#ffffff"
	}var w=x.ttl,v=w&&w["background-color"]
	if(v){this.titlebarNodeClass=mstrmojo.color.getContrastingColor(v,"light","dark")
	}},refresh:function t(){if(!this.hasRendered){return 
	}var v=this.children,u
	for(u=v.length-1
	u>=0
	u--){v[u].refresh()
	}},isInFilterPanel:function L(){return(k.call(this)!==null)
	},isHorizFP:function(){if(this.isInFilterPanel()){var u=this.getFilterPanel()
	return u&&u.defn&&parseInt(u.defn.fds,10)===2
	}return false
	},getFilterPanel:function H(){return k.call(this)
	},getContainerHeight:function e(){return this.containerNode.clientHeight
	},relocate:function C(u){if(this.isInFilterPanel()&&!this.isHorizFP()){this.portletContainerNode.style.top=this.shadowNode.style.top=u+n
	}},setInfoWindowDimensions:function p(z){var v=this.domNode.style,u=this.shadowNode.style,w=this.portletContainerNode.style,x=mstrmojo._Formattable.getBorderWidths(this)
	z.h-=x.h
	z.w-=x.w
	u.height=w.height=v.height=z.h+n
	u.width=w.width=v.width=z.w+n
	z.h-=this.titleNode.offsetHeight
	this.toolbarNode.style.display="none"
	},addDirtyKey:function K(u){A.call(this,"add",u)
	},removeDirtyKey:function J(u){A.call(this,"remove",u)
	},setDirtyChildren:function b(){var u=this.content
	if(u&&u.setDirtyChildren){u.setDirtyChildren.apply(u,arguments)
	}}})
	var Y=0,O=1,m=2
	function N(u){var w=this.content.defn
	if(w){w.set("ds",u)
	}}function o(u){return{FormattingOrder:{ZIndex:this.getFormats()["z-index"]},FormattingView:{WindowState:u}}
	}function c(AI,AG,u,AJ){var AE=this.content,AH=AE.k,AD=mstrmojo.boxmodel.px2Inches,z=AE.model.docModel||AE.model,AL=z.getZoomProps(),AA=this.getFormats(),x=AG!==undefined&&u!==undefined,AK={},AB=this,AC=o.call(this,AI),AF=!(AE.defn.t===mstrmojo.EnumRWUnitType.GRIDGRAPH||AE.defn.t===mstrmojo.EnumRWUnitType.GRAPH)
	if(x){AC.FormattingSize={OldHeight:AD(AL,AG),OldWidth:AD(AL,u),Height:AD(AL,parseInt(AA.height,10)),Width:AD(AL,parseInt(AA.width,10))}
	}AK.success=function(v){var w=v&&v.data
	if(w){z.loadPartialData(w,AH)
	}N.call(AB,AI)
	var AM=AB.parent
	if(AM.adjustSectionSize&&x){AM.adjustSectionSize()
	}}
	z.updateUnitFormat(AE,1,AC,AK,{params:{suppressData:AF,rapidExec:AF},config:x?null:{silent:true},preserveUndo:true})
	if(!x&&!(AJ&&AJ.all)){if(z.saveRWProps){z.saveRWProps(AH,undefined,1,this.loadDataOnResize,AK,true)
	}}}function U(){var AB=this.content
	if(!AB){return 
	}var z=function(AF){mstrmojo.array.forEach(AF,function(AG){if(AG.ds!==undefined){AG.set("visible",(AG.ds!==AB.defn.ds))
	}})
	},AC
	if(this.isInFilterPanel()){var w=(parseInt(this.defn.ds,10)===Y)
	AB.set("visible",w)
	this.updateContentHeight(!w)
	AC=this.leftToolbar
	z(AC&&AC.children)
	var x=this.parent
	if(x.refreshFP){x.refreshFP()
	}}else{var u=AB.getFormats(),AD=this.getFormats(),v=this.portletContainerNode.style,AE=this.shadowNode.style,AA=this.contentNode.firstChild.style
	AA.height=u.height
	AA.width=u.width
	AE.height=v.height=AD.height
	AE.width=v.width=AD.width
	AE.top=v.top=AD.top
	AE.left=v.left=AD.left
	if(AD["z-index"]!==undefined){AE.zIndex=v.zIndex=AD["z-index"]
	}AC=this.rightToolbar
	z(AC&&AC.children)
	if(AB.resize){AB.resize()
	}}}mstrmojo.DocResizablePortlet=mstrmojo.declare(mstrmojo.DocPortlet,null,{scriptClass:"mstrmojo.DocResizablePortlet",loadDataOnResize:false,_createFormats:function X(){this._super()
	var v=this.getFormats()
	var u=parseInt(this.defn.ds,10)
	if(u===Y){v.normHeight=v.height
	v.normWidth=v.width
	if(v["z-index"]!==null&&v["z-index"]!==undefined){v.normZIndex=v["z-index"]
	}}if(u!==m){v.normTop=v.top
	v.normLeft=v.left
	}},onmaximize:function g(){var x=this.parent,AB=this.content,AA=AB&&AB.getFormats(),w=this.getFormats(),v=w.height,u=w.width,z=mstrmojo._Formattable.getBorderWidths(this)
	this.clearCache()
	AB.clearCache()
	w.height=(parseInt(x.getHeight(),10)-z.h)+n
	AA.height=this._ts.getContentHeight(w.height,w)
	w.width=AA.width=(x.getWidth()-z.w)+n
	w.top=w.left=0
	w["z-index"]=x.getMaxZIndex()+1
	c.call(this,m,v,u)
	},onminimize:function d(){var AA=this.content,v=AA.dimNode||AA.domNode,z=AA&&AA.getFormats(),x=this.getFormats(),w=x.height||v.offsetHeight,u=x.width
	this.clearCache()
	AA.clearCache()
	x.width=z.width=x.normWidth
	x.top=x.normTop
	x.left=x.normLeft
	if(x.normZIndex!==null&&x.normZIndex!==undefined){x["z-index"]=x.normZIndex
	}z.height=0
	x.height=this._ts.getPortletMinHeight(x)
	c.call(this,O,w,u)
	},onrestore:function S(){var z=this.content,x=z&&z.getFormats(),w=this.getFormats(),v=w.height,u=w.width
	this.clearCache()
	z.clearCache()
	w.height=w.normHeight
	x.height=this._ts.getContentHeight(w.height,w)
	w.width=x.width=w.normWidth
	w.top=w.normTop
	w.left=w.normLeft
	if(w.normZIndex!==null&&w.normZIndex!==undefined){w["z-index"]=w.normZIndex
	}c.call(this,Y,v,u)
	},changeWindowState:function I(x){N.call(this,x)
	var v=this.content,z=o.call(v,x),u=v.model.docModel||v.model
	return u.getUnitFormatAction(v,1,z)
	},oncollapse:function W(u){c.call(this,O,undefined,undefined,u)
	},onexpand:function D(u){c.call(this,Y,undefined,undefined,u)
	},adjustFP:function j(){var v=(parseInt(this.defn.ds,10)===Y)
	this.content.set("visible",v)
	this.updateContentHeight(!v)
	var u=this.parent
	if(u.refreshFP){u.refreshFP()
	}},postBuildRendering:function a(){if(!this._sub_dsChange){this._sub_dsChange=this.defn.attachEventListener("dsChange",this.id,U)
	}this._super()
	if(this.isInFilterPanel()){var u=(parseInt(this.defn.ds,10)===Y)
	this.updateContentHeight(!u)
	}}})
	mstrmojo.DocPortlet.ST_RESTORE=Y
	mstrmojo.DocPortlet.ST_MAX=m
	mstrmojo.DocPortlet.ST_MIN=O
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.TabContainer")
	mstrmojo.TabListContainer=mstrmojo.declare(mstrmojo.TabContainer,null,{scriptClass:"mstrmojo.TabListContainer",markupString:'<table id="{@id}" class="mstrmojo-tabcontainer {@cssClass}"><tr><td class="mstrmojo-tabcontainer-tabs {@listCssClass}"></td><td class="mstrmojo-tabcontainer-stack {@containerCssClass}"></td><td class="{@bottomCssClass}"></td></tr></table>',markupSlots:{top:function(){return this.domNode.firstChild.childNodes[0].childNodes[0]
	},stack:function(){return this.domNode.firstChild.childNodes[0].childNodes[1]
	},containerNode:function(){return this.domNode.firstChild.childNodes[0].childNodes[1]
	},bottom:function(){return this.domNode.firstChild.childNodes[0].childNodes[2]
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.TimePicker","mstrmojo._IsInputControl")
	var A=2,B=mstrmojo.date
	mstrmojo.TimePickerDIC=mstrmojo.declare(mstrmojo.TimePicker,[mstrmojo._IsInputControl],{scriptClass:"mstrmojo.TimePickerDIC",popupStyle:2,init:function(C){if(this._super){this._super(C)
	}this.set("interval",this.dic.itv)
	this.set("active",A)
	},getCurValue:function(){if(this.dic.dt==mstrmojo.expr.DTP.TIMESTAMP){var F=B.parseDateAndOrTime(this.value),G=F&&F.time,D=F&&F.date,C,E
	if(G&&!D){C=B.parseDateAndOrTime(this.lv),D=C&&C.date
	if(!D){E=new Date()
	D={day:E.getDate(),month:E.getMonth()+1,year:E.getFullYear()}
	}return B.formatDateInfo(D,mstrmojo.locales.datetime.DATEOUTPUTFORMAT)+" "+B.formatTimeInfo(G,mstrmojo.locales.datetime.TIMEOUTPUTFORMAT)
	}}return this.value
	},handleDisable:function(){return false
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.Container","mstrmojo.Box","mstrmojo.List","mstrmojo.SearchBox2","mstrmojo.WaitIcon","mstrmojo.IncFetch")
	var A=mstrmojo.array,B=mstrmojo.hash
	mstrmojo.ElementsBrowser=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.ElementsBrowser",cssClass:"mstrmojo-ElementBrowser",rootCached:null,attributeID:null,onOK:null,onUpdateBrowseElementsParams:mstrmojo.emptyFn,init:function(C){this._super(C)
	this.rootCached={}
	},postBuildRendering:function(){if(this._super){this._super()
	}var E=this.ebIncFetch,C=this.ebSearchBox,D=this.ebList
	E.attachEventListener("fetch",C.id,function(F){E.cp=F.v
	E.children=null
	E.refresh()
	this.fetchPage(F.v-1)
	})
	C.attachEventListener("ifsChange",E.id,function(F){var G=this.np
	B.copy(F.value,this)
	if(this.np>1){this.children=null
	this.refresh()
	}if(G<=1&&this.np>1||G>1&&this.np<=1||G===0&&this.np>0){this.set("visible",this.np>1)
	}})
	C.attachEventListener("itemsChange",D.id,function(F){this.set("items",F.value||[])
	})
	},initBrowser:function(){var C=this.ebSearchBox,D=this.attributeID
	C.set("rootID",D)
	C.clear()
	C.searchPattern=""
	if(D&&!this.rootCached[D]){C.set("items",[])
	C.blockBegin=1
	C.fetch()
	this.rootCached[D]=true
	}else{if(D){C._notifyContentWidget(C.searchCache[D][D])
	this.ebList.updateSelections()
	}}},children:[{alias:"ebSearchBox",scriptClass:"mstrmojo.SearchBox2",cssClass:"mstrmojo-ElementsBrowser-SearchBox",taskId:"browseElements",quickSearch:true,getRootID:function(){this.rootID=this.parent.attributeID
	},onUpdateSearchParams:function(C){this.parent.onUpdateBrowseElementsParams(C)
	}},{alias:"ebList",scriptClass:"mstrmojo.List",cssClass:"mstrmojo-ELementsBrowser-List",itemIdField:"v",allowUnlistedValues:false,itemMarkup:'<div class="mstrmojo-bullet"><div class="mstrmojo-ebIcons ae"><div class="mstrmojo-text">{@en@n}</div></div></div>',updateSelections:function(){var C=this.parent,D=C.selectedItems
	if(D){this.initializing=true
	this.clearSelect(false)
	this.setSelectedItems(D,false)
	this.initializing=false
	}},onitemsChange:function(){this.updateSelections()
	},onchange:function(N){if(this.initializing){return 
	}var I=this.items,J=this.parent,D=J.selectedItems,G,M
	for(var H=0,C=N.removed,L=C&&C.length
	H<L
	H++){G=I[C[H]]
	M=A.find(D,this.itemIdField,G[this.itemIdField])
	if(M>-1){D.splice(M,1)
	}}for(var F=0,K=N.added,E=K&&K.length
	F<E
	F++){G=B.clone(I[K[F]])
	D.push(G)
	}},multiSelect:true,selectionPolicy:"toggle"},{alias:"ebIncFetch",scriptClass:"mstrmojo.IncFetch",cssClass:"mstrmojo-ElementsBrowser-IncFetch",height:"20px",np:0,cp:0,ds:{f:mstrmojo.desc(4046,"First"),p:mstrmojo.desc(1058,"Previous"),n:mstrmojo.desc(1059,"Next"),l:mstrmojo.desc(4049,"Last"),pgs:mstrmojo.desc(5972,"## of ### pages"),gt:mstrmojo.desc(5878,"Go to:"),v:mstrmojo.desc(6079,"This field should be # between ## and ###.")},onvisibleChange:function(C){this.domNode.style.display=C.value?"block":"none"
	}}]})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash","mstrmojo.Box","mstrmojo.array","mstrmojo._HasLayout","mstrmojo.ui.ColumnContainer")
	var E=mstrmojo.dom,G=mstrmojo.hash,C=mstrmojo.array
	mstrmojo.ui.ColumnWalk=mstrmojo.declare(mstrmojo.Box,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.ui.ColumnWalk",markupString:'<div id="{@id}" class="mstrmojo-ui-ColumnWalk cf {@cssClass}" mstrAttach:click></div>',layoutConfig:{h:{containerNode:"100%"},xt:true},currentColumn:-1,addNextColumn:function B(K){var J=this.children||[],L=J.length,I=J[L-1]
	var M=this.addChildren([G.copy(K,{scriptClass:"mstrmojo.ui.ColumnContainer",idx:L})])[0]
	if(I){I.set("next",M)
	}},onclick:function A(I){var K=I.getTarget()
	if(K){var J=this.children
	C.forEach(J,function(M,L){if(E.contains(M.domNode,K,true,M.domNode)){this.set("currentColumn",L)
	}},this)
	}},oncurrentColumnChange:function D(I){var K=this.children,M=K[I.valueWas],J=K[this.currentColumn],L="active"
	if(M){M.set(L,false)
	}J.set(L,true)
	},removeTrailingContainer:function H(K){var J=this,I=this.children
	if(!I||K>=I.length-1){return 
	}C.forEach(I.slice(K+1),function(L){J.removeAndDestroyChild(L)
	})
	if(K>=0){I[K].set("next",null)
	}},insertAndRemoveTrailing:function F(J,I){this.removeTrailingContainer(J)
	this.addNextColumn(I)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.rw.VisFilterIndicator")
	mstrmojo.vi.ui.rw._HasVisFilterIndicator=mstrmojo.provide("mstrmojo.vi.ui.rw._HasVisFilterIndicator",{displayVisFilterIndicator:function B(){if(mstrApp.isInVFConfigMode){var D=this.parent,E=D&&D.isIndicatorDisplayed,C
	if(E){return 
	}C=new mstrmojo.vi.ui.rw.VisFilterIndicator({unitContainer:this})
	C.render()
	this.indicator=C
	D.isIndicatorDisplayed=true
	}},updateVisFilterIndicator:function A(){var C=this.indicator
	if(mstrApp.isInVFConfigMode&&C){C.updateDimension()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.fx","mstrmojo.Dialog","mstrmojo.Label","mstrmojo._IsPopup","mstrmojo._HasPopup","mstrmojo._IsMovable","mstrmojo.ui._HasUITheme","mstrmojo.Button","mstrmojo.dom","mstrmojo.hash","mstrmojo.array","mstrmojo.tooltip","mstrmojo.ui.editors.ErrorDialogContent","mstrmojo.vi.ui.rw._SupportTabNav","mstrmojo.vi.util.A11yUtility","mstrmojo.ui.editors.LinkErrorDialogContent")
	var o=mstrmojo.func.composite,N=mstrmojo.dom,e=mstrmojo.Button.newWebButton,E=mstrmojo.css,d=mstrmojo.all,O=mstrmojo.hash,b=mstrmojo.array,g=mstrmojo.vi.util.A11yUtility
	function a(w){if(!this.modal){return 
	}var x=window.mstrApp
	if(x&&x.modalEditorChange){x.modalEditorChange(this.id,w)
	}}mstrmojo.Editor=mstrmojo.declare(mstrmojo.Dialog,[mstrmojo._IsPopup,mstrmojo._HasPopup,mstrmojo._IsMovable,mstrmojo.ui._HasUITheme,mstrmojo.vi.ui.rw._SupportTabNav],{scriptClass:"mstrmojo.Editor",title:"",allowHTMLTitle:false,help:"",autoClose:false,showTitle:true,openEffect:null,themeClassName:"mojo-theme-light",useRichTooltip:true,closeEffect:null,onEditorResized:null,previousActiveElement:null,focusOnOpen:false,useBrowserTab:false,firstTabNode:null,lastTabNode:null,markupString:'<div id="{@id}" class="mstrmojo-Editor-wrapper"><div class="mstrmojo-Editor {@cssClass}" tabindex="-1" style="z-index:{@zIndex}
	{@cssText}" mstrAttach:mouseup,mousedown,click,contextmenu,keydown>{@titlebarHTML}<div class="mstrmojo-Editor-content"></div><div class="mstrmojo-Editor-buttons"></div></div><div class="mstrmojo-Editor-curtain"></div></div>',titleMarkupString:'<div class="mstrmojo-Editor-title-container"><div class="mstrmojo-Editor-title"></div><div class="edt-title-btn mstrmojo-Editor-help" tooltip="'+mstrmojo.desc(1143,"help")+'"></div><div class="edt-title-btn mstrmojo-Editor-close" tooltip="'+mstrmojo.desc(2102,"Close")+'"></div></div><div class="mstrmojo-Editor-titleSpacer"></div>',markupSlots:{editorNode:function c(){return this.domNode.firstChild
	},titleContainerNode:function p(){return this.domNode.firstChild.firstChild
	},titlebarNode:function r(){return this.showTitle?this.domNode.firstChild.firstChild.firstChild:null
	},titleNode:function W(){return this.showTitle?this.domNode.firstChild.firstChild.firstChild:null
	},helpNode:function t(){return this.showTitle?this.domNode.firstChild.firstChild.children[1]:null
	},closeNode:function F(){return this.showTitle?this.domNode.firstChild.firstChild.lastChild:null
	},containerNode:function X(){return this.domNode.firstChild.childNodes[2]
	},buttonNode:function J(){return this.domNode.firstChild.childNodes[3]
	},curtainNode:function u(){return this.domNode.lastChild
	}},markupMethods:{ontitleChange:function(){if(this.showTitle){this.titleNode.innerHTML=this.allowHTMLTitle?this.title:mstrmojo.string.encodeHtmlString(this.title)
	}},onzIndexChange:function(){var w=this.zIndex
	this.editorNode.style.zIndex=w
	this.curtainNode.style.zIndex=w-1
	},onvisibleChange:function(AB){if(AB){return 
	}var AA=this.visible,z="closeEffect",x="none"
	if(AA){z="openEffect"
	x="block"
	if(this.useBrowserTab){var w=Array.from(this.editorNode.querySelectorAll("button, [href], input, select, textarea, [tabIndex]"))
	w=w.filter(function(AC){return AC.tabIndex!==-1
	})
	this.firstTabNode=w[0]
	this.lastTabNode=w[w.length-1]
	}if(this.focusOnOpen){window.setTimeout(function(){this.editorNode.focus()
	}.bind(this),0)
	this.previousActiveElement=document.activeElement
	}}else{if(this.previousActiveElement!==null){if(this.focusOnOpen){window.setTimeout(function(){this.previousActiveElement.focus()
	this.previousActiveElement=null
	}.bind(this),0)
	}}}if(this[z]){this.playEffect(z)
	}else{this.editorNode.style.display=x
	if(this.modal){this.curtainNode.style.display=x
	}}},onhelpChange:function k(){if(this.showTitle){var x=this.help,w=this.helpNode
	if(!x){w.style.display="none"
	}else{w.style.display="block"
	}}},onleftChange:function G(){this.editorNode.style.left=this.left||""
	},ontopChange:function I(){this.editorNode.style.top=this.top||""
	}},open:function U(x,w){this._super(x,w)
	a.call(this,true)
	},close:function m(w){this._super(w)
	a.call(this,false)
	},unrender:function C(w){this._super(w)
	a.call(this,false)
	},destroy:function n(w){this._super(w)
	a.call(this,false)
	},preBuildRendering:function A(){if(!this.slot&&!this.placeholder){this.placeholder=document.body.appendChild(document.createElement("div"))
	this._curtain_to_body=true
	a.call(this,true)
	}this.titlebarHTML=(this.showTitle)?this.titleMarkupString:"<div></div><div></div>"
	return this._super()
	},postBuildRendering:function Q(){this._super()
	if(this.accessibilityHook){this.accessibilityHook()
	}},getMovingHandle:function q(){return this.titlebarNode
	},getMovingTarget:function Z(){return this.editorNode
	},onPreClose:function H(){this.hideTooltip()
	return true
	},premousedown:function S(w){var x=w.getTarget()
	if(x===this.closeNode||x===this.helpNode){E.toggleClass(x,"active",true)
	}},premouseup:function R(w){var x=w.getTarget()
	if(x===this.closeNode||x===this.helpNode){E.toggleClass(x,"active",false)
	}if(w.getTarget()===this.closeNode&&this.onPreClose()){this.close()
	}},onclick:function j(w){if(w.getTarget()===this.helpNode){if(mstrApp.showHelpTopic){mstrApp.showHelpTopic(this.help)
	}else{var x=(mstrApp.isWorkstationPlugin?((mstrApp.helpUrl||"../help/")+"WebHelp/Lang_"+(mstrApp.helpLocaleId||mstrApp.localeId)+"/Content/"):mstrmojo.helpPath())+(this.help||"")
	if(typeof workstation!=="undefined"&&mstrApp.openHelpLink){mstrApp.openHelpLink(x)
	}else{window.open(x,"_blank")
	}return false
	}}},onkeydown:function P(w){if(!this.enableAccessibility){if(this.useBrowserTab&&(document.activeElement===this.lastTabNode)&&(w.e.key==="Tab")){window.setTimeout(function(){this.firstTabNode.focus()
	}.bind(this),0)
	w.cancel()
	w.preventDefault()
	}return 
	}this.handleTab(w)
	if(!this.exitByKeyBoard){return 
	}var z=w.e,x=z.keyCode
	if(x===mstrmojo.Enum_Keys.ESCAPE){this.exitByKeyBoard(w)
	w.cancel()
	w.preventDefault()
	}},suppressClose:function(){return false
	},_set_visible:function h(AC,z){var x=(this[AC]!==z)
	if(x){this[AC]=z
	var AB=this._close_handler
	if(z){if(this._curtain_to_body){this.resizeDialog()
	this.positionDialog()
	}if(this.autoClose){var AA=this
	AB=this._close_handler=AB||function(AD){var AE=N.eventTarget(self,AD)
	if(!AA.suppressClose()&&AE&&AE.parentNode&&!N.contains(AA.editorNode,AE,true,document.body)){AA.close()
	}}
	N.attachEvent(document.body,"mousedown",AB)
	}}else{var w=this._curtain_handler
	if(w){N.detachEvent(window,"resize",w)
	}if(AB){N.detachEvent(document.body,"mousedown",AB)
	}}}return x
	},showTooltip:function v(AC,AB){var AA=this,x=N.findAncestorByAttr(N.eventTarget(AB,AC),"tooltip",true,this.domNode),z=x&&x.value
	if(!AA.hasOpenTooltip&&z){var w=N.position(x.node)
	AA.richTooltip={cssClass:"vi-regular A-center vi-tooltip-A",content:z,top:Math.max(w.y+40,0),left:Math.max(w.x+4,0),posType:mstrmojo.tooltip.POS_TOPCENTER}
	this._super(AC,AB)
	}}})
	mstrmojo.Editor.openEffect_fadeIn={scriptClass:"mstrmojo.fx.AnimateProp",slot:"curtainNode",props:{backgroundColor:{start:255,stop:0,fn:function(w){w=Math.round(w)
	return["rgb(",w,",",w,",",w,")"].join("")
	}}},preStart:function(){var x=this.target,w=this.widget
	w.editorNode.style.display="block"
	if(!w.modal){return false
	}x.style.display="block"
	E.setOpacity(x,60)
	return true
	}}
	mstrmojo.Editor.closeEffect_fadeOut={scriptClass:"mstrmojo.fx.FadeOut",slot:"curtainNode",start:0.6,stop:0,preStart:function(){var w=this.widget
	w.editorNode.style.display="none"
	return !!w.modal
	}}
	function D(w){return function(){d[w].destroy()
	}
	}function K(x,AF,AG,AH){var w=AF.id||"mojoAlertx9",AC,AE=AF.buttons
	b.forEach(AE,function(AJ){var AI=AJ.onclick
	AJ.onclick=function(AK){var AL=d[w]
	if(AI&&AI.call(AJ,AK)===false){return 
	}AL.destroy()
	if(AF.enableAccessibility&&AF.navMode&&AF.docModel){AF.docModel.raiseEvent({name:"dialogClosed",dialogName:"exportPDF",needFocus:g.isKeyBoardEvent(AK.e)})
	}AL=null
	}
	})
	try{!!d[w]&&d[w].destroy()
	}catch(AD){}var z=AF.cssClass,AA=[]
	if(z){AA.push(z)
	delete AF.cssClass
	}if(AH){AA.push(AH)
	}AA.push("mstrmojo-alert")
	AC={scriptClass:"mstrmojo.Editor",id:w,width:"475px",zIndex:1000,title:AG||mstrmojo.desc(11812,"Notification"),cssClass:AA.join(" "),children:[{scriptClass:"mstrmojo.Box",cssClass:AF.boxCSS||"alert-content",children:[{scriptClass:"mstrmojo.Label",text:x,arialLabel:AF.arialLabel,allowHTML:AF.allowHTML}]}],visible:true}
	var AB=new mstrmojo.Editor(O.copy(AF,AC))
	AB.render()
	return AB
	}if(window.mstrConfig&&!window.mstrConfig.simpleDialog){mstrmojo.notify=function M(x,AE,z){z=z||{}
	var AF=z.forceClose,AD=z.callback||mstrmojo.emptyFn,AC=O.copy(AE||{},{buttons:AF?[mstrmojo.Button.newActionButton((z.buttonText||mstrmojo.desc(8607,"Dismiss")),AD)]:null,showTitle:false,modal:false,top:"42px"}),AA=z.duration||6000
	var AB=K(x,AC,"",AF?"ed-notify":"ed-toast"),w=AB.id
	if(!AF){window.setTimeout(o([AD,D(w)]),AA)
	}else{window.setTimeout(function(){if(d[w]){d[w].editorNode.style.opacity=0.75
	}},6000)
	}return AB
	}
	mstrmojo.confirm=function l(w,AD,AF){AD=AD||{}
	var z=AD.confirmBtn||{},AC=AD.cancelBtn||{},AE=z.hot!==false,x=!!AC.hot,AB=AF&&AF.title,AA=[e(z.t||mstrmojo.desc(219,"Yes"),z.fn,AE,z.cfg),e(AC.t||mstrmojo.desc(218,"No"),AC.fn,x,AC.cfg)]
	return K(w,O.copy(AF||{},{buttons:AA,onPreClose:function(){if(AC&&AC.fn){AC.fn()
	}return true
	}}),AB,[])
	}
	mstrmojo.warn=function L(z,w,x){x=x||{}
	x.cssClass=(x.cssClass||"")+" mstrmojo-warning"
	return mstrmojo.confirm(z,w,x)
	}
	mstrmojo.alert=function f(AC,z,AB,AD,w,AA){var x={title:AB||mstrmojo.desc(12405,"Alert"),zIndex:AD,cssClass:w,buttons:[e(mstrmojo.desc(1442,"OK"),z,true)],onPreClose:function(){if(z){z()
	}return true
	}}
	O.forEach(x,function(AF,AE){if(!AF){delete x[AE]
	}})
	return K(AC,O.copy(AA,x),AB,[])
	}
	mstrmojo.error=function Y(AC,x,AB){var z=AC||{}
	var AA=mstrmojo.desc(96,"Error")
	var w=true
	if(AB){AA=(AB.title)?AB.title:mstrmojo.desc(96,"Error")
	AB.title=AA
	if(AB.enableContactStr===false){w=false
	}}K("",O.copy(AB||{},{buttons:[e(mstrmojo.desc(1442,"OK"),x,true)],children:[{scriptClass:"mstrmojo.ui.editors.ErrorDialogContent",shortDesc:z.shortDesc,longDesc:z.longDesc,showToggle:!!(z.longDesc),enableContactStr:w,allowHTML:!!(AB&&AB.allowHTML===true)}]}),AA,[])
	}
	mstrmojo.linkError=function B(AB,w,AA){var x=AB||{}
	var z=mstrmojo.desc(11812,"Notification")
	if(AA){z=AA.title||z
	AA.title=z
	}return K("",O.copy(AA||{},{buttons:[e(mstrmojo.desc(1442,"OK"),w,true)],children:[{scriptClass:"mstrmojo.ui.editors.LinkErrorDialogContent",shortDesc:x.shortDesc,longDesc:x.longDesc,shortLinkMsg:x.shortLinkMsg,shortLinkFn:x.shortLinkFn,longLinkMsg:x.longLinkMsg,longLinkFn:x.longLinkFn,showToggle:!!(x.longDesc),allowHTML:true}]}),z,[])
	}
	}mstrmojo.Editor.ButtonConfigType=null
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.TableLayoutList","mstrmojo.array")
	var A=mstrmojo.array
	mstrmojo._IsTableLayoutListDIC=mstrmojo.provide("mstrmojo._IsTableLayoutListDIC",{_mixinName:"mstrmojo._IsTableLayoutListDIC",icnCss:"dicContainer",tableLayoutCssStyle:"fixed",setDirtyFlag:function(E,D){if(E.className!=="flag-container"){var C=document.createElement("div"),B=this.itemsNode&&this.itemsNode.clientWidth-8
	C.className="flag-container"
	C.style.left=(B>0?B:0)+"px"
	C.innerHTML='<div class="dirty-cell"/>'
	D.insertBefore(C,E)
	}},zoomStyle:function(E,D,C,B){if(E!==1){A.forEach(D,function(H){H.style.cssText=""
	var J=window.getComputedStyle(H,null),I=J.getPropertyValue("width"),G=J.getPropertyValue("height"),F=J.getPropertyValue("background-position-x"),K=J.getPropertyValue("background-position-y")
	if(I&&G&&F&&K){H.style.width=parseFloat(I)*E+"px"
	H.style.height=parseFloat(G)*E+"px"
	H.style.backgroundPositionX=parseFloat(F)*E+"px"
	H.style.backgroundPositionY=parseFloat(K)*E+"px"
	H.style.backgroundSize=C*E+"px "+B*E+"px"
	}})
	}},zoomBackground:function(C,B){if(C!==1){A.forEach(B,function(E){E.style.backgroundPositionX=""
	E.style.backgroundPositionY=""
	var F=window.getComputedStyle(E,null),D=F.getPropertyValue("background-position-x"),G=F.getPropertyValue("background-position-y")
	if(D&&G){E.style.backgroundPositionX=parseFloat(D)*C+"px"
	E.style.backgroundPositionY=parseFloat(G)*C+"px"
	}})
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocLayout")
	function F(P){var N=-1,O=P.children,M,L,K,I,J=[],H=function(){var R
	for(R in J){var Q=J[R]
	if(Q._fixedHeight!==N){Q._fixedHeight=N
	if(Q.domNode){Q.domNode.style.height=N+"px"
	}}}N=-1
	J=[]
	}
	for(L in O){M=O[L]
	if(M&&M.node&&M.node.data&&M.node.data.bh&&N>-1){H()
	}if(M&&M.defn&&M.defn.horiz){for(K in M.children){I=M.children[K]
	N=Math.max(I._fixedHeight||0,N)
	J[J.length]=I
	}}}H()
	}mstrmojo.DocLayoutHoriz=mstrmojo.declare(mstrmojo.DocLayout,null,{scriptClass:"mstrmojo.DocLayoutHoriz",markupString:'<div id="{@id}"><div class="mstrmojo-DocLayout {@cssClass}" style="{@domNodeCssText}"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	}},getWidth:function A(){return this.containerNode.offsetWidth
	},getHeight:function G(){return this.containerNode.offsetHeight
	},_renderSection:function C(L,I){if(L.node.data.bh||(L.defn.horiz&&!this._horizOpen)){this._horizOpen=true
	var M=document.createElement("div")
	M.className="mstrmojo-DocLayout-HBox"
	var J=document.createElement("table")
	J.className="mstrmojo-DocLayout-HBox-HorizContainerTable"
	this._hRow=J.insertRow(-1)
	M.appendChild(J)
	this.containerNode.appendChild(M)
	}if(L.defn.horiz){var H="hi"+I
	L.slot=H
	var N=this._hRow.insertCell(-1)
	N.vAlign="top"
	var K={}
	K[H]=N
	this.addSlots(K)
	}else{if(this._horizOpen){this._horizOpen=false
	}}this._super(L,I)
	},getLayoutMinWidth:function B(){var I=0,Q=0,J=this.children,P=J.length,N,M
	for(N=0
	N<P
	N++){var O=J[N],L=O&&O.node,H=L&&L.data,K=H&&(String(H.bh)==="true"||String(H.bv)==="true")
	if(K){I=Math.max(I,Q)
	Q=0
	}if(O.children){for(M in O.children){Q+=O.children[M].getWidth()
	}}else{Q+=10
	break
	}}return Math.max(I,Q)
	},resizeOrReposition:function E(){if(this._super){this._super()
	}F(this)
	},renderCtrlsInViewport:function D(){this._super()
	F(this)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.ui.pathbar.PathPopup","mstrmojo.mstr._RecentObjectsHelper","mstrmojo.dom","mstrmojo.util.LibraryHelper")
	function D(O,J){var F=[],I,G=1
	F[0]={name:mstrmojo.desc(8661,"All Projects"),href:mstrApp.name+"?evt=3001&src="+mstrApp.name+".3001",isSpecial:true}
	if(mstrApp.projectsList&&mstrApp.projectsList.projects){var H=mstrApp.projectsList.projects
	for(I=0
	I<H.length
	I++){F[G++]=H[I]
	}}var P
	O.addDisposable(P=new mstrmojo.ui.pathbar.PathPopup({id:"mstrProjectsGenPopup",cssClass:"mstrShortcutsListPopup",targetNode:J,children:[{scriptClass:"mstrmojo.ui.pathbar.ScrollableList",alias:"menuItems",useRichTooltip:true,items:F,preclick:function L(){this.parent.close()
	},getItemMarkup:function(Q){if(Q.isSpecial){if(this.items.length===1){Q.cssText="border-bottom: none
	"
	}return'<span id="allProjectsItem" class="item mstrMenuItem {@itemCls}" style="{@cssText}"><a class="mstrLink project{@idx}" href="{@href}" idx="{@idx}" style="width:100%
	">{@en@displayName}</a></span>'
	}return'<span class="item mstrMenuItem {@itemCls}" style="{@cssText}"><a class="mstrLink project{@idx}" href="{@href}" idx="{@idx}" style="width:100%
	"><div class="projectName">{@en@displayName}</div>  <div class="serverName">{@srvrName}</div></a></span>'
	},getItemProps:function N(S,Q){var R=!!S.selected
	return{sel:R,itemCls:"mstr-project-item",cssText:S.cssText||"",cls:R?"selected":"",newGroup:!!S.grp?"grp":"",displayName:S.alias||S.name,idx:Q,href:S.href||mstrApp.name+"?evt=3010&src="+mstrApp.name+".3010&Port="+encodeURIComponent(S.port)+"&Project="+encodeURIComponent(S.name)+"&Server="+encodeURIComponent(S.server),srvrName:S.server,target:S.target||"_self"}
	},getTooltipText:function K(Q){if(Q&&!Q.isSpecial){$STR=mstrmojo.string
	return $STR.encodeHtmlString((Q.alias||Q.name))+"<br/>"+Q.server+"<br/>"+$STR.encodeHtmlString(Q.desc)
	}},onclick:function(Q){var S=function(){mstrmojo.dom.preventDefault(Q.hWin,Q.e)
	mstrmojo.dom.stopPropogation(Q.hWin,Q.e)
	}
	var R=Q.getTarget()
	if(!R.getAttribute("href")){R=R.parentElement
	}mstrmojo.form.sendLinkAsForm(R.href)
	S()
	return false
	}}],onvisibleChange:function(){if(this.visible){setTimeout(this.menuItems.updateScrollbars(),200)
	}},onClose:function M(){this.isOpen=false
	mstrmojo.css.toggleClass(this.targetNode,"opened",false)
	this.domNode.style.left=""
	}}))
	return P
	}function E(J,K){var I=this.handleRecentObjects()
	var L
	J.addDisposable(L=new mstrmojo.ui.pathbar.PathPopup({id:"mstrRecentsGenPopup",cssClass:"mstrShortcutsListPopup",targetNode:K,children:[{scriptClass:"mstrmojo.ui.pathbar.List",alias:"menuItems",items:I,preclick:function F(){this.parent.close()
	},getItemMarkup:function(O){var M=""
	if(mstrConfig.showPreviews){if(O.recoveryInfo!==undefined){var N=(O.recoveryInfo.imgData!==undefined)?"data:image/png
	base64,"+O.recoveryInfo.imgData:""
	if(N!==""){M='<img class = "img-preview" src = "'+N+'" height="200" width="250" style="z-index: 100
	position: absolute
	">'
	}}}return'<span class="item mstrMenuItem {@itemCls}" style="{@cssText}"><span class="{@iconCls}"></span><a class="mstrLink" href="{@href}"><div>{@n}</div>'+M+"</a></span>"
	},getItemProps:function H(P,M){var O=!!P.selected,Q=mstrmojo.dom.windowDim(),N=(mstrApp&&mstrApp.optimizeFitToPage)?"&innerWidth="+Q.w+"&innerHeight="+Q.h:""
	return{sel:O,iconCls:P.iconClass,itemCls:P.itemClass,cssText:P.cssText||"",cls:O?"selected":"",newGroup:!!P.grp?"grp":"",n:P.recoveryName,idx:M,href:P.recoveryURL+N,name:P.recoveryName,target:P.target||"_self"}
	},onclick:function(M){var O=function(){mstrmojo.dom.preventDefault(M.hWin,M.e)
	mstrmojo.dom.stopPropogation(M.hWin,M.e)
	}
	var N=M.getTarget()
	if(N.getAttribute("href")){mstrmojo.form.sendLinkAsForm(N.href)
	}else{mstrmojo.form.sendLinkAsForm(N.parentElement.href)
	}O()
	return false
	}}],onClose:function G(){this.isOpen=false
	mstrmojo.css.toggleClass(this.targetNode,"opened",false)
	this.domNode.style.left=""
	}}))
	return L
	}function A(){var L=this
	this.addDisposable(this.popup=new mstrmojo.ui.pathbar.PathPopup({id:"mstrSCList",cssClass:"mstrShortcutsListPopup",targetNode:this.domNode,offsetTop:2,recentsPopup:null,children:[{scriptClass:"mstrmojo.ui.pathbar.List",alias:"menuItems",preclick:function F(M){var N=M.getTarget()
	if(N.getAttribute("name")!=="recentObjects"&&N.getAttribute("name")!=="projects"){this.parent.close()
	}},handleMouseOver:function I(M,N){var O=M.getTarget(),Q=this.parent.projectsPopup,P=this.parent.recentsPopup
	if(O.getAttribute("name")=="recentObjects"){if(Q!=null){Q.close()
	}this.handleClick(M,N)
	}else{if(O.getAttribute("name")=="projects"){if(P!=null){P.close()
	}this.handleClick(M,N)
	}else{if(P!=null){P.close()
	}if(Q!=null){Q.close()
	}}}return false
	},handleClick:function G(N,O){var P=N.getTarget()
	var M=this.parent
	if(P.getAttribute("name")=="recentObjects"){if(P.nodeName==="SPAN"){P=P.parentNode
	}if(M.recentsPopup==null){M.recentsPopup=E.call(L,M,P)
	}this.openHelper(P,M.recentsPopup)
	return true
	}else{if(P.getAttribute("name")=="projects"){if(P.nodeName==="SPAN"){P=P.parentNode
	}if(M.projectsPopup==null){this.loadProjects(P)
	}else{this.openHelper(P,M.projectsPopup)
	}return true
	}else{if(P.getAttribute("name")=="dossierLibrary"){mstrmojo.util.LibraryHelper.createTokenAndOpenLink(O.href)
	return true
	}}}return false
	},openHelper:function K(N,O){O.autoPosition=false
	var M=N.getBoundingClientRect()
	if(!O.isOpen){O.offsetTop=M.top-M.bottom
	O.offsetLeft=this.domNode.clientWidth-M.left
	O.open()
	}},loadProjects:function J(O){var N=this
	var M=N.parent
	if(!mstrApp.projectsList){mstrApp.showWait()
	mstrApp.serverProxy.request({success:function(P){if(P){mstrApp.projectsList=P
	M.projectsPopup=D.call(L,M,O)
	N.openHelper(O,M.projectsPopup)
	}},complete:function(){mstrApp.hideWait(true)
	}},{taskId:"getProjectsInfo",sort:true},false,{})
	}else{M.projectsPopup=D.call(L,M,O)
	N.openHelper(O,M.projectsPopup)
	}},items:mstrApp.pathInfo.sb,getItemMarkup:function(N){var M="{@cls}"
	if(N.name==="recentObjects"||N.name==="projects"){M=""
	}return'<a name="{@name}" class="item {@name} '+M+' {@newGroup}" idx="{@idx}" mstreventmark="dynamicClickNode" mstrevent="click" onclick="{@onclick}" href="#" target="{@target}"><span name="{@name}" class="icon"></span><span name="{@name}">{@n}</span></a>'
	},getItemProps:function H(O,M){var N=!!O.selected
	return{sel:N,cls:N?"selected":"",newGroup:!!O.grp?"grp":"",n:O.n,idx:M,href:O.href,name:O.name,onclick:O.onclick||"return true",target:O.target||"_self"}
	}}]}))
	}mstrmojo.ui.pathbar.PathStarBurst=mstrmojo.declare(mstrmojo.Widget,[mstrmojo.mstr._RecentObjectsHelper],{scriptClass:"mstrmojo.ui.pathbar.PathStarBurst",markupString:'<a id="mstrStarburst {@id}" mstrAttach:click,mouseover,mouseout class="mstrLink" style="top:0"><div id="mstrLogo" class="mstrLogo path"></div><div id="mstrLogoMenu" class="mstrLogoMenu path mstrPullArrow"></div></a>',markupSlots:{logoNode:function(){return this.domNode.children[0]
	},logoMenuNode:function(){return this.domNode.children[1]
	}},popup:null,postBuildRendering:function C(){A.call(this)
	this.domNode.setAttribute("href",mstrApp.name+"?evt=3010&src="+mstrApp.name+".3010")
	},onclick:function B(F){var G=function(){mstrmojo.dom.preventDefault(F.hWin,F.e)
	mstrmojo.dom.stopPropogation(F.hWin,F.e)
	}
	if(F.getTarget()===this.logoMenuNode){var H=this.popup
	if(!H.isOpen){H.open()
	}G()
	}else{mstrmojo.form.sendLinkAsForm(F.src.domNode.href)
	G()
	return false
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.ui.pathbar.PathPopup","mstrmojo.dom","mstrmojo.css")
	function D(){var N=this,J=N.domNode,L=false
	pos=mstrmojo.dom.position(N.targetNode),winDimension=mstrmojo.dom.windowDim()
	J.style.top=(pos.y+pos.h+N.offsetTop)+"px"
	var P=pos.x+pos.w,M=winDimension.w-P-J.offsetWidth
	if(P+J.offsetWidth>winDimension.w){M=winDimension.w-pos.x
	L=true
	if(M+J.offsetWidth>winDimension.w){M=0
	}}if(N.id==="mstrToolbarList"){if(L){M=M-pos.w*0.6
	}else{M=M+pos.w+6
	}}J.style.right=M+"px"
	N.set("visible",false)
	N.isOpen=true
	N.set("visible",true)
	var O=parseInt(J.style.top,10)
	if(O+J.offsetHeight>winDimension.h){var K=O-J.offsetHeight+pos.h
	J.style.top=(K>0?K:0)+"px"
	}mstrmojo.css.toggleClass(N.targetNode,"opened",true)
	}function B(){var J=this.popup,M=J.containerNode.childNodes[0].childNodes[0].childNodes[J.zoomChildIndex].lastChild,L=M.textContent||M.innerText,K=J.dc.view.zoomValue
	L=L.substr(0,L.indexOf("("))
	M.innerHTML=L+"("+K.n+")"
	}function C(N){var O=N.selectedItem
	if(O===null){return 
	}var S=N.containerNode.firstChild.firstChild,J=N.dc.view.zoomValue,Q=O.getAttribute("dssid")
	if(Q===J.dssid){return 
	}mstrmojo.css.removeClass(O,"selected")
	var M=S.childNodes,R=M.length,P=0,K=-1,L
	for(P=0
	P<R
	P++){L=M[P]
	if(L.getAttribute("dssid")===J.dssid){K=P
	break
	}}if(K===-1){var U=N.children[0]
	U.addItems([J])
	L=S.childNodes[U.items.length-1]
	}mstrmojo.css.addClass(L,"selected")
	N.selectedItem=L
	}function F(J,Q,M){var L
	Q.addDisposable(L=new mstrmojo.ui.pathbar.PathPopup({id:"mstrZoomPopup",cssClass:"mstrShortcutsListPopup",targetNode:M,dc:Q.dc,slectedIndex:-1,selectedItem:null,onOpen:function K(){D.call(this)
	},onClose:function P(){delete this.isOpen
	mstrmojo.css.toggleClass(this.targetNode,"opened",false)
	this.domNode.style.top="-10000px"
	},children:[{scriptClass:"mstrmojo.ui.pathbar.List",alias:"menuItems",preclick:function N(){this.parent.close()
	},items:J,getItemMarkup:function(){return'<a class="item {@cls}" dssid="{@dssid}"><span class="icon"></span><span>{@name}</span></a>'
	},getItemProps:function O(X,S){var U=X.dssid===this.parent.dc.view.zoomValue.dssid,W=""
	if(U){this.parent.selectedIndex=S
	W="selected"
	}return{cls:W,dssid:X.dssid,name:X.n}
	},onclick:function R(c){var b=this.parent,W=mstrmojo.dom.findAncestorByAttr(c.getTarget(),"dssid",true,b.domNode),a=W.node,Y=a.getAttribute("dssid"),U=b.targetNode.getAttribute("cmdid"),d=b.dc,S=d.view.zoomValue,X=S.dssid
	if(Y!==X){d[U](Y)
	var Z=b.targetNode.lastChild.textContent||b.targetNode.lastChild.innerText
	b.targetNode.lastChild.innerHTML=Z.replace(S.n,a.lastChild.textContent||a.lastChild.innerText)
	if(b.selectedItem===null){b.selectedItem=this.domNode.firstChild.childNodes[b.selectedIndex]
	}mstrmojo.css.removeClass(b.selectedItem,"selected")
	mstrmojo.css.addClass(a,"selected")
	b.selectedItem=a
	}}}]}))
	return L
	}function E(J,P,L){var Q
	P.addDisposable(Q=new mstrmojo.ui.pathbar.PathPopup({id:"mstrExportPopup",cssClass:"mstrShortcutsListPopup",targetNode:L,dc:P.dc,onOpen:function K(){D.call(this)
	},onClose:function O(){delete this.isOpen
	mstrmojo.css.toggleClass(this.targetNode,"opened",false)
	this.domNode.style.top="-10000px"
	},children:[{scriptClass:"mstrmojo.ui.pathbar.List",alias:"menuItems",preclick:function M(){this.parent.close()
	},items:J,getItemMarkup:function(){return'<a class="item" dssid="{@dssid}"><span class="icon" style="display:none
	"></span><span>{@name}</span></a>'
	},getItemProps:function N(S){return{cls:S.cssClass,dssid:S.dssid,name:S.n}
	},onclick:function R(U){var X=mstrmojo.dom.findAncestorByAttr(U.getTarget(),"dssid",true,this.parent.domNode),Y=X.node,W=parseInt(Y.getAttribute("dssid"),10),S=this.parent.dc
	S.exportCmd(W)
	}}]}))
	return Q
	}function G(){this.addDisposable(this.popup=new mstrmojo.ui.pathbar.PathPopup({id:"mstrToolbarList",cssClass:"mstrShortcutsListPopup",targetNode:this.domNode,offsetTop:0,zoomChildIndex:null,onOpen:function K(){D.call(this)
	},children:[{scriptClass:"mstrmojo.ui.pathbar.List",alias:"menuItems",items:mstrApp.pathInfo.tbModelData.n.items,getItemMarkup:function(){return'<a class="item {@cls}" cmdId="{@cmdid}" idx="{@idx}"><span class="icon" style="display:none
	"></span><span>{@name}</span></a>'
	},getItemProps:function M(R,O){var Q=!!R.selected,S=R.cmdid,P=R.tooltip||R.title||S
	if(S==="zoom"){P+=" ("+this.parent.dc.view.zoomValue.n+")"
	this.parent.zoomChildIndex=O
	}return{sel:Q,idx:O,cls:S,n:S,cmdid:S,name:P}
	},closePopup:function J(O){if(O){O.close()
	}},onmouseover:function N(S){var R=mstrmojo.dom.findAncestorByAttr(S.getTarget(),"cmdid",true,document.getElementById("mstrToolbarList")),U=R&&R.value,Q=this.parent,P=Q.exportPopup,O=Q.zoomPopup
	if(U==="export"){this.onclick(S,R)
	this.closePopup(O)
	}else{if(U==="zoom"){this.onclick(S,R)
	this.closePopup(P)
	}else{if(U){this.closePopup(P)
	this.closePopup(O)
	}}}return false
	},onclick:function L(P,U){P.cancel()
	var R=U||mstrmojo.dom.findAncestorByAttr(P.getTarget(),"cmdid",true,document.getElementById("mstrToolbarList")),X=R.node,a=X.getAttribute("idx"),Q=R&&R.value,Z=this.parent,b=Z.dc,O=[],Y=null
	if(Q==="export"){if(!Z.exportPopup){O=this.items[a].items
	Z.exportPopup=E(O,Z,X)
	}var W=Z.exportPopup
	W.autoPosition=false
	Y=X.getBoundingClientRect()
	if(!W.isOpen){W.offsetTop=-(Y.height||X.offsetHeight)
	W.open()
	}}else{if(Q==="zoom"){if(!Z.zoomPopup){O=this.items[a].items
	Z.zoomPopup=F(O,Z,X)
	}var S=Z.zoomPopup
	S.autoPosition=false
	Y=X.getBoundingClientRect()
	if(!S.isOpen){S.offsetTop=-(Y.height||X.offsetHeight)
	if(S.hasRendered){C.call(this,S)
	}S.open()
	}}else{if(b[Q]){b[Q]()
	Z.close()
	}}}}}]}))
	}mstrmojo.ui.pathbar.PathHamburger=mstrmojo.declare(mstrmojo.Widget,null,{userName:null,init:function I(J){this._super(J)
	},scriptClass:"mstrmojo.ui.pathbar.PathHamburger",markupString:'<div id="mstrHamburger" mstrAttach:click class="mstrHamburgerButton" style="top:0"><div class="mstrHamburger path"></div></div>',popup:null,postBuildRendering:function A(){G.call(this)
	},onclick:function H(){var J=this.popup
	if(!J.dc){J.dc=this.parent.dc
	}if(!J.isOpen){if(J.hasRendered){B.call(this)
	}J.open()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.ui.pathbar.PathPopup")
	function D(F){return(F!=="myPage")
	}function A(){this.addDisposable(this.popup=new mstrmojo.ui.pathbar.PathPopup({id:"mstrAccountSCList",cssClass:"mstrShortcutsListPopup mstrAccountSCListPopup",targetNode:this.domNode,offsetTop:0,children:[{scriptClass:"mstrmojo.ui.pathbar.List",alias:"menuItems",useRichTooltip:true,postclick:function H(){if(D(this.selectedItem.name)){this.parent.close()
	}},items:mstrApp.pathInfo.el,getTooltipText:function F(I){if(I&&I.name==="save"){return mstrmojo.desc("14684","Publish current layout as default layout for other users")
	}else{return null
	}},getItemMarkup:function(){return'<a class="item {@name} {@cls} {@newGroup}" idx="{@idx}" mstreventmark="dynamicClickNode" mstrevent="click" onclick="{@onclick}" href="#" target="{@target}"><span class="icon"></span><span>{@n}</span></a>'
	},getItemProps:function G(K,I){var J=!!K.selected
	return{sel:J,cls:J?"selected":"",newGroup:!!K.grp?"grp":"",n:K.n,idx:I,href:K.href,name:K.name,onclick:K.onclick||"return false
	",target:K.target||"_self"}
	}}]}))
	}mstrmojo.ui.pathbar.PathExtraLinks=mstrmojo.declare(mstrmojo.Widget,null,{userName:null,init:function E(G){var H=this
	this._super(G)
	var F=this.items
	this.userName=F[0].user
	mstrmojo.array.forEach(this.items,function(I){if(I.name==="save"){I.onclick="mstrmojo.all."+H.id+".raiseEvent({name:'saveDefaultCard'})"
	I.en=false
	}if(I.name==="load"){I.onclick="mstrmojo.all."+H.id+".raiseEvent({name:'loadDefaultCard'})"
	I.en=false
	}if(I.name==="myPage"){I.en=false
	}})
	F.splice(0,1)
	},scriptClass:"mstrmojo.ui.pathbar.PathExtraLinks",markupString:'<div id="mstrPathAccount" mstrAttach:click class="mstrLink" style="cursor:pointer
	"><span class="mstrAccountName" title="{@userName}">{@userName}</span><div id="mstrAccountMenu" class="mstrAccountMenu path"></div></div>',popup:null,postBuildRendering:function C(){A.call(this)
	},onclick:function B(){var F=this.popup
	if(!F.isOpen){F.open()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.pathbar.PathPopup","mstrmojo.ListBase","mstrmojo._IsList","mstrmojo.dom","mstrmojo.css","mstrmojo.ui.pathbar._PreAppExit")
	function A(){this.addDisposable(this.breadCrumbs=new mstrmojo.ui.pathbar.PathPopup({id:"mojoPathBreadCrumbs",cssClass:"mojoPathPicker",offsetLeft:0,children:[{scriptClass:"mstrmojo.ui.pathbar.List",alias:"breadCrumbsItems",preclick:function I(){this.parent.close()
	},items:null,getItemMarkup:function(){return'<a href="#" idx="{@idx}"><span>{@en@n}</span></a>'
	},getItemProps:function J(L,K){return{n:mstrmojo.string.decodeHtmlString(L.n),idx:K,href:L.href}
	}}]}))
	}var D=mstrmojo.css,G=mstrmojo.dom
	mstrmojo.ui.pathbar.PathAncestors=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList,mstrmojo.ui.pathbar._PreAppExit],{scriptClass:"mstrmojo.ui.pathbar.PathAncestors",markupString:'<div id="{@id}" class="mstrmojo-ListBase {@cssClass}" style="{@cssText}" mstrAttach:click,dblclick,mouseover,mouseout><div class="pathText"><div class="pathBreadCrumbs"><span class="pathBreadCrumbsParent"><a href="{@pathParentLink}">{@pathParentName}</a></span><span class="pathBreadCrumbsPullArrow"></span><span class="pathDelim">{@delimiter}</span></div><div class="pathAncestor hidden">{@itemsHtml}</div><div class="pathCurrent"><span>{@pathCurrent}</span></div></div></div>',markupSlots:{breadCrumbsNode:function(){return this.domNode.firstChild.children[0]
	},breadCrumbsParentNode:function(){return this.domNode.firstChild.children[0].firstChild
	},breadCrumbsArrowNode:function(){return this.domNode.firstChild.children[0].children[1]
	},ancestorNode:function(){return this.domNode.firstChild.children[1]
	},currentNode:function(){return this.domNode.firstChild.lastChild
	},itemsContainerNode:function(){return this.domNode.firstChild.children[1]
	}},markupMethods:{onwidthChange:function(){var K=this,I=K.ancestorNode,J=K.breadCrumbsNode
	if(K.getNeededWidth()>K.getAvailWidth()){D.toggleClass(J,"hidden",false)
	D.toggleClass(I,"hidden",true)
	K.resizeBreadCrumbs()
	}else{K.resizePathBar()
	}}},delimiter:">",pathCurrent:null,pathFirst:null,pathParent:null,breadCrumbs:null,reversedItems:null,init:function H(J){this._super(J)
	var I=this.items
	this.pathCurrent=I[I.length-1].n
	this.pathFirstLink=I[0].href
	this.pathFirstName=I[0].n
	if(I.length>1){this.pathParentLink=I[I.length-2].en!=true?"#":I[I.length-2].href
	this.pathParentName=I[I.length-2].n
	}I.splice(I.length-1,1)
	this.reversedItems=[].concat(I).reverse()
	A.call(this)
	},resizePathBar:function(){var P=this,M=P.ancestorNode,I=P.currentNode,K=P.breadCrumbsNode,R=M.style,J=I.style,Q=G.position(P.domNode).w-23-20,O,N,L
	O=Math.min(Q/2,G.position(I).w)
	N=Q-O
	L=N>M.scrollWidth?N-M.scrollWidth:0
	N-=L
	R.maxWidth=Math.max(0,N)+"px"
	J.maxWidth=Math.max(0,Q-N)+"px"
	},resizeBreadCrumbs:function(){var N=this,I=N.currentNode,O=N.breadCrumbsParentNode,J=I.style,L=O.style,P=G.position(N.domNode).w-60,M,Q,K
	L.maxWidth=Math.max(0,P)+"px"
	J.maxWidth=Math.max(0,P)+"px"
	M=Math.min(P/2,G.position(I,true).w)
	Q=P-M
	K=Q>O.scrollWidth?Q-O.scrollWidth:0
	Q-=K
	L.maxWidth=Math.max(0,Q)+"px"
	J.maxWidth=Math.max(0,P-Q)+"px"
	},onclick:function C(I){var J=this.breadCrumbs
	if(!this._super(I)){return false
	}var K=I.getTarget()
	if(K==this.breadCrumbsArrowNode){J.set("targetNode",this.breadCrumbsNode)
	J.breadCrumbsItems.set("items",this.reversedItems.slice(1))
	if(!J.isOpen){J.open()
	}}},getItemMarkup:function(){return'<span idx="{@idx}"><a href="#">{@n}</a></span><span class="pathDelim">{@dl}</span>'
	},getItemProps:function E(J,I){return{n:J.n,href:J.href,dl:this.delimiter,idx:I}
	},getNeededWidth:function B(){var L=this.breadCrumbsNode,I=this.ancestorNode,K=this.currentNode,J=this.breadCrumbs
	D.toggleClass(L,"hidden",true)
	D.toggleClass(I,"hidden",false)
	if(J.isOpen){J.close()
	}return I.scrollWidth+K.scrollWidth+30
	},getAvailWidth:function F(){var I=this
	return G.position(I.domNode).w-23-20
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.pathbar.PathPopup","mstrmojo.dom","mstrmojo.ListBase","mstrmojo._IsList","mstrmojo.ui.pathbar._PreAppExit")
	var D=mstrmojo.dom
	function C(){this.addDisposable(this.pickerMenu=new mstrmojo.ui.pathbar.PathPopup({id:"mojoPathPickerMenu",cssClass:"mojoPathPicker",offsetLeft:-23,children:[{scriptClass:"mstrmojo.ui.pathbar.List",alias:"menuItems",preclick:function F(){this.parent.close()
	},items:null,getItemMarkup:function(){return'<a href="#" idx="{@idx}"><span>{@en@n}</span></a>'
	},getItemProps:function G(I,H){return{n:I.n,idx:H,href:I.href}
	}}]}))
	}mstrmojo.ui.pathbar.PathNavigation=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList,mstrmojo.ui.pathbar._PreAppExit],{scriptClass:"mstrmojo.ui.pathbar.PathNavigation",icnCss:"pathNavigationRight",pickerMenu:null,init:function E(F){this._super(F)
	C.call(this)
	},onclick:function A(G){var H=this.pickerMenu
	if(!this._super(G)){return false
	}var K=G.target||D.eventTarget(G.hWin,G.e),I=D.findAncestorByAttr(K,"idx",true,this.domNode),F=I&&parseInt(I.value,10),J=this.items[F]
	if(J&&J.en&&J.items){if(H.targetNode!==I.node){H.set("targetNode",I.node)
	H.menuItems.set("items",J.items)
	}if(!H.isOpen){H.open()
	}}},getItemMarkup:function(F){if(F.items){return'<span class="tb{@n} mstrComboDown" idx="{@idx}"><a class="tb{@n}0 mstrIcon-tb {@en}" title="{@desc}" href="#"></a><span class="tb{@n}1 mstrPullArrow {@en}" title="{@desc}" menu="true"></span></span>'
	}if(F.visible===false){return""
	}return'<a href="#" idx="{@idx}"><span title="{@desc}" class="tb{@n} mstrIcon-tb {@en}"></span></a>'
	},getItemProps:function B(G,F){return{n:G.n,idx:F,href:G.href,desc:G.desc,en:G.en?"":"disabled"}
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo._HasPopup","mstrmojo.string","mstrmojo.Pulldown","mstrmojo.Container","mstrmojo.url")
	var C=mstrmojo.css,D=mstrmojo.url
	mstrmojo.CustomGroupEl=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.CustomGroupEl",markupString:'<div id="{@id}" class="mstrmojo-onhoverparent mstrmojo-CustomGroupEl {@cssClass}" style="{@cssText}" mstrAttach:mouseover><div class="mstrmojo-CustomGroupEl-title {@cssClass}" mstrAttach:click><img class="mstrmojo-CustomGroupEl-state {@cssClass}"  src="'+D.getPlaceholderImageURL()+'" align="absmiddle"  mstreventmark="stateNode" mstrevent="click" onclick="var w = mstrmojo.all[\'{@id}\']
	w.set(\'state\', !w.state)" /><span class="mstrmojo-text"></span></div><div class="mstrmojo-onhover mstrmojo-abs mstrmojo-topright mstrmojo-CustomGroupEl-tools {@cssClass}"><img class="mstrmojo-dup" src="'+D.getPlaceholderImageURL()+'" title="'+mstrmojo.desc(3397,"Duplicate")+'" mstreventmark="dupNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].dup()" /><img class="mstrmojo-ops"  src="'+D.getPlaceholderImageURL()+'" mstreventmark="opsNode" mstrevent="click" onclick="var w = mstrmojo.all[\'{@id}\'].showOps()
	" title="'+mstrmojo.desc(7932,"Element display options")+'" /><img class="mstrmojo-del"  src="'+D.getPlaceholderImageURL()+'" mstreventmark="delNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].del()" title="'+mstrmojo.desc(7933,"Delete element")+'"/></div><div class="mstrmojo-CustomGroupEl-details {@cssClass}"><div class="mstrmojo-CustomGroupEl-expr {@cssClass}"></div><div class="mstrmojo-CustomGroupEl-expr-tools {@cssClass}"></div></div></div>',eventHandlerMap:{stateNode:{click:{requiredParams:["id"],handlerFn:function(G){return function(){var H=mstrmojo.all[G.id]
	H.set("state",!H.state)
	}
	}}},dupNode:{click:{requiredParams:["id"],handlerFn:function(G){return function(){mstrmojo.all[G.id].dup()
	}
	}}},opsNode:{click:{requiredParams:["id"],handlerFn:function(G){return function(){var H=mstrmojo.all[G.id].showOps()
	}
	}}},delNode:{click:{requiredParams:["id"],handlerFn:function(G){return function(){mstrmojo.all[G.id].del()
	}
	}}}},markupSlots:{stateNode:function(){return this.domNode.firstChild.firstChild
	},titleNode:function(){return this.domNode.firstChild.lastChild
	},detailsNode:function(){return this.domNode.lastChild
	},exprNode:function(){return this.domNode.lastChild.firstChild
	},exprToolsNode:function(){return this.domNode.lastChild.lastChild
	},titlebarNode:function(){return this.domNode.firstChild
	}},markupMethods:{ondataChange:function(){var H=this.data,G=H&&H.n
	this.titleNode.innerHTML=(G!=null)?mstrmojo.string.encodeHtmlString(G):""
	},onstateChange:function(){var G=this.stateNode
	G.className="mstrmojo-CustomGroupEl-state "+(this.state?"opened":"closed")
	this.detailsNode.style.display=this.state?"block":"none"
	},onselectedChange:function(){C.toggleClass(this.domNode,["selected"],this.selected)
	},onshowaddChange:function(){this.exprToolsNode.style.display=this.showadd?"block":"none"
	}},_set_data:function A(I,G){var H=this.data
	this.data=G
	this.set("expr",G&&G.expr)
	return H!==G
	},optionsRef:{scriptClass:"mstrmojo.Editor",title:mstrmojo.desc(7934,"Element Options"),contentNodeCssClass:"mstrmojo-balloon",cssClass:"mstrmojo-CGEOptionsEditor",help:"element_options_dialog_box.htm",ce:false,isp:false,onOpen:function(){var G=this.opener.data,H=this.ops.dsplb.dspl
	H.set("value",G.ce?2:(G.isp?1:0))
	},save:function(){var G=this.ops.dsplb.dspl.value,H=this.opener.data
	H.ce=(G==2)
	H.isp=(G==1)
	this.close()
	},children:[{scriptClass:"mstrmojo.VBox",cssClass:"mstrmojo-ElementOptions",alias:"ops",children:[{scriptClass:"mstrmojo.HBox",alias:"dsplb",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(168,"Display:"),cssText:"margin: 0 5px
	"},{alias:"dspl",scriptClass:"mstrmojo.Pulldown",itemIdField:"v",items:[{n:mstrmojo.desc(7935,"Display element name only (Default)"),v:0},{n:mstrmojo.desc(7936,"Display individual items only"),v:1},{n:mstrmojo.desc(7937,"Display element name and individual items"),v:2}]}]},{scriptClass:"mstrmojo.HBox",alias:"btns",cssText:"float:right
	width:150px
	margin:5px
	",children:[{scriptClass:"mstrmojo.HTMLButton",alias:"ok",text:mstrmojo.desc(118,"Save"),cssClass:"mstrmojo-Editor-button",cssText:"width:72px
	",onclick:function(){this.parent.parent.parent.save()
	}},{scriptClass:"mstrmojo.HTMLButton",alias:"cancel",text:mstrmojo.desc(221,"Cancel"),cssClass:"mstrmojo-Editor-button",cssText:"width:72px
	margin: 5px
	",onclick:function(){this.parent.parent.parent.close()
	}}]}]}]},showOps:function(){var H=this.titlebarNode,G=mstrmojo.dom.position(H,true)
	this.openPopup("optionsRef",{zIndex:30,left:Math.round(G.x+G.w-300)+"px",top:Math.round(G.y+G.h)+"px"})
	},init:function F(G){this._super(G)
	var H=this.data
	if(H){delete this.data
	this._set_data(null,H)
	}},del:function B(){var G=this.parent
	if(G&&G.remove){G.remove(this.data)
	}},dup:function E(){var G=this.parent
	if(G&&G.duplicate){var L=this.data,M=G.items,O=L.did,N=1,P=new RegExp(L.n+"_(\\d+)")
	for(var J=0,K=M.length
	J<K
	J++){var I=M[J],H=I.n&&I.n.match(P)
	if(H){N=Math.max(N,H[1])
	}O=Math.max(O,parseInt(I.did,10))
	}G.duplicate(this.data,null,{n:mstrmojo.desc(3651,"Copy of ##").replace("##",L.n),did:G.getNextId(),state:1})
	}},onmouseover:function(G){this.set("showadd",this.state?true:false)
	}})
	})()
	(function(){var G=mstrmojo.string
	function I(R,S,L){var M,P,K,N=[],O
	try{O=new RegExp(mstrmojo.string.regEscape(R),"i")
	}catch(Q){return N
	}for(M=0,P=S.length
	M<P
	M++){K=S[M][L]
	O.lastIndex=0
	if(O.test(K)){N.push(S[M])
	}}return N
	}function C(){if(this.searchEnabled){this.iconNode.style.display="none"
	this.inputBar.style.display=""
	if(this.autofocus){this.inputNode.focus()
	this.inputNode.select()
	}}else{this.hideInputNode()
	if(this.autofocus){if(mstrmojo.dom.isIE7||mstrmojo.dom.isIE8){var K=this
	window.setTimeout(function(){try{K.iconNode.focus()
	}catch(L){}},100)
	}else{this.iconNode.focus()
	}}}}var H={8:"BackSpace",9:"Tab",13:"Enter",27:"Esc",38:"ArrowUp",40:"ArrowDown"}
	mstrmojo.SearchableDropDownList=mstrmojo.declare(mstrmojo.Pulldown,null,{scriptClass:"mstrmojo.SearchableDropDownList",markupString:'<div id="{@id}" class="mstrmojo-SearchableDropDownList mstrmojo-DropDownButton {@cssClass} {@direction}" style="{@cssText}"><div class="mstrmojo-DropDownButton-boxNode {@cssClass}-boxNode" title="{@title}"><div class="mstrmojo-DropDownButton-iconNode {@cssClass}-iconNode" tabindex="0" mstrAttach:mousedown,keyup>{@text}</div><table class="mstrmojo-InputNodeBar"><colgroup><col class="inputCol"/><col class="iconCol"/></colgroup><tr><td><input class="mstrmojo-SearchableDropDownList-inputNode" value="{@text}" placeholder="{@placeholderText}" mstrAttach:keyup,blur,click/></td><td><div class="mstrmojo-DropDownButton-iconNode {@cssClass}-iconNode" mstrAttach:mousedown></div></td></tr></table></div><div class="mstrmojo-DropDownButton-popupNode {@cssClass}-popupNode"></div></div>',markupSlots:mstrmojo.hash.copy(mstrmojo.Pulldown.prototype.markupSlots,{inputBar:function(){return this.domNode.firstChild.lastChild
	},inputNode:function(){return this.domNode.firstChild.lastChild.rows[0].cells[0].firstChild
	}}),markupMethods:mstrmojo.hash.copy({ontextChange:function(){if(this.allowHTML){this.iconNode.innerHTML=this.text
	}else{this.iconNode.innerText=this.text
	}this.inputNode.value=this.text
	},onheightChange:function(){var K=parseInt(this.height,10)
	if(K>=0){this.domNode.offsetHeight=K+"px"
	this.inputBar.offsetHeight=K+"px"
	this.iconNode.style.height="auto"
	this.iconNode.style.lineHeight="normal"
	var M=this.iconNode.innerHTML
	if(M.trim()===""){this.iconNode.innerHTML="a"
	}var L=this.iconNode.getBoundingClientRect().height+"px"
	this.iconNode.style.height=L
	this.iconNode.style.lineHeight=L
	if(M.trim()===""){this.iconNode.innerHTML=M
	}}}},mstrmojo.hash.copy(mstrmojo.Pulldown.prototype.markupMethods)),popupToBody:true,searchEnabled:false,selectedIndex:-1,placeholderText:"",allItems:null,autofocus:true,focus:function(){C.call(this)
	},hideInputNode:function B(){this.inputBar.style.display="none"
	this.iconNode.style.display="block"
	},preBuildRendering:function F(K){if(!this.allowHTML){this.text=G.encodeHtmlString(this.text)
	}this._super(K)
	},postBuildRendering:function A(){if(!this.allItems){this.allItems=this.items
	}this._super()
	C.call(this)
	},clickInput2pop:false,onclick:function J(K){if(this.clickInput2pop){this.togglePopup()
	}},prekeyup:function E(L){var N=this.getSearchPattern(),M=[],O=this.inputNode,P=L.e,K=this.items.length
	if(H[P.keyCode]==="Enter"){if(this.items.length>0){this.set("selectedIndex",this.selectedIndex===-1?0:this.selectedIndex)
	}this.onEnter&&this.onEnter()
	this.closePopup()
	return 
	}else{if(H[P.keyCode]==="Esc"){this.onEsc&&this.onEsc()
	if(this.popupRef.visible){this.popupRef.close()
	}return 
	}else{if(H[P.keyCode]==="ArrowDown"){if(!this.popupRef.visible){this.togglePopup()
	}this.set("selectedIndex",(this.selectedIndex+1)%K)
	}else{if(H[P.keyCode]==="ArrowUp"){if(this.popupRef.visible&&K>0){this.set("selectedIndex",(this.selectedIndex+K-1)%K)
	}}else{if(this.searchEnabled){if(N&&N.length>0&&N.indexOf(this.lastSearchPattern)>-1){M=I(N,this.items,this.itemField)
	}else{M=I(N,this.allItems,this.itemField)
	}this.set("selectedIndex",-1)
	this.set("items",M)
	K=M.length
	if(K===0){this.closePopup()
	}else{if(!this.popupRef.visible){this.togglePopup()
	}}if(this.adjustHeight){this.adjustHeight()
	}if(N&&N.length>0){this.set("selectedIndex",mstrmojo.array.find(M,this.itemField,O.value))
	}}}}}}this.lastSearchPattern=N
	},getSearchPattern:function D(){return G.trim(this.inputNode.value)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Pulldown")
	var C={ENTER:13,LEFT:37,UP:38,TAB:9,RIGHT:39,DOWN:40,ESC:27}
	function D(L,M){var G,J,F,H=[],I,N
	try{I=new RegExp(L,"i")
	}catch(K){I=new RegExp(mstrmojo.string.regEscape(L))
	}for(G=0,J=M.length
	G<J
	G++){if(I.test(M[G][this.itemField])){H.push(M[G])
	}}return H
	}function B(F){return !(F<0||F===undefined||F===null)
	}mstrmojo.SearchablePulldown=mstrmojo.declare(mstrmojo.Pulldown,null,{scriptClass:"mstrmojo.SearchablePulldown",popupCssClass:"mstrmojo-SearchablePulldown-Popup",searchEnabled:false,allowCustomInput:false,useItemCssOnInput:false,lastSearchPattern:"",isEditing:false,allItems:null,markupString:'<div id="{@id}" class="mstrmojo-SearchablePulldown mstrmojo-DropDownButton {@cssClass} {@direction}" style="{@cssText}"><div class="mstrmojo-SearchablePulldown-boxNode mstrmojo-DropDownButton-boxNode {@cssClass}-boxNode" title="{@title}" mstrAttach:mousedown><input class="mstrmojo-SearchablePulldown-inputNode" value="{@text}" mstrAttach:keyup,blur/><div class="mstrmojo-SearchablePulldown-iconNode mstrmojo-DropDownButton-iconNode {@cssClass}-iconNode" mstrAttach:mouseover,mouseout></div></div><div class="mstrmojo-DropDownButton-popupNode {@cssClass}-popupNode"></div></div>',markupSlots:{boxNode:function(){return this.domNode.firstChild
	},inputNode:function(){return this.domNode.firstChild.firstChild
	},iconNode:function(){return this.domNode.firstChild.children[1]
	},popupNode:function(){return this.domNode.lastChild
	}},markupMethods:mstrmojo.hash.copy({ontextChange:function(){if(this.inputNode.value!==this.text){this.inputNode.value=this.text
	}},onheightChange:function(){this.domNode.style.height=this.height||""
	this.boxNode.style.height=this.height||""
	},onsearchEnabledChange:function(){this.inputNode.readOnly=this.searchEnabled?false:true
	this.items=this.allItems||this.items
	},onallowCustomInputChange:function(){if(this.allowCustomInput){this.set("searchEnabled",true)
	}},onvalueChange:function E(){if(this.useItemCssOnInput&&this.selectedItem){this.inputNode.className="mstrmojo-SearchablePulldown-inputNode "+(this.selectedItem[this.itemCSS]||"")
	}}},mstrmojo.hash.copy(mstrmojo.Pulldown.prototype.markupMethods)),prevalueChange:function(){this.synchronize()
	},synchronize:function(){var G=this.value,H=this.items||[],I=H[this.selectedIndex],F=-1
	if(I&&G===I[this.itemIdField]){this.selectedItem=I
	this.set("text",I[this.itemField])
	return 
	}F=mstrmojo.array.find(this.items,this.itemIdField,G)
	if(!B(F)&&this.allowCustomInput){this.selectedItem=undefined
	this.selectedIndex=undefined
	return 
	}this.selectedIndex=B(F)?F:this.defaultSelection
	this.selectedItem=I=this.items[this.selectedIndex]
	this.value=I?I[this.itemIdField]:undefined
	this.set("text",I?I[this.itemField]:(this.defaultText||""))
	},preBuildRendering:function A(){if(this._super){this._super()
	}this.allItems=this.allItems||this.items
	this.synchronize()
	},premousedown:function(F){if(this.searchEnabled&&F.getTarget()===this.iconNode){this.set("items",this.allItems)
	}this._super(F)
	},onkeyup:function(M){var J=mstrmojo.string.trim(this.inputNode.value),I=M.e,N=I.keyCode||I.which,L=B(this.selectedIndex)?this.selectedIndex:-1,F=this.allowCustomInput,H=this.items.length
	this.isEditing=true
	switch(N){case C.ENTER:if(H>0&&!F){this.set("selectedIndex",L===-1?0:L)
	this.synchronize()
	}this.closePopup()
	break
	case C.ESC:this.closePopup()
	this.synchronize()
	break
	case C.UP:if(this.popupRef.visible&&H>0){this.set("selectedIndex",(L+H-1)%H)
	this.synchronize()
	}break
	case C.DOWN:if(!this.popupRef.visible&&H>0){this.togglePopup()
	}this.set("selectedIndex",(L+1)%H)
	this.synchronize()
	break
	default:if(J===this.lastSearchPattern){return 
	}var K=[]
	if(J&&J.length>0&&J.indexOf(this.lastSearchPattern)>-1){K=D.apply(this,[J,this.items])
	}else{K=D.apply(this,[J,this.allItems])
	}this.set("items",K)
	if(K.length===0){this.closePopup()
	}else{if(!this.popupRef.visible){this.togglePopup()
	}}this.set("selectedIndex",undefined)
	if(J&&J.length){var G=mstrmojo.array.find(K,this.itemField,J)
	if(G!==-1){this.set("selectedIndex",G)
	}}}if(F&&!B(this.selectedIndex)){this.set("value",this.inputNode.value)
	}this.lastSearchPattern=J
	},onblur:function(F){this.isEditing=false
	if(!this.searchEnabled){return 
	}if(!this.allowCustomInput){this.items=this.allItems
	this.synchronize()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.DocInfoWindow","mstrmojo.array","mstrmojo.hash","mstrmojo.StringBuffer","mstrmojo.vi.enums.EnumFeatures")
	var G=mstrmojo.dom,W=mstrmojo.hash,Q=mstrmojo.array,N=mstrmojo.vi.enums.EnumFeatures
	function a(){W.forEach(this.ifwMap,function(d){d.destroy()
	})
	this.ifwMap={}
	}function A(){var d=[],f=null,e=null
	W.forEach(this.ifwMap,function(g){if(g.visible){d.push({psId:g.psId,psKey:g.psKey,autoCloseLocks:g.autoCloseLocks,lockInfoWinId:g.lockIW?g.lockIW.id:false,anchorPos:g.anchorPosition||G.position(g.anchor,true),anchorOrn:g.anchorOrientation})
	}})
	if(d.length>0){f=this.getSelectedLayoutWidget()
	e=f&&f.getScrollPos()
	}return{ifwRecords:d,docScrollRecord:e}
	}function P(m){var e=(m&&m.ifwRecords)||[],k=m&&m.docScrollRecord,h=this.getSelectedLayoutWidget(),j=this,l={}
	if(e.length>0){if(k&&h){h.scrollTo(k)
	}var f=this.model,g=f.getCurrentLayoutKey(),d=f.getLayoutDataCache(g)
	Q.forEach(e,function(n){if(n.lockInfoWinId){l.lockInfoWinId=n.lockInfoWinId
	}var o=window.setInterval(function(){if(d[n.psId]){window.clearInterval(o)
	j.showInfoWindow(n.psId,n.psKey,l,null,n.anchorOrn,n.anchorPos,n.autoCloseLocks)
	}},10)
	})
	}}function K(){if(mstrmojo.DICPopup&&mstrmojo.DICPopup.cancel){mstrmojo.DICPopup.cancel()
	}}function U(){Q.forEach(this.xtabStyleSheets,function(e){var d=e.parentNode
	if(d){d.removeChild(e)
	}})
	}function c(e,h){var f=this.getLayout(e),d=f.docGroupBy,g=this.controller
	if(d){d.set("data",h.groupbys)
	f.gb=h
	}if(g.getPageByTree){g.getPageByTree(true)
	}}mstrmojo._IsRwDocument=mstrmojo.provide("mstrmojo._IsRwDocument",{_mixinName:"mstrmojo._IsRwDocument",updateXtabStyles:function M(k,f){var q=this.xtabStyleSheets&&this.xtabStyleSheets[0],p=this.styleList||{},e=function(x,v){var w
	for(w in v){var u=v[w].css||""
	if(v[w].app){u=(x[w]||"")+u
	}x[w]=u
	}return x
	},r=document
	if(!p[k]){p[k]=e({},this.model.getSelectedXtabStyles(k))
	}e(p[k],f)
	if(!this.xtabStyleSheets){this.xtabStyleSheets=[]
	q=this.xtabStyleSheets[0]=r.getElementsByTagName("head")[0].appendChild(r.createElement("style"))
	}var t=new mstrmojo.StringBuffer(),h,j
	for(h in p){for(j in p[h]){t.append(p[h][j])
	}t.append("\n")
	}var g=t.toString()
	if(q&&g){q=q.styleSheet||q
	if(G.isWK){var o=q.firstChild
	if(o){o.nodeValue=g
	}else{q.appendChild(r.createTextNode(g))
	}}else{if(G.isIE6||G.isIE7||G.isIE8||G.isIE9||G.isIE10){q.cssText=g
	var n,m,d,l
	for(n=1
	q.rules.length===4095&&r.styleSheets.length<31
	n++){m=q.rules[4094]
	d=new RegExp(m.selectorText,"i")
	l=g.search(d)
	if(l===-1){break
	}l=g.indexOf("}",l+1)
	g=g.slice(l+1)
	if(!this.xtabStyleSheets[n]){this.xtabStyleSheets[n]=r.getElementsByTagName("head")[0].appendChild(r.createElement("style"))
	}q=this.xtabStyleSheets[n].styleSheet
	q.cssText=g
	}}else{q.innerHTML=g
	}}}this.styleList=p
	},postBuildRendering:function Z(){var d=document.getElementsByTagName("head")[0]
	Q.forEach(this.xtabStyleSheets,function(e){d.appendChild(e)
	})
	return this._super()
	},buildChildren:function B(h){var n
	try{var j=this.model
	if(j){var k=this.buildSubs||{},v=j.id+"-partialUpdate",e=j.id+"-rebuildLayout",p=j.id+"-updateStyles",g=j.id+"-showInfoWin",f=this.id
	var o=this,t=function(){Q.forEach(o.getLayouts(),function(m){if(m.k!==j.currlaykey){m.defn.loaded=false
	}})
	}
	if(k[v]===undefined){var q=function d(AC){var w=this.model,u=w&&w.getLayoutDataCache(w.getCurrentLayoutKey()),r=AC&&AC.ids
	if(W.isEmpty(u)||!r){return 
	}Q.forEach(AC&&AC.tree&&AC.tree.layouts,function(m){if(m.k===w.currlaykey){this.updateXtabStyles(m.k,m.xtabStyles)
	if(m.gbys){c.call(this,m.k,m.gbys)
	}return false
	}return true
	},this)
	var z=W.forEach,AD=false,AA={update:r.upd,refresh:r.tgts,adjustSectionSize:r.secs}
	z(r.ifws,function(AF,AE){var m=mstrmojo.all[AF+"_ifw"]
	if(m&&m.visible){this.updateInfoWindowPS(AF,AE)
	}},this)
	z(AA,function(AE,m){z(AE,function(AH,AL){var AG=mstrmojo.all[AL],AK
	if(AG&&AG[m]!==undefined){var AJ=u[AL],AF=(m==="update"?AJ:null),AI=m
	if(m==="update"){if(AG.updateForPU){AI="updateForPU"
	}else{AG.node=AJ
	}}else{if(m==="refresh"&&AG.refreshForPU){AI="refreshForPU"
	}}AK=AG[AI](AF)
	if(m==="adjustSectionSize"&&AK){AD=AD||(!!AK.heightReduced)
	}}},this)
	},this)
	var x=this.getSelectedLayoutWidget()
	if(AD){x.notifyScrollListeners()
	}var AB=x.docLayout
	if(AB){AB.resizeOrReposition()
	}if(AC&&AC.unloadCache){t()
	}}
	k[v]=j.attachEventListener("partialUpdate",f,q)
	}k[e]=k[e]||j.attachEventListener("rebuildLayout",f,function(m){var u=m&&m.restoreIW,r
	if(u){r=A.call(this)
	this.model.aws=null
	}this.onLayoutRebuilt(this.rebuildLayout(m.src.currlaykey,this.getLayouts()))
	if(m&&m.unloadCache){t()
	}if(u){P.call(this,r)
	}})
	k[p]=k[p]||j.attachEventListener("updateStyles",f,function(m){this.updateXtabStyles(m.key,m.updatedStyles)
	})
	k[g]=k[g]||j.attachEventListener("showInfoWin",f,function(m){this.showInfoWindow(m.psId,m.psKey,m.anchor,m.invalidate,m.anchorOrientation,m.anchorPosition)
	})
	this.updateXtabStyles(j.getCurrentLayoutKey())
	j.attachEventListener("refresh",this.id,function(){this.refresh()
	})
	}n=this._super(h)
	}catch(l){mstrmojo.err(l)
	}return n
	},updateInfoWindowPS:mstrmojo.emptyFn,showInfoWindow:function J(e,w,n,p,t,u,AF){var g=this.model,k=g.getLayoutDataCache(g.getCurrentLayoutKey()),AA=this.builder,d=k[e]&&k[e].defn,j=d&&d.iwpl,z=g.getIfwId(e),AE=mstrmojo.all[z],AB=this.domNode,f=mstrmojo.DocInfoWindow.PLACEMENT.FIXED,AC=function(AG,AH,AI,AK,AJ){if(j===f){if(AH){var AL=G.delta(AH,AB)
	AG.popPosition={left:(AL&&AL.x)?AK+AL.x:AK,top:(AL&&AL.y)?AJ+AL.y:AJ}
	}else{if(AI){AG.popPosition={left:(AI.scrollboxLeft)?AK-AI.scrollboxLeft:AK,top:(AI.scrollboxTop)?AJ-AI.scrollboxTop:AJ}
	}else{AG.popPosition={left:AK,top:AJ}
	}}}}
	var r=this.getLayout(g.getCurrentLayoutKey())
	if(AE){if(p){AE.refresh()
	}AE.anchorOrientation=t
	AE.anchorPosition=u
	if(j===f){if(!AE._ifwpdn){var o=k[e]&&k[e].p,v=o&&g.getUnitInstance(o.k,o.wid)
	AE._ifwpdn=v&&v.domNode
	}else{AE._ifwpdn=document.getElementById(AE._ifwpdn.id)
	}}AC(AE,AE._ifwpdn,r,AE._ifwfl,AE._ifwft)
	AE.open(this,{anchor:n,boundary:AB})
	}else{var l={opener:this,anchor:n,anchorOrientation:t,boundary:AB,parent:this,builder:AA,model:this.model,psKey:w,psId:e,id:z,autoCloses:true,locksHover:true,closeOnClick:false,autoCloseLocks:AF,anchorPosition:u}
	if(j){j=parseInt(j,10)
	l.placement=j
	if(j===f){var m=d.fmts,h=l._ifwfl=m&&m.left&&parseInt(m.left.replace("px",""),10),x=l._ifwft=m&&m.top&&parseInt(m.top.replace("px",""),10),o=k[e]&&k[e].p,v=o&&g.getUnitInstance(o.k,o.wid),q=l._ifwpdn=v&&v.domNode
	AC(l,q,r,h,x)
	}}AE=AA.newInfoWindow(l)
	this.renderInfoWindow(AE)
	var AD=this.ifwMap=(this.ifwMap||{})
	AD[e]=AE
	}},renderInfoWindow:function L(d){d.render()
	},_lockInfoWinContainer:function I(f){var j=this.ifwMap,e=function(k,l){return function(){k.releaseLock(l)
	}
	},d
	for(d in j){var g=j[d],h=f.xtab
	if(g&&h&&G.contains(g.infoNode,h.domNode,true,document.body)){g.registerLock(h)
	f.onClose=e(g,h)
	break
	}}},unrender:function Y(d){a.call(this)
	this._super(d)
	U.call(this)
	},getLayouts:function R(){return this._layouts
	},getLayout:function X(d){d=d||this.model.getCurrentLayoutKey()
	var e=this.getLayouts()
	return e[Q.find(e,"k",d)]
	},getSelectedLayoutWidget:mstrmojo.emptyFn,needLoadLayout:function S(h,k){var e=h.defn
	if(!e){return false
	}var d=this.model,g=(k&&(k.reload||!!k.panelKey))||(e.loaded===false),l=mstrApp&&(mstrApp.isVI&&mstrApp.supportFeature(N.DOSSIER_LEVEL_FILTER))
	if(!g&&l){var j=d.getLayoutSelectorDefn(h.k),f=j.filterPanelSelectors
	if(Object.keys(f).length>=1){g=true
	}}return g||(d.zt&&(window.mstrMobileApp!==undefined)&&(e&&e.lastOrientation!==mstrMobileApp.getOrientation()))
	},getNewLayout:function F(e,k,d,n,f){var j=this,g=j.model,m=e.layoutKey,h=k[Q.find(k,"k",m)]
	if(this.needLoadLayout(h,e)){var l=n.success
	n.success=function(o){g.replaceLayout(m,o,false)
	g.currlaykey=m
	if(d){j.selectLayout(h,false,null,f)
	}var p=j.rebuildLayout(m,k,false)
	if(j.controller.getPageByTree){j.controller.getPageByTree(true)
	}l(p)
	}
	this.loadDocLayout(e,n,f)
	}else{if(d){this.selectLayout(h,true,{success:function(o){W.copyProps(["bs"],o,g)
	}},f)
	}if(!h.hasRendered){h=this.rebuildLayout(m,k)
	if(j.controller.getPageByTree){j.controller.getPageByTree(true)
	}}n.success(h)
	}},selectLayout:function E(g,h,k,j){var d=this.model,e=g.k,f=(e!==d.currlaykey)
	d.currlaykey=e
	if(this.controller){this.controller.updateZoom()
	}this.restoreLayoutState(g)
	if(h&&f){this.setCurrentDocLayout(e,k,j)
	}else{if(k&&k.complete){k.complete()
	}}return g
	},rebuildLayout:function C(e,m,n){var g=this.model,f=Q.find,h=m[f(m,"k",e)],d=g.getChildren(this.node,false)
	var j=d[f(d,"k",e)]
	if(window.mstrMobileApp!==undefined){j.defn.lastOrientation=mstrMobileApp.getOrientation()
	}var l=this.replaceLayout(h,j)
	this.updateXtabStyles(e,g.getSelectedXtabStyles(e))
	if(n!==false){a.call(this)
	}K()
	return l
	},destroy:function b(){a.call(this)
	if(this._super){this._super()
	}U.call(this)
	},replaceLayout:mstrmojo.emptyFn,restoreLayoutState:mstrmojo.emptyFn,onLayoutRebuilt:mstrmojo.emptyFn,unloadGbLayuts:function H(f){var m=this.getLayouts(),h=this.model.getCurrentLayoutKey(),l,j,n,e,g,d
	l=this.getLayout()
	e=l.gb&&l.gb.groupbys
	for(g=0
	g<e.length
	g++){n=e[g]
	if(n.k===f){d=n.unit.target.did
	break
	}}for(j=0
	j<m.length
	j++){l=m[j]
	if(l.k===h){continue
	}e=l.gb&&l.gb.groupbys
	if(e&&e.length){for(g=0
	g<e.length
	g++){n=e[g]
	if(n.unit.target.did===d){l.defn.loaded=false
	break
	}}}}},loadDocLayout:function O(d,f,e){this.model.getDataService().loadDocLayout(d,f,e)
	},setCurrentDocLayout:function D(d,f,e){this.model.getDataService().setCurrentDocLayout(d,f,e)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.menus.MenuPopup","mstrmojo.Button","mstrmojo.dom","mstrmojo.hash","mstrmojo.ui._HasScroller","mstrmojo.func")
	mstrmojo.requiresDescs(1442,2140)
	var H=mstrmojo.dom,G=mstrmojo.hash,K=mstrmojo.array,B=mstrmojo.func
	function L(Q,S){var P=2140,W="Cancel",U="this.parent.popupConfig."+(Q?"ok":"cancel"),R=S&&S[(Q?"ok":"cancel")+"BtnText"]
	if(Q){P=1442
	W="Ok"
	}return mstrmojo.Button.newWebButton(R||mstrmojo.desc(P,W),function(Y){var Z=this.parent,X=Z.popupConfig
	Z.closeAllMenus()
	X["fn"+W](X.data,Z)
	H.stopPropogation(Y.hWin,Y.e)
	},Q,{slot:"btnNode",bindings:{enabled:U+"Enabled",visible:U+"Visible"},cssDisplay:"inline-block"})
	}function C(R,Q){var P=Q?R.nextElementSibling:R.previousElementSibling
	if(P&&P.classList.contains("separator")){P=C(P,Q)
	}return P
	}mstrmojo.ui.menus.MenuEditor=mstrmojo.declare(mstrmojo.ui.menus.MenuPopup,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ui.menus.MenuEditor",markupString:'<div id="{@id}" class="mstrmojo-ui-MenuEditor {@cssClass}" style="{@cssText}" tabindex="-1" mstrAttach:mouseover,mouseout,click><div class="scroll-container" style="{@scCssText}"><div class="me-content"></div><div class="me-buttons"></div><div class="me-bottom"></div></div></div>',markupSlots:{containerNode:function E(){return this.domNode.firstChild.firstChild
	},btnNode:function M(){return this.domNode.firstChild.children[1]
	},bottomNode:function M(){return this.domNode.firstChild.children[2]
	},scrollNode:function(){return this.domNode.firstChild
	},scrollbarHostNode:function(){return this.domNode
	}},popupConfig:null,postBuildRendering:function A(P){this._super(P)
	if(this.popupConfig&&this.popupConfig.supportsScroll){var Q=this
	window.setTimeout(function(){Q.updateScrollbars()
	},10)
	}},onmouseover:function O(Q){var P=this.popupConfig
	if(P&&!P.isHostedWithin&&this.opener){this.opener.raiseEvent(mstrmojo._HasMarkup.newDomEvent(Q.name,Q.hWin,Q.e,{targetHostElement:P.hostElement}))
	}},updateScrollbars:function(){this._super()
	if(this.popupConfig&&this.popupConfig.supportsScroll){var Q=this.scrollNode
	if(!Q){return 
	}var P=H.getComputedScrollbarWidth(Q)
	Q.style.marginRight=-P+"px"
	Q.style.paddingRight=0
	}},monitorWindow:function J(){var Q=document.activeElement,P=null
	if(Q!==null&&Q.id!==""){P=this.domNode.querySelector("#"+Q.id)?Q:null
	}this._super()
	if(P){P.focus()
	}},init:function N(R){this._super(R)
	var Q=this.popupConfig,P=Q.bottomNode
	if(Q&&Q.supportsScroll&&Q.maxHeight>0){if(Q.cssClass.indexOf("RoleMenu")>-1){Q.maxHeight=360
	}this.cssText=(this.cssText||"")+"
	max-height:"+Q.maxHeight+"px"
	this.scCssText=(this.scCssText||"")+"
	max-height:"+Q.maxHeight+"px"
	}if(!!mstrApp.isWSStyling){this.themeClassName="mojo-theme-light"
	}this.data=Q.data||{}
	if(Q.onOpen){this.onOpen=Q.onOpen
	}this.onOpen=B.composite([this.onOpen,this.notifyChildrenOpen])
	this.addChildren([L(true,Q),L(false)])
	if(P){P.slot="bottomNode"
	this.addChildren(P)
	}G.copyProps(["buildNavList","onkeydown","isValidTarget"],Q,this)
	},onOpen:function D(){if(this.hasAccessibility&&this.enableAccessibility){this.enableAccessibility()
	}},notifyChildrenOpen:function F(){K.forEach(this.children,function(P){if(P.scriptClass==="mstrmojo.ui.ScrollableContainer"&&P.onOpen){P.onOpen()
	}})
	},onkeydown:function I(Y){var R=Y.getTarget(),Z=Y.e.keyCode,U
	switch(Z){case 37:case 27:var S=this,X=S.opener,P=X.openerMenuElement
	if(P){S.close()
	P.focus()
	delete X.openerMenuElement
	}break
	case 39:break
	case 38:case 40:var Q=Z===40?true:false
	U=C(R,Q)
	if(U){U.focus()
	}break
	case 13:var W=mstrmojo.dom.findWidget(R.parentElement)
	W.onclick(Y)
	Y.e.preventDefault()
	Y.e.stopImmediatePropagation()
	break
	default:Y.e.preventDefault()
	break
	}Y.e.stopPropagation()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.PopupConfig","mstrmojo.ui.menus.MenuPopup")
	mstrmojo.ui.menus.PopupConfig=mstrmojo.declare(mstrmojo.ui.PopupConfig,null,{scriptClass:"mstrmojo.ui.menus.PopupConfig",cssClass:"",hasToggleItem:false,contents:null,clear:function A(){this._super()
	this.contents=null
	},close:function C(){([].concat(this.contents)[0]).parent.closeAllMenus()
	},newInstance:function B(){return new mstrmojo.ui.menus.MenuPopup({popupConfig:this})
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Button","mstrmojo.Container","mstrmojo.TabStrip")
	mstrmojo.ScrollingTabStrip=mstrmojo.declare(mstrmojo.TabStrip,null,{scriptClass:"mstrmojo.ScrollingTabStrip",markupString:'<div id="{@id}" class="mstrmojo-TabStrip mstrmojo-ScrollingTabStrip {@cssClass}" style="{@cssText}"><span></span><div class="c" style="position:relative
	display:inline-block
	"><div style="position:absolute
	"></div></div><span></span></div>',markupSlots:{containerNode:function(){return this.domNode.childNodes[1].firstChild
	},scrollNode:function(){return this.domNode.childNodes[1]
	},stripNode:function(){return this.domNode.childNodes[1].firstChild
	},btnLeftNode:function(){return this.domNode.childNodes[0]
	},btnRightNode:function(){return this.domNode.childNodes[2]
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	if(this.visible){this.set("width",parseInt(this.width,10))
	}},onleftChange:function(){if(this.stripNode&&this.left!=null){this.stripNode.style.left=this.left+"px"
	}},onwidthChange:function(C){var E=this.scrollNode,B=this.stripNode
	if(E&&B){var D=this,A=parseInt(this.width,10)
	if(isNaN(A)){return 
	}window.setTimeout(function(){if(A<B.clientWidth){D.createScrBtn()
	A-=(D.btnsWidth||0)
	}D.updateScrBtn()
	if(mstrmojo.dom.isIE7&&B.clientWidth>0){B.style.width=B.clientWidth+7+"px"
	}E.style.width=A+"px"
	},0)
	}}},step:50,scroll:function(B){B=B||1
	var D=this.scrollNode,A=this.stripNode,E=Math.abs(parseInt(this.left,10)||0),C=Math.max(A.clientWidth-E-D.clientWidth,0),F=Math.min(this.step,(B==-1?C:E))
	this.set("right",C)
	this.set("left",-(E-B*F))
	this.updateScrBtn()
	},createScrBtn:function(){if(this.btnLeft&&this.btnRight){return 
	}var A=this
	this.addChildren([{scriptClass:"mstrmojo.Button",cssClass:"l",alias:"btnLeft",visible:false,enabled:false,scrollInterval:null,onmousedown:function(){var B=this
	this.scrollInterval=window.setInterval(function(D,C){A.scroll(1)
	if(A.left>=0){clearInterval(B.scrollInterval)
	}},60)
	},onmouseup:function(){clearInterval(this.scrollInterval)
	},slot:"btnLeftNode"},{scriptClass:"mstrmojo.Button",cssClass:"r",alias:"btnRight",visible:false,enabled:false,onmousedown:function(){var B=this
	this.scrollInterval=window.setInterval(function(D,C){A.scroll(-1)
	if(A.right<=0){clearInterval(B.scrollInterval)
	}},60)
	},onmouseup:function(){clearInterval(this.scrollInterval)
	},slot:"btnRightNode"}])
	this.renderChildren()
	this.btnsWidth=50
	},updateScrBtn:function(){var F=this.scrollNode,B=this.stripNode,D=this.btnLeft,E=this.btnRight
	if(F&&B&&D&&E){var H=Math.abs(parseInt(this.left,10)||0),G=B.clientWidth
	E.set("enabled",G-H>F.clientWidth)
	D.set("enabled",H>0)
	var A=parseInt(this.width,10),C=A<G
	this.btnLeft.set("visible",C)
	this.btnRight.set("visible",C)
	if(!C){this.set("left",0)
	}}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.MobileDocLayoutViewer")
	var B=mstrmojo.DynamicClassFactory.newComponent
	mstrmojo.maps.MobileMapInfoWindowLayoutViewer=mstrmojo.declare(mstrmojo.MobileDocLayoutViewer,null,{scriptClass:"mstrmojo.maps.MobileMapInfoWindowLayoutViewer",preBuildRendering:function A(){this.setDimensions(this.height,this.width)
	this.set("visible",true)
	return this._super?this._super():true
	}})
	mstrmojo.maps.MapInfoWindowLayoutViewer=mstrmojo.declare(mstrmojo.MobileDocLayoutViewer,null,{scriptClass:"mstrmojo.maps.MapInfoWindowLayoutViewer",preBuildRendering:function A(){this.set("visible",true)
	return this._super?this._super():true
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.TextBox","mstrmojo._CanValidate","mstrmojo.css","mstrmojo.vi.ui.rw.selectors._HasWarningMessage")
	var H=mstrmojo.css,E=mstrmojo.validation,G=E.TRIGGER,J=E.STATUSCODE
	function F(L){if((this.constraints.trigger&L)>0){this.validate()
	}}mstrmojo.ValidationTextBox=mstrmojo.declare(mstrmojo.TextBox,[mstrmojo._CanValidate,mstrmojo.vi.ui.rw.selectors._HasWarningMessage],{scriptClass:"mstrmojo.ValidationTextBox",validationDelay:500,getInvalidMsg:function K(L){return(L&&L.msg?L.msg:"")
	},postBuildRendering:function A(){this._super()
	this._original_tooltip=this.inputNode.title
	},prekeyup:function I(L){this._super(L)
	var P=(this.constraints.trigger&G.ONKEYUP)>0
	if(P){var M=this.validationDelay
	if(M){this.clearValDelayTimer()
	var O=this._validateHandler
	if(!O){var N=this
	this._validateHandler=O=function(){N.validate()
	if(N._valDelayTimer){window.clearTimeout(N._valDelayTimer)
	delete N._valDelayTimer
	}}
	}this._valDelayTimer=window.setTimeout(O,M)
	}else{this.validate()
	}}},preinput:function D(L){this._super(L)
	F.call(this,G.ONKEYUP)
	},preblur:function B(L){this._super(L)
	F.call(this,G.ONBLUR)
	},clearValidation:function C(){this._super()
	var L=this.inputNode
	H.removeClass(L,this.constraints.invalidCssClass||"mstrmojo-TextBox-ErrValidation")
	L.title=this._original_tooltip
	},clearValDelayTimer:function(){var L=this._valDelayTimer
	if(L){window.clearTimeout(L)
	}}})
	mstrmojo._HasMarkup.addMarkupMethods(mstrmojo.ValidationTextBox,{onvalidationStatusChange:function(){var P=this.validationStatus
	if(!P){return 
	}var N=this.inputNode,L=(P.code>J.VALID),M=this.constraints.invalidCssClass
	H.toggleClass(N,M||"mstrmojo-TextBox-ErrValidation",L)
	var O=L?this.getInvalidMsg(P):this._original_tooltip
	if(!this.useRichTooltip&&O!==undefined&&O!==null){N.setAttribute("title",O)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.SliderBox","mstrmojo._IsInputControl","mstrmojo.Box","mstrmojo.hash","mstrmojo.string")
	var B=mstrmojo.css,D=mstrmojo.hash,C=mstrmojo.string,A=1
	mstrmojo.SliderDIC=mstrmojo.declare(mstrmojo.SliderBox,[mstrmojo._IsInputControl],{scriptClass:"mstrmojo.SliderDIC",popupStyle:1,tabIndex:0,markupString:'<div id="{@id}" class="{@cssClass}" style="{@cssText}" tabindex="{@tabIndex}" ><div class="valuePart" style="{@valueCssText}"><span class="valueLabel">{@valueLabel}</span><span class="valueText">{@en@valueText}</span></div><table class="sliderPart" style="{@sliderCssText}"><tbody><tr><td class="minText">{@en@min}</td><td class="sliderWrapper"></td><td class="maxText">{@en@max}</td></tr></tbody></table><div class="curtain"></div></div>',markupSlots:D.copy({sliderPartNode:function(){return this.domNode.children[1]
	},minTextNode:function(){return this.domNode.children[1].rows[0].cells[0]
	},maxTextNode:function(){return this.domNode.children[1].rows[0].cells[2]
	},sliderNode:function(){return this.domNode.children[1].rows[0].cells[1]
	},disableCurtainNode:function(){return this.domNode.lastChild
	}},D.copy(mstrmojo.SliderBox.prototype.markupSlots)),init:function(E){if(this._super){this._super(E)
	}this.cssClass=this.showByDefault?"mstrmojo-SliderGroup":"mstrmojo-PopupSlider"
	this.items=this.getItems()
	if(this.dic.ipt!==A){this.isSequential=true
	this.max=this.dic.max
	this.min=this.dic.min
	this.interval=this.dic.itv
	}},focus:function(){if(mstrmojo.dom.isIE){var E=this
	setTimeout(function(){E.domNode.focus()
	},10)
	}else{this.domNode.focus()
	}},preBuildRendering:function(){this._super()
	var H=this.dic,E=(H.ldw!=null)?H.ldw/100:0.4,F,G=this.openerStyle
	if(this.showByDefault){F=G.iw*(1-E)-G.rp-3
	this.alignSlider(this.openerNode,G.ih)
	}else{F=H.w
	}this.sliderBar.set("width",F)
	this.valueText=this.showByDefault?C.decodeHtmlString(this.dv):this.value
	if(!this.showByDefault&&this.unset&&this.isSequential){this.valueText+=" "+mstrmojo.desc(8316,"(out of range)")
	}},handleDisable:function(){return !!this.showByDefault
	},postBuildRendering:function(){if(this._super){this._super()
	}if(this.showByDefault){var H=this.dic,E=(H.ldw!=null)?H.ldw:40,G=this.openerStyle
	this.domNode.style.width=G.iw+"px"
	this.domNode.style.height=G.ih+"px"
	this.valuePartNode.style.width=this.sliderPartNode.style.left=E+"%"
	if(this.isSequential){this.sliderBar.set("title",mstrmojo.desc(5441,"Minimum value")+": "+this.min+"   "+mstrmojo.desc(5442,"Maximum value")+": "+this.max)
	}}if(this.handleDisable()){B.toggleClass(this.disableCurtainNode,"disabled",!!this.enabled)
	if(!this.enabled){var F={height:this.sliderPartNode.clientHeight+"px",width:(this.sliderPartNode.clientWidth+this.valuePartNode.clientWidth)+"px"}
	D.copy(F,this.disableCurtainNode.style)
	}}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Slider","mstrmojo.css","mstrmojo.hash")
	var D=mstrmojo.dom,C=mstrmojo.css,G=mstrmojo.hash,B=9,F="px"
	mstrmojo.AttributeSlider=mstrmojo.declare(mstrmojo.Slider,null,{scriptClass:"mstrmojo.AttributeSlider",thumbWidth:7,synchronizeSlider:function A(){if(this.isHoriz){var O=this.orCfg,N=O.lenCssP,J=this[N],H=parseInt(J,10),S=this.hasRendered
	var K=this._effLen=isNaN(H)?0:(H-this._exRoom-(2*B))
	if(J){var R={}
	R[N]=Math.max(parseInt(J,10)-(2*this.cssBkBW),0)-(2*B)+F
	var L={}
	L[N]=K+F
	L[O.posCssP]=Math.round(this._exRoom/2)+B+F
	L[O.opPosCssP]="0"+F
	if(S){G.copy(R,this.bgNode.style)
	G.copy(L,this.sdcNode.style)
	}else{this.bkCssText=C.getCssTextFromObj(R)
	this.sdcCssText=C.getCssTextFromObj(L)
	}}var W=this.selectedIndices
	if(!G.isEmpty(W)){var Q=this.items.length,M=-1,U=-1,P
	for(P=0
	P<Q
	P++){if(W[P]){if(M<0){M=P
	}U=P
	}else{if(M>-1){break
	}}}this.min=M
	this.max=U
	}var I=this.typeHelper
	this.unit=I.getUnit()
	if(S){I.updateThumb()
	}else{I.preUpdateThumb()
	}}else{this._super()
	}},postBuildRendering:function E(){this._super()
	C.addClass(this.containerNode,["attslider"])
	C.addClass(this.frontNode,["attslider"])
	C.addClass(this.thumbNode,["attslider"])
	C.addClass(this.endNode,["attslider"])
	C.addClass(this.bgNode,["attslider"])
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase","mstrmojo._IsList","mstrmojo._CanAutoClose","mstrmojo._IsPopup","mstrmojo.ui.menus._HasMenuPopup","mstrmojo.ui.menus._IsMenuPopup","mstrmojo.ui.PopupConfig","mstrmojo.ui._HasScroller","mstrmojo.ui._HasUITheme","mstrmojo.dom","mstrmojo.css","mstrmojo.vi.util.A11yUtility","mstrmojo.ui._HasListTooltip")
	var D=mstrmojo.dom,R=mstrmojo.css,L=mstrmojo.vi.util.A11yUtility,K=mstrmojo.ui.PopupConfig.directionCfg
	var S={}
	var N=false
	function F(Z,Y){var X=Y?Z.nextElementSibling:Z.previousElementSibling
	if(X&&X.classList.contains("separator")){X=F(X,Y)
	}return X
	}function G(b,c){if(b.pop){if(c&&b.ax){window.clearTimeout(this._popupAxTimeout)
	b.actionFn()
	this.closeAllMenus()
	}else{var Z=b.fn.call(mstrmojo.all[b.scope],b.ctxt)
	if(this.hasAccessibility){Z.hasAccessibility=true
	Z.navMode=this.navMode||(this.popupConfig&&this.popupConfig.navMode)
	}var a=Z.ENUM_CORNERS,Y=Z.maxHeight,X=D.getMaxScrollHeight()
	Z.setAlignment(a.TOP_RIGHT,a.TOP_LEFT)
	Z.hostId=this.id
	Z.hostElement=this._getItemNode(b._renderIdx)
	Z.includeScroll=this.includeScroll
	Z.supportsScroll=true
	Z.alignWithAnchor=true
	Z.isHostedWithin=false
	Z.maxHeight=Y?Math.min(X,Y):X
	this.openPopup(Z.newInstance())
	}}else{if(b.dsbld!==true){if(b.fn(b,this)!==false){this.closeAllMenus()
	}}}}mstrmojo.ui.menus.Menu=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList,mstrmojo.ui.menus._HasMenuPopup,mstrmojo._IsPopup,mstrmojo.ui.menus._IsMenuPopup,mstrmojo._CanAutoClose,mstrmojo.ui._HasListTooltip,mstrmojo.ui._HasScroller,mstrmojo.ui._HasUITheme],{scriptClass:"mstrmojo.ui.menus.Menu",selectionPolicy:"reselect",locksHover:true,closeOnClick:true,themeClassName:"mojo-theme-dark",icnCss:"mstrmojo-ui-Menu-item-container",popupConfig:null,accessibilityMenuContainer:function(){return this
	},tooltipCss:{leftCssClass:"menuTooltip",rightCssClass:"menuTooltip"},setupScrollNodes:function(){if(this.popupConfig&&this.popupConfig.supportsScroll){this.scrollNode=this.itemsContainerNode
	this.scrollbarHostNode=this.domNode
	}},updateScrollbars:function(){this._super()
	if(this.popupConfig&&this.popupConfig.supportsScroll&&this.hasCustomScrollbar){var Y=this.scrollNode
	if(!Y){return 
	}var X=D.getComputedScrollbarWidth(Y)
	Y.style.marginRight=-X+"px"
	Y.style.paddingRight=0
	}},onscroll:function(){this.closePopup()
	this._super()
	},init:function O(Z){this._super(Z)
	if(!!mstrApp.isWSStyling){this.themeClassName="mojo-theme-light"
	}if(Z.themeClassName){this.themeClassName=Z.themeClassName
	}var X=this.popupConfig
	this.items=X.getMenuItems()
	var Y=["mstrmojo-ui-Menu","unselectable"],a=X.menuCssClass
	if(a){Y.push(a)
	}if(X.hasToggleItem){Y.push("hasToggleItem")
	}R.addWidgetCssClass(this,Y)
	if(X&&X.supportsScroll&&X.maxHeight>0){this.icnCssText=(this.icnCssText||"")+"
	max-height:"+X.maxHeight+"px"
	}this.useRichTooltip=!!X.useTooltip
	this.tstid=X.tstid
	},markupMethods:{onvisibleChange:function M(){var X=this.visible
	if(!N||X){R.toggleClass(this.domNode,"visible",X)
	}}},getItemMarkup:function C(d,Y){if(d.getItemMarkup){return d.getItemMarkup.apply(this,[d,Y])
	}var a=!!d.pop,b=!!d.msg,c=a?"submenu":(b?d.msg:"item"),Z=S[c],X='<div class="micn"></div>',e=b?(" "+d.msg):""
	if(!Z){X+=!!mstrApp.isWSStyling?'<div class="mtxt'+e+'">{@en@n}</div>':"{@en@n}"
	if(a){X+='<div class="arw"></div>'
	}else{if(d.msg==="warn-msg"){X+='<div class="warn-icon"></div>'
	}}Z=this._super(d,Y).replace("{@en@n}",X)
	S[c]=Z
	}if(d.tstid){Z=Z.replace("{@tag}","{@tag} "+mstrmojo.tstid(d)+" ")
	}return Z
	},getItemProps:function U(Z,X){var Y=this._super(Z,X)
	Y.tag="a"
	Y.addCls("mstrmojo-ui-Menu-item")
	Y.addCls(Z.cls)
	return Y
	},onkeydown:function H(c){var Z=c.getTarget(),g=c.e.keyCode,a
	switch(g){case 37:var b=this.opener,X=b.openerMenuElement
	if(X){this.close()
	X.focus()
	delete b.openerMenuElement
	}break
	case 39:var h=this.items[Z.getAttribute("idx")].pop,e=this.xtab||this.opener.boxContent
	if(h){this.openerMenuElement=Z
	this.onclick(c)
	}if(e){e.isMenuClicked=true
	}break
	case 38:case 40:var Y=g===40
	a=F(Z,Y)
	if(a){a.focus()
	}break
	case 13:var h=this.items[Z.getAttribute("idx")].pop,e=this.xtab||this.opener.boxContent,f=e&&e.zone&&e.zone.tableNode
	if(h){this.openerMenuElement=Z
	}this.onclick(c)
	if(this.selectedItem.n==="Copy Rows"&&e){f.focus()
	}else{if(e){e.isMenuClicked=true
	}}break
	case 27:var b=this.opener,e=this.xtab||this.opener.boxContent,d=b.openerMenuElement||this.td||this.popupConfig.hostElement
	if(d){this.actionByKeyboard=true
	this.close()
	delete b.openerMenuElement
	}if(e){e.isMenuClicked=false
	}break
	default:break
	}c.e.preventDefault()
	c.e.stopPropagation()
	},onmouseover:function E(d){var b=d.config&&d.config.targetHostElement?d.config.targetHostElement:d.getTarget(),f=this.getItemFromTarget(b),c=this,Y=c._lastOpened,g=Y&&this.getItemFromTarget(Y.popupConfig.hostElement),X=g&&g._renderIdx,Z=this.getItemNodeFromTarget(b),a=(X!==undefined&&D.contains(this._getItemNode(X),b,true,this.domNode))
	if(f){this._lastHoverIx=f._renderIdx
	window.clearTimeout(this._popupTimeOut)
	window.clearTimeout(this._popupAxTimeout)
	if(this._lastHoverIx!==X&&!a){this._popupTimeOut=window.setTimeout(function(){if(c._lastOpened&&c._lastOpened.visible){c.closePopup()
	}if(c.visible&&f.pop){if(f.ax){c._popupAxTimeout=window.setTimeout(function(){R.removeClass(Z,"hlt-ax")
	G.call(c,f)
	},0)
	}else{G.call(c,f)
	}}},400)
	if(f.pop&&f.ax){R.addClass(Z,"hlt-ax")
	}}}var e=this.popupConfig
	if(e&&!e.isHostedWithin&&this.opener){this.opener.raiseEvent(mstrmojo._HasMarkup.newDomEvent(d.name,d.hWin,d.e,{targetHostElement:e.hostElement}))
	}},onclick:function W(X){this._evtTarget=X.getTarget()
	this.actionByKeyboard=L.isKeyBoardEvent(X.e)
	this._super(X)
	X.cancel()
	},postselectionChange:function I(X){var Y=X.added
	if(Y){var Z=this.items[Y[0]]
	G.call(this,Z,!(Z.ax&&this._evtTarget.className==="arw"))
	delete this._evtTarget
	}},oncontextmenu:function P(X){D.preventDefault(window,X.e)
	return false
	},postBuildRendering:function Q(X){this._super(X)
	if(this.popupConfig.supportsScroll){var Y=this
	window.setTimeout(function(){Y.updateScrollbars()
	},10)
	}},showTooltip:function B(b,a){var Z=D.eventTarget(a,b),Y=this.getItemNodeFromTarget(Z),X=this.getItemFromTarget(Z)
	this.itemDisabled=X&&X.dsbld
	if(Y&&((X&&X.ttp)||(Y.scrollWidth>Y.clientWidth)||(Z.scrollWidth>Z.clientWidth))){this._super(b,a)
	}},onCloseMenuCallBack:null,onOpen:function J(){if(this._super){this._super()
	}if(this.hasAccessibility&&this.enableAccessibility){this.enableAccessibility()
	}},onClose:function A(X){if(this._super){this._super(X)
	}this.closePopup()
	if(this.onCloseMenuCallBack){this.onCloseMenuCallBack()
	}if(this.navMode){var Z=this.popupConfig&&this.popupConfig.hostId,Y=Z&&mstrmojo.all[Z]
	if(Y){Y.raiseEvent({name:"menuClosed",needFocus:this.actionByKeyboard})
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.TextArea","mstrmojo.Button","mstrmojo.Label","mstrmojo.Box","mstrmojo.fx","mstrmojo.css","mstrmojo.DropDownButton")
	var D=1,K=2,B=null,A=null,E=mstrmojo.dom,F=mstrmojo.css
	var C=400
	function G(W,Q,M,N,U,L,P,S){var R={duration:C,target:Q,onEnd:function(){if(L){L()
	}},props:{}}
	R.props[M]={ease:P||mstrmojo.ease.sin,start:parseInt(N,10),stop:parseInt(U,10),suffix:"px"}
	R=mstrmojo.hash.copy(S,R)
	var O=new mstrmojo.fx.AnimateProp(R)
	O.play()
	return O
	}mstrmojo.ElasticTextArea=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.ElasticTextArea",markupString:'<div id="{@id}" class="mstrmojo-ElasticTextArea {@cssClass}" style="{@cssText}" mstrAttach:blur ><div class="mstrmojo-ElasticTextAreaContent " style="height: 100%
	"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	}},markupMethods:{onvalueChange:function(){if(this.textNode&&this.value!==this.textNode.textArea.value){this.textNode.textArea.set("value",this.value)
	this.adjustStatusBar()
	}},onvisibleChange:function(){this.domNode.style.display=this.visible?"inline":"none"
	},onwidthChange:function(){if(this.domNode&&this.width){this.domNode.style.width=this.width+"px"
	}},ontopChange:function(){if(this.domNode&&this.top){this.domNode.style.top=this.top+"px"
	}},onleftChange:function(){if(this.domNode&&this.left){this.domNode.style.left=this.left+"px"
	}}},width:200,resize:"none",maxLength:256,value:"",enabled:true,minTextNodeHeight:15,postCreate:function(){var M=this,L=this.minTextNodeHeight
	this.children=[{scriptClass:"mstrmojo.Box",alias:"textNode",cssText:"width:100%
	",height:L+"px",onheightChange:function(O){var P=Math.max(L,parseInt(O.valueWas,10)||0),N=Math.max(L,parseInt(O.value,10))
	if(P!==N){if(E.isIE7){this.textArea.domNode.style.height=this.domNode.style.height=N+"px"
	}else{if(this._slidingFx&&this._slidingFx.isPlaying){this._slidingFx.props.height.stop=N
	}else{this._slidingFx=G(true,this.domNode,"height",P,N)
	}}}},children:[{scriptClass:"mstrmojo.TextArea",alias:"textArea",cssClass:"eta-text",cssText:"width:100%
	height:100%
	line-height:inherit
	box-sizing:content-box
	",rows:1,bindings:{maxLength:"this.parent.parent.maxLength",enabled:"!!this.parent.parent.enabled"},onblur:function(N){if(M.onblur){M.onblur(N)
	}},onkeyup:function(P){var Q=this.maxLength,N=this.value.length
	if(Q<N){if(E.isIE7||E.isIE8||E.isIE9){this.value=this.domNode.value=this.value.substr(0,Math.min(N,Q))
	}}var O=this.parent.parent
	O.set("value",this.value)
	O.adjustStatusBar()
	}},{scriptClass:"mstrmojo.Label",cssClass:"eta-text ghost",alias:"ghost",cssText:"visibility: hidden
	z-index:-1
	position:absolute
	left:0
	top:0
	text-align:"+(E.isIE?"left":"start")+"
	word-wrap:break-word
	border:1px solid red
	none
	margin:0
	padding:2
	width:100%
	",bindings:{text:"this.parent.parent.value"},_setHeight:function(O){var N=Math.max(parseInt(O,10)||0,this.domNode.clientHeight)
	this.parent.set("height",N)
	},postCreate:function(){this.markupMethods=mstrmojo.hash.copy(this.markupMethods)
	this.markupMethods.ontextChange=function(N){if(this.domNode&&this.text){this.domNode.innerHTML=this.text.replace(/<br \/>&nbsp
	/,"<br />").replace(/<|>/g," ").replace(/&/g,"&amp
	").replace(/\n/g,"<br />&nbsp
	")
	}else{if(this.domNode){this.domNode.innerHTML="&nbsp
	"
	}}this._setHeight()
	}
	},postBuildRendering:function(N){if(this._super){this._super(N)
	}this._setHeight(this.parent.parent.height)
	}}]},{scriptClass:"mstrmojo.Label",alias:"statusBar",cssClass:"eta-bar",text:""},{scriptClass:"mstrmojo.Label",alias:"msgBoxTip",cssClass:"eta-tip",cssText:E.isIE8?"bottom: -4px
	":""}]
	},postBuildRendering:function I(){if(this._super){this._super()
	}this.textNode.textArea.set("value",this.value)
	this.adjustStatusBar()
	},onmaxLengthChange:function(L){if(L.value){this.adjustStatusBar()
	}},onfontChange:function(L){var O=this.textNode.textArea,N=this.textNode.ghost,M
	for(M in this.font){this.domNode.style[M]=this.font[M]
	if(E.isIE7){O.domNode.style[M]=this.font[M]
	N.domNode.style[M]=this.font[M]
	this.statusBar.domNode.style[M]=this.font[M]
	}}if(E.isIE9){O.refresh()
	}N._setHeight()
	},adjustStatusBar:function(){if(!this.msgBoxTip.domNode){return 
	}var O=this,R=this.maxLength,S=this.textNode.textArea,Q=(S.value&&S.value.length)||0,P=Q/R,M=this.statusBar,L=this.msgBoxTip
	var N=P*this.width
	L.domNode.style.left=Math.min(Math.ceil(N-L.domNode.offsetWidth/2),this.width-3)+"px"
	M.set("text",mstrmojo.desc(4891,Q+" of "+R).replace("##",Q).replace("###",R))
	},focus:function(){E.setCaret(this.textNode.textArea.domNode,((this.value&&this.value.length)||0))
	}})
	mstrmojo.ElasticTextAreaButton=mstrmojo.declare(mstrmojo.DropDownButton,null,{scriptClass:"mstrmojo.ElasticTextAreaButton",cssClass:"mstrmojo-ElasticTextAreaButton",popupToBody:false,popupWidth:200,maxLength:256,enabled:true,lockAutoClose:mstrmojo.emptyFn,unlockAutoClose:mstrmojo.emptyFn,unrender:function H(L){var M=this.popupRef
	if(this.popupToBody&&M.hasRendered){M.unrender(false)
	}if(this._super){this._super(L)
	}},postBuildRendering:function I(){if(this._super){this._super()
	}if(this.value&&this.value.length>0){F.addClass(this.domNode,"filled")
	}},premousedown:function J(M){if(this.popupToBody){var P=E.position(this.popupNode,true),O=this.popupRef,L={left:Math.round(P.x)+"px",top:Math.round(P.y)+"px"}
	if(!O.hasRendered){delete O.slot
	L.placeholder=document.body.appendChild(document.createElement("div"))
	}this.popupOpenConfig=this.popupOpenConfig||{}
	mstrmojo.hash.copy(L,this.popupOpenConfig)
	}else{this.popupRef.slot="popupNode"
	}if(this.popupRef.eta){this.popupRef.eta.set("value",this.value)
	}else{this.popupRef.children[0].value=this.value
	}if(this._super){this._super()
	}var N=this.popupRef.domNode
	if(N){N.style.minWidth=(this.domNode.offsetWidth-2)+"px"
	}},openPopup:function(M,L){this._super(M,L)
	this.lockAutoClose()
	},popupRef:{scriptClass:"mstrmojo.Popup",slot:"popupNode",cssClass:"mstrmojo-ElasticTextAreaPopup",shadowNodeCssClass:"mstrmojo-ElasticTextAreaPopup-shadow",contentNodeCssClass:"mstrmojo-ElasticTextAreaPopup-content",autoCloses:false,locksHover:true,visible:true,onOpen:function(){var M=this.eta,N=M.domNode.firstChild,O=0,L
	this.eta.set("font",this.opener.font)
	N.parentNode.style.display="block"
	F.addClass(this.opener.domNode,"editing")
	N.parentNode.style.overflow="hidden"
	L=this._h||(N.offsetHeight)
	G(false,N,"height",O,L,function(){N.style.height="100%"
	N.parentNode.style.overflow="visible"
	M.focus()
	})
	},onClose:function(){this.visible=false
	var N=this.eta.domNode,M=N.firstChild,O=M.offsetHeight,L=0
	this.opener.unlockAutoClose()
	this._h=O
	this.opener.set("value",this.eta.value)
	F.removeClass(this.opener.domNode,"editing")
	M.style.height=M.offsetHeight+"px"
	N.style.overflow="hidden"
	G(false,M,"height",O,L,function(){N.style.display="none"
	})
	},children:[{scriptClass:"mstrmojo.ElasticTextArea",alias:"eta",bindings:{width:function(){return this.parent.opener.popupWidth
	},maxLength:function(){return this.parent.opener.maxLength
	},enabled:function(){return this.parent.opener.enabled
	}}}]}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.CheckBoxDIC")
	var B=mstrmojo.css,A=mstrmojo.dom
	mstrmojo.MarkRowDIC=mstrmojo.declare(mstrmojo.CheckBoxDIC,null,{scriptClass:"mstrmojo.MarkRowDIC",cssClass:"mstrmojo-MarkRowDIC",onclick:function(){if(this.grayed){this.set("grayed",false)
	}this.set("checked",!this.checked)
	var E=this.group&&this.group.widgetsMap,D,C
	if(this.markAll){for(D in E){if(E.hasOwnProperty(D)){C=E[D]
	if(C.checked!==this.checked){C.set("checked",this.checked)
	}}}}else{for(D in E){C=E[D]
	if(C.markAll&&C.checked!==this.checked){C.set("grayed",true)
	break
	}}}},postBuildRendering:function(){if(this._super){this._super()
	}var C=this.openerNode
	if(!this.markAll){A.attachEvent(this.domNode,"mouseover",function(D){B.addClass(C.parentNode,"markSelection")
	})
	A.attachEvent(this.domNode,"mouseout",function(D){B.removeClass(C.parentNode,"markSelection")
	})
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo._IsInputControl","mstrmojo.Box","mstrmojo.ElasticTextArea","mstrmojo.hash","mstrmojo.css")
	var G=4,F=5,E=6,C=7,B=10
	var D=mstrmojo.hash,A=mstrmojo.css
	mstrmojo.TextAreaDIC=mstrmojo.declare(mstrmojo.Box,[mstrmojo._IsInputControl],{scriptClass:"mstrmojo.TextAreaDIC",applyOnEnter:false,onfontChange:function(){var H=this.font
	if(this.etab){this.etab.set("font",H)
	}else{if(this.eta){this.eta.set("font",H)
	}}},focus:function(){if(this.eta){this.eta.focus()
	}else{if(this.etab){this.etab.premousedown()
	}}},init:function(J){if(this._super){this._super(J)
	}if(this.showByDefault){var I,K=this.dic
	if(K.siwc){I={cssText:"position:relative
	min-height:18px
	",ontextChange:function(){this.preview.set("text",this.text)
	},onvalueChange:function(){if(K.sp){var L=this.value,M=this.dv||"",O="",N=""
	switch(this.ts){case E:N="mailto:"
	case F:O=L.substring(0,K.pl)
	this.dv=M.replace(/(.*href=['"])(.*)(['"].*>)(.*)(<.*)/i,"$1"+N+L+"$3"+O+"$5")
	break
	default:O=M.substring(0,K.pl)
	break
	}this.preview.set("text",(K.pl>0&&M.length>K.pl)?O+"...   ":(K.pl>0&&O.length>0)?O:"")
	}if(this.etab.domNode){if(this.value&&this.value.length!==0){A.addClass(this.etab.domNode,"filled")
	}else{A.removeClass(this.etab.domNode,"filled")
	}}this.etab.value=this.value
	this.applyChanges()
	},onpopupwidthChange:function(){this.etab.set("popupWidth",this.popupwidth||200)
	},onheightChange:function(){if(this.height){this.domNode.style.height=this.height+"px"
	}}}
	}else{I={cssText:"position:relative",onpopupwidthChange:function(){this.eta.set("width",(this.popupwidth-4)||200)
	},onheightChange:function(){if(this.domNode&&this.height){this.domNode.style.height=this.height+"px"
	this.eta.set("height",this.height-4)
	}}}
	}D.copy(I,this)
	if(K.siwc){this.addChildren([{alias:"preview",scriptClass:"mstrmojo.Label"},{alias:"etab",popupToBody:true,maxLength:K.ml||250,cssText:"position:absolute
	right:0
	top:0px",bindings:{enabled:"this.parent.enabled"},onvalueChange:function(){if(this.value!==this.parent.value){var M=this.parent,L=""
	switch(M.ts){case E:L="mailto:"
	case F:if(!M.dv){M.dv='<a href="mailto:"></a>'
	}var N=/(.*href=['"])(.*)(['"].*>)(.*)(<.*)/i
	M.set("dv",M.dv.replace(N,"$1"+L+this.value+"$3"+this.value+"$5"))
	break
	default:M.set("dv",this.value)
	break
	}M.set("value",this.value)
	}},lockAutoClose:function(){var L=this.parent.showByDefault
	if(L){this.parent.setInfoWindowLock(true)
	}},unlockAutoClose:function(){var L=this.parent.showByDefault
	if(L){this.parent.setInfoWindowLock(false)
	}},premousedown:function(){var M=!this.popupRef.hasRendered
	mstrmojo.ElasticTextAreaButton.prototype.premousedown.apply(this,arguments)
	if(M){var L=this.popupRef,N=this.parent
	mstrmojo.dom.attachEvent(L.domNode,"keydown",function(O){var P=O||window.event
	if(P.keyCode==9){L.close()
	N.onTabDown(O)
	}})
	}},scriptClass:"mstrmojo.ElasticTextAreaButton"}])
	}else{var H=K.vm?{scriptClass:"mstrmojo.TextAreaValidation",dic:K}:{scriptClass:"mstrmojo.TextArea"}
	this.addChildren(D.copy(H,{alias:"eta",maxLength:K.ml||250,onheightChange:function(){if(this.hasRendered&&this.height){this.domNode.style.height=this.height+"px"
	}},onfontChange:function(){if(this.hasRendered&&this.font){D.copy(this.font,this.domNode.style)
	}},onblur:function(){if(!this.validate){this.parent.set("value",this.value)
	}else{this.validate()
	if(!this.isValid()){this.handleInvalid()
	}else{this.parent.set("value",this.value)
	}}},onwidthChange:function(){if(this.hasRendered&&this.width){this.domNode.style.width=this.width+"px"
	}},placeholderText:this.placeholderText,bindings:{value:"this.parent.value",enabled:"this.parent.enabled"}}))
	}this.onvalueChange()
	}else{this.addChildren({alias:"eta",scriptClass:"mstrmojo.ElasticTextArea",maxLength:this.dic.ml,value:this.value,onvalueChange:function(){this.parent.set("value",this.value)
	},bindings:{enabled:"this.parent.enabled"}})
	this.onpopupwidthChange=function(){this.eta.set("width",(this.popupwidth-4)||200)
	}
	}},postBuildRendering:function(){this._super()
	var H=this.dic
	if(!mstrmojo.isDescendant(this.owner,this)){if(this.showByDefault&&!H.siwc){this.set("height",this.openerStyle.ih)
	this.set("popupwidth",this.openerStyle.iw)
	}else{if(H.wm&&H.w){this.set("popupwidth",H.w)
	}}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase","mstrmojo.ui.menus.Menu","mstrmojo._IsList","mstrmojo.vi.ui._HasMask","mstrmojo.dom","mstrmojo.hash","mstrmojo.string","mstrmojo.ui.menus._HasMenuPopup","mstrmojo.vi.util.A11yUtility","mstrmojo.ui._HasListTooltip")
	var C=mstrmojo.dom,H=mstrmojo.vi.util.A11yUtility
	mstrmojo.vi.ui.toolbars.Toolbar=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList,mstrmojo.ui.menus._HasMenuPopup,mstrmojo.vi.ui._HasMask,mstrmojo.ui._HasListTooltip],{scriptClass:"mstrmojo.vi.ui.toolbars.Toolbar",tooltipOrientation:"vertical",init:function G(J){this._super(J)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-VIToolbar")
	},selectionPolicy:"reselect",toolbarCfg:null,toolbarClicked:mstrmojo.emptyFn,tooltipCss:null,_set_toolbarCfg:function(M,J){var K=this.toolbarCfg,L=(K!==J)
	if(L){if(K){K.destroy()
	}this.toolbarCfg=J
	}return L
	},getItemProps:function E(L,J){var K=this._super(L,J)
	K.addCls(L.cls)
	K.addStyle("display:inline-block")
	return K
	},postBuildRendering:function A(){var J=document.createElement("div")
	J.className="mstrmojo-VIDND-mask"
	this.maskNode=this.domNode.appendChild(J)
	return this._super()
	},postselectionChange:function(J){var K=J.added
	if(K){var L=this.items[K[0]]
	if(L.tp==="pb"&&L.isMenuClicked){L.menufn(L,this)
	}else{L.fn(L,this,J)
	}}},ontoolbarCfgChange:function B(J){var L=J.valueWas
	if(L){L.destroy()
	}var K=J.value
	if(!K){return 
	}this.set("items",K.btns)
	if(this.hasRendered){this.raiseEvent({name:"renderComplete"})
	}},openMenu:function D(N,J){var M=this.id,K=this._getItemNode(J._renderIdx),L
	N.hostId=M
	N.hostElement=K
	L=N.newInstance()
	L.navMode=!!this.actionByKeyboard
	if(L.navMode&&L.scriptClass==="mstrmojo.ui.menus.Menu"){this.attachEventListenerOnce("menuClosed",M,function(O){if(O&&O.needFocus&&K&&K.grabFocus){K.grabFocus(true)
	}})
	}this.openPopup(L)
	},onclick:function I(J){var L=J.target||C.eventTarget(J.hWin,J.e),K=this.getItemFromTarget(L)
	if(K&&K.tp==="pb"){if(L&&L.className){K.isMenuClicked=L.className.indexOf("icn")===-1
	}}this.actionByKeyboard=H.isKeyBoardEvent(J.e)
	this.toolbarClicked(J)
	this._super(J)
	},destroy:function F(K){var J=this.toolbarCfg
	if(J){J.destroy()
	}delete this.items
	this._super(K)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.PopupConfig","mstrmojo.ui.menus.Menu","mstrmojo.hash","mstrmojo.array","mstrmojo.css","mstrmojo.DynamicClassFactory","mstrmojo._IsAccessibleMenu")
	mstrmojo.ui.menus.MenuItemType=null
	var B=mstrmojo.array,O=mstrmojo.css,b="separator"
	mstrmojo.ui.menus.MenuConfig=mstrmojo.declare(mstrmojo.ui.PopupConfig,null,{scriptClass:"mstrmojo.ui.menus.MenuConfig",menus:null,menuCssClass:"",supportsScroll:false,maxHeight:0,hasToggleItem:false,hasMenuItems:function X(){var c=B.filter(this.menus||[],function(d){return d.cls!==b
	})
	return !!c.length
	},getMenuItems:function F(c){var e=B.filter(this.menus.slice().reverse(),function(j,h,g){var f=g[h+1]
	return c||j.cls!==b||(h&&f&&f.cls!==b)
	}).reverse()
	var d=(e&&e.length)||0
	if(!c&&d>0&&e[d-1].cls===b){e.pop()
	}return e
	},getMenuItem:function D(f){var e=this.menus,c
	if(e!==null){for(c=0
	c<e.length
	c++){var d=e[c]
	if(d.cls===f){return d
	}}}return null
	},absorbMenuItems:function Z(c){this.menus=this.menus.concat(c.menus)
	if(!this.hasToggleItem&&c.hasToggleItem){this.hasToggleItem=true
	}},addMenuItem:function K(k,l,j,h,g,d,f){var m,e,c
	if(!k||typeof k==="string"){m=k
	}else{m=k.n
	e=k.ttp
	}c={n:m,ttp:e,cls:l,fn:j,ctxt:h,msg:f}
	if(isNaN(g)||g>=this.menus.length){this.menus.push(c)
	}else{this.menus.splice(g,d?1:0,c)
	}if(l.indexOf(/\bon\b/)>-1){this.hasToggleItem=true
	}return c
	},addCustomMenuItem:function a(h,e,g,d,c){var f=this.addMenuItem(h,e,g,c)
	f.getItemMarkup=d
	return f
	},addDisabledMenuItem:function R(d,c){this.addNonInteractiveMenuItem(d,c,true)
	},addNonInteractiveMenuItem:function P(g,d,c){var e=["non-int"]
	if(d){e.push(d)
	}if(c){e.push("disabled")
	}if(g&&typeof g!=="string"&&g.ttp){this.useTooltip=true
	}var f=this.addMenuItem(g,e.join(" "),mstrmojo.emptyFn)
	f.dsbld=true
	},addSeparator:function E(c,d){var e=[b]
	if(c){e.push(c)
	}this.addMenuItem("",e.join(" "),function(){return false
	},undefined,d)
	},addPopupMenuItem:function Y(j,l,h,k,g,f,c){var e=["pop "]
	if(k){e.push(k)
	}var d=this.addMenuItem(j,e.join(" "),h,g,f,c)
	d.pop=true
	d.scope=l
	return d
	},addActionPopupMenuItem:function N(k,d,h,j,e,c,g){var f=this.addPopupMenuItem(k,d,j,(e||"")+" ax",c,g)
	f.actionFn=h
	f.ax=true
	},addSubMenuItem:function M(g,e,d,f,c){this.addPopupMenuItem(g,d,f,e,c)
	},addEditorMenuItem:function S(g,d,f,c,e){this.addPopupMenuItem(g,d,f,"",c,e)
	},getToggleItemStates:function G(l,n,c,j,e,h){var f,g,d,k
	if(typeof l==="string"){f=g=l
	d=k=""
	}else{f=l.on||""
	g=l.off||""
	d=l.ttpOn||""
	k=l.ttpOff||""
	}var m=[{n:f,ttp:d,cls:n+" on",fn:j,ctxt:h},{n:g,ttp:k,cls:n,fn:c,ctxt:h}]
	if(!e){m.reverse()
	}return m
	},addToggleMenuItem:function L(k,f,h,e,d,j,c){var g=this.getToggleItemStates(k,f,h,e,j,c)
	this.hasToggleItem=true
	return this.addDualStateItem(d,g[0],g[1])
	},addDualStateItem:function I(d,c,e){return this.addMenuItem({n:c.n,ttp:c.ttp},c.cls,this.getDualStateHandler(d,c,e),c.ctxt)
	},getDualStateHandler:function J(d,c,e){return function(g,h){var f=[c,e]
	if(g.cls===c.cls){f.reverse()
	}f[1].fn.call(mstrmojo.all[d],g,h)
	if(g.cls.indexOf("toggleManualMode")===-1){g.n=f[0].n
	g.ttp=f[0].ttp
	g.cls=f[0].cls
	}}
	},addRadioMenuGroup:function C(e,k,f,d,c,j,h){var g=[]
	this.hasToggleItem=true
	f.forEach(function(o,l){if(o.separator){this.addSeparator()
	return 
	}var q=o.text,p=(d||"")+" "+(o.cls||"")+(j?"":" radio")+(o.value===e?" on":""),n=function(){if(k.call(this.ctxt,o.value,e,o)===false){return false
	}e=o.value
	g.forEach(function(r){r.cls=r.cls.replace(/ on$/,"")+(r.radioValue===e?" on":"")
	})
	return true
	},m=h?this.addCustomMenuItem(q,p,n,h(o,l),c):this.addMenuItem(q,p,n,c)
	m.radioValue=o.value
	g.push(m)
	},this)
	},addExclusiveMenuGroups:function U(e,k,g,d,c,j){var h=[],f=[]
	this.hasToggleItem=true
	g.forEach(function(n){if(n.separator){this.addSeparator()
	return 
	}var q=n.text,p=n.group,r=n.cls||" "
	if(f[p]===undefined){f[p]=0
	}f[p]+=n.value
	var o=(d||"")+" "+(n.cls||"")+(!!(n.value&e)?" selected":""),m=function(u,x){if(e===u.checkboxValue){return false
	}var w=!!(f[p]&e),v,t=!(e&u.checkboxValue)
	if(t){v=w?e|n.value:n.value
	}else{v=w?e&~n.value:n.value
	}k.call(this.ctxt,v,e,n)
	e=v
	x.selectedIndices=[]
	h.forEach(function(z){O.addClass(x._getItemNode(z._renderIdx),[z.optionCls])
	if(!(z.checkboxValue&e)){O.removeClass(x._getItemNode(z._renderIdx),["selected"])
	}else{x.selectedIndices[z._renderIdx]=true
	O.addClass(x._getItemNode(z._renderIdx),["selected"])
	}})
	return c.closeAfterSelection
	},l=j?this.addCustomMenuItem(q,o,m,j,c):this.addMenuItem(q,o,m,c)
	l.checkboxValue=n.value
	l.optionCls=r
	h.push(l)
	},this)
	},addToggleMenuGroup:function W(e,j,f,d,c,h){var g=[],k
	this.hasToggleItem=true
	f.forEach(function(n){if(n.separator){this.addSeparator()
	return 
	}var p=n.text,o=(d||"")+" "+(n.cls||"")+(n.value===e?" selected":""),m=function(r,t){var q=true
	if(j.call(this.ctxt,n.value,e,n)===false){q=false
	}if(k&&n.value!==e){O.removeClass(t._getItemNode(k._renderIdx),"selected")
	k=null
	}return q
	},l=h?this.addCustomMenuItem(p,o,m,h,c):this.addMenuItem(p,o,m,c)
	if(n.value===e){k=l
	}g.push(l)
	},this)
	},clear:function Q(){this._super()
	this.menus=[]
	},newInstance:function A(d){var c=mstrmojo.ui.menus.Menu
	if(this.hasAccessibility||(this.xtab&&this.xtab.hasAccessibility)){c=mstrmojo.DynamicClassFactory.newComponent(c,[mstrmojo._IsAccessibleMenu])
	}return new c(mstrmojo.hash.copy({popupConfig:this},d))
	},addMenuTitle:function H(c){this.addMenuItem(c||"","menu-item-title",mstrmojo.emptyFn)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.hash","mstrmojo.Box","mstrmojo.Label","mstrmojo.expr","mstrmojo.ValidationTextBox","mstrmojo.Dialog","mstrmojo.cookies","mstrmojo.dom","mstrmojo.string","mstrmojo.url")
	mstrmojo.requiresDescs(17,18,221,9772,11773,14028,16220,16227,14138,14139,14140,14149,14522,14523,14524,16224,14526,14527)
	var M=mstrmojo.css,Z=mstrmojo.dom,I=mstrmojo.hash,P=mstrmojo.url
	var D=mstrmojo.validation,G=D.STATUSCODE,H=D.TRIGGER,X=D.VALIDATOR,K=mstrmojo.expr.DTP
	var e={intervalCtr:0,qrLoaded:false,maxPollingAttempts:80,timeDelay:3000}
	var R={mini_badge:"#ddd",mini_badge_icon:"../style/mstr/images/badge-placeholder-m.png",t_color:"#797979",appName:"",name:""}
	var F={firstName:"",badgeId:""}
	var J={duration:undefined,elem:undefined,callback:undefined,timerInterval:null,init:function(g,f,h){this.duration=g
	this.elem=f
	this.callback=h
	},startTimer:function(){this.stopTimer()
	var l=Date.now(),h,f,j
	var g=this
	function k(){h=g.duration-(((Date.now()-l)/1000)|0)
	f=(h/60)|0
	j=(h%60)|0
	f=f<10?"0"+f:f
	j=j<10?"0"+j:j
	g.elem.set("text",f+":"+j)
	if(h<=0){l=Date.now()+1000
	g.callback()
	g.stopTimer()
	}}k()
	this.timerInterval=setInterval(k,1000)
	},stopTimer:function(){if(this.timerInterval){clearInterval(this.timerInterval)
	}}}
	function B(f){f.sn=this.serverName||mstrConfig.serverName
	f.sp=this.serverPort||mstrConfig.serverPort
	f.connectionId=this.connectionId||""
	return f
	}function S(){this.set("expired",true)
	this.usherProps.qrLoaded=false
	}function N(){try{var g=this.usherProps
	var f=this
	if(g.qrLoaded){if(g.intervalCtr>g.maxPollingAttempts){S.call(f)
	}else{clearTimeout(this.pullTimeout)
	this.pullTimeout=setTimeout(function(){g.intervalCtr+=1
	if(!f.stopPolling){Y.call(f)
	}},g.timeDelay)
	}}}catch(h){}}function Q(h,g,f){if(mstrApp.serverRequest){mstrApp.serverRequest(h,g,f)
	}else{mstrmojo.xhr.request("POST",mstrConfig.taskURL,g,h)
	}}function Y(){var g=this,h=this.usherProps,j={taskId:"usherLoginWeb",pollOnly:"true",server:this.serverName||mstrConfig.serverName,port:this.serverPort||mstrConfig.serverPort,project:this.projectName||mstrConfig.projectName,connectionId:this.connectionId},f={success:function(l){try{if(l.status=="invalid"){N.call(g)
	}else{if(l.status=="success"){function k(p){g.onUsherLogin(p)
	h.qrLoaded=false
	}if(g.rememberMe===true){var m={success:function(p){k(p)
	},failure:function(p){g.onUsherError(p)
	}}
	var o={taskId:"usherRememberMe"}
	o.deviceId=mstrmojo.cookies.getCookieSetting("usher_sso_device")?mstrmojo.cookies.getCookieSetting("usher_sso_device"):""
	Q(o,m,{doNotHold:true})
	}else{k(l)
	}}}}catch(n){mstrmojo.alert("usherPollForScan:\n "+n.messsage)
	}},failure:function(k){S.call(g)
	g.onUsherError(k)
	}}
	Q(j,f,{doNotHold:true})
	}function c(f){this.userDetails.set("text",f||"")
	}function L(f){var g=this
	g.loginButton.set("visible",f)
	g.loginNotificationBox.set("visible",!f)
	}function C(){var j=this.usherProps
	var h=this.notificationTimer
	var g=this,f={success:function(m){try{if(m.status==1){function p(){L.call(g,true)
	}function l(){if(g.pullTimeout){clearTimeout(g.pullTimeout)
	}g.usherProps.intervalCtr=0
	j.qrLoaded=true
	N.call(g)
	}var o=60*5
	h.init(o,g.loginNotificationBox.timer,p)
	h.startTimer()
	L.call(g,false)
	l()
	}else{g.onUsherError(m)
	}}catch(n){mstrmojo.alert("Error:\n"+n.message)
	}},failure:function(l){g.onUsherError(l)
	}},k={taskId:"usherNotifyMe"}
	k.deviceId=mstrmojo.cookies.getCookieSetting("usher_sso_device")?mstrmojo.cookies.getCookieSetting("usher_sso_device"):""
	Q(B.call(this,k),f,{doNotHold:true})
	}function A(){var g=this,f={success:function(j){try{g.set("notificationMode",false)
	g.reloadQR()
	}catch(k){mstrmojo.alert("Error:\n"+k.messsage)
	}},failure:function(j){g.onUsherError(j)
	}},h={taskId:"usherRememberMe",rememberMe:false}
	if(g.userInfo.badgeId!==""){h.badgeId=g.userInfo.badgeId
	}h.deviceId=mstrmojo.cookies.getCookieSetting("usher_sso_device")?mstrmojo.cookies.getCookieSetting("usher_sso_device"):""
	Q(B.call(this,h),f,{doNotHold:true})
	}function O(k){if(this.notificationMode==true&&!k){return 
	}var h=this.usherProps
	this.showQRLoading(true)
	var g=this,f={success:function(m){try{if(m.img){g.set("notificationMode",false)
	g.updateQRCode(m.img)
	g.set("badge",m.badgeInfo&&m.badgeInfo[0])
	h.intervalCtr=0
	h.qrLoaded=true
	this.stopPolling=false
	N.call(g)
	}else{var n=JSON.parse(m.data)
	var l=n.pnEnabled||n.isPNEnabled
	g.set("isPnEnabled",l)
	if(n.code||n.proximityBasedLogin){g.set("notificationMode",false)
	if(n.proximityBasedLogin&&!k){g.updateQRCodeProximity()
	g.set("proximityMode",true)
	}else{g.updateQRCode(n.code)
	g.set("proximityMode",false)
	}g.set("badge",m.badgeInfo&&m.badgeInfo[0])
	h.intervalCtr=0
	h.qrLoaded=true
	this.stopPolling=false
	mstrmojo.cookies.updateCookieSetting("usher_sso_device",m.device_id)
	N.call(g)
	}else{g.set("proximityMode",false)
	g.set("notificationMode",true)
	g.refresh.set("visible",false)
	if(n.photoData&&g.userInfoNode){g.userInfoNode.src="data:image/png
	base64,"+n.photoData
	}g.userInfo.firstName=n.firstName
	g.userInfo.badgeId=n.badgeId
	L.call(g,true)
	g.set("badge",m.badgeInfo&&m.badgeInfo[0])
	}}}catch(o){mstrmojo.alert("getQRCode:\n "+o.messsage)
	}},failure:function(l){g.handleQRCodeError(l)
	S.call(g)
	g.onUsherError(l)
	},complete:function(){g.showQRLoading(false)
	}},j={taskId:"usherQRWeb"}
	j.deviceId=mstrmojo.cookies.getCookieSetting("usher_sso_device")?mstrmojo.cookies.getCookieSetting("usher_sso_device"):""
	Q(B.call(this,j),f,{doNotHold:true})
	}function E(){var h=this,l=this.registerButton,j=this.parent.badgeNode.childNodes[1]
	if(l.enabled){l.set("enabled",false)
	M.addClass(j,["anim"])
	var f={},g={success:function(m){var n=m&&m.name==h.user.value
	f={msg:n?mstrmojo.desc(14139,"You've successfully registered. Please check your email to continue.")+" "+mstrmojo.desc(16222,"Or perform a MicroStrategy badge recovery."):m.getResponseHeader("X-MSTR-TaskFailureMsg"),successful:n}
	},failure:function(m){f={msg:m.getResponseHeader("X-MSTR-TaskFailureMsg"),successful:false}
	},complete:function(){l.set("enabled",true)
	M.removeClass(j,["anim"])
	h.set("regMsg",f)
	}},k={taskId:"usherRegUsr",server:this.serverName||mstrConfig.serverName,project:mstrConfig.projectName,port:this.serverPort||mstrConfig.serverPort,email:this.email.value,userid:this.user.value,password:this.pwd.value}
	Q(k,g)
	}}function W(f){return mstrmojo.hash.copy(f,{scriptClass:"mstrmojo.ValidationTextBox",cssDisplay:"block",postCreate:function(){if(Z.isIE9||Z.isIE8||Z.isIE7){this.emptyText=this.hint
	}},onEnter:function(){E.call(this.parent)
	}})
	}mstrmojo.UsherLogin=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.UsherLogin",markupString:'<div id="{@id}" class="mstrmojo-UsherLogin-Container {@cssClass}" style="{@cssText}" ><div class="mstrmojo-UsherLogin-badge"><div class="icn"><img src="'+P.getPlaceholderImageURL()+'"/></div><div class="dots"><div class="dot1"></div><div class="dot2"></div><div class="dot3"></div></div><div class="app"><img src="../style/mstr/images/badge-app.png"/></div></div><div class="mstrmojo-UsherLogin-badgeLabel"><div class="app-name"></div><div id="badgename" class="badge-name"></div></div><div class="mstrmojo-UsherLogin"><div class="mstrmojo-UsherLogin-QR mode"><img class="QR" src="'+P.getPlaceholderImageURL()+'" alt="" /></div><div class="mstrmojo-UsherLogin-register mode"></div></div><div class="mstrmojo-UsherLogin-userInfo mode"><img class="userInfo" src="'+P.getPlaceholderImageURL()+'" alt="" /></div><div class="mstrmojo-UsherLogin-notification"></div><div class="mstrmojo-UsherLogin-remember-setting"><div class = "mstrmojo-UsherLogin-remember"></div><div class = "mstrmojo-UsherLogin-forget"></div></div><div class="mstrmojo-UsherLogin-link"></div></div>',markupSlots:{containerNode:function(){return this.domNode
	},badgeNode:function(){return this.domNode.firstChild
	},badgeIconNode:function(){return this.domNode.firstChild.firstChild.firstChild
	},badgeLabelNode:function(){return this.domNode.childNodes[1]
	},usherNode:function(){return this.domNode.childNodes[2]
	},qrNode:function(){return this.domNode.childNodes[2].firstChild
	},qrCodeNode:function(){return this.domNode.childNodes[2].firstChild.firstChild
	},refreshNode:function(){return this.domNode.childNodes[2].firstChild.lastChild
	},registerNode:function(){return this.domNode.childNodes[2].lastChild
	},userNode:function(){return this.domNode.childNodes[3]
	},userInfoNode:function(){return this.domNode.childNodes[3].firstChild
	},notificationNode:function(){return this.domNode.childNodes[4]
	},rememberSettingsNode:function(){return this.domNode.childNodes[5]
	},rememberNode:function(){return this.domNode.childNodes[5].firstChild
	},forgetNode:function(){return this.domNode.childNodes[5].lastChild
	},linksNode:function(){return this.domNode.lastChild
	}},markupMethods:{onqrCodeChange:function(){if(this.qrCodeNode){this.qrCodeNode.src=this.qrCode
	}},onbadgeChange:function(){var g=this.badge||R,l=g.badgeFormat,f=l&&JSON.parse(l)||{isnull:true},j=this.badgeLabelNode,h=this.badgeIconNode,k=this.domNode
	if(this.showBadgeBackgroundImage){k.style.backgroundColor=f.mini_badge
	if(f.bg_4){k.style.backgroundImage="url("+f.bg_4+")"
	}}h.src=f.mini_badge_icon||R.mini_badge_icon
	if(!f.isnull&&!f.mini_badge_icon){M.addClass(h.parentNode,"default")
	}j.firstChild.innerHTML=mstrmojo.string.encodeHtmlString(g.appName||R.appName)
	j.lastChild.innerHTML=mstrmojo.string.encodeHtmlString(g.name||R.name)
	j.lastChild.title=g.name||R.name
	j.style.color=f.t_color||R.t_color
	this.linksNode.style.color=f.t_color||R.t_color
	},onexpiredChange:function(){M.toggleClass(this.usherNode,"expired",this.expired)
	},onloadingChange:function(){M.toggleClass(this.usherNode,"loading",this.loading)
	},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	if(this.visible&&this.canRequestQR()&&!this._lastVisible){O.call(this)
	}this.stopPolling=!this.visible
	this._lastVisible=this.visible
	},onnotificationModeChange:function(f){M.toggleClass(this.containerNode,"notificationMode",this.notificationMode)
	},onproximityModeChange:function(f){M.toggleClass(this.containerNode,"proximityMode",this.proximityMode)
	},onisPnEnabledChange:function(){this.hideRememberMe(!this.isPnEnabled)
	}},qrCode:P.getPlaceholderImageURL(),badge:R,expired:false,onUsherLogin:mstrmojo.emptyFn,onUsherError:mstrmojo.emptyFn,showBadgeBackgroundImage:true,usherProps:null,serverName:null,serverPort:null,rememberMe:false,userInfo:null,notificationTimer:null,loadQR:false,notificationMode:false,isPnEnabled:false,init:function U(f){if(this._super){this._super(f)
	}M.addWidgetCssClass(this,"")
	this.usherProps=this.usherProps?I.copy(this.usherProps,I.clone(e)):I.clone(e)
	this.userInfo=this.userInfo?I.copy(this.userInfo,I.clone(F)):I.clone(F)
	this.notificationTimer=this.notificationTimer?I.copy(this.notificationTimer,I.clone(J)):I.clone(J)
	},destroy:function a(f){this.stopPolling=true
	clearTimeout(this.pullTimeout)
	this._super(f)
	},canRequestQR:function(){return this.usherProps&&(this.loadQR||(this.serverName||mstrConfig.serverName))
	},showUserInfo:function(f){this.refresh.set("visible",false)
	this.refresh.set("visible",false)
	},updateQRCode:function(f){this.set("qrCode","data:image/png
	base64,"+f)
	this.set("expired",false)
	this.refresh.set("visible",false)
	},updateQRCodeProximity:function(){this.set("qrCode","../images/WaitUsherRadar.gif")
	this.set("expired",false)
	this.refresh.set("visible",false)
	},handleQRCodeError:function(){this.set("qrCode","../style/mstr/images/msgError.gif")
	this.set("expired",true)
	this.refresh.set("visible",true)
	},showQRLoading:function b(f){this.set("loading",f)
	if(f){this.refresh.set("visible",false)
	}},postBuildRendering:function(){this._super()
	this.registerForm.set("tabIndex",-1)
	},toggleRegister:function(f){this.registerVisible=(f!==undefined)?f:!this.registerVisible
	M.toggleClass(this.usherNode,"show-register",this.registerVisible)
	this.registerLink.set("text",this.registerLink.texts[this.registerVisible?1:0])
	this.registerLink.addRegisterLinkHandler()
	if(this.isPnEnabled===true){this.hideRememberMe(this.registerVisible&&this.isPnEnabled)
	}},hideRememberMe:function(f){M.toggleClass(this.rememberSettingsNode,"hide-rememeber",f)
	},reloadQR:function(){if(this.canRequestQR()){if(this.pullTimeout){clearTimeout(this.pullTimeout)
	}this.usherProps.intervalCtr=0
	this.usherProps.qrLoaded=false
	if(this.visible){O.call(this)
	}}},children:[{scriptClass:"mstrmojo.Label",slot:"qrNode",alias:"refresh",cssClass:"refresh",text:mstrmojo.desc(14028,"Refresh QR Code"),visible:false,onclick:function(){O.call(this.parent)
	}},{scriptClass:"mstrmojo.Box",slot:"registerNode",alias:"registerForm",regMsg:null,children:[W({alias:"user",cssClass:"login-username",cssDisplay:"block",hint:mstrmojo.desc(17,"User name")}),W({alias:"pwd",cssClass:"login-pwd",hint:mstrmojo.desc(18,"Password"),type:"password"}),W({alias:"email",cssClass:"login-email",dtp:K.VARCHAR,constraints:{validator:X.VALIDATE_EMAIL,trigger:mstrmojo.validation.TRIGGER.ONKEYUP},bindings:{visible:"this.parent.parent.usherRegistrationOption > 2"},hint:mstrmojo.desc(9772,"Email")}),W({alias:"confirmEmail",cssClass:"login-email",bindings:{visible:function(){return this.parent.parent.usherRegistrationOption>2
	}},hint:mstrmojo.desc(14149,"Confirm Email"),onpaste:function(f){Z.preventDefault(f.hWin,f.e||f.hWin.event)
	}}),{scriptClass:"mstrmojo.Box",alias:"regMsg",cssClass:"register-msg",bindings:{regMsg:function(){return this.parent.regMsg
	},visible:function(){return this.parent.regMsg
	}},onregMsgChange:function(){if(this.domNode){this.domNode.style.color=this.regMsg&&this.regMsg.successful?"#42C31E":"#f00"
	}},children:[{scriptClass:"mstrmojo.Label",alias:"msg",cssClass:"register-msg-txt",bindings:{text:function(){return this.parent.regMsg.msg
	}}},{scriptClass:"mstrmojo.Label",alias:"icn",cssClass:"register-msg-icn",onclick:function(){this.parent.parent.parent.toggleRegister()
	this.parent.parent.set("regMsg",null)
	}}]},{scriptClass:"mstrmojo.Button",alias:"registerButton",cssClass:"register mstrmojo-WebButton hot",cssDisplay:"inline-block",text:mstrmojo.desc(11773,"Register"),bindings:{enabled:function(){var m=this.parent.user.value,j=this.parent.email.value,g=this.parent.confirmEmail.value
	var h=m.length>0
	if(h){if(this.parent.parent.usherRegistrationOption>1){var l=j.length>=3&&g.length>=3&&j.toUpperCase()===g.toUpperCase()&&this.parent.email.validationStatus.code===G.VALID
	if(l){if(this.parent.parent.usherRegistrationOption==7){var k=this.parent.parent.usherRegistrationDomain.toUpperCase()
	var f=j.substr(j.indexOf("@")+1).toUpperCase()
	return k.indexOf(f)>=0
	}}return l
	}}return h
	}},onclick:function(){E.call(this.parent)
	}},{scriptClass:"mstrmojo.Button",alias:"registerCancelButton",cssClass:"register-cancel",cssDisplay:"inline-block",text:mstrmojo.desc(221,"Cancel"),onclick:function(){var f=this.parent
	f.parent.toggleRegister()
	f.set("regMsg",null)
	f.user.set("value","")
	f.pwd.set("value","")
	f.email.set("value","")
	f.confirmEmail.set("value","")
	f.user.domNode.focus()
	}}]},{scriptClass:"mstrmojo.CheckBox",slot:"rememberNode",alias:"remember-me",label:mstrmojo.desc(14522,"Remember me"),onclick:function d(){this.parent.set("rememberMe",this.checked)
	}},{scriptClass:"mstrmojo.Label",slot:"forgetNode",allowHTML:true,text:mstrmojo.desc(14527,"Forget me/Switch user"),onclick:function(){A.call(this.parent)
	}},{scriptClass:"mstrmojo.Label",slot:"linksNode",allowHTML:true,text:'<a id="proximityProblems" href="#">Login via Phone</a>',onclick:function(f){O.call(this.parent,true)
	return false
	},bindings:{visible:"this.parent.proximityMode"},},{scriptClass:"mstrmojo.Label",slot:"linksNode",allowHTML:true,text:mstrmojo.desc(16220,"Use your ###MicroStrategy Badge## app to scan the QR Code.").replace("###","").replace("##",""),},{scriptClass:"mstrmojo.Label",slot:"linksNode",alias:"registerLink",cssClass:"register-label",allowHTML:true,bindings:{visible:"this.parent.usherRegistrationOption > 0"},text:"",texts:[mstrmojo.desc(16227,"Don't have MicroStrategy Badge? Click ###here## to register."),mstrmojo.desc(14140,"Display your ###QR Code##.")],postCreate:function(){this.set("text",this.texts[0])
	},ontextChange:function(){this.text=this.text.replace("###",'<a href="#">').replace("##","</a>")
	},addRegisterLinkHandler:function(){var f=this.domNode&&this.domNode.querySelector(".register-label a"),g=function(){mstrmojo.all[this.parent.id].toggleRegister()
	return false
	}.bind(this)
	Z.attachEvent(f,"click",g)
	}},{scriptClass:"mstrmojo.Label",alias:"userDetails",cssClass:"user-details",slot:"userNode"},{scriptClass:"mstrmojo.Button",alias:"loginButton",cssClass:"mstrmojo-WebButton login-button .mstrButton",cssDisplay:"inline-block",text:mstrmojo.desc(16224,"Login with MicroStrategy Badge"),slot:"notificationNode",visible:false,onclick:function(){C.call(this.parent)
	},onvisibleChange:function(){var f=this.parent,g=mstrmojo.desc(14523,"Hi ")+" "+f.userInfo.firstName
	this.visible?g+="!":g+=mstrmojo.desc(14524,", please approve on your device.")
	c.call(f,g)
	}},{scriptClass:"mstrmojo.Box",alias:"loginNotificationBox",cssClass:"login-notification",slot:"notificationNode",visible:false,children:[{scriptClass:"mstrmojo.Label",alias:"timer",cssClass:"notification-timer"},{scriptClass:"mstrmojo.Label",alias:"notificationFailure",cssClass:"notification-failure",text:mstrmojo.desc(14526,"Did not get notification"),onclick:function(){L.call(this.parent.parent,true)
	}}]},]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ValidationTextBox","mstrmojo.hash")
	var A=mstrmojo.hash
	mstrmojo.ui.editors.controls.ValidationTextBox=mstrmojo.declare(mstrmojo.ValidationTextBox,null,{scriptClass:"mstrmojo.ui.editors.controls.ValidationTextBox",errRevert:true,dtp:null,validationDelay:3000,orignText:null,trigger:mstrmojo.validation.TRIGGER.ONKEYUP,init:function(B){B=B||{}
	B.constraints=B.constraints||{}
	B.constraints.trigger=this.trigger
	this._super(B)
	},prekeyup:function(B){if(B.e.keyCode===13){this.blur()
	return 
	}this._super(B)
	},onfocus:function(){this.orignText=this.value
	},onblur:function(){if(this.value!=this.orignText){this.validate()
	}},validate:function(){this._super()
	this.orignText=this.value
	this.clearValDelayTimer()
	},preinput:mstrmojo.emptyFn,postinput:function(){var B=this.doValidation(this.value)
	if(B.code<=mstrmojo.validation.STATUSCODE.VALID){this.clearValidation()
	if(!this.errRevert){this.hideTooltip()
	}}},updateTooltipConfig:function(){this.richTooltip={posType:mstrmojo.tooltip.POS_BOTTOMLEFT,cssClass:"vi-warning vi-tooltip-C vi-calculation-warning",left:this.domNode.offsetWidth+12,top:this.domNode.offsetHeight+5,refNode:this.domNode,content:mstrmojo.desc(13819,"Invalid input")}
	},onInvalid:function(){if(!this.errRevert){this.hideTooltip()
	this.showTooltip()
	}else{this.clearValidation()
	this.set("value",this.orignText)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ValidationTextBox","mstrmojo._IsInputControl","mstrmojo.dom","mstrmojo.num")
	var J=mstrmojo.validation,C=J.STATUSCODE,F=J.VALIDATOR,D=mstrmojo.expr.DTP,B=0,A=1,I=2,H=3,G=4,E=5
	mstrmojo.DICAutoFocusButton=mstrmojo.declare(mstrmojo.Button,null,{scriptClass:"mstrmojo.DICAutoFocusButton",markupString:'<div id="{@id}" class="mstrmojo-Button {@cssClass} {@iconClass}" title="{@title}" style="{@cssText}" tabindex="1" mstrAttach:touchstart,click,mousedown,mouseup><div class="mstrmojo-Button-text {@innerIconClass}"></div></div>',postBuildRendering:function(){this._super()
	var K=this
	setTimeout(function(){K.domNode.focus()
	},200)
	}})
	mstrmojo.TextFieldDIC=mstrmojo.declare(mstrmojo.ValidationTextBox,[mstrmojo._IsInputControl],{scriptClass:"mstrmojo.TextFieldDIC",cssClass:"mstrmojo-TextFieldDIC",dtp:D.VARCHAR,validationDelay:0,getInputNode:function(){return this.inputNode
	},focus:function(){this.validate()
	mstrmojo.dom.setCaret(this.domNode,(this.value&&this.value.length||0))
	},init:function(K){if(this._super){this._super(K)
	}this.constraints=mstrmojo.hash.copy()
	var M=K.dic,N=this.constraints={trigger:mstrmojo.validation.TRIGGER.ONKEYUP},L=M.dt
	if(M.ml){this.maxLength=M.ml
	}if(M.psw){this.type="password"
	this.value=this.lv=""
	this.owner.applyPasswordMask&&this.owner.applyPasswordMask()
	}if(J.isNumeric(L)||J.isInt(L)||J.isString(L)||J.isDateTime(L)){this.dtp=L
	}switch(M.vm){case A:N.validator=F.VALIDATE_PHONENO
	break
	case I:N.validator=F.VALIDATE_EMAIL
	break
	case H:N.validator=F.VALIDATE_ZIPCODE
	break
	case G:N.validator=F.VALIDATE_SSN
	break
	case E:N.regExp=new RegExp("^"+M.rgx+"$")
	break
	}N.min=M.emin?M.min:null
	N.max=M.emax?M.max:null
	N.maxLen=(M.ml!==undefined)?M.ml:null
	N.minLen=(M.mnl!==undefined)?M.mnl:null
	if(M.req){this.required=true
	}},onInvalid:function(){if(this.popup){this.popup.set("hasInvalidData",true)
	}},onValid:function(){if(this.popup){this.popup.set("hasInvalidData",false)
	}},_set_value:function(L,K){if(this.value===undefined&&K===""){return 
	}return this._super(L,K)
	},applyChanges:function(){var K=this.dic.dt||8
	if(!J.isString(K)&&this.value){this.set("value",this.value.trim())
	}this.validate()
	if(this.isValid()){this._super()
	}else{if(!this.showByDefault){this.handleInvalid()
	return false
	}}return true
	},handleInvalid:function(){if(mstrmojo.all.mojoConfirmx9){return 
	}var K=this
	mstrmojo.confirm(this.validationStatus.msg+"\n("+mstrmojo.desc(9199)+")",null,{buttons:[{scriptClass:"mstrmojo.DICAutoFocusButton",text:mstrmojo.desc(1442),onclick:function(){K.focus()
	}},{scriptClass:"mstrmojo.Button",text:mstrmojo.desc(221),onclick:function(){if(K.popup){K.popup.onCancel()
	}else{K.undoValidate&&K.undoValidate()
	}}}],title:mstrmojo.desc(7548),cssClass:"mstrmojo-TextFieldDIC-ValidationError"})
	},cancelChanges:function(){this.inputNode.blur()
	this.value=this.lv
	this.clearValidation()
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Slider","mstrmojo.MetricSelectorUtility","mstrmojo.expr","mstrmojo.ValidationTextBox","mstrmojo.array","mstrmojo._FormatDefinition","mstrmojo.hash")
	mstrmojo.requiresDescs(8153,8154,8155,8156,8157,8158,8159,8160,8161,8162,8163,8164,8165,8166,8167,8168,8169,8170,7839,587,2204,2202,2203,7576,7575,7622)
	var W=mstrmojo.dom,N=mstrmojo.hash,S=mstrmojo.MetricSelectorUtility,l=mstrmojo._FormatDefinition.NumberFormatCategory,J=mstrmojo.desc,X=mstrmojo.css,Z=mstrmojo.num,B=Math,d=B.max,H=B.min,f=B.floor,Y=B.round,b=9
	function M(AD,AC,AA,z){var AB="px",t=AD._length,q=AD.handleSize,p=AD.orCfg,AH=p.posCssP,u=p.lenCssP,v=false
	AA=d(AA,-1)
	z=H(z+b,t)
	if(AA>z){v=true
	}var AE=H(AA,z),AF=d(AA,z),AG=AF-AE-(v?0:q+b),AG=d(AG,0),w=d(t-AF,0)
	if(AD.hasRendered){AC.handle1Node.style[AH]=AA+AB
	AC.handle2Node.style[AH]=(z-b)+AB
	var o=AC.lowerRange.style,x=AC.thumbNode.style,r=AC.upperRange.style
	o[AH]=0
	x[AH]=(AE+(v?0:q))+AB
	r[AH]=(AF+q-b)+AB
	o[u]=d(AE,0)+AB
	x[u]=AG+AB
	r[u]=w+AB
	}else{AB+="
	"
	AH+=":"
	u+=":"
	AD.handle1CssText=AH+AA+AB
	AD.handel2CssText=AH+(z-b)+AB
	AD.lowerRangeCssText=u+d(AE,0)+AB
	AD.thumbCssText=AH+(AE+q)+AB+u+AG+AB
	AD.upperRangeCssText=AH+(AF+q-b)+AB+u+w+AB
	}return{handle1:AA,handle2:z}
	}function O(o){this.getUnit=function(){return o._length/d((o.items.length-1),1)
	}
	this.calcMinMax=function(r,q){var t=o.unit
	return{min:f(r/t+0.5),max:f(q/t+0.5)}
	}
	this.calcPxIdx=function(q){return f(q/o.unit+0.5)
	}
	this.getStep=function(){var r=o.high-o.low,q=parseInt(o.numFmts.cat,10),t=(q===4)?2:(q===5)?4:0
	r=(r===0)?1:r
	if(r>1){return(r>(o._length-2))?Number(Number(r/(o._length-2)).toFixed(o.numFmts.dp+t)):1
	}return r/(o._length-2)
	}
	this.getIdx=function(q){return H(d(Y((q-o.low)/o.step),0),o.items.length-1)
	}
	this.initialMetricSlider=function p(){var v=function(AI){return AI!==undefined&&AI!==null
	},t=function(AI){return(v(AI.da)&&v(AI.da.low)&&v(AI.da.high)&&v(AI.da.cnt)&&v(AI.f)&&v(AI.ft)&&v(AI.qua))
	},r=function(AI){var AM=true,AL=true,AJ=parseInt(AI.ft,10),AK=parseInt(AI.f,10)
	if(AJ===S._GENERIC){AM=AK!==S.FN.ISNULL&&AK!==S.FN.ISNOTNULL&&AK!==S.FN.NOTIN&&AK!==S.FN.IN
	}else{if(AJ===S._PERCENT||AJ===S._RANK){AL=AK!==S.MRPFN.INASCENDING&&AK!==S.MRPFN.INDESCENDING&&AK!==S.MRPFN.NOTINDESCENDING&&AK!==S.MRPFN.NOTINASCENDING
	}}return !AM||!AL
	},AF=0
	o.include=o.parent.include
	o.clsType="scm "
	o.staticStatus=!(v(o.da)&&v(o.da.low)&&v(o.da.high)&&v(o.da.cnt)&&v(o.qua))
	if(o.staticStatus){o.da.low=1
	o.da.high=7
	o.ft=S._GENERIC
	o.f=S.FN.BETWEEN
	o.qua=S.Q._G
	o.cs=[{n:"",v:1},{n:"",v:7}]
	o.numFmts={cat:9,dp:0,fm:""}
	}switch(o.qua){case 0:var AE=parseInt(o.numFmts.cat,10)
	AF=AE===4?2:AE===5?4:0
	o.low=Number(Number(o.da.low).toFixed(o.numFmts.dp+AF))
	o.high=Number(Number(o.da.high).toFixed(o.numFmts.dp+AF))
	break
	case 1:case 2:o.low=1
	o.high=o.da.cnt
	break
	case 3:case 4:o.low=0
	o.high=100
	break
	}var AH=!o.staticStatus&&!o.da.nov
	o.set("lowText",AH?o.formatNumber(o.low):"")
	o.set("highText",AH?o.formatNumber(o.high):"")
	o.step=(o.qua===1||o.qua===2)?1:this.getStep()
	o.cs1Vl=o.low
	o.cs2Vl=o.high
	var u=o.low,AB=o.high,AG=[],AD=0
	if(v(u)&&v(AB)){var x=u,AA
	for(AA=0
	x<=AB
	AA++,x+=o.step){AG[AA]={n:S.formatNumber(o.qua,x,o.numFmts),v:Number(Number(x).toFixed(o.numFmts.dp+AF))}
	}AD=AG.length
	if(AD>0&&AG[AD-1].v!==AB){AG[AD-1]={n:S.formatNumber(o.qua,AB,o.numFmts),v:AB}
	}}o.items=AG
	var q=S.OP,AC=o.cs,z=(AC&&AC.length>0)?Z.parseNumeric(String(AC[0].v).replace("%","")):u,w=(AC&&AC.length>1)?Z.parseNumeric(String(AC[1].v).replace("%","")):AB
	if(z<o.low){o.frtUst=true
	}if(w>o.high){o.ndUst=true
	}o.opId=(o.f!==null&&o.ft!==null)?S.getOpIdxByfunc(o.f,o.ft):q._BETWEEN
	switch(o.opId){case q._EQUALS:case q._NOT_EQUALS:o.cs1Vl=o.cs2Vl=z
	break
	case q._LESS_EQUAL:case q._GREATER:o.cs1Vl=u
	o.cs2Vl=z
	break
	case q._GREATER_EQUAL:case q._LESS:o.cs1Vl=z
	o.cs2Vl=AB
	break
	case q._IN:case q._NOT_IN:case q._IS_NULL:case q._IS_NOT_NULL:break
	default:o.cs1Vl=z
	o.cs2Vl=w
	break
	}o.cs1Idx=this.getIdx(o.cs1Vl)
	o.cs2Idx=this.getIdx(o.cs2Vl)
	o.cs1Nm=v(o.cs1Vl)?S.formatNumber(o.qua,o.cs1Vl,o.numFmts):o.items[o.cs1Idx].n
	o.cs2Nm=v(o.cs2Vl)?S.formatNumber(o.qua,o.cs2Vl,o.numFmts):o.items[o.cs2Idx].n
	o.unit=this.getUnit()
	o.set("unSet",(!t(o)||r(o)||(!o.cs||o.cs.length===0))&&!o.staticStatus)
	}
	this.updateOpCs=function(){var u=(o.cs1Vl>o.cs2Vl)?o.cs2Vl:o.cs1Vl,AA=(o.cs1Vl>o.cs2Vl)?o.cs1Vl:o.cs2Vl,t=o.low,w=o.high,z=o.include,q=S.OP,v=parseInt(o.qua,10),r=(v===S.Q._PT||v===S.Q._PB),AB,x=[]
	if((u>=t&&AA<=w)||u<t||AA>w){o.opId=z?q._BETWEEN:q._NOT_BETWEEN
	}if(u===AA){o.opId=z?q._EQUALS:q._NOT_EQUALS
	}if(u===t&&AA<w){o.opId=z?q._LESS_EQUAL:q._GREATER
	}if(u>t&&AA===w){o.opId=z?q._GREATER_EQUAL:q._LESS
	}AB=t==u&&AA==w
	if(!AB){switch(o.opId){case q._BETWEEN:case q._NOT_BETWEEN:x.push({dtp:5,v:Z.toLocaleString(u)+(r?"%":"")})
	case q._EQUALS:case q._NOT_EQUALS:x.push({dtp:5,v:Z.toLocaleString(AA)+(r?"%":"")})
	break
	default:if(u>t){x.push({dtp:5,v:Z.toLocaleString(u)+(r?"%":"")})
	}if(AA<w){x.push({dtp:5,v:Z.toLocaleString(AA)+(r?"%":"")})
	}}}o.cs=x
	o.parent.node.data.cs=x
	o.set("unSet",AB)
	}
	this.updateThumb=function(){var q=o.cs1Idx,u=o.cs2Idx
	if(q!==undefined&&u!==undefined){var r=o.unit,t=o.gap
	N.copy(M(o,o,Y(q*r-t),Y(u*r-t)),o)
	}}
	this.joinConst=function(){var t=o.cs
	if(t){var q=[],r
	for(r in t){q.push(t[r].v)
	}return q.join(",")
	}}
	}var E="<span {@ttpCssText}>{@content}</span>"
	function D(){if(this.staticStatus){return null
	}var r=this.ghost
	if(!r){var v=this.containerNode.cloneNode(true),u=v.childNodes
	X.addClass(v,["gh"])
	r=this.ghost={containerNode:v,lowerRange:u[0],handle1Node:u[1],thumbNode:u[2],handle2Node:u[3],upperRange:u[4]}
	this.sdcNode.appendChild(v)
	}var p=this.orCfg,o=p.posCssP,q=p.lenCssP,t=this.id
	mstrmojo.array.forEach(["lowerRange","containerNode","thumbNode","upperRange"],function(AB,w){var AA=mstrmojo.all[t],z=AA[AB].style,x=r[AB].style
	if(w){x[o]=z[o]
	}x[q]=z[q]
	})
	r.containerNode.style.display="block"
	return r
	}mstrmojo.MetricSlider=mstrmojo.declare(mstrmojo.Slider,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.MetricSlider",markupString:'<div><div class="mstrmojo-Slider-summary"></div><div class="mstrmojo-Slider {@cssClass} {@clsType} {@clsOrientation}" style="{@cssText}" ><div class="cont" style=""><div class="sdc" style="position:absolute
	{@sdcCssText}"><div class="sd" style="{@sdCssText}"><div class="bk left" style="{@lowerRangeCssText}"></div><div class="t1" style="{@handle1CssText}" mstrAttach:mouseover,mouseout,click></div><div class="t2 bk" style="{@thumbCssText}"></div><div class="t3" style="{@handel2CssText}" mstrAttach:mouseover,mouseout,click></div><div class="bk right" style="{@upperRangeCssText}"></div></div></div><div class="mstrmojo-Label" style="margin-top:9px
	float:left
	"></div><div class="mstrmojo-Label" style="margin-top:9px
	float:right
	"></div></div></div></div>',markupSlots:{summaryNode:function(){return this.domNode.childNodes[0]
	},sliderNode:function(){return this.domNode.childNodes[1]
	},dndNode:function(){return this.domNode.childNodes[1].childNodes[0]
	},sdcNode:function(){return this.domNode.childNodes[1].childNodes[0].childNodes[0]
	},containerNode:function(){return this.domNode.childNodes[1].childNodes[0].childNodes[0].childNodes[0]
	},lowerRange:function(){return this.domNode.childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0]
	},handle1Node:function(){return this.domNode.childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[1]
	},thumbNode:function(){return this.domNode.childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[2]
	},handle2Node:function(){return this.domNode.childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[3]
	},upperRange:function(){return this.domNode.childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[4]
	},tooltipNode:function(){return this.domNode.childNodes[1].childNodes[0].childNodes[0]
	},lowNode:function(){return this.domNode.childNodes[1].childNodes[0].childNodes[1]
	},highNode:function(){return this.domNode.childNodes[1].childNodes[0].childNodes[2]
	},editValueNode:function(){return this.domNode
	}},markupMethods:{onlowTextChange:function(){this.lowNode.innerHTML=this.lowText||""
	},onhighTextChange:function(){this.highNode.innerHTML=this.highText||""
	},onfontChange:function(){this.lowNode.style.font=this.highNode.style.font=String(this.font)
	}},init:function h(o){this._super(o)
	this.handleSize=mstrmojo.MetricSlider.METRICSLIDERTHUMBWIDTH
	this.clsType="scm"
	this.typeHelper=new O(this)
	this.useRichTooltip=false
	},typeHelper:null,unSet:false,preBuildRendering:function A(){var r=this.orCfg,q=this.isHoriz
	r.cPosCssP=q?"right":"bottom"
	r.cLenCssP=q?"height":"width"
	var v=r.lenCssP,u=this[v],t=parseInt(u,10),p=this.handleSize
	var o=this._length=(isNaN(t))?0:(t-p-b)
	if(o<=0){o=this._length=mstrmojo.MetricSlider.METRICSLIDERDEFAULTWIDTH-p
	}if(u){this.bkCssText=v+":"+d(t-(2*this.cssBkBW),0)+"px
	"
	this.sdcCssText=r.posCssP+":"+b+"px
	"+v+":"+o+"px
	"+r.opPosCssP+":0px
	"
	}this.typeHelper.initialMetricSlider()
	this.typeHelper.updateThumb()
	},postBuildRendering:function R(){this._super()
	if(!this.staticStatus&&!this.da.nov){var p=this.lowNode,o=parseInt(p.style.fontSize,10)
	if(isNaN(o)){p.style.fontSize=8*this.parent.model.getZoomFactor()+"pt"
	}this.updateSummary()
	}this.lowNode.style.marginLeft=b+"px"
	this.highNode.style.marginRight=b+"px"
	this.sliderNode.style.height="0px"
	},onmouseover:function G(o){this.showTooltip(o.e,self)
	},onmouseout:function g(o){this.hideTooltip(o.e,self)
	},summaryLabels:{db:J(8153,"Between ## and ###"),dnb:J(8154,"Not between ## and ###"),din:J(587,"In"),dnin:J(2204,"Not in"),dnull:J(2202,"Is Null"),dnnull:J(2203,"Is not Null"),req:J(8155,"Rank ="),rneq:J(8156,"Rank <>").replace("<>",String.fromCharCode(8800)),rexb:J(8157,"Rank exclude bottom"),rext:J(8158,"Rank exclude top"),rb:J(8159,"Rank bottom"),rt:J(8160,"Rank top"),rbt:J(8161,"Rank between ## and ###"),rnbt:J(8162,"Rank not between ## and ###"),rin:J(8163,"Rank in"),rnin:J(8164,"Rank not in"),peq:J(8165,"Percent ="),pneq:J(8166,"Percent <>").replace("<>",String.fromCharCode(8800)),pexb:J(8167,"Exclude bottom"),pext:J(8168,"Exclude top"),pb:J(7576,"Bottom"),pt:J(7575,"Top"),pbt:J(8153,"Between ## and ###"),pnbt:J(8154,"Not between ## and ###"),pin:J(8169,"Percent in"),pnin:J(8170,"Percent not in")},formatNumber:function j(w){var r=this,AB=Math.abs(w),AA=r.numFmts.cat,p=1000,AC=["K","M","B","T","P","E","Z","Y"],x=AC.length,u
	if(AB>=p&&(AA===l.Default||AA===l.Fixed||AA===l.General||AA===l.Currency)){for(u=0
	u<x
	u++,p*=1000){if(AB<p*1000){var o=AB/p,t=(o*10).toFixed(0)%10>0?1:0,z=o.toFixed(t)+AC[u]
	return w<0?"("+z+")":z
	}}}return S.formatNumber(r.qua,w,r.numFmts)
	},updateSummary:function L(){if(this.summaryNode&&!this.staticStatus){var AI=this.f,q=this.ft,AH=S,AC=S.FN,p=S.MRPFN,z="",AF=(this.cs1Vl<this.cs2Vl)?this.cs1Vl:this.cs2Vl,AD=(this.cs1Vl>this.cs2Vl)?this.cs1Vl:this.cs2Vl,w=this.formatNumber(AF),v=this.formatNumber(AD),u=this.typeHelper,x=this.summaryLabels,o=parseInt(q,10),t=parseInt(AI,10),AE=(o===AH._GENERIC&&(t===AC.ISNULL||t===AC.ISNOTNULL||t===AC.NOTIN||t===AC.IN))||((o===AH._PERCENT||o===AH._RANK)&&(t===p.INASCENDING||t===p.INDESCENDING||t===p.NOTINDESCENDING||t===p.NOTINASCENDING))
	if(this.unSet||AF<=this.low&&AD>=this.high&&this.include){z=mstrmojo.desc(2058,"All")
	}if(!this.unSet||AE){switch(q){case AH._GENERIC:switch(AI){case AC.EQUALS:z="= "+w
	break
	case AC.NOTEQUALS:z=String.fromCharCode(8800)+" "+w
	break
	case AC.GREATERTHAN:z="> "+v
	break
	case AC.GREATERTHANEQUALS:z=String.fromCharCode(8805)+" "+w
	break
	case AC.LESSTHAN:z="< "+w
	break
	case AC.LESSTHANEQUALS:z=String.fromCharCode(8804)+" "+v
	break
	case AC.BETWEEN:z=w+" - "+v
	break
	case AC.NOTBETWEEN:z=mstrmojo.desc(1099)+" "+w+" - "+v
	break
	case AC.ISNULL:z=x.dnull
	break
	case AC.ISNOTNULL:z=x.dnnull
	break
	case AC.IN:z=x.din+" "+u.joinConst()
	break
	case AC.NOTIN:z=x.dnin+" "+u.joinConst()
	break
	}break
	case AH._PERCENT:case AH._RANK:var AG="r"
	if(parseInt(q,10)===AH._PERCENT){AG="p"
	}switch(AI){case p.EQUALSDESCENDING:case p.EQUALSASCENDING:z=x[AG+"eq"]+" "+w
	break
	case p.NOTEQUALSDESCENDING:case p.NOTEQUALSASCENDING:z=x[AG+"neq"]+" "+w
	break
	case p.GREATERTHANEQUALSASCENDING:z=x[AG+"exb"]+" "+w
	break
	case p.GREATERTHANASCENDING:z=x[AG+"exb"]+" "+v
	break
	case p.GREATERTHANEQUALSDESCENDING:z=x[AG+"ext"]+" "+w
	break
	case p.GREATERTHANDESCENDING:z=x[AG+"ext"]+" "+v
	break
	case p.LESSTHANASCENDING:z=x[AG+"b"]+" "+w
	break
	case p.LESSTHANEQUALSASCENDING:z=x[AG+"b"]+" "+v
	break
	case p.LESSTHANDESCENDING:z=x[AG+"t"]+" "+w
	break
	case p.LESSTHANEQUALSDESCENDING:z=x[AG+"t"]+" "+v
	break
	case p.BETWEENDESCENDING:case p.BETWEENASCENDING:z=x[AG+"bt"].replace("##",w).replace("###",v)
	break
	case p.NOTBETWEENASCENDING:case p.NOTBETWEENDESCENDING:z=x[AG+"nbt"].replace("##",w).replace("###",v)
	break
	case p.INASCENDING:case p.INDESCENDING:z=x[AG+"in"]+" "+u.joinConst()
	break
	case p.NOTINDESCENDING:case p.NOTINASCENDING:z=""
	z=x[AG+"nin"]+" "+u.joinConst()
	break
	}break
	}}var AA=this.summaryNode,AB=(z!=="")?"":0
	AA.innerHTML=z
	AA.style.margin=AB
	}},getClientHeight:function U(){return this.dndNode.clientHeight+this.summaryNode.clientHeight+15
	},initDrag:function m(t,o){if(!this.staticStatus&&!this.da.nov){o=o||window
	var u=W.eventTarget(o,this.dnd.startE)
	if(u===this.handle1Node||u===this.handle2Node){var r=D.call(this),p=this.orCfg,q=this.dnd
	q.initD={handle1:parseFloat(this.handle1,10),handle2:parseFloat(this.handle2,10)-b,length:this._length,contL:r.containerNode[p.lenP],offset:W.getMousePosition(this.dnd.startE,o)[p.offsetP]}
	q.initD.td=u
	X.removeClass(this.domNode.childNodes[1],["invalid"])
	}}},ondrag:function K(v,u){if(!this.staticStatus){u=u||window
	var x=this.dnd.initD
	if(x){var AE=this.ghost,AF=x.handle1,r=x.handle2,t=this.cs1Idx,q=this.cs2Idx,AC=this.unit,AA=this.gap,p=x.length
	var AB=W.getMousePosition(v,u)[this.orCfg.offsetP]-x.offset
	switch(x.td){case this.handle1Node:AF=d(H(d(x.handle1+AB,0),p)-AA,-1)
	t=d(f(AF/AC+0.5),0)
	break
	case this.handle2Node:r=d(H(d(x.handle2+AB,0),p)-AA,-1)
	q=d(B.ceil(r/AC+0.5),0)
	break
	default:return 
	}M(this,AE,AF,r)
	var w=this.items,o=(w&&w.length)||0
	if(o&&t>=0&&t<o&&q>=0&&q<o){var AD=false,z
	if(t!==this.cs1Idx){this.cs1Idx=t
	z=this.items[t]
	this.cs1Vl=z.v
	this.cs1Nm=z.n
	AD=true
	}if(q!==this.cs2Idx){this.cs2Idx=q
	z=this.items[q]
	this.cs2Vl=z.v
	this.cs2Nm=z.n
	AD=true
	}if(AD){this.typeHelper.updateThumb()
	this._updateTooltip(x.td)
	}}}}},ondrop:function a(p){if(!this.staticStatus&&!this.da.nov){this.typeHelper.updateThumb()
	var o=this.ghost
	if(o){o.containerNode.style.display="none"
	}this.hideTooltip(p,self)
	var q=this.dnd&&this.dnd.initD
	if(this.makeSelection&&q){this.makeSelection({selItem:q.td})
	}if(this.items&&this.items.length&&this.ghost){this[(W.eventTarget(self,p)===this.ghost.handle1Node)?"frtUst":"ndUst"]=false
	this.selectRange()
	}this.dnd.initD=null
	}},selectRange:function Q(){var o=this.typeHelper,r=this.cs1Vl,p=this.cs2Vl,u=this.qua,t=this.numFmts
	this.cs1Idx=o.getIdx(r)
	this.cs2Idx=o.getIdx(p)
	this.cs1Nm=S.formatNumber(u,r,t)
	this.cs2Nm=S.formatNumber(u,p,t)
	o.updateOpCs()
	this.onselectionChange()
	this.updateSummary()
	},onincludeChange:function C(){if(!this.staticStatus){this.changeInclude=true
	this.selectRange()
	}},showTooltip:function n(p,o){var q=W.eventTarget(o,p)
	this._updateTooltip(q)
	mstrmojo.tooltip.open(this,p,o)
	},_updateTooltip:function P(t){if(N.walk("handle1Node",this.ghost)===t||N.walk("handle2Node",this.ghost)===t){return 
	}var p=this.orCfg,r=p.posCssP,o,q={contentNodeCssClass:"scm-tooltip",refNode:this.domNode.childNodes[1],posType:this._tooltip_pos}
	q[p.opPosCssP]=-parseInt(this.font,10)/2
	q[r]=t.style[r]
	o=String((t===this.handle1Node)?this.cs1Nm:this.cs2Nm)
	q.content=E.replace(/\{@content\}/g,o)
	this.set("richTooltip",q)
	},onclick:function c(o){if(!this.staticStatus&&!this.da.nov){var p=W.eventTarget(o.hWin||window,o.e)
	this.hideTooltip(o.e,self)
	this.dnd.initD={makeMetricSilderSelectionByClick:true,td:((p===this.handle1Node)?this.handle1Node:((p===this.handle2Node)?this.handle2Node:null))}
	this.openEditValue({isfrt:(p===this.handle1Node),tgt:p})
	if(this._onThumb){this._onThumb(o)
	}}},onselectionChange:function I(o){this._super(o)
	if(this.dnd.initD&&this.dnd.initD.makeMetricSilderSelectionByClick){this.dnd.initD=null
	}},onquaChange:function e(o){var q=S.getFuncInfo(this.opId,o.valueWas),r=S.getFuncInfo(this.opId,o.value),p
	if(q.ft!==r.ft){if(!this.staticStatus){this.items=[]
	this.cs=[]
	this.f=this.ft=null
	this.refresh()
	p=true
	}}else{this.f=S.getFuncInfo(this.opId,o.value).f
	p=false
	}this.unSet=p||this.unSet
	this.changeQual=true
	this.selectRange()
	},updateData:function F(o,p){this.da=o
	this.updateExpr(p)
	},updateExpr:function k(o){if(o){this.cs=o.cs
	this.f=o.f
	this.ft=o.ft
	this.qua=o.qua
	}this.refresh()
	},editValueRef:{cssClass:"edvl",slot:"editValueNode",scriptClass:"mstrmojo.Popup",locksHover:true,onOpen:function(){if(this.tgt){this.set("left",H(d(parseInt(this.tgt.style.left,10),0),parseInt(this.opener.width,10)-90)+"px")
	this.set("top",this.tgt.style.top)
	}var q=this.opener,p=this.children[0]
	if(q){var o=this.isfrt?q.cs1Vl:q.cs2Vl
	p.edt.set("value",Z.toLocaleString(o))
	}},children:[{scriptClass:"mstrmojo.Table",rows:1,cols:2,layout:[{cells:[{cssText:"width: 40px
	padding: 3px
	"},{cssText:"width: 16px
	padding: 3px
	"}]}],children:[{slot:"0,0",scriptClass:"mstrmojo.ValidationTextBox",alias:"edt",cssText:"color:black",dtp:mstrmojo.expr.DTP.NUMERIC,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL},onValid:function(){if(this.parent.apply){this.parent.apply.set("enabled",String(this.value).length!==0)
	}},onInvalid:function(){if(this.parent.apply){this.parent.apply.set("enabled",false)
	}},onkeyup:function(p){if(this.parent.apply.enabled){var o=p.hWin,q=p.e||o.event
	if(q.keyCode===13){this.parent.apply.onclick()
	}}}},{slot:"0,1",scriptClass:"mstrmojo.Button",cssClass:"icn apply",alias:"apply",onclick:function(){var q=this.parent.parent,r=q.opener,o=this.parent.edt.value
	if(q&&r&&String(o).length>0){r[q.isfrt?"cs1Nm":"cs2Nm"]=o
	o=Z.parseNumeric(o)
	r[q.isfrt?"cs1Vl":"cs2Vl"]=o
	}r[q.isfrt?"frtUst":"ndUst"]=true
	r.selectRange()
	r.typeHelper.updateThumb()
	q.close()
	}}]}]},openEditValue:function(o){this.openPopup("editValueRef",o)
	}})
	mstrmojo.MetricSlider.METRICSLIDERTHUMBWIDTH=14
	mstrmojo.MetricSlider.METRICSLIDERDEFAULTWIDTH=95
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.List","mstrmojo.Button","mstrmojo.color","mstrmojo.Model","mstrmojo.Table","mstrmojo._CanValidate","mstrmojo.ValidationTextBox")
	var L=mstrmojo.color,C=mstrmojo.hash
	function H(X,R,N,O,W,M,Q,U){var S={target:R,onEnd:function(){if(M){M()
	}},props:{}}
	S.props[N]={ease:Q,start:parseInt(O,10),stop:parseInt(W,10),suffix:"px"}
	S=C.copy(U,S)
	var P=new mstrmojo.fx.AnimateProp(S)
	P.play()
	}var D=function(R){if(R===null){return 
	}var Q=mstrmojo.locales.color.userPalette,M=Q.length
	if(M===8){Q.remove(M-1,1)
	}Q.add([{n:R,v:R}],0)
	var N="",O
	for(O=0
	O<8
	O++){if(Q[O]&&Q[O].v){N+=Q[O].v+","
	}}N=N.replace(/,$/,"")
	var P={success:function(U){},failure:function(U){mstrmojo.alert(U.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}}
	var S={taskId:"setPreference",prefs:"userPalette\u001E"+N}
	if(mstrApp.isWorkstationPlugin){mstrApp.workstationDataFetchTaskProc&&mstrApp.workstationDataFetchTaskProc(S).then(function(U){P.success(U)
	})
	}else{mstrmojo.xhr.request("POST",mstrConfig.taskURL,P,S)
	}}
	var I=function(M,N,O){return{scriptClass:"mstrmojo.Label",text:M+":",cssClass:N,slot:O}
	}
	var K=function(M,P,O,N){return C.copy(N||{},{scriptClass:"mstrmojo.ValidationTextBox",cssDisplay:"block",cssText:"padding: "+(mstrmojo.dom.isIE7?"0":"1px"),bindings:{value:function(){return this.parent.parent.colorModel[O]||"0"
	}},onValid:function(){this.parent.parent.colorModel.set(O,this.value)
	},min:0,max:255,constraints:{trigger:mstrmojo.validation.TRIGGER.ONKEYUP,validator:function(R){var S=this.min,Q=this.max
	R=parseInt(R,10)
	if(R>=S&&R<=Q){return{code:mstrmojo.validation.STATUSCODE.VALID}
	}return{code:mstrmojo.validation.STATUSCODE.INVALID,msg:mstrmojo.desc(7883,"Please enter an integer between ## and ###").replace("##",S).replace("###",Q)}
	}},slot:P})
	}
	var G=function(M){return C.copy({scriptClass:"mstrmojo.Slider",alias:M+"Slider",cssClass:"sc "+M,isHoriz:true,width:130,cssBkBW:0,items:[],getItemTooltip:function(){return this.items[this.min].n
	},postCreate:function(){var N
	for(N=0
	N<{r:256,g:256,b:256,s:101,v:101,h:360}[M]
	N++){this.items.push({n:N,v:N})
	}},bindings:{selectedIndex:function(){return this.parent.parent.colorModel[M]||"0"
	}},onselectedIndexChange:function(){this.parent.parent.colorModel.set(M,this.selectedIndex)
	if(this.domNode){this.min=this.max=this.selectedIndex
	this.typeHelper.updateThumb()
	}},select:function(N){this.set("selectedIndex",N)
	},slot:"1,3"})
	}
	var A=function(N,M,O){return'<div mstridx="'+M+'" class="mstrmojo-ColorPicker-item '+O.itemCssClas+'" style="background-color:'+N.v+'
	" type="button" title="'+N.n+'"></div>'
	}
	var F=C.copy({findIndex:function(M,O,N){return N.getAttribute("mstridx")||-1
	}},C.copy(mstrmojo.ListMapper))
	var B=function(M,N){return C.copy(N,{scriptClass:"mstrmojo.List",cssClass:"mstrmojo-ColorPicker-list",itemMarkupFunction:A,listMapper:F,onchange:null,_onchange:function(){this.set("selectedColor",this.selectedItem.v)
	M.set("selectedColor",this.selectedItem.v)
	if((M.isSimple||!M.expanded)&&M.onChange){M.onChange()
	}},onselectedColorChange:function(){M.colorModel.set("hex",this.selectedColor)
	}})
	}
	mstrmojo.ColorPicker=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.ColorPicker",markupString:'<div id={@id} class="mstrmojo-ColorPicker {@cssClass} {@shadowCssClass}" style="height:{@height}
	width:{@width}
	{@cssText}"><div class="mstrmojo-ColorPicker-box"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	},onexpandedChange:function(){this.domNode.className=this.domNode.className.replace(/ expanded/,"")+(this.expanded?" expanded":"")
	}},useAnimate:true,useShadow:true,isSimple:false,showNoColor:true,showMoreColors:true,showGradients:false,showUserPalette:true,height:"168px",fullHeight:"326px",width:"158px",fullWidth:"366x",expanded:false,onexpandedChange:function(N){var Q=this.domNode,M=parseInt(this.height,10),P=parseInt(this.width,10),O=parseInt(this.fullHeight,10),R=Math.max(parseInt(this.fullWidth,10),Q.scrollWidth)
	if(this.useAnimate!==false){if(N.value){H(true,Q,"width",P,R)
	H(true,Q,"height",M,O)
	}else{H(true,Q,"width",R,P)
	H(true,Q,"height",O,M)
	}}else{if(N.value){Q.style.width=R+"px"
	Q.style.height=O+"px"
	}else{Q.style.width=P+"px"
	Q.style.height=M+"px"
	}}},selectedColor:null,onChange:null,_updateSelection:function(N){var O=(this.isSimple)?this:this.layout.cp
	if(N){var M=mstrmojo.array.find(O.basicColors.items,"v",N)
	if(M>-1){O.basicColors.set("selectedIndex",M)
	}else{M=mstrmojo.array.find(O.userPalette.items,"v",N)
	if(M>-1){O.userPalette.set("selectedIndex",M)
	}}}},visible:false,onvisibleChange:function(){if(this.visible){this.selectedColor=(this.selectedColor&&this.selectedColor.replace(/transparent/,"#FFFFFF"))||"#FFFFFF"
	this.colorModel.set("hex",this.selectedColor)
	this._updateSelection(this.selectedColor)
	}},onselectedColorChange:function(){this._updateSelection(this.selectedColor)
	},init:function(M){var N=this
	this.colorModel=new mstrmojo.Model({h:0,s:0,v:100,_hsvChange:function(){this.hex="#"+L.hsv2hex(this.h,this.s,this.v)
	var O=L.hsv2rgb(this.h,this.s,this.v)
	this.r=O[0]
	this.g=O[1]
	this.b=O[2]
	N.set("colorModel",C.copy(this,{}))
	},_rgbChange:function(){this.hex="#"+L.rgb2hex(this.r,this.g,this.b)
	var O=L.rgb2hsv(this.r,this.g,this.b)
	this.h=O[0]
	this.s=O[1]
	this.v=O[2]
	N.set("colorModel",C.copy(this,{}))
	},onhChange:function(){this._hsvChange()
	},onsChange:function(){this._hsvChange()
	},onvChange:function(){this._hsvChange()
	},onrChange:function(){this._rgbChange()
	},ongChange:function(){this._rgbChange()
	},onbChange:function(){this._rgbChange()
	},onhexChange:function(){var P=L.hex2rgb(this.hex)
	this.r=P[0]
	this.g=P[1]
	this.b=P[2]
	var O=L.hex2hsv(this.hex)
	this.h=O[0]
	this.s=O[1]
	this.v=O[2]
	N.set("colorModel",C.copy(this,{}))
	}})
	this._super(M)
	},postBuildRendering:function(){if(this._super){this._super()
	}this.colorModel.set("hex",this.selectedColor||"#FFFFFF")
	this.colorModel.set("s",50)
	},preBuildRendering:function(){if(this._super){this._super()
	}var P=this.isSimple?100:124
	if(this.showNoColor){P+=20
	}if(this.showUserPalette){P+=25
	}this.height=P+"px"
	if(this.isSimple){this.width="155px"
	}this.shadowCssClass=this.useShadow?"shadow":""
	var Q=this,M={scriptClass:"mstrmojo.Button",cssClass:"nocolor",text:mstrmojo.desc(959,"Default"),visible:this.showNoColor,onclick:function(){Q.set("selectedColor","transparent")
	if(Q.onChange){Q.onChange()
	}}},O=B(this,{alias:"basicColors",items:mstrmojo.locales.color.colors,onchange:function(){if(this.selectedIndex>-1){this.parent.userPalette.set("selectedIndex",-1)
	this._onchange()
	}}}),R=B(this,{alias:"userPalette",cssClass:"mstrmojo-ColorPicker-list userPalette",makeObservable:true,visible:this.showUserPalette,bindings:{items:function(){return Q.showUserPalette!==false?mstrmojo.locales.color.userPalette:[]
	}},onchange:function(){if(Q.visible){if(this.selectedIndex>-1){this.parent.basicColors.set("selectedIndex",-1)
	this._onchange()
	}}},onadd:function(){this.refresh()
	if(Q.visible){this.parent.basicColors.set("selectedIndex",-1)
	this.set("selectedIndex",0)
	}}})
	if(this.isSimple){if(this.showNoColor){this.addChildren(M,0)
	}this.addChildren(O)
	this.addChildren(R)
	return 
	}var N={scriptClass:"mstrmojo.Table",alias:"layout",rows:2,cols:5,layout:[{cells:[{colSpan:2},{colSpan:2},{}]},{cells:[{},{},{},{},{}]}],children:[{scriptClass:"mstrmojo.VBox",cssClass:"mstrmojo-ColorPicker-palette shadow",alias:"cp",children:[M,O,R],slot:"0,0"},{scriptClass:"mstrmojo.Container",cssClass:"sbSlider",markupString:'<div class="{@cssClass}" style="position:relative
	{@cssText}" mstrAttach:click,mouseover,mousemove,mousedown,mouseup,mouseout><div class="sbThumb"></div></div>',markupSlots:{containerNode:function(){return this.domNode
	},thumbNode:function(){return this.domNode.firstChild
	}},markupMethods:{onbgColorChange:function(){this.domNode.style.backgroundColor=this.bgColor
	}},hex:null,bindings:{hex:"this.parent.parent.colorModel.hex",bgColor:function(){return"#"+L.hsv2hex(this.parent.parent.colorModel.h,100,100)
	}},onhexChange:function(){if(this.domNode){this.thumbNode.style.left=this.parent.parent.colorModel.s/100*160-3+"px"
	this.thumbNode.style.top=(1-this.parent.parent.colorModel.v/100)*160-3+"px"
	}},onmousedown:function(){var U=this.domNode.getBoundingClientRect()
	this.mouseX0=U.left
	this.mouseY0=U.top
	this.onmousemove=this._update
	var S=this
	this.onmouseup=function(){S.onmousemove=null
	mstrmojo.dom.detachEvent(document.body,"mouseup",S.onmouseup)
	}
	mstrmojo.dom.attachEvent(document.body,"mouseup",this.onmouseup)
	},onclick:function(S){this._update(S)
	},_update:function(S){var X={x:S.e.clientX,y:S.e.clientY},W=Math.min(Math.max(0,X.x-this.mouseX0),160),U=Math.min(Math.max(0,X.y-this.mouseY0),160)
	this.thumbNode.style.left=(W-3)+"px"
	this.thumbNode.style.top=(U-3)+"px"
	this.parent.parent.colorModel.s=Math.floor(100*W/160)
	this.parent.parent.colorModel.set("v",Math.floor(100*(1-U/160)))
	},slot:"0,1"},{scriptClass:"mstrmojo.Container",cssClass:"hueSlider",markupString:'<div class="{@cssClass}" style="position:relative
	{@cssText}" mstrAttach:click,mouseover,mousedown,mouseup,mousemove,mouseout><div class="hThumb"></div></div>',markupSlots:{containerNode:function(){return this.domNode
	},thumbNode:function(){return this.domNode.firstChild
	}},bindings:{hex:"this.parent.parent.colorModel.hex",h:"this.parent.parent.colorModel.h"},onhexChange:function(){this._moveThumb()
	},onhChange:function(){this._moveThumb()
	},_moveThumb:function(){if(this.thumbNode){this.thumbNode.style.top=(1-this.parent.parent.colorModel.h/360)*160-1+"px"
	}},onmousedown:function(){this.mouseY0=this.domNode.getBoundingClientRect().top
	this.onmousemove=this._update
	var S=this
	this.onmouseup=function(){S.onmousemove=null
	mstrmojo.dom.detachEvent(document.body,"mouseup",S.onmouseup)
	}
	mstrmojo.dom.attachEvent(document.body,"mouseup",S.onmouseup)
	},onclick:function(S){this._update(S)
	},_update:function(S){var W={x:S.e.clientX,y:S.e.clientY},U=Math.min(Math.max(0,W.y-this.mouseY0),160)
	this.thumbNode.style.top=(U-1)+"px"
	this.parent.parent.colorModel.set("h",Math.max(0,Math.floor(360*(1-U/160))))
	},slot:"0,2"},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-ColorPicker-preview",markupMethods:{onbgColorChange:function(){this.domNode.style.backgroundColor=this.bgColor
	}},bindings:{bgColor:"this.parent.parent.colorModel.hex"},onclick:function(){if(Q.showUserPalette){D(this.bgColor)
	}},slot:"1,0"},I(mstrmojo.desc(7848,"Hex"),"Hex","1,0"),K(mstrmojo.desc(7848,"Hex"),"1,0","hex",{cssClass:"hex",cssDisplay:"block",inputNodeCssClass:"hex",dtp:25,constraints:{trigger:mstrmojo.validation.TRIGGER.ONKEYUP,validator:function(S){if(/^#[0-9a-fA-F]{6}$/.test(S)){return{code:mstrmojo.validation.STATUSCODE.VALID}
	}return{code:mstrmojo.validation.STATUSCODE.INVALID,msg:mstrmojo.desc(7882,"Please enter a 6-digit HEX color value in format: #xxxxxx")}
	}}}),I(mstrmojo.desc(3604,"Red"),"Red","1,1"),I(mstrmojo.desc(3606,"Green"),"Green","1,1"),I(mstrmojo.desc(3608,"Blue"),"Blue","1,1"),I(mstrmojo.desc(3605,"Hue"),"Hue","1,1"),I(mstrmojo.desc(3607,"Saturation"),"Saturation","1,1"),I(mstrmojo.desc(3609,"Brightness"),"Brightness","1,1"),K(mstrmojo.desc(3604,"Red"),"1,2","r"),G("r"),K(mstrmojo.desc(3606,"Green"),"1,2","g"),G("g"),K(mstrmojo.desc(3608,"Blue"),"1,2","b"),G("b"),K(mstrmojo.desc(3695,"Hue"),"1,2","h",{cssClass:"h",max:360}),G("h"),K(mstrmojo.desc(3607,"Saturation"),"1,2","s",{max:100}),G("s"),K(mstrmojo.desc(3609,"Brightness"),"1,2","v",{max:100}),G("v")]}
	if(this.showMoreColors){N.children.push({scriptClass:"mstrmojo.Button",cssClass:"more",alias:"more",title:mstrmojo.desc(7833,"More >>>"),onclick:function(){var S=this.parent.parent
	S.set("expanded",!S.expanded)
	this.domNode.setAttribute("title",S.expanded?mstrmojo.desc(7834,"Less Colors"):mstrmojo.desc(7833,"More Colors"))
	this.domNode.className=S.expanded?"less":"more"
	},slot:"0,0"})
	}if(this.showGradients){N.children.push({scriptClass:"mstrmojo.Button",alias:"showGradients",cssClass:"ge",text:mstrmojo.desc(4786,"Gradients..."),title:mstrmojo.desc(7970,"Open Graident Editor"),onclick:function(){var S=this.parent.parent
	S.set("show",false)
	S.parent.ge.set("show",true)
	},slot:"0,0"})
	}this.addChildren(N)
	this.addChildren({scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-ColorPicker-buttonBar",children:[mstrmojo.Button.newInteractiveButton(mstrmojo.desc(1442,"Ok"),function(){var S=this.parent.parent
	if(!S.useAnimate){S.set("visible",false)
	}var U=S.colorModel.hex
	if(S.showUserPalette){D(U)
	}S.set("selectedColor",U)
	if(S.onOK){S.onOK()
	}},"#999",{alias:"ok",cssClass:"mstrmojo-Editor-button"}),mstrmojo.Button.newInteractiveButton(mstrmojo.desc(221,"Cancel"),function(){var S=this.parent.parent
	if(!S.useAnimate){S.set("visible",false)
	}if(S.onCancel){S.onCancel()
	}},"#999",{alias:"cancel",cssClass:"mstrmojo-Editor-button"})]})
	}})
	var J={scriptClass:"mstrmojo.Popup",slot:"popupNode",contentNodeCssClass:"mstrmojo-ColorPicker-popup-content",autoCloses:false,locksHover:true,colorPicker:null,onOpen:function(){this.colorPicker.set("selectedColor",this.opener.fillColor)
	var N=this
	var M=function(){N.lastOpener=N.lastOpener||N.opener
	if(N.opener!==N.lastOpener){N.opener.popupNode.appendChild(N.lastOpener.popupRef.domNode)
	N.lastOpener=N.opener
	}N.colorPicker.set("show",true)
	}
	window.setTimeout(function(){M()
	},100)
	},onClose:function(){this.colorPicker.set("show",false)
	if(this.ge){this.ge.set("show",false)
	}},postCreate:function(){this.markupMethods=C.copy(this.markupMethods)
	this.markupMethods.onvisibleChange=null
	},preBuildRendering:function(){if(this.showGradients||this.colorPicker.showGradients){this.addChildren(this.gradientRef)
	}},gradientRef:{scriptClass:"mstrmojo.GradientEditor",alias:"ge",cssText:"height:0
	display:none
	position:absolute
	z-index: 4
	",left:"0px",top:"0px",visible:false,showTitle:false,height:245,_resizeHandler:function(){},onOK:function(){this.parent.opener.set("gradient",this.gradient)
	this.parent.opener.set("gradientCss",this.gradient.css)
	this.set("show",false)
	},onCancel:function(){this.set("show",false)
	},onshowChange:function(O){var N=O.value,M=parseInt(this.height,10)
	var R=this.domNode.firstChild
	if(N){this.set("model",this.parent.opener.gradient)
	R.style.display="block"
	}if(this.useAnimate!==false){var S=N?0:M,P=M-S,Q=this
	R.style.overflow="hidden"
	if(N){R.style.display="block"
	}H(N,R,"height",S,P,function(){if(!N){R.style.display="none"
	var U=Q.parent.opener
	if(U){U.closePopup()
	}}else{R.style.overflow="visible"
	}})
	}else{R.style.height=N?M+"px":0
	R.style.display=N?"block":"none"
	}},postCreate:function(){this.bindings={useAnimate:"this.parent.opener.useAnimate"}
	}},children:[{scriptClass:"mstrmojo.ColorPicker",alias:"colorPicker",onChange:function(){if(!this.parent.opener){return 
	}this.parent.opener.set("fillColor",this.selectedColor)
	this.set("show",false)
	this.parent.opener.closePopup()
	},onOK:function(){this.onApply()
	this._closePopup()
	},onApply:function(){this.parent.opener.set("fillColor",this.selectedColor)
	},onCancel:function(){this._closePopup()
	},_closePopup:function(){this.set("show",false)
	if(!this.showGradients||!this.parent.ge||(this.parent.ge&&!this.parent.ge.show)){this.parent.opener.closePopup()
	}},show:false,onEnd:function(){this.set("visible",this.show)
	},onshowChange:function(){var M=parseInt(this.expanded?this.fullHeight:this.height,10)
	if(this.useAnimate!==false){var Q=this.show?0:M,O=M-Q,P=this,N=(!this.show?function(){P.onEnd()
	}:null)
	if(this.show){this.set("visible",true)
	}H(this.show,this.domNode,"height",Q,O,N)
	}else{this.set("visible",this.show)
	this.domNode.style.height=M+"px"
	}},postCreate:function(){this.showGradients=this.parent.showGradients
	this.bindings={showUserPalette:function(){return this.parent.opener?this.parent.opener.showUserPalette:this.showUserPalette
	},useAnimate:function(){return this.parent.opener?this.parent.opener.useAnimate:this.useAnimate
	},isSimple:function(){return this.parent.opener?this.parent.opener.isSimple:this.isSimple
	},showNoColor:function(){return this.parent.opener?this.parent.opener.showNoColor:this.showNoColor
	}}
	}}]}
	mstrmojo.colorPickerPopupRef=mstrmojo.insert(J)
	mstrmojo.simpleColorPickerPopupRef=mstrmojo.insert(C.copy({isSimple:true},C.copy(J)))
	mstrmojo.gradientColorPickerPopupRef=mstrmojo.insert(C.copy({showGradients:false},C.copy(J)))
	mstrmojo.ColorPicker.createDropDown=function E(O,N){O=O||{}
	var M=mstrmojo.colorPickerPopupRef
	if(N){if(N.isSimple){M=mstrmojo.simpleColorPickerPopupRef
	O.isSimple=N.isSimple
	}else{if(N.showGradients){M=mstrmojo.gradientColorPickerPopupRef
	O.showGradients=N.showGradients
	}}}else{if(O){if(O.isSimple){M=mstrmojo.simpleColorPickerPopupRef
	}else{if(O.showGradients){M=mstrmojo.gradientColorPickerPopupRef
	}}}}return C.copy(O,{scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-ColorPicker-DropDownButton",markupMethods:{onfillColorChange:function(){if(this.boxNode&&this.fillColor){this.boxNode.style.cssText="background-color: "+this.fillColor
	this.gradient=null
	this.gradientCss=null
	}},ongradientCssChange:function(){if(this.boxNode&&this.gradientCss){this.boxNode.style.cssText=this.gradientCss
	this.fillColor=null
	}}},popupRef:M,showUserPalette:true,useAnimate:true,showGradients:false,isSimple:false,fillColor:undefined})
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.menus.PopupConfig","mstrmojo.vi.ui.rw._SupportTabNav","mstrmojo.ui.menus.MenuEditor","mstrmojo.dom")
	var F=mstrmojo.dom
	function E(){F.attachEvent(this.domNode,"keydown",function(H){F.captureDomEvent(this.id,this.evtName,self,H)
	}.bind({id:this.id,evtName:"keydown"}))
	}mstrmojo.ui.menus.EditorConfig=mstrmojo.declare(mstrmojo.ui.menus.PopupConfig,[mstrmojo._HasBindings],{scriptClass:"mstrmojo.ui.menus.EditorConfig",data:null,fnOk:null,fnCancel:null,okEnabled:true,cancelEnabled:true,okVisible:true,cancelVisible:true,init:function G(H){this._super(H)
	if(this.data&&!mstrmojo.all[this.data.id]){mstrmojo.hash.make(this.data,mstrmojo.Obj)
	}this.initBindings()
	},clear:function A(){this._super()
	this.data=null
	this.fnOk=this.fnCancel=mstrmojo.emptyFn
	},newInstance:function D(){var H=mstrmojo.ui.menus.MenuEditor
	if(this.hasAccessibility){H=mstrmojo.DynamicClassFactory.newComponent(H,[mstrmojo._IsAccessibleMenu])
	}else{if(this.canTab){H=mstrmojo.DynamicClassFactory.newComponent(H,[mstrmojo.vi.ui.rw._SupportTabNav])
	}}return new H({popupConfig:this})
	},onOpen:function B(){if(this._super){this._super()
	}if(this.popupConfig.hasAccessibility&&this.enableAccessibility){this.enableAccessibility()
	}if(this.canTab){E.call(this)
	if(this.domNode&&this.popupConfig.editorRole){this.domNode.setAttribute("role",this.popupConfig.editorRole)
	}if(this.popupConfig.navMode){this.navigateToFirstValidTarget()
	}}},destroy:function C(){if(this.data){this.data.destroy()
	}this.destroyBindings()
	this._super()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.hash","mstrmojo.dom","mstrmojo.css","mstrmojo.array","mstrmojo.string","mstrmojo.SearchableDropDownList","mstrmojo._IsTableLayoutListDIC","mstrmojo.TableLayoutList","mstrmojo._IsInputControl","mstrmojo.DynamicClassFactory")
	var N=mstrmojo.DynamicClassFactory.newComponent,G=mstrmojo.hash,J=mstrmojo.css,I=mstrmojo.dom,M=mstrmojo.string,E=2,D=0,H=1,Q=2
	mstrmojo.SearchableDropDownListForListDIC=mstrmojo.declare(mstrmojo.SearchableDropDownList,null,{scriptClass:"mstrmojo.SearchableDropDownListForListDIC",markupString:'<div id="{@id}" class="mstrmojo-SearchableDropDownList mstrmojo-DropDownButton {@cssClass} {@direction}" style="{@cssText}"><div class="mstrmojo-DropDownButton-boxNode {@cssClass}-boxNode" title="{@title}"><div class="mstrmojo-DropDownButton-iconNode {@cssClass}-iconNode" tabindex="0" mstrAttach:mousedown,keyup>{@text}</div><table class="mstrmojo-InputNodeBar"><colgroup><col class="inputCol"/><col class="iconCol"/></colgroup><tr><td><input class="mstrmojo-SearchableDropDownList-inputNode" value="{@text}" placeholder="{@placeholderText}" mstrAttach:keyup,blur,click/></td><td><div class="mstrmojo-DropDownButton-iconNode {@cssClass}-iconNode" mstrAttach:mousedown></div></td></tr></table></div><div class="mstrmojo-DropDownButton-popupNode {@cssClass}-popupNode"></div><div class="curtain"></div></div>',markupSlots:G.copy({popupNode:function(){return this.domNode.children[1]
	},disableCurtainNode:function(){return this.domNode.lastChild
	}},G.copy(mstrmojo.SearchableDropDownList.prototype.markupSlots)),markupMethods:G.copy({onenabledChange:function(){J.toggleClass(this.disableCurtainNode,"disabled",!!this.enabled)
	}},G.copy(mstrmojo.SearchableDropDownList.prototype.markupMethods)),init:function O(R){this._super(R)
	this.popupRef.children[0].onmousedown=function(){var U=this.parent,S=U.opener
	U.close()
	if(S){S.onPopupClosed()
	}}
	},postBuildRendering:function(){this.autofocus=false
	this._super()
	},focus:function(){this.autofocus=true
	this._super&&this._super()
	},onmousedown:function C(R){this._super&&this._super(R)
	if(I.isIE||I.isIEW3C){this.focus()
	}},openPopup:function(U,R){var S=this.parent.showByDefault
	this[U].popupConfig=new mstrmojo.ui.PopupConfig({hostElement:this.popupNode,isHostedWithin:false})
	this._super(U,R)
	if(S){this.parent.setInfoWindowLock(true)
	}},adjustHeight:function B(){var S=this.popupRef.domNode
	var Z=I.position(this.popupNode,true)
	if(S){var Y=(window.getComputedStyle&&window.getComputedStyle(S,null))||S.currentStyle
	var W=P(Y.height)
	var U=P(Y.marginTop)+P(Y.borderTopWidth)+P(Y.paddingTop)+P(Y.paddingBottom)+P(Y.borderBottomWidth)+P(Y.marginBottom)
	var X=I.position(S,true)
	var R=I.windowDim()
	if(X.y<0){S.style.maxHeight=Math.min((Math.round(Z.y)-U),W)+"px"
	S.lastChild.style.maxHeight=S.style.maxHeight
	}else{if(X.y+X.h>R.h){S.style.maxHeight=Math.min((Math.round(R.h-X.y)-U),(Math.round(Z.y)-U),W)+"px"
	S.lastChild.style.maxHeight=S.style.maxHeight
	}}}},togglePopup:function L(){if(this._super){this._super()
	}var R=this.popupRef.domNode
	if(R){var S=I.position(this.domNode,true),U=I.position(R,true)
	if(U.y<S.y){var W=R.parentNode.style.top
	R.parentNode.style.top=P(W)-this.domNode.clientHeight-1+"px"
	}this.adjustHeight()
	}},popupRef:G.copy({onClose:function(){var R=this.opener.parent.showByDefault
	if(R){this.opener.parent.setInfoWindowLock(false)
	}if(this.domNode){this.domNode.style.top="auto"
	this.domNode.style.bottom="auto"
	}}},G.clone(mstrmojo.SearchableDropDownList.prototype.popupRef)),onPopupClosed:mstrmojo.emptyFn})
	mstrmojo.TableLayoutListForListDIC=N(mstrmojo.TableLayoutList,[mstrmojo._IsTableLayoutListDIC],{scriptClass:"mstrmojo.TableLayoutListForListDIC",getItemMarkup:function(X,S){var W='<{@tag} class="item {@cls}" idx="{@idx}" title="{@en@n}" style="{@style}"><span class="item_bg"></span>{@en@n}</{@tag}>',R=this.getLeftEndTitle(S),U=this.getRightEndTitle(S),Y=this.itemsPerRow
	R='<td class="left_text" title="'+R+'">'+R+"</id>"
	U='<td class="right_text" title="'+U+'">'+U+"</id>"
	if(Y>0){W=(S%Y===0?"<tr>"+R:"")+"<td>"+W+"</td>"+((S+1)%Y===0?U+"</tr>":"")
	}else{W='<td><div class="item_wrapper" idx="'+S+'">'+W+"</div></td>"
	if(!S){W="<tr>"+R+W
	}else{if(S===this.items.length-1){W=W+U+"</tr>"
	}}}return W
	},postvalueChange:function(){this._super&&this._super()
	if(this.parent&&this.parent.owner&&this.parent.owner.model){var R=this.parent.owner.model,S=R.getZoomFactor&&R.getZoomFactor()||1
	this.zoomBackground(S,this.domNode.getElementsByClassName("item_bg"))
	}},postBuildRendering:function(){this._super&&this._super()
	J.toggleClass(this.domNode,"disabled",!this.enabled)
	if(this.parent&&this.parent.owner&&this.parent.owner.model){var U=this.parent.owner.model,W=U.getZoomFactor&&U.getZoomFactor()||1
	if(W!==1){var R=this.domNode.getElementsByClassName("item_wrapper")
	for(var S=0
	S<R.length
	S++){R[S].parentNode.style.width=R[S].parentNode.offsetWidth*W+"px"
	}this.zoomStyle(W,this.domNode.getElementsByClassName("item_bg"),100,500)
	}}},})
	function K(U,W,R,S){var X=W.ipr||0
	return{0:{scriptClass:"mstrmojo.SearchableDropDownListForListDIC",cssDisplay:"block",searchEnabled:R.length>=10,itemIdField:"v",fixWidth:true,fixHeight:true,markupMethods:G.copy({ontextChange:function(){var Y=W.ipt
	if(Y===H||this.allowHTML){this.iconNode.innerHTML=this.text
	}else{this.iconNode.innerText=this.text
	}this.inputNode.value=Y===H?M.decodeHtmlString(this.text):this.text
	}},G.copy(mstrmojo.SearchableDropDownListForListDIC.prototype.markupMethods)),postCreate:function(){var b=this.value||"",a=W.ipt||D,c=a===H?W.ust||"":"",Y=mstrmojo.array.find(R,"wbfv",b),Z=mstrmojo.array.find(R,"v",b)
	if(a!==Q){Y=Z
	}if(Y===-1||S){b=(Y===-1&&Z===-1)?b:undefined
	if(Y===-1&&Z===-1&&S){R=[{n:b||"",v:b||""}].concat(R)
	}else{R=[{n:c,v:b}].concat(R)
	}if(Z!==-1){Y=Z
	}Y+=1
	if(Y===0){this.unset=true
	}}this.items=R
	this.selectedIndex=Y
	this.set("value",R[Y].v)
	if(this.parent.showByDefault&&this.searchEnabled){this.applyChange=function(){if(this.value!=this.parent.value){this.parent.set("value",this.value)
	}else{this.items=this.allItems
	this.set("text",this.text)
	}}
	this.onvalueChange=function(){}
	if(I.isIE||I.isIEW3C){this.onPopupClosed=function(){this.applyChange&&this.applyChange()
	}
	}}},onblur:function(Y){this.applyChange&&this.applyChange()
	},onEnter:function(){this.applyChange&&this.applyChange()
	},onEsc:function(){this.items=this.allItems
	this.set("value",this.parent.value)
	},getDisplayValue:function(){return this.items.length&&this.items[this.selectedIndex===-1?0:this.selectedIndex].n
	},isPopupClosed:function(){return !(this.popupRef&&this.popupRef.visible)
	},bindings:{enabled:"this.parent.enabled"}},1:{scriptClass:"mstrmojo.TableLayoutListForListDIC",styleCssClass:"radio",itemsPerRow:X,items:R,getDisplayValue:function(){return this.items[this.selectedIndex].n
	},bindings:{enabled:"this.parent.enabled"}},2:{scriptClass:"mstrmojo.TableLayoutListForListDIC",styleCssClass:"check",delim:",",multiSelect:true,itemsPerRow:X,items:R,getDisplayValue:function(){return""
	},bindings:{enabled:"this.parent.enabled"}}}[U||0]
	}function P(R){var S=parseInt(R)
	return S===null||isNaN(S)?0:S
	}mstrmojo.ListDIC=mstrmojo.declare(mstrmojo.Container,[mstrmojo._IsInputControl],{scriptClass:"mstrmojo.ListDIC",tabIndex:0,markupString:'<div class="mstrmojo-ListDIC {@cssClass}" tabIndex="{@tabIndex}" mstrAttach:focus></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onwidthChange:function(){if(this.dicWidget&&this.width){this.dicWidget.set("width",this.width)
	}},onheightChange:function(){if(this.dicWidget&&this.height){this.dicWidget.set("height",this.height)
	}}},init:function(R){this._super(R)
	this.style=this.dic.st
	this.items=this.getItems()
	var S=this.dic.ipt
	this.set("children",[mstrmojo.hash.copy(K(this.style,this.dic,this.items,this.dic.ipt===E),{alias:"dicWidget",value:this.value,onvalueChange:function(){if(this.value!=this.parent.value){this.parent.set("value",this.value)
	}},itemName:function U(Y,W,X){return S===Q&&!X.parent.opener.allowHTML?M.encodeHtmlString(Y[X.itemField]):Y[X.itemField]
	}})])
	if(this.dicWidget.setDirtyFlag){this.setDirtyFlag=function(X,W){this.dicWidget.setDirtyFlag(X,W)
	}
	}},getDisplayValue:function F(){var R=this.dicWidget.getDisplayValue()
	return(R!=null)?R:this.dv
	},onfocus:function(R){this.focus()
	},focus:function(){var R=this
	if(mstrmojo.dom.isIE){setTimeout(function(){R.dicWidget.focus&&R.dicWidget.focus()
	},10)
	}else{R.dicWidget.focus&&R.dicWidget.focus()
	}},postBuildRendering:function(){this._super()
	if(!mstrmojo.isDescendant(this.owner,this)&&this.showByDefault){this.dicWidget.set("height",(this.openerStyle.ih||0)+"px")
	this.dicWidget.set("width",(this.openerStyle.iw||0)+"px")
	}},applyChanges:function(){var R=this._super()
	if(this.canSlice){var U={type:parseInt(this.dic.ct,10),src:this.dic.k,ctlKey:this.dic.ckey,include:this.dic.include,tks:this.dic.tks,ck:this.dic.ck,disablePU:false}
	var S=this
	window.setTimeout(function(){S.owner.model.sendTransactionUpdates(U)
	},0)
	}return this.style?R:this.dicWidget.isPopupClosed()
	},cleanup:function A(){if(!this.style){this.dicWidget.closePopup()
	}},isDicWidgetReady:function(){return this.dicWidget
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasLayout","mstrmojo.DynamicClassFactory","mstrmojo.ListBase","mstrmojo._IsList","mstrmojo.array","mstrmojo.ui.pathbar.PathStarBurst","mstrmojo.ui.pathbar.PathNavigation","mstrmojo.ui.pathbar.PathAncestors","mstrmojo.ui.pathbar.PathExtraLinks","mstrmojo.ui.pathbar.PathHamburger","mstrmojo.ui.pathbar._PreAppExit","mstrmojo.ui._HasListTooltip")
	mstrmojo.ui.pathbar.List=mstrmojo.DynamicClassFactory.newComponent(mstrmojo.ListBase,[mstrmojo._IsList,mstrmojo.ui.pathbar._PreAppExit,mstrmojo.ui._HasListTooltip])
	mstrmojo.ui.pathbar.ScrollableList=mstrmojo.DynamicClassFactory.newComponent(mstrmojo.ui.ScrollableList,[mstrmojo.ui._HasListTooltip])
	function B(){var G=false,F=mstrApp.getPersistParams().hiddensections
	if(F){G=mstrmojo.array.indexOf(F.split(","),"path")>=0
	}return G
	}function C(G){var F
	for(F in G){return false
	}return true
	}function A(I){var G=I&&I.items,F=G&&G.length,H
	for(H=F-1
	H>=0
	H--){if(C(G[H])){G.splice(H,1)
	}H--
	}}mstrmojo.ui.pathbar.PathBar=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.ui.pathbar.PathBar",markupString:'<div id="{@id}" class="mojoPath {@cssClass}" style="{@cssText}"><div id="mojoPath-starburst" class="mojoPath-starburst"></div><div id="mojoPath-navigation" class="mojoPath-navigation"></div><div id="mojoPath-path" class="mojoPath-path"></div><div id="mojoPath-toolbar" class="mojoPath-toolbar"></div><div id="mojoPath-create" class="mojoPath-create"></div><div id="mojoPath-search" class="mojoPath-search"></div><div id="mojoPath-extraLinks" class="mojoPath-extraLinks"></div></div>',markupSlots:{starburstNode:function(){return this.domNode.firstChild
	},navigationNode:function(){return this.domNode.childNodes[1]
	},pathNode:function(){return this.domNode.childNodes[2]
	},toolbarNode:function(){return this.domNode.childNodes[3]
	},createNode:function(){return this.domNode.childNodes[4]
	},searchNode:function(){return this.domNode.childNodes[5]
	},extraLinksNode:function(){return this.domNode.lastChild
	}},layoutConfig:{h:{starburstNode:"auto",navigationNode:"auto",pathNode:"auto",toolbarNode:"auto",createNode:"auto",searchNode:"auto",extraLinksNode:"auto"},w:{starburstNode:"auto",navigationNode:"auto",pathNode:"100%",toolbarNode:"auto",createNode:"auto",searchNode:"50px",extraLinksNode:"auto"}},getLayoutOffsets:function E(){return{h:2,w:0}
	},init:function D(I){if(B()){this.visible=false
	return 
	}var L=[]
	this._super(I)
	var G=this.pathInfo,J=G.sb,F=G.nb,K=G.pt,H=G.el,M=G.tbModelData&&G.tbModelData.n
	A(M)
	if(J&&J.length>0){L.push({scriptClass:"mstrmojo.ui.pathbar.PathStarBurst",slot:"starburstNode",items:J})
	}if(F&&F.length>0){L.push({scriptClass:"mstrmojo.ui.pathbar.PathNavigation",slot:"navigationNode",items:F})
	mstrApp.prevPageHref=F[1]&&F[1].href
	}if(K&&K.length>0){L.push({scriptClass:"mstrmojo.ui.pathbar.PathAncestors",slot:"pathNode",items:K,delimiter:G.dlmt})
	}if(H&&H.length>0){L.push({scriptClass:"mstrmojo.ui.pathbar.PathExtraLinks",alias:"pathExtraLinks",slot:"extraLinksNode",items:H})
	}if(mstrmojo.resolveFeature("object-search")){L.push({scriptClass:"mstrmojo.mstr.search.SearchButton",slot:"searchNode",searchProps:mstrConfig.searchProps})
	}if(M&&M.items&&M.items.length>0){L.push({scriptClass:"mstrmojo.ui.pathbar.PathHamburger",slot:"toolbarNode",items:M.items})
	}if(this.showCreateButton){if(mstrmojo.resolveFeature("create-objects")||(mstrmojo.resolveFeature("dhtml")&&mstrmojo.resolveFeature("create-analysis"))){L.push({scriptClass:"mstrmojo.mstr.ui.CreateButton",slot:"createNode",useConfigClickHandler:false,alignMenuToRight:true})
	}}this.addChildren(L)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo._IsInputControl","mstrmojo.TableLayoutList","mstrmojo._IsTableLayoutListDIC","mstrmojo.dom","mstrmojo.hash","mstrmojo.css")
	var A=mstrmojo.dom,C=mstrmojo.css,E=mstrmojo.hash,D={0:"default",1:"stars_dots"}
	function B(G){if(G.owner&&G.owner.model){var F=G.owner.model,J=F.getZoomFactor&&F.getZoomFactor()||1
	if(J!==1){var I=G.domNode.getElementsByClassName("item_wrapper"),H=[]
	$A.forEach(I,function(K){H.push(K.firstChild)
	})
	G.zoomBackground(J,H)
	}}}mstrmojo.RatingDIC=mstrmojo.declare(mstrmojo.TableLayoutList,[mstrmojo._IsTableLayoutListDIC,mstrmojo._IsInputControl],{scriptClass:"mstrmojo.RatingDIC",styleCssClass:"rate",markupString:'<div id="{@id}" class="mstrmojo-ListBase {@cssClass}" style="{@cssText}" mstrAttach:click,mouseover,mouseout><div class="{@icnCss}" style="{@icnCssText}">{@itemsHtml}</div></div>',lastIdx:null,init:function(F){this._super(F)
	this.items=this.getItems()
	this.starCount=this.items&&this.items.length
	C.addWidgetCssClass(this,D[this.dic.stl||0])
	},setRating:function(F){var H=0,I=this.starCount,G="less_equal"
	if(this.lastIdx==undefined||this.lastIdx!=F){for(H
	H<I
	H++){if(H<=F){C.addClass(this._getItemNode(H),G)
	}else{C.removeClass(this._getItemNode(H),G)
	}}this.lastIdx=F
	B(this)
	}},onvalueChange:function(){this._super&&this._super()
	var F=mstrmojo.array.find(this.items,"v",this.value)
	this.setRating(F)
	},onmouseover:function(G){this._super&&this._super(G)
	var H=G.target||A.eventTarget(G.hWin,G.e),F=H&&H.getAttribute("idx")
	if(F!=undefined){this.setRating(F)
	}},onmouseout:function(G){this._super&&this._super(G)
	var F=mstrmojo.array.find(this.items,"v",this.value)
	this.setRating(F)
	},postBuildRendering:function(){this._super()
	if(!mstrmojo.isDescendant(this.owner,this)&&this.showByDefault){this.set("height",(this.openerStyle.ih||0)+"px")
	this.set("width",(this.openerStyle.iw||0)+"px")
	}var F=mstrmojo.array.find(this.items,"v",this.value)
	if(F>-1){this.setRating(F)
	}if(this.owner&&this.owner.model){var G=this.owner.model
	zf=G.getZoomFactor&&G.getZoomFactor()||1
	if(zf!==1){var I=this.domNode.getElementsByClassName("item_wrapper"),H=[]
	$A.forEach(I,function(J){H.push(J.firstChild)
	})
	this.zoomStyle(zf,H,42,41)
	}}C.toggleClass(this.domNode,"disabled",!this.enabled)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.TableLayoutList","mstrmojo._IsTableLayoutListDIC","mstrmojo._IsInputControl","mstrmojo.css","mstrmojo.string")
	function A(I){var H=[]
	E.forEach(I,function(J){H.push(J.n)
	})
	return H
	}var D=mstrmojo.css,E=mstrmojo.array,G=mstrmojo.string
	mstrmojo.LikertScaleDIC=mstrmojo.declare(mstrmojo.TableLayoutList,[mstrmojo._IsTableLayoutListDIC,mstrmojo._IsInputControl],{scriptClass:"mstrmojo.LikertScaleDIC",styleCssClass:"scale",init:function(H){this._super(H)
	this.items=this.getItems()
	this.titleItems=A(this.items)
	},getDisplayValue:function C(){return(this.selectedIndex>=0)?this.items[this.selectedIndex].n:this.dv
	},getLeftEndTitle:function F(H){return H>=0?G.encodeHtmlString(this.dic.mint||""):""
	},getRightEndTitle:function(H){return H>=0?G.encodeHtmlString(this.dic.maxt||""):""
	},postvalueChange:function(){this._super&&this._super()
	if(this.owner&&this.owner.model){var H=this.owner.model,K=H.getZoomFactor&&H.getZoomFactor()||1
	if(K!==1){var J=this.domNode.getElementsByClassName("item_wrapper"),I=[]
	E.forEach(J,function(L){I.push(L.firstChild)
	})
	this.zoomBackground(K,I)
	}}},postBuildRendering:function(){this._super()
	if(this.owner&&this.owner.model){var H=this.owner.model
	zf=H.getZoomFactor&&H.getZoomFactor()||1
	var L=this.domNode.getElementsByClassName("item_title"),I=window.getComputedStyle(L[0],null).getPropertyValue("width")
	if(I){E.forEach(L,function(M){M.style.width=parseFloat(I)*zf+"px"
	})
	}var K=this.domNode.getElementsByClassName("item_wrapper"),J=[]
	E.forEach(K,function(N,M){N.style.textAlign="center"
	J.push(N.firstChild)
	if(L[M]){L[M].controlTo=N
	}})
	this.zoomStyle(zf,J,100,500)
	}if(!mstrmojo.isDescendant(this.owner,this)&&this.showByDefault){this.set("height",(this.openerStyle.ih||0)+"px")
	this.set("width",(this.openerStyle.iw||0)+"px")
	}D.toggleClass(this.domNode,"disabled",!this.enabled)
	},getItemNodeFromTarget:function B(H){if(H.className==="item_title"){H=H.controlTo
	}return this._super(H)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.Button","mstrmojo.Label","mstrmojo.Box","mstrmojo.ui.Checkbox","mstrmojo.ui.CheckList","mstrmojo.ui.editors.controls.TwoColumnContainer","mstrmojo.array")
	mstrmojo.requiresDescs(15677,15678,15679,15681,15682,15683,15684)
	var C=mstrmojo.Button.newWebButton,B={discard:0,open:2,closed:4}
	mstrmojo.vi.ui.editors.PromptOptionEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.vi.ui.editors.PromptOptionEditor",cssClass:"mstrmojo-PromptOptionEditor-Editor",title:mstrmojo.desc(15681,"Change Prompt Option and Save"),help:null,optVal:B.open,children:[{scriptClass:"mstrmojo.Box",cssClass:"icon-box"},{scriptClass:"mstrmojo.Box",alias:"box",children:[{scriptClass:"mstrmojo.Label",cssClass:"prompt-confirm",text:mstrmojo.desc(15682,"We have detected that this dossier contains prompts. Please confirm your prompt option.")},{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",col1Width:"20%",col2Width:"80%",cssClass:"chkBox",alias:"chkBox",children:[{scriptClass:"mstrmojo.ui.Checkbox",cssDisplay:"inline-block",slot:"col1Node",alias:"chk",oncheckedChange:function D(){var G=this.parent.parent,F=G.optPrompt,H=G.defaultLabel
	F.set("visible",this.checked)
	H.set("visible",!this.checked)
	}},{scriptClass:"mstrmojo.Label",slot:"col2Node",text:mstrmojo.desc(15677,"Display prompt when opening this dossier")}]},{scriptClass:"mstrmojo.ui.CheckList",alias:"optPrompt",multiSelect:false,orientation:"v",selectedIndex:0,items:[{n:mstrmojo.desc(15678,"And use current answers as default answers"),v:B.open},{n:mstrmojo.desc(15679,"And discard current answers"),v:B.discard}]},{scriptClass:"mstrmojo.Label",alias:"defaultLabel",cssClass:"indent",text:mstrmojo.desc(15683,"It will use current answer as default answer")}]},{alias:"buttonBar",scriptClass:"mstrmojo.Box",slot:"buttonNode",children:[C(mstrmojo.desc(221,"Cancel"),function(){this.parent.parent.close()
	}),C(mstrmojo.desc(15684,"Confirm and Save"),function(){var G=this.parent.parent,H=G.box,F=H.chkBox.chk
	G.optVal=F.checked?(H.optPrompt.selectedIndex===0?B.open:B.discard):B.closed
	G.onSave()
	G.close()
	},true)]}],onOpen:function A(){var G=this.box,F=G.chkBox.chk,I=G.optPrompt,H=G.defaultLabel
	F.set("checked",this.optVal!==B.closed)
	I.set("visible",F.checked)
	I.set("selectedIndex",this.optVal===B.discard?1:0)
	H.set("visible",!F.checked)
	H.set("enabled",false)
	},onSave:mstrmojo.emptyFn,onClose:function E(){this.destroy()
	}})
	mstrmojo.vi.ui.editors.PromptOptionEditor.OptValue=B
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.Editor","mstrmojo.Box","mstrmojo.CheckBox","mstrmojo.Label","mstrmojo.Button")
	mstrmojo.requiresDescs(4531,8262,12437,12438,12439,15645)
	var D=mstrmojo.hash
	var E={Automatic:0,Manual:3}
	var J={Automatic:-1,False:0,True:1}
	var H={Automatic:-1,False:1,True:2}
	var F={mps:{afb:J.False,sfb:H.False,fbf:E.Automatic}}
	var B=["mps"],L=function(Q,O){var P=this.parent.parent,M=P.cloneModel,N=M.mps||{}
	if(N[Q]!==O){N[Q]=O
	if(Q==="fbf"&&O===E.Manual){N.afb=(N.afb===J.Automatic)?J.False:N.afb
	N.sfb=(N.sfb===H.Automatic)?H.False:N.sfb
	}P.set("dirty",true)
	}}
	var I=function(M){return M&&M.afb===J.False&&M.sfb===H.False&&M.fbf===E.Manual
	}
	mstrmojo.ME.DerivedMetricOptions=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.ME.DerivedMetricOptions",cssClass:"mstrmojo-DerivedMetricOptions",dirty:false,init:function K(M){this._super(M)
	mstrmojo.css.addWidgetCssClass(this,"dme")
	},updateModel:function C(){var N=this.model,M=this.cloneModel,O=M.mps
	if(O.fbf===E.Automatic){O.afb=J.Automatic
	O.sfb=H.Automatic
	}else{if(O.fbf===E.Manual){O.afb=O.afb===J.Automatic?J.False:O.afb
	O.sfb=O.sfb===H.Automatic?H.False:O.sfb
	}}O.dirty=true
	N.mps=M.mps
	},onOpen:function A(){var O=this.cloneModel||{}
	D.make(O,mstrmojo.Obj)
	var N=mstrmojo.hash.copy(this.model,mstrmojo.hash.copy(F)),P,M
	for(P=0,M=B.length
	P<M
	P++){O.set(B[P],D.clone(N[B[P]]))
	}this.cloneModel=null
	this.set("cloneModel",O)
	},onClose:function G(){this.set("dirty",false)
	delete this.cloneModel
	},children:[{scriptClass:"mstrmojo.HBox",alias:"fbFlagBox",cssClass:"mstrmojo-DerivedMetricOptions-aggBox",children:[{scriptClass:"mstrmojo.Label",cssText:"white-space: nowrap
	margin-right: 8px
	vertical-align: top
	",text:mstrmojo.desc(12437,"Aggregation And Subtotal Behavior:")},{scriptClass:"mstrmojo.Pulldown",alias:"fbFlag",cssText:"min-width: 100px
	",cssClass:"mstrmojo-ME-Pulldown",popupCssClass:"mstrmojo-ME-Pulldown-Popup",itemIdField:"v",items:[{n:mstrmojo.desc(4531,"Automatic"),v:E.Automatic},{n:mstrmojo.desc(8262,"Manual"),v:E.Manual}],bindings:{value:function(){return this.parent.parent.cloneModel.mps.fbf||E.Automatic
	}},onvalueChange:function(M){if(M.value!==undefined&&M.valueWas!==undefined){L.call(this,"fbf",M.value)
	}}}]},{scriptClass:"mstrmojo.Box",cssText:"height: 30px",cssClass:"mstrmojo-DerivedMetricOptions-afbBox",children:[{scriptClass:"mstrmojo.CheckBox",alias:"afb",cssDisplay:"inline-block",label:mstrmojo.desc(12438,"Aggregate From Base"),bindings:{visible:function(){return this.parent.parent.fbFlagBox.fbFlag.value===E.Manual
	},checked:function(){return this.parent.parent.cloneModel.mps.afb===J.True
	}},onclick:function(M){var N=this.parent.parent.fbFlagBox.fbFlag.value
	L.call(this,"afb",N===E.Automatic?J.Automatic:(this.checked?J.True:J.False))
	}},{scriptClass:"mstrmojo.CheckBox",alias:"sfb",cssDisplay:"inline-block",label:mstrmojo.desc(12439,"Subtotals From Base"),oncheckedChange:function(M){var N=this.parent.afb
	if(M.value){if(!N.checked){N.checked=J.True
	N.onclick()
	}if(N.inputNode){N.inputNode.checked=true
	N.inputNode.disabled=true
	}}else{if(N.inputNode){N.inputNode.disabled=false
	}}},bindings:{visible:function(){return this.parent.parent.fbFlagBox.fbFlag.value===E.Manual
	},checked:function(){return this.parent.parent.cloneModel.mps.sfb===H.True
	}},onclick:function(){var M=this.parent.parent.fbFlagBox.fbFlag.value
	L.call(this,"sfb",M===E.Automatic?H.Automatic:(this.checked?H.True:H.False))
	}}]},{scriptClass:"mstrmojo.HBox",alias:"buttonBar",slot:"buttonNode",cssClass:"mstrmojo-Editor-buttonBar",cellCssClass:"subBox",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton hot",alias:"saveokButton",text:mstrmojo.desc(2397,"OK"),bindings:{enabled:function(){return this.parent.parent.dirty
	}},onclick:function(){var P=this.parent.parent,R=P&&P.opener
	var Q=function(){P.updateModel()
	if(P.onOK){P.onOK()
	}P.close()
	}
	var M=P.cloneModel,N=M&&M.mps
	if(I(N)&&R&&R.hasConditionFilter&&R.hasConditionFilter()){mstrmojo.warn(mstrmojo.desc(15645,"There is a filter defined for this metric, if you proceed this filter will be removed."),{confirmBtn:{t:mstrmojo.desc(212,"Continue"),fn:function O(){Q()
	R.clearConditionFilter()
	},hot:false},cancelBtn:{t:mstrmojo.desc(221,"Cancel"),fn:mstrmojo.emptyFn,hot:true}})
	}else{Q()
	if(R&&R.onMpsChange){R.onMpsChange()
	}}}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton",text:mstrmojo.desc(2399,"Cancel"),onclick:function(){var M=this.parent.parent
	M.close()
	}}]}]})
	mstrmojo.ME.DerivedMetricOptions.isNonAFB=I
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.css","mstrmojo.string","mstrmojo._HasPopup","mstrmojo.ListBase","mstrmojo.Popup","mstrmojo.Editor","mstrmojo.SuggestionList")
	function D(c,Z){var b=this.list,X=b.selectedIndex,W=b.items.length,Y=c?W-1:0
	if(X===Y){b.clearSelect()
	return 
	}if(X===null||X<0){X=c?0:W-1
	}else{X+=c?1:-1
	}if(Z){var a=b.items[X]
	while(a&&a.type==="dummy"){if(X===Y){b.clearSelect()
	return 
	}X+=c?1:-1
	a=b.items[X]
	}}b.singleSelect(X)
	}mstrmojo._HasSuggestion=mstrmojo.provide("mstrmojo._HasSuggestion",mstrmojo.hash.copy(mstrmojo._HasPopup,{blockBegin:1,blockCount:-1,suggestCount:15,autoSelect:true,itemField:"n",candidates:null,suggestionShown:false,suggestionItems:null,_last_hit:null,_request_pattern:null,browseItemVisible:false,folderLinksContextId:25,browsableTypes:"1,8",REQUEST_THRESHOLD:20,noCache:false,disableClick:false,nameWildcardsHLList:[2,32],getCandidatesThroughTaskCall:mstrmojo.emptyFn,onSuggestionItemSelect:function J(W){this.hideSuggestion()
	},getSearchPattern:function U(){return""
	},getSuggestionPos:function N(){return{left:"100px",top:"100px"}
	},getSuggestionTarget:function G(){return this
	},showSuggestion:function B(X){var W=this.getSuggestion(X)
	if(!this.noCache&&W!==-1){this.updateSuggestion(W)
	}},hideSuggestion:function C(){this.suggestionShown=false
	if(this.suggestionPopup.visible){this.suggestionPopup.close()
	}},getSelected:function M(){return(this.suggestionShown)?this._lastOpened.getSelected():null
	},nextHighlight:function E(W){if(this.suggestionShown){this._lastOpened.nextHighlight(W)
	}},preHighlight:function H(W){if(this.suggestionShown){this._lastOpened.preHighlight(W)
	}},getSuggestion:function S(k){var f=this.candidates,d=f&&f.items,Z=f&&f.isComplete,j=this._last_hit
	if(!this.noCache&&(f||j)){var h=this.filterCandidates(d,k,this.REQUEST_THRESHOLD),e=h.length,g=this.suggestCount,W=false
	if(!Z&&e<g){var X=j&&j.pattern
	if(j&&X&&(k.indexOf(X)>-1)){W=true
	var m=this.filterCandidates(j.items,k,this.REQUEST_THRESHOLD),a=m&&m.length,Y=mstrmojo.array,l=this.itemField,b
	for(b=0
	b<a
	b++){if(Y.find(h,l,m[b][l])===-1){h.push(m[b])
	}}e=h.length
	}}if(!Z&&((k.length>2&&e<this.REQUEST_THRESHOLD)||(e<g))){this.requestCandidates(k)
	return -1
	}return(e<g)?h:h.slice(0,g)
	}this.requestCandidates(k)
	return -1
	},requestCandidates:function A(W){this._request_pattern=W
	var Z=this,X=this.getSuggestionTarget(),Y={success:function(g){if(!g){return 
	}var f=Z.getSuggestionTarget()
	if(!f||(X!==f)){return 
	}var l=f.getSearchPattern(),d=g.items
	Z._last_hit={items:d,pattern:W}
	Z.sz=g.sz
	if(!Z.noCache&&d){var h=(Z.candidates&&Z.candidates.items)||[],j=[].concat(d),e=d.length,b
	for(b=0
	b<e
	b++){var a=j[b]
	if(mstrmojo.array.indexOf(h,a)>-1){mstrmojo.array.removeItem(d,a)
	}}if(Z.candidates){Z.candidates.items=h.concat(d)
	}}if((l||l==="")&&l.indexOf(W)>-1){var k=Z.filterCandidates(d,l)
	Z.updateSuggestion(k)
	}},failure:function(a){if(a.getResponseHeader){mstrmojo.alert(a.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}}}
	this.getCandidatesThroughTaskCall({pattern:W,blockBegin:this.blockBegin,blockCount:this.blockCount,isSuggest:true},Y)
	},filterCandidates:function Q(Z,Y,W){W=W||this.suggestCount
	Y=mstrmojo.string.regEscape(Y)
	var a=this.itemField,X=mstrmojo.array.filter(Z,function(b){return(new RegExp("\\s"+Y+"|^"+Y,"i")).test(b[a])
	},{max:W})
	return X
	},getHighlightedText:function P(Y,b){if(!this.highlightPattern||mstrmojo.string.isEmpty(Y)){return b
	}try{if(!this.nameWildcards||mstr.$A.find(this.nameWildcardsHLList,parseInt(this.nameWildcards,10))>-1){b=b.replace(new RegExp("(^|\\s)("+Y+")","gi"),"$1<b>$2</b>")
	}else{var a=Y.split(" "),X,W
	for(X=0,W=a.length
	X<W
	X++){if(a[X]!==""){b=b.replace(new RegExp("("+a[X]+")","gi"),"<b>$1</b>")
	}}}}catch(Z){}return b
	},updateSuggestion:function O(Z){var X=Z&&Z.length,W=this.browseItemVisible
	if(X||W){if(W){Z=Z||[]
	Z.push({n:"Browse...",t:-99,cssClass:(X?"br":"bro")})
	}this.set("suggestionItems",Z)
	if(this.suggestionShown){var Y=this._lastOpened
	if(Y&&Y.nudge){Y.nudge()
	}if(this.autoSelect&&Y){Y.list.singleSelect(0)
	}}else{this.openPopup("suggestionPopup",this.getSuggestionPos())
	this.suggestionShown=true
	}var Y=this._lastOpened||this.suggestionPopup
	if(mstrApp.isWorkstationPlugin&&Y&&this.updateSuggestionListHeightThenNudge){this.updateSuggestionListHeightThenNudge(Y)
	}}else{this.hideSuggestion()
	}},ob:{scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-Editor-ObjectSelector",title:mstrmojo.desc(5298,"Select an Object"),help:"Select_Objects_dialog_box_.htm",onClose:function(){var W=this.opener
	if(W&&W.onBrowserClose){W.onBrowserClose()
	}},onOpen:function(){var W=this.opener
	if(W&&W.onBrowserOpen){W.onBrowserOpen()
	}},children:[{scriptClass:"mstrmojo.ObjectBrowser",alias:"browser",fishEyeVisible:false,closeable:false,closeOnSelect:false}]},onBrowserClose:function L(){this.browserShown=false
	},handleSuggestionItemSelect:function K(W,X){if(this.browseItemVisible&&W.t===-99){this.hideSuggestion()
	mstrmojo.requiresCls("mstrmojo.ObjectBrowser")
	var Y=this.zIndex
	this.openPopup("ob",{zIndex:(Y&&(Y+10))||110})
	this.ob.browser.browse(mstrmojo.hash.copy(X,{folderLinksContextId:this.folderLinksContextId,onSelectCB:[this,"onSuggestionItemSelect"],browsableTypes:this.browsableTypes}))
	this.browserShown=true
	}else{this.onSuggestionItemSelect(W)
	}},highlightPattern:true,suggestionPopupCssClss:"",suggestionPopup:{scriptClass:"mstrmojo.Popup",cssClass:"mstrmojo-ObjectInputBox-suggest",autoClose:true,locksHover:true,nextHighlight:function(W){D.call(this,true,W)
	},preHighlight:function(W){D.call(this,false,W)
	},getSelected:function M(){var W=this.list
	return W.items[W.selectedIndex]
	},onOpen:function I(){var W=this.opener
	if(W){mstrmojo.css.addClass(this.domNode,W.suggestionPopupCssClss||"")
	if(W.autoSelect){this.list.singleSelect(0)
	}if(W.nudge){W.nudge(this)
	}}},onClose:function F(){this.list.clearSelect()
	var W=this.opener
	if(W){W.suggestionShown=false
	mstrmojo.css.removeClass(this.domNode,W.suggestionPopupCssClss||"")
	}}},suggestionListClass:"mstrmojo.SuggestionList",postApplyProperties:function R(){this.suggestionPopup.children=[{scriptClass:this.suggestionListClass,alias:"list",cssClass:"mstrmojo-suggest-list"}]
	}}))
	}())
	(function(){mstrmojo.requiresClsP("mstrmojo","Editor","HBox","Box","Button","dom","css","desc","hash","array")
	mstrmojo.requiresCls("mstrmojo.vi.controllers.CustomSortModeActionMgr")
	var R=mstrmojo.Button.newWebButton,G=mstrmojo.dom,a=mstrmojo.css,J=mstrmojo.desc,M=mstrmojo.array,P=mstrmojo.hash,L=36,A=600
	mstrmojo.requiresDescs(1442,221,5705,134)
	function I(){var f=this.vizBox=this.model.createVizBoxForCustomSort(this.nodeKey,{width:this.width,height:(parseInt(this.height)-L-this.spacer)+"px",left:"0px",top:this.spacer+"px"})
	this.visContainer.addChildren(f)
	var d=f.boxContent.controller,e=d.model.oid,g=e+"."+(this.oldNodeKey||this.srcViz.k),j=(d.getScrollPosition(g))||{x:0,y:0},h=e+"."+this.nodeKey
	d.addScrollPosition(h,j.x,j.y)
	return f
	}function O(){var e=this.titleContainerNode,d=e.style,f=G.position(e)
	if(f.w<A){d.width=A+"px"
	d.position="relative"
	d.left=(f.w-A)/2+"px"
	d.border="solid 1px rgba(68,70,73,0.2)"
	}}function W(){var f=G.position(mstrApp.rootCtrl.view.domNode),e=G.position(this.titleContainerNode),d=G.position(this.editorNode),g
	if(f.w>=e.w){if(e.x<f.x){g=d.x-e.x
	this.set("left",(f.x+g)+"px")
	}else{if(e.x+e.w>f.x+f.w){g=e.x+e.w-(d.x+d.w)+8
	this.set("left",(f.x+f.w-d.w-g)+"px")
	}}}}function Q(){var d=this.editorNode.style
	d.width=this.width
	d.height=this.height
	}function N(){this.vizBox.toggleBoxSelection(true)
	}function c(j){var f=this.actionMgr.getSlientActionsBefore()
	if(f.length>0){var g=M.map(f,function(k){return k&&k.submitAction
	}),h=this.wrapCustomSortAction(g,false),e=this.srcViz,d={hideCancel:true}
	e.model.customSort(h,e.controller._getXtabCallback(e,P.copy(j)),d)
	}}function b(){var e=this.actionMgr.getContSlientActionsBefore(),d=this,f={success:function(g,j){if(e.length>0){var l=M.map(e,function(o){return o&&o.submitAction
	}),n=d.wrapCustomSortAction(l,true),k=d.vizBox.boxContent,h={hideCancel:true,noUpdate:true,preserveStid:true,noDeltaXML:true},m=k.model.getDataService()
	m.submitUpdates(m.getUpdateTemplateAction(k.k,n),k.controller._getXtabCallback(k),h)
	}}}
	c.call(this,f)
	}mstrmojo.vi.ui.rw.CustomSortDisplayPanel=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.vi.ui.rw.CustomSortDisplayPanel",cssClass:"mstrmojo-CustomSortDisplayPanel",actionMgr:null,init:function S(d){this.actionMgr=new mstrmojo.vi.controllers.CustomSortModeActionMgr({csDisplayPanel:this})
	this._super(d)
	},postBuildRendering:function U(){this.getVizBox()
	var f=this._super()
	if(!this._listenerProc){var e=this,g=null,d=this._listenerProc=function(h){window.clearTimeout(g)
	g=window.setTimeout(function(){W.call(e)
	},150)
	}
	G.attachEvent(window,"resize",d)
	}return f
	},destroy:function Z(d){if(this._listenerProc){G.detachEvent(window,"resize",this._listenerProc)
	}this._super(d)
	},children:[{scriptClass:"mstrmojo.HBox",slot:"titlebarNode",alias:"leftBox",cssClass:"left title",children:[{scriptClass:"mstrmojo.Label",text:J(5705,"Custom Sort")}]},{scriptClass:"mstrmojo.HBox",slot:"titlebarNode",alias:"urBox",cssClass:"left icons",children:[{scriptClass:"mstrmojo.Widget",markupString:'<div id="{@id}" class="icn {@cssClass}" mstrAttach:click></div>',alias:"undo",cssClass:"undo disabled",enabled:false,onclick:function(){if(this.enabled){var d=this.parent.parent
	d.actionMgr.undo()
	}},bindings:{enabled:function(){return !!this.parent.parent.canUndo
	}},onenabledChange:function(){a.toggleClass(this.domNode,"disabled",!this.enabled)
	}},{scriptClass:"mstrmojo.Widget",alias:"redo",cssClass:"redo disabled",enabled:false,markupString:'<div id="{@id}" class="icn {@cssClass}" mstrAttach:click></div>',onclick:function(){if(this.enabled){var d=this.parent.parent
	d.actionMgr.redo()
	}},bindings:{enabled:function(){return !!this.parent.parent.canRedo
	}},onenabledChange:function(){a.toggleClass(this.domNode,"disabled",!this.enabled)
	}}]},{scriptClass:"mstrmojo.HBox",slot:"titlebarNode",alias:"btnBox",cssClass:"btnBox",children:[R(J(1442,"OK"),function(){if(this.enabled){var d=this.parent.parent
	d.removeCSViz(function(){c.call(d)
	d.close()
	},false)
	}},true,{alias:"savebtn",enabled:false,bindings:{enabled:function(){return this.parent.parent.canApply
	}}}),R(J(134,"Apply"),function(){if(this.enabled){var d=this.parent.parent,e=d.actionMgr
	b.call(d)
	e.appendHistUnsilentActions(e.getUnslientActionsBefore())
	e.reset()
	}},true,{enabled:false,bindings:{enabled:function(){return this.parent.parent.canApply
	}}}),R(J(221,"Cancel"),function(){var d=this.parent.parent
	d.removeCSViz(null,true)
	d.close()
	})]},{scriptClass:"mstrmojo.Box",alias:"visContainer",slot:"containerNode"}],oldNodeKey:null,nodeKey:null,vizBox:null,model:null,srcPanelKey:null,srcLayoutKey:null,srcViz:null,srcUnit:null,srcAxis:-1,getVizBox:function D(){return this.vizBox=this.vizBox||I.call(this)
	},setVizBoxPortalStateRestore:function K(){this.getVizBox().defn.ds=0
	},onOpen:function H(){Q.call(this)
	O.call(this)
	N.call(this)
	W.call(this)
	var e=this.vizBox.boxContent,d=e.selCells||[]
	M.forEach(d,function(f){e.handleSelection({},null,f)
	e.clearHighlights()
	})
	},onClose:function E(){var e=this.vizBox,d=this.model
	if(e.boxContent.cellHoverMgr.removeCue){e.boxContent.cellHoverMgr.removeCue()
	}mstrmojo.dnd.enable()
	delete this.actionMgr
	delete this.silentMask
	this.destroy()
	},removeCSViz:function F(j,h){var e=this.model,f,d
	if(h){f={config:{silent:true}}
	}else{f={hideCancel:true}
	}f.style={params:{treesToRender:0}}
	f=P.copy({noUpdate:true,preserveStid:true,noDeltaXML:true},f)
	if(j){d={success:function(){j()
	}}
	}var g=e.getRemoveUnitAction(this.vizBox)
	g.clearTargets=true
	e.getDataService().submitUpdates(g,d,f)
	},recreateCSVizForUndo:function Y(o,n,q){var r=this.model,t=this.srcViz.model,p=t.getDataService(),e=r.getNextKey(),f,m=this
	var d=r.getRemoveUnitAction(this.vizBox)
	d.clearTargets=true
	f=[d]
	var g=0,h=o.length,l
	if(g<h){l=o[g]
	g++
	}f=f.concat(t.getCreateCSVizActions(this.srcUnit,this.srcAxis,e,l))
	var k=function(AB){var x=m.srcLayoutKey,v=m.srcPanelKey,z=AB.data,w=M.filterOne(z.layouts,function(AE){return AE.k===x
	})
	r.controller.view.updateXtabStyles(x,w.xtabStyles)
	r.updateDefnCache(AB.defn,[e,v])
	r.updateDataCache(z,r.getTargetDefn(e))
	m.oldNodeKey=m.nodeKey
	m.nodeKey=e
	m.vizBox.destroy()
	delete m.vizBox
	m.setVizBoxPortalStateRestore()
	var AC=m.getVizBox()
	AC.render()
	var AA=0,AD=(n||[]).length,u=function(){if(AA<AD){n[AA++].perform(false,u,true)
	}else{mstrApp.hideWait(true)
	var AF=m.actionMgr
	if(AF.hasFailedSorts()){var AE=AF.getActionsCount()-AF.getFailedSortsCount()
	AF.actions.splice(AE)
	AF.pos=AE-1
	m.updateStatus()
	AF.showFailedSortsAndReset()
	if(q&&q.fail){q.fail()
	}}else{if(q&&q.success){q.success()
	}}}}
	u()
	},j=function(){p.submitUpdates(f,{success:function(u,v){if(g<h){f=p.getUpdateTemplateAction(e,o[g])
	g++
	j()
	}else{k(u)
	}}},{style:{params:{treesToRender:3}},noUpdate:true,preserveStid:true,noDeltaXML:true,hideCancel:true})
	}
	j()
	},wrapCustomSortAction:function B(h,f){var g=this.srcUnit,e=f?1:this.srcAxis,d=1,j=this.srcViz.model.data.gts[((this.srcAxis===d)?"row":"col")+"SubPos"]
	return{act:"customSortAddActions",unitType:g.otp,unitId:g.id,axis:e,subTotalsPos:[j],actions:h}
	},maskSilently:function X(d){var g=this.silentMask
	if(!g){var f=this.curtainNode,e=document.createElement("div")
	e.innerHTML=f.outerHTML
	e.firstChild.style.zIndex=this.zIndex+1
	e.firstChild.style.opacity="0"
	e.firstChild.style.display="none"
	g=this.silentMask=this.domNode.appendChild(e.firstChild)
	}g.style.display=d?"block":"none"
	},updateStatus:function C(){var d=this.actionMgr
	this.set("canUndo",d.pos>=0)
	this.set("canRedo",(d.actions.length-1)>d.pos)
	this.set("canApply",d.getSlientActionsBefore().length>0)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.Editor","mstrmojo.TabListContainer","mstrmojo.TabNameList","mstrmojo.StackContainer","mstrmojo.DataGrid","mstrmojo.string")
	mstrmojo.requiresDescs(295,1395,1912,2052,2057,2170,2171,2265,2397,2399,4114,4115,5471,6013,8002,9611,9612,9613,9614,9615,9616,9617,9618,9619,9620,9621,9622,9623,9624,9625,9626,9627,9628,9629,9670,9712,9713,9630,9631,9632,9633,9634,9635,9636,9637,9638,9639,9640,9641,9642,9643,9644,9645,9646,9647,9648,9649,9650,9651,9652,9653,9654,9655,9656,9657,9658,9659,9660,9661,9662,9663,9664,9665,9666,9667,9668,9669,9712,15073,15074,15075)
	var b=mstrmojo.hash,d=mstrmojo.array,c=mstrmojo.Button,B=mstrmojo.desc,Z=mstrmojo.string
	var J="#999",I="mstrmojo-Editor-button",X=[{n:B(4114),v:"-1"},{n:B(4115),v:"0"}],N={Unknown:-1,Reserved:0,Integer:1,Unsigned:2,Numeric:3,Decimal:4,Real:5,Double:6,Float:7,Char:8,VarChar:9,LongVarChar:10,Binary:11,VarBin:12,LongVarBin:13,Date:14,Time:15,TimeStamp:16,NChar:17,NVarChar:18,Short:21,Long:22,MBChar:23,Bool:24,Pattern:25,BigDecimal:30},F=[{n:B(2171),v:N.Reserved},{n:B(5471),v:N.BigDecimal},{n:B(9611,"Binary"),v:N.Binary},{n:B(9612,"Char"),v:N.Char},{n:B(2052),v:N.Date},{n:B(9613,"Decimal"),v:N.Decimal},{n:B(2265),v:N.Double},{n:B(8002),v:N.Float},{n:B(9614,"Integer"),v:N.Integer},{n:B(9615,"Long VarBin"),v:N.LongVarBin},{n:B(9616,"Long VarChar"),v:N.LongVarChar},{n:B(9617,"NChar"),v:N.NChar},{n:B(9618,"NVarChar"),v:N.NVarChar},{n:B(1395),v:N.Numeric},{n:B(9619,"Real"),v:N.Real},{n:B(2170),v:N.Time},{n:B(9620,"TimeStamp"),v:N.TimeStamp},{n:B(9621,"Unsigned"),v:N.Unsigned},{n:B(9622,"VarBin"),v:N.VarBin},{n:B(9623,"VarChar"),v:N.VarChar}],C={AnalyticalEngineProperties:"E3796B516F8611D3858D00C04F685B39",DatamartProperties:"1DB1A6268E9B11D485E900C04F685B52",VLDBSelect:"A2185AB0DD7C11D29FE500C04F8E7129",VLDBFunction:"A2185AB6DD7C11D29FE500C04F8E7129",VLDBReport:"A2185AB1DD7C11D29FE500C04F8E7129"},Q={NullCheckingForAnalyticalEngine:3,SubtotalDimensionalityAware:7,DatamartTableColumnAlias:9,IntegerConstantInMetric:38,TransformableAggMetric:84,NoNullsInMetricForCubeReuse:72,MetricJoinType:9,NullCheck:2,ZeroCheck:4,CountDistinctwithPartitions:24},H={agg:"F225147A4CA0BB97368A5689D9675E73",total:"96C487AF4D12472A910C1ACACFB56EFB",reserved:"F341109B11D5D528C00084916B98494F"},Y=["sbs","prss","mps","datp"]
	var O=function(f){return b.copy(f,{scriptClass:"mstrmojo.Container",markupString:'<div id={@id} class="{@cssClass}" style="{@cssText}"></div>',cssClass:"mstrmojo-FormatEditor-rightPanel",markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},visible:false,useAnimate:true,width:"420px",ease:"mstrmojo.ease.sin"})
	},E=function(g,f){return b.copy(f,U(g,{cssClass:"mstrmojo-OptionEditor-Title"}))
	},U=function(g,f){return b.copy(f,{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-OptionEditor-Label",text:g})
	},M=function(f,g){return b.copy(g,{scriptClass:"mstrmojo.Pulldown",cssClass:"mstrmojo-FormatEditor-DropDownButton",items:f})
	},W=function(g,f){return b.copy(f,{scriptClass:"mstrmojo.ImageCheckBox",cssClass:"mstrmojo-OptionEditor-Checkbox mstrmojo-ImageCheckBox",label:g})
	},D=function(g,f){return b.copy(f,{scriptClass:"mstrmojo.RadioButton",cssClass:"mstrmojo-OptionEditor-RadioButton",label:g})
	},P=function(j,f,h,g){return b.copy(f,{scriptClass:"mstrmojo.HBox",cssText:"width: 100%",children:[D(j,h),b.copy(g,{scriptClass:"mstrmojo.Label"})]})
	},A=function(f){return b.copy(f,{scriptClass:"mstrmojo.TextBox",cssClass:"mstrmojo-OptionEditor-shortTextBox"})
	},e=function(g,h,j,l,k,f){g=g||{}
	g[h]=g[h]||{}
	g[h][j]=g[h][j]||{did:C[j]||""}
	g[h][j][l]=g[h][j][l]||{}
	g[h][j][l][k]=f
	g[h][j][l].pri=g[h][j][l].pri||Q[l]||0
	},G=function(h,k,l,n,g){if(h){var m=g=="-2",f=[{n:"pru",v:m?"1":"0"}]
	if(!m){f.push({n:"v",v:g})
	}for(var j=0
	j<f.length
	j++){e(h,k,l,n,f[j].n,f[j].v)
	}}}
	var R=(O({n:B(295),children:[E(B(295)),{scriptClass:"mstrmojo.HBox",children:[U(B(9625,"Dynamic aggregation function:")),M(null,{cssText:"width:180px",itemIdField:"did",bindings:{items:"this.parent.parent.model.funcPd",value:function(){var f=this.parent.parent.model
	if(!f||!f.sbs){return H.agg
	}if(!f.sbs.agg||!f.sbs.agg.did){return -1
	}var g=this.parent.parent.model.sbs.agg.did
	return g||H.agg
	}},onvalueChange:function(){var g=this.parent.parent.model,h=this.selectedItem
	if(g&&h){g.sbs=g.sbs||{}
	g.sbs.agg=g.sbs.agg||{}
	var f=g.sbs.agg
	if(this.value==-1){delete g.sbs.agg
	}else{f.did=h.did
	f.t=h.t
	f.st=h.st
	}}},onitemsChange:function(){if(this.items&&this.items.length>0){this.refresh()
	}}})]},W(B(9624,"Allow smart metric"),{bindings:{checked:function(){var f=this.parent.model,g=f&&this.parent.model.mps,h=g&&this.parent.model.mps.stl
	return h==3
	},enabled:"!this.parent.model.mps||this.parent.model.mps.cbs==true||this.parent.model.isValidExpr==1"},onclick:function(){if(this.parent.model){var f=this.parent.model
	f.mps=f.mps||{}
	f.mps.stl=this.checked?3:2
	}}})]})),L=(O({n:B(1912),children:[E(B(1912)),{scriptClass:"mstrmojo.HBox",children:[U(B(9626,"Function for default subtotal (Total):")),M(null,{cssText:"width:180px",itemIdField:"did",bindings:{items:"this.parent.parent.model.funcPd",value:function(){var f=this.parent.parent.model
	if(!f||!f.sbs){return H.total
	}if(!f.sbs.tot||!f.sbs.tot.did){return -1
	}var g=this.parent.parent.model.sbs.tot.did
	return g||H.total
	}},onvalueChange:function(){var f=this.parent.parent.model,g=this.selectedItem
	if(f&&g){f.sbs=f.sbs||{}
	f.sbs.tot=f.sbs.tot||{}
	var h=f.sbs.tot
	if(this.value==-1){delete f.sbs.tot
	}else{h.did=g.did
	h.t=g.t
	h.st=g.st
	}}},onitemsChange:function(){if(this.items&&this.items.length>0){this.refresh()
	}}})]},{scriptClass:"mstrmojo.HBox",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-SME-toggleAdvance",text:B(9627,"Select the subtotals you want available for this metric:"),onclick:function(f){var h=this.parent.parent,g=!!!h.expanded
	h.set("expanded",g)
	this.set("selected",g)
	if(g){h.subtotalGrid.updateScrollbars()
	}}}]},{scriptClass:"mstrmojo.DataGrid",cssClass:"mstrmojo-OptionEditor-subtotal-func-grid",alias:"subtotalGrid",resizableColumns:false,columns:[{dataWidget:{scriptClass:"mstrmojo.ImageCheckBox",cssClass:"cb-grid",bindings:{checked:function(){var g=this.dataGrid.parent.model.sbs.avs,f=this.data.did
	return d.find(g,"did",f)!=-1
	}},onclick:function(){var g=this.dataGrid.parent.model,k=g.sbs=g.sbs||[],o=g.sbs.avs=g.sbs.avs||[],n=this.data,l=n.did,j=n.t,h=n.st
	if(this.checked){d.insert(o,null,[{did:l,t:j,st:h}])
	}else{var f=d.find(o,"did",l)
	if(f!=-1){d.removeIndices(o,f,1)
	}}g.sbs.avs=o
	}},colCss:"cb"},{headerText:B(9713,"Subtotal"),dataField:"n",colCss:"funcName"},{headerText:B(6013,"Description"),dataField:"desc",colCss:"expr"}],bindings:{items:"this.parent.model.funcsDg",visible:"this.parent.expanded"}}]})),a=(O({n:B(9670,"VLDB Properties"),id:"VLDBProps",children:[{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-OptionEditor-VLDBFormatter",alias:"content",rows:9,cols:2,children:[U(B(9628,"Null checking for Analytical Engine:"),{slot:"0,0"}),M([{n:B(15073,"Scalar calculations return null if any operand is null
	aggregation calculations ignore nulls"),v:"0"},{n:B(15074,"Scalar and aggregation calculations treat nulls as zero (Deprecated)"),v:"1"},{n:B(15075,"Scalar calculations treat nulls as zero
	aggregation calculations ignore nulls (metadata upgrade necessary to take effect for versions 10.7 or later)"),v:2}],{slot:"0,1",itemIdField:"v",bindings:{value:function(){var f=this.parent.parent.model.prss
	var g=f&&f.AnalyticalEngineProperties.NullCheckingForAnalyticalEngine.v
	return g||"2"
	}},onvalueChange:function(){G(this.parent.parent.model,"prss","AnalyticalEngineProperties","NullCheckingForAnalyticalEngine",this.value||"2")
	}}),U(B(9629,"Subtotal Dimensionality Aware:"),{slot:"1,0"}),M([{n:B(9712,"Inherit - true"),v:"-2"}].concat(X),{slot:"1,1",itemIdField:"v",bindings:{value:function(){var f=this.parent.parent.model.prss.AnalyticalEngineProperties.SubtotalDimensionalityAware,g=f.v,h=f.pru
	return h=="1"?"-2":g
	}},onvalueChange:function(){G(this.parent.parent.model,"prss","AnalyticalEngineProperties","SubtotalDimensionalityAware",this.value)
	}}),U(B(9630,"Metric Validation:"),{slot:"2,0"}),M([{n:B(9631,"Inherit - Enable dynamic sourcing for metric"),v:"-2"},{n:B(9632,"Enable dynamic sourcing for metric"),v:"0"},{n:B(9633,"Disable dynamic sourcing for metric"),v:"1"}],{slot:"2,1",itemIdField:"v",bindings:{value:function(){var f=this.parent.parent.model.prss.VLDBSelect.NoNullsInMetricForCubeReuse,g=f.v,h=f.pru
	return h=="1"?"-2":g
	}},onvalueChange:function(){G(this.parent.parent.model,"prss","VLDBSelect","NoNullsInMetricForCubeReuse",this.value)
	}}),U(B(9634,"Integer Constants in Metric:"),{slot:"3,0"}),M([{n:B(9635,"Inherit - Add '.0' to integer constants in metric expressions"),v:"-2"},{n:B(9636,"Add '.0' to integer constants in metric expressions"),v:"0"},{n:B(9637,"Do not add '.0' to integer constants in metric expressions"),v:"1"}],{slot:"3,1",itemIdField:"v",bindings:{value:function(){var f=this.parent.parent.model.prss.VLDBSelect.IntegerConstantInMetric,g=f.v,h=f.pru
	return h=="1"?"-2":g
	}},onvalueChange:function(){G(this.parent.parent.model,"prss","VLDBSelect","IntegerConstantInMetric",this.value)
	}}),U(B(9638,"Metric Join type:"),{slot:"4,0"}),M([{n:B(9639,"Inherit - Inner Join"),v:"-2"},{n:B(9640,"Inner Join"),v:"0"},{n:B(9641,"Outer Join"),v:"1"}],{slot:"4,1",alias:"MetricJoinType",itemIdField:"v",bindings:{value:function(){var f=this.parent.parent.model.prss.VLDBSelect.MetricJoinType,g=f.v,h=f.pru
	return h=="1"?"-2":g
	}},onvalueChange:function(){G(this.parent.parent.model,"prss","VLDBSelect","MetricJoinType",this.value)
	}}),U(B(9642,"Null check:"),{slot:"5,0"}),M([{n:B(9643,"Inherit - Check for NULL in all queries"),v:"-2"},{n:B(9644,"Check for NULL in all queries"),v:"0"},{n:B(9645,"Check for NULL in temp table join only"),v:"1"}],{slot:"5,1",itemIdField:"v",bindings:{value:function(){var f=this.parent.parent.model.prss.VLDBFunction.NullCheck,g=f.v,h=f.pru
	return h=="1"?"-2":g
	}},onvalueChange:function(){G(this.parent.parent.model,"prss","VLDBFunction","NullCheck",this.value)
	}}),U(B(9646,"Transformable Agg Metric:"),{slot:"6,0"}),M([{n:B(9712,"Inherit - true"),v:"-2"}].concat(X),{slot:"6,1",itemIdField:"v",bindings:{value:function(){var f=this.parent.parent.model.prss.VLDBSelect.TransformableAggMetric,g=f.v,h=f.pru
	return h=="1"?"-2":g
	}},onvalueChange:function(){G(this.parent.parent.model,"prss","VLDBSelect","TransformableAggMetric",this.value)
	}}),U(B(9647,"Zero Check:"),{slot:"7,0"}),M([{n:B(9648,"Inherit - Check for zero"),v:"-2"},{n:B(9649,"Do nothing"),v:"0"},{n:B(9650,"Check for zero in all queries"),v:"1"},{n:B(9651,"Check for zero in temp table join only"),v:"2"}],{slot:"7,1",itemIdField:"v",bindings:{value:function(){var f=this.parent.parent.model.prss.VLDBFunction.ZeroCheck,g=f.v,h=f.pru
	return h=="1"?"-2":g
	}},onvalueChange:function(){G(this.parent.parent.model,"prss","VLDBFunction","ZeroCheck",this.value)
	}}),U(B(9652,"Count Distinct:"),{slot:"8,0"}),M([{n:B(9653,"Inherit - Do not select distinct elements from each partition"),v:"-2"},{n:B(9654,"Do not select distinct elements from each partition"),v:"0"},{n:B(9655,"Select distinct elements from each partition"),v:"1"}],{slot:"8,1",itemIdField:"v",bindings:{value:function(){var f=this.parent.parent.model.prss.VLDBReport.CountDistinctwithPartitions,g=f.v,h=f.pru
	return h=="1"?"-2":g
	}},onvalueChange:function(){G(this.parent.parent.model,"prss","VLDBReport","CountDistinctwithPartitions",this.value)
	}})]}]})),S=(O({n:B(9656,"Column Options"),children:[{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-OptionEditor-ColumnFormatter",rows:5,cols:1,children:[U(B(9657,"Column name used in SQL table creation:"),{slot:"0,0"}),{slot:"1,0",scriptClass:"mstrmojo.TextBox",bindings:{value:"this.parent.parent.model.prss.DatamartProperties.DatamartTableColumnAlias.v"},onvalueChange:function(){if(this.parent.parent.model){e(this.parent.parent.model,"prss","DatamartProperties","DatamartTableColumnAlias","v",this.value||"")
	}}},U(B(9658,"Data Type:"),{slot:"2,0"}),M(F,{slot:"3,0",alias:"dt",itemIdField:"v",bindings:{value:"this.parent.parent.model.datp.ddt"},onvalueChange:function(){var f=this.parent.parent.model
	if(f){f.datp=f.datp||{}
	f.datp.ddt=this.value
	}}}),{scriptClass:"mstrmojo.Table",slot:"4,0",rows:2,cols:2,children:[{scriptClass:"mstrmojo.Label",slot:"0,0",alias:"prec",cssClass:"mstrmojo-OptionEditor-shortLabel",bindings:{text:function(){var f=this.parent.parent.dt.value
	switch(f){case N.BigDecimal:case N.Decimal:case N.Numeric:return B(9659,"Precision:")
	case N.Binary:case N.Integer:case N.LongVarBin:case N.LongVarChar:case N.NChar:case N.NVarChar:case N.Unsigned:case N.VarBin:case N.VarChar:return B(9660,"Byte length:")
	case N.Time:case N.TimeStamp:return B(9661,"Time Scale:")
	default:return""
	}},visible:"!!this.text"}},A({slot:"0,1",bindings:{visible:"this.parent.prec.visible",value:"this.parent.parent.parent.model.datp.prec"},onvalueChange:function(){var f=this.parent.parent.parent.model
	if(f){f.datp=f.datp||{}
	f.datp.prec=this.value
	}}}),{scriptClass:"mstrmojo.Label",slot:"1,0",alias:"scl",cssClass:"mstrmojo-OptionEditor-shortLabel",bindings:{text:function(){var f=this.parent.parent.dt.value
	switch(f){case N.BigDecimal:case N.Decimal:case N.Numeric:return B(9662,"Scale:")
	default:return""
	}},visible:"!!this.text"}},A({slot:"1,1",bindings:{visible:"this.parent.scl.visible",value:"this.parent.parent.parent.model.datp.scl"},onvalueChange:function(){var f=this.parent.parent.parent.model
	if(f){f.datp=f.datp||{}
	f.datp.scl=this.value
	}}})]}]}]})),K=(O({n:B(9663,"Joins"),children:[{scriptClass:"mstrmojo.Table",rows:8,cols:1,bindings:{mjt:"mstrmojo.all.VLDBProps.content.MetricJoinType.value",acj:"this.parent.model.mps.acj"},setMjt:function(f){mstrmojo.all.VLDBProps&&mstrmojo.all.VLDBProps.content.MetricJoinType.set("value",f)
	},setAcj:function(g){if(this.parent.model){var f=this.parent.model
	f=f||{}
	f.mps=f.mps||{}
	f.mps.acj=g
	}},children:[U(B(9664,"Metric Join"),{slot:"0,0",cssClass:"boldLabel"}),D(B(9665,"Default inherit value"),{slot:"1,0",name:"metricJoin",alias:"mjDefault",bindings:{checked:'!this.parent.mjt||this.parent.mjt=="-2"'},onclick:function(){this.parent.setMjt("-2")
	}}),P(B(9666,"Inner Join - use information common to all elements"),{slot:"2,0",alias:"mjInner"},{name:"metricJoin",alias:"rb",bindings:{checked:'this.parent.parent.mjt=="0"'},onclick:function(){this.parent.parent.setMjt("0")
	}},{cssClass:"innerJoin"}),P(B(9667,"Outer Join - use all information to all elements"),{slot:"3,0",alias:"mjOuter"},{name:"metricJoin",alias:"rb",bindings:{checked:'this.parent.parent.mjt=="1"'},onclick:function(){this.parent.parent.setMjt("1")
	}},{cssClass:"outerJoin"}),U(B(9668,"Metric Formula Join"),{slot:"4,0",cssClass:"boldLabel"}),D(B(9669,"Default inherit value"),{slot:"5,0",name:"metricFormalaJoin",bindings:{checked:"!this.parent.acj||this.parent.acj==1"},onclick:function(){this.parent.setAcj(1)
	}}),P(B(9666,"Inner Join - use information common to all elements"),{slot:"6,0"},{name:"metricFormalaJoin",bindings:{checked:"this.parent.parent.acj==2"},onclick:function(){this.parent.parent.setAcj(2)
	}},{cssClass:"innerJoin"}),P(B(9667,"Outer Join - use all information to all elements"),{slot:"7,0"},{name:"metricFormalaJoin",bindings:{checked:"this.parent.parent.acj==3"},onclick:function(){this.parent.parent.setAcj(3)
	}},{cssClass:"outerJoin"})]}]}))
	mstrmojo.ME.OptionDialog=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.ME.OptionDialog",cssClass:"mstrmojo-OptionEditor mstrmojo-FormatEditor",onOpen:function(){if(!this.model){this.model={}
	}this.cloneModel=this.cloneModel||{}
	b.make(this.cloneModel,mstrmojo.Obj)
	var q=this.cloneModel,h=this.model
	for(var k=0
	k<Y.length
	k++){q.set(Y[k],b.clone(h[Y[k]]))
	}var g=this.tabCtr.ctr.children
	for(var k=0
	k<g.length
	k++){g[k].set("model",this.cloneModel)
	}this.cloneModel.set("isValidExpr",this.opener.vStatus)
	var l=this.funcs,n=this.funcsDg||d.filter(l,function(m){return m.dssid!=H.agg&&m.dssid!=H.total&&m.dssid!==H.reserved
	}),p=this.funcPd||d.insert(b.clone(d.filter(l,function(r){var m=parseInt(r.st)
	return(m==1025||m==1026)&&r.did!==H.reserved
	})),0,[{n:B(2057),did:-1}])
	q.set("funcsDg",n)
	var j=function(m){if(m.n==="Aggregation"){m.n="Automatic"
	}else{if(m.n==="Total"){m.n="Sum"
	}}}
	d.forEach(p,j)
	q.set("funcPd",p)
	if(!this.model.did&&!this.model.sbs){for(var k=0
	k<Y.length
	k++){delete q[Y[k]]
	}if(l&&l.length>0){var f=[]
	for(var k=0
	k<l.length
	k++){var o=l[k]
	if(o.dssid!=H.agg&&o.dssid!=H.total&&parseInt(o.stp)==1026){f.push({did:o.dssid,t:o.tp,st:o.stp})
	}}this.cloneModel.set("sbs",{tot:{did:H.total,t:4,st:1026,dm:{did:H.total,t:4,st:1026}},agg:{did:H.agg,t:4,st:1026,dm:{did:H.agg,t:4,st:1026}},avs:f})
	}}},handleModelUpdate:function(){var g=this.model,f=this.cloneModel
	var h=/^[A-Za-z0-9_]+$/
	isValidAlias=true
	mstrmojo.array.forEach(["prss","mps","sbs","datp"],function(k){if((g[k]||f[k])&&!mstrmojo.hash.equals(g[k],f[k])){g.dirty=true
	}})
	if(g.dirty){var j=f.prss&&f.prss.DatamartProperties&&f.prss.DatamartProperties.DatamartTableColumnAlias.v
	if(Z.isEmpty(j)||h.test(j)){g.prss=f.prss
	g.mps=f.mps
	g.sbs=f.sbs
	g.datp=f.datp
	isValidAlias=true
	}else{isValidAlias=false
	mstrmojo.alert(mstrmojo.desc(18776,"The specified column name is invalid because one or more invalid characters were found. Only alphanumeric characters and underscores are allowed in column names."))
	}}if(isValidAlias&&this.close){this.close()
	}if(this.onOK){this.onOK()
	}},children:[{scriptClass:"mstrmojo.TabListContainer",alias:"tabCtr",listCssClass:"mstrmojo-FormatEditor-leftPanel",children:[{scriptClass:"mstrmojo.TabNameList",cssClass:"mstrmojo-FormatEditor-formatList",itemMarkup:'<div class="mstrmojo-FormatEditor-bullet"><div class="mstrmojo-text">{@n}</div></div>',slot:"top",_ontargetChange:function(){this.set("selectedIndex",0)
	}},{scriptClass:"mstrmojo.StackContainer",alias:"ctr",cssClass:"mstrmojo-FormatEditor-rightPanel-container",children:[R,L,a,S,K],slot:"stack"}]},{scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBar",slot:"buttonNode",children:[new c.newInteractiveButton(B(2397),function(){var f=this.parent.parent
	f.handleModelUpdate&&f.handleModelUpdate()
	},J,{alias:"btnOk",cssClass:I,postCreate:function(){if(mstrApp.isWorkstationPlugin){this.cssClass=I+" hot"
	}}}),new c.newInteractiveButton(B(2399),function(){var f=this.parent.parent
	f.close()
	},J,{alias:"btnCancel",cssClass:I})]}],postCreate:function(){if(mstrApp.isWorkstationPlugin){I+=" mstrmojo-WebButton"
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Button","mstrmojo.HTMLButton","mstrmojo.Label","mstrmojo.TextBox","mstrmojo.TextArea","mstrmojo.Table","mstrmojo.HBox","mstrmojo.Editor")
	function C(E,F){var D=this
	if(mstrApp&&mstrApp.serverRequest){mstrApp.serverRequest(E,F,{silent:true})
	}else{mstrmojo.xhr.request("POST",D.path,F,E,undefined,D.XServer,D.baseParams)
	}}function A(H,I,G,D){var E=this,F={taskId:"createFolder",taskContentType:"json",folderID:H,name:I,description:G}
	C.call(E,F,D)
	}function B(E,I,F){if(!E){mstrmojo.alert(mstrmojo.desc(3380))
	return false
	}var G=this,H=G.fId,D={success:function(J){G.contPanel.name.set("value","")
	G.contPanel.desc.set("value","")
	if(G.okFn){G.okFn(J,F)
	}},failure:function(J){var K=""
	if(J.getResponseHeader){K=J.getResponseHeader("X-MSTR-TaskFailureMsg")
	}else{if(J.message){K=J.message
	}}K&&mstrmojo.alert(K)
	}}
	if(mstrApp.isSingleTier&&this.dp){this.dp.newFolder(H,E,I,D)
	}else{A.call(G,H,E,I,D)
	}}mstrmojo.NewFolderEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.NewFolderEditor",cssClass:"mstrmojo-NewFolderEditor",title:mstrmojo.desc(663,"Create Folder"),help:"Create_a_new_folder.htm",navigateAfter:false,okFn:mstrmojo.emptyFn,path:mstrConfig.taskURL,fId:null,focusOnOpen:true,useBrowserTab:true,children:[{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-Input-Panel",rows:2,cols:2,alias:"contPanel",children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-Name-Label",slot:"0,0",text:mstrmojo.desc(2211,"Name:")},{scriptClass:"mstrmojo.TextBox",slot:"0,1",value:mstrmojo.desc(8116,"New Folder"),alias:"name",cssClass:"mstrmojo-SaveAsEditor-nameInput"},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-Desc-Label",slot:"1,0",text:mstrmojo.desc(1154,"Description:")},{scriptClass:"mstrmojo.TextArea",cssClass:"mstrmojo-SaveAsEditor-descInput",slot:"1,1",alias:"desc",rows:5}]},{scriptClass:"mstrmojo.HBox",alias:"btns",slot:"buttonNode",cssClass:"mstrmojo-Editor-buttonBar",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton hot",alias:"ok",text:mstrmojo.desc(1442,"OK"),tabIndex:0,onclick:function(){var E=this.parent.parent,G=E&&E.opener,D=E.contPanel.name.value,F=E.contPanel.desc.value
	if(!B.call(E,D,F,E.navigateAfter)){E.close()
	}}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton",alias:"cancel",text:mstrmojo.desc(221,"Cancel"),tabIndex:0,onclick:function(){this.parent.parent.close()
	}}]}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo.expr","mstrmojo.func","mstrmojo.string","mstrmojo.Box","mstrmojo.HBox","mstrmojo.TextBox","mstrmojo.Button","mstrmojo.Label","mstrmojo._HasLayout","mstrmojo.Editor","mstrmojo.ui.CheckList","mstrmojo.ui.ToggleButton","mstrmojo.mstr.EnumDSSXMLObjectTypes")
	mstrmojo.requiresDescs(10,1763,15120,15801)
	var L=mstrmojo.array,b=mstrmojo.css,D=mstrmojo.dom,Q=mstrmojo.expr,W=mstrmojo.func,B=mstrmojo.string,R=mstrmojo.Button.newWebButton,d=mstrmojo.mstr.EnumDSSXMLObjectTypes,S=mstrmojo.hash
	var Y=mstrmojo.desc(1763,"Clear All")
	mstrmojo.vi.ui.IncCheckList=mstrmojo.declare(mstrmojo.ui.CheckList,[mstrmojo.ui._IsIncFetchList],{scriptClass:"mstrmojo.vi.ui.IncCheckList",allowUnlistedValues:false,cssClass:"elementsList",initElements:function a(g){var f=this.ifDataHelper,e=this
	if(!f){return 
	}g=W.wrapMethods({success:function(h){e.clearSelect(true)
	e.set("items",[])
	e.initScroll()
	e.addItems(h&&h.es)
	}},g)
	f.getItems(1,g,{hideFailureErr:true})
	},addItems:function N(e){this._super(e||[])
	this.postAddItems()
	this.updateScrollbars()
	},postAddItems:mstrmojo.emptyFn})
	function F(e){return !L.filterOne(e.fs,function(f){return f.isbf&&(!!f.dtp?f.dtp:Q.mapBaseFormTypeToDataType(f.bftp))!==Q.DTP.CHAR
	})
	}mstrmojo.vi.ui.ElementsBrowser=mstrmojo.declare(mstrmojo.Box,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.vi.ui.ElementsBrowser",markupString:'<div id="{@id}" class="mstrmojo-Box mstrmojo-ui-vi-ElementsBrowser {@cssClass}" style="{@cssText}"><div></div><div></div><div></div></div>',markupSlots:{containerNode:function(){return this.domNode
	},searchBoxNode:function(){return this.domNode.firstChild
	},buttonPanelNode:function(){return this.domNode.childNodes[1]
	},elementListNode:function(){return this.domNode.childNodes[2]
	}},layoutConfig:{h:{searchBoxNode:"26px",buttonPanelNode:"36px",elementListNode:"100%"},w:{searchBoxNode:"100%",buttonPanelNode:"100%",elementListNode:"100%"},xt:true},onBrowseElementsFailure:mstrmojo.emptyFn,onUpdateBrowseElementsParams:mstrmojo.emptyFn,children:[{scriptClass:"mstrmojo.HBox",slot:"searchBoxNode",alias:"util",cssClass:"elemsBrowser-utils-bar",children:[{scriptClass:"mstrmojo.Box",cssClass:"eb-box-search",alias:"box",children:[{scriptClass:"mstrmojo.TextBox",alias:"searchBox",hint:mstrmojo.desc(10,"Search"),cssClass:"eb-searchBox",valueChangeDelay:300,onEnter:function I(){var f=this.value,e=this.parent.parent.parent
	e.set("searchPattern",f)
	},onvalueChange:function P(){var f=this.value,e=this.parent.parent.parent
	e.set("searchPattern",f)
	}},{scriptClass:"mstrmojo.Button",cssClass:"eb-searchBox-clear",text:"",onclick:function(){var e=this.parent.searchBox
	e.set("value","")
	e.cleanUp()
	e.focus()
	},bindings:{visible:"(this.parent.searchBox.value || '').length > 0"}}]},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(15120,"View Selected"),cssClass:"eb-viewSelected",title:mstrmojo.desc(15120,"View Selected")},{scriptClass:"mstrmojo.ui.ToggleButton",alias:"toggleSelected",oncheckedChange:function J(){var e=this.parent.parent
	e.onsearchPatternChange()
	}}]},{scriptClass:"mstrmojo.HBox",slot:"buttonPanelNode",alias:"buttonPanel",cssClass:"elemsBrowser-button-panel",children:[{scriptClass:"mstrmojo.Button",text:Y,title:Y,alias:"clearAllBtn",cssClass:"eb-clearAll",useRichTooltip:true,updateTooltipConfig:function X(){var e=D.position(this.domNode)
	this.richTooltip={content:mstrmojo.desc(16192,"This function is currently not supported for non-text elements in the searching result."),cssClass:"vi-info vi-tooltip-C",left:e.x+60,top:e.y+5}
	},onclick:function(){var f=this.parent.parent,h=f.elementList
	h.clearSelect(false)
	var e=f.getLocalSearchItems(),g=f.itemIdField
	f.onItemsSelectionChange({added:[],removed:e,itemIdField:g})
	L.removeItems(f.selectedItems,g,e)
	},showTooltip:function C(h,g){var f=this.parent.parent
	if(!this.enabled&&!B.isEmpty(f.getSearchBox().value)&&!F(f.attribute)){mstrmojo._HasTooltip.showTooltip.call(this,h,g)
	}}},]},{scriptClass:"mstrmojo.vi.ui.IncCheckList",alias:"elementList",slot:"elementListNode",itemIdField:null,bindings:{ifDataHelper:"this.parent.ifDataHelper",itemIdField:"this.parent.itemIdField"},postAddItems:function(){var e=this.parent.selectedItems||[]
	this.setSelectedItems(e)
	}}],itemIdField:"v",ifDataSource:null,searchPattern:null,ifDataHelper:null,attribute:null,attributeId:null,selectedItems:[],init:function(e){this._super(e)
	this.set("ifDataHelper",new mstrmojo.mstr.DocElementDataHelper({source:this.ifDataSource}))
	if(this.ifDataSource&&this.attribute){this.onattributeChange()
	}this.elementList.attachEventListener("selectionChange",this.id,"onElementsListchange")
	},updateClearAllBtnState:function O(){this.buttonPanel&&this.buttonPanel.clearAllBtn.set("enabled",(B.isEmpty(this.getSearchBox().value)||F(this.attribute))&&(this.getLocalSearchItems().length>0))
	},onElementsListchange:function H(l){var k=l&&l.added||[],h=l&&l.removed||[],j=this.elementList.items,e=this.itemIdField
	if(!this.selectedItems){this.selectedItems=[]
	}var g=this.selectedItems,f=[],m=L.get(j,h)
	L.removeItems(g,e,m)
	var n
	L.forEach(k,function(o){n=j[o]
	if(n&&L.find(g,e,n[e])<0){g.push(n)
	f.push(n)
	}})
	this.updateClearAllBtnState()
	if(m.length>0||f.length>0){this.onItemsSelectionChange({added:f,removed:m,itemIdField:e})
	}},onItemsSelectionChange:mstrmojo.emptyFn,updateBrowseConfig:function K(){var g=this,l=this.attributeId,e=this.attribute,k=this.searchPattern,j=function(n,o){n.set("textValid",!o)
	n.domNode.title=B.encodeHtmlString(o,true)
	}
	if(!l){return 
	}this.ifDataHelper.set("items",null)
	var f={attributeID:l}
	if(k&&k!==""){f.searchPattern=k
	f.matchCase=false
	f.otp=e.t||d.Attribute
	}this.onUpdateBrowseElementsParams(f)
	this.ifDataHelper.set("browseConfig",f)
	var m=g.getSearchBox()
	this.elementList.initElements({success:function(n){j(m,"")
	},failure:function(t){var p=parseInt(t.code,10)+4294967296,r=2147762269,n=2147762227,o=2147762262,q=2147894808
	if(p===n||p===o){j(m,"")
	}else{if(p!==r){var u=(p!==q)?g.onBrowseElementsFailure.bind(g,p):null
	var v={shortDesc:mstrmojo.desc(15402,"This object is not available at this time."),longDesc:t.message},w={title:mstrmojo.desc(15403,"Invalid Object"),buttons:[R(mstrmojo.desc(13197,"Got it"),u,false)]}
	mstrmojo.error(v,undefined,w)
	j(m,"")
	}else{j(m,t.message)
	}}}})
	var h=this.util&&this.util.toggleSelected
	if(h){h.checked=false
	b.toggleClass(h.domNode,"checked",false)
	}this.updateClearAllBtnState()
	},isObjSearchable:function E(g,f){var h=S.walk("sapIsInListModeSupported",f),e=S.walk("sapType",f)
	if(h&&e!=="Edm.String"){return false
	}return !(g&&g.t===d.Consolidation)
	},onattributeChange:function A(){var e=this.attribute
	this.attributeId=e&&e.did
	this.searchPattern=null
	this.selectedItems=[]
	this.updateBrowseConfig()
	var h=this.getSearchBox(),f=S.walk("parent.parent.parent.parent.model.a",this),g=this.isObjSearchable(e,f)
	if(h){h.set("enabled",g)
	h.set("hint",g?mstrmojo.desc(10,"Search"):mstrmojo.desc(15801,"Not searchable"))
	}},getSearchBox:function M(){var e=this.util,f=this.util&&this.util.box
	return f&&f.searchBox
	},onifDataSourceChange:function G(){this.ifDataHelper.set("source",this.ifDataSource)
	this.ifDataHelper.set("items",null)
	},onsearchPatternChange:function Z(){var f=this.util&&this.util.toggleSelected
	if(!f||!f.checked){this.updateBrowseConfig()
	}else{var e=this.getLocalSearchItems()
	this.elementList.clearSelect(true)
	this.elementList.set("items",[])
	this.elementList.addItems(e)
	this.updateClearAllBtnState()
	}},getLocalSearchItems:function U(){var f=[],e
	if(this.searchPattern&&this.searchPattern!==""){var g=this.searchPattern.toLowerCase()
	L.forEach(this.selectedItems,function(h){e=(h.n||"").toLowerCase()
	if(e.indexOf(g)>-1){f.push(h)
	}})
	}else{f=(this.selectedItems||[]).slice(0)
	}return f
	},_set_selectedItems:function c(j,e){var h=this.selectedItems,g=this.itemIdField
	e=e||[]
	this.selectedItems=e
	this.updateClearAllBtnState()
	if(h.length!==e.length){return true
	}var f=L.intersection(h,e,g)
	return f.length!==h.length
	},onselectedItemsChange:function(){this.elementList.setSelectedItems(this.selectedItems)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo._InputList","mstrmojo.hash")
	mstrmojo.CheckList=mstrmojo.declare(mstrmojo._InputList,null,{scriptClass:"mstrmojo.CheckList",inputType:"checkbox",cssClass:"mstrmojo-CheckList",itemCssClass:"mstrmojo-CheckList-item"})
	mstrmojo.CheckListHoriz=mstrmojo.declare(mstrmojo._InputListHoriz,null,{scriptClass:"mstrmojo.CheckListHoriz",inputType:"checkbox",cssClass:"mstrmojo-CheckListHoriz",itemCssClass:"mstrmojo-CheckListHoriz-item"})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo._InputList")
	mstrmojo.RadioList=mstrmojo.declare(mstrmojo._InputList,null,{scriptClass:"mstrmojo.RadioList",inputType:"radio",cssClass:"mstrmojo-RadioList",itemCssClass:"mstrmojo-RadioList-item",onenabledChange:function A(B){for(var C=0
	C<this.items.length
	C++){this._getItemNode(C).firstChild.disabled=!B.value
	}}})
	mstrmojo.RadioListHoriz=mstrmojo.declare(mstrmojo._InputListHoriz,null,{scriptClass:"mstrmojo.RadioListHoriz",inputType:"radio",cssClass:"mstrmojo-RadioListHoriz",itemCssClass:"mstrmojo-RadioListHoriz-item"})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.ui.PopupList","mstrmojo.ui._HasListTooltip")
	mstrmojo.ui.IconTooltipPopupList=mstrmojo.declare(mstrmojo.ui.PopupList,[mstrmojo.ui._HasListTooltip],{scriptClass:"mstrmojo.ui.IconTooltipPopupList",keepArrowXPos:true,keepArrowYPos:true,getItemMarkup:function B(F,E){if(F.ttpDisabled){return mstrmojo._IsList.getItemMarkup.call(this,F,E)
	}var G=(this.allowHTML?"":"@en")
	return'<{@tag} class="item {@cls}" idx="{@idx}" style="{@style}" title="{'+G+'@title}">{'+G+'@n} <span class="info-icon" data-ttp="{@ttp}"></span></{@tag}>'
	},showTooltip:function D(E,G){const F=mstrmojo.hash.walk("target.dataset.ttp",E)
	if(!F){return 
	}this._super(E,G)
	},getItemFromTarget:function C(H){var F=mstrmojo.dom.findAncestorByAttr(H,"idx",true,this.domNode)
	if(!F){return 
	}var G=F.node,E=G&&parseInt(G.getAttribute("idx"),10)
	return this.items&&this.items[E]
	},getItemNodeFromTarget:function A(E){return E
	},})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.PopupButton","mstrmojo._HasTooltip","mstrmojo.ui._IsPulldown","mstrmojo.ui.PopupList","mstrmojo.hash","mstrmojo.dom","mstrmojo.string","mstrmojo.css","mstrmojo.array","mstrmojo.func","mstrmojo.vi.util.A11yUtility","mstrmojo._CanAutoClose")
	var b=mstrmojo.css,N=mstrmojo.array,G=mstrmojo.dom,B=mstrmojo.string,W=mstrmojo.func,Q=mstrmojo.vi.util.A11yUtility
	function I(d){this.set("richTooltip",{cssClass:"vi-regular vi-tooltip-C",content:B.encodeHtmlString(d)})
	}mstrmojo.ui.Pulldown=mstrmojo.declare(mstrmojo.ui.PopupButton,[mstrmojo.ui._IsPulldown,mstrmojo._HasTooltip],{scriptClass:"mstrmojo.ui.Pulldown",onitemSelected:mstrmojo.emptyFn,onSelectedItemChange:mstrmojo.emptyFn,useRichTooltip:true,allowHTML:false,useDarkTheme:false,init:function U(d){this._super(d)
	b.addWidgetCssClass(this.getPopupList(),"ctrl-popup-list")
	},unrender:function X(d){if(this._blurListenerProc){G.detachEvent(this.selectedNode,"blur",this._blurListenerProc)
	delete this._blurListenerProc
	}if(this._super){this._super(d)
	}},initChildren:function C(){this.children=this.getPopupListConfig()
	this._super()
	},postBuildRendering:function Y(){if(this._super){this._super()
	}var d=this,e=this.getSelectedItem()
	if(e){I.call(this,e.n)
	}if(this.enableAccessibility){this.selectedNode.setAttribute("tabindex","-1")
	this.selectedNode.setAttribute("role","combobox")
	this.selectedNode.setAttribute("aria-haspopup","menu")
	this.selectedNode.setAttribute("aria-owns",this.getPopupList().id)
	if(!this._blurListenerProc){this._blurListenerProc=function(){d.loseFocus()
	}
	G.attachEvent(this.selectedNode,"blur",this._blurListenerProc)
	}}},grabFocus:function P(e){if(!this.enableAccessibility){return 
	}var f=this.selectedNode,d=this.getPopupWidget()
	if(e){f.focus()
	}d.navMode=true
	b.addClass(f,Q.CSS_FOCUS_VISIBLE)
	},loseFocus:function D(f){if(!this.enableAccessibility){return 
	}var e=this.selectedNode,d=this.getPopupWidget()
	if(f){e.blur()
	}d.navMode=false
	b.removeClass(e,Q.CSS_FOCUS_VISIBLE)
	},onkeydown:function L(d){var f=d.e||d,e=f.key
	if(!this.enableAccessibility){return 
	}if(this._super){this._super(d)
	}if(e==="Enter"||e===" "){d.cancel()
	d.preventDefault()
	this.onclick(d)
	}},showTooltip:function E(j,h){var f=this.selectedNode,g=this.richTooltip
	if(f.offsetWidth>=f.scrollWidth){return 
	}if(!g.top){var d=G.position(this.selectedNode)
	g.top=d.y-3
	g.left=d.x+d.w+6
	}if(this._super){this._super(j,h)
	}},getSelectedItem:function O(){var d=this.items
	return d&&d[this.selectedIndex]
	},selectItemByField:function A(e,d){this.set("selectedIndex",N.find(this.items||[],e,d))
	},getPopupWidget:function F(){return this.list
	},getPopupList:function K(){return this.list
	},_set_items:function J(g,d){var f=this.items
	this.items=d
	delete this.selectedIndex
	if(f!==d){var e=this.hasRendered
	if(e){this.refresh()
	}return true
	}return false
	},onclick:function c(d){this._super(d)
	var f=this,e=f.getPopupWidget()
	f.mw=f.mw||function(g){if(!G.contains(e.domNode,G.eventTarget(self,g),true,document.body)){e.close()
	}}
	if(!e.onCloseFuncWrapped){e.onClose=W.composite([e.onClose,function(){G.detachEvent(document,G.isFF?"DOMMouseScroll":"mousewheel",f.mw)
	}])
	e.onCloseFuncWrapped=true
	}G.attachEvent(document,G.isFF?"DOMMouseScroll":"mousewheel",f.mw)
	if(f.focusOnPopup){e.domNode.focus()
	e.navMode=Q.isKeyBoardEvent(d&&d.e)
	}},_set_selectedIndex:function R(l,h,f){if((h!==0&&!h)||h<0){return false
	}var e=this.selectedIndex=h,d=this.getPopupList(),g=d&&d.items,k=g&&g[e],j=this.selectedNode
	if(k&&k.dsbld){return false
	}if(d){mstrmojo._ListSelections._set_selectedIndex.call(d,"selectedIndex",e,f)
	}if(j&&g&&g[e]){this.updateSelectedNode(g[e])
	}if(g&&g[e]){if(this.focusOnPopup&&d&&!d.closeAfterSelection){d.itemsContainerNode.children[e].style.color=""
	}else{this.onitemSelected(g[e],e)
	}}return true
	},updateSelectedNode:function(d){if(this.selectedNode&&d){this.selectedNode.innerHTML=this.getPulldownTextInnerHTML(d)
	this.selectedNode.title=d.title||""
	this.selectedNode.setAttribute("aria-label",B.encodeHtmlString(d.n||"",true))
	}},getPulldownTextInnerHTML:function H(d){return this.allowHTML?d.n:B.encodeHtmlString(d.n,true)
	},postselectedIndexChange:function S(d){var h=d.value,f=d.valueWas
	if(h!==f){var e=this.items,g=e[h]
	if(g){I.call(this,g.n)
	}this.onSelectedItemChange(g,e[f])
	}},getPopupConfig:function M(){var d=this._super()
	d.useDarkTheme=this.useDarkTheme
	return d
	},_set_allowHTML:function(e,d){if(this.allowHTML===d){return false
	}this.allowHTML=d
	this.getPopupList().set("allowHTML",d)
	return true
	},getPopupListConfig:function a(){return{scriptClass:"mstrmojo.ui.PopupList",enableAccessibility:this.enableAccessibility,alias:"list",selectionPolicy:"reselect",locksHover:true,useRichTooltip:true,showTooltipForLargeText:true,scrollNodeMaxHeight:this.scrollNodeMaxHeight,allowHTML:this.allowHTML,listHooks:{select:function d(h,j,g){this.parent.set("selectedIndex",g)
	if(this.visible&&this.closeAfterSelection&&!this.selectedItem.dsbld){this.close()
	}}},getItemProps:function e(j,g){var h=mstrmojo._IsList.getItemProps.call(this,j,g)
	h.style=this.parent.itemCssText||""
	return h
	},suppressClose:function f(g){return mstrmojo._CanAutoClose.suppressClose.call(this,g)||G.contains(this.parent.domNode,g,true,document.body)
	}}
	},children:[]})
	mstrmojo.ui.Pulldown.newPulldown=function Z(e,j,d,h,g){h=h||{}
	h.items=e
	var f
	if(g===true){f=mstrmojo.hash.copy({scriptClass:"mstrmojo.ui.Pulldown",selectedIndex:d||0},h)
	}else{f=new mstrmojo.ui.Pulldown(h)
	if(d!==undefined){f.set("selectedIndex",d)
	}}f.onSelectedItemChange=j||mstrmojo.emptyFn
	return f
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.editors.controls.PreviewButton","mstrmojo.ui.PopupList","mstrmojo.array","mstrmojo.css")
	var F=mstrmojo.css,E=mstrmojo.array
	mstrmojo.ui.editors.controls.ListPreviewButton=mstrmojo.declare(mstrmojo.ui.editors.controls.PreviewButton,null,{scriptClass:"mstrmojo.ui.editors.controls.ListPreviewButton",init:function G(L){this._super(L)
	var M=this.getListCfg(),K=this.itemValueField
	M.alias="list"
	M.locksHover=true
	M.slot="widgetHostNode"
	M.listHooks={select:function J(N,O){this.parent.set("selectedValue",O[K])
	this.close()
	}}
	M.setDimensions=mstrmojo.emptyFn
	this.addChildren([M])
	F.addWidgetCssClass(this.list,"ctrl-popup-list")
	},getPopupWidget:function D(){return this.list
	},items:null,onitemsChange:function H(){var J=this.items
	if(J){this.list.set("items",J)
	}},selectedValue:"",itemValueField:"n",onselectedValueChange:function C(){var K=this.selectedValue,J=this.itemValueField,L=this.list
	L.selectItems(E.filter(L.items||[],function(M){return M[J]===K
	}),true)
	this.updatePreview()
	},updatePreview:function B(){throw new Error(this.scriptClass+" must implement updatePreview.")
	},getListCfg:function I(){return{scriptClass:"mstrmojo.ui.PopupList",selectionPolicy:"reselect"}
	},postBuildRendering:function A(){this.onitemsChange()
	this.onselectedValueChange()
	return this._super()
	}})
	}())
	(function(){mstrmojo.requiresClsP("mstrmojo","hash","Button","Box","express.ui.SubtotalsWidget")
	var B=mstrmojo.hash
	mstrmojo.express.ui.SubtotalMenuEditor=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.express.ui.SubtotalMenuEditor",checkList:undefined,btnContainer:undefined,onSubmenuOpen:function A(){this.checkList.set("selectedItems",this.cell.ast)
	},children:[{scriptClass:"mstrmojo.express.ui.SubtotalsWidget",alias:"checkList"},{scriptClass:"mstrmojo.Box",alias:"btnContainer",cssClass:"mstrmojo-subtotals-button cf",cancelBtn:undefined,children:[{scriptClass:"mstrmojo.Button",alias:"cancelBtn",text:mstrmojo.desc(221,"Cancel"),onclick:function(){this.parent.parent.onSubmenuClosed()
	}},{scriptClass:"mstrmojo.Button",alias:"okBtn",text:mstrmojo.desc(1442,"OK"),onclick:function(){var H=this.parent.parent,K=H.cell,L=H.xtab,C=[],J=[],E=H.checkList.selectedIndices,G=K.ast,I=[],F,D
	B.forEach(E,function(P,O){var R=H.checkList.items[O].v,Q=true
	C.push(R)
	if(G){for(F=0
	F<G.length
	F++){if(R===G[F].t){Q=false
	break
	}}if(Q){J.push(R)
	}}})
	if(G){for(F=0
	F<G.length
	F++){var M=G[F].t,N=false
	for(D=0
	D<C.length
	D++){if(C[D]===M){N=true
	}}if(!N){I.push(M)
	}}}L.showTotal(K,G?J:C,I)
	H.onSubmenuClosed()
	}}]}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.WidgetList","mstrmojo.WidgetTreeBuilder","mstrmojo.TreeNodeSelector")
	var E=false
	mstrmojo.WidgetTree=mstrmojo.declare(mstrmojo.WidgetList,null,{scriptClass:"mstrmojo.WidgetTree",listBuilder:mstrmojo.WidgetTreeBuilder,listSelector:mstrmojo.TreeNodeSelector,renderOnScroll:true,itemIdField:"dssid",itemDisplayField:"n",itemIconField:"tp",itemChildrenField:"items",itemFunction:function D(L,I,J){if(!E){mstrmojo.requiresCls("mstrmojo.TreeNode")
	E=true
	}var H=J.tree||J,K=new mstrmojo.TreeNode({data:L,state:0,parent:J,tree:H,multiSelect:J.multiSelect,text:L[J.itemDisplayField],textCssClass:H.item2textCss(L),items:L[J.itemChildrenField],itemIdField:J.itemIdField,itemDisplayField:J.itemDisplayField,itemIconField:J.itemIconField,itemChildrenField:J.itemChildrenField,itemFunction:J.itemFunction,listSelector:J.listSelector})
	return K
	},item2textCss:function B(H){return H[this.itemIconField]
	},selectionParentNode:null,init:function F(H){this._super(H)
	this.selectionParentNode=this
	this.tree=this
	},clearTreeSelect:function A(){(this.selectionParentNode||this).clearSelect()
	},prechange:function G(H){var I=this._super(H)
	this.onnodechange(H)
	return I
	},onnodechange:function C(I){if(!I){return 
	}var J=mstrmojo.hash,M=this.selectionParentNode,L=I.src
	if(L===M){if(J.isEmpty(L.selectedIndices)){L=this
	this.selectionParentNode=this
	}this.raiseEvent({name:"selectionChange",parentNode:L,parentNodeWas:M,added:I.added,removed:I.removed})
	}else{if(I.added&&I.added.length){var K=[]
	if(!J.isEmpty(M.selectedIndices)){K=mstrmojo.hash.keyarray(M.selectedIndices,true)
	M.clearSelect()
	}this.selectionParentNode=L
	this.raiseEvent({name:"selectionChange",parentNode:L,parentNodeWas:M,added:I.added,removed:K})
	}else{}}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.hash","mstrmojo.fx","mstrmojo.TreeNode","mstrmojo.url")
	var J=mstrmojo.dom,C=mstrmojo.url
	NODE_STATE_CSS_MAP={0:"closed",1:"opened",2:"leaf"},_animContainerNode=function(Q,P){var M=Q.style,L,O,K,R,N
	M.display="block"
	M.height="auto"
	L=Q.offsetHeight
	O=P?L:0
	K=P?0:L
	R=P?"block":"none"
	M.overflow="hidden"
	N=new mstrmojo.fx.AnimateProp({target:Q,props:{height:{start:K,stop:O,suffix:"px",fn:Math.round,ease:mstrmojo.ease.linear}},onEnd:function(){M.height="auto"
	M.display=R
	},interval:30,duration:300})
	N.play()
	}
	mstrmojo.TreeBrowserNode=mstrmojo.declare(mstrmojo.TreeNode,null,{scriptClass:"mstrmojo.TreeBrowserNode",markupString:'<div id="{@id}" class="mstrmojo-TreeNode {@cssClass}" style="{@cssText}" mstrAttach:mousedown,mouseup,click,dblclick><div class="mstrmojo-TreeNode-div"><img class="mstrmojo-TreeNode-state" src="'+C.getPlaceholderImageURL()+'" /><img class="mstrmojo-TreeNode-checkBox" src="'+C.getPlaceholderImageURL()+'" /><span class="mstrmojo-TreeNode-text {@textCssClass}"></span></div><div class="mstrmojo-TreeNode-itemsContainer">{@itemsHtml}</div></div>',markupSlots:mstrmojo.hash.copy({displayNode:function(){return this.domNode.firstChild
	},checkBoxNode:function(){return this.domNode.firstChild.childNodes[1]
	}},mstrmojo.TreeNode.prototype.markupSlots),markupMethods:mstrmojo.hash.copy({onstateChange:function(K){this.stateNode.className="mstrmojo-TreeNode-state "+(NODE_STATE_CSS_MAP[this.state]||"closed")
	if(this.tree.anim&&this.contentRetrieved&&!K){_animContainerNode(this.itemsContainerNode,this.state===1)
	}else{this.itemsContainerNode.style.display=(this.state===1)?"block":"none"
	}},},mstrmojo.TreeNode.prototype.markupMethods),blockBegin:1,allowUnlistedValues:false,contentRetrieved:false,_set_items:function(M,L){var K=this._super(M,L)
	if(K&&this.tree.anim){_animContainerNode(this.itemsContainerNode,true)
	}return K
	},onstateChange:function I(){var K=this.tree
	if(!this.contentRetrieved&&(this.state==1)){this.set("items",[K.loadingItemCreaterFunc()])
	K.getContent(this,this.blockBegin)
	}else{if((this.state==1)&&K.onNodeExpand){K.onNodeExpand(this)
	}if((this.state==0)&&K.onNodeCollapse){K.onNodeCollapse(this)
	}}},toggleState:function G(){if(this.state!==2){this.set("state",this.state===1?0:1)
	}},preclick:function H(K){J.clearBrowserHighlights(K.hWin)
	return false
	},predblclick:function E(K){J.clearBrowserHighlights(K.hWin)
	return false
	},premousedown:function B(L){var Q=mstrmojo.dom,N=mstrmojo.dom.eventTarget(L.hWin,L.e),K=this.tree,M=(this.state==2),P=Q.contains(this.itemsContainerNode,Q.eventTarget(L.hWin,L.e),true,this.domNode),O=(K.branchClickPolicy==mstrmojo.TreeBrowserEnum.BRANCH_POLICY_TOGGLE)
	if((this.isSpecialNode()||!(N==this.checkBoxNode||((N==this.textNode||N==this.displayNode)&&(M||!O))))&&!this.draggable){Q.stopPropogation(L.hWin,L.e)
	}if((N==this.stateNode)||((N==this.textNode||N==this.displayNode)&&!M&&O)){if(!M){this.toggleState()
	}}else{if(N==this.checkBoxNode||P){if(this._super){this._super(L)
	}}else{this.handleNodeClicked()
	}}},isSpecialNode:function D(){var K=this.data&&this.data.st
	return(K<0)
	},handleNodeClicked:function F(){var K=this.tree,L=this.parent,M=this.data
	switch(M&&M.st){case"-4":mstrmojo.css.addClass(this.textNode,["loading"])
	K.getContent(L,L.blockBegin-K.blockCount)
	break
	case"-3":mstrmojo.css.addClass(this.textNode,["loading"])
	K.getContent(L,L.blockBegin+K.blockCount)
	break
	case"-1":case"-2":break
	default:if(K.handleNodeClicked){K.handleNodeClicked(M)
	}}},init:function(K){this._super(K)
	this.set("state",this.tree.isBranch(this.data)?0:2)
	},postBuildRendering:function A(){if(this._super){this._super()
	}var K=function(L){J.preventDefault(window,L||window.event)
	return false
	}
	J.attachEvent(this.domNode,"mousedown",K)
	if(this.isSpecialNode()||this.tree.noCheckBox){this.checkBoxNode.style.display="none"
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.TreeNode","mstrmojo._IsExprNode","mstrmojo.array","mstrmojo.dom","mstrmojo.css","mstrmojo.expr","mstrmojo._HasOwnAvatar")
	var F=mstrmojo.array,M=mstrmojo.expr,P=mstrmojo.dom,A=mstrmojo.css
	function J(R,Q){var U=R.data,S=U&&U.nds
	if(!S){return null
	}if(Q){Q.sort(F.numSorter)
	}else{Q=R.sortSelectedIndices()
	}if(!Q.length){return null
	}return{idxs:Q,nds:F.get(S,Q)}
	}function N(S){var R=S.ctxtBuilder,W=R&&R.itemWidgets,Q=W&&W[0],U=Q&&Q.data
	if(U&&U.not&&(W.length>0)){delete U.not
	Q.paint()
	}}mstrmojo.AndOrNode=mstrmojo.declare(mstrmojo.TreeNode,[mstrmojo._IsExprNode,mstrmojo._HasOwnAvatar],{scriptClass:"mstrmojo.AndOrNode",data:null,editable:false,prefixedAndOrEditable:false,markupString:'<div id="{@id}" class="mstrmojo-andor mstrmojo-AndOrNode {@cssClass}"  style="position:relative
	{@cssText}" mstrAttach:mousedown><div class="mstrmojo-onhoverparent mstrmojo-andor-prefix" mstrAttach:click><span class="mstrmojo-textset mstrmojo-andor-prefix-text"></span><span class="mstrmojo-onhover-in mstrmojo-andor-tools {@cssClass}">{@_prefixAndOrToolsMarkup}</span></div><div class="mstrmojo-andor-top"></div><div class="mstrmojo-andor-contentsWrapper" style="position:relative"><div class="mstrmojo-andor-contents" style="position:relative
	{@itemsContainerCssText}">{@itemsHtml}</div><div class="mstrmojo-ListBase2-dropCue mstrmojo-AndOrNode-dropCue {@cssClass}"><div class="mstrmojo-ListBase2-dropCue-inner mstrmojo-AndOrNode-dropCue-inner"></div></div></div><div class="mstrmojo-andor-bottom"></div></div>',markupSlots:{prefixHoverNode:function(){return this.domNode.firstChild
	},prefixNode:function(){return this.domNode.firstChild.firstChild
	},prefixAndOrToolsNode:function(){return this.domNode.firstChild.childNodes[1]
	},itemsContainerPrefix:function(){return this.domNode.childNodes[1]
	},itemsContainerNode:function(){return this.domNode.childNodes[2].firstChild
	},dropCueNode:function(){return this.domNode.childNodes[2].lastChild
	},itemsContainerSuffix:function(){return this.domNode.lastChild
	},scrollboxNode:function(){return this.domNode
	}},markupMethods:{onitemCntChange:function(){A.toggleClass(this.itemsContainerNode,["multi"],this.itemCnt>2)
	},onprefixedAndOrEditableChange:function(){A.toggleClass(this.prefixNode,["editable"],this.prefixedAndOrEditable)
	},ondataChange:function(){this.prefixNode.innerHTML=this.andOrTxt()
	},ondropCuePosChange:mstrmojo.TreeNode.prototype.markupMethods.ondropCuePosChange},multiSelect:true,itemIdField:null,init:function(Q){this._super(Q)
	this.markupString=this.markupString.replace("{@_prefixAndOrToolsMarkup}",this.getPrefixAndOrToolsMarkup())
	var R=this.data
	if(R){delete this.data
	this._set_data(null,R)
	}},itemCnt:0,postBuildRendering:function(){var Q
	this.set("itemCnt",this.items.length)
	if(this._super){Q=this._super()
	}N(this)
	return Q
	},preadd:function L(Q){if(this._super){this._super(Q)
	}this.set("itemCnt",this.items.length)
	N(this)
	},preremove:function O(Q){if(this._super){this._super(Q)
	}this.set("itemCnt",this.items.length)
	N(this)
	},_set_data:function(U,Q){var R=this.data,S=(R!==Q)
	if(S){this.data=Q
	if(Q&&!Q.nds){Q.nds=[]
	}this.set("items",Q&&Q.nds)
	}return S
	},isDragValid:function K(){return true
	},isSelectableArea:function(Q){return false
	},getDragData:function(Q){var S=this._super(Q)
	if(S&&!S.html){var R=S.et&&M.ET2TGT[S.et]
	S.html=R?S[R]&&S[R].n||"":S.n||""
	}return S
	},remove:function I(R,S){var Q=this._super(R)
	if(Q>-1){var U=S||this.suppressConsolidation
	if(!U){this.consolidate(false)
	}}return Q
	},move:function(R,Q){this.suppressConsolidation=true
	var S
	if(this._super){S=this._super(R,Q)
	}this.suppressConsolidation=false
	return S
	},consolidate:function E(){var W=this.parent
	if(!W||!W.remove){return 
	}var S=this.items,R=S&&S.length
	if(R<2){var U=R?S[0]:null,Q=this.childIndex()
	if(U){W.add([U],Q)
	}W.remove(this.data)
	}},indent:function G(S,Q){var R=J(this,S)
	if(!R){return 
	}this.remove(R.idxs,true)
	var Y=R.nds,X=Q&&Q.fn||this.data&&this.data.fn,W={et:M.ET.ANDOR,nds:Y,fn:X}
	if(Y.length===2&&Y[0].not){if(Y[1].not){delete Y[0].not
	delete Y[1].not
	W.not=true
	W.fn=(X===M.FN.AND?M.FN.OR:M.FN.AND)
	}else{var U=Y[0]
	Y[0]=Y[1]
	Y[1]=U
	}}this.add([W],R.idxs[0])
	this.consolidate(false)
	},outdent:function C(R){var S=this.parent,Q=S&&S.data
	if(!Q||Q.et!==M.ET.ANDOR){return 
	}var U=J(this,R)
	if(!U){return 
	}this.remove(U.idxs,true)
	if(this.data.not){U.nds[0].not=true
	}S.add(U.nds,this.childIndex())
	this.consolidate(false)
	},edit:function D(b,e,S){if(!b){return 
	}var a=this.data,Z=a&&a.fn,R=b.data,h=R&&R.not
	if(!R){R={}
	b.data=R
	}R.not=!!S
	if(Z!==e){var Q=a.nds
	if(Q&&Q.length>2){var g=b.childIndex()
	if(g>0){this.indent([g-1,g],{fn:e})
	}}else{a.fn=e
	var X=this.ctxtBuilder,W=X&&X.itemWidgets
	for(var U=0,Y=(W&&W.length)||0
	U<Y
	U++){var f=W[U]
	if(f){f.paint()
	}}}}else{b.paint()
	}},preclick:function H(Q){var S=null,R=P.eventTarget(Q.hWin,Q.e)
	if(R===this.prefixNode){}else{if(P.contains(this.prefixNode,R,true)){S="andor"
	}}Q.part=S
	},createAvatar:function B(S){var R=document.createElement("div"),U=P.findWidget(S),Q=U.getAvatarNode&&U.getAvatarNode()
	if(!Q){Q=U.condNode.cloneNode(true)
	Q.style.boxSizing="border-box"
	Q.style.width=U.condNode.offsetWidth+"px"
	}R.appendChild(Q)
	A.addClass(R,U.avatarCssCls||"mstrmojo-FE mstrmojo-ConditionNode")
	R.style.zIndex=20
	return R
	},_ndsToMove:J})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.HTMLButton","mstrmojo._HasContextMenu","mstrmojo.ContextMenu")
	mstrmojo.MenuButton=mstrmojo.declare(mstrmojo.Button,[mstrmojo._HasContextMenu],{preclick:function A(B){this.showContextMenu()
	},openPopupMenu:function(){this.showContextMenu()
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.AndOrNode","mstrmojo.fe._IsRelationTreeNode","mstrmojo.expr","mstrmojo.dom","mstrmojo.array","mstrmojo.css")
	var L=mstrmojo.expr,N=mstrmojo.dom,C=mstrmojo.array,A=mstrmojo.css,F=mstrmojo.fe._IsRelationTreeNode.createSetHtml
	var M=function(){var U="noRelationOperator",P=this[U],R=this.ctxtBuilder&&this.ctxtBuilder.itemWidgets||[],S=mstrmojo.array.filter(R,function(W){return W&&W[U]!==P&&W.data.et!==L.ET.RLS
	}),O=S.length
	for(var Q=0
	Q<O
	Q++){S[Q].set(U,P)
	}}
	mstrmojo.fe.AndOrNode=mstrmojo.declare(mstrmojo.AndOrNode,[mstrmojo.fe._IsRelationTreeNode],{scriptClass:"mstrmojo.fe.AndOrNode",markupString:'<div id="{@id}" class="mstrmojo-andor mstrmojo-AndOrNode {@cssClass}"  style="position:relative
	{@cssText}" mstrAttach:mousedown><div class="mstrmojo-onhoverparent mstrmojo-andor-prefix" mstrAttach:click><span class="mstrmojo-textset mstrmojo-andor-prefix-text"></span><span class="mstrmojo-onhover-in mstrmojo-andor-tools {@cssClass}">{@_prefixAndOrToolsMarkup}</span></div><div class="mstrmojo-andor-top"></div><div class="mstrmojo-andor-contentsWrapper" style="position:relative"><div class="mstrmojo-andor-contents" style="position:relative
	{@itemsContainerCssText}">{@itemsHtml}</div><div class="mstrmojo-ListBase2-dropCue mstrmojo-AndOrNode-dropCue {@cssClass}"><div class="mstrmojo-ListBase2-dropCue-inner mstrmojo-AndOrNode-dropCue-inner"></div></div></div><div class="mstrmojo-andor-bottom"></div></div>',getPrefixAndOrToolsMarkup:function(){return(F+this._super())
	},markupSlots:mstrmojo.hash.copy({createSetNode:function(){return this.domNode.firstChild.childNodes[1].firstChild
	}},mstrmojo.hash.copy(mstrmojo.AndOrNode.prototype.markupSlots)),markupMethods:mstrmojo.hash.copy({onnoRelationOperatorChange:function(){A.toggleClass(this.prefixHoverNode,["noRelation"],this.noRelationOperator)
	}},mstrmojo.hash.copy(mstrmojo.AndOrNode.prototype.markupMethods)),removeSet:function G(P){var O=P.childIndex(),Q=P.data,R=[Q]
	if(O>=0){this.remove(O,true)
	if(Q.nds&&Q.nds.length>0){R=Q.nds
	if(Q.not){R[0].not=true
	}}else{delete Q.dmy
	delete Q.relation
	delete Q.applySubExpr
	delete Q.relation
	delete Q.useSchema
	delete Q.dmt
	}this.add(R,O)
	this.consolidate(false)
	}},createSet:function E(Q,O){var P=this._ndsToMove(this,Q)
	if(!P){return 
	}this.remove(P.idxs,true)
	var W=P.nds,U
	if(W){if(W.length>1){var S={et:L.ET.ANDOR,nds:W}
	S.fn=this.data.fn
	W=[S]
	U=S.nds[0].not
	}else{var X=W[0]
	if(X&&X.not&&X.et===L.ET.ANDOR){U=X.not
	delete X.not
	}}}if(O&&O.rq){var R
	if(O.isMetric){R=O.cq
	mstrmojo.hash.copyProps(["applySubExpr","dmy","dmt","relation","useSchema"],O.rq,R)
	}else{R=O.rq
	R.nds=W
	if(U){R.not=U
	}}this.add([R],P.idxs[0])
	}this.consolidate(false)
	},preclick:function H(O){var R=null,Q=N.eventTarget(O.hWin,O.e),P=this._super(O)
	if(N.contains(this.createSetNode,Q,true)&&!this.noRelationOperator){R="createSetOpt"
	}O.part=R||O.part
	return P
	},preadd:function I(O){if(this._super){this._super(O)
	}this.updateRelationOperator()
	},preremove:function K(O){if(this._super){this._super(O)
	}this.updateRelationOperator()
	},consolidate:function B(){this._super()
	this.updateRelationOperator()
	},postBuildRendering:function J(){var O=this._super()
	this.updateRelationOperator()
	return O
	},updateRelationOperator:function D(){var O=this.ctxtBuilder&&this.ctxtBuilder.itemWidgets||[],P=!!C.filterOne(O,function(R){return R&&(R.data.et===L.ET.RLS||(R.data.et===L.ET.ANDOR&&R.noRelationOperator))
	}),Q=this.parent
	this.set("noRelationOperator",P)
	M.call(this)
	if(Q&&Q.hasRendered&&Q.updateRelationOperator){Q.updateRelationOperator()
	}},onmouseover:function(){this.toggleGroupBorder(true)
	},onmouseout:function(){this.toggleGroupBorder(false)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo._HasItemAliases","mstrmojo.WidgetTree","mstrmojo.hash","mstrmojo.expr","mstrmojo.mstr.EnumNodeProperties","mstrmojo.AndOrNode","mstrmojo.ConditionNode")
	var C=mstrmojo.hash,G=mstrmojo.expr,A=mstrmojo.mstr.EnumNodeProperties,I=G.ET
	function E(J){var L=J&&J.src,M=L&&L.data,K=M&&M.et
	return(K in G.ETs)
	}function H(J){return J&&J.et===I.ANDOR&&!(J.node&A.CONDITION)
	}mstrmojo.FilterExpr=mstrmojo.declare(mstrmojo.WidgetTree,[mstrmojo._HasItemAliases],{scriptClass:"mstrmojo.FilterExpr",allowDrop:E,renderOnScroll:false,itemIdField:null,nodeClassMap:{14:mstrmojo.AndOrNode,"*":mstrmojo.ConditionNode},onBlankClick:function(J){this.clearTreeSelect()
	},onnodemousedown:function(K){var L=mstrmojo.dom.eventTarget(K.hWin,K.e),M=K.src,J=M.listMapper.findIndex(M,M.itemsContainerNode,L),N=J>=0?M.ctxtBuilder.itemWidgets[J]:null
	if(!N||(N.isSelectableArea&&!N.isSelectableArea(L))){this.onBlankClick(K)
	}},getItemIdentityProp:function(J){return J.et
	},itemFunction:function(O,L,P){var K=P.tree,M=K.getItemConfig(O,L,P),N=K.nodeClassMap,J=N[K.getItemIdentityProp(O)]||N["*"]
	return J&&(new J(M))
	},getItemConfig:function(S,P,L){var N=this,J=H(S),U=L.tree||L,M=C.walk("tree.editor",U),R=M&&M.docModel,Q=M&&M.xtab,O=Q&&Q.gridInfo,K={data:S,tree:U,parent:L,bindings:{prefixedAndOrEditable:"this.parent.editable"},itemFunction:(J)?L.itemFunction:null,draggable:J?U.draggable:false,dropZone:J?U.dropZone:false,allowDrop:J&&U.dropZone?U.allowDrop:null,allowCopy:J?U.allowCopy:false,editable:U.isEditable?U.isEditable(S):U.editable,makeObservable:J&&L.makeObservable,onclick:U.onnodeclick,onadd:U.onnodeadd,onremove:U.onnoderemove}
	N.adjustItemName(S,R,O)
	return K
	},getDragData:function(J){var L=this._super(J)
	if(L&&!L.html){var K=L.et&&G.ET2TGT[L.et]
	L.html=K?L[K]&&L[K].n||"":L.n||""
	}return L
	},newCondition:function D(N){N=N||{et:I.AQ}
	var M=this.selectionParentNode,J
	M=(M&&M.hasRendered)?M:this
	if(M!==this){J=M.add([N])
	}else{var L=this.addCondition([N],null,true)
	J=L.index
	M=L.widget
	}var K={widget:M,index:J,data:N}
	if(this.onNew){this.onNew(K)
	}return K
	},addCondition:function F(L,N){var O=this.items,K=O&&O.length,Q=L&&L.length
	if(!Q){return null
	}var M,J
	if(K&&H(O[0])){M=this.ctxtBuilder.itemWidgets[0]
	J=M.add(L,null)
	}else{if(!K&&(Q===1)){M=this
	J=0
	this.add(L,0)
	}else{if(K){var P=O[0]
	this.remove(P)
	L.unshift(P)
	}this.add([{et:I.ANDOR,fn:G.FN.AND,nds:L}],0)
	M=this.ctxtBuilder.itemWidgets[0]
	J=K?1:0
	}}return{widget:M,index:J}
	},addSingleCondition:function B(K,J){var L=this.addCondition([K],J)
	return L.widget.ctxtBuilder.itemWidgets[L.index]
	},ondrop:function(M){if(this._super){this._super(M)
	}var K=this.items,J=K&&K.length,L=K.concat()
	if(J>1){if(K.remove){K.remove(0,K.length)
	}else{this.set("items",null)
	}this.add([{et:I.ANDOR,fn:G.FN.AND,nds:L}],0)
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.array","mstrmojo.WidgetTree","mstrmojo.TreeBrowserNode","mstrmojo.TreeBrowserSelector")
	mstrmojo.TreeBrowserEnum={}
	var I=mstrmojo.TreeBrowserEnum
	I.BRANCH_POLICY_TOGGLE="toggle"
	I.BRANCH_POLICY_SELECT="select"
	mstrmojo.TreeBrowser=mstrmojo.declare(mstrmojo.WidgetTree,null,{scriptClass:"mstrmojo.TreeBrowser",cssClass:"mstrmojo-TreeBrowser",browserNodeClass:mstrmojo.TreeBrowserNode,blockCount:30,noCheckBox:false,selectionAcrossBranch:true,branchClickPolicy:I.BRANCH_POLICY_TOGGLE,contentRetrieved:false,listSelector:mstrmojo.TreeBrowserSelector,handleNodeClicked:function(J){},getContentThroughTaskCall:function H(K,J){},isBranch:function F(J){},item2textCss:function C(J){return{"-1":"failed","-2":"loading","-3":"next","-4":"prev"}[J.st]||""
	},failItemCreaterFunc:function(){return{n:"Loading Failed!",did:"-1",tp:"-1",st:"-1"}
	},loadingItemCreaterFunc:function(){return{n:mstrmojo.desc(5674,"Loading..."),did:"-2",tp:"-2",st:"-2"}
	},nextItemCreaterFunc:function(J){return{n:mstrmojo.desc(4507,"Next ##  item(s)...").replace("##",J?Math.min(J,this.blockCount):this.blockCount),did:"-3",tp:"-3",st:"-3"}
	},prevItemCreaterFunc:function(){return{n:mstrmojo.desc(4508,"Previous ##  item(s)...").replace("##",this.blockCount),did:"-4",tp:"-4",st:"-4"}
	},updateTreeContent:function(K,M){K.contentRetrieved=true
	var L=M[K.itemChildrenField]||[],J=K.tree||K,O=M.bc,N=M.sz,P=M.bb
	if(O!==-1){if(P+O<=N){L.push(J.nextItemCreaterFunc(N-P-O+1))
	}if((P-O)>-1){L.unshift(J.prevItemCreaterFunc())
	}}K.blockBegin=P
	J.initializing=true
	K.clearSelect(false)
	K.set("items",L)
	K.setSelectedItems(J.getTotalSelections(),true)
	J.initializing=false
	if(J.onNodeExpand){J.onNodeExpand(K)
	}},getContent:function(K,O){var L=(K===this),J=this,P=function(Q){if(L){mstrmojo.css.removeClass(J.domNode,["loading"])
	}J.updateTreeContent(K,Q)
	},M=function(Q){K.contentRetrieved=true
	K.set("items",[J.failItemCreaterFunc()])
	},N={success:P,failure:M}
	if(L){mstrmojo.css.addClass(J.domNode,["loading"])
	}this.getContentThroughTaskCall({isRoot:L,data:K.data,blockBegin:L?0:(O||K.blockBegin),blockCount:J.blockCount},N)
	},postBuildRendering:function A(){this._super()
	if(!this.contentRetrieved){var J=this
	setTimeout(function(){J.getContent(J)
	},0)
	}},itemFunction:function G(N,K,L){var J=L.tree||L,M=new J.browserNodeClass({data:N,state:0,parent:L,tree:J,multiSelect:L.multiSelect,text:N[L.itemDisplayField],textCssClass:J.item2textCss(N),items:N[L.itemChildrenField],itemIdField:L.itemIdField,itemDisplayField:L.itemDisplayField,itemIconField:L.itemIconField,itemChildrenField:L.itemChildrenField,itemFunction:L.itemFunction,listSelector:L.listSelector})
	return M
	},clearTreeSelect:function E(){if(!this.selectionAcrossBranch){this._super()
	}else{var L=this._selectionParentNode,J=L&&L.length,K
	for(K=0
	K<J
	K++){L[K].clearSelect()
	}this._selectionParentNode=null
	this._totalSelections=null
	}},onnodechange:function D(U){if(this.initializing){return 
	}if(!this.selectionAcrossBranch){this._super(U)
	}else{this._totalSelections=this._totalSelections||[]
	this._selectionParentNode=this._selectionParentNode||[]
	var R=this._totalSelections,J=this._selectionParentNode,S=U.added,P=U.removed,Q=[],L=[],K=U.src,N,M,O,W
	J.push(K)
	for(N=0,O=P&&P.length
	N<O
	N++){L.push(K.items[P[N]])
	}mstrmojo.array.removeItems(R,"did",L)
	for(M=0,W=S&&S.length
	M<W
	M++){Q.push(K.items[S[M]])
	}this._totalSelections=R.concat(Q)
	}},getTotalSelections:function B(){if(this.selectionAcrossBranch){return this._totalSelections||[]
	}var J=this.selectionParentNode
	return J&&J.getSelectedItems()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Button","mstrmojo.hash","mstrmojo.func","mstrmojo.css","mstrmojo.string","mstrmojo.HBox","mstrmojo.Box","mstrmojo.DropDownButton","mstrmojo.Popup","mstrmojo.WidgetTree","mstrmojo.ObjectBrowserDataProvider","mstrmojo.OBList","mstrmojo.FishEyeContainer","mstrmojo.SearchBox2","mstrmojo.Booklet","mstrmojo.IncFetch","mstrmojo.chart.model.enums.EnumDSSObjectType","mstrmojo.mstr.ui.IncFetchOBList","mstrmojo.mstr.EnumWebAPIErrorCodes","mstrmojo.vi.util.DIUtils")
	var R=mstrmojo.hash,b=mstrmojo.func,A=mstrmojo.string,N=mstrmojo.meta.TP,H="5CECE58CC1D549F890EB61C4DB2156A3",Y="E0CCB9CF22104A489CBE78D974AFD19E",U=mstrmojo.chart.model.enums.EnumDSSObjectType,M=mstrmojo.array,E=mstrmojo.dom,F=mstrmojo.vi.util.DIUtils,Q=F.DIConstants,d=function(n,o,g){var k=n.scrollableIncFetch,j=k?"mstrmojo.mstr.ui.IncFetchOBList":"mstrmojo.OBList",l={scriptClass:j,items:o.items,multiSelect:g}
	if(k){l.browseConfig={blockBegin:o.bb,blockCount:o.bc,totalSize:o.sz,folderLinksContextId:n.folderLinksContextId,rootFolderID:o.did,browsableTypes:n.browsableTypes,browsableViewMedias:n.browsableViewMedias,dataProvider:n.dataProvider}
	l.onwaitingChange=function(){if(n.booklet){n.booklet.set("waiting",this.waiting)
	}}
	}var h=mstrmojo.insert(l)
	h.render()
	return h
	},B=function(k,l,g){var j=mstrmojo.ObjectBrowser.widgetHandler||d
	return j(k,l,g)
	},P={success:function(j){var k=this.ob,h=j.items,l=k.pageCache[k.currentPage],g=l._w
	l.items=h
	g.set("items",h)
	this.ob=null
	this.item=null
	window.clearTimeout(k._btm)
	k.booklet.set("waiting",false)
	if(k.scrollableIncFetch&&g.scrollNode){g.initScroll()
	g.updateScrollbars()
	}},failure:function(g){window.alert(g.getResponseHeader("X-MSTR-TaskFailureMsg"))
	this.ob.booklet.set("waiting",false)
	}},X=function(m,l,j){var k=j?-1:1,h=m.pageCache.length,n
	for(n=m.currentPage+k
	n<h&&n>=0
	n+=k){var g=m.pageCache[n]
	if(g._k===l.k){return{steps:n-m.currentPage,cache:g}
	}}return null
	},D=function(m,k,j,n){var o=m.currentPage+1,h=m.pageCache.length,g
	for(g=o
	g<h
	g++){m.pageCache[g]._w.destroy()
	delete m.pageCache[g].items
	}m.pageCache=m.pageCache.slice(0,o)
	n._w=j
	n._k=k.k
	m.pageCache[o]=n
	m.cacheChange()
	},J=function(h){var g=mstrmojo.hash.walk("anc.items.0.items",h)
	this.set("canGoUp",!(!h.pf||!g))
	},K=function(l,k,m,j,h){if(!l.hasRendered){return 
	}delete l._btm
	var g
	if(!j){g=B(l,m,l.multiSelect)
	g.attachEventListener("change",l.id,"navigate")
	if(l.useDblSelect||l.useBothSglDblSelect){g.attachEventListener("dblclick",l.id,"dblselect")
	}}else{g=m._w
	}l.obList=g
	l.booklet.turn(g,h>0)
	window.setTimeout(function(){l.onBrowsing=false
	},300)
	if(!j){D(l,k,g,m)
	}l.set("currentFolder",m)
	l.set("currentPage",l.currentPage+h)
	l.updateUpButton(m)
	if(l.scrollableIncFetch&&g.scrollNode){g.initScroll()
	g.updateScrollbars()
	}},S=function(j,h,g){var k=X(j,h,false)
	k=k||X(j,h,true)
	if(!k){window.clearTimeout(j._btm)
	j._btm=window.setTimeout(function(){j.booklet.set("waiting",true)
	},300)
	g.ob=j
	g.item=h
	j.getDataProvider().fetchFolderContents(j,h,g)
	}else{K(j,h,k.cache,true,k.steps)
	}},C=function(h,j,k,g){S(h,{fid:h.pageCache[h.currentPage].did,blockBegin:j,searchPattern:k,recursive:g},P)
	},L={success:function(h){var j=this.ob
	if(j){window.clearTimeout(j._btm)
	if(!h.items){h.items=[{did:"empty",n:"("+mstrmojo.desc(2210)+")",t:"e"}]
	}var g=function l(m){var p=m.length,n
	for(n=0
	n<p
	n++){var o=m[n]
	if(o.did===H||o.did===Y){o.n=(o.did===H)?mstrmojo.desc(8112):mstrmojo.desc(9277)
	}if(o.items){g(o.items)
	}}}
	if(h.did===H||h.did===Y){h.n=(h.did===H)?mstrmojo.desc(8112):mstrmojo.desc(9277)
	if(h.anc&&h.anc.items){g(h.anc.items)
	}}if(h&&h.items&&j.browsableViewMedias){var k={}
	M.forEach(j.browsableViewMedias.split(","),function(m){k[parseInt(m,10)]=true
	})
	h.items=M.filter(h.items,function(m){return(m.t!==U.DssTypeDocumentDefinition)||k[m.dvm]
	})
	}if(h&&h.items&&mstrApp&&mstrApp.isSingleTier){h.items=M.filter(h.items,function(m){return(m.st!==772)
	})
	}if(j.isImportFromCube){h.items=M.filter(h.items,function(m){return(m.et!==Q.DSSExType.DSSEXDISPARK)
	})
	}if(h.did&&this.item.k!==h.did){this.item.k=h.did
	}K(j,this.item,h,false,1)
	this.ob=null
	this.item=null
	}},failure:function(g){this.ob.booklet.set("waiting",false)
	if(this.ob.onError){this.ob.onError(g)
	}else{if(g.getResponseHeader){mstrmojo.alert(g.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}else{var h=g.message
	if(g.code==mstrmojo.mstr.EnumWebAPIErrorCodes.MDSVR_E_NO_ID){h=this.ob.parent.title+": "+h
	}mstrmojo.alert(h)
	}}},complete:function(){if(this.ob){this.ob.onBrowsing=false
	}}},f=function(j){var h=j.pageCache.length,g
	for(g=0
	g<h
	g++){j.pageCache[g]._w.destroy()
	}j.pageCache=[]
	j.currentPage=-1
	j.cacheChange()
	},O=function(k,j,l){var g=k.onBrowseFolder
	if(g){g[0][g[1]](j)
	}if(j&&parseInt(j.acg,10)===33){return 
	}var h={}
	if(j){h.k=j.did
	h.fid=j.did
	}else{if(k.rootFolderID){h.k=k.rootFolderID
	h.fid=k.rootFolderID
	}else{if(k.rootFolderType){h.k=k.rootFolderType
	h.fty=k.rootFolderType
	}else{if(k.folderLinksContextId){h.k=k.folderLinksContextId
	}}}}S(k,h,b.wrapMethods(l,R.copy(L)))
	},a=function(m,g,j){if(!j){return g
	}var k=m.showCompletePath,p=g[0],l,h
	while(p){var o
	for(o=j.length-1
	o>=0
	o--){if(p.did===j[o].did){j.splice(o,1)
	p._isSc=true
	}}h=p
	p._open=true
	p=p.items
	p=p&&p[0]
	if(!p){h.lastLeaf=true
	}}if(!k){p=g[0]
	while(p){if(p._isSc){g[0]=p
	break
	}p=p.items
	p=p&&p[0]
	}}return g.concat(j)
	},Z=function(h,g,j){h._naviInfo=a(h,g,j)
	}
	mstrmojo.ObjectBrowser=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.ObjectBrowser",rootFolderType:null,rootFolderID:null,sId:null,closeOnSelect:true,browsableTypes:null,browsableViewMedias:null,includeObjectDesc:false,closeable:true,fishEyeVisible:false,searchVisible:true,upButtonVisible:false,currentFolder:null,pageCache:[],currentPage:-1,blockCount:50,canGoUp:true,folderLinksContextId:null,minSearchLength:2,showCompletePath:true,multiSelect:false,onCloseCB:null,onSelectCB:null,onBrowseFolder:null,scrollableIncFetch:false,useBothSglDblSelect:false,displaySaveLabel:false,useOldSearch:false,getDataProvider:function(){if(!this.dataProvider){this.dataProvider=mstrmojo.insert({scriptClass:"mstrmojo.ObjectBrowserDataProvider"})
	}return this.dataProvider
	},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},children:[{scriptClass:"mstrmojo.HBox",alias:"titleBar",cssClass:"mstrmojo-OB-titleTable",children:[{alias:"saveLabel",scriptClass:"mstrmojo.Label",cssClass:"msrmojo-save-label",text:mstrmojo.desc(3178,"Save in:"),bindings:{visible:"this.parent.parent.displaySaveLabel"}},{alias:"title",scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-FormatEditor-DropDownButton",cssText:"margin:0px
	",popupRef:{scriptClass:"mstrmojo.Popup",alias:"popup",contentNodeCssClass:"mstrmojo-OBNavigatorPopup",cssText:"position:relative
	",slot:"popupNode",locksHover:true,onOpen:function(){var g=this.opener.parent.parent,k=this.tree,j=g._naviInfo,h=this.parent.parent.parent.extraDDItems
	if(k.items!==j){k._pup=this
	this.ob=g
	if(h){M.forEach(h,function(l){l.isExtra=true
	})
	j=j.concat(h)
	}k.set("items",j)
	}if(g.getRecents&&!mstrApp.isSingleTier){g.getRecents(this)
	}},children:[{alias:"tree",scriptClass:"mstrmojo.WidgetTree",itemIdField:"did",itemFunction:function(l,g,h){var k=mstrmojo.WidgetTree.prototype.itemFunction(l,g,h)
	if(l.isExtra){if(l.cssClass){k.cssClass=l.cssClass
	}k.onmousedown=l.onmousedown||mstrmojo.emptyFn
	return k
	}if(l._open){k.state=1
	}k._ll=!!l.lastLeaf
	k._pup=h._pup
	k.onmousedown=function(m){var n=mstrmojo.dom.eventTarget(m.hWin,m.e),o=this._pup
	if(n===this.domNode||n===this.textNode){if(!this._ll){O(o.ob,this.data)
	}o.close()
	}}
	k.markupMethods=R.copy(k.markupMethods)
	k.markupMethods.onstateChange=function(){var m=this.data.items?this.state:0
	this.stateNode.className="mstrmojo-TreeNode-state "+({0:"closed",1:"opened",2:"leaf"}[m]||"closed")
	this.itemsContainerNode.style.display=(m===1)?"block":"none"
	}
	k.useRichTooltip=true
	var j=k.postBuildRendering
	k.postBuildRendering=function(){if(j){j.call(k)
	}if(k.textNode.parentNode.clientWidth){k.textNode.style.width=(k.textNode.parentNode.clientWidth-20)+"px"
	}}
	k.premouseover=function(o){if(this.useRichTooltip){var n=this.textNode
	if(n.clientWidth<n.scrollWidth){var m=E.position(n)
	this.richTooltip={areaId:this.id,cssClass:"vi-regular vi-tooltip-C",contentNodeCssClass:"regular-unitlist-tooltips",posType:mstrmojo.tooltip.POS_TOPLEFT,content:A.encodeHtmlString(this.data[this.itemDisplayField]),top:m.y-2,left:m.x+m.w+6}
	}else{this.richTooltip=null
	}mstrmojo.dom.stopPropogation(o.hWin,o.e)
	}return true
	}
	return k
	}}]}},{alias:"upButton",scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-OBListItemIcon up",title:mstrmojo.desc(1152,"Up One Level"),onclick:function(){this.parent.parent.goUp()
	},bindings:{enabled:"this.parent.parent.canGoUp",visible:"this.parent.parent.upButtonVisible"}},{alias:"closebtn",scriptClass:"mstrmojo.Button",iconClass:"mstrmojo-OBCloseButton",title:mstrmojo.desc(2102,"Close"),bindings:{visible:"this.parent.parent.closeable"},onclick:function(){this.parent.parent.close()
	}}]},{alias:"fishEye",scriptClass:"mstrmojo.FishEyeContainer",cssText:"width:100%",bindings:{visible:"this.parent.fishEyeVisible"}},{alias:"searchUpBar",scriptClass:"mstrmojo.HBox",cssClass:"searchBox",children:[{alias:"obSearchBox",scriptClass:"mstrmojo.SearchBox2",cssClass:"mstrmojo-charcoalbox mstrmojo-dxsprite",cssText:"margin: 3px 0
	",contentWidget:mstrmojo.all.obList,taskId:"searchMetadata",searchIncFetch:true,enableMatchCase:false,forceResetCache:true,bindings:{minSearchLength:"this.parent.parent.minSearchLength",quickSearch:"this.parent.parent.quickSearch"},serverRequest:function(g,h){this.parent.parent.getDataProvider().serverRequest(g,h)
	},preFetch:function(){this.objectTypes=this.parent.parent.browsableTypes||this.objectTypes
	this.parent.parent.booklet.set("waiting",true)
	},postFetch:function(){this.parent.parent.booklet.set("waiting",false)
	},postBuildRendering:function c(){if(this._super){this._super()
	}this.inputNode.setAttribute("placeholder"," "+mstrmojo.desc(12666,"Search..."))
	},onUpdateSearchParams:function I(j){var h=this.parent.parent,g=h.sId
	if(g){j.sessionState=g
	}if(h.useOldSearch){j.quickSearch=0
	j.nameWildcards=1
	j.sortKey=6
	}}}],bindings:{visible:"this.parent.searchVisible"}},{scriptClass:"mstrmojo.Booklet",cssClass:"mstrmojo-OB-booklet",alias:"booklet",hasAnimation:false,bindings:{scrollableIncFetch:"this.parent.scrollableIncFetch"}},{alias:"obIncFetch",scriptClass:"mstrmojo.IncFetch",height:"17px",cssText:"height:0px
	overflow:hidden
	",visible:false,np:0,cp:0,ds:{f:mstrmojo.desc(4046,"First"),p:mstrmojo.desc(1058,"Previous"),n:mstrmojo.desc(1059,"Next"),l:mstrmojo.desc(4049,"Last"),pgs:mstrmojo.desc(5972,"## of ### pages"),gt:mstrmojo.desc(5878,"Go to:"),v:mstrmojo.desc(6079,"This field should be # between ## and ###.")},onvisibleChange:function(j){var l=parseInt(this.height,10),g=this.np>1,k={target:this.domNode,props:{height:{start:(g?0:l),stop:(g?l:0),suffix:"px"}},onEnd:function(){if(g){this.target.style.overflow="visible"
	}}},m=new mstrmojo.fx.AnimateProp(k)
	this.domNode.style.overflow="hidden"
	mstrmojo.css.toggleClass(this.parent.domNode,"show-inc-fetch",this.visible)
	m.play()
	},onifsChange:function(g){var h=this.np
	mstrmojo.hash.copy(g.value,this)
	if(this.np>1){this.children=null
	this.refresh()
	}if((h<=1&&this.np>1)||(h>1&&this.np<=1)||(h===0&&this.np>0)){this.set("visible",this.np>1)
	}this.cssText=""
	}}],destroy:function e(){f(this)
	if(this._super){this._super()
	}},postBuildRendering:function(){if(this._super){this._super()
	}if(this.fishEye&&this.fishEyeVisible){this.fishEye.attachEventListener("selectedIndexChange",this.id,"onFishEyeChange")
	}var j=this.searchUpBar
	if(j&&j.obSearchBox&&this.searchVisible){this.obSearchBox=this.searchUpBar.obSearchBox
	this.obSearchBox.attachEventListener("itemsChange",this.id,"onSearchItemsChange")
	var g=this.obSearchBox.contentWidget||this.obSearchBox
	if(!this.scrollableIncFetch){g.attachEventListener("ifsChange",this.id,function(k){if(!this.scrollableIncFetch){this.obIncFetch.set("ifs",k.value)
	}})
	}}if(!this.scrollableIncFetch&&this.obIncFetch){var h=this.obIncFetch
	h.attachEventListener("fetch",this.id,function(k){h.cp=k.v
	h.children=null
	h.refresh()
	C(this,(k.v-1)*this.blockCount+1,this.searchVisible?this.obSearchBox.inputNode.value:"",1)
	})
	}mstrmojo.css.addClass(this.domNode,"mstrmojo-ObjectBrowser")
	},onSearchItemsChange:function(h){var j=h.value,g=this.pageCache[this.currentPage]._w
	if(!j||j.length===0){j=[{did:"empty",n:"("+mstrmojo.desc(2210,"")+")",t:"e"}]
	}else{if(this.browsableViewMedias){var k={}
	M.forEach(this.browsableViewMedias.split(","),function(l){k[parseInt(l,10)]=true
	})
	j=M.filter(j,function(l){return(l.t!==U.DssTypeDocumentDefinition)||k[l.dvm]
	})
	}}g.set("items",j)
	},navigate:function(p){var g=p.src,q=g.selectedItem,j=this.multiSelect,n=j&&g.getSelectedItems(),o=this,h=p.added&&p.added.length,l=p.removed&&p.removed.length,k=j?n.length===1&&(!l||h):!!q
	if(k&&q.did==="empty"){return 
	}if(k&&parseInt(q[N],10)===8){if(!this.onBrowsing){this.onBrowsing=true
	O(this,q)
	}}else{if((q&&(!this.useDblSelect||this.useBothSglDblSelect))||n){this.select(j?n:q)
	}}},browseFolder:function(g,h){O(this,{did:g,n:h})
	},onFishEyeChange:function(g){this.goToPage(g.value)
	},goToPage:function(g){if(g<this.pageCache.length&&g!==this.currentPage){var j=g>this.currentPage,h=this.pageCache[g]
	this.set("currentPage",g)
	this.booklet.turn(h._w,j)
	this.set("currentFolder",h)
	J.call(this,h)
	}},oncurrentPageChange:function(g){if(this.fishEye){this.fishEye.setSelectedIndex(g.value)
	}var h=this.pageCache[this.currentPage]
	this.titleBar.title.set("text",mstrmojo.string.encodeHtmlString(h.n))
	if(this.searchVisible&&this.obSearchBox){this.obSearchBox.set("rootCacheItems",h.items||[])
	this.obSearchBox.set("totalSize",h.sz)
	this.obSearchBox.set("rootID",h.did)
	this.obSearchBox.clearSearch()
	}if(!this.scrollableIncFetch&&this.obIncFetch){this.obIncFetch.set("ifs",{np:Math.floor(h.sz/h.bc)+((h.sz%h.bc>0)?1:0),cp:Math.floor(h.bb/h.bc)+((h.bb%h.bc>0)?1:0)})
	}},cacheChange:function(){if(this.fishEye&&this.fishEyeVisible){this.fishEye.setItems(this.pageCache)
	}},browse:function(h,g){R.copy(h,this)
	if(this.searchVisible&&this.obSearchBox){this.obSearchBox.clear()
	}f(this)
	O(this,undefined,g)
	},close:function(){var h=this.ctx||this,g=h.onCloseCB
	if(g){g[0][g[1]]()
	}h.set("visible",false)
	},select:function(h){var g=this.onSelectCB
	if(g){g[0][g[1]](h)
	}if(this.closeOnSelect){this.close()
	}},dblselect:function W(h){var j=h&&h.src.selectedItem
	if(!j||(j&&j.did==="empty")||j[N]===8){return 
	}if(this.useBothSglDblSelect){var g=this.onDblSelectCB
	if(g){g[0][g[1]](j)
	}if(this.closeOnSelect){this.close()
	}}else{this.select(j)
	}},goUp:function(){if(this.canGoUp){O(this,{did:this.currentFolder.pf})
	}},updateUpButton:function G(g){J.call(this,g)
	},oncurrentFolderChange:function(g){var h=g.value
	Z(this,h.anc.items,h.sc)
	},refreshContent:function(g){C(this,g)
	},onError:null,onheightChange:function(){var g=["titleBar","fishEye","searchUpBar","obIncFetch"],k=0,j
	for(j in g){k+=parseInt(this[g[j]].domNode.offsetHeight,10)
	}this.booklet.set("height",parseInt(this.height,10)-k+"px")
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.registry","mstrmojo.boxmodel","mstrmojo.Popup","mstrmojo.MenuItem","mstrmojo.Box")
	mstrmojo.requiresClsP("mstrmojo.express.ui","SubmenuEditor","SubtotalMenuEditor")
	mstrmojo.requiresDescs(1018)
	var F="mstrXtabCellMenu",Q="mstrmojo.all['"+F+"'].selectedData",G="mstrmojo.all['"+F+"'].xtab",H="mstrmojo-InteractiveButton",J="mstrmojo.Box",B="mstrmojo-Menu-Box",I="mstrmojo.MenuItem"
	function M(X,S){var W=mstrmojo.all[F],U=W.xtab,R=[W.selectedData].concat(S||[])
	W.close()
	U[X].apply(U,R)
	}function L(){M("link",[this.index])
	}function A(U,X,W,R){var S={scriptClass:I,text:U,iconClass:"mstrmojo-oivmSprite "+X,cssClass:H,onclick:W}
	if(R){S.bindings=R
	}return S
	}function C(S,W,U){var R=A(S,"tbPivot"+W,function(){M("pivot",[U])
	})
	R.bid=U
	return R
	}function K(S,U,R){return A(S,"tbSort"+U,function(){M("sort",[(R==="true")])
	},{selected:"mstrmojo.all['"+F+"Sort'].so === "+R})
	}function P(W,U,S){if(!W){return null
	}var R=U.model.getCellDrillsInfo(S)
	if(!R||!R.k){return null
	}return A(mstrmojo.desc(183,"Drill to")+" "+(R.n||""),"tbDrill",function(){M("drill")
	})
	}function O(R,U,S){return A(R,"tbDerivedMetric"+U,function(){M("derivedMetric",[S])
	})
	}mstrmojo.XtabCellMenu=mstrmojo.registry.ref({id:F,slot:"popupNode",scriptClass:"mstrmojo.Popup",cssClass:"mstrmojo-Menu",shadowNodeCssClass:mstrmojo.dom.isIE7||mstrmojo.dom.isIE8?"mstrmojo-Menu-shadow":"",contentNodeCssClass:"mstrmojo-Menu-content",autoCloses:false,locksHover:true,disposable:false,derivedMetricOptions:null,updatePopupConfig:function E(Z){Z=Z||{}
	var f=this.xtab=Z.xtab,j
	this.selectedNode=Z.td
	var W=this.selectedData=Z.data||(f&&Z.td&&f.getCellForNode(Z.td))
	this.onClose=Z.onClose
	var d=this.sortOptions,R=((W&&W.at)||0)&8,X=W&&(W.mix!==undefined&&W._e&&W._e.otp===4)
	d.set("visible",R||X)
	d.children[0].set("visible",R)
	d.children[1].set("visible",R)
	d.children[2].set("visible",R||X)
	d.set("so",W&&W.so)
	d.children[2].set("onclick",function(){M("advSort",[W.axis])
	})
	d=this.pivotOptions
	var h=((W&&W.at)||0)&16
	if(h){var U
	for(U=0
	U<d.children.length
	U++){var a=d.children[U]
	a.set("visible",f.model.isPvtButtonVisible(W,a.bid))
	}}d.set("visible",h)
	d=this.linkOptions
	j=f.model.getCellLinksInfo(W)
	d.set("visible",(((W&&W.at)||0)&4)&&(j&&j.links&&j.links.length>0))
	d=this.drillOptions
	var e=((W&&W.at)||0)&1,g=P(e,f,W)
	d.set("visible",e&&g)
	d.set("children",[g])
	d=this.derivedMetricOptions
	var Y=mstrApp.isVI&&W&&W.hasOwnProperty("mix")
	if(Y){d.children[0].set("visible",Y)
	d.children[1].set("visible",W.um)
	}d.set("visible",Y)
	d=this.subtotalsOptions
	var b=f.model.getCellTitleInfo(W),S=W&&!W.hasOwnProperty("mix")&&b.isSrcTitle&&W.otp!==-1
	d.set("visible",S)
	if(S){d.set("children",[this.getSubtotalMenuCfg(mstrmojo.desc(6193,"Show Totals"))])
	d.showSubtotalsBtn.set("xtab",f)
	d.showSubtotalsBtn.set("cell",this.selectedData)
	}this.cfg=Z
	},getSubtotalMenuCfg:function N(R){return{scriptClass:"mstrmojo.express.ui.SubmenuEditor",text:R,cssClass:H,alias:"showSubtotalsBtn",contentScriptClass:"mstrmojo.express.ui.SubtotalMenuEditor",parentID:F}
	},nudge:function D(){var Z=this.cfg,Y=Z.opener,g=Y&&Y.domNode&&mstrmojo.dom.position(Y.domNode),j=g.y||0,b=Z.cmPos,d,a,f
	if(b){d=b.x
	a=b.y-j
	}else{var S=Z.el||(Z.btn&&Z.btn.domNode)
	f=mstrmojo.boxmodel.offset(S,Y&&Y[this.slot])
	d=f.left
	a=f.top+((S&&S.offsetHeight)||0)
	}var X=mstrmojo.dom.windowDim(),U=this.domNode
	var W=U.offsetHeight,c=X.h-j
	f=Math.max(0,a+W-c)
	this.set("top",a-f+"px")
	var e=U.offsetWidth,R=X.w
	f=Math.max(0,d+e-R)
	this.set("left",d-f+"px")
	},subtotalsOptions:null,children:[{id:F+"Links",alias:"linkOptions",scriptClass:J,cssClass:B,visible:false,children:[{scriptClass:"mstrmojo.WidgetList",autoHide:true,itemFunction:function(S,R){if(R===0){mstrmojo.requiresCls(I)
	}return new mstrmojo.MenuItem({text:S.n||S.url||(S.target&&(S.target.n||S.target.did)),cssClass:H,cssText:(R===this.itemsInfo&&this.itemsInfo.di)?"font-weight: bold":"",index:R,onclick:L})
	},bindings:{itemsInfo:"this.parent.parent.visible ? "+G+".model.getCellLinksInfo("+Q+") : null",items:"this.itemsInfo.links"}}]},{id:F+"Drill",alias:"drillOptions",scriptClass:J,cssClass:B,visible:false},{id:F+"Sort",alias:"sortOptions",scriptClass:J,cssClass:B,children:[K(mstrmojo.desc(7974,"Sort Ascending"),"Asc","true"),K(mstrmojo.desc(7975,"Sort Descending"),"Desc","false"),A(mstrmojo.desc(11099,"Advanced Sort ..."),"tbAdvSort",mstrmojo.emptyFn)]},{id:F+"Pivot",alias:"pivotOptions",scriptClass:J,cssClass:B,children:[C(mstrmojo.desc(11110,"Move to Beginning"),"Beginning","b"),C(mstrmojo.desc(5362,"Move Left"),"Left","l"),C(mstrmojo.desc(5363,"Move Right"),"Right","r"),C(mstrmojo.desc(7978,"Move Up"),"Up","u"),C(mstrmojo.desc(7979,"Move Down"),"Down","d"),C(mstrmojo.desc(7976,"Move to Columns"),"Cols","2"),C(mstrmojo.desc(7977,"Move to Rows"),"Rows","1")]},{id:F+"DerivedMetric",alias:"derivedMetricOptions",scriptClass:J,cssClass:B,children:[O(mstrmojo.desc(11649,"Add Derived Metric"),"Add","add"),O(mstrmojo.desc(11648,"Edit Derived Metric"),"Edit","edit")]},{id:F+"Subtotals",alias:"subtotalsOptions",scriptClass:J,cssClass:B,visible:true}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.editors.controls.ListPreviewButton","mstrmojo.ui.editors.controls.ValidationTextBox","mstrmojo.EditableLabel")
	var A=mstrmojo.css,E=mstrmojo.validation.STATUSCODE
	mstrmojo.ui.editors.controls.ComboBox=mstrmojo.declare(mstrmojo.ui.editors.controls.ListPreviewButton,null,{scriptClass:"mstrmojo.ui.editors.controls.ComboBox",markupMethods:{onenabledChange:function D(){this.txtLabel.set("enabled",this.enabled)
	this.txtLabel.set("editOnClick",this.enabled)
	A.toggleClass(this.domNode,"disabled",!this.enabled)
	}},init:function B(F){this._super(F)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-ui-ComboBox")
	},updatePreview:function C(){this.txtLabel.set("value",this.selectedValue||"")
	},updateSelection:function(){this.set("selectedValue",this.txtLabel.value)
	},validateTextInput:function(F){return true
	},txtLabel:null,children:[{scriptClass:"mstrmojo.ui.editors.controls.ValidationTextBox",alias:"txtLabel",slot:"previewNode",constraints:{validator:function(){if(!this.parent.validateTextInput(this.value)){return{id:this.id,code:E.INVALID,msg:""}
	}}},onValid:function(){this.parent.updateSelection()
	}}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.editors.controls.ListPreviewButton","mstrmojo.css","mstrmojo.dom")
	var C,E=mstrmojo.css,D=mstrmojo.dom
	var K=mstrmojo.declare(mstrmojo.ui.PopupList,null,{getItemMarkup:function H(L){if(!C){C=this._super(L).replace(">{@en@n}<","><div>{@en@n}</div><")
	}return C
	},getItemProps:function G(N,L){var M=this._super(N,L)
	M.addCls("bst"+L)
	if(L){M.title=N.n
	M.n=""
	}else{M.tt=""
	}return M
	}})
	mstrmojo.ui.editors.controls.LineStyleButton=mstrmojo.declare(mstrmojo.ui.editors.controls.ListPreviewButton,null,{scriptClass:"mstrmojo.ui.editors.controls.LineStyleButton",itemValueField:"id",showNoneOption:true,showThickOption:true,markupMethods:{onenabledChange:function F(){E.toggleClass(this.domNode,"disabled",!this.enabled)
	}},init:function J(M){this._super(M)
	var L=["mstrmojo-ui-LineStyle"]
	if(!this.showThickOption){L.push("no-thick")
	}if(!this.showNoneOption){L.push("no-none")
	}E.addWidgetCssClass(this,L)
	},getListCfg:function I(){var L=this.items||[{n:mstrmojo.desc(2258,"None"),id:"none"},{n:mstrmojo.desc(2259,"Dashed"),id:"1pt dashed"},{n:mstrmojo.desc(2260,"Dotted"),id:"1pt dotted"},{n:mstrmojo.desc(2262,"Thin"),id:"1pt solid"},{n:mstrmojo.desc(2264,"Thick"),id:"2pt solid"}]
	return new K({selectionPolicy:"reselect",items:L})
	},postBuildRendering:function A(){this.borderStyleNode=this.previewNode.appendChild(document.createElement("div"))
	return this._super()
	},getSelectedValue:function(){return this.selectedValue
	},updatePreview:function B(){var O=this.borderStyleNode,M=this.getSelectedValue().split(" "),L=this.selectedValue==="conflict"
	E.toggleClass(this.previewNode,"conflict",L)
	if(O&&!L){var N=O.style
	if(M.length===1){N.borderTopStyle=M[0]
	if(M[0]==="none"){N.position="static"
	O.innerHTML=mstrmojo.desc(2258,"None")
	O.classList.add("ellipsis")
	}}else{N.borderTopWidth=M[0]
	N.borderTopStyle=M[1]
	N.position=""
	O.innerHTML=""
	}}else{if(L){D.emptyNode(O)
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.desc","mstrmojo.css","mstrmojo.dom","mstrmojo.Editor","mstrmojo.Button","mstrmojo.Label","mstrmojo.Box","mstrmojo.CheckBox","mstrmojo.vi.enums.EnumFeatures","mstrmojo.vi.ui.rw._SupportTabNav","mstrmojo.vi.util.A11yUtility","mstrmojo.ui.CheckList","mstrmojo.ui.IconTooltipCheckList","mstrmojo.ui.Pulldown","mstrmojo.ui.IconTooltipPopupList","mstrmojo.ui.ButtonBar")
	mstrmojo.requiresDescs(16844,17525,16845,17528,7562,17318,16842,16843,5445,17505,17506,12048,2879,6,7,17520,1345,34,5875,29,32,6213,15581,15582,5876,35,15583,17519,17521,17522,17523,16851,19186,19159,15160,16852,18333,17526,17527,17524,17518,5212,5592,2140,19834,19835)
	var L=mstrmojo.desc,AL=mstrmojo.vi.enums.EnumFeatures,S=mstrmojo.hash,m=mstrmojo.Button.newWebButton,n=mstrmojo.vi.util.A11yUtility,AB=mstrmojo.Enum_Keys,I={ALL_CHAPTERS:0,CURRENT_CHAPTER:1,CURRENT_PAGE:4},AJ={SUMMARY:1,VISUALIZATIONS:2,BOTH:3},R={WIDTH:"11",HEIGHT:"8.5"},g={AUTO:-1,PORTRAIT:0,LANDSCAPE:1},AK={NONE:0,AFTER_EVERY_CHAPTER:1,ON_EVERY_PAGE:2,BOTH:3},k={NONE:0,ENLARGE:1},M={DISABLED:0,ENABLED:1},l={NONE:0,ROW:1,COL:2,BOTH:3}
	var C={range:I.CURRENT_PAGE,overviewViz:AJ.SUMMARY,paperHeight:R.HEIGHT,paperWidth:R.WIDTH,pageOrientation:g.LANDSCAPE,mode:0,keepViewport:false,enableFooter:true,enableHeader:true,enableToC:false,pdfPwd:"",filterSummary:AK.AFTER_EVERY_CHAPTER,gridPagingMode:k.NONE,gridHorizontalPagination:M.DISABLED,gridRepeatHeader:l.BOTH}
	var O={overviewViz:AJ.VISUALIZATIONS}
	var e={MIN_WIDTH:528,MIN_HEIGHT:528,MAX_WIDTH:3000,MAX_HEIGHT:3000}
	function w(){if(!window.mstrApp){return 
	}return S.walk("rootCtrl.docCtrl.model",mstrApp)
	}function U(){var AM=w()
	return AM&&AM.getVizContentPanel()
	}function G(){var AN=U()
	if(!AN){return 
	}if(mstrApp.isLayoutModePreview()){return 
	}var AM=S.walk("parent.containerNode",AN)
	if(!AM){return 
	}var AO=AM.getBoundingClientRect()
	return{width:AO.width,height:AO.height}
	}function x(AN){if(!AN){return false
	}var AO=AN.width,AM=AN.height
	return e.MIN_WIDTH<=AO&&AO<=e.MAX_WIDTH&&e.MIN_HEIGHT<=AM&&AM<=e.MAX_HEIGHT
	}function X(){var AR={},AO=this.getGeneralBox().content,AQ=this.getGridBox().content,AP=this.getLayoutBox().content,AN=this.getContentBox().content
	AR.range=AO.exportRange.pulldown.getSelectedItem().v
	AR.overviewViz=!this.showsGeneralSettings?AJ.VISUALIZATIONS:AO.contentMode.pulldown.getSelectedItem().v
	AR.pageOrientation=AP.pageOrientation.tabs.getSelectedItems()[0].v
	AR.mode=0
	AR.enableHeader=Number(AN.pdfHeader.checked)
	AR.enableFooter=Number(AN.pdfFooter.checked)
	AR.enableToC=Number(this.showsToCSettings&&AN.pdfToC.checked)
	AR.paperWidth=AP.paperSize.sizeOptions.getSelectedItem().epw
	AR.paperHeight=AP.paperSize.sizeOptions.getSelectedItem().eph
	if(this.showsScaleSettings&&AN.keepViewport.visible&&AN.keepViewport.checked){var AM=G()
	if(x(AM)){AR.viewportWidth=AM.width
	AR.viewportHeight=AM.height
	}}if(this.showsFilterSettings&&AN.filterSummary.checked){AR.filterSummary=AN.filterSummaryMode.getSelectedItem().v
	}else{AR.filterSummary=AK.NONE
	}AR.gridHorizontalPagination=AQ.horizontalPagination.selectedIndex
	AR.gridRepeatHeader=AQ.repeatHeader.checked?l.BOTH:l.COL
	AR.gridPagingMode=AQ.expandGrid.enabled&&AQ.expandGrid.checked?k.ENLARGE:k.NONE
	AR.pdfPwd=""
	AR.fromShowData=!!this.fromShowData
	return AR
	}function AH(AQ){var AN=this.getGeneralBox().content,AP=this.getGridBox().content,AO=this.getLayoutBox().content,AM=this.getContentBox().content
	this.exOpts=AQ
	AN.exportRange.pulldown.set("selectedIndex",Q(E,AQ.range))
	AN.contentMode.pulldown.selectItemByField("v",AQ.overviewViz)
	AO.paperSize.sizeOptions.set("selectedIndex",Q(P,v(AQ.paperWidth,AQ.paperHeight),z))
	AO.pageOrientation.tabs.set("selectedIndex",Q(F,AQ.pageOrientation))
	AM.pdfHeader.set("checked",AQ.enableHeader)
	AM.pdfFooter.set("checked",AQ.enableFooter)
	AM.pdfToC.set("checked",AQ.enableToC)
	if(AQ.filterSummary>0){AM.filterSummary.set("checked",true)
	AM.filterSummaryMode.selectItemByField("v",AQ.filterSummary)
	}else{AM.filterSummary.set("checked",false)
	}AP.horizontalPagination.set("selectedIndex",AQ.gridHorizontalPagination?M.ENABLED:M.DISABLED)
	AP.repeatHeader.set("checked",AQ.gridRepeatHeader===l.BOTH)
	}var E=[{n:L(17318,"This page"),v:I.CURRENT_PAGE},{n:L(16842,"This chapter"),v:I.CURRENT_CHAPTER},{n:L(16843,"Entire dossier"),v:I.ALL_CHAPTERS}]
	var D=[{n:L(17505,"All visualizations together"),v:AJ.SUMMARY,ttp:L(19835,"Export the content currently displayed on a single page. For visualizations that require scrolling, like grids, this option will only export some of your data."),ctxt:{posType:"TL"}},{n:L(17506,"Each visualization separately"),v:AJ.VISUALIZATIONS,ttp:L(19834,"Export each visualization on a separate page. Grids may require more than one page depending on the number of rows and columns."),ctxt:{posType:"TL"}},{n:L(12048,"Both"),ttpDisabled:true,v:AJ.BOTH}]
	var p=[{n:L(17519,"Scale to page width"),v:M.DISABLED,ttp:L(17521,"The grid will be scaled to fit the page width. Multiple pages may be needed to display all the rows of data."),iconCss:"info-icon",ctxt:{posType:"TL"}},{n:L(17522,"Extend columns over pages"),v:M.ENABLED,ttp:L(17523,"Grids with several columns that cannot fit one page will be split into multiple pages. Set the attribute columns to repeat on each page to provide additional context."),iconCss:"info-icon",ctxt:{posType:"TL"}}]
	var z=4
	var P=[{n:"A3",title:L(1345,'A3 11.69" x 16.54"'),eph:"11.69",epw:"16.54"},{n:"A4",title:L(34,'A4 8.27" x 11.69"'),eph:"8.27",epw:"11.69"},{n:"A5",title:L(5875,'A5 5.83" x 8.27"'),eph:"5.83",epw:"8.27"},{n:"B4",title:L(15581,'B4 13.9" x 9.8"'),eph:"13.9",epw:"9.8"},{n:"B5",title:L(15582,'B5 9.8" x 6.9"'),eph:"9.8",epw:"6.9"},{n:"Letter",title:L(29,'Letter 8.5" x 11"'),eph:"8.5",epw:"11"},{n:"Legal",title:L(32,'Legal 8.5" x 14"'),eph:"8.5",epw:"14"},{n:"Ledger",title:L(6213,'Ledger 11" x 17"'),eph:"11",epw:"17"},{n:"Executive",title:L(5876,'Executive 7.25" x 10.5"'),eph:"7.25",epw:"10.5"},{n:"Folio",title:L(35,'Folio 8.5" x 13"'),eph:"8.5",epw:"13"},{n:"Statement",title:L(15583,'Statement 5.5" x 8.5"'),eph:"5.5",epw:"8.5"}]
	var N=[{n:L(17527,"Filter summary on each PDF page"),v:AK.ON_EVERY_PAGE},{n:L(17524,"All filters after each chapter"),v:AK.AFTER_EVERY_CHAPTER},{n:L(12048,"Both"),v:AK.BOTH}]
	var AD=[{n:L(17527,"Filter summary on each PDF page"),v:AK.ON_EVERY_PAGE},{n:L(17518,"All filters at the end"),v:AK.AFTER_EVERY_CHAPTER},{n:L(12048,"Both"),v:AK.BOTH}]
	var F=[{n:L(6,"Portrait"),v:g.PORTRAIT,css:"portrait"},{n:L(7,"Landscape"),v:g.LANDSCAPE,css:"landscape"}]
	function v(AN,AM){if(parseFloat(AN)<parseFloat(AM)){return{eph:AN,epw:AM}
	}return{eph:AM,epw:AN}
	}function Q(AN,AO,AQ){var AM=AQ||0
	if(typeof AO==="object"){var AP=S.keyarray(AO)
	S.forEach(AN,function(AS,AR){if(S.equals(S.copyProps(AP,AS),AO)){AM=AR
	return false
	}})
	}else{S.forEach(AN,function(AS,AR){if(AS.v===AO){AM=AR
	return false
	}})
	}return parseInt(AM,10)
	}function A(AN){var AM=Array.prototype.slice.call(arguments,1)
	return[{scriptClass:"mstrmojo.Label",cssClass:"title",cssDisplay:"",text:AN},{scriptClass:"mstrmojo.Box",cssClass:"content",alias:"content",cssDisplay:"",children:AM}]
	}function H(){var AR=Q(E,I.CURRENT_PAGE),AO=this.unitsInfo.vizCount,AN=this.unitsInfo.nonVizCount,AS=AO===1&&AN===0||AO===0,AM="this.parent.exportRange.pulldown.selectedIndex"
	return{scriptClass:"mstrmojo.Box",alias:"general",cssClass:"form general",visible:this.showsGeneralSettings,children:A(L(16844,"Export Settings"),{scriptClass:"mstrmojo.Box",alias:"exportRange",cssClass:"mstrmojo-Pulldown-Box",cssDisplay:"",children:[{scriptClass:"mstrmojo.Label",cssDisplay:"",text:L(7562,"Range")},{scriptClass:"mstrmojo.ui.Pulldown",cssDisplay:"",alias:"pulldown",selectedIndex:Q(E,this.exOpts.range),items:E,onselectedIndexChange:function AP(){var AY=this.parent.parent.parent.parent.parent,AX=this.getSelectedItem().v,AZ=AX===I.CURRENT_PAGE?AD:N,AV=AY.getContentBox(),Aa=AV.content.filterSummaryMode,AU=Aa.selectedIndex
	Aa.set("items",AZ)
	Aa.set("selectedIndex",AU)
	if(AY.showsScaleSettings){var AW=AV.content.keepViewport
	if(!AW.userModified){var AT=U()
	AW.set("checked",AX===I.CURRENT_PAGE&&AT&&AT.isManualMode())
	}}this.parent.parent.contentMode.pulldown.set("selectedIndex",Q(D,b.call(AY,AX)))
	}}]},{scriptClass:"mstrmojo.Box",alias:"contentMode",cssClass:"mstrmojo-Pulldown-Box",cssDisplay:"",bindings:{visible:"!("+AM+"==="+AR+"&&"+AS+")"},children:[{scriptClass:"mstrmojo.Label",cssDisplay:"",text:L(5445,"Contents")},{scriptClass:"mstrmojo.ui.Pulldown",alias:"pulldown",cssDisplay:"",selectedIndex:Q(D,this.exOpts.overviewViz),items:D,getPopupListConfig:function AQ(){var AT=mstrmojo.ui.Pulldown.prototype.getPopupListConfig.call(this)
	AT.scriptClass="mstrmojo.ui.IconTooltipPopupList"
	AT.showTooltipForLargeText=false
	AT.tooltipOffset=5
	AT.tooltipOffsetX=-8
	AT.tooltipOrientation="vertical"
	AT.getItemProps=function AU(AX,AV){var AW=mstrmojo._IsList.getItemProps.call(this,AX,AV)
	AW.style=AX.iconCss||""
	AW.ttp=AX.ttp||""
	AW.ctxt=AX.ctxt||""
	return AW
	}
	return AT
	},onselectedIndexChange:function(){var AW=this.parent.parent.parent.parent.parent,AV=this.getSelectedItem().v
	if(AW.showsScaleSettings){var AT=AW.getContentBox(),AU=AT.content.keepViewport
	AU.set("isValidContentMode",AV!==AJ.VISUALIZATIONS)
	}}}]})}
	}function a(){return{scriptClass:"mstrmojo.Box",alias:"layout",cssClass:"form layout",children:A(L(17525,"More Settings"),{scriptClass:"mstrmojo.Box",alias:"paperSize",cssClass:"mstrmojo-Pulldown-Box",cssDisplay:"",children:[{scriptClass:"mstrmojo.Label",cssDisplay:"",text:L(17520,"Paper Size")},{scriptClass:"mstrmojo.ui.Pulldown",enableAccessibility:this.enableAccessibility,focusOnPopup:this.enableAccessibility,cssDisplay:"",alias:"sizeOptions",selectedIndex:Q(P,v(this.exOpts.paperWidth,this.exOpts.paperHeight),z),items:P}]},{scriptClass:"mstrmojo.Box",alias:"pageOrientation",cssClass:"mstrmojo-Pulldown-Box",cssDisplay:"",children:[{scriptClass:"mstrmojo.Label",cssDisplay:"",text:L(2879,"Orientation")},{scriptClass:"mstrmojo.ui.ButtonBar",cssClass:"tabBar",renderOnScroll:false,showIcon:true,alias:"tabs",enableAccessibility:this.enableAccessibility,selectedIndex:Q(F,this.exOpts.pageOrientation),items:F,accessibilityHook:function(){var AM=this.domNode.getElementsByClassName("item portrait"),AN=this.domNode.getElementsByClassName("item landscape")
	if(AM.length!==1||AN.length!==1){return 
	}n.enableAccessibility({domNode:AM[0]},"button",L(6,"Portrait"))
	n.enableAccessibility({domNode:AN[0]},"button",L(7,"Landscape"))
	}}]})}
	}function h(){var AO="this.parent.parent.parent.general.content.contentMode.pulldown.selectedIndex",AS=Q(D,AJ.SUMMARY),AR=this.showsGeneralSettings&&!(window.mstrApp&&mstrApp.isWorkstation&&mstrApp.supportFeature&&!mstrApp.supportFeature(AL.DOSSIER_PDF_GRID_PAGING_MODE)),AT=this.unitsInfo.gridCount>0,AQ=Q(E,I.CURRENT_PAGE),AN="this.parent.parent.parent.general.content.exportRange.pulldown.selectedIndex",AP=this
	return{scriptClass:"mstrmojo.Box",cssClass:"grid",alias:"grid",visible:this.showsGridSettings,children:A(L(16845,"Grid Settings"),{scriptClass:"mstrmojo.CheckBox",cssClass:"expand-grid",cssDisplay:"",alias:"expandGrid",checked:this.exOpts.gridPagingMode===k.ENLARGE,bindings:{visible:"("+AT+"||"+AN+"!=="+AQ+")&&"+AR+"&&"+AO+"==="+AS},onvisibleChange:function(){if(!this.parent.horizontalPagination){return 
	}this.parent.parent.set("visible",this.visible||this.parent.horizontalPagination.visible)
	},label:L(19186,"Expand all grid data")},{scriptClass:"mstrmojo.ui.IconTooltipCheckList",enableAccessibility:this.enableAccessibility,cssClass:"grid",alias:"horizontalPagination",multiSelect:false,tooltipOrientation:"vertical",bindings:{visible:"("+AN+"!=="+AQ+"||"+AT+")&&"+AO+"!=="+AS},onvisibleChange:function(){if(!this.parent.expandGrid){return 
	}this.parent.parent.set("visible",this.visible||this.parent.expandGrid.visible)
	},selectedIndex:Q(p,this.exOpts.gridHorizontalPagination),items:p,accessibilityHook:function(){if(!this.items){return 
	}this.itemsContainerNode.setAttribute("role","radiogroup")
	for(var AU=0
	AU<this.items.length
	AU++){var AV=this.getSelectedNode(AU)
	if(!AV){continue
	}n.enableAccessibility({domNode:AV},"radio",this.items[AU].n+". "+this.items[AU].ttp)
	}}},{scriptClass:"mstrmojo.CheckBox",alias:"repeatHeader",cssClass:"indented",cssDisplay:"",bindings:{visible:"this.parent.horizontalPagination.visible && this.parent.horizontalPagination.selectedIndex == 1"},onvisibleChange:function AM(){AP.updateNavList()
	},checked:this.exOpts.gridRepeatHeader===l.BOTH,label:L(16851,"Repeat attribute columns")})}
	}function r(){var AN=!this.showsGeneralSettings||this.exOpts.range===I.CURRENT_PAGE?AD:N,AM=this
	return{scriptClass:"mstrmojo.Box",cssClass:"displayOption",alias:"content",children:A(L(17528,"Display Options"),{scriptClass:"mstrmojo.CheckBox",cssDisplay:"block",alias:"keepViewport",enabled:this.showsScaleSettings,isValidViewport:false,isValidContentMode:false,checked:this.exOpts.keepViewport,label:L(18333,"Maintain aspect ratio"),postclick:function AO(){this.userModified=true
	},bindings:{visible:"this.enabled && this.isValidViewport && this.isValidContentMode"}},{scriptClass:"mstrmojo.CheckBox",cssDisplay:"block",alias:"pdfToC",visible:this.showsToCSettings&&!(window.mstrApp&&mstrApp.isWorkstation&&mstrApp.supportFeature&&!mstrApp.supportFeature(AL.DOSSIER_PDF_TABLE_OF_CONTENTS)),checked:this.exOpts.enableToC,label:L(19159,"Show table of contents")},{scriptClass:"mstrmojo.CheckBox",cssDisplay:"block",alias:"pdfHeader",checked:this.exOpts.enableHeader,label:L(16852,"Show header on every page")},{scriptClass:"mstrmojo.CheckBox",cssDisplay:"block",alias:"pdfFooter",checked:this.exOpts.enableFooter,label:L(15160,"Show page numbers")},{scriptClass:"mstrmojo.CheckBox",cssDisplay:"block",visible:this.showsFilterSettings,alias:"filterSummary",checked:this.exOpts.filterSummary>0,label:L(17526,"Show filters")},{scriptClass:"mstrmojo.ui.Pulldown",enableAccessibility:this.enableAccessibility,focusOnPopup:this.enableAccessibility,cssClass:"indented filter-summary-mode",visible:this.showsFilterSettings,alias:"filterSummaryMode",bindings:{enabled:"this.parent.filterSummary.checked"},onenabledChange:function(){AM.updateNavList()
	},selectedIndex:Q(AN,this.exOpts.filterSummary),items:AN})}
	}function t(){return{scriptClass:"mstrmojo.Box",alias:"buttonsContainer",slot:"buttonNode",children:[m(L(2140,"Cancel"),function(AM){this.parent.parent.close({closeWithKeyboard:n.isKeyBoardEvent(AM.e||AM)})
	},false,{alias:"cancelBtn"}),m(this.exportDisplayText,function(AM){var AN=this.parent.parent,AO=X.call(AN)
	AN.exOpts=AO
	AN.exportHandler(AO)
	AN.close({closeWithKeyboard:n.isKeyBoardEvent(AM.e||AM)})
	},true,{alias:"exportBtn"})]}
	}function AG(){return[{scriptClass:"mstrmojo.Box",alias:"leftPanel",visible:this.showsGeneralSettings||this.showsGridSettings,children:[H.call(this),h.call(this)]},{scriptClass:"mstrmojo.Box",alias:"rightPanel",cssClass:this.showsGeneralSettings||this.showsGridSettings?"":"simple",cssDisplay:"",children:[a.call(this),r.call(this)]},t.call(this)]
	}function c(){var AN=this.unitsInfo.vizCount,AM=AN===Number.MAX_VALUE
	return AM?I.ALL_CHAPTERS:I.CURRENT_PAGE
	}function b(AO){var AM=AO===I.CURRENT_PAGE,AN=this.unitsInfo.vizCount
	return(AM&&AN===1)?AJ.VISUALIZATIONS:AJ.SUMMARY
	}function B(AN){var AM=S.copy(C)
	AM.range=c.call(this)
	AM.overviewViz=b.call(this,AM.range)
	if(!this.showsGeneralSettings){S.copy(O,AM)
	}if(typeof AN==="object"){if(AN.hasOwnProperty("range")){AM.range=parseInt(AN.range,10)
	}if(AN.hasOwnProperty("overviewViz")){AM.overviewViz=parseInt(AN.overviewViz,10)
	}if(AN.hasOwnProperty("paperHeight")){AM.paperHeight=AN.paperHeight.toString()
	}if(AN.hasOwnProperty("paperWidth")){AM.paperWidth=AN.paperWidth.toString()
	}if(AN.hasOwnProperty("pageOrientation")){AM.pageOrientation=parseInt(AN.pageOrientation,10)
	}if(AN.hasOwnProperty("mode")){AM.mode=parseInt(AN.mode,10)
	}if(AN.hasOwnProperty("enableFooter")){AM.enableFooter=Boolean(parseInt(AN.enableFooter,10))
	}if(AN.hasOwnProperty("enableHeader")){AM.enableHeader=Boolean(parseInt(AN.enableHeader,10))
	}if(AN.hasOwnProperty("enableToC")){AM.enableToC=Boolean(parseInt(AN.enableToC,10))
	}if(AN.hasOwnProperty("pdfPwd")){AM.pdfPwd=AN.pdfPwd.toString()
	}if(AN.hasOwnProperty("selectedTabIndex")){AM.selectedTabIndex=parseInt(AN.selectedTabIndex,10)
	}if(AN.hasOwnProperty("filterSummary")){AM.filterSummary=parseInt(AN.filterSummary,10)
	}if(AN.hasOwnProperty("gridHorizontalPagination")){AM.gridHorizontalPagination=parseInt(AN.gridHorizontalPagination,10)
	}if(AN.hasOwnProperty("gridRepeatHeader")){AM.gridRepeatHeader=parseInt(AN.gridRepeatHeader,10)
	}if(AN.hasOwnProperty("gridPagingMode")){AM.gridPagingMode=parseInt(AN.gridPagingMode,10)
	}}return AM
	}function AI(AO){var AN=Number.MAX_VALUE,AM=Number.MAX_VALUE,AP=Number.MAX_VALUE
	if(!this.showsGeneralSettings){AM=0
	AN=1
	if(this.showsGridSettings){AP=1
	}else{AP=0
	}}else{if(AO){AO=AO.filter(function(AQ){return(AQ.hidden&1)===0
	})
	AN=AO.filter(function(AQ){return AQ.isViz
	}).length
	AM=AO.length-AN
	AP=AO.filter(function(AQ){return AQ.isGrid
	}).length
	}}return{vizCount:AN,nonVizCount:AM,gridCount:AP}
	}mstrmojo.vi.ui.editors.ExportPDFEditor=mstrmojo.declare(mstrmojo.Editor,[mstrmojo.vi.ui.rw._SupportTabNav],{scriptClass:"mstrmojo.vi.ui.editors.ExportPDFEditor",cssClass:"mstrmojo-ExportPDFEditor",title:L(5212,"Export to PDF"),help:"intro_export_dossier.htm",exportHandler:mstrmojo.emptyFn,exportDisplayText:L(5592,"Export"),showsGeneralSettings:true,showsGridSettings:true,showsFilterSettings:true,showsScaleSettings:false,showsToCSettings:true,exOpts:C,useCache:false,zIndex:12,navMode:false,enableAccessibility:false,init:function AF(AM){this._super(AM)
	this.showsScaleSettings=false
	this.unitsInfo=AI.call(this,AM.unitsInfo)
	this.exOpts=B.call(this,AM.exOpts)
	this.enableAccessibility=!this.showsGeneralSettings
	this.set("children",AG.call(this))
	},getGeneralBox:function Z(){return this.leftPanel.general
	},getGridBox:function o(){return this.leftPanel.grid
	},getLayoutBox:function q(){return this.rightPanel.layout
	},getContentBox:function AE(){return this.rightPanel.content
	},getPaperSizeOption:function f(){return this.getLayoutBox().content.paperSize.sizeOptions
	},onDossierPanelResized:function K(){if(!this.showsScaleSettings){return 
	}var AM=this.getContentBox().content.keepViewport
	AM.set("isValidViewport",x(G()))
	},getExportButton:function(){return this.buttonsContainer.exportBtn
	},getCancelButton:function(){return this.buttonsContainer.cancelBtn
	},getButtonBar:function(){return this.getLayoutBox().content.pageOrientation.tabs
	},postBuildRendering:function Y(){if(!this.showsGeneralSettings&&!this.showsGridSettings){mstrmojo.css.toggleClass(this.editorNode,"simple",true)
	}var AM=this._super()
	this.onDossierPanelResized()
	this.handleAccessibility()
	return AM
	},handleAccessibility:function J(){if(!this.enableAccessibility){return 
	}this.editorNode.tabIndex=-1
	this.editorNode.focus()
	if(this.navMode){this.navigateToFirstValidTarget()
	}else{this.tabIndex=-1
	}},updateNavList:function u(){if(!this.hasRendered){return 
	}this.buildNavList()
	},buildNavList:function AA(){if(!this.enableAccessibility){return 
	}this.navList=[]
	var AM=this.getGridBox(),AU=AM.content.horizontalPagination,AO=AM.content.repeatHeader
	if(AM&&AM.visible){if(AU&&AU.visible){this.navList.push(AU)
	}if(AO&&AO.visible){this.navList.push(AO)
	}}this.navList.push(this.getPaperSizeOption())
	this.navList.push(this.getButtonBar())
	var AT=this.getContentBox().content
	this.navList.push(AT.pdfHeader)
	this.navList.push(AT.pdfFooter)
	this.navList.push(AT.filterSummary)
	if(AT.filterSummaryMode.enabled){this.navList.push(AT.filterSummaryMode)
	}this.navList.push(this.getExportButton())
	this.navList.push(this.getCancelButton())
	for(var AQ=0
	AQ<this.navList.length
	AQ++){var AR=this.navList[AQ],AP=AR.scriptClass==="mstrmojo.CheckBox",AN=AR.scriptClass==="mstrmojo.Button"
	if(AP||AN){n.enableAccessibility({domNode:AP?AR.labelNode:AR.domNode,widget:AR})
	}if(AP){var AS=AR.labelNode
	AS.setAttribute("role","checkbox")
	if(AS.parentNode){AS.setAttribute("aria-checked",AS.parentNode.getAttribute("aria-checked"))
	}AS.enableAccessibility=true
	}}},onkeydown:function W(AM){if(!this.enableAccessibility){return 
	}var AO=AM.e||AM.hWin.event,AN=AO.keyCode
	if([AB.LEFT_ARROW,AB.RIGHT_ARROW,AB.TAB,AB.ESCAPE].indexOf(AN)>-1){AM.cancel()
	AM.preventDefault()
	}if(AN===AB.ESCAPE){this.close({closeWithKeyboard:true})
	return 
	}this.handleTab(AM)
	},updatePopupConfig:function AC(AM,AN){AH.call(this,this.exOpts)
	},onOpen:function d(){if(this.showsScaleSettings){var AM=U(),AN=AM.parent
	if(AN){this.resizeListener=AN.attachEventListener("layoutChanged",this.id,this.onDossierPanelResized)
	}}this.positionDialog()
	if(window.mstrApp){mstrApp.isExportPdfEditorOpen=true
	}},onClose:function j(AN){if(this.resizeListener){this.resizeListener.clear()
	delete this.resizeListener
	}if(!this.useCache){this.destroy()
	}if(window.mstrApp){mstrApp.isExportPdfEditorOpen=false
	}if(this.enableAccessibility&&this.navMode){var AM=w()
	if(!AM){return 
	}AM.raiseEvent({name:"dialogClosed",dialogName:"exportPDF",needFocus:AN&&AN.closeWithKeyboard})
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.dom","mstrmojo.expr","mstrmojo.Button","mstrmojo.ui._HasListTooltip","mstrmojo.ui.PopupWidget","mstrmojo.ui.Pulldown","mstrmojo.ui.CheckList")
	var M=mstrmojo.hash,I=mstrmojo.array,B=mstrmojo.dom,L=mstrmojo.Button.newWebButton,J=27,D=mstrmojo.expr.TP.DIM
	function E(S){var U=this.parent,X=U.parent,W=this.list
	if(S){this.saveSelection()
	U.submitSelections()
	}else{W.selectedIndices=M.copy(U.selectedIndices)
	}this.close()
	if(X&&X.canTab){X.resetTabNav()
	if(U.grabFocus){U.grabFocus(true)
	}if(X.isAMSelector&&X.isAMSelector()){X.selectByKey=true
	}}}mstrmojo.ui.PulldownCheckList=mstrmojo.declare(mstrmojo.ui.PopupWidget,[mstrmojo.ui._HasListTooltip],{scriptClass:"mstrmojo.ui.PulldownCheckList",markupString:'<div id="{@id}" class="mstrmojo-ui-PopupWidget {@cssClass}" style="{@cssText}" tabIndex="-1" mstrAttach:mouseover,mouseout,click,keydown><div class="pw-content"></div></div>',visible:false,itemCssText:"",onOpen:function C(){var S=this.list
	S.updateScrollbars()
	},onClose:function A(){this.list.refresh()
	},onkeydown:function G(S){var X=this.parent.parent,U=S.e||S,W=U.keyCode
	if(!(X&&X.canTab)||X.handleTab(S)){return 
	}if(W===J){U.preventDefault()
	U.stopPropagation()
	this.buttons.cancelBtn.onclick(S)
	}},adjustCheckListForPopupOverflow:function O(W){var Y=this.domNode,X,U,b=this.list,a=b&&(b.scrollNode||b.scrollboxNode)
	if(W&&a){X=B.position(Y)
	U=X.y
	if(U+X.h>B.position(document.body).h){var S=Y.offsetHeight,Z=a.offsetHeight
	a.style.maxHeight=B.getMaxScrollHeight()-(S-Z)+"px"
	b.updateScrollbars()
	}}},getItemFromTarget:function Q(S){return this.list.getItemFromTarget(S)
	},getItemNodeFromTarget:function F(S){return this.list.getItemNodeFromTarget(S)
	},adjustCornersForPopupOverflow:function R(){var S=this._super()
	this.adjustCheckListForPopupOverflow(S)
	return S
	},saveSelection:function K(){this.parent.set("selectedIndices",M.copy(this.list.selectedIndices))
	},postselectionChange:function H(d){var c=this.list,a=c.items,b=d.added||[],Y=d.removed||[],X=c.selectedIndices,S=this.parent.allIdx,Z=a[S],W=b.length+Y.length,U=false
	if(Z&&Z.t===D&&W===1){if(S===b[0]){a.forEach(function(f,e){if(!X[e]){U=true
	X[e]=I.indexOf(Y,e)===-1
	}})
	}else{if(S===Y[0]){X={}
	I.forEach(b,function(e){X[e]=true
	})
	U=true
	}else{if(X[S]){delete X[S]
	U=true
	}}}}if(U){c.set("selectedIndices",M.copy(X))
	c.refresh()
	}},onitemsChange:mstrmojo.emptyFn,children:[{scriptClass:"mstrmojo.ui.CheckList",alias:"list",enableAccessibility:true,postBuildRendering:function P(){this.icnCssText=this.parent.itemCssText||this.icnCssText
	this.parent.adjustCheckListForPopupOverflow()
	this.enableA11y()
	},postselectionChange:function H(S){this.parent.postselectionChange(S)
	},onitemsChange:function N(S){this.parent.onitemsChange(S)
	}},{scriptClass:"mstrmojo.Box",alias:"buttons",cssClass:"mstrmojo-Buttons",children:[L(mstrmojo.desc(1442,"Ok"),function(){E.call(this.parent.parent,true)
	},true,{cssDisplay:"inline-block",alias:"okBtn"}),L(mstrmojo.desc(2140,"Cancel"),function(){E.call(this.parent.parent,false)
	},false,{cssDisplay:"inline-block",alias:"cancelBtn"})]}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.Obj","mstrmojo.ui.ButtonBar","mstrmojo.ui.Checkbox","mstrmojo.Label","mstrmojo.ui.Pulldown","mstrmojo.ui.editors.controls.TwoColumnContainer","mstrmojo.ui.editors.controls.ThreeColumnContainer")
	var D=mstrmojo.hash
	mstrmojo.vi.models.editors.ControlsViewFactory=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.vi.models.editors.ControlsViewFactory",getEditorGroup:function B(H,I){return new mstrmojo.vi.ui.editors.EditorGroup(D.copy(I,{children:H}))
	},getLabelAndControl:function G(J,K,M,O,L,N){var P=new mstrmojo.Label({text:J,setDimensions:function(S,Q){var R=this.domNode
	if(R){R.style.width=Q
	}}}),I=P,H=K
	if(L){I=K
	H=P
	}I.slot="col1Node"
	H.slot="col2Node"
	return new mstrmojo.ui.editors.controls.TwoColumnContainer(D.copy(N,{col1Width:M||"40%",col2Width:O||"60%",children:[I,H],getLabel:function(){return P
	},getCtrl:function(){return this.children.filter(function(Q){return Q!==P
	})[0]
	}}))
	},getLabelAndControlWithMsg:function C(L,M,P,O,S,H,N,Q){var R=new mstrmojo.Label({text:L,setDimensions:function(Y,W){var X=this.domNode
	if(X){X.style.width=W
	}}}),U=new mstrmojo.Label({text:P?mstrmojo.desc(14548,"Changes will be applied after Desktop is restarted."):"",setDimensions:function(Y,W){var X=this.domNode
	if(X){X.style.width=W
	}},setText:function(W){this.text=W
	}}),K=R,J=M,I=U
	if(N){K=M
	J=R
	}K.slot="col1Node"
	J.slot="col2Node"
	I.slot="col3Node"
	return new mstrmojo.ui.editors.controls.ThreeColumnContainer(D.copy(Q,{col1Width:O||"30%",col2Width:S||"30%",col3Width:H||"40%",children:[K,J,I],getLabel:function(){return R
	},getCtrl:function(){return this.children.filter(function(W){return W!==R
	})[0]
	},getMessage:function(){return U
	}}))
	},getPulldown:function F(I,L,H,K,J){return mstrmojo.ui.Pulldown.newPulldown(I,function(M,N){L.call(this,M.v,N&&N.v)
	},H,K,J)
	},getCheckboxAndLabel:function A(N,L,K){var J=new mstrmojo.ui.Checkbox({checked:N,oncheckedChange:function(){var O=this.checked
	K.call(this,O,!O)
	}})
	var M=this.getLabelAndControl(L,J,"14px","100%",true)
	M.cssClass="checkLabel"
	var I=M.getLabel()
	I.onclick=function H(){J.onclick()
	}
	I.cssDisplay="inline-block"
	return M
	},getButtonBar:function E(J,H,L,K){K=K||{}
	K.items=J
	var I=new mstrmojo.ui.ButtonBar(K)
	I.singleSelect(H)
	I.postselectionChange=function(M){var N=this.items,O=N[M.removed&&M.removed[0]]
	L.call(this,N[M.added[0]],O)
	}
	return I
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.ui.Pulldown")
	var B={DATA_SOURCES:0,CATALOGS:1,CUBES:2}
	function D(F,G){return mstrmojo.array.map(F,function(H){H.lv=G
	return H
	})
	}mstrmojo.mstr.MDXCubeBrowser=mstrmojo.declare(mstrmojo.Editor,null,{title:mstrmojo.desc(4380,"Select MDX Cube"),help:"Select_MDX_Cube_dialog_box.htm",items:null,selectedItem:null,loadMDXData:function(G){G=G||{}
	var F=G.item||{}
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(H){G.success(H)
	},failure:function(H){mstrmojo.alert(H)
	}},{taskId:"browseMDX",level:F.lv||B.DATA_SOURCES,unitId:F.did||"",roleId:F.roleId||""})
	},init:function E(F){this._super(F)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-MDXCubeBrowser")
	},children:[{scriptClass:"mstrmojo.ui.Pulldown",cssClass:"mstrmojo-MDXCubeBrowser-sources",alias:"mdxPulldown",selectedIndex:0,makeObservable:true,items:[{n:mstrmojo.desc(4381,"Data Sources"),did:"",lv:B.DATA_SOURCES}],getPopupListConfig:function(){var G=this
	var F=mstrmojo.ui.Pulldown.prototype.getPopupListConfig()
	F.postclick=function(){G.handleSelection()
	}
	return F
	},handleSelection:function(){var H=this,F=H.parent
	H.set("items",this.items.slice(0,this.selectedIndex+1))
	H.set("selectedIndex",this.items.length-1)
	var G=this.selectedItem||this.items[this.selectedIndex]
	F.set("items",G.items)
	F.set("selectedItem",null)
	},addItem:function(F){F.cls="lv-"+F.lv
	this.set("items",this.items.concat(F))
	this.set("selectedIndex",this.items.length-1)
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-OBListItemIcon up mstrmojo-MDXCubeBrowser-sources-btn",bindings:{enabled:function(){return this.parent.mdxPulldown.selectedIndex>0
	}},onenabledChange:function(){mstrmojo.css.toggleClass(this.domNode,"disabled",!this.enabled)
	},onclick:function(){var F=this.parent.mdxPulldown
	F.set("selectedIndex",F.selectedIndex-1)
	F.handleSelection()
	}},{scriptClass:"mstrmojo.ui.List",cssClass:"mstrmojo-MDXCubeBrowser-cubes",alias:"cubeList",bindings:{items:function(){return this.setCssClass(this.parent.items)
	}},setCssClass:function(F){var G=this
	return mstrmojo.array.map(F,function(H){H.cls=G.getItemCssClass(H)
	return H
	})
	},selectionAdded:function(F){if(!F.isReselect){var J=this,H=J.parent,I=J.items[F.added]
	if(I.lv===B.CUBES+1){H.set("selectedItem",I)
	return 
	}var G=this.parent.mdxPulldown
	H.loadMDXData({item:I,success:function(L){var K=L.items
	if(I.lv==B.CATALOGS){mstrmojo.array.map(K,function(M){M.roleId=I.did
	return M
	})
	}H.set("items",D(K,I.lv+1))
	I.items=K
	G.addItem(I)
	}})
	}},getItemMarkup:function C(G,F){return'<{@tag} class="item" idx="{@idx}" style="{@style}" title="{@title}"><span class="{@cls}"></span>{@en@n}</{@tag}>'
	},getItemCssClass:function(F){return"mstrIcon-lv mstrIcon-lv-"+{"1048583":"fDataSource","1048584":"fCatalog","1048585":"qc"}[F.dt]
	}},{scriptClass:"mstrmojo.Label",bindings:{text:function(){return mstrmojo.desc(2107,"## items found").replace("##",(this.parent.items&&this.parent.items.length)||0)
	}}},{scriptClass:"mstrmojo.HBox",alias:"btnHBox",slot:"buttonNode",cssClass:"mstrmojo-Editor-buttonBar",children:[mstrmojo.Button.newWebButton(mstrmojo.desc(547,"Select"),function A(){var F=this.parent.parent
	F.close()
	F.onOK(F.selectedItem)
	},true,{bindings:{enabled:function(){return this.parent.parent.selectedItem.lv===3
	}}}),mstrmojo.Button.newWebButton(mstrmojo.desc(221,"Cancel"),function A(){this.parent.parent.close()
	})]}],postBuildRendering:function(){var G=this
	this._super()
	var F=this.mdxPulldown
	this.loadMDXData({success:function(H){G.set("items",D(H.items,B.CATALOGS))
	F.items[0].items=G.items
	}})
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.string","mstrmojo.dom","mstrmojo.hash","mstrmojo._HasEditableText","mstrmojo.ui.Pulldown")
	var K=mstrmojo.array,F=mstrmojo.dom,D=mstrmojo.string,N=mstrmojo.hash,J=mstrmojo.Enum_Keys,A=19,G=J.ENTER,H=J.SPACE,M=J.ESCAPE,R=J.TAB,E=J.DOWN_ARROW,O=J.UP_ARROW
	function Q(a){var d=!!a.list,c=d?a.list:a,b=this.parent
	this.focusOnPopup=true
	if(d){c.grabFocus(true)
	if(b.canTab){b.resetTabNav()
	}}else{c.focus()
	}}mstrmojo.ui.SearchablePulldown=mstrmojo.declare(mstrmojo.ui.Pulldown,[mstrmojo._HasEditableText],{scriptClass:"mstrmojo.ui.SearchablePulldown",editableSlot:"selectedNode",allowCustomText:false,isSearching:false,enableAccessibility:true,editOnClick:false,init:function U(e){this._super(e)
	var a=this.getPopupList()
	a.renderOnScroll=this.renderOnScroll||a.renderOnScroll
	a.renderBlockSize=this.renderBlockSize||a.renderBlockSize
	var d=[]
	if((mstrApp.isWorkstation&&F.isMac())||F.isSafari){d=["clip-safari"]
	}mstrmojo.css.addWidgetCssClass(this,["mstrmojo-ui-SearchablePulldown"].concat(d))
	var c=a.constructor.prototype,b=a.getItemProps||c.getItemProps,f=a.getItemMarkup||c.getItemMarkup
	a.getItemProps=function(l,h){var j=this._spft||"",n=l.n,k=n?n.toUpperCase().indexOf(j):-1,g=function(p){var o=[],q
	K.forEach(p.split("
	"),function(r){q=r.split(":")
	if(q.length===2&&q[0].toLowerCase()!=="color"){o.push(r)
	}})
	return o.join("
	")
	}
	if(k===-1){j=""
	}var m=b.call(this,l,h)
	if(this.selectedIndices[h]){m.style=g(m.style)
	}if(n){m.before=n.slice(0,k)
	m.input=n.substring(k,k+j.length)
	m.after=n.slice(k+j.length,n.length)
	if(!D.trim(n)){m.after+=D.decodeHtmlString("<br/>")
	}}return m
	}
	a.getItemMarkup=function(j,g){var h=f.call(this,j,g)
	if(j.n&&j.v!=="u
	"){return h.replace("{@en@n}","{@en@before}<span class='sp-highlight'>{@en@input}</span>{@en@after}")
	}return h
	}
	this._originalFocusOnPopup=this.focusOnPopup
	this.focusOnPopup=false
	},onclick:function Z(a){if(this._originalFocusOnPopup!==undefined){this.focusOnPopup=false
	}if(this.isClickingAnchorSlot(a)){var c=a.e.offsetX>=(this.selectedNode.offsetWidth-A),b=this.getPopupWidget().visible
	if(!b||(b&&c)){this._super(a)
	this.set("isEditing",!b)
	}else{if(!this.isEditing){this.set("isEditing",true)
	}}}},setDefaultListAndIndex:function(e,f){var d=this.getPopupList(),b=this.text,a=K.find(e,"n",b)
	if(a===-1&&!this.allowCustomText){var c=d.items[0]||e[0]
	a=K.find(e,"n",c.n)
	}d.set("items",e)
	if(f){this.set("selectedIndex",a)
	}},onPopupWidgetClosed:function B(a){this.set("isEditing",false)
	var b=this.getPopupList(),c=b._oldItems
	delete b._oldItems
	if(c){this.setDefaultListAndIndex(c,a&&a.pressingEnter)
	}},_set_selectedIndex:function C(c,a){if(this.allowCustomText&&a===-1){this.selectedIndex=-1
	this.onitemSelected(null,a)
	}else{this.isSearching=false
	this._super(c,a,true)
	if(this.hasRendered){var b=this.selectedNode
	this.text=b.innerText||b.textContent
	}}return true
	},stopEvt:function X(a){var b=a.e||a
	a.preventDefault()
	b.stopPropagation()
	},onkeydown:function I(e){var d=this.parent,g=e.e||e,c=d.parent
	if(d.handleTab&&d.handleTab(e)){return 
	}this._super(e)
	var b=window.event||e.e,f=b.keyCode,a=this.getPopupWidget()
	if(f===G&&a.visible){a.close({pressingEnter:true})
	}else{if(this._originalFocusOnPopup&&(f===E||f===O)){Q.call(this,a)
	a.raiseEvent(e)
	}else{if(f===G){this.stopEvt(e)
	this.openPopup(a)
	Q.call(this,a)
	}else{if(f===M&&c.grabFocus){this.stopEvt(e)
	this.loseFocus(true)
	c.grabFocus(true)
	}else{g.stopPropagation()
	}}}}},onkeyup:function S(c){var a=window.event||c.e,d=a.keyCode,b=this.getPopupWidget()
	if(d===R||(!b.visible&&(d===G||(d===H&&!this.isEditing)))){this.stopEvt(c)
	return 
	}this._super(c)
	if(d===M||d===G){this.stopEvt(c)
	if(b.visible){b.close()
	}if(d===M&&this.grabFocus){this.grabFocus(true)
	}}else{if(this.isEditing&&d!==E&&d!==O){this.processSearch()
	}}},processSearch:function P(){this.isSearching=true
	this.hideTooltip()
	var a=[],c=this.getPopupList(),e=this.selectedNode.innerText,f=c._oldItems||c.items,b=e.toUpperCase(),d
	b=b.replace(/<BR>/,"")
	if(b.length>0){K.forEach(f,function(g){d=g.n
	if(d&&d.toUpperCase().indexOf(b)>-1){a.push(N.clone(g))
	}},this)
	}else{a=f
	}c._spft=b
	if(this.customizeSearchResult){this.customizeSearchResult(a)
	}c.set("items",a)
	if(c.adjustCornersForPopupOverflow){c.adjustCornersForPopupOverflow()
	}delete c._spft
	c._oldItems=f
	c.set("visible",c.items.length!==0)
	},getNavList:function W(){var a=N.walk("parent.parent.menuBtnInfo.btn",this)
	return[this,a]
	},updateAriaLabel:function Y(){var d=this.selectedNode,c=this.getPopupList(),a,b,e
	a=this.text||""
	b=a+(c.visible?"":", collapsed, popup")
	e=D.encodeHtmlString(b,true)
	if(d){if(d.getAttribute("aria-label")!==e){d.setAttribute("aria-label",e)
	}d.setAttribute("role","button")
	}},grabFocus:function L(){this.updateAriaLabel()
	if(this._super){this._super(true)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo.dom","mstrmojo.hash","mstrmojo.string","mstrmojo._FillsBrowser","mstrmojo.Container","mstrmojo.EnumRWUnitType","mstrmojo.Label","mstrmojo.ui.PopupButton","mstrmojo.ui.Pulldown","mstrmojo.vi.ui.TargetSelector","mstrmojo.vi.enums.EnumFeatures","mstrmojo.vi.ui.TruncatedList","mstrmojo.elementHelper")
	mstrmojo.requiresClsP("mstrmojo.vi.models","EnumPanelTypes")
	var Z=mstrmojo.hash,h=mstrmojo.array,E=mstrmojo.css,R=mstrmojo.dom,q=mstrmojo.string,j=mstrmojo.Button.newWebButton,O=mstrmojo.EnumRWUnitType,l=mstrmojo.vi.models.EnumPanelTypes,c=mstrmojo.vi.enums.EnumFeatures,a={SHARED:0,SEPARATE:1},C=mstrmojo.elementHelper.ELEM_SEPARATOR,m=null,L=function(t){var u=this.vis.model,w=t.panelKey,v=this.currentPanelKey||u.getVizContentPanel().k
	if(w===v){return 
	}if(this.targetContainer.getTargetChildren().length===0){this.goToPage(t)
	return 
	}this._tocNavWarn(t)
	},D=function(){var t=mstrApp.rootCtrl,AD=t.view,u=t.vizControlPanel,x=t.toggleViewBar,AB=t.tocPanel,v=t.datasetsPanel,AC=t.layersPanel,z=this.vis.model,AE=[],AA,w
	AA=[x,v,AC]
	this.isCPVisible=w=AD.isCPVisible
	h.forEach(AA,function(AF){AE.push(AF&&AF.getOpenStatus())
	})
	this.vizControlSelectedPanel=u.getSelectedPanel()
	this.panelsIsOpen=AE
	this.panels=AA
	if(this.tocEnabled){if(!w){AD.setIsCPVisible(true,true)
	}this.isTocNav=AB.visible
	if(!mstrApp.supportFeature(c.PANEL_STACK)||Z.walk("srcBox.parent.parent.defn.psType",this.targetSelector)===l.VISUALIZATION){AB.set("isMasked",false)
	this.setNavIcon(true,true)
	}}if(this.vizControlSelectedPanel!==AC){u.selectPanel(AC,true)
	}if(z.attachEventListener){this.layoutSelectedSubscription=z.attachEventListener("targetLayoutSelected",this.id,L.bind(this))
	}},U=function(){var z=this.vis.model,AC=mstrApp.rootCtrl.view,AD=this.panelsIsOpen,t=mstrApp.rootCtrl,AB=t.layersPanel,u=t.vizControlPanel,x=this.isCPVisible,w=this.vizControlSelectedPanel,AA=this.panels
	var v=AD[AA.indexOf(AB)]
	if(v&&w){u.selectPanel(w,false)
	}h.forEach(AA,function(AE,AF){AE.setOpenStatus(AD[AF],true,undefined,false,true)
	})
	if(this.tocEnabled){if(!x){AC.setIsCPVisible(x,true)
	}this.setNavIcon(false,true)
	}if(z.detachEventListener){z.detachEventListener(this.layoutSelectedSubscription)
	}},e=function(AE){var AF=AE.length,v=this.targetContainer.getTargetChildren(),z=v.map(function(AG){return AG.key
	}).sort(h.stringSorter),AB=z.length,u,w,AC,AA,AD,x=[],t=this.vis.isPanelSelector()
	if(t){if(!z.length){if(AE.length){this.targetContainer.addAndRemoveKeys([this.targetKeys[AE[0]]],true)
	}}else{if(!AE.length){this.targetContainer.addAndRemoveKeys([this.targetKeys[z[0]]],false)
	}else{this.targetContainer.addAndRemoveKeys([this.targetKeys[AE[0]]],true)
	this.targetContainer.addAndRemoveKeys([this.targetKeys[z[0]]],false)
	}}return 
	}if(AF>AB){u=AB
	w=AE
	AA=true
	}else{u=AF
	w=z
	AA=false
	}for(AC=0
	AC<u
	AC++){if(AE[AC]!==z[AC]){this.targetContainer.addAndRemoveKeys([this.targetKeys[w[AC]]],AA)
	return 
	}}for(AC
	AC<w.length
	AC++){AD=this.targetKeys[w[AC]]
	if(AD){x.push(AD)
	}}if(x.length){this.targetContainer.addAndRemoveKeys(x,AA)
	}},J=function(t){var u=t.getVizContentPanel()._tgtSelections
	if(u){u.notify()
	}},G=function(t){if(this.options){this.csl.set("enabled",t)
	this.options.set("enabled",t)
	}}
	function Y(){var t=this.vis.model,v=this.vis.k,u
	if(!this.targetSelector){this.targetSelector=this._createTargetSelector()
	}else{this.targetSelector.set("hostId",this.id)
	if(!mstrmojo.all[this.vis.id]){u=t.getLayoutKeyByUnitKey(v)
	if(u===t.getCurrentLayoutKey()){this.targetSelector.setSourceByKey(v)
	}}}this.showControlOverlay([this.targetSelector])
	this.targetSelector.enterSelectMode()
	}function S(){var v,w=this.sc,t=w&&w.isNavigation&&w.navPage,u=this.options
	if(this.vis.model.getVizContentPanel().children){if(u){u.closeDialog()
	}delete this.children
	this.refresh()
	if(!t||t===this.currentPanelKey){v=Z.valarray(this.targetKeys).filter(function(x){return x.v
	}).map(function(x){return x.k
	}).sort(h.stringSorter)
	if(v.length){e.call(this,v)
	}}}}function F(v){var t=v.boxContent,AE=t.isVisMap,AC=AE?t.getWidgetForTemplateSelection().node.defn:v.defn,x=t.model,z=(this.srcPanelKey===v.model.getVizContentPanel().k),AD,w,u=0,AB,AA
	this.cgbs=AA=(x&&x.getSelectorControlMapInfo?x.getSelectorControlMapInfo():[])
	if(AA.length>0){AD=AA[0].sc
	this.unitId=AA[0].did
	this.singleUnit=true
	}else{AB=AC.an
	AD=t.selectorControl||(x&&t.findSelectorControl&&t.findSelectorControl())
	this.singleUnit=false
	w=(AD&&AD.tks&&AD.tks.split(C))||[]
	u=h.some(AB,function(AF){return !h.includes(w,AF.k)
	})?1:0
	}this.cachedFiltertypeIndex=(!!AB&&AB.length>0)&&!this.singleUnit&&!AD?1:u
	if(m===null){m=z&&(AD?AD.showall:true)
	}this.sc=AD
	this.an=AB
	}mstrmojo.vi.ui.InlineDialogBase=mstrmojo.declare(mstrmojo.Container,[mstrmojo._FillsBrowser],{scriptClass:"mstrmojo.vi.ui.InlineDialogBase",cssClass:"mstrmojo-inline-dialog",title:mstrmojo.desc(12136,"Filtering options"),targetKeys:null,vis:null,buttons:null,origTargetKeys:[],changes:{},sc:null,singleUnit:null,cgbs:null,unitId:null,an:null,panelsIsOpen:null,panels:null,vizControlSelectedPanel:null,isCPVisible:null,srcPanelKey:null,shouldNavigate:true,cachedFiltertypeIndex:0,numBoxesChecked:0,optionsStateForRefresh:{openOnRefresh:false,showAll:false},layoutSelectedSubscription:null,tocEnabled:true,isTocNav:false,isOnTocChange:false,selectFilters:false,fromContextual:false,onClickBack2Link:null,targetSelector:null,markupString:'<div id="{@id}" class="mstrmojo-Dialog-Bar {@cssClass}" tabindex="0" mstrAttach:click><div class="win mstrmojo-bar"><div class="mstrmojo-bar-content"></div><div class="mstrmojo-bar-buttons"></div></div></div>',markupSlots:{editorNode:function(){return this.domNode.firstChild
	},containerNode:function(){return this.domNode.firstChild.childNodes[0]
	},buttonNode:function(){return this.domNode.firstChild.lastChild
	}},init:function p(u){if(this._super){this._super(u)
	}this.srcPanelKey=this.vis.parent.k
	var t=this.vis.model
	if(t.attachEventListener){t.attachEventListener("buildBoxLayoutComplete",this.id,this.buildBoxLayoutComplete)
	}},buildBoxLayoutComplete:function r(){var t=this.vis.model
	if(this.tocEnabled&&!this.isTocNav){this.setNavIcon(true,true)
	}S.call(this)
	if(this.isOnTocChange){var v=t.getVizContentPanel()._tgtSelections,u=Z.valarray(this.targetKeys).filter(function(w){return w.v
	}).map(function(w){return w.k
	})
	if(v){h.forEach(u,function(w){t.getUnitInstance(w,1).parent.toggleBoxSelection(true)
	if(!v.toggleSelection(w)){v.toggleSelection(w)
	}})
	this.isOnTocChange=false
	}}J(t)
	},getSrcPanelStackId:function M(){return this.vis.model.getOwningNodeByType(O.PANELSTACK,this.vis.k).id
	},_createTargetSelector:function k(){return new mstrmojo.vi.ui.TargetSelector({alias:"targetSelector",orientation:"h",hostId:this.id,srcPanelStackId:this.getSrcPanelStackId(),srcId:this.vis.id})
	},_createOptionsButton:function I(){var w=this,z=w.vis,u=z.model,v=(this.srcPanelKey===(this.currentPanelKey||u.getVizContentPanel().k))
	return{scriptClass:"mstrmojo.ui.PopupButton",alias:"options",cssDisplay:"inline-block",isHostedWithin:false,anchorSlot:"btnNode",markupString:'<div id="{@id}" class="mstrmojo-ui-OptionsButton {@cssClass}" style="{@cssText}"><div class="opts" mstrAttach:click></div></div>',markupSlots:{btnNode:function(){return this.domNode.firstChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},onRender:function(){if(this._super){this._super()
	}E.toggleClass(this.domNode,"disabled",!this.enabled)
	},onenabledChange:function(){E.toggleClass(this.domNode,"disabled",!this.enabled)
	},getPopupWidget:function x(){return this.optionEditor
	},getPopupConfig:function t(){var AB=mstrmojo.ui.PopupConfig.ENUM_CORNERS,AA=this.constructor.prototype.getPopupConfig.call(this)
	AA.alignment={host:AB.BOTTOM_RIGHT,popup:AB.TOP_RIGHT}
	return AA
	},openDialog:function(){var AB=w.optionsStateForRefresh,AA=this.optionEditor
	if(AB.openOnRefresh){AB.openOnRefresh=false
	AA.clrSel.set("checked",AB.showAll)
	AA.open()
	}},closeDialog:function(){var AB=w.optionsStateForRefresh,AA=this.optionEditor
	if(AA.visible){AB.openOnRefresh=true
	AB.showAll=AA.clrSel.checked
	AA.close()
	}},children:[{scriptClass:"mstrmojo.ui.PopupWidget",alias:"optionEditor",visible:false,onClose:function(){this.clrSel.set("checked",m)
	this.buttons.enableApply(false)
	},handleSelectionSubmit:function(AA){var AB=w.changes
	if(AA){if(AB.clearAll!==undefined){delete AB.clearAll
	}else{AB.clearAll=w.csl.checked
	}m=w.csl.checked
	J(u)
	}this.close()
	},children:[{scriptClass:"mstrmojo.CheckBox",cssClass:"mstrmojo-clear-check",cssDisplay:"inline-block",cssText:"white-space: nowrap
	",alias:"clrSel",enabled:false,checked:m,label:mstrmojo.desc(11957,"Allow users to clear all selections"),onenabledChange:function(){if(!v){this.enabled=false
	this.set("checked",false)
	}else{if(!w.filterType.isFilter){this.set("checked",true)
	}else{this.set("checked",m)
	}}},oncheckedChange:function(){var AA=this.parent
	if(AA){AA.buttons.enableApply(this.enabled&&this.checked!==m)
	}}},{scriptClass:"mstrmojo.Box",alias:"buttons",cssClass:"buttonBox",children:[j(mstrmojo.desc(8473,"Done"),function(){var AA=this.parent.parent
	AA.handleSelectionSubmit(true)
	},true,{cssDisplay:"inline-block",enabled:false}),j(mstrmojo.desc(221,"Cancel"),function(){var AA=this.parent.parent
	AA.handleSelectionSubmit(false)
	},false,{cssDisplay:"inline-block"})],enableApply:function(AA){this.children[0].set("enabled",AA)
	}}]}]}
	},_createBack2LinkButton:function(){var t=this
	return{scriptClass:"mstrmojo.Widget",alias:"back2EditLink",cssDisplay:"inline-block",markupString:'<div class="back-to-edit-link" mstrAttach:click>'+mstrmojo.desc(null,"Edit Contextual Link")+"</div>",markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},onclick:function(){if(t.onClickBack2Link){t.close()
	t.onClickBack2Link()
	}},}
	},validT:function B(v){if(v){var u=v.t
	if(this.selectFilters){return Math.round(u/10)===52||u===O.SELECTOR||u===O.MOJOVISUALIZATION||u===O.SURVEYCONTAINER||u===O.PANELSTACK
	}else{return Math.round(u/10)===52||u===O.MOJOVISUALIZATION||u===O.PANELSTACK
	}}return false
	},setNavIcon:function H(w,AA){var AD=this.vis,x=AD.model,AC=x.getDocVIVisualizationsPanelStack().selector,AB=x.controller.view,u=AB.layoutViewer.docLayout.selector,t=mstrApp.rootCtrl,z=t.tocPanel,v=AD.k
	if(this.isTocNav){z.setTOCIcon(w,AA)
	}else{if(AA||!w){u.setLinkIcon(w,AA?x.getLayoutKeyByUnitKey(v):null)
	}AC.setLinkIcon(w,AA&&AD.defn.pnk)
	}},getTargetKeys:function(){var t=[]
	Z.forEach(this.targetKeys,function(v,u){if(v.v){t.push(u)
	}})
	t.sort(h.stringSorter)
	return this.origTargetKeys=t
	},setTargets:function(AE){var x=this.targetKeys,u=this.vis,w=u.model,v=this.currentPanelKey||w.getVizContentPanel().k,z=[],AD=this.changes,AA=this.singleUnit,AB=this.srcPanelKey,t=this.filterType
	AE=w.updateFilterTargetsForSdp(AE)
	h.forEach(this.an,function(AF){if(!x[AF.k]){x[AF.k]={c:false,v:true}
	}})
	h.forEach(AE,function(AF){if(x[AF]){z.push(AF)
	}})
	Z.forEach(x,function(AG,AF){if(h.some(AE,function(AH){return AH===AF
	})){if(!AG.v){AG.v=true
	AG.c=true
	}}else{if(AG.v){AG.v=false
	AG.c=true
	}}})
	AD.filterKeys=z
	AD.targetKeys=x
	AD.singleUnit=AA
	if(AA){AD.unitId=this.unitId
	}if(AB!==v){AD.isNav=true
	AD.navPage=v
	AD.srcKey=AB
	}AD.sc=this.sc
	AD.isFilter=t&&t.isFilter
	var AC=mstrmojo.vi.VisualInsightApp.APP_STATES
	mstrApp.set("appState",mstrApp.isAppStatePause()?(AC.PAUSE|AC.SELECTOR_TARGETING):AC.SELECTOR_TARGETING)
	this._setTargetsFunc()
	},_setTargetsFunc:mstrmojo.emptyFn,isSelectionDirty:function Q(AC){var AA=false,t=this.vis,AD=AC.length,z=this.origTargetKeys,AB=this.changes
	AC.sort(h.stringSorter)
	e.call(this,AC)
	if(t.isAMSelector instanceof Function&&t.isAMSelector()){for(var v=0
	v<AD
	v++){if(!t.tmp_replaceRelation[AC[v]]){return false
	}}}if(AD===z.length){h.forEach(AC,function(AF,AE){if(AF!==z[AE]){AA=true
	return false
	}})
	if(AA){return AA
	}if(AD>0){var u=Z.walk("filterType.selectedIndex",this)
	if((u!==undefined)&&(u!==this.cachedFiltertypeIndex)){return true
	}if(AB.isLayerChanged){return true
	}if(AB.clearAll!==undefined){return true
	}if(t.isAMSelector instanceof Function&&t.isAMSelector()){for(var x=0
	x<AC.length
	x++){if(t.tmp_replaceRelation[AC[x]].id!==t.replaceRelation[AC[x]].id){return true
	}}}}return false
	}else{if(AD===0||AD<z.length){return true
	}if(t.isAMSelector instanceof Function&&t.isAMSelector()){for(var w=0
	w<AD
	w++){if(!Z.equals(t.tmp_replaceRelation[AC[w]],t.replaceRelation[AC[w]])){return true
	}}return false
	}else{return true
	}}},goToPage:function N(t){var u=this.vis.model,v=t.layoutKey,w=t.panelKey
	u.raiseEvent({name:"layoutSelected",panelKey:w,layoutKey:v})
	},_tocNavWarn:mstrmojo.emptyFn,onTocPageChange:function(v){var u,t
	if(this._super){this._super(v)
	}if(this.visible){if(this.srcPanelKey===this.currentPanelKey){u=this.vis.model.getVizContentPanel().children
	if(u){t=h.find(u,"k",this.vis.k)
	if(t!==-1){this.vis=u[t]
	}}else{return 
	}}this.setNavIcon()
	if(!this.isTocNav){this.setNavIcon(true,true)
	}this.isOnTocChange=true
	S.call(this)
	}},open:function b(){var t=this.vis
	this.shouldNavigate=false
	Y.call(this)
	D.call(this)
	if(t.setSelectTargetsState){t.setSelectTargetsState(false)
	}},close:function o(){var u=this.vis
	mstrApp.rootCtrl.view.closeInlineDialog()
	U.call(this)
	this.targetContainer.addAndRemoveKeys(this.targetContainer.getTargetChildren())
	var t=mstrmojo.vi.VisualInsightApp.APP_STATES
	mstrApp.set("appState",mstrApp.isAppStatePause()?t.PAUSE:t.DEFAULT)
	m=null
	if(u.setSelectTargetsState){u.setSelectTargetsState(true)
	}},cancel:function f(){var u=this.vis.model,w=u.getLayoutKeyByUnitKey(this.vis.k),t=this.srcPanelKey,x=u.getOwningWidgetByType&&u.getOwningWidgetByType(O.PANELSTACK,this.srcPanelKey,w)
	var v=mstrmojo.vi.VisualInsightApp.APP_STATES
	mstrApp.set("appState",mstrApp.isAppStatePause()?(v.PAUSE|v.SELECTOR_TARGETING):v.SELECTOR_TARGETING)
	u.raiseEvent({name:"layoutSelected",panelKey:t,panelStackKey:x,layoutKey:w})
	},onwidthChange:function(){if(this.editorNode){this.editorNode.style.width=this.width
	}},updateViz:function K(t){this.vis=t
	this.srcPanelKey=this.vis.parent.k
	this.targetSelector.set("srcId",this.vis.id)
	this.shouldNavigate=true
	S.call(this)
	this.shouldNavigate=false
	},toggleFields:function X(){var u=this.filterType,t=this.cgbs
	if(t.length!==0){this.forType.set("visible",true)
	}if(this.sc){G.call(this,true)
	}if(this.srcPanelKey===(this.currentPanelKey||this.vis.model.getVizContentPanel().k)&&(Z.keyarray(this.targetKeys).length>0||t.length!==0)){u.set("enabled",true)
	}else{u.set("enabled",false)
	u.set("selectedIndex",0)
	}},_createTruncatedList:function P(){var t=this
	return{scriptClass:"mstrmojo.vi.ui.TruncatedList",alias:"targetContainer",cssDisplay:"inline-block",items:[{alias:"defaultItem",cls:"tgtDefault",n:this.selectFilters?mstrmojo.desc(16167,"Click on elements to select targets"):mstrmojo.desc(15090,"Click on visualizations to select targets"),key:"-1"}],padding:12,overflowCls:"truncMore",cmCssClass:"mstrmojo-bar-overflow",setWidth:function u(){var z=this.parent,w=this.id,AA,AB=this.padding,x=parseInt(z.width,10)
	if(!this.width&&R.position(z.buttonNode).w){h.forEach(z.children,function(AC){AA=AC.domNode
	if(AA&&AC.id!==w){x-=Math.ceil(R.position(AA).w+(AC.scriptClass==="mstrmojo.ui.Pulldown"||AC.alias==="ctrlOverlay"?0:AB))
	}})
	if(R.isMac()&&(R.isSafari||mstrApp.isWorkstation)){x-=AB
	}this.width=x+"px"
	}this.domNode.style.width=this.width
	},getAdditionalProperties:function v(x,w){if(w===0&&this.items.length>2){x.addCls("hide")
	}return x
	},updateFields:function(){var x,w=t.filterType&&t.filterType.isFilter
	t.numBoxesChecked=this.items.length-1
	x=t.numBoxesChecked>0
	t.forType.set("enabled",x&&w)
	G.call(t,x&&w)
	},getTargetChildren:function(){return this.items.slice(1)
	},addAndRemoveKeys:function(AB,x){var w,AC=false,AA=this.items
	if(x){AC=true
	var z={}
	z[a.SHARED]="filter"
	z[a.SEPARATE]="viz"
	z[O.SURVEYCONTAINER]="survey"
	h.forEach(AB,function(AD){if(!AD.mp||AD.mp===AD.k){var AE=z[AD.ft]||z[a.SHARED]
	AA.push({n:AD.t,cls:"tgtItem "+AE,cssClass:"tgtItem "+AE,key:AD.k})
	}})
	}else{h.forEach(AB,function(AD){w=AD?h.find(AA,"key",AD.k||AD.key):-1
	if(w>-1){AC=true
	AA.splice(w,1)
	}})
	}if(AC){this.refresh()
	this.updateFields()
	t.setNavIcon(AA.length!==1)
	}}}
	},_addVis:function d(u,v){var AD=this,t=AD.vis,w=u.boxContent,AE=w.isVisMap,AB=AD.cgbs||[],AC=AD.an,AG,AA,z,x
	if(AC){AG=mstrmojo.array.find(AC,"k",u.k)!==-1
	}else{if(AB.length>0){if(AB[0]&&AB[0].sc&&AB[0].sc.tks){AG=AB[0].sc.tks.indexOf(u.k)>-1
	}}}AD.numBoxesChecked+=AG?1:0
	if(u!==t&&AD.validT(u.defn)){var AF=u.defn.t===O.SELECTOR
	if(!AF){AA=w.getFilterTarget&&w.getFilterTarget()||w.getFilterType()
	z=w.model.getSelectorControlMapInfo&&w.model.getSelectorControlMapInfo()
	}if(AE){x=w.getAllLayerKeys(true)
	h.forEach(x,function(AH){v[AH]={c:false,v:AG,ft:AA,cgbs:z,t:u.title,k:AH,mp:u.k}
	})
	}else{v[u.k]={c:false,v:AG,ft:AA,cgbs:z,t:u.title,k:u.k}
	}}},_addChildren:function n(){var AG=this,v=AG.vis,AD=v.model,x={scriptClass:"mstrmojo.ui.Pulldown",cssClass:"mstrmojo-filter-type",cssDisplay:"inline-block",alias:"filterType",selectedIndex:AG.filterType?AG.filterType.selectedIndex:this.cachedFiltertypeIndex,isHostedWithin:true,isFilter:true,enabled:false,items:[{n:mstrmojo.desc(8689,"Filter"),v:true},{n:mstrmojo.desc(11953,"Highlight"),v:false}],onitemSelected:function(AK){this.isFilter=AK.v
	G.call(AG,AG.numBoxesChecked>0&&this.isFilter)
	AG.forType.set("enabled",this.isFilter)
	if(this.enabled){J(AD)
	}},onenabledChange:function(){E.toggleClass(this.domNode,"disabled",!this.enabled)
	}},z=[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-title-label",cssDisplay:"inline",allowHTML:true,text:mstrmojo.desc(15031,"Use visualization <span>#</span> to").replace("#",q.encodeHtmlString(v.title)),visible:true},x,{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-type-label",cssDisplay:"inline-block",text:mstrmojo.desc(15032,"data on selection in"),visible:true},AG._createTruncatedList(),{scriptClass:"mstrmojo.ui.Pulldown",cssClass:"mstrmojo-for-type",cssDisplay:"inline-block",alias:"forType",value:0,visible:false,selectedIndex:0,isHostedWithin:true,enabled:false,items:[{n:mstrmojo.desc(11955,"for #").replace("#",(this.cgbs[0]||{}).n),v:false},{n:mstrmojo.desc(11956,"for All Data"),v:true}],onitemSelected:function(AK){AG.changes.forAllData=AK.v
	},onenabledChange:function(){E.toggleClass(this.domNode,"disabled",!this.enabled)
	}},AG._createOptionsButton()],t=AD.getPanel(this.currentPanelKey,this.currentLayoutKey).children||[],AC,AB={}
	for(AC=t.length-1
	AC>=0
	AC--){AG._addVis(t[AC],AB)
	}var AA=v.boxContent,AI=AA&&AA.mapViewer&&AA.isVisMap
	if(AI){var AH=q.encodeHtmlString(v.title),AJ="Use % of <span>#</span> to % the following targets:",AE=mstrmojo.desc(15162,AJ),u=AE.split("%")||[],w,AF=h.map(AA.getGraphicLayerNameArr(),function(AK){return{n:AK.n,v:AK.k}
	})
	if(u.length!==3){u=AJ.split("%")
	}w=[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-title-label",cssDisplay:"inline",allowHTML:true,text:u[0].replace("#",AH),visible:true},{scriptClass:"mstrmojo.ui.Pulldown",cssClass:"",cssDisplay:"inline-block",alias:"sourceLayer",selectedIndex:h.find(AF,"v",AA.getKeyForTemplateSelection()),isHostedWithin:true,enabled:true,items:AF,onitemSelected:function(AL){var AK=AG.changes
	AK.layerKey=AL.v
	AK.isLayerChanged=AL.v!==AA.getKeyForTemplateSelection()
	J(AD)
	}},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-title-label",cssDisplay:"inline",allowHTML:true,text:u[1].replace("#",AH),visible:true},x,{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-title-label",cssDisplay:"inline",allowHTML:true,text:u[2].replace("#",AH),visible:true}]
	z.splice(0,3)
	z=w.concat(z)
	}this.addChildren(z)
	this.targetKeys=AB
	this.csl=this.options.optionEditor.clrSel
	},preBuildRendering:function A(){var w=this,x=w.vis,t=x.model,z,v,u,AA
	F.call(this,x)
	z=this.sc
	v=this.an
	if(this.shouldNavigate&&v&&v.length){u=t.getLayoutKeyByUnitKey(v[0].k)
	AA=z&&z.isNavigation&&z.navPage
	if(AA&&AA!==this.currentPanelKey&&u){this.shouldNavigate=false
	t.raiseEvent({name:"layoutSelected",panelKey:AA,layoutKey:u})
	}}this._addChildren()
	this.addChildren([{scriptClass:"mstrmojo.Box",cssClass:"ctrlOverlay",alias:"ctrlOverlay",slot:"buttonNode"}])
	this.toggleFields()
	this._super()
	},postBuildRendering:function W(){var t=this.targetContainer,u=this.sc
	this.editorNode.style.width=this.width
	this._super()
	this.changes={}
	if(m!==(u?u.showall:true)){this.changes.clearAll=m
	J(this.vis.model)
	}Y.call(this)
	if(t&&!t.width){t.setWidth()
	}if(this.options){this.options.openDialog()
	}},showControlOverlay:function g(v,u){var w=this.ctrlOverlay,z=w.domNode
	function x(AA){var AB=AA.children
	if(AB&&AB.length){AA.removeChildren()
	AB.forEach(function(AC){AC.destroy()
	})
	}}if(z){var t=["ctrlOverlay","or-h"]
	if(u){t.push(u)
	}z.className=t.join(" ")
	}w.set("visible",true)
	x(w)
	w.addChildren(v)
	E.addClass(this.domNode,"overlay")
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.hash","mstrmojo.util.ui.ColorPicker","mstrmojo.ui.editors.controls.ColorList","mstrmojo.ui.editors.controls.ColorWheel","mstrmojo.Label","mstrmojo.ui.Pulldown","mstrmojo.TextBoxWithLabel","mstrmojo.ui.ButtonBar","mstrmojo.Button","mstrmojo.css","mstrmojo.util.color")
	mstrmojo.requiresDescs(16164)
	var R=1,b=2,S=mstrmojo,B=S.css,U=S.array,X=mstrmojo.util.ui.ColorPicker,J=S.util.color,P=Math.round,a=R,N=0,D=1,Y=2,d="txtColor",g="automatic",k="#ffffff",A="transparent"
	var F=[{n:mstrmojo.desc(12071,"Color fill"),id:N},{n:mstrmojo.desc(12072,"No fill"),id:D},{n:mstrmojo.desc(12073,"Gradient"),id:Y}]
	function O(){return this.color!==g?this.color:this.autoPreviewColor
	}function W(n){return J.getCSSColorString(n)
	}function c(p,o,n){return mstrmojo.Button.newWebButton(p,n,o,{slot:"buttonNode",cssDisplay:"inline-block"})
	}function m(o){var p={},n=O.call(this)
	if(o&&(typeof n==="string")){if(n!==A){n=W(n)
	}var q=n.toLocaleLowerCase()
	o.forEach(function(t,r){if(q===t.id.toLocaleLowerCase()){p[r]=true
	}})
	}return p
	}function Q(n){return{scriptClass:"mstrmojo.ui.editors.controls.ColorList",items:n,selectedIndices:m.call(this,n),postselectionChange:function(o){var r=o.added
	if(r){var q=this.parent,p=this.items[r[0]].id
	q.set("color",p)
	q.colorChanged(p)
	}}}
	}function G(n){return"#"+n.replace("#","")
	}function E(){var n=this.txtColor1,q=this.txtColor2,o=this.color,p=false,r=this.colorStyle
	switch(r.items[r.selectedIndex].id){case N:o=G(n.value)
	break
	case D:o=A
	break
	case Y:o={or:this.gradientOrientation.getSelectedItems()[0].id,c1:G(n.value),c2:G(q.value)}
	p=true
	break
	}B.toggleClass(this.containerNode,"grad",p)
	this.set("color",o)
	}function L(n){this.set("activeColor",n)
	var o=this[n]
	U.forEach([1,2],function(q){var p=this[d+q]
	B.toggleClass(p.domNode,"on",p===o)
	},this)
	this.colorWheel.set("color",G(o.value))
	}function K(n,o,q,r){if(typeof q==="string"){if(q===A){q=k
	}}else{if(!!q&&q.c1){q=q["c"+n]
	}else{q=k
	}}q=W(q)
	var p=15
	return{scriptClass:"mstrmojo.TextBoxWithLabel",alias:d+n,cssDisplay:"block",label:o,labelTitle:o.length>p?o:"",labelClass:o.length>p?"ellipsisStyle":"",autoCorrect:false,maxLength:6,size:6,value:q.replace("#",""),bindings:r,onfocus:function(){L.call(this.parent,this.alias)
	},onvalueChange:function(t){if(!/^[0-9a-fA-F]{0,6}$/.test(t.value)){this.value=t.valueWas
	}else{if(this.value.length===6){var u=this.parent
	u.colorWheel.set("color",G(this.value))
	E.call(u)
	}}}}
	}function H(){var q=O.call(this),p="this.parent.colorStyle.items[ this.parent.colorStyle.selectedIndex ].id",u=p+" === "+Y,t=p+" !== "+D,x=(this.showNoFill&&q===A)?1:0,v=F.slice(0,this.showGradient?3:2),n=0,o=this.showGradient,w=!!q&&q.c1
	if(!this.showNoFill){v.splice(1,1)
	}if(w){x=U.find(v,"id",Y)
	n=q.or?0:1
	}this.addChildren([{scriptClass:"mstrmojo.ui.Pulldown",alias:"colorStyle",selectedIndex:x,items:v,visible:(v.length!=1||(w&&!o)),onRender:function r(){if(!o&&w){this.selectedNode.innerHTML='<div class="mstrmojo-ui-Pulldown-Gradient" style="color:#C0C0C0">'+mstrmojo.desc(16164,"Gradient (Not supported)")+"</div>"
	}},onitemSelected:function(){E.call(this.parent)
	}},{scriptClass:"mstrmojo.ui.ButtonBar",alias:"gradientOrientation",items:[{n:mstrmojo.desc(2066,"Horizontal"),id:1,css:"h"},{n:mstrmojo.desc(2069,"Vertical"),id:0,css:"v"}],selectedIndex:n,bindings:{visible:u},postselectionChange:function(z){if(z.added){E.call(this.parent)
	}}},{scriptClass:"mstrmojo.Button",cssClass:"simpleButton",text:mstrmojo.desc(11658,"Swap"),bindings:{visible:u},onclick:function(){var AB=this.parent,AA=AB.txtColor1,AC=AB.txtColor2,z=AA.value
	AA.set("value",AC.value)
	AC.set("value",z)
	E.call(AB)
	}},K(1,mstrmojo.desc(12074,"Color HEX:"),q,{visible:t,label:p+" === "+Y+' ? "'+mstrmojo.desc(12075,"Color 1 HEX:")+'" : "'+mstrmojo.desc(12074,"Color HEX:")+'"
	'}),K(2,mstrmojo.desc(12076,"Color 2 HEX:"),q,{visible:u}),{scriptClass:"mstrmojo.ui.editors.controls.ColorWheel",alias:"colorWheel",color:(!!q&&!!q.c1)?q.c1:(q||k),onColorPicked:function(z){var AA=this.parent
	AA[AA.activeColor].set("value",z.replace("#",""))
	},bindings:{visible:t}},c(mstrmojo.desc(1442,"Ok"),true,function(){var AA=this.parent,z=AA.color
	if(!z.c1){X.addCustomColor(z)
	}AA.colorChanged(z)
	}),c(mstrmojo.desc(2140,"Cancel"),false,function(){this.parent.colorCanceled()
	})])
	L.call(this,d+"1")
	}function f(p){var r=this.sampleNode,q=r.offsetWidth-r.clientWidth,o=r.clientWidth,t=r.clientHeight,u=Math.sqrt(o*o+t*t)-q,n=Math.atan2(t,o)*(-180)/Math.PI+2
	r.style.backgroundColor="#FFFFFF"
	p.display="block"
	p.top=r.offsetTop+P(t/2)+"px"
	p.left=r.offsetLeft+"px"
	p.width=P(u)+"px"
	p[mstrmojo.dom.CSS3_TRANSFORM]="rotate("+P(n)+"deg)"
	}function l(){var p=O.call(this),o=this.sampleNode.style
	if(p){if(p.c1){var q=B.buildGradient(p.or,p.c1,p.c2)
	o[B.convertCssToCamelCase(q.n)]=q.v
	}else{o.background=p
	if(this.showNoFill&&this.noFillNode&&this.enabled){var n=this.noFillNode.style
	if(A===p){f.call(this,n)
	}else{n.display="none"
	}}}}o.backgroundOrigin="border-box"
	}mstrmojo.ui.editors.controls.AdvancedColorPicker=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.ui.editors.controls.AdvancedColorPicker",markupString:'<div id="{@id}" class="mstrmojo-ui-AdvColorPicker {@cssClass}" style="{@cssText}" mstrAttach:click><div class="acpToolbar"><div class="acpBtn acpSwatchBtn"></div><div class="acpBtn acpPaletteBtn"></div><div class="acpColor"></div><div class="slash"></div></div><div class="acpContent" ></div><div class="acpButtons" ></div></div>',markupSlots:{swatchBtnNode:function(){return this.domNode.firstChild.firstChild
	},paletteBtnNode:function(){return this.domNode.firstChild.childNodes[1]
	},sampleNode:function(){return this.domNode.firstChild.childNodes[2]
	},noFillNode:function(){return this.domNode.firstChild.lastChild
	},containerNode:function(){return this.domNode.firstChild.nextSibling
	},buttonNode:function(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onpickerModeChange:function M(){a=this.pickerMode
	this.renderContent()
	},oncolorChange:function e(){l.call(this)
	},onautoPreviewColorChange:function j(){l.call(this)
	}},color:"#000fff",showGradient:false,showNoFill:true,showAutomatic:false,autoPreviewColor:null,activeColor:d+"1",swatchBtnNode:null,paletteBtnNode:null,colorStyle:null,gradientOrientation:null,txtColor1:null,txtColor2:null,colorWheel:null,pickerMode:R,init:function h(n){this._super(n)
	this.pickerMode=a
	},renderContent:function I(){this.showPickerForCurrentMode()
	},showPickerForCurrentMode:function C(){var p=this
	this.removeChildren()
	var q=a===R
	if(q){var o=X.getBasicColors()
	if(!this.showNoFill){o.shift()
	if(o[0]._renderIdx!==0){U.forEach(o,function(t,r){t._renderIdx=r
	})
	}}if(this.showAutomatic&&this.color!==g){this.addChildren([{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(4531,"Automatic"),cssClass:"AutomaticOption",onclick:function n(){p.set("color",g)
	p.colorChanged(g)
	}}])
	}this.addChildren([mstrmojo.hash.copy({alias:"basicColors"},Q.call(p,o)),Q.call(p,(mstrApp&&mstrApp.getPreferredColors)?U.map(mstrApp.getPreferredColors(),function(r){return{n:r,id:r}
	}):[]),Q.call(p,X.getCustomColors())])
	}else{H.call(this)
	}B.toggleClass(this.swatchBtnNode,"on",q)
	B.toggleClass(this.paletteBtnNode,"on",!q)
	this.buttonNode.style.display=q?"none":"block"
	},colorChanged:mstrmojo.emptyFn,colorCanceled:mstrmojo.emptyFn,onclick:function Z(n){var o=n.getTarget(),p=this.pickerMode
	if(o===this.swatchBtnNode){p=R
	this.set("pickerMode",p)
	}else{if(o===this.paletteBtnNode){p=b
	this.set("pickerMode",p)
	}}}})
	mstrmojo.ui.editors.controls.AdvancedColorPicker.VAL_AUTOMATIC=g
	}())
	(function(){mstrmojo.requiresClsP("mstrmojo","Box","Button","RadioList","Label","array")
	mstrmojo.requiresClsP("mstrmojo.ui","Pulldown")
	var H=mstrmojo.desc,R=mstrmojo.css,K=mstrmojo.array
	function P(){R.addClass(this.list.domNode,"AdvancedSort-PopupList")
	this.parent.isActive(true)
	}mstrmojo.SortRow=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.SortRow",markupString:'<div id="{@id}" class="mstrmojo-SortRow {@cssClass}" style="{@cssText}" mstrAttach:click><div></div><div class="mstrmojo-sort-rule-delete"></div><div style="clear:both
	"></div></div>',markupSlots:{containerNode:function O(){return this.domNode.firstChild
	},deleteNode:function J(){return this.domNode.children[1]
	}},sortRule:undefined,sortOrder:undefined,rank:undefined,originalPos:null,isActive:function L(W){this.parent&&this.parent.pulldownActive(W)
	},onclick:function S(W){if(W.getTarget()===this.deleteNode){this.parent.deleteSortRule(this)
	}},isAscending:function U(){return this.sortOrder.value===0
	},isCustomSort:function C(){return this.sortOrder&&this.sortOrder.value===2
	},getSortKey:function F(){return this.sortRule.value
	},setPulldownOptions:function Q(X){var W=this.sortRule
	W.set("items",W.items.concat(X))
	},resetPulldownOptions:function E(){this.sortRule.set("selectedIndex",0)
	this.sortRule.set("items",[{v:"",n:" ",cls:"firstItem"}])
	},setSelected:function N(c,Y,b){var W=K.find(this.sortRule.items,"v",c)
	if(Y===2){if(W===-1){var X=mstrApp.rootCtrl.docCtrl.model,d=X.findUnitInDataSet&&(X.findUnitInDataSet((c||"").split("!")[1])||{}).n
	this.sortRule.set("items",this.sortRule.items.concat([{v:c,n:d}]))
	W=this.sortRule.items.length-1
	}this.sortRule.set("selectedIndex",W)
	this.sortRule.set("enabled",false)
	var Z=K.find(this.sortOrder.items,"v",2)
	if(Z===-1){this.sortOrder.set("items",this.sortOrder.items.concat({n:H(5705,"Custom Sort"),v:2}))
	Z=this.sortOrder.items.length-1
	}this.sortOrder.set("selectedIndex",Z)
	this.sortOrder.set("enabled",false)
	}else{if(W===-1){if(!b){this.sortRule.set("selectedIndex",0)
	this.sortOrder.set("selectedIndex",0)
	return 
	}else{this.sortRule.set("items",this.sortRule.items.concat([{v:c,n:b}]))
	W=K.find(this.sortRule.items,"v",c)
	}}this.sortRule.set("selectedIndex",W)
	var a=this.sortOrder.items
	if(a.length>2){this.sortOrder.set("items",a.slice(0,2))
	}this.sortOrder.set("selectedIndex",(Y===0?1:0))
	}},setRank:function B(W){this.rank.set("number",W)
	},getRank:function G(){return this.rank.number
	},children:[{scriptClass:"mstrmojo.Widget",alias:"rank",number:0,markupString:'<div class="order-column"><div class="draggable-icon"></div><div class="order">{@number}</div></div>',markupMethods:{onnumberChange:function D(){this.domNode.children[1].innerText=this.number
	this.refresh()
	}}},{scriptClass:"mstrmojo.ui.Pulldown",alias:"sortRule",cssClass:"mstrmojo-sort-rule-pulldown",selectedIndex:0,value:"",allowHTML:false,items:[{v:"",n:" ",cls:"firstItem"}],bindings:{enabled:"this.items && this.items.length > 1"},isHostedWithin:false,onPopupWidgetOpened:function M(){P.call(this)
	},onPopupWidgetClosed:function A(){this.parent.isActive(false)
	},onitemSelected:function I(W){this.value=W.v
	this.parent.parent.itemSelected()
	}},{scriptClass:"mstrmojo.ui.Pulldown",alias:"sortOrder",cssClass:"mstrmojo-sort-rule-order",value:0,selectedIndex:0,bindings:{enabled:"this.parent.sortRule.items && this.parent.sortRule.items.length > 1"},isHostedWithin:false,onPopupWidgetOpened:function M(){P.call(this)
	},onPopupWidgetClosed:function A(){this.parent.isActive(false)
	},onitemSelected:function I(W){this.value=W.v
	},items:[{n:H(1885,"Ascending"),v:0},{n:H(1886,"Descending"),v:1}]}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Label","mstrmojo.StackContainer","mstrmojo.TabContainer","mstrmojo.TabStrip","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.ui.Pulldown","mstrmojo.ui.editors.controls.TwoColumnContainer","mstrmojo.TextBox","mstrmojo.Button","mstrmojo.array","mstrmojo.css","mstrmojo.dom","mstrmojo.hash","mstrmojo.string","mstrmojo.vi.ui._IsValidURL","mstrmojo.vi.enums.EnumFeatures","mstrmojo.ui.editors.controls.PromptAndAnswerList","mstrmojo.ui.Checkbox")
	var a=mstrmojo.array,r=mstrmojo.Button,B=mstrmojo.css,K=mstrmojo.dom,L=mstrmojo.hash,q=mstrmojo.string,b=r.newWebButton,v=mstrmojo.vi.enums.EnumFeatures,H=mstrmojo.mstr.EnumDSSXMLObjectTypes,F="http://",J={DISABLED:-1,URL:0,LINK_MSTR:1,LINK_PAGE:3,LINK_DOSSIER:4},l=[{n:mstrmojo.desc(16999,"Select a page in the dossier"),idx:0}],d=function(){return mstrApp.isSingleTier&&mstrApp.isWSLocalMode&&mstrApp.isWSLocalMode()
	},U=function(x,w){var AB={navpagenm:1,tnm:1,prms:1}
	var AA=new mstrmojo.XMLBuilder()
	AA.addChild("hls")
	if(w){AA.addAttribute("onw",1)
	}AA.addChild("hl")
	L.forEach(x,function(AD,AC){if(!AB[AC]){AA.addAttribute(AC,AD)
	}})
	var z=x.prms
	if(z&&z.length>0){AA.addChild("prms")
	a.forEach(z,function(AC){AA.addChild("prm")
	L.forEach(AC,function(AE,AD){if(AD!=="nm"&&AD!=="hsp"){AA.addAttribute(AD,AE)
	}})
	AA.closeElement()
	})
	AA.closeElement()
	}AA.closeElement()
	AA.closeElement()
	return AA.toString()
	},W=function(x,w,z){return{Hyperlinks:U({idf:1,so:2,lt:J.LINK_MSTR,tid:x.tid,ttp:x.t,navpage:x.navPage,np:x.navPage,psf:x.psf,aopam:x.aopam,prms:x.prms,dtxt:z},w),ResolvedHyperlinks:"",}
	},e=function(AG,AC,AI,w,z){var AO=function(AP,AR,AQ){if(AQ){return"<"+AP+AR+">"+AQ+"</"+AP+">"
	}return"<"+AP+AR+"/>"
	},AH=function(AQ,AP){return(AQ!==undefined?" "+AP+'="'+AQ+'"':"")
	},AD=w?1:undefined,AB=2,AA=(AG===J.URL?q.encodeXMLAttribute(AC||""):undefined),AF=0,AN=(AG===J.LINK_MSTR?AI.did:undefined),AK=(AG===J.LINK_MSTR?AI.t:undefined),x=(AG===J.LINK_MSTR?AI.st:undefined),AJ=(AG===J.LINK_PAGE?AI.navPage:undefined),AL=q.encodeXMLAttribute(z||""),AM=1
	var AE={}
	AE.Hyperlinks=AO("hls",AH(AD,"onw"),AO("hl",AH(AM,"idf")+AH(AB,"aopam")+AH(AL,"dtxt")+AH(AA,"url")+AH(AG,"lt")+AH(AK,"ttp")+AH(AN,"tid")+AH(x,"tstp")+AH(AJ,"np")+AH(AF,"so")))
	AE.ResolvedHyperlinks=""
	if(AG===J.URL){AE.ResolvedHyperlinks=AO("hls","",AO("hl",AH(0,"index")+AH(AC,"url")))
	}return AE
	},E=J.DISABLED,h={},N,m=function m(x){if(x.linkType!==undefined){return x.linkType
	}var w=x.node.data
	if(w.psf!==undefined){if(w.isAvailable===false){return J.LINK_MSTR
	}if(!mstrApp.supportFeature(v.TEXT_IMAGE_DOSSIER_LINKING)){return J.DISABLED
	}return J.LINK_DOSSIER
	}if(w.navpage){return J.LINK_PAGE
	}if(w.tid){return J.LINK_MSTR
	}if(x.url){return J.URL
	}return J.DISABLED
	},k=function(w,x){return a.ensureArray(x).indexOf(w)>-1
	},n=function n(w){return k(w,[J.LINK_DOSSIER,J.LINK_MSTR])
	},C=function C(x){return q.decodeHtmlString(L.walk("defn.dl.items.0.n",x)||x.tooltip||"")
	},I=false,u=false,G=function(w,z){var x=function(AA){return(AA||[]).map(function(AB){return{id:AB.id,am:AB.am}
	})
	}
	return L.equals(x(w),x(z))
	},Z=function Z(){var z=this,AF=mstrmojo.all[this.hostId],w=L.walk("node.data",AF),AD=L.walk("tabgroup.tabstack",this),AA=L.walk("selected.linkType",AD),AC=(E!==AA),AG=C(AF)!==this.getCurrentTooltipText(),AB,x=AF.target==="_blank",AE=function(){return x!==z.getCurrOpenInNewWinStatus()
	},AH=false
	if(this.hasRendered&&!I){switch(AA){case J.DISABLED:AH=AC
	break
	case J.URL:AB=L.walk("urlSelector.linkText.text.value",AD)
	if(!mstrmojo.string.isEmpty(AB)&&AB!==F&&this.isValidURL(AB)){AH=AC||(AB!==AF.url)||AG
	}break
	case J.LINK_MSTR:if(h.did){AH=AC||(!w||w.tid!==h.did)||AE()||AG
	}break
	case J.LINK_PAGE:if(h.navPage){AH=AC||!w||w.tid!==h.tid||w.navpage!==h.navPage||AG
	}break
	case J.LINK_DOSSIER:if(h.navPage){AH=AC||!w||w.tid!==h.tid||w.navpage!==h.navPage||w.psf!==h.psf||w.aopam!==h.aopam||!G(w.prms,h.prms)||AG||AE()
	}break
	default:break
	}this.set("dirty",AH)
	}},O=function(AF){if(AF){var AE=this,AL=AE.docModel,AG=mstrmojo.all[this.hostId],AH=this.getSelectedTab(),x=AH.linkType,w=x===J.URL?true:(x===J.LINK_PAGE?false:this.getCurrOpenInNewWinStatus()),AB=this.getCurrentTooltipText(),AK=q.encodeHtmlString(AB,true),AI=x===J.URL?L.walk("tabgroup.tabstack.urlSelector.linkText.text.value",this):undefined,z,AD,AN,AO,AM=x===J.LINK_DOSSIER&&h.tid,AP=function(){var AR=AG?AG.model.getSelectedViUnit():null,AQ=AG?AG.parent:null
	if(AG&&AR&&AR.k===AQ.k&&AQ.id){AG.model.selectVIUnit(AG.parent.id,true)
	}AQ.generateToolbar()
	},AC=["tid","tnm","ttp","tstp","navpage","navpagenm","psf","prms","aopam"],AA=function(){return L.copyProps(AC,AG.node.data)
	},AJ=function(AQ){u=true
	AG.defn.dl=AQ.dl
	AG.target=AQ.target
	AG.url=AQ.url
	AG.ourl=AQ.ourl
	AG.tooltip=AQ.tooltip
	AG.linkType=AQ.linkType
	AC.forEach(function(AR){delete AG.node.data[AR]
	})
	L.copy(AQ.linkObjInfo,AG.node.data)
	u=false
	AP()
	}
	if(!u){if(x===J.DISABLED){z={Hyperlinks:""}
	AO=true
	}else{if(AI||h||w!==undefined){if(AM){z=W(h,w,AK)
	}else{z=e(x,AI,h,w,AK)
	}}}AD={dl:L.clone(AG.defn.dl),target:AG.target,url:AG.url,ourl:AG.ourl,tooltip:AG.tooltip,linkType:AG.linkType,linkObjInfo:AA()}
	if(AB!==undefined||AO!==undefined){AG.tooltip=AO?"":AK
	if(AG.defn.dl){AG.parent.defn.dl.items[0].n=AO?"":AK
	}}AL.editLink(AG.parent,z,{success:function(AQ){AG.linkType=x
	AL.partialUpdate(AQ.data,AL.getTargetDefn(AG.k),AQ.defn)
	if(x===J.DISABLED){delete AG.defn.dl
	delete AG.node.data.dl
	delete AG.target
	delete AG.url
	}else{AG.target=w?"_blank":""
	}AN={dl:L.clone(AG.defn.dl),target:AG.target,url:AG.url,ourl:AG.ourl,tooltip:AG.tooltip,linkType:x,linkObjInfo:AA()}
	AP()
	},undo:function(){AJ(AD)
	},redo:function(){AJ(AN)
	}})
	}}this.close()
	},o=function(AB){var AA=0,z=[{n:mstrmojo.desc(15776,"Select a page in this dossier"),idx:AA++}],AD=AB.defn.layouts,x,w,AC
	a.forEach(AD,function(AE){x=AE.units
	z.push({n:AE.title,idx:AA++})
	w=AB.getVisPanelKeys(AE.k,true)
	a.forEach(w,function(AF){AC=x[AF]
	z.push({n:AC.ttl,navPage:AF,idx:AA++})
	})
	})
	return z
	},P=function P(z,x){var w=L.walk("node.data.tnm",z)
	switch(x){case J.LINK_MSTR:w=h.n
	break
	case J.LINK_DOSSIER:w=h.tnm
	break
	default:}return w
	},Y=function(z,x){var w=""
	if(x){w+=q.apply('<span class="link-tab-icon {@iconCSSClass}"></span>',{iconCSSClass:x})
	}w+=q.apply('<span class="link-tab-text">{@text}</span>',{text:z})
	return w
	},X=function(x,AA){var z=mstrmojo.vi.ui.DatasetUnitMenuUtils,w
	if(AA.onPopupOpen){AA.onPopupOpen()
	}z.showObjectPicker(function(AC){var AB=L.walk("anc.items",AC)
	if(AB&&AB.length>0){N=AB[AB.length-1].did
	}x(AC)
	},AA.noReport?[H.DocumentDefinition]:[H.DocumentDefinition,H.ReportDefinition],AA.folderLinksContextId,AA.browsableViewMedias,N||AA.parentFolderId,true,true)()
	w=z.getObjectPicker()
	if(!w._editorCloseFunction){w._editorCloseFunction=w.onClose
	w.onClose=mstrmojo.func.composite([w.onClose,function(){if(AA.onPopupClose){AA.onPopupClose()
	}}])
	}},c=function(z,x){var AA={},w=L.clone(x)||[]
	a.forEach(z,function(AB){AA[AB.id]=AB
	})
	return w.map(function(AB){return L.copy(AA[AB.id],AB)
	})
	},M=function(z,AB){var w=mstrmojo.desc(17005,"This Dossier")
	var x=[{n:w,id:0}]
	if(mstrApp.supportFeature(v.TEXT_IMAGE_DOSSIER_LINKING)){x.push({n:mstrmojo.desc(18450,"Choose another dossier..."),id:1})
	}return new mstrmojo.ui.Pulldown({alias:AB.alias,slot:AB.slot,cssClass:"link-dossier-selector",items:x,selectedIndex:-1,setSelectedDossier:function(AD,AC){this.set("value",AD?w:AC)
	},getPopupListConfig:function AA(){var AD=this
	var AC=this.addDisposable(mstrmojo.ui.Pulldown.prototype.getPopupListConfig())
	AC.listHooks={select:function(AE,AF){if(AF.id===1){X(function(AG){AD.selectedNode.innerText=AG.n
	z(false,AG)
	},L.copy(AB,{noReport:!!mstrApp.isSingleTier,folderLinksContextId:30,browsableViewMedias:mstrApp.isSingleTier?"2048,8192":undefined}))
	}else{AD.selectedNode.innerText=w
	z(true)
	}if(this.visible&&this.closeAfterSelection){this.close()
	}return true
	}}
	AC.getItemProps=function(AF,AE){var AG=mstrmojo._IsList.getItemProps.call(this,AF,AE)
	return AG
	}
	AC.getItemMarkup=function(AF,AE){if(AE===0){return'<{@tag} class="item {@cls}" idx="{@idx}" style="{@style}" title="{@title}">{@en@n}</{@tag}>'
	}return'<{@tag} class="item {@cls}" idx="{@idx}" style="{@style}" title="{@title}"><i class="file-icon"></i><span>{@en@n}</span></{@tag}>'
	}
	return AC
	}})
	},f=function(AA,w,z){var x=function(){var AB=this
	X(function(AC){AB.parent.text.set("value",AC.n)
	w(AC)
	},z)
	}
	return new mstrmojo.Box({cssClass:"linkDoss",slot:z.slot,alias:z.alias,children:[{scriptClass:"mstrmojo.TextBox",alias:"text",cssClass:"rwselector",readOnly:true,hint:z.placeholder,tooltip:AA,value:AA,onvalueChange:function(){this.set("tooltip",this.value)
	},onclick:x,},r.newIconButton("","icon",x),],})
	},Q=function(z,x,AB,w,AC){var AD
	if(typeof z==="string"){AD=a.filterOne(x,function(AE){return AE.navPage===z
	})||{}
	}else{AD={idx:z}
	}return new mstrmojo.ui.Pulldown({alias:AC.alias,slot:AC.slot,cssClass:"linkPage "+(AD.idx?"":"mstrmojo-empty"),items:x,selectedIndex:AD.idx||0,onSelectedItemChange:function(AE){var AF=!AE.idx
	w(AE,AF)
	B.toggleClass(this.domNode,"mstrmojo-empty",AF)
	},getPopupListConfig:function AA(){var AE=this.addDisposable(mstrmojo.ui.Pulldown.prototype.getPopupListConfig())
	AE.listHooks={select:function(AG,AH,AF){var AI=AH.navPage
	if(!AI||AB()===AI){return true
	}this.parent.set("selectedIndex",AF)
	if(this.visible&&this.closeAfterSelection){this.close()
	}},unselect:function(){var AF=this.selectedItem,AG=AF&&AF.navPage
	if(!AG||AB()===AG){return true
	}}}
	AE.getItemProps=function(AG,AF){var AH=mstrmojo._IsList.getItemProps.call(this,AG,AF),AI=AG.navPage
	AH.style=this.parent.itemCssText||""
	if(AF===0){AH.addCls("hidden")
	}else{if(!AI){AH.addCls("chap")
	}else{if(AI===AB()){AH.addCls("curr_pg")
	}}}return AH
	}
	AE.getItemMarkup=function(AG){var AH=AG.navPage,AF='<span class="current-page">'+mstrmojo.desc(15777,"(current page)")+"</span>"
	if(!AH){return'<{@tag} class="item {@cls}" idx="{@idx}" style="{@style}" title="{@title}">{@en@n}</{@tag}>'
	}return'<{@tag} class="item {@cls}" idx="{@idx}" style="{@style}" title="{@title}"><div></div>{@en@n}'+(AH===AB()?AF:"")+"</{@tag}>"
	}
	return AE
	}})
	},g=function(w,x,z){return new mstrmojo.Box({alias:"buttons",cssClass:"buttonBox",children:[b(mstrmojo.desc(15701,"Remove Link"),w,false,{alias:"rmvBtn",cssDisplay:"inline-block",cssClass:"link-editor-rmv-btn"}),{scriptClass:"mstrmojo.Box",alias:"rtBtns",cssClass:"buttonBoxRt",cssDisplay:"inline-block",children:[b(mstrmojo.desc(118,"Save"),x,true,{alias:"saveBtn",cssDisplay:"inline-block",enabled:false}),b(mstrmojo.desc(221,"Cancel"),z,false,{alias:"cancelBtn",cssDisplay:"inline-block"})]}]})
	},D=function(x,w){var z=a.filterOne(w,function(AA){return AA.navPage===x
	})||{}
	return z.idx
	},t=function(AA,z,x,AB){var w=function(AE){var AC=l.slice(),AD=1
	a.forEach(AE,function(AF){AC.push({n:AF.cnm,idx:AD++})
	a.forEach(AF.pages,function(AG){AC.push({n:AG.pnm,navPage:AG.pid,idx:AD++})
	})
	})
	return AC
	}
	if(!AA){return 
	}mstrApp.serverRequest({taskId:"getDossierTOCAndPrompts",rwb:x.bs,messageId:x.mid,dossierId:AA,objectType:z},{success:function(AC){AC.pages=w(AC.toc)
	delete AC.toc
	AB(AC)
	}})
	},A=function(w){K.center(w.hostProxy,w.domNode.clientWidth,w.domNode.clientHeight)
	w.domNode.style.left=0
	w.domNode.style.top=0
	w.domNode.style.right="auto"
	w.domNode.style.bottom="auto"
	w.hostProxy.style.top="100px"
	},R=function(x){var w=this,z=w.tabgroup.tabstack.pageSelector
	z.pagePulldown.text.set("items",x.pages)
	z.pagePulldown.text.set("selectedIndex",x.pageIndex)
	z.filter.set("visible",true)
	z.filter.checkbox.set("checked",x.psf)
	z.promptAndAnswer.set("visible",x.prms.length>0)
	z.promptAndAnswer.set("prompts",x.prms)
	z.promptAndAnswer.set("aopam",x.aopam)
	Z.call(w)
	},j=function j(){var AD=this,AH=mstrmojo.all[this.hostId],z=AH.node.data,x=AH.node.data.navpage,AF=o(this.docModel),AC=false,AG=L.walk("tabgroup.tabstack",this),w=AG.urlSelector,AE=AG.pageSelector,AI=C(AH),AB
	E=m(AH)
	if(E===J.LINK_MSTR){if(mstrApp.isSingleTier){h={}
	AI=""
	E=J.DISABLED
	}else{h={n:z.tnm,did:z.tid,t:z.ttp,st:z.tstp}
	}}else{if(E===J.LINK_PAGE||E===J.LINK_DOSSIER){h={}
	AC=AH.hasDossierLinking()
	if(AC){h={tid:z.tid,t:z.ttp,tstp:z.tstp,navPage:x,n:z.navpagenm,idx:0,psf:z.psf,prms:z.prms,aopam:z.aopam,tnm:z.tnm}
	t(z.tid,z.ttp,this.docModel,function(AK){var AJ=D(x,AK.pages)||0
	h.prms=c(h.prms,AK.prms)
	h.idx=AJ
	R.call(AD,{pages:AK.pages,pageIndex:AJ,psf:!!h.psf,aopam:h.aopam,prms:h.prms})
	})
	}else{if(z.tid===undefined){h={navPage:x,n:z.navpagenm,idx:D(x,AF)}
	if(h.idx===undefined){h={}
	}}}}else{h={}
	if(E===J.DISABLED){AI=""
	}}}var AA=AG.selected
	switch(E){case J.DISABLED:break
	case J.URL:AA=w
	break
	case J.LINK_MSTR:case J.LINK_PAGE:case J.LINK_DOSSIER:AA=AE
	break
	default:}AG.set("selected",AA)
	a.forEach((AG&&AG.children)||[],function(AJ){if(AJ){if(AJ===AG.selected){AJ.set("tooltip",AI)
	AJ.set("linkType",E===J.DISABLED?AA.defaultLinkType:E)
	}else{AJ.set("tooltip","")
	AJ.set("linkType",AJ.defaultLinkType)
	}}})
	if(w){w.linkText.text.set("value",AH.url?(AH.ourl||AH.url):"")
	}if(AE){AE.dossierPulldown.text.set("enabled",!d())
	AE.pagePulldown.text.set("items",AC?l:o(AD.docModel))
	AE.pagePulldown.text.set("selectedIndex",h.idx||0)
	AB=L.walk("openNewWin.check",AE)
	if(AB){AB.set("checked",n(E)?(AH.target==="_blank"):true)
	}}this.set("dirty",false)
	},S=function(w){L.copy({ontooltipChange:function(){var x=L.walk("tooltipGroup.text",w)
	if(x){x.set("value",this.tooltip)
	}}},w)
	}
	mstrmojo.ui.editors.controls.LinkGroup=mstrmojo.declare(mstrmojo.ui.PopupWidget,[mstrmojo.vi.ui._IsValidURL],{scriptClass:"mstrmojo.ui.editors.controls.LinkGroup",dirty:false,onOpenCallback:mstrmojo.emptyFn,onCloseCallback:mstrmojo.emptyFn,init:function p(z){this._super(z)
	var AC=[],AB=this,AA=mstrmojo.all[this.hostId],x=[],w=this.createUrlTab(),AD=this.createDossierTab()
	AC.push(w)
	AC.push(AD)
	x.push({scriptClass:"mstrmojo.Widget",markupString:q.apply('<div class="link-to-where">{@text}</div>',{text:mstrmojo.desc(16998,"Where to link to?"),}),})
	x.push({scriptClass:"mstrmojo.TabContainer",cssClass:"style"+AC.length,alias:"tabgroup",children:[{scriptClass:"mstrmojo.TabStrip",btnCssDisplay:"block",slot:"top",alias:"tabstrip",target:this.parent.tabstack,useRichTooltip:true,tooltipOpenDelay:0,updateTooltipConfig:function(AG){var AH=L.walk("children.1.domNode",this),AF=K.position(AH),AE
	if(d()){AE=mstrmojo.desc(18780,"Choose any page in this Dossier. To link to another Dossier, save this Dossier in an environment.")
	}else{if(mstrApp.isSingleTier){AE=mstrmojo.desc(18700,"Choose any Dossier")
	}else{AE=mstrmojo.desc(18701,"Choose any Dossier, Document, or Report.")
	}}this.richTooltip=null
	if(AH&&AH.contains&&AH.contains(AG.target)){this.richTooltip={enableHover:true,cssClass:"vi-regular vi-tooltip-C",content:AE,refNode:AH,top:1,left:AF.w}
	}}},{scriptClass:"mstrmojo.StackContainer",slot:"stack",alias:"tabstack",cssClass:"linkGroup",linkType:J.URL,onselectedChange:function(){if(AB.tabgroup){Z.call(AB)
	}},postCreate:function(){this.set("selected",w)
	},children:AC}]})
	x.push(g(function(){AB.getSelectedTab().set("linkType",J.DISABLED)
	O.call(AB,true)
	AB.close()
	},function(){O.call(AB,true)
	},function(){O.call(AB,false)
	}))
	this.addChildren(x)
	},postBuildRendering:function(){this.mousedownListener=K.attachMarkupEvent(this.id,this.domNode,"mousedown")
	if(!this.popupConfig){this.popupConfig=this.parent.getPopupConfig()
	}this._super()
	},onmousedown:function(w){w.cancel()
	},createTooltip:function(w){var x=this
	return{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",alias:w||"tooltipGroup",cssClass:"linkGroup linkGroup-tooltip",children:[{scriptClass:"mstrmojo.Label",alias:"label",slot:"col1Node",text:mstrmojo.desc(15698,"Tooltip")},{scriptClass:"mstrmojo.TextBox",alias:"text",slot:"col2Node",valueChangeDelay:1000,value:"",hint:mstrmojo.desc(12070,"Hyperlink#").replace("#",""),onkeydown:function(AA){if(AA.e.keyCode===13){this.blur()
	}},onvalueChange:function z(){var AA=L.walk("parent.parent",this)
	if(AA){AA.tooltip=this.value
	}Z.call(x)
	}}]}
	},createUrlTab:function(){var AA=this,z=mstrmojo.all[this.hostId],w=z.url||"",x=new mstrmojo.Box({alias:"urlSelector",linkType:J.URL,defaultLinkType:J.URL,n:Y(mstrmojo.desc(9922,"URL"),"url-link-icon"),tooltip:"",children:[{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",alias:"linkText",children:[{scriptClass:"mstrmojo.Label",slot:"col1Node",text:mstrmojo.desc(9922,"URL")},{scriptClass:"mstrmojo.TextBox",slot:"col2Node",alias:"text",hint:F,value:w||F,onfocus:function(){if(!this.value){this.set("value",F)
	}},onblur:function(){if(this.value===F){this.set("value","")
	}},onkeydown:function(AC){if(AC.e.keyCode===13){this.blur()
	}},onvalueChange:function AB(){var AC=this,AD=function(){AC.set("textValid",false)
	AC.domNode.setAttribute("title","")
	}
	if(this.hasRendered){if(AA.isValidURL(this.value)){AD()
	}else{if(this.value){this.setInvalidState(mstrmojo.desc(12068,"Invalid URL"))
	}else{AD()
	}}Z.call(AA)
	}}}]},this.createTooltip("tooltipGroup")]})
	S(x)
	return x
	},createDossierTab:function(){var x=this,w=mstrmojo.all[this.hostId],z=new mstrmojo.Box({alias:"pageSelector",linkType:J.LINK_PAGE,defaultLinkType:J.LINK_PAGE,n:Y(mstrmojo.desc(15452,"Dossier"),"dossier-link-icon"),tooltip:"",children:[{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",alias:"dossierPulldown",cssText:"margin-bottom: 10px",children:[{scriptClass:"mstrmojo.Label",slot:"col1Node",text:mstrmojo.desc(15463,"Dossier")},M(function(AB,AA){var AD=L.walk("tabgroup.tabstack",x),AC=AD&&AD.pageSelector
	if(AB){h={idx:0}
	AC.pagePulldown.text.set("items",o(x.docModel))
	AC.pagePulldown.text.set("selectedIndex",0)
	AC.set("linkType",J.LINK_PAGE)
	Z.call(x)
	}else{if(AA&&(AA.dvm===2048||AA.dvm===8192)&&mstrApp.supportFeature(v.TEXT_IMAGE_DOSSIER_LINKING)){h={tid:AA.did,tnm:AA.n,t:AA.t,navPage:undefined,n:undefined,idx:0,psf:h.psf||1,aopam:2,prms:[]}
	AC.set("linkType",J.LINK_DOSSIER)
	t(AA.did,AA.t,x.docModel,function(AE){h.idx=2
	h.prms=AE.prms
	R.call(x,{pages:AE.pages,pageIndex:h.idx,psf:!!h.psf,aopam:h.aopam,prms:h.prms})
	})
	}else{h=AA
	AC.set("linkType",J.LINK_MSTR)
	Z.call(x)
	}}},{slot:"col2Node",alias:"text",parentFolderId:x.docModel.pfid,onPopupOpen:function(){x.set("closeOnClick",false)
	},onPopupClose:function(){x.set("closeOnClick",true)
	}})]},{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",alias:"pagePulldown",children:[{scriptClass:"mstrmojo.Label",slot:"col1Node",text:mstrmojo.desc(3687,"Page")},Q(h.idx,l,function(){if(h.tid){return null
	}return x.docModel.getVizContentPanel().k
	},function(AA,AB){if(!AB){if(h.tid){h.navPage=AA.navPage
	h.n=AA.n
	}else{h=AA
	}Z.call(x)
	}},{alias:"text",slot:"col2Node"})]},this.createTooltip(),{scriptClass:"mstrmojo.Box",cssClass:"should-pass-filter",alias:"filter",children:[new mstrmojo.ui.Checkbox({alias:"checkbox",cssDisplay:"inline-block",checked:!!h.psf,oncheckedChange:function(){h.psf=Number(this.checked)
	Z.call(x)
	}}),new mstrmojo.Label({cssDisplay:"inline-block",text:mstrmojo.desc(17003,"Pass the filter conditions to the target page"),onclick:function(){this.parent.children[0].onclick()
	}})]},{scriptClass:"mstrmojo.Box",alias:"openNewWin",cssClass:"open-in-new-tab",children:[new mstrmojo.ui.Checkbox({alias:"check",cssDisplay:"inline-block",checked:w.target==="_blank",oncheckedChange:function(){Z.call(x)
	}}),new mstrmojo.Label({cssDisplay:"inline-block",text:mstrmojo.desc(18451,"Open in new tab"),onclick:function(){this.parent.children[0].onclick()
	}}),new mstrmojo.Label({cssDisplay:"inline-block",cssClass:"desc-text",text:mstrmojo.desc(18449,"(Web only)"),onclick:function(){this.parent.children[0].onclick()
	}})]},{scriptClass:"mstrmojo.ui.editors.controls.PromptAndAnswerList",alias:"promptAndAnswer",onAnswerChange:function(AB,AA){if(AB){h.aopam=AA
	}else{h.prms=AA
	}Z.call(x)
	}}],_set_linkType:function(AB,AA){this[AB]=AA
	return true
	},onlinkTypeChange:function(){var AA=this.linkType
	this.dossierPulldown.text.setSelectedDossier(k(AA,[J.LINK_PAGE,J.DISABLED]),P(w,AA))
	this.pagePulldown.set("visible",k(AA,[J.LINK_PAGE,J.LINK_DOSSIER,J.DISABLED]))
	this.filter.set("visible",AA===J.LINK_DOSSIER)
	this.filter.checkbox.set("checked",!!h.psf)
	this.promptAndAnswer.set("visible",AA!==J.LINK_DOSSIER?false:L.walk("prms.length",h)>0)
	this.openNewWin.set("visible",n(AA))
	}})
	S(z)
	return z
	},monitorWindow:function(){A(this)
	},getSelectedTab:function(){return L.walk("tabgroup.tabstack.selected",this)
	},getCurrentTooltipText:function(){return L.walk("tabgroup.tabstack.selected.tooltipGroup.text.value",this)||""
	},getCurrOpenInNewWinStatus:function(){return L.walk("tabgroup.tabstack.pageSelector.openNewWin.check.checked",this)
	},onOpen:function(){A(this)
	j.call(this)
	this.buttons.rmvBtn.set("enabled",E!==J.DISABLED)
	this.onOpenCallback()
	},onClose:function(){this.onCloseCallback()
	},oncloseOnClickChange:function(){if(this.closeOnClick&&this._zIndex!==undefined){this.domNode.parentNode.style.zIndex=this._zIndex
	delete this._zIndex
	this.hoverLock(false)
	this.lockHover()
	}else{if(!this.closeOnClick){this._zIndex=this.domNode.parentNode.style.zIndex
	this.domNode.parentNode.style.zIndex="1"
	this.unlockHover()
	this.hoverLock(true)
	}}},ondirtyChange:function(){this.buttons.rtBtns.saveBtn.set("enabled",this.dirty)
	},destroy:function(w){K.detachEvent(this.domNode,"mousedown",this.mousedownListener)
	this._super(w)
	}})
	L.copy({getFileBrowser:f,getPageSelector:Q,getCtrlBtns:g,generateTabBtnMarkup:Y,center:A,getInfoOfDossier:t,genDLXML:U},mstrmojo.ui.editors.controls.LinkGroup)
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo._HasLayout","mstrmojo._HasSuggestion","mstrmojo.hash","mstrmojo.css")
	var I=mstrmojo.css,C=mstrmojo.hash,F="clear"
	function G(){this.searchTriggered(this.inputNode.value)
	}mstrmojo.ui.SearchBox=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.ui.SearchBox",markupString:'<div id={@id} class="mstrmojo-ui-SearchBox cf {@cssClass}" style="{@cssText}"><input class="mstrmojo-ui-sb-input" type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" mstrAttach:keyup,blur,focus/><div class="mstrmojo-ui-sb-btn" mstrAttach:click ></div></div>',markupSlots:{inputNode:function K(){return this.domNode.firstChild
	},searchNode:function D(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},layoutConfig:{h:{inputNode:"20px",searchNode:"20px"},w:{inputNode:"100%",searchNode:"22px"},xt:true},getLayoutOffsets:function(){return{w:2,h:0}
	},searchNode:undefined,inputNode:undefined,searchDelay:-1,placeholderText:"",maxLength:-1,init:function O(R){this._super(R)
	var Q=this.searchDelay
	if(Q===-1||isNaN(Q)){this.searchDelay=parseInt(mstrApp.getSearchAutoCompleteDelay(),10)
	}},onfocus:function P(Q){var R=Q.getTarget()
	if(R===this.inputNode){this.inputNode.placeholder=""
	I.addClass(this.domNode,"onInputFocus")
	}},onblur:function J(Q){var R=Q.getTarget()
	if(R===this.inputNode){this.inputNode.placeholder=this.placeholderText
	I.removeClass(this.domNode,"onInputFocus")
	}},onclick:function N(Q){var R=Q.getTarget()
	if(R===this.searchNode){if(this._hasText){this.clearSearch()
	}else{G.call(this)
	}}},onkeyup:function B(S){var R=S.hWin,Y=S.e||R.event,W=C.walk("parent.parent",this)
	if(Y.keyCode===27){this.clearSearch()
	return 
	}var X=this,Q=this.text,Z=this.text=this.inputNode.value,U=this._hasText=Z.length>0
	if(Q!==Z){I.toggleClass(this.searchNode,[F],U)
	window.clearTimeout(this._searchTimeoutId)
	this._searchTimeoutId=window.setTimeout(function(){G.call(X)
	},this.searchDelay)
	if(W&&W.canTab){W.buildNavList()
	}}},unrender:function H(){this.text=""
	this._super()
	},clearSearch:function L(Q){this.text=this.inputNode.value=""
	I.removeClass(this.searchNode,[F])
	delete this._hasText
	if(!Q){G.call(this)
	}this.postClearSearch()
	},postBuildRendering:function A(){if(this._super){this._super()
	}this.inputNode.setAttribute("placeholder",this.placeholderText)
	this.inputNode.setAttribute("maxlength",this.maxLength)
	},isClear:function E(){return !this.text||this.text.length===0
	},postClearSearch:mstrmojo.emptyFn,searchTriggered:function M(Q){}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo._HasSuggestion")
	var F=-1,E=0,D=1
	mstrmojo._ValidateSuggestions=mstrmojo.provide("mstrmojo._ValidateSuggestions",mstrmojo.hash.copy(mstrmojo._HasSuggestion,{_mixinName:"mstrmojo._ValidateSuggestions",itemValidationField:"did",verifyObject:function C(J,H){var M=this.candidates,L
	if(M){var I=M.items,G=mstrmojo.array.find(I,this.itemValidationField,H.data[this.itemValidationField])
	G=G>-1?G:mstrmojo.array.find(I,this.itemField,J)
	if(G>-1){H.updateData(I[G])
	L=E
	}else{if(M.isComplete){L=D
	}}}if(L!==undefined){return L
	}var K=this._vqueue=this._vqueue||[]
	K.push({pattern:J,id:H.data[this.itemIdField]})
	if(!this._vInProgress){this.verifyNextCandidate()
	}return F
	},verifyNextCandidate:function B(){var G=this._vqueue
	if(!G||G.length===0){this._vInProgress=false
	return 
	}this.verifyCandidate(G.shift())
	},verifyCandidate:function A(H){var G=this
	this._vInProgress=true
	this.getCandidatesThroughTaskCall({pattern:H.pattern,blockBegin:1,blockCount:G.noCache?-1:this.suggestCount,isVerify:true},{success:function(N){var K=G.ctxtBuilder.itemWidgets,J=K&&K.length,O,M
	for(M=0
	M<J
	M++){if(K[M].data[G.itemIdField]===H.id){O=K[M]
	break
	}}if(!O){return 
	}var L=N.items
	if(L&&L.length===1){O.updateData(L[0])
	}else{if(L&&L.length>1){var I=mstrmojo.array.find(L,"did",O.data.did)
	if(I>-1){O.updateData(L[I])
	}else{O.set("state",D)
	}}else{O.set("state",D)
	}}},failure:function(I){mstrmojo.alert(I.getResponseHeader("X-MSTR-TaskFailureMsg"))
	},complete:function(){G.verifyNextCandidate()
	}})
	}}))
	mstrmojo._ValidateSuggestions.ENUM_STATES={UNDETERMINED:F,VALID:E,INVALID:D}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.ME.MetricDataService","mstrmojo.ME.DerivedMetricOptions")
	mstrmojo.requiresDescs(2140)
	var B=mstrmojo.array
	mstrmojo.ME._DerivedMetricEditorHelper=mstrmojo.provide("mstrmojo.ME._DerivedMetricEditorHelper",{isDME:true,noCache:false,closeLabel:mstrmojo.desc(2140,"Cancel"),saveAsEnabled:false,tbBrowsable:false,init:function C(D){this._super(D)
	},onApplyMetricCallback:mstrmojo.emptyFn,optionPopupRef:{scriptClass:"mstrmojo.ME.DerivedMetricOptions",title:mstrmojo.desc(13035,"Metric Options"),help:"create_derived_metric.htm",width:300},replaceAttributeWithForms:function A(E){var D=[]
	B.forEach(E,function(F){if(F.t===mstrmojo.mstr.EnumDSSXMLObjectTypes.Attribute&&F.fs){B.forEach(F.fs,function(G){if(G.obf||F.da){D.push({n:F.n+"@"+G.fnm,did:F.did+"@"+G.fid,fmdid:G.fid,fnm:G.fnm,t:G.t,frm:G,oi:F,path:F.path})
	}})
	}else{D.push(F)
	}})
	return D
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.FieldSet","mstrmojo.Label","mstrmojo.ColorPicker")
	var A=mstrmojo.hash,B=mstrmojo.color
	mstrmojo.FillFormatter=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.FillFormatter",cssClass:"mstrmojo-FillFormatter",isChart:false,markupString:'<div id={@id} class="{@cssClass}" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},postCreate:function(){this.onmodelChange()
	},onmodelChange:function(){if(this.model&&!this.model.scriptClass){A.make(this.model,mstrmojo.Obj)
	}},children:[{scriptClass:"mstrmojo.FieldSet",alias:"fill",cssClass:"mstrmojo-FormatEditor-fill",legend:mstrmojo.desc(2885,"Fill"),bindings:{legend:"this.parent.isChart ? mstrmojo.desc(3902, 'Series Colors') : mstrmojo.desc(2885, 'Fill')"},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2060,"Color"),cssClass:"label"},mstrmojo.ColorPicker.createDropDown({bindings:{m:"this.parent.parent.model",fillStyle:function(){var H=this.m,J=parseInt(H.FillStyle,10)
	if(J===2){var E=parseInt(H.GradientAngle,10),I=E===0?1:0,D=B.decodeColor(H.FillColor),K=B.decodeColor(H.GradientColor),C=parseInt(H["Gradient"+(E===0?"X":"Y")+"Offset"],10)===100?1:0,G=(C!==1)?mstrmojo.css.buildGradient(I,D,K):mstrmojo.css.buildGradient(I,K,D)
	this.set("gradientCss",G.n+":"+G.v)
	this._updateGradientInfo()
	}else{var F=this.m.FillColor
	if(F!==undefined&&/^\d{1,8}$/.test(F)){F=B.decodeColor(F)
	}else{F="transparent"
	}this.set("fillColor",F)
	}return J||0
	}},_updateGradientInfo:function(){var C=this.m
	this.gradient=mstrmojo.hash.copy({FillColor:B.decodeColor(C.FillColor),GradientColor:B.decodeColor(C.GradientColor)},A.copy(C))
	},onfillColorChange:function(){this.m.FillColor=(this.fillColor==="transparent"?"pru":B.encodeColor(this.fillColor))
	this.m.FillStyle=0
	},ongradientChange:function(C){var F=["FillStyle","FillColor","GradientColor","GradientXOffset","GradientYOffset","GradientAngle"],E
	for(E=0
	E<F.length
	E++){var D=C.value[F[E]]
	this.m[F[E]]=/Color$/.test(F[E])?B.encodeColor(D):D
	}this.m.FillStyle=2
	}},{showGradients:false})]}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo._FormatDefinition","mstrmojo.Table","mstrmojo._HasLayout","mstrmojo.color","mstrmojo.ColorPicker")
	var D=mstrmojo.hash,C=mstrmojo.array,F=mstrmojo._FormatDefinition,B=mstrmojo.color
	var A=function(G){var H={scriptClass:"mstrmojo.List",cssClass:"mstrmojo-FormatEditor-fontFamily",itemCssClass:"mstrmojo-FormatEditor-bullet",selectedIndex:0,itemIdField:"v",itemMarkup:'<div class="mstrmojo-FormatEditor-bullet"><div class="mstrmojo-text">{@n}</div></div>'}
	return D.copy(G,H)
	}
	var E=function(I){var H=I.alias,G=I.label,J=I.pr
	return{alias:H,scriptClass:"mstrmojo.TristateCheckBox",text:G,checked:false,grayed:false,bindings:{m:I.modelBinding,checked:function(){return this.m[J]==-1
	},grayed:function(){return(typeof this.m[J]=="undefined")||this.m[J]=="pru"
	}},oncheckedChange:function(K){if(this.m){this.m.set(J,this.checked?-1:0)
	}}}
	}
	mstrmojo.FontFormatter=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.FontFormatter",cssClass:"mstrmojo-FontFormatter",markupString:'<div id={@id} class="{@cssClass}" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},postCreate:function(){this.onmodelChange()
	},onmodelChange:function(){if(this.model&&!this.model.scriptClass){D.make(this.model,mstrmojo.Obj)
	}},children:[{scriptClass:"mstrmojo.Table",layout:[{cells:[{},{},{}]},{cells:[{},{colSpan:2}]}],children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2172),slot:"0,0"},A({items:F.Families,itemMarkup:'<div class="mstrmojo-FormatEditor-bullet"><div class="mstrmojo-text" style="font-family:{@n}">{@n}</div></div>',pr:"Name",bindings:{selectedIndex:function(){var H=this.parent.parent.model
	if(H){var I=H.Name,G=C.find(this.items,this.itemIdField,I)
	return G==-1?0:G
	}}},onchange:function(){var G=this.parent.parent.model
	if(G){G.set("Name",this.selectedItem.v)
	}},slot:"0,0"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(3059),slot:"0,1"},A({items:F.Styles,cssClass:"mstrmojo-FormatEditor-fontStyle",bindings:{selectedIndex:function(){var K=this.parent.parent.model
	if(K){var I=K.Bold||"",H=K.Italic||"",J=I==""&&H==""?"":I+","+H,G=mstrmojo.array.find(this.items,this.itemIdField,J)
	G=G==-1?mstrmojo.array.find(this.items,"v2",J):G
	return(G==-1?0:G)
	}}},onchange:function(){var I=this.parent.parent.model
	if(I&&this.selectedItem){var H=this.selectedItem.v.split(","),G=italic="pru"
	if(H[0]!="pru"){G=H[0]=="-1"?"-1":"0"
	italic=H[1]=="-1"?"-1":"0"
	}I.set("Bold",G)
	I.set("Italic",italic)
	}},slot:"0,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2178),slot:"0,2"},A({items:F.Sizes,cssClass:"mstrmojo-FormatEditor-fontSize",bindings:{selectedIndex:function(){var H=this.parent.parent.model
	if(H){var I=H.Size,G=C.find(this.items,this.itemIdField,I)
	return G==-1?0:G
	}}},onchange:function(){var G=this.parent.parent.model
	if(G){G.set("Size",this.selectedItem.v)
	}},slot:"0,2"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(3060),slot:"1,0"},{scriptClass:"mstrmojo.VBox",cssClass:"mstrmojo-FormatEditor-fontEffect",postCreate:function(){this.addChildren(E({alias:"Underline",label:mstrmojo.desc(3061),pr:"Underline",modelBinding:"this.parent.parent.parent.model"}))
	this.addChildren(E({alias:"Strikeout",label:mstrmojo.desc(3062),pr:"Strikeout",modelBinding:"this.parent.parent.parent.model"}))
	},slot:"1,0"},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(3063),slot:"1,1"},mstrmojo.ColorPicker.createDropDown({pr:"Color",bindings:{fillColor:function(){var G=this.parent.parent.model
	if(G){var H=G[this.pr]
	if(typeof (H)!="undefined"&&/^\d{1,8}$/.test(H)){return B.decodeColor(H)
	}}return"transparent"
	}},onfillColorChange:function(){if(this.parent.parent.model){this.parent.parent.model.set(this.pr,this.fillColor=="transparent"?"pru":B.encodeColor(this.fillColor))
	}},slot:"1,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(2036),slot:"1,1"},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-FormatEditor-fontPreview",text:mstrmojo.desc(2037),bindings:{m:"this.parent.parent.model",cssText:function(){var H=this.m.Color,J=this.m.Size,K=this.m.Name,I=this.m.Bold,G=this.m.Italic,M=this.m.Underline,L=this.m.Strikeout
	H=/^\d{1,8}$/.test(H)?B.decodeColor(H):B.decodeColor(F.DefaultFormat.FormattingFont.Color)
	J=J||F.DefaultFormat.FormattingFont.Size
	K=K||F.DefaultFormat.FormattingFont.Name
	I=I=="-1"?"bold":"normal"
	G=G=="-1"?"italic":"normal"
	M=parseInt(M)==-1
	L=parseInt(L)==-1
	return"
	font-family:"+K+"
	font-style:"+G+"
	font-weight:"+I+"
	font-size:"+J+"pt
	color:"+H+"
	text-decoration:"+(M?" underline ":"")+(L?" line-through ":"")
	}},slot:"1,1"}]}]})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.FieldSet","mstrmojo._FormatDefinition","mstrmojo.Label","mstrmojo.Pulldown","mstrmojo.ColorPicker")
	var C=mstrmojo.hash,A=mstrmojo.color,D=mstrmojo._FormatDefinition
	var B=function(F,I,E){var H=["Left","Right","Top","Bottom"]
	for(var G=0
	G<3
	G++){F[H[G]+I]=E
	}F.set(H[3]+I,E)
	}
	mstrmojo.BorderFormatter=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.BorderFormatter",cssClass:"mstrmojo-BorderFormatter",markupString:'<div id={@id} class="{@cssClass}" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},postCreate:function(){this.onmodelChange()
	},onmodelChange:function(){if(this.model&&!this.model.scriptClass){C.make(this.model,mstrmojo.Obj)
	}},children:[{scriptClass:"mstrmojo.FieldSet",alias:"borders",cssClass:"mstrmojo-FormatEditor-border",legend:mstrmojo.desc(2886),children:[{scriptClass:"mstrmojo.Table",alias:"borderTable",cssText:"width:100%
	",rows:1,cols:2,children:[{scriptClass:"mstrmojo.List",alias:"borderTypes",selectedIndex:0,cssClass:"borderTypes",items:[{n:'<img border="0" align="absmiddle" src="../images/borders_none.gif" alt=""> '+mstrmojo.desc(2057),v:1},{n:'<img border="0" align="absmiddle" src="../images/borders_all.gif" alt=""> '+mstrmojo.desc(2058),v:2},{n:'<img border="0" align="absmiddle" src="../images/borders_custom.gif" alt=""> '+mstrmojo.desc(2056),v:3}],slot:"0,0",bindings:{m:"this.parent.parent.parent.model",selectedIndex:function(){var E=this.m
	if(C.isEmpty(E)){return 0
	}if(E.LeftStyle==0&&E.TopStyle==0&&E.RightStyle==0&&E.BottomStyle==0){return 0
	}else{if(E.LeftStyle==E.TopStyle&&E.LeftStyle==E.RightStyle&&E.LeftStyle==E.BottomStyle){return 1
	}}return 2
	}},onchange:function(E){if(this.m){var G=this.parent.borderAndColor
	if(!G){return 
	}if(this.selectedIndex===0){var H=["Left","Right","Top","Bottom"]
	for(var F=0
	F<4
	F++){this.m.set(H[F]+"Style","0")
	this.m.set(H[F]+"Color","0")
	}}}}},{scriptClass:"mstrmojo.Container",alias:"borderAndColor",markupString:'<div class="borderStyles"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},children:[{scriptClass:"mstrmojo.Container",alias:"allBordersContainer",markupString:'<div class="mstrmojo-FormatEditor-ColorLine-borders"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},bindings:{visible:"this.parent.parent.borderTypes.selectedIndex==1"},children:[{scriptClass:"mstrmojo.Table",alias:"allBorders",rows:1,cols:3,onshowChange:function(){if(this.show){B(this.m,"Style",this.styles.value)
	B(this.m,"Color",A.encodeColor(this.colors.fillColor))
	}},bindings:{m:"this.parent.parent.parent.parent.parent.model"},postCreate:function(){var F=["Left","Right","Top","Bottom"]
	var E=[{scriptClass:"mstrmojo.Pulldown",alias:"styles",items:D.BorderStyles,itemIdField:"v",bindings:{m:"this.parent.m",value:function(){var I=this.m.LeftStyle,K=this.m.RightStyle,J=this.m.TopStyle,H=this.m.BottomStyle
	var G=0
	if(I==K&&K==H&&H==J){G=mstrmojo.array.find(D.BorderStyles,"v",I)
	}G=G==-1?0:G
	return this.items[G][this.itemIdField]
	}},onvalueChange:function(){if(this.parent.parent.visible){B(this.m,"Style",this.value)
	}},slot:"0,1"},mstrmojo.ColorPicker.createDropDown({alias:"colors",bindings:{m:"this.parent.m",fillColor:function(){var H=this.m.LeftColor,K=this.m.RightColor,J=this.m.TopColor,G=this.m.BottomColor
	if(H==K&&K==G&&G==J){var I=H
	}if(typeof (I)!="undefined"&&/^\d{1,8}$/.test(I)){return A.decodeColor(I)
	}return"transparent"
	}},onfillColorChange:function(){if(this.parent.parent.visible){B(this.m,"Color",this.fillColor=="transparent"?"pru":A.encodeColor(this.fillColor))
	}},slot:"0,2"})]
	this.addChildren(E)
	}}]},{scriptClass:"mstrmojo.Container",alias:"customBordersContainer",markupString:'<div class="mstrmojo-FormatEditor-ColorLine-borders"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	}},bindings:{visible:"this.parent.parent.borderTypes.selectedIndex==2"},children:[{scriptClass:"mstrmojo.Table",alias:"customBorders",rows:1,cols:3,bindings:{m:"this.parent.parent.parent.parent.parent.model"},postCreate:function(){var H=["Left","Right","Top","Bottom"]
	var G=[]
	for(var F=0
	F<H.length
	F++){var E=H[F]
	G.push({scriptClass:"mstrmojo.Label",text:mstrmojo.desc({Left:3528,Right:3529,Top:3526,Bottom:3527}[E]),alias:E,slot:"0,0"},{scriptClass:"mstrmojo.Pulldown",items:D.BorderStyles,itemIdField:"v",pr:E+"Style",bindings:{m:"this.parent.m",value:function(){var K=this.m.LeftStyle,M=this.m.RightStyle,L=this.m.TopStyle,J=this.m.BottomStyle
	var I=mstrmojo.array.find(D.BorderStyles,"v",this.m[this.pr])
	I=I==-1?0:I
	return this.items[I][this.itemIdField]
	}},onvalueChange:function(){if(this.parent.parent.visible){this.m.set(this.pr,this.value)
	}},slot:"0,1"},mstrmojo.ColorPicker.createDropDown({cssClassx:"mstrmojo-FormatEditor-colorPicker",alias:E+"Color",pr:E+"Color",bindings:{m:"this.parent.m",fillColor:function(){var J=this.m.LeftColor,M=this.m.RightColor,L=this.m.TopColor,I=this.m.BottomColor
	var K=this.m[this.pr]
	if(typeof (K)!="undefined"&&/^\d{1,8}$/.test(K)){return A.decodeColor(K)
	}return"transparent"
	}},onfillColorChange:function(){if(this.parent.parent.visible){this.m.set(this.pr,this.fillColor=="transparent"?"pru":A.encodeColor(this.fillColor))
	}},slot:"0,2"}))
	}this.addChildren(G)
	}}]}],slot:"0,1"}]},{scriptClass:"mstrmojo.Label",cssClass:"borderPreview",text:mstrmojo.desc(7941),bindings:{m:"this.parent.parent.model",cssText:function(){var G={0:"None",3:"Dashed",4:"Dotted",6:"Double",7:"Solid"},E={1:"Thin",5:"Thick",6:"medium"}
	var F=this.parent.borderTable.borderTypes.selectedIndex
	return"
	border-left-style: "+(G[this.m.LeftStyle]||"solid")+"
	border-right-style: "+(G[this.m.RightStyle]||"solid")+"
	border-top-style: "+(G[this.m.TopStyle]||"solid")+"
	border-bottom-style: "+(G[this.m.BottomStyle]||"solid")+"
	border-left-color: "+A.decodeColor(this.m.LeftColor||"0")+"
	border-right-color: "+A.decodeColor(this.m.RightColor||"0")+"
	border-top-color: "+A.decodeColor(this.m.TopColor||"0")+"
	border-bottom-color: "+A.decodeColor(this.m.BottomColor||"0")+"
	border-left-width: "+(E[this.m.LeftStyle]||"thin")+"
	border-right-width: "+(E[this.m.RightStyle]||"thin")+"
	border-top-width: "+(E[this.m.TopStyle]||"thin")+"
	border-bottom-width: "+(E[this.m.BottomStyle]||"thin")
	}}}]}]})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Stepper","mstrmojo._HasLayout","mstrmojo.ui.editors.controls.ValidationTextBox","mstrmojo.expr","mstrmojo.css")
	var C=mstrmojo.expr.DTP,B=mstrmojo.css,A="mstrmojo-Stepper-ErrValidation"
	mstrmojo.ui.editors.controls.Stepper=mstrmojo.declare(mstrmojo.Stepper,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.ui.editors.controls.Stepper",nextAriaLabel:"",prevAriaLabel:"",markupString:'<div id="{@id}" class="mstrmojo-Stepper {@orientation} {@cssClass}" mstrAttach:click,mousedown,mouseup,mousemove,selectstart><div class="title">{@title}</div><div class="next" role="button" aria-label="{@en@nextAriaLabel}">+</div><div class="text"></div><div class="prev" role="button" aria-label="{@en@prevAriaLabel}">-</div></div>',layoutConfig:{w:{textNode:"100%"},xt:true},textInput:null,init:function E(F){var G=F.provider
	if(!!mstrApp.isWSStyling){this.layoutConfig=null
	}this.children=[{scriptClass:"mstrmojo.ui.editors.controls.ValidationTextBox",alias:"textInput",slot:"textNode",dtp:G.dtp||C.INTEGER,maxLength:G.maxLength,constraints:{validator:G.validator,max:G.max,min:G.min},onValid:function(){var H=this.parent
	B.removeClass(H.domNode,A)
	G.setVal(parseInt(this.value,10)||0)
	H.updateDisplayText()
	}}]
	this._super(F)
	this.addDisposable(G)
	B.addWidgetCssClass(this,"mstrmojo-ui-ctrl-Stepper")
	},postBuildRendering:function(){this.updateDisplayText()
	this._super()
	},updateDisplayText:function D(){this.textInput.set("value",this.provider.getVal())
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.TextBox","mstrmojo.Button","mstrmojo.HBox","mstrmojo.EnumAuthenticationModes","mstrmojo.UsherLogin","mstrmojo.string","mstrmojo.cookies")
	mstrmojo.requiresDescs(17,18,221,11804,11863)
	var F=mstrmojo.EnumAuthenticationModes,D={}
	D[F.LDAP]=mstrmojo.desc(1947,"LDAP Authentication")
	D[F.DATABASE]=mstrmojo.desc(1948,"Database Authentication")
	var L={LIVE_OR_HL:0,PERSISTED:1}
	function B(){return(JSON.parse(decodeURIComponent(mstrmojo.cookies.getCookieSetting("lastMsgID")||"{}")))[mstrConfig.lastMsgKey]
	}function C(){var Q=this,R=Q.stdLoginInfo,O=R.user.value,N=R.tsvCode.value,S=R.pwd.value,U={taskId:"login",server:mstrConfig.serverName,project:mstrmojo.string.decodeHtmlString(mstrConfig.projectName),port:mstrConfig.serverPort,authMode:mstrConfig.authMode,setAsActiveSession:true}
	var P=B()
	if(P){U.msgID=P
	}if((this.authMode&(F.STANDARD|F.LDAP|F.DATABASE))>0){U.userid=O
	U.password=S
	U.tsvCode=N
	}mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(Y){if(Y&&Y.sessionState){mstrApp.updateSessionState(Y.sessionState)
	if(mstrApp.sessionManager){mstrApp.sessionManager.restart()
	}var b=Y
	var a=b.servletState
	if(a){if(mstrApp){mstrApp.servletState=a
	}if(mstrConfig){mstrConfig.servleState=a
	}}var X=Y.resCode
	if(X==L.LIVE_OR_HL&&(mstrApp.isVI||mstrApp.scriptClass==="mstrmojo.OIVMApp"||mstrApp.analysisID)){mstrmojo.xhr.request("post",mstrConfig.taskURL,{success:function(){var c=Q.config.callback,d=c.success
	if(d){d(b)
	}},failure:function(){mstrmojo.form.send({evt:3010,src:mstrApp.name+".3010"},null,"POST")
	}},{taskId:"docXMLResults",sessionState:Y.sessionState,msgID:Y.msgID,resultFlags:33554432})
	}else{var W=Q.config.callback,Z=W.success
	if(Z){Z(b)
	}}}Q.destroy()
	},failure:function(W){if(Q.authMode===mstrmojo.EnumAuthenticationModes.NTCREDENTIAL){Q.set("visible",true)
	}mstrmojo.alert(W.getResponseHeader("X-MSTR-TaskFailureMsg"),null,null,Q.zIndex)
	}},U)
	}function M(){if(mstrApp.sessionManager){mstrApp.sessionManager.gotoLogoutPage()
	}}mstrmojo.LoginEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.LoginEditor",cssClass:"mstrmojo-LoginEditor",title:mstrmojo.desc(11804,"Log in to"),btnAlignment:"right",help:null,config:{callback:{},taskParams:{}},authMode:F.STANDARD,usherEnabled:false,init:function K(N){this._super(N)
	this.title+=" "+mstrApp.projectName
	this.set("authMode",parseInt(mstrConfig.authMode,10))
	if(this.isUsherLogin()){mstrmojo.css.addWidgetCssClass(this,"usher")
	}},isUsherLogin:function(){return this.authMode===F.USHER
	},onvisibleChange:function J(){if(this.visible&&(mstrmojo.dom.isFF||mstrmojo.dom.isWK)){var N=this.stdLoginInfo.user
	window.setTimeout(function(){N.focus()
	},50)
	}},onOpen:function E(){if(this.authMode===mstrmojo.EnumAuthenticationModes.NTCREDENTIAL){this.set("visible",false)
	}},onClose:function G(){M()
	},destroy:function I(){mstrmojo.dom.detachEvent(document.body,"mousedown",this.stopPropagation,true)
	this._super()
	},postBuildRendering:function A(){if(this.authMode===mstrmojo.EnumAuthenticationModes.NTCREDENTIAL){C.call(this)
	return 
	}else{var N=this._super()
	this.stopPropagation=function(O){O.stopPropagation()
	}
	mstrmojo.dom.attachEvent(document.body,"mousedown",this.stopPropagation,true)
	return N
	}},preBuildRendering:function H(){if(this.isUsherLogin()){var O=this,N=mstrmojo.insert({scriptClass:"mstrmojo.UsherLogin",alias:"usherLogin",onUsherLogin:function(){mstrConfig.authMode=F.USHER
	C.call(O)
	}})
	this.addChildren([N],1)
	}return this._super()
	},children:[{scriptClass:"mstrmojo.Label",cssText:"margin-bottom: 20px
	line-height: 1.5em
	",text:mstrmojo.desc(11863,"Your user session has timed out due to inactivity, and you have been automatically logged out. Please log in again.")},{scriptClass:"mstrmojo.Box",alias:"stdLoginInfo",cssClass:"std-login-container",bindings:{visible:function(){return this.parent.authMode!==F.USHER
	}},children:[{scriptClass:"mstrmojo.TextBox",alias:"user",cssClass:"login-username",cssDisplay:"block",hint:mstrmojo.desc(17,"User name"),postCreate:function(){if(mstrmojo.dom.isIE9||mstrmojo.dom.isIE8||mstrmojo.dom.isIE7){this.emptyText=mstrmojo.desc(17,"User name")
	}},onEnter:function(){C.call(this.parent.parent)
	}},{scriptClass:"mstrmojo.TextBox",alias:"pwd",cssClass:"login-pwd",cssDisplay:"block",hint:mstrmojo.desc(18,"Password"),type:"password",postCreate:function(){if(mstrmojo.dom.isIE9||mstrmojo.dom.isIE8||mstrmojo.dom.isIE7){this.emptyText=mstrmojo.desc(18,"Password")
	}},onEnter:function(){C.call(this.parent.parent)
	}},{scriptClass:"mstrmojo.TextBox",alias:"tsvCode",cssClass:"login-tsvCode",cssDisplay:"block",hint:mstrmojo.desc(13825,"Usher code"),bindings:{visible:function(){return mstrConfig.features["is-two-step-verification-required"]
	}},postCreate:function(){if(mstrmojo.dom.isIE9||mstrmojo.dom.isIE8||mstrmojo.dom.isIE7){this.emptyText=mstrmojo.desc(13825,"Usher code")
	}},onEnter:function(){C.call(this.parent.parent)
	}},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-LoginEditor-authMode",bindings:{visible:function(){return this.parent.parent.authMode===F.LDAP||this.parent.parent.authMode===F.DATABASE
	},text:function(){return D[this.parent.parent.authMode]||""
	}}}]},{scriptClass:"mstrmojo.HBox",slot:"buttonNode",alias:"btns",cssClass:"mstrmojo-Editor-buttonBar",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Button mstrmojo-WebButton hot",text:mstrmojo.desc(26,"Login"),bindings:{enabled:"this.parent.parent.stdLoginInfo.user.value.length > 0",visible:function(){return this.parent.parent.authMode!==F.USHER
	}},onclick:function(){C.call(this.parent.parent)
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Button mstrmojo-WebButton",text:mstrmojo.desc(221,"Cancel"),onclick:function(){M()
	}}]}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.ui.menus._HasMenuPopup","mstrmojo.vi._MonitorsAppState","mstrmojo.vi._MonitorsLayoutMode","mstrmojo._HasOwnAvatar","mstrmojo.vi.ui._IsDropTarget","mstrmojo.EditableLabel","mstrmojo.ui.menus.MenuConfig","mstrmojo.css")
	var A=mstrmojo.css,N=mstrmojo.dom,M="draggedTab",J="stopDragging",n=1,L=2,r=4,G=8,m=16
	function o(t){return function(){A.toggleClass(this.tabStripMenuNode,"active",t)
	}
	}function j(AE){var z=new mstrmojo.ui.menus.MenuConfig({supportsScroll:true,maxHeight:N.getMaxScrollHeight()}),t=this.getMenuActions(),AC=this.index,v=this.id,w=this.total,AA=this.parent,u=function(){var AF=AA&&AA.getTabs()
	return AF&&AF.length>AC?AF[AC]:mstrmojo.all[v]
	}
	if((t&m)>0){this.addNewTabMenuItem(z)
	}if((t&r)>0){var AB=mstrmojo.desc(3397,"Duplicate"),AD=this.parent.scriptClass
	if(AD.indexOf("LayoutTabStrip")>=0){AB=mstrmojo.desc(15022,"Duplicate Chapter")
	}else{if(AD.indexOf("PanelTabStrip")>=0){AB=!AA.usePanelTitle()?mstrmojo.desc(14923,"Duplicate Page"):mstrmojo.desc(6048,"Duplicate Panel")
	}}z.addMenuItem(AB,"dup",function(){u().tabDuplicated()
	})
	}if(AD&&AD.indexOf("PanelTabStrip")>=0){z.addMenuItem(!AA.usePanelTitle()?mstrmojo.desc(18367,"Format Page"):mstrmojo.desc(19745,"Format Panel"),"fmt",function(){u().tabFormat(true)
	})
	}if((t&L)>0){if(AC){z.addMenuItem(mstrmojo.desc(5362,"Move Left"),"lft",function(){u().tabMoved(true)
	})
	}if(AC<w-1){z.addMenuItem(mstrmojo.desc(5363,"Move Right"),"rgt",function(){u().tabMoved(false)
	})
	}}z.addSeparator()
	if((t&n)>0){z.addMenuItem(mstrmojo.desc(1388,"Rename"),"rnm",function(){u().lbl.set("isEditing",true)
	})
	}if((t&G)>0){if(w>1){z.addMenuItem(mstrmojo.desc(629,"Delete"),"cls",function(){u().tabDeleted()
	})
	}}var x=this.getCustomMenu()
	if(x&&x.hasMenuItems()){z.addSeparator()
	z.absorbMenuItems(x)
	}z.addPopupHandlers(this.id,o(true),o(false))
	this.showTabMenu(this.updateMenuCfg(z),AE)
	}mstrmojo.vi.ui.tabs.Tab=mstrmojo.declare(mstrmojo.Container,[mstrmojo.ui.menus._HasMenuPopup,mstrmojo._HasOwnAvatar,mstrmojo.vi.ui._IsDropTarget,mstrmojo.vi._MonitorsAppState,mstrmojo.vi._MonitorsLayoutMode],{scriptClass:"mstrmojo.vi.ui.tabs.Tab",markupString:'<div id="{@id}" class="mstrmojo-VITab unselectable {@cssClass}" style="{@cssText}" unselectable="on" mstrAttach:contextmenu,click><div><div class="mstrmojo-VITab-tab"></div><div class="mstrmojo-VITab-menu"></div></div></div>',markupSlots:{containerNode:function S(){return this.domNode.firstChild.firstChild
	},menuBtnNode:function q(){return this.domNode.firstChild.lastChild
	}},markupMethods:{ontitleChange:function I(){this.lbl.set("text",this.title)
	},onisSelectedChange:function k(){mstrmojo.css.toggleClass(this.domNode,"selected",this.isSelected)
	},onzIndexChange:function l(){this.domNode.style.zIndex=this.zIndex
	}},zIndex:1,menuBtnNode:null,lbl:null,title:"",index:-1,total:-1,isSelected:false,isCutoff:false,isHidden:false,isLeftMost:false,isRightMost:false,leftEdgeHiddenWidth:0,rightEdgeHiddenWidth:0,children:[{scriptClass:"mstrmojo.EditableLabel",alias:"lbl",editOnClick:false,onTextEditComplete:function X(u,t){if(u){this.parent.titleEdited(this.text,t)
	}}}],postBuildRendering:function Q(){var t=this.isValidMode()
	if(!t||(mstrApp.isLayoutModePreview&&mstrApp.isLayoutModePreview())){this.draggable=false
	}this.lbl.set("editOnDoubleClick",t)
	this._super()
	},oncontextmenu:function c(t){this.onclick(t)
	t.e.handledByTab=true
	t.preventDefault()
	},onclick:function f(t){var v=this.domNode
	if(A.hasClass(v,J)){A.removeClass(v,J)
	return 
	}var u=function(){if(this.isValidMode()){this.postTabClicked(this,t)
	}}
	if(!this.isSelected){this.tabSelected({success:u.bind(this)})
	}else{u.call(this)
	if(this.tabSelectCurrent){this.tabSelectCurrent()
	}}t.e.handledByTab=true
	},postTabClicked:function p(w,u){w=this.findSelectedTab(this)||w
	var t=w.menuBtnNode,x=u.getTarget().className===t.className,v
	if(x){v=N.position(t)
	}if(u.name==="contextmenu"||(x&&!(v.x||v.y))){v={x:u.e.clientX,y:u.e.clientY}
	}if(v){j.call(w,v)
	}},getMenuActions:function e(){return 0
	},getCustomMenu:function Z(){return null
	},isDragValid:function R(){return this.parent.children.length>1&&!this.lbl.isEditing&&this.isValidMode()
	},createAvatar:function U(){var t=document.createElement("div")
	t.appendChild(this.domNode.cloneNode(true))
	t.style.margin="-5px 0 0 10px"
	return t
	},addTabDnDStyle:function Y(){var t=this.lbl.domNode
	if(t&&!this.isSelected){A.addClass(t,M)
	}},clearTabDnDStyle:function F(){var t=this.lbl.domNode
	if(t&&!this.isSelected){A.removeClass(t,M)
	}},allowDrop:function D(t){var u=t.src.widget
	return u&&u.parent===this.parent
	},dropTab:function K(t){var w=t.src,v=w.data,u=w.widget
	u.clearTabDnDStyle()
	this.parent.moveTab(v.idx,this.index,v.fromIdx)
	},ondragenter:function H(u){this._super(u)
	var w=u.src.data,v=u.src.widget,t=this.index
	this.parent.moveTab(w.idx,t)
	w.idx=t
	},ondragover:function b(v){var t=v.tgt.node,u=v.tgtData,w=u&&u.node,x=v.src.widget
	if(!u||w!==t){v.tgtData={node:t}
	}if(x&&!x.isSelected){x.addTabDnDStyle()
	}},ondragleave:function P(t){this._super(t)
	var u=t.src.widget
	if(u&&!u.isSelected){u.addTabDnDStyle()
	}},ondragend:function C(t){this._super(t)
	A.addClass(this.domNode,J)
	this.dropTab(t)
	},getDragData:function d(){var v=this.id,t=this.index
	return{setAvatarClass:function u(w){var AA=mstrmojo.all[v],x=AA.avatar
	if(x){var z=[AA.avatarCssClass,"hasOwnAvatar",w]
	x.className=z.join(" ")
	}},fromIdx:t,idx:t}
	},getDropAvatarIcon:function B(){return"pivot"
	},isValidMode:function E(){return !((mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation())||(mstrApp.isAppStateSelection&&mstrApp.isAppStateSelection())||(mstrApp.allowWebDashboardDesign&&!mstrApp.allowWebDashboardDesign()))
	},cleanUpAfterTarget:function g(t){this.clearTabDnDStyle()
	this._super(t)
	},onAppStateChange:function h(u){var w=this.lbl,v=this.isValidMode(),t=mstrApp.isLayoutPreview(u.value)
	w.set("isEditing",false)
	w.set("editOnDoubleClick",v)
	this.draggable=v&&!t
	},onLayoutModeChange:function O(u){var v=this.isValidMode(),t=mstrApp.isLayoutPreview(u.value)
	this.draggable=v&&!t
	},addNewTabMenuItem:function W(t){this.throwAbstractMethodError("addNewTabMenuItem")
	},findSelectedTab:mstrmojo.emptyFn,tabSelected:mstrmojo.emptyFn,titleEdited:mstrmojo.emptyFn,tabMoved:mstrmojo.emptyFn,tabDeleted:mstrmojo.emptyFn,tabDuplicated:mstrmojo.emptyFn,showTabMenu:mstrmojo.emptyFn,updateMenuCfg:function a(t){return t
	}})
	mstrmojo.vi.ui.tabs.Tab.ACTIONS={NEW_TAB:m,RENAME:n,MOVE:L,DUPLICATE:r,DELETE:G}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.ui.menus.MenuConfig")
	var A=mstrmojo.func,J=mstrmojo.desc(2177,"Close")
	function G(M){return function(O,N){N.openMenu(M,O)
	}
	}mstrmojo.ui.menus.ToolbarConfig=mstrmojo.declare(mstrmojo.ui.menus.MenuConfig,null,{scriptClass:"mstrmojo.ui.menus.ToolbarConfig",btns:null,hasCloseButton:false,closeButtonText:J,showContextMenu:true,addCloseButton:function E(M){this.hasCloseButton=true
	if(M){this.closeButtonText=M
	}},preShowMenu:mstrmojo.emptyFn,addToolbarBtn:function I(S,N,Q,M,O,R){var P={n:S,cls:N,fn:Q,ctxt:M,ttp:R}
	if(isNaN(O)||O>=this.btns.length){this.btns.push(P)
	}else{this.btns.splice(O,0,P)
	}return P
	},addDisabledToolbarBtn:function I(P,N,M){var O=this.addToolbarBtn(P,(N||"")+" disabled",mstrmojo.emptyFn,M)
	O.dsbld=true
	},addToolbarPickerBtn:function B(S,N,Q,R,M,O){var P={n:S,cls:N,fn:Q,ctxt:M,tp:"pb",menufn:G(R||this)}
	if(isNaN(O)||O>=this.btns.length){this.btns.push(P)
	}else{this.btns.splice(O,0,P)
	}},addMenuToolbarBtn:function H(Q,M,P,N,O){if(!P&&!this.hasMenuItems()){return 
	}this.addToolbarBtn(Q,M,A.composite([this.preShowMenu,G(P||this),(O||mstrmojo.emptyFn)]),null,N)
	},addToggleToolbarButton:function D(U,P,R,O,N,S,M){var Q=this.getToggleItemStates(U,P,R,O,S,M)
	this.addDualStateItem(N,Q[0],Q[1],true)
	},addDualStateItem:function L(N,M,O,P){this["add"+(P?"ToolbarBtn":"MenuItem")](M.n,M.cls,this.getDualStateHandler(N,M,O),M.ctxt,undefined,M.ttp)
	},getDualStateHandler:function C(N,M,O){var P=this._super(N,M,O)
	return function(Q,R){P.call(this,Q,R)
	if(Q.cls.indexOf("toggleManualMode")===-1){R.refresh()
	}}
	},addToolbarDivider:function K(){this.addToolbarBtn("","divider",mstrmojo.emptyFn)
	},clear:function F(){this.btns=[]
	this.hasCloseButton=false
	this.closeButtonText=J
	this._super()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.string","mstrmojo.dom","mstrmojo.css","mstrmojo.ui.menus._HasMenuPopup","mstrmojo.ui.menus.MenuConfig")
	var D=mstrmojo.string,A=mstrmojo.dom,E=mstrmojo.ui.PopupConfig.ENUM_CORNERS
	function B(){var K=this,J=K.statusList,F=J&&J.length||0,G=K.statusConfig||new mstrmojo.ui.menus.MenuConfig(),L=function(M){return function(N){K.set("status",M)
	K.onStatusClick(M)
	}
	}
	if(!G.hasMenuItems()&&F){for(var H=0
	H<F
	H++){var I=J[H]
	G.addMenuItem(I.n,I.cls||"",L(I),K)
	}}else{}if(G.hasMenuItems()){G.alignment=K.alignment||{host:E.BOTTOM_LEFT,popup:E.TOP_LEFT}
	G.hostId=K.id
	G.hostElement=K[K.hostElementName]||K.domNode
	K.openPopup(G.newInstance())
	}}function C(){var F=this.statusConfig||this.statusList&&this.statusList.length>1
	this.menuButtonNode.style.display=F?"":"none"
	}mstrmojo.ui.StatusButton=mstrmojo.declare(mstrmojo.Widget,[mstrmojo.ui.menus._HasMenuPopup],{scriptClass:"mstrmojo.ui.StatusButton",markupString:'<div id="{@id}" class="mstrmojo-StatusButton {@cssClass} {@iconClass}" title="{@title}" style="{@cssText}"><div class="mstrmojo-Button {@innerIconClass}"  mstrAttach:click><span class="mstrmojo-text"></span></div><div class="menuButton" mstrAttach:click></div></div>',markupSlots:{textNode:function(){return this.domNode.firstChild
	},textSpanNode:function(){return this.domNode.firstChild.firstChild
	},menuButtonNode:function(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onstatusChange:function(){this.textSpanNode.innerHTML=D.encodeHtmlString(this.status&&this.status.n||"")
	},onstatusListChange:function(){C.call(this)
	},onstatusConfigChange:function(){C.call(this)
	}},status:null,statusList:null,statusConfig:null,onclick:function(F){var G=A.eventTarget(F.hWin,F.e)
	if(A.contains(this.menuButtonNode,G,true)){B.call(this)
	}else{if(A.contains(this.textNode,G,true)){this.onButtonClick(this.status,F)
	}}},onButtonClick:mstrmojo.emptyFn,onStatusClick:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.string","mstrmojo.Widget","mstrmojo.ui.menus._HasMenuPopup","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo.ME.MetricDataService")
	mstrmojo.requiresDescs(3224)
	var a=["(",")","{","}","-","+","*","/","<",">","|","~",","],I={" ":true,"@":true},Z=null,Y=mstrmojo.dom,K=mstrmojo.css,H=mstrmojo.mstr.EnumDSSXMLObjectTypes,D=mstrmojo.mstr.EnumDSSXMLObjectSubTypes,b=mstrmojo.ME.MetricDataService
	function O(f){if(!Z){Z={}
	var e,d
	for(e=0,d=a.length
	e<d
	e++){Z[a[e]]=true
	}}return Z.hasOwnProperty(f)
	}function c(f){if(!f){return false
	}var d=f.length,e,g
	for(e=0
	e<d
	e++){g=f.charAt(e)
	if(g==="["){return false
	}if(O(g)||I[g]){return true
	}}return false
	}function A(d){return c(d)?"["+d+"]":d
	}function M(h){if(!h){return null
	}var d=h.length,g=h.split("["),f=g.length,k,j
	if(f===1){return h.split("@")
	}else{if(f===3){k=g[1]
	k="["+k.substring(0,k.length-1)
	j="["+g[2]
	}else{if(g[0].length===0){var l=g[1],e=l.indexOf("]")
	k="["+l.substring(0,e+1)
	if(e===l.length-1){return[k]
	}else{j=l.substring(e+2)
	}}else{var l=g[0]
	k=l.substring(0,l.length-1)
	j="["+g[1]
	}}}return[k,j]
	}var R={8:true,9:true,10:true}
	var C=function(e,d){return R[e]&&!/^\".*\"$/.test(d)?'"'+d+'"':d
	}
	var F=function(e,d,f){var g=typeof f==="undefined"?true:R[f]
	if(d.length===2&&d==='""'){return d
	}return e.tp===261&&d.length>=2&&g?(/^\s+$/.test(d.substr(1,d.length-2))?d:d.substr(1,d.length-2)):d
	}
	mstrmojo.ME.MetricToken=mstrmojo.declare(mstrmojo.Widget,[mstrmojo.ui.menus._HasMenuPopup],{data:null,markupString:'<span id={@id} class="mstrmojo-token {@cssClass}" mstrAttach:contextmenu></span>',active:false,markupMethods:{ondataChange:function(){var g=this.data,f=g.tp||this.dataType,h=this.isEmbeddedFilter(),e=h?"&nbsp
	":mstrmojo.string.encodeHtmlString(String(g.v))
	if(g.v===","){this.domNode.innerHTML=e+"&nbsp
	"
	}else{if(f===259&&g.v==="Desc"){this.domNode.innerHTML="&nbsp
	"+e
	}else{if(b.isLogicOrCompFunc({v:g.v.trim(),tp:f})){this.domNode.innerHTML="&nbsp
	"+e+"&nbsp
	"
	}else{this.domNode.innerHTML=e
	}}}K.toggleClass(this.domNode,["mstr"],this.isMstrO())
	K.toggleClass(this.domNode,["nfn"],!this.isFunction())
	K.toggleClass(this.domNode,["invalid"],g.sta===-1)
	K.toggleClass(this.domNode,["embeddedFilter"],h)
	},onactiveChange:function(){mstrmojo.css.toggleClass(this.domNode,["active"],this.active)
	}},oncontextmenu:function W(d){this.closePopup()
	if(this.isEmbeddedFilter()){var f=new mstrmojo.ui.menus.MenuConfig({position:Y.getMousePosition(d.e,d.hWin),isHostedWithin:false,alignWithAnchor:true})
	var e=this
	f.addMenuItem(mstrmojo.desc(3224,"Edit..."),"",function(){var g=e.parent
	if(g&&g.editEmbeddedFilterToken){g.editEmbeddedFilterToken(e)
	}})
	this.openPopup(f.newInstance())
	}},isMstrO:function X(){return !!this.data.oi||!!this.data.rfd
	},isFunction:function B(){return this.isMstrO()&&(this.data.oi&&this.data.oi.t===H.Function)
	},isEmbeddedFilter:function J(){var f=this.data.oi,e=f&&f.t,d=f&&f.st
	return this.isMstrO()&&e===H.Filter&&d===D.Filter&&f.isEmbedded
	},brackets:A,length:function E(){return this.isEmbeddedFilter()?1:this.data.v.toString().length
	},isDelimiter:function U(){return this.data.isDelimiter||(this.length()===1&&O(this.data.v))
	},split2Tokens:function L(h){var g=this.data,f=g&&g.v.toString(),j=f.substring(0,h),e=f.substring(h)
	return[{v:j,isNew:true},{v:e,isNew:true}]
	},mergeTo:function N(f){var h=this.data,g=h&&h.v.toString(),e=f.data.v.toString()
	return{v:g+e,isNew:true}
	},brackets:A,setItemInfo:function S(e){var f=this.data
	f.v=this.brackets(e.n)
	f.oi=e
	f.sta=1
	f.isNew=true
	this.set("data",f)
	this.paint()
	},spliceContent:function P(l,j,f){var k=this.data,h=k&&k.v.toString(),m=h.substring(0,l)
	j=(j===null||j===undefined)?(h.length-l):j
	var e=h.substring(l+j),g=m+(f||"")+e
	k.v=g
	k.isNew=true
	k.sta=1
	k.ift=(this.isAttributeToken()||k.at)&&(k.v.indexOf("@")>=0)
	if(k.ift){k.at=k.oi||k.at
	}else{delete k.at
	}if(k.tp){this.dataType=k.tp
	}delete k.oi
	delete k.exv
	delete k.extp
	delete k.tp
	this.set("data",k)
	this.paint()
	},isAttributeToken:function G(){return this.data&&this.data.oi&&this.data.oi.t===H.Attribute
	},setFormInfo:function Q(f){var g=this.data,e=g.oi||g.at
	g.v=this.brackets(e.n)+"@"+this.brackets(f.n)
	g.exv=f.did
	g.extp=8
	g.sta=1
	g.isNew=true
	g.oi=g.at
	delete g.at
	this.set("data",g)
	this.paint()
	}})
	mstrmojo.ME.MetricToken.isDelimiter=O
	mstrmojo.ME.MetricToken.brackets=A
	mstrmojo.ME.MetricToken.splitAttrAndAttrForm=M
	mstrmojo.ME.MetricToken.quotes=C
	mstrmojo.ME.MetricToken.unquotes=F
	mstrmojo.ME.MetricToken.QUOTABLE_DATATYPES=R
	mstrmojo.ME.MetricToken.argDelimiter={".":",",",":"
	"}[mstrConfig&&mstrConfig.decimalSep]||","
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.GraphBase","mstrmojo._Formattable","mstrmojo._IsSelectorTarget","mstrmojo.tooltip","mstrmojo.vi.enums.EnumFeatures")
	var S=mstrmojo.dom,L=mstrmojo.array,J=mstrmojo.mstr.EnumDSSXMLDrillType,R={SORT:8},C=mstrmojo.vi.enums.EnumFeatures
	function B(a){var b=a.getFormats()
	if(!b.width&&"gp" in b){b=b.gp
	}a.resizeForDisplayState(parseInt(b.height,10),parseInt(b.width,10),false)
	}function W(b){var a=""
	switch(b){case J.DssXmlDrillToChild:a="drillDown"
	break
	case J.DssXmlDrillToParent:a="drillUp"
	break
	case J.DssXmlDrillToTemplate:a="drillTemplate"
	break
	}return a
	}function F(b){var a=S.position(this.domNode,true),c=S.getMousePosition(b)
	return{x:c.x-Math.floor(a.x),y:c.y-Math.floor(a.y)}
	}function M(a,c){var d={x:c.offsetX,y:c.offsetY},b=a.coords.split(",")
	switch(a.shape){case"rect":case"poly":d=F.call(this,c)
	break
	case"circle":d.x=b[0]
	d.y=b[1]
	break
	}return{x:parseInt(d.x,10),y:parseInt(d.y,10)}
	}function I(j,h){var d=S.eventTarget(h,j),g=d&&d.parentNode,k=g&&g.children,a=[],f=d.getAttribute("coords")
	if(k&&!!f){for(var b=0
	b<k.length
	++b){if(k[b]&&k[b].getAttribute&&k[b].getAttribute("coords")==f){a.push(k[b])
	}}}return a
	}function E(d,f,c,b,a){return function(){var j=F.call(d,f),g=d.getFormats(),h={taskId:"getElementFromGraph",msgID:d.model.docModel.mid,nodeKey:d.node.k,sliceID:d.node.data.sid,x:parseInt(j.x),y:parseInt(j.y),h:parseInt(g.height,10),w:parseInt(g.width,10),},e={success:function(l){var k={mix:b,els:l.els},m=d.model.getLinkActionImpl(k,c,a)
	d.controller.onLink(d,m)
	},failure:function(k){}}
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,e,h)
	}
	}function N(b,a){return((((b&&b.actions)||0)&a)>0)
	}mstrmojo.DocXtabGraph=mstrmojo.declare(mstrmojo.GraphBase,[mstrmojo._Formattable,mstrmojo._IsSelectorTarget,mstrmojo.ui.menus._HasMenuPopup],{scriptClass:"mstrmojo.DocXtabGraph",cssClassPrefix:"mstrmojo-DocXtabGraph",areaMarkup:'<area shape="{@shape}" coords="{@coords}" ttl="{@tooltip}" aid="{@aid}" mstreventmark="graphAreaNode" mstrevent="click contextmenu mousemove" onclick="mstrmojo.all[\'{@id}\'].onClickArea(this, event)
	" + oncontextmenu="mstrmojo.all[\'{@id}\'].onContextMenu(this, event)
	" onmousemove="mstrmojo.all[\'{@id}\']._updateTooltip(event, self)
	" {@extra}/>',eventHandlerMap:{graphAreaNode:{click:{requiredParams:["id"],handlerFn:function(a){return function(){mstrmojo.all[a.id].onClickArea(this,event)
	}
	}},contextmenu:{requiredParams:["id"],handlerFn:function(a){return function(){mstrmojo.all[a.id].onContextMenu(this,event)
	}
	}},mousemove:{requiredParams:["id"],handlerFn:function(a){return function(){mstrmojo.all[a.id]._updateTooltip(event,self)
	}
	}}}},_att:"",markupSlots:{imgNode:function(){return this.domNode.childNodes[1]
	},mapNode:function(){return this.domNode.childNodes.length>2?this.domNode.childNodes[2]:null
	},textNode:function(){return this.domNode.firstChild
	}},formatHandlers:{domNode:["RW","B","background-color","fx"]},markupMethods:{onvisibleChange:function(){this.domNode.style.display=(this.visible)?"block":"none"
	}},onClickArea:function U(d,h){h=h||window.event
	var p=F.apply(this,[h]),j=this.defn,a=S.position(this.domNode,true),c=this.as[d.getAttribute("aid")],o=this.model.docModel,g=o.zt,n=this.k,m=p.x,l=p.y,f={getBoundingClientRect:function(){var q=a.x+m,e=a.y+l
	return{left:q,top:e,right:q+1,bottom:e+1}
	},w:this}
	this.showInfoWin(c.ifw,c.tks,f)
	var k=this.getFormats(),b={type:parseInt(j.t,10)||mstrmojo.EnumRWUnitType.GRAPH,src:n,ck:j.ck,gk:n,tks:c.tks,cks:c.cks,sid:this.node.data.sid,x:m,y:l,anchor:f,tty:c.tty}
	if((g===1||g===2)&&mstrApp.optimizeFitToPage===1){b.h=parseInt(k.height,10)
	b.w=parseInt(k.width,10)
	}o.slice(b)
	},onContextMenu:function Q(f,l){l=l||window.event
	var n=this,q=this.getFormats(),a=parseInt(q.height,10),j=parseInt(q.width,10),d=this.as[f.getAttribute("aid")],m=d.lm||[],h=d.dp||[]
	mstrmojo.dom.preventDefault(window,l)
	var k=new mstrmojo.ui.menus.MenuConfig({hostId:this.id,isHostedWithin:false,hostElement:this,position:{x:l.pageX,y:l.pageY}})
	if(m.length!==0){k.addPopupMenuItem(mstrmojo.desc(5752,"Links"),this.id,function(){var u=new mstrmojo.ui.menus.MenuConfig()
	for(var t=0
	t<m.length
	t++){var e=m[t].links
	for(var r=0
	r<e.length
	r++){u.addMenuItem(e[r].n||e[r].url||(e[r].target&&(e[r].target.n||e[r].target.did)),"",E(n,l,d,t,r))
	}}return u
	})
	}var p=function p(u){var t=u.onDemandDrillItems
	var r=u.onDemandDrillDynamicItems
	if((!u.onDemandDrillItems||u.shouldUpdateDrillMenus)&&!u.loadingDCM){u.loadingDCM=true
	delete u.shouldUpdateDrillMenus
	var w=new mstrmojo.SimpleXHR({async:false})
	w.request("POST",mstrConfig.taskURL,{success:function v(z){var x=z.dynamicMenus[0]
	if(x&&x.items){r=x.items
	}t=z.menuItems
	u.onDemandDrillItems=t||[]
	u.onDemandDrillDynamicItems=r||[]
	delete u.loadingDCM
	}},{taskId:"RWOnDemandDrill",styleName:"OndemandDrillContextMenusStyle",viewMode:2,docGridKey:u.k,rwb:mstrApp.docModel.bs})
	}var e=[]
	L.forEach(r,function(AC){var x=AC.idx,z=t[x],AB=JSON.parse(z.subMenuIndices||"[]")
	if(AB.length>0){var AA=[]
	mstrmojo.array.forEach(AB,function(AD){AA.push(t[AD])
	})
	z.items=AA
	}e.push(z)
	})
	return e
	}
	var g=p(this.model.xtab)
	if((h.length>0||g.length>0)&&mstrmojo.resolveFeature(C.WEB_DRILL_AND_LINK)){var o=M.call(this,d,l)
	var c=this.model.data.sid
	k.addPopupMenuItem(mstrmojo.desc(145,"Drill"),this.id,function(){var r=new mstrmojo.ui.menus.MenuConfig({menuCssClass:"drill",isHostedWithin:false,supportsScroll:true,maxHeight:mstrmojo.dom.windowDim().h-50})
	L.forEach(h,function(u){if(mstrApp.isDossier&&!u.dwi){return 
	}r.addMenuItem(u.n,W(u.tp),function t(){n.model.xtab.shouldUpdateDrillMenus=true
	n.controller.onDrillGraph(n,{displayType:u.displayMode||2,drillPathKey:this.ctxt.key,x:o.x,y:o.y,graphHeight:a,graphWidth:j,n:this.ctxt.n,isWithin:this.ctxt.dwi,sliceId:c},{})
	},u)
	})
	var e=function(){n.model.xtab.onDemandDrillItems=null
	n.model.xtab.onDemandDrillDynamicItems=null
	}
	L.forEach(g,function(t){if(mstrApp.isDossier&&!L.some(t.items,function(u){return(u.within)
	})){return 
	}r.addPopupMenuItem(t.n,"",function(){var u=new mstrmojo.ui.menus.MenuConfig({menuCssClass:"drill",isHostedWithin:false,supportsScroll:true,maxHeight:350})
	L.forEach(t.items,function(v){if(mstrApp.isDossier&&!v.within){return 
	}u.addMenuItem(v.n,W(v.dt),function(){n.model.xtab.shouldUpdateDrillMenus=true
	var w=this.ctxt
	n.controller.onDrillGraph(n,{displayType:v.displayMode||2,drillPathKey:w.k,x:o.x,y:o.y,graphHeight:a,graphWidth:j,n:this.ctxt.n,isWithin:w.within,sliceId:c},{})
	e()
	},v)
	})
	return u
	})
	})
	return r
	})
	}if(N(this.model.data,R.SORT)){if(!mstrApp.isDossier){k.addMenuItem(mstrmojo.desc(6089,"Sort graph"),this.id,function(){n.controller.onGetAdvSortData(n,1,-1)
	})
	}}if(mstrmojo.resolveFeature("use-view-filter-editor")){k.addMenuItem(mstrmojo.desc(3938,"edit view filter..."),this.id,function(){n.controller.onShowFilterEditor(n)
	})
	}if(k.hasMenuItems()){var b=k.newInstance()
	if(this._lastOpened){mstrmojo.css.removeClass(this._lastOpened?this._lastOpened.popupConfig.hostElement:null,"open")
	mstrmojo._HasPopup.closePopup.call(this)
	}mstrmojo._HasPopup.openPopup.call(this,b)
	mstrmojo.css.addClass(b?b.popupConfig.hostElement:null,"open")
	}return false
	},showInfoWin:function P(e,f,b){var a=this.model.docModel,d=[].concat(a.getTargetInfoWin(e)).concat(a.getTargetInfoWin(f))
	if(d&&d.length){for(var c=0
	c<d.length
	c++){a.showInfoWin(d[c],b,"h")
	}}},showTooltip:function D(c,b){this._updateTooltip(c,b)
	var a=I(c,b)
	if(a&&a.length>1){mstrmojo.DocXtabGraph.multiTooltip.open(this,c,b,a)
	}else{this._super(c,b)
	}},_updateTooltip:function O(a,b){this.updatingTooltipHelper(S.eventTarget(b,a),F.apply(this,[a]))
	},hideTooltip:function H(d,c){var b=S.eventTarget(c,d)
	if(b&&b.getAttribute&&b.getAttribute("aid")===this.cAreaIdx){this.cAreaIdx=-1
	var a=I(d,c)
	if(a&&a.length>1){mstrmojo.DocXtabGraph.multiTooltip.close(this,d,c,a)
	}else{this._super(d,c)
	}}},update:function K(b){this.node.data=b.data
	this.as=b.data.as
	var q="\u001E",d=this.model.docModel,n=d.getCGBMap&&d.getCGBMap(),c=this.as||[],h,f
	for(h=0
	h<c.length
	h++){var o=c[h],g=o&&o.tgbs
	if(g){var l=g.split(q)
	var p={}
	for(f=0
	f<l.length
	f++){var e=n&&n[l[f]]
	if(e){p[e]=true
	}else{p[l[f]]=true
	}}o.tks=mstrmojo.hash.keyarray(p).join(q)
	}}this.eg=b.data.eg
	this.gridInfo=b.data.gsi
	if(b.defn&&b.defn.tooltip){this.defaultTooltip=b.defn.tooltip
	}var d=this.model
	if(d){d.set("data",b.data)
	}},retrieveGraphSrc:function G(b,a){var d=mstrConfig.taskURL+"?taskId=getRWGraphImage&taskEnv=xhr&__ts__="+(new Date().getTime())+"&messageID="+this.model.docModel.mid+"&nodeKey="+this.k+"&sliceID="+parseInt(this.node.data.sid,10)+"&imgType=4&width="+parseInt(a,10)+"&height="+parseInt(b,10),c=this.imgNode
	if(c.src!==d){c.src=d
	}},resize:function(){B(this)
	},resizeForDisplayState:function Z(c,b,g){var e=this.getFormats(),d=this.imgNode
	if(g){var a=this.domNode.style
	a.top=e.top
	a.left=e.left
	a.height=e.height
	a.width=e.width
	}if(d){d.style.height=c+"px"
	}if(this.eg===undefined){if(c){this.retrieveGraphSrc(c,b)
	this.refreshMap()
	}}}})
	function Y(b){var d=b&&b.getAttribute&&b.getAttribute("coords")
	d=(d&&d.split(","))||[]
	switch(d.length){case 3:return d[2]*2
	case 4:return d[2]-d[0]
	default:return 10
	}}function A(c){var b=[],g=document.body.offsetWidth,a=document.body.offsetHeight,h=0,e=0,k=X[0]&&X[0].domNode?X[0].domNode.offsetLeft:0,j=X[0]&&X[0].domNode?X[0].domNode.offsetTop:0,n=Math.ceil(X.length/2),d=5,m=function(p,o){if(p+c+o+d>g){return g-c-o-d
	}else{if(X.length>1&&p-o-d<0){return o+d
	}}return p
	},l=function(r,p,o){r+=p
	var q=o==1?p:(o*p+(o-1)*d)/2
	if(q>r){return 0
	}else{if(q+r>a){return a-q*2
	}else{return r-q
	}}}
	for(var f=0
	f<X.length
	++f){h=Math.max(h,X[f].containerNode.offsetWidth)
	e=Math.max(e,X[f].containerNode.offsetHeight)
	}k=m(k,h)
	j=l(j,e,n)
	for(var f=0
	f<X.length
	++f){if(f%2==0){b.push({l:k+c+d,t:j})
	}else{b.push({l:k-X[f].containerNode.offsetWidth-d,t:j})
	j+=e+d
	}}return b
	}var X=[]
	mstrmojo.DocXtabGraph.multiTooltip={_posMultiTp:function(b){for(var a=0
	a<X.length
	++a){X[a].domNode.style.left=b[a].l+"px"
	X[a].domNode.style.top=b[a].t+"px"
	}},open:function(l,h,g,b,a){if(!a){a={}
	}a.e=h
	a.win=g
	var d=0
	if(b&&b.length){d=Y(b[0])
	}for(var c=0
	c<b.length
	++c){var k=X[c]
	if(!k||!mstrmojo.all[k.id]){k=new mstrmojo.Tooltip()
	var f=0,j=this
	k.optimizePos=function(){f++
	if(f>=X.length){f=0
	j._posMultiTp(A(d))
	}}
	X.push(k)
	}l.richTooltip.content=b[c]&&b[c].getAttribute("ttl")
	k.open(l,a)
	}},close:function(){for(var a=X.length-1
	a>=0
	--a){X[a].close()
	}X=[]
	}}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.menus.MenuConfig","mstrmojo.ui.ScrollableContainer","mstrmojo.css","mstrmojo.dom","mstrmojo.hash","mstrmojo.Button")
	var H=mstrmojo.Button.newWebButton,E=mstrmojo.hash,L=mstrmojo.css,J=mstrmojo.dom
	var B="grouping",C="highlight",I="disabled"
	function F(O,Q){J.preventDefault(window,O)
	J.stopPropogation(window,O)
	if(this.groupingOverlay.domNode.className.indexOf(C)===-1&&this.domNode.className.indexOf("selected")===-1){return 
	}Q=E.copy(Q,{supportsScroll:true,isHostedWithin:false,maxHeight:J.getMaxScrollHeight()})
	var P=this.parent.getGroupContextMenuConfig(new mstrmojo.ui.menus.MenuConfig(Q),this.k)
	if(P.hasMenuItems()){this.openPopup(P.newInstance())
	}}mstrmojo.vi.ui._CanGroup=mstrmojo.provide("mstrmojo.vi.ui._CanGroup",{_mixinName:"mstrmojo.vi.ui._CanGroup",startGrouping:function G(O){L.addClass(this.domNode,B)
	var Q=this.groupingOverlay
	if(!Q){var P=this,S=this.id
	this.addChildren({scriptClass:"mstrmojo.ui.ScrollableContainer",cssClass:"groupingOverlay",alias:"groupingOverlay",cssDisplay:"",slot:"domNode",children:[H(mstrmojo.desc(1911,"Group"),function(U){U.cancel()
	P.groupSelection()
	},true,{cssClass:"btnGroup",cssDisplay:""}),H("",function(U){var W=mstrmojo.ui.PopupConfig.prototype.ENUM_CORNERS
	F.call(mstrmojo.all[S],U.e,{hostId:S,hostElement:this.domNode,alignment:{host:W.BOTTOM_LEFT,popup:W.TOP_LEFT}})
	},false,{cssClass:"btnMenu",cssDisplay:""})]})
	this.groupingOverlay.render()
	var R=this.groupingOverlay.domNode
	J.attachEvent(R,"contextmenu",function(U){F.call(P,U,{position:J.getMousePosition(U,window)})
	})
	J.attachEvent(R,"click",function(U){var W=U.target
	if(W.className.indexOf("mstrmojo-scrollbar")!==-1){J.stopPropogation(window,U)
	}})
	}this.setGroupingStatus(O?"":I)
	this._menuBtnInfo=this.menuBtnInfo
	this.menuBtnInfo=null
	this._originalContextMenu=this.shouldShowCustomizeContextMenu
	this.shouldShowCustomizeContextMenu=function(){return false
	}
	},setGroupingStatus:function K(O){var Q=this,P=[I,C]
	P.forEach(function(R){L.toggleClass(Q.groupingOverlay.domNode,R,O===R)
	})
	},endGrouping:function N(){L.removeClass(this.domNode,B)
	this.setGroupingStatus("")
	this.menuBtnInfo=this._menuBtnInfo
	delete this._menuBtnInfo
	this.shouldShowCustomizeContextMenu=this._originalContextMenu
	delete this._originalContextMenu
	},initializeDrag:function A(){return this.domNode.className.indexOf(B)===-1
	},groupSelection:function D(){this.parent.groupSelection()
	},widgetResized:function M(){if(this._super){this._super()
	}var O=this.groupingOverlay
	if(O){this.groupingOverlay.updateScrollbars()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.toolbars.Toolbar","mstrmojo.css")
	var D=mstrmojo.css
	var B
	mstrmojo.vi.ui.toolbars.TitleToolbar=mstrmojo.declare(mstrmojo.vi.ui.toolbars.Toolbar,null,{scriptClass:"mstrmojo.vi.ui.toolbars.TitleToolbar",init:function F(H){this._super(H)
	D.addWidgetCssClass(this,"mstrmojo-VITitleToolbar")
	},markupMethods:{onvisibleChange:function A(){var H=this.visible,I=this.domNode
	D.toggleClass(I,"visible",H)
	if(!H){D.onTransitionEnd(I,function(){D.addClass(I,"hidden")
	})
	}else{D.removeClass(I,"hidden")
	}}},getItemMarkup:function E(H){if(!B){B=this._super(H).replace("{@en@n}",'<div class="icn"></div>')
	}return B
	},ontoolbarCfgChange:function G(H){var I=H.value
	if(I){if(I.showContextMenu){I.addMenuToolbarBtn("","mnu")
	}if(I.hasCloseButton){I.addToolbarBtn(I.closeButtonText,"cls",function(K,J){J.parent.close()
	})
	}}this._super(H)
	},onItemContextMenu:function C(I,H){this.closePopup()
	if(I.fn){I.fn(I,this,H)
	return true
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasLayout","mstrmojo.vi._MonitorsAppState","mstrmojo.EditableLabel","mstrmojo._TouchGestures","mstrmojo.string","mstrmojo.vi.ui.toolbars.TitleToolbar")
	var J=mstrmojo.dom,N=mstrmojo.string
	mstrmojo.vi.ui.TitleBar=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout,mstrmojo.vi._MonitorsAppState],{scriptClass:"mstrmojo.vi.ui.TitleBar",markupString:'<div id="{@id}" class="mstrmojo-VITitleBar {@cssClass}" style="{@cssText}" aria-label="{@en@ariaLabel}" mstrAttach:contextmenu,click,keydown><div class="left-toolbar"></div><div class="title-text"></div><div class="right-toolbar"></div></div>',markupSlots:{leftToolNode:function(){return this.domNode.firstChild
	},textNode:function(){return this.domNode.childNodes[1]
	},rightToolNode:function(){return this.domNode.lastChild
	},containerNode:function(){return this.domNode
	}},markupMethods:{onhasContextMenuButtonChange:function(){var Q=this.hasContextMenuButton
	this.tbToolbar.set("visible",Q)
	this.tbToolbar.set("enabled",Q)
	},ontitleChange:function(){this.lblTitle.set("text",this.title||" ")
	},ontoolbarCfgChange:function(){var Q=this.toolbarCfg
	if(!Q){return 
	}this.tbToolbar.set("toolbarCfg",Q)
	this.doLayout()
	},onariaLabelChange:function(){this.domNode.setAttribute("aria-label",N.encodeHtmlString(this.ariaLabel,true))
	},onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},layoutConfig:{w:{leftToolNode:"auto",textNode:"100%",rightToolNode:"auto"},h:{leftToolNode:"100%",textNode:"100%",rightToolNode:"100%"},xt:true},lblTitle:null,tbToolbar:null,hasContextMenuButton:true,editTitleOnClick:false,editTitleOnDoubleClick:true,editTitleOnTwoClicks:false,title:"",ariaLabel:"",close:mstrmojo.emptyFn,toolbarCfg:null,beganEditingTitlebar:mstrmojo.emptyFn,titleEdited:mstrmojo.emptyFn,useRichTooltip:true,init:function P(Q){this._super(Q)
	this.addChildren([].concat(this.getLeftToolbarChildren()).concat(this.getTitleChildren()).concat(this.getRightToolbarChildren()))
	},shouldShowTooltip:function K(Q,S){var R=Q.target||J.eventTarget(Q.hWin,Q.e)
	return R===this.textNode.firstChild&&(R.scrollWidth>R.clientWidth)
	},getTooltipContent:function L(Q){var S=Q.target||J.eventTarget(Q.hWin,Q.e),R=S.innerHTML
	return R
	},showTooltip:function M(Q,R){if(this.shouldShowTooltip(Q,R)){this._super(Q,R)
	}},updateTooltipConfig:function I(S){var Y=S.target||J.eventTarget(S.hWin,S.e),Q=J.position(Y)
	var U=this.getTooltipContent(S),X=Q.y+Q.h+3,W=Q.x+4,R="vi-regular vi-tooltip-A"
	if(Y.className==="right-toolbar customShapeWarn"){U=mstrmojo.desc(16684,"Add an attribute to enable data labels and enhance the performance of filtering")
	W=W+24
	X=X-30
	R="vi-warning vi-tooltip-C"
	}this.richTooltip={posType:mstrmojo.tooltip.POS_TOPLEFT,content:U,top:X,left:W,cssClass:R}
	},getLabelNode:function C(){return this.lblTitle.domNode
	},getMenuConfig:function B(){var Q=this.toolbarCfg
	if(Q){if(Q.hasMenuItems()){return Q
	}}return null
	},setToolbarVisibility:function D(Q){this.tbToolbar.set("visible",Q)
	},editTitle:function O(){this.lblTitle.set("isEditing",true)
	},onAppStateChange:function F(Q){var R=this.lblTitle,S=mstrApp.isAppStatePresentation(),U=!!(Q.valueWas&mstrmojo.vi.VisualInsightApp.APP_STATES.PRESENTATION)
	if(S&&this._confgTitleEditable===undefined){this._confgTitleEditable=this.editTitleOnClick||this.editTitleOnDoubleClick||this.editTitleOnTwoClicks
	}R.set("isEditing",false)
	if(S||U){R.set("editOnDoubleClick",!S&&this._confgTitleEditable)
	}},getLeftToolbarChildren:function A(){},getTitleChildrenLayoutOffsets:function H(){return{h:2,w:2}
	},getTitleChildren:function G(){return[{scriptClass:"mstrmojo.EditableLabel",slot:"textNode",alias:"lblTitle",bindings:{editOnClick:"this.parent.editTitleOnClick",editOnDoubleClick:"this.parent.editTitleOnDoubleClick",selectable:"this.isEditing",editOnTwoClicks:"this.parent.editTitleOnTwoClicks"},onTextEditBegin:function(){this.parent.beganEditingTitlebar()
	},onTextEditComplete:function(S,R){this.parent.titleEdited(this.text,S,R)
	},getLayoutOffsets:function Q(){return this.parent.getTitleChildrenLayoutOffsets()
	}}]
	},getRightToolbarChildren:function E(){return[{scriptClass:"mstrmojo.vi.ui.toolbars.TitleToolbar",slot:"rightToolNode",alias:"tbToolbar",visible:true,useRichTooltip:true,bindings:{hasContextMenuButton:"this.parent.hasContextMenuButton",}}]
	}})
	if(J.isTouchOptimizationEnabled()){mstrmojo.mixin(mstrmojo._TouchGestures,mstrmojo.vi.ui.TitleBar.prototype)
	mstrmojo.mixin(mstrmojo.mobile.vi.ui.rw._IsInPanelStack,mstrmojo.vi.ui.TitleBar.prototype)
	mstrmojo.mixin(mstrmojo.mobile.vi.ui._TitleBarSupportsTouches,mstrmojo.vi.ui.TitleBar.prototype)
	}}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocXtabGraph")
	var C=mstrmojo.dom,G=mstrmojo.array
	function E(L){var J={},I={},K={}
	G.forEach(L,function(N){var M=N.goid+"."+N.ggid+"."+((N.gsid===undefined)?-1:N.gsid)
	if(!J[M]){J[M]={}
	}if(!I[N.co+"."+M]){if(K[M]===undefined){K[M]=0
	}else{K[M]++
	}J[M][K[M]]={co:N.co,sh:N.sh}
	I[N.co+"."+M]="true"
	}})
	return J
	}function B(I,K){var L={},J=""
	G.forEach(I,function(M){J=M.goid+"."+M.ggid+"."+((M.gsid===undefined)?-1:M.gsid)
	if(L[J]===undefined){L[J]=0
	}else{L[J]++
	}var N=K[J]&&K[J][L[J]]
	if(N){M.coords=N.co
	M.shape=N.sh
	}})
	}mstrmojo.OIVMDocXtabGraph=mstrmojo.declare(mstrmojo.DocXtabGraph,null,{scriptClass:"mstrmojo.OIVMDocXtabGraph",unrender:function H(){this.clearCache()
	delete this.preLoader
	this._super()
	},postBuildRendering:function D(){if(!this.preLoader){this.preLoader=document.createElement("img")
	}if(this.withinInfoWin===undefined){this.withinInfoWin=this.isWithinInfoWin()
	}return this._super()
	},isWithinInfoWin:function F(){var I=this.parent
	while(I&&I.scriptClass){if(I.scriptClass==="mstrmojo.DocInfoWindow"){return true
	}I=I.parent
	}return false
	},retrieveGraphSrc:function A(O,U){if(!O||parseInt(O,10)===0||parseInt(U,10)===0){return 
	}if(isNaN(parseInt(this.node.data.sid,10))){return 
	}var I=mstrConfig.taskURL+"?taskId=getRWGraphImage&taskEnv=xhr&__ts__="+(new Date().getTime())+"&messageID="+this.model.docModel.mid+"&nodeKey="+this.k+"&sliceID="+parseInt(this.node.data.sid,10)+"&imgType=4&width="+parseInt(U,10)+"&height="+parseInt(O,10),X=this.preLoader,Y=this.imgNode,J=this.id,S=this
	I=mstrmojo.addCSRFTokenToURL(I)
	if(X.dsrc!==I){X.dsrc=I
	var N=function(){mstrApp.removeLoadingGraph(J)
	},W="load",M="error",R,L,Q,K
	L=C.attachOneTimeEvent(X,W,function(){K=C.attachOneTimeEvent(Y,W,function(){N()
	Y.style.background="none"
	mstrmojo.all[J].defn.set("readyState",mstrmojo.EnumReadystate.IDLE)
	C.detachEvent(Y,M,Q)
	},true)
	Q=C.attachOneTimeEvent(Y,M,function(){N()
	C.detachEvent(Y,W,K)
	},true)
	C.detachEvent(X,M,R)
	Y.src=X.src
	},true)
	R=C.attachOneTimeEvent(X,"error",function(){N()
	C.detachEvent(X,W,L)
	},true)
	var P=this.model.docModel.zt
	this.model.docModel.dataService.getRWGraphImage({k:this.k,sid:parseInt(this.node.data.sid,10),w:U,h:O,encodeImage:true,needCoordinate:mstrApp.optimizeFitToPage&&(P===1||P===2)?1:0,withinInfoWin:this.withinInfoWin},{success:function(Z){X.src="data:image/png
	base64,"+(Z.image||Z)
	if(Z.coords){var b=JSON.parse(Z.coords),a={}
	a=E.call(S,b)
	B.call(S,S.as,a)
	S.refreshMap()
	}},failure:function(){R()
	}})
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.css","mstrmojo.dom","mstrmojo.expr","mstrmojo.range","mstrmojo.Widget","mstrmojo.WidgetList","mstrmojo.WidgetListMapper","mstrmojo._HasSuggestion","mstrmojo.ME.MetricToken","mstrmojo.ME.MetricDataService","mstrmojo.ui.ScrollableSuggestionList","mstrmojo.mstr.EnumDSSXMLObjectTypes")
	var R=mstrmojo.dom,U=mstrmojo.css,AL=mstrmojo.Enum_Keys,H=mstrmojo.range,n=H.EDGE,AD=mstrmojo.ME.MetricToken.isDelimiter,Q=mstrmojo.expr,v=mstrmojo.array,K=mstrmojo.hash
	var M=R.isIE||R.isIEW3C
	function AT(E){return E.ctrlKey||R.isMetaKey(window,E)||(E.charCode||E.keyCode)===AL.CTRL
	}mstrmojo.ME.SpanListMapper=mstrmojo.provide("mstrmojo.ME.SpanListMapper",mstrmojo.mixin({itemWrapperPrefix:function(E){return'<span class="'+this.getWrapperCss(E)+'">'
	},itemWrapperPrefill:"&nbsp
	",itemWrapperSuffix:"</span>",createWrapperNode:function S(E){var AU=E.ownerDocument,AV=AU.createElement("span")
	return AV
	},_iw2idx:function X(AU,AX,AW){var AV=this.wrapperNodes(AX),E=mstrmojo.array.indexOf(AV,AW)
	return E===-1?AV.length:E
	},itemOffsetLeft:function l(AU,AY,E,AW){if(!AW){var AV=this.wrapperNodes(AY)
	AW=AV&&AV[E]
	if(!AW){return 0
	}}var AX=AY.firstChild
	if(!AX||(AX===AW)){return 0
	}return AW.offsetLeft-AX.offsetLeft
	},whereDrop:function AS(Ac,E,AW,Ab,AU){var AY=this._nd2iw(Ac,E,AW),Ad,Aa,AX,AZ,AV
	if(AY){Aa=this._iw2idx(Ac,E,AY)
	Ad=Aa
	AX=this.itemOffsetLeft(Ac,E,null,AY)
	AZ=AY.offsetTop
	AV=AY.offsetWidth
	if(Ab.x>AU.left+AX+AV/2){Ad++
	AX+=AV
	}}else{return Ac.dropCuePos
	}return{left:AX,top:AZ,idx:Ad,idxActual:Aa}
	}},mstrmojo.hash.copy(mstrmojo.WidgetListMapper)))
	mstrmojo.ME.TokenInputBox=mstrmojo.declare(mstrmojo.WidgetList,[mstrmojo._HasSuggestion],{scriptClass:"mstrmojo.ME.TokenInputBox",containerResizable:false,dropZone:true,suggestionPopupCssClss:"mstrmojo-ME-TokenInputBox-suggest",allowDrop:function G(E){var AU=E.src.data
	return !!AU
	},createToken:function A(E){return{v:mstrmojo.ME.MetricToken.brackets(E.n),oi:K.copyProps(["did","n","t"],E),isNew:true}
	},ondrop:function(AU){AU.src.data=this.createToken(AU.src.data.item)
	if(this.prepareDropItem){this.prepareDropItem(AU)
	}var E=this.insertTokens([AU.src.data])
	this.set("dropCuePos",null)
	mstrmojo.css.removeClass(this.domNode,"unselectable")
	return E
	},ondragenter:function I(E){this.dragdata=E.src.data
	this._super(E)
	this.set("dropCuePos",{left:0,top:0})
	mstrmojo.css.addClass(this.domNode,"unselectable")
	},ondragleave:function Y(){this.set("dropCuePos",null)
	mstrmojo.css.removeClass(this.domNode,"unselectable")
	},ondropCuePosChange:function a(AU){var AV=AU.value,E=this.dragdata
	if(E&&E.setAvatarClass){if(AV){E.setAvatarClass("add")
	}else{E.setInvalidAvatarClass()
	}}},makeObservable:true,showDesc:true,showPath:true,showFunctionSyntaxAsPath:true,blockCount:mstrmojo.ME.MetricDataService.blockCount,suggestCount:mstrmojo.ME.MetricDataService.suggestCount,markupString:'<div id={@id} class="mstrmojo-TokenInputBox {@cssClass}" style="{@cssText}"><div class="mstrmojo-TokenInputBox-edit" contenteditable="true" tabindex="1" spellcheck="false" mstreventmark = "editNode" mstrevent = "dragstart contextmenu keydown keypress keyup mouseup paste blur"ondragstart = "return false
	" oncontextmenu = "return false
	" onkeydown = "return mstrmojo.all.{@id}.handlekeydown(event)
	" onkeypress = "return mstrmojo.all.{@id}.handlekeypress(event)
	" onkeyup = "return mstrmojo.all.{@id}.handlekeyup(event)
	" onmouseup = "return mstrmojo.all.{@id}.handlemouseup(event)
	" onpaste = "return mstrmojo.all.{@id}.handlepasteDirect(event)
	" onblur = "return mstrmojo.all.{@id}.handleblur(event)
	" >{@itemsHtml}</div><textarea class = "mstrmojo-TokenInputBox-clipboard" mstreventmark = "clipboardNode" mstrevent = "keyup" onkeyup = "return mstrmojo.all.{@id}.handlepaste(event)
	"></textarea><div class="mstrmojo-ListBase2-dropCue {@cssClass}"><div class="mstrmojo-ListBase2-dropCue-inner"></div></div></div>',eventHandlerMap:{editNode:{dragstart:{requiredParams:[],handlerFn:function(){return function(){return false
	}
	}},contextmenu:{requiredParams:[],handlerFn:function(){return function(){return false
	}
	}},keydown:{requiredParams:["id"],handlerFn:function(E){return function(){return mstrmojo.all[E.id].handlekeydown(event)
	}
	}},keypress:{requiredParams:["id"],handlerFn:function(E){return function(){return mstrmojo.all[E.id].handlekeypress(event)
	}
	}},keyup:{requiredParams:["id"],handlerFn:function(E){return function(){return mstrmojo.all[E.id].handlekeyup(event)
	}
	}},mouseup:{requiredParams:["id"],handlerFn:function(E){return function(){return mstrmojo.all[E.id].handlemouseup(event)
	}
	}},paste:{requiredParams:["id"],handlerFn:function(E){return function(){return mstrmojo.all[E.id].handlepasteDirect(event)
	}
	}},blur:{requiredParams:["id"],handlerFn:function(E){return function(){return mstrmojo.all[E.id].handleblur(event)
	}
	}}},clipboardNode:{keyup:{requiredParams:["id"],handlerFn:function(E){return function(){return mstrmojo.all[E.id].handlepaste(event)
	}
	}}}},markupSlots:{editNode:function(){return this.domNode.firstChild
	},itemsContainerNode:function(){return this.domNode.firstChild
	},clipboardNode:function(){return this.domNode.childNodes[1]
	},scrollboxNode:function(){return this.domNode.firstChild
	},dropCueNode:function(){return this.domNode.lastChild
	}},suggestionListClass:"mstrmojo.ui.ScrollableSuggestionList",items:null,itemFunction:function J(AV,E,AU){return new mstrmojo.ME.MetricToken({data:AV,parent:AU})
	},listMapper:mstrmojo.ME.SpanListMapper,_set_items:function Z(AU,E){if(this._super){this._super(AU,E)
	}if(this.oi){this.oi.tks.items=this.items
	}if(!this.tokensCacheInitilized){this.pretokensModify()
	this.tokensCacheInitilized=true
	}},tokensCache:[],tokensCachePointer:0,isDelimiter:AD,postBuildRendering:function g(){if(this._super){this._super()
	}this._eros=false
	if(R.isFF){document.body.spellCheck=false
	}mstrmojo.dom.attachEvent(this.editNode,"compositionstart",function(){this.saveStateForIME()
	this.composing=true
	this.toggleIMEStatusBar(true)
	}.bind(this))
	mstrmojo.dom.attachEvent(this.editNode,"compositionupdate",function AU(AV){if(R.isIEW3C){this.lastImeChar=AV.data||(M&&this.lastImeChar)
	}else{this.lastImeChar=AV.data||this.lastImeChar
	}}.bind(this))
	mstrmojo.dom.attachEvent(this.editNode,"compositionend",function E(AX){this.composing=false
	if(R.isIE9||R.isIE10){var AW=H.getRangeInfo()
	this.imeBuffer=AW.startContainer.data.slice(this.prev_rInfo.startOffset,AW.startOffset).split("")
	}else{if(R.isIEW3C){var AW=H.getRangeInfo()
	this.imeBuffer=AW.startContainer.data.slice((this.prev_rInfo.startOffset-1)<0?0:this.prev_rInfo.startOffset,AW.startOffset).split("")
	}else{if(R.isEdge){var AV=AX.data||""
	this.imeBuffer=(this.imeBuffer||[]).concat(AV.split(""))
	}else{var AV=AX.data||this.lastImeChar||""
	this.imeBuffer=(this.imeBuffer||[]).concat(AV.split(""))
	}}}}.bind(this))
	},fnContextMenu:function N(E){if(E){E.cancelBubble=true
	E.returnValue=false
	}return false
	},saveStateForIME:function k(){if(!this.doubleByte){this.doubleByte=true
	this.prev_rInfo=H.getRangeInfo()
	this.prev_items=this.items
	}},handleblur:function L(){if(this.doubleByte){this.doubleByte=false
	this.widgetHandleImeInput(this.prev_rInfo)
	this.prev_items=this.items
	}},processDeleteKeyDown:function D(AU){if(!this.doubleByte){try{this.widgetHandleDelete(AU)
	this.startTokenSuggestion()
	this.raiseChangeEvent({type:"delete"})
	}catch(E){}return true
	}},processBackspaceKeyDown:function AR(AU){if(!this.doubleByte){try{this.widgetHandleBackspace(AU)
	this.raiseChangeEvent({type:"backspace"})
	this.startTokenSuggestion()
	this.editNode.focus()
	}catch(E){}return true
	}},handlekeydown:function d(AW){AW=AW||window.event
	var E=AW.keyCode||AW.charCode,AU=false,AV=H.getRangeInfo()
	if((E===AL.LEFT_ARROW||E===AL.RIGHT_ARROW||E===AL.BACKSPACE)&&this.doubleByte){if(this.composing){return 
	}this.doubleByte=false
	if(E===AL.BACKSPACE){this.imeBuffer.pop()
	}this.widgetHandleImeInput(this.prev_rInfo)
	mstrmojo.dom.stopPropogation(window,AW)
	mstrmojo.dom.preventDefault(window,AW)
	return false
	}switch(E){case AL.DELETE:AU=this.processDeleteKeyDown(AV)
	break
	case AL.BACKSPACE:AU=this.processBackspaceKeyDown(AV)
	break
	case AL.ENTER:if(this.breakOnEnterKeyDown&&this.breakOnEnterKeyDown()){break
	}case AL.TAB:this._startDebug=true
	if(this.suggestionShown){this.handleSuggestionItemSelect(this.getSelected())
	}else{this.startTokenSuggestion()
	}AU=true
	break
	case AL.ESCAPE:this.endTokenSuggestion()
	AU=true
	break
	case 86:if(AT(AW)){this.handlePasteTriggeredDeletion()
	AU=false
	}break
	case 88:if(AT(AW)){document.execCommand("copy")
	this.widgetHandleDelete(AV)
	AU=true
	}break
	case 89:if(AT(AW)){this.widgetHandleUndoRedo("redo")
	AU=true
	}break
	case 90:if(AT(AW)){this.widgetHandleUndoRedo("undo")
	AU=true
	}break
	case 229:this.saveStateForIME()
	break
	default:}if(AU){R.stopPropogation(window,AW)
	R.preventDefault(window,AW)
	return false
	}return true
	},handlePasteTriggeredDeletion:function F(){this.set("_saveRangeInfo",H.getRangeInfo())
	if(!this._saveRangeInfo.collapsed){this.widgetHandleDelete(this._saveRangeInfo)
	this.set("_saveRangeInfo",H.getRangeInfo())
	}this.clipboardNode.focus()
	},getCharacter:function AN(AU){var E=(R.isIE&&!R.isIE9)?AU.keyCode:AU.charCode
	return(E>0)?String.fromCharCode(E):null
	},handleCharacter:function AE(AW){var AX=this.getCharacter(AW),AU=false
	if(AX&&!((AX==="c"||AX==="a")&&AT(AW))){try{this.widgetHandleInput(H.getRangeInfo(),AX)
	this.raiseChangeEvent({type:"input",character:AX})
	if(!this.isDelimiter(AX)){if(this.useKeyDelay){var AV=this
	window.clearTimeout(this.tmr)
	this.tmr=window.setTimeout(function(){AV.startTokenSuggestion()
	},mstrmojo.ME.MetricDataService.suggestDelay)
	}else{this.startTokenSuggestion()
	}}else{this.endTokenSuggestion(true)
	}}catch(E){}AU=true
	}return AU
	},handlekeypress:function B(E){E=E||window.event
	if(this.doubleByte){this.toggleIMEStatusBar(false)
	this.doubleByte=false
	this.widgetHandleImeInput(this.prev_rInfo)
	window.setTimeout(function(){this.handleCharacter(E)
	}.bind(this),10)
	return false
	}if(this.handleCharacter(E)){R.stopPropogation(window,E)
	R.preventDefault(window,E)
	return false
	}return true
	},handlekeyup:function j(AV){var E=AV.keyCode||AV.charCode,AU
	if(E===AL.LEFT_ARROW||E===AL.RIGHT_ARROW){AU=this.findObjectToken()
	if(AU&&AU===this._saveActiveToken){this.startTokenSuggestion(AU)
	}else{this.endTokenSuggestion()
	}}else{if(E===AL.UP_ARROW){this.preHighlight()
	}else{if(E===AL.DOWN_ARROW){this.nextHighlight()
	}else{if(E===AL.BACKSPACE&&this.doubleByte){if(E===AL.BACKSPACE&&!this.composing&&!R.isIE9){this.doubleByte=false
	this.imeBuffer.pop()
	this.widgetHandleImeInput(this.prev_rInfo)
	this.prev_items=this.items
	}}}}}this.set("_saveRangeInfo",H.getRangeInfo())
	},handlemouseup:function t(AW){if(this.dropCuePos){return false
	}var AU=this.findObjectToken()
	if(AU&&AU===this._saveActiveToken){this.startTokenSuggestion(AU)
	}else{this.endTokenSuggestion()
	}var AV=H.getRangeInfo()
	if(this.doubleByte){this.doubleByte=false
	var E=this.widgetHandleImeInput(this.prev_rInfo)
	this.prev_items=this.items
	AU=R.findWidget(AV.startContainer)
	if(AU){this._delaySetTextCaretPos(AU.domNode,AV.startOffset)
	}else{this._delaySetTextCaretPos(E.domNode,AV.startOffset-1)
	}this.prev_rInfo=AV
	}this.set("_saveRangeInfo",AV)
	},handlepasteDirect:function AI(E){this.clipboardNode.value=E.clipboardData.getData("Text")
	this.handlePasteTriggeredDeletion()
	this.handlepaste(E)
	R.stopPropogation(window,E)
	R.preventDefault(window,E)
	return false
	},handlepaste:function q(AY){var AU=this.clipboardNode.value
	this.clipboardNode.value=""
	var AX=[],E=AU&&AU.length,AW,AV="",AZ
	if(E>0){for(AW=0
	AW<E
	AW++){AZ=AU.charAt(AW)
	if(this.isDelimiter(AZ)){if(AV.length>0){AX.push({v:AV,isNew:true})
	AV=""
	}AX.push({v:AZ,isDelimiter:true,isNew:true})
	}else{AV=AV+AZ
	}}if(!mstrmojo.string.isEmpty(AV)){AX.push({v:AV,isNew:true})
	AV=""
	}this.insertTokens(AX)
	}},raiseChangeEvent:function(E){E.name="tokensModify"
	this.raiseEvent(E)
	},getTokensAsString:function AQ(){var AU=[],AW=this.items,AV,E
	for(AV=0,E=AW.length
	AV<E
	AV++){AU[AV]=AW[AV].v
	}return AU.join("| ")
	},replaceErrorToken:function u(AW){var AV=this.items||[],AX=mstrmojo.array.find(AV,"sta",-1),AU,AY=function(Ae,Ac,Af){var Ab=(Ae&&Ae.items)||[],Aa=v.find(Ab,"did",Ac),AZ,Ad
	if(Aa>-1){AZ=Ab[Aa].fs
	Ad=v.filterOne(AZ,function(Ag){return Ag.fnm&&Ag.fnm.toUpperCase()===Af.toUpperCase()
	})
	}return Ad
	},E=function(Ae,Ac,Ad){var AZ={v:Ac.n,oi:Ac,isNew:true},Ab=Ae.v&&Ae.v.split("@"),Aa
	if(Ab&&Ab.length>1){Aa=AY(Ad,Ac.did,Ab[1])
	if(Aa){AZ.exv=Aa.fmdid||Aa.fid
	AZ.extp=8
	AZ.v=mstrmojo.ME.MetricToken.brackets(Ac.n)+"@"+Aa.fnm
	}}return AZ
	}
	if(AX>-1){AU=E(AV[AX],AW,this.candidates)
	this.remove(AX)
	this.add([AU],AX)
	}},widgetHandleDelete:function h(AX){if(AX.collapsed){var AW,AV,E,AY=AX.startOffset,AU=this.ctxtBuilder.itemWidgets
	if(!R.contains(this.editNode,AX.startContainer,false,document.body)){H.collapseOnNode(this.editNode,false)
	return 
	}AW=H.getEdgeInfo(AX.startContainer,AX.startOffset)
	AV=R.findWidget(AX.startContainer)
	E=this.itemIndex(AV.data)
	if(AW===n.EDGE_END){E++
	AV=AU[E]
	AY=0
	}if(!AV){H.collapseOnNode(this.editNode,false)
	return 
	}if(AV.length()===1){this.remove(E)
	AV=AU[E]
	if(AV){H.collapseOnNode(AV.domNode,true)
	}else{H.collapseOnNode(this.editNode,false)
	}this.checkMergeTwoTokens(E-1,E)
	}else{AV.spliceContent(AY,1)
	H.collapseOnTextNode(AV.domNode,AY)
	}}else{this.widgetDeleteTokens(AX)
	}},widgetHandleBackspace:function AC(AX){if(AX.collapsed){var AW,AV,E,AY=AX.startOffset,AU=this.ctxtBuilder.itemWidgets
	if(!R.contains(this.editNode,AX.startContainer,false,document.body)){if(AX.startOffset>0&&R.isFF){AV=AU[this.items.length-1]
	H.collapseOnNode(AV.domNode,false)
	AX=H.getRangeInfo()
	AW=H.getEdgeInfo(AX.startContainer,AX.startOffset)
	}else{H.collapseOnNode(this.editNode,true)
	return 
	}}AW=H.getEdgeInfo(AX.startContainer,AX.startOffset)
	AV=R.findWidget(AX.startContainer)
	E=this.itemIndex(AV.data)
	if(AW===n.EDGE_BEGIN){E--
	AV=AU[E]
	AY=AV.length()
	}if(!AV){H.collapseOnNode(this.editNode,true)
	return 
	}if(AV.length()===1){this.remove(E)
	AV=AU[E-1]
	if(AV){H.collapseOnNode(AV.domNode,false)
	this.checkMergeTwoTokens(E-1,E)
	AV=AU[E-1]
	}else{H.collapseOnNode(this.editNode,true)
	}}else{AV.spliceContent(AY-1,1)
	H.collapseOnTextNode(AV.domNode,AY-1)
	}}else{this.widgetDeleteTokens(AX)
	}},widgetHandleInput:function AF(AY,AZ){if(!AY.collapsed){this.widgetDeleteTokens(AY)
	AY=H.getRangeInfo()
	}var AV,Aa,Ab,Ac,E,AU,AW=this.ctxtBuilder.itemWidgets
	if(!R.contains(this.editNode,AY.startContainer,false,document.body)){this.add([{v:AZ,isDelimiter:this.isDelimiter(AZ),isNew:true}],0)
	Aa=AW[0]
	H.collapseOnTextNode(Aa.domNode,1)
	return 
	}AV=H.getEdgeInfo(AY.startContainer,AY.startOffset)
	Aa=R.findWidget(AY.startContainer)
	Ab=this.itemIndex(Aa.data)
	if(this.isDelimiter(AZ)){Ac={v:AZ,isDelimiter:true,isNew:true}
	if(AV===n.EDGE_MIDDLE){var AX=Aa.split2Tokens(AY.startOffset)
	this.remove(Ab)
	this.add([AX[0],Ac,AX[1]],Ab)
	Ab=Ab+1
	}else{Ab=(AV===n.EDGE_BEGIN)?Ab:Ab+1
	this.add([Ac],Ab)
	}Aa=AW[Ab]
	H.collapseOnTextNode(Aa.domNode,(Aa.domNode.innerText||Aa.domNode.textContent).length)
	}else{AU=AY.startOffset
	if(Aa.isDelimiter()){E=AW[(AV===n.EDGE_BEGIN)?Ab-1:Ab+1]
	if(E&&!E.isDelimiter()){Aa=E
	AU=(AV===n.EDGE_BEGIN)?Aa.length():0
	}}if(!Aa.isDelimiter()){Aa.spliceContent(AU,0,AZ)
	H.collapseOnTextNode(Aa.domNode,AU+1)
	}else{this.add([{v:AZ,isNew:true}],(AV===n.EDGE_BEGIN)?Ab:Ab+1)
	Aa=AW[(AV===n.EDGE_BEGIN)?Ab:Ab+1]
	H.collapseOnNode(Aa.domNode,false)
	}}},widgetHandleImeInput:function AF(AX,AY){AY=AY||this.imeBuffer.join("")
	this.imeBuffer=[]
	this.lastImeChar=null
	if(!AY){return 
	}if(!AX.collapsed){this.widgetDeleteTokens(AX)
	AX=H.getRangeInfo()
	}var AV,AZ,Aa,Ab,E,AU,AW=this.ctxtBuilder.itemWidgets
	if(!R.contains(this.editNode,AX.startContainer,false,document.body)||this.items.length==0){this.clearTokens()
	this.add([{v:AY,isDelimiter:this.isDelimiter(AY),isNew:true}],0)
	AW=this.ctxtBuilder.itemWidgets
	AZ=AW[0]
	H.collapseOnTextNode(AZ.domNode,1)
	this._delaySetCaretPos(AZ.domNode,false)
	return 
	}AV=H.getEdgeInfo(AX.startContainer,AX.startOffset)
	AZ=R.findWidget(AX.startContainer)
	Aa=this.itemIndex(AZ.data)
	AU=AX.startOffset
	if(AZ.isDelimiter()){this.clearTokens()
	this.add(this.prev_items)
	AW=this.ctxtBuilder.itemWidgets
	E=AW[(AV===n.EDGE_BEGIN)?Aa-1:Aa+1]
	if(E&&!E.isDelimiter()){AZ=E
	AU=(AV===n.EDGE_BEGIN)?AZ.length():0
	}}if(!AZ.isDelimiter()){AZ.spliceContent(AU,0,AY)
	this._delaySetTextCaretPos(AZ.domNode,AU+AY.length)
	}else{this.add([{v:AY,isNew:true}],(AV===n.EDGE_BEGIN)?Aa:Aa+1)
	AZ=AW[(AV===n.EDGE_BEGIN)?Aa:Aa+1]
	this._delaySetCaretPos(AZ.domNode,false)
	}this.startTokenSuggestion()
	return AZ
	},findObjectToken:function C(){var AX=H.getRangeInfo(),AV=R.findWidget(AX.startContainer)
	if(!R.contains(this.editNode,AX.startContainer,false,document.body)){return null
	}if(!AV||AV===this||!AV.isDelimiter){return null
	}if(AV&&!AV.isDelimiter()){return AV
	}var AW=H.getEdgeInfo(AX.startContainer,AX.startOffset),AU=this.ctxtBuilder.itemWidgets,E=this.itemIndex(AV.data)
	AV=AU[(AW===n.EDGE_BEGIN)?E-1:E+1]
	if(AV&&!AV.isDelimiter()){return AV
	}return null
	},checkMergeTwoTokens:function AA(AX,AV){var AW=this.ctxtBuilder.itemWidgets,AU=AW[AX],E=AW[AV]
	if((AU&&!AU.isDelimiter())&&(E&&!E.isDelimiter())){this.remove([AX,AV])
	this.add([AU.mergeTo(E)],AX)
	H.collapseOnTextNode(AW[AX].domNode,AU.length())
	}},insertTokens:function AH(AY){var Ab=0,Aa=this.editNode
	var AV=this._saveRangeInfo||H.getRangeInfo()
	if(!AV||!R.contains(Aa,AV.startContainer,false,document.body)){this.add(AY)
	Ab=this.items.length-1
	if(Ab===0){this._delaySetTextCaretPos(Aa,(Aa.innerText||Aa.textContent).length)
	}else{var E=this.ctxtBuilder.itemWidgets[Ab].domNode
	this._delaySetTextCaretPos(E,(E.innerText||E.textContent).length)
	}}else{var AU=H.getEdgeInfo(AV.startContainer,AV.startOffset),AZ=R.findWidget(AV.startContainer)
	Ab=this.itemIndex(AZ.data)
	if(AU===n.EDGE_MIDDLE){var AW=AZ.split2Tokens(AV.startOffset)
	this.remove(Ab)
	AY.unshift(AW[0])
	AY.push(AW[1])
	this.add(AY,Ab)
	}else{Ab=(AU===n.EDGE_BEGIN?Ab:Ab+1)
	this.add(AY,Ab)
	}Ab=Ab+AY.length-1
	AZ=this.ctxtBuilder.itemWidgets[Ab]
	this._delaySetCaretPos(AZ.domNode,false)
	}this.raiseChangeEvent({type:"insert"})
	var AX=this
	window.setTimeout(function(){AX.set("_saveRangeInfo",H.getRangeInfo())
	},50)
	return Ab
	},insertParenthesisTokens:function AK(AU){var E=this
	window.setTimeout(function(){var AV=E.insertTokens([{v:"(",isDelimiter:true,isNew:true},{v:")",isDelimiter:true,isNew:true}])
	E._delaySetTextCaretPos(E.itemsContainerNode.childNodes[AV-1],1)
	},AU||50)
	},clearTokens:function z(E){this.set("items",E||[])
	this.set("_saveRangeInfo",null)
	this._delaySetCaretPos(this.editNode,false)
	},focus:function AG(){var AU=this.ctxtBuilder.itemWidgets,E=AU.length
	this._delaySetCaretPos(E>0?AU[E-1].domNode:this.editNode,false)
	},startTokenSuggestion:function AM(E){this.endTokenSuggestion()
	if(!E){E=this.findObjectToken()
	}if(E&&!E.isDelimiter()){E.set("active",true)
	this._saveActiveToken=E
	this.showSuggestion(this.getSearchPattern())
	}if(!E||this.getSearchPattern().length===0){this.hideSuggestion()
	}},browseItemVisible:true,folderLinksContextId:25,browsableTypes:[Q.TP.FOLDER,Q.TP.FACT,Q.TP.ATTR,Q.TP.FUNCTION,Q.TP.FILTER,Q.STP.PROMPT_OBJECTS,Q.TP.ATTR,Q.TP.DIM,Q.TP.METRIC,Q.TP.ROLE].join(","),getSearchPattern:function c(){var AU=this._saveActiveToken,AW=AU&&AU.data.v.trim(),E=AW&&AW.length
	if(E>2){if(AW.charAt(0)==="["){AW=AW.substring(1)
	}if(AW.charAt(AW.length-1)==="]"){AW=AW.substring(0,AW.length-1)
	}}if(AU&&AU.data.ift){var AV=AU.data.v,AX=AV&&AV.indexOf("@")
	if(AX>=0){AW=AV.substring(AX)
	}}return AW||""
	},getSuggestionPos:function m(){var E=this._saveActiveToken,AU=null,AW,AV
	if(E){AW=E.data&&E.data.ift
	AV=mstrmojo.dom.position(E.domNode,true)
	AU={left:Math.round(AV.x+(AW?AV.w:0))+"px",top:Math.round(AV.y+AV.h)+"px",zIndex:100}
	}return AU
	},updateSuggestionListHeightThenNudge:function W(E){if(mstrApp.isWorkstationPlugin){var AV=this._saveActiveToken
	if(AV&&E){var AY=AV.data&&AV.data.ift,AU=mstrmojo.dom.position(AV.domNode,true),Ae=Math.round(AU.y+AU.h),AW=Math.round(AU.x+(AY?AU.w:0)),Ab=5,Ag=window.innerHeight-Ae-Ab,AZ=E.list&&E.list.scrollNode&&(E.list.scrollNode.offsetHeight>Ag),Ac=5,Ad=window.innerWidth-Ac,AX=AZ?19:0,Af=((this.suggestionPopup&&this.suggestionPopup.domNode&&this.suggestionPopup.domNode.offsetWidth)+AX)||0,Aa=(AW+Af)>Ad
	if(AZ&&E.list&&E.list.scrollNode){E.list.scrollNode.style.maxHeight=Ag+"px"
	E.list.updateScrollbars()
	}E.set("left",(Aa?(Ad-Af):AW)+"px")
	E.set("top",Ae+"px")
	}}},item2textCss:function O(AU){var E=(this._super&&this._super(AU))||{4:"m",11:"fx",12:"a",13:"fc",43:"tr",21:"afm","-99":"br"}[AU.t]||""
	E+=AU.da?" da":""
	E+=(AU.dm||AU.um)?" dm":""
	E+=AU.de?" de":""
	E+=AU.fs&&AU.fs.length&&AU.fs.some(function(AV){return AV.fgr>0
	})?" g":""
	return E
	},onBrowserOpen:function AB(){this.editNode.blur()
	},onSuggestionItemSelect:function AJ(AU){var E=this._saveActiveToken
	this.endTokenSuggestion()
	if(E){if(E.data.ift&&AU.t===21){E.setFormInfo(AU)
	}else{E.setItemInfo(AU)
	if(AU.t===mstrmojo.mstr.EnumDSSXMLObjectTypes.Function){this.insertParenthesisTokens()
	}}this._delaySetCaretPos(E.domNode,false)
	}this.closePopup()
	},_delaySetCaretPos:function AO(E,AV){var AU=this.editNode,AW=this,AX=function(){AU.focus()
	AU.focus()
	H.collapseOnNode(E,AV)
	AW.set("_saveRangeInfo",H.getRangeInfo())
	}
	window.setTimeout(AX,0)
	},_delaySetTextCaretPos:function AO(E,AX){var AU=this.editNode,AV=this,AW=function(){AU.focus()
	AU.focus()
	H.collapseOnTextNode(E,AX)
	AV.set("_saveRangeInfo",H.getRangeInfo())
	}
	window.setTimeout(AW,0)
	},getCandidatesThroughTaskCall:function f(AU,E){AU.objectType="11,12,13,43,4"
	AU.rootFolderType=39
	AU.blockCount=this.blockCount
	mstrmojo.ME.MetricDataService.getMetricComponents(AU,E)
	},filterCandidates:function x(AX,AW,E){var AU=this._saveActiveToken,AY=AU&&(AU.data.oi||AU.data.at),AV
	if(AY&&AU.data.ift){E=E||this.suggestCount
	AW=mstrmojo.string.regEscape(AW)
	AV=v.filter(AX,function(AZ){return AZ.t===21&&AZ.attid===AY.did&&(new RegExp("^"+AW,"i")).test("@"+AZ.n)
	},{max:E})
	}else{AV=v.filter(AX,function(AZ){return AZ.t!==21
	})
	AV=this._super(AV,AW,E)
	}return AV
	},endTokenSuggestion:function AP(AU){var E=this._saveActiveToken
	if(E){if(AU){this.hideSuggestion()
	}E.set("active",false)
	this._saveActiveToken=null
	}},widgetDeleteTokens:function r(Af){var AU=Af.startOffset,E=Af.endOffset,Ai=R.findWidget(Af.startContainer),Ag=R.findWidget(Af.endContainer),AZ=this.itemIndex(Ai.data),AX=this.itemIndex(Ag.data),Ab=[],Ac=H.getEdgeInfo(Af.startContainer,AU),Ah=H.getEdgeInfo(Af.endContainer,E),Ad=(Ac===n.EDGE_BEGIN?AZ:AZ+1),AW=(Ah===n.EDGE_END?AX:AX-1),AY
	if(Ai===Ag){if((Ac===n.EDGE_BEGIN)&&(Ah===n.EDGE_END)){if((R.isFF||M)&&window.getSelection()){var Aa=window.getSelection().getRangeAt(0),Ae=Aa.startOffset,AV=Aa.endOffset-Ae
	Aa.deleteContents()
	this.items.splice(Ae,AV)
	H.collapseOnNode(this.editNode,false)
	}else{this.remove(AZ)
	Ag=this.ctxtBuilder.itemWidgets[AZ===0?AZ:AZ-1]
	if(Ag){H.collapseOnNode(Ag.domNode,AZ===0)
	}else{H.collapseOnNode(this.editNode,true)
	}}}else{Ai.spliceContent(AU,E-AU)
	H.collapseOnTextNode(Ag.domNode,AU)
	}}else{for(AY=Ad
	AY<=AW
	AY++){Ab.push(AY)
	}this.remove(Ab)
	if(Ac===n.EDGE_MIDDLE){Ai.spliceContent(AU)
	}if(Ah===n.EDGE_MIDDLE){Ag.spliceContent(0,E)
	}}if(Ac===n.EDGE_BEGIN){Ai=this.ctxtBuilder.itemWidgets[AZ===0?AZ:AZ-1]
	}if(Ai){H.collapseOnNode(Ai.domNode,AZ===0)
	}else{H.collapseOnNode(this.editNode,false)
	}AZ=(Ac===n.EDGE_BEGIN)?AZ-1:AZ
	this.checkMergeTwoTokens(AZ,AZ+1)
	this.editNode.focus()
	},oncandidatesChange:function w(){var AU=this.candidates,E=(AU&&AU.items)||[]
	if(!this.noCache&&AU&&AU.isComplete){this.suggestCount=this.REQUEST_THRESHOLD=E.length
	}else{this.suggestCount=mstrmojo.ME.MetricDataService.suggestCount
	this.REQUEST_THRESHOLD=20
	}},nudge:function(E){var AU=this.getSuggestionPos()
	if(AU){E.set("left",AU.left)
	E.set("top",AU.top)
	}},pretokensModify:function P(){this.tokensCache=this.tokensCache.slice(0,this.tokensCachePointer)
	var E=this.findObjectToken()
	this.tokensCache.push({items:K.clone(this.items),rInfo:H.getRangeInfo(),idx:E!==null?this.itemIndex(E.data):-1})
	this.tokensCachePointer=this.tokensCache.length
	},widgetHandleUndoRedo:function p(AV){var AW,E,AU=function(AY){if(!AY){return 
	}AY=AY||{}
	this.set("items",K.clone(AY.items))
	var Ab=this.ctxtBuilder.itemWidgets,AX=Ab[AY.idx],Aa=AX&&AX.domNode||this.editNode,AZ=AY.rInfo
	this._delaySetTextCaretPos(Aa,AZ&&AZ.startOffset||0)
	}
	switch(AV){case"undo":AW=--this.tokensCachePointer
	if(AW>-1){E=this.tokensCache[AW-1]
	AU.call(this,E)
	}else{this.tokensCachePointer=1
	}break
	case"redo":AW=this.tokensCachePointer++
	if(AW>-1&&AW<this.tokensCache.length){E=this.tokensCache[AW]
	AU.call(this,E)
	}else{this.tokensCachePointer=Math.min(Math.max(this.tokensCachePointer,1),this.tokensCache.length)
	}break
	}},resetTokensCache:function b(){this.tokensCache=[]
	this.tokensCachePointer=-1
	this.tokensCacheInitilized=false
	},toggleIMEStatusBar:function e(E){if((R.isIE9||R.isIE10||R.isIEW3C||R.isEdge)&&this.detectKoreanLocale()){if(E){if(!this.elStatus||!this.elStatus.offsetParent){var AU=this.elStatus=document.createElement("div")
	AU.innerText=mstrmojo.desc(15003,"Please enter space key to finish IME typing")
	AU.className="mstrmojo-TokenInputBox-status"
	this.domNode.appendChild(AU)
	}}else{this.domNode.removeChild(this.elStatus)
	delete this.elStatus
	}}},detectKoreanLocale:function o(){var E=window.navigator
	if(window.mstrConfig&&(window.mstrConfig.browserLang||[]).indexOf("ko")>=0){return true
	}else{if(E.userLanguage=="ko"||E.userLanguage=="ko-KR"||E.browserLanguage=="ko"||E.browserLanguage=="ko-KR"){return true
	}}return false
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.menus.ToolbarConfig")
	mstrmojo.vi.ui.toolbars._HasToolbar=mstrmojo.provide("mstrmojo.vi.ui.toolbars._HasToolbar",{_mixinName:"mstrmojo.vi.ui.toolbars._HasToolbar",preBuildRendering:function A(){this.generateToolbar()
	return this._super()
	},generateToolbar:function B(){this.passToolbarCfg(this.updateToolbar(new mstrmojo.ui.menus.ToolbarConfig()))
	},updateToolbar:function D(E){if(this._super){E=this._super(E)
	}return E
	},passToolbarCfg:function C(E){var F=this.toolbar.toolbarCfg
	if(F){F.destroy()
	}this.toolbar.set("toolbarCfg",E)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasLayout","mstrmojo.ui.menus._HasMenuPopup","mstrmojo.vi._MonitorsAppState","mstrmojo.vi.ui.tabs.Tab","mstrmojo.dom","mstrmojo.css")
	var N=mstrmojo.dom,d=mstrmojo.array,B=mstrmojo.css,k="animate",l="90px",q="70px",F="52px",z=200,Q=700,A=400
	function D(){var AH=window.Modernizr,AG="transition"
	if(AH&&AH.testProp(AG)){return N.transEndEvtNames[AH.prefixed(AG)]
	}return null
	}function AB(AG){return function(){this.menuNode.style.display=AG?"block":"none"
	}
	}function P(AG){return Math.min(AG.offsetWidth-AG.firstChild.offsetWidth,0)
	}function AA(AG){return AG.isAlignRight?"right":"left"
	}function AE(AG,AH){return parseInt(AG.style[AA(AH)],10)||0
	}function L(){var AK=this.tabContainerNode,AJ=false,AI=false,AL=false,AM=this.leftBtnNode,AG=this.rightBtnNode,AH=this.isValidMode()
	window.setTimeout(function(){if(P(AK)<0){var AO=N.position(AK),AN=N.position(AK.firstChild)
	AJ=(AN.x<AO.x)
	AI=(AN.x+AN.w>AO.x+AO.w+1)
	}AL=AJ||AI
	B.toggleClass(this.btnBarNode,"highlightBar",AL)
	AM.style.display=AG.style.display=AL?"block":"none"
	AM.disabled=!AJ
	AG.disabled=!AI
	B.toggleClass(AM,"disable",!AJ)
	B.toggleClass(AG,"disable",!AI)
	if(this.domNode&&!this.isCustomAddBtn){this.addBtnNode.style.display=this.tabStripMenuNode.style.display=AH?"block":"none"
	this.bufferNode.style.display=AH?"none":"block"
	this.floaterNode.style.display=this.hasFloater&&AJ?"block":"none"
	}this.widgetResized()
	}.bind(this),z)
	}function W(AG,AH){AG=(AG||[])
	if(!AG.filter){return d.filter(AG,AH)
	}return AG.filter(AH)
	}function Z(AG,AH){AG=(AG||[])
	if(!AG.map){return d.map(AG,AH)
	}return AG.map(AH)
	}function v(AW,AI,AJ){var AU=this.tabContainerNode,AN=this.domNode
	if(this.isStatic||!AU||!AN||AN.style.display==="none"){return 
	}var AP=AU.firstChild,AV=P(AU),AM=AE(AP,this),AG=Math.max(AM,AV),AT=W(this.children,function(AX){return AX.isSelected
	})[0],AR=AJ&&AJ.domNode||AT&&AT.domNode
	if(AW&&AR){if(AV<0){var AO=N.position(AR),AK=N.position(AU),AQ=Math.floor(AO.x-AK.x),AS=Math.floor(AO.x+AO.w-(AK.x+AK.w))
	if(AJ){var AH=Math.ceil(AR.offsetWidth)
	AQ=AQ===0?Math.max(AV,-AH):AQ
	AS=AS===0?Math.min(-AV,AH):AS
	}var AL=AQ<0?AQ:(AS>0?AS:0)
	AG=this.isAlignRight?AG+AL:AG-AL
	}}if(AG!==AM){if(AI){this.setAnimation(AP)
	}AP.style[AA(this)]=Math.max(AV,Math.min(AG,0))+"px"
	}L.call(this)
	}function C(AG){return AG.hasOwnProperty("index")
	}function b(){var AG=this.children,AH=0
	(AG||[]).every(function(AJ,AI){if(!C(AJ)){return false
	}AH++
	AJ.index=AI
	return true
	})
	(AG||[]).every(function(AI){if(!C(AI)){return false
	}AI.total=AH
	return true
	})
	}function j(AM,AI){var AL=AM.ENUM_CORNERS,AN=[AL.TOP_LEFT,AL.BOTTOM_LEFT],AH=this.parent
	if(AH.position!=="bottom"){AN.reverse()
	}AM.setAlignment(AN[0],AN[1])
	var AG=N.position(AH.domNode),AK=AH.menuNode
	var AJ=AK.style
	AJ.top=(AI.y-AG.y)+"px"
	AJ.left=(AI.x-AG.x)+"px"
	AM.addPopupHandlers(AH.id,AB(true),AB(false))
	AM.hostId=AH.id
	AM.hostElement=AK
	AM.isHostedWithin=false
	AH.openPopup(AM.newInstance())
	}function m(AG){AG.raiseEvent({name:"TabsChange"})
	}mstrmojo.vi.ui.tabs.TabStrip=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout,mstrmojo.ui.menus._HasMenuPopup,mstrmojo.vi._MonitorsAppState],{scriptClass:"mstrmojo.vi.ui.tabs.TabStrip",markupString:'<div id="{@id}" class="mstrmojo-VITabStrip {@cssClass}" style="{@cssText}" mstrAttach:wheel><div class="mstrmojo-VITabStrip-menu" mstrAttach:click><div id="tabCommonIcon" class="mstrmojo-VITabStrip-menuIcon"></div><div id="tabCommonButton" class="mstrmojo-VITabStrip-menuButton"></div><div id="tabCommonMenuHost" class="mstrmojo-VITabStrip-menuButtonHost"></div></div><div class="mstrmojo-VITabStrip-tabs"><div style="display:table"><div style="display:table-row"></div></div></div><div class="mstrmojo-VITabStrip-buffer"></div><div class="mstrmojo-VITabStrip-btnBar"><div class="mstrmojo-VITabStrip-addBtn" mstrAttach:click><div class="mstrmojo-VITabStrip-addBtn-Img"></div><div class="mstrmojo-VITabStrip-addBtn-Text"></div></div><div class="mstrmojo-VITabStrip-navBtns"><div id="tabRightButton" class="mstrmojo-VITabStrip-rightBtn" mstrAttach:click,mousedown,mouseup,mouseover,mouseout><div class="navBtnIcon"></div></div><div id="tabLeftButton" class="mstrmojo-VITabStrip-leftBtn" mstrAttach:click,mousedown,mouseup,mouseover,mouseout><div class="navBtnIcon"></div></div></div></div><div class="mstrmojo-VITabStrip-floater"></div><div class="mstrmojo-VITabStrip-menuHost"></div><div class="mstrmojo-VIDND-mask"></div></div>',markupSlots:{tabStripMenuNode:function(){return this.domNode.firstChild
	},menuImgNode:function(){return this.domNode.firstChild.firstChild
	},menuBtnNode:function(){return this.domNode.firstChild.childNodes[1]
	},menuBtnHostNode:function(){return this.domNode.firstChild.lastChild
	},tabContainerNode:function(){return this.domNode.childNodes[1]
	},containerNode:function(){return this.domNode.childNodes[1].firstChild.firstChild
	},bufferNode:function(){return this.domNode.childNodes[2]
	},btnBarNode:function(){return this.domNode.childNodes[3]
	},addBtnNode:function(){return this.domNode.childNodes[3].firstChild
	},addBtnImgNode:function(){return this.domNode.childNodes[3].firstChild.firstChild
	},addBtnTxtNode:function(){return this.domNode.childNodes[3].firstChild.lastChild
	},navBtnsNode:function(){return this.domNode.childNodes[3].lastChild
	},rightBtnNode:function(){return this.domNode.childNodes[3].lastChild.firstChild
	},leftBtnNode:function(){return this.domNode.childNodes[3].lastChild.lastChild
	},floaterNode:function(){return this.domNode.childNodes[4]
	},menuNode:function(){return this.domNode.childNodes[5]
	},maskNode:function(){return this.domNode.lastChild
	}},isStatic:false,isCustomAddBtn:false,isAlignRight:true,tabStripMenuNode:null,menuImgNode:null,menuBtnNode:null,menuBtnHostNode:null,tabContainerNode:null,addBtnNode:null,bufferNode:null,navBtnsNode:null,leftBtnNode:null,rightBtnNode:null,menuNode:null,position:"bottom",selectMovedTab:false,hasFloater:false,tabNavInterval:0,tabObjects:null,layoutConfig:{w:{tabContainerNode:"100%",bufferNode:"6px",addBtnNode:l,navBtnsNode:F,tabStripMenuNode:q},xt:true},onAppStateChange:function t(AN){var AL=mstrmojo.vi.VisualInsightApp.APP_STATES,AM=AL.PRESENTATION,AG=AL.SELECTOR_TARGETING,AH=AN.value,AO=AN.valueWas,AK=this.isValidMode()
	if(AH&AM||AO&AM||AH&AG||AO&AG){var AI=this.addBtnNode,AJ=this.tabStripMenuNode
	if(AI&&AJ){AI.style.display=AJ.style.display=AK?"block":"none"
	this.bufferNode.style.display=AK?"none":"block"
	this.doLayout()
	}}},setStatic:function R(AG,AH){this.isStatic=AG
	if(!AG){v.call(this,true,AH)
	}},setTabs:function r(AJ,AG){var AH=[]
	d.forEach(this.children,function(AL){AH.push(AL)
	})
	this.removeChildren()
	d.forEach(AH,function(AL){if(AL.destroy){AL.destroy()
	}})
	this.tabObjects=AJ
	var AK=this,AI=(AJ&&AJ.length)||0
	this.addChildren(Z(AJ,function(AN,AL){var AM=AN.k
	return AK.getTabCfg(AJ,AN,{scriptClass:"mstrmojo.vi.ui.tabs.Tab",index:AL,total:AI,draggable:!!AI,dropZone:!!AI,k:AM,isSelected:AM===AG,showTabMenu:j,tabMoved:function(AP){var AO=this.index
	AK.moveTab(AO,AO+(AP?-1:1),AO)
	}})
	}))
	v.call(this,true)
	m(this)
	},getTabs:function n(){return W(this.children,C)
	},getTabCfg:function AF(AH,AI,AG){return AG
	},deleteTab:function I(AG){var AM=this.id,AL=this.children[AG],AK=D(),AJ=function(){var AN=mstrmojo.all[AM]
	AN.removeChildren(AL)
	AL.destroy()
	b.call(AN)
	L.call(AN)
	m(AN)
	}
	if(AK){var AI=AL.domNode.firstChild,AH=AI.style
	AH.width=AI.offsetWidth+"px"
	window.setTimeout(function(){B.addClass(AI,k)
	N.attachOneTimeEvent(AI,AK,AJ)
	AH.width=0
	},0)
	}else{AJ()
	}},buildRendering:function e(){this._super()
	B.toggleClass(this.domNode,"alignLeft",!this.isAlignRight)
	},postBuildRendering:function X(){var AG=this._super()
	v.call(this,true)
	return AG
	},doLayout:function K(){this._super()
	v.call(this,true)
	},isValidMode:function E(){return !((mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation())||(mstrApp.isAppStateSelection&&mstrApp.isAppStateSelection())||(mstrApp.allowWebDashboardDesign&&!mstrApp.allowWebDashboardDesign()))
	},setSelectedTab:function U(AG){var AH,AI
	d.forEach(this.children||[],function(AJ){AI=AJ.k===AG
	AJ.set("isSelected",AI)
	if(AI){AH=AJ
	}})
	m(this)
	return AH
	},getSelectedTab:function h(){var AI=null,AH=this.children||[],AG
	for(AG=0
	AG<AH.length
	AG++){if(AH[AG].isSelected){AI=AH[AG]
	break
	}}return AI
	},onclick:function p(AG){if(mstrApp.hasRequests&&mstrApp.hasRequests()){return false
	}if(!this.isValidMode()){return false
	}if(AG.getTarget()===this.addBtnImgNode||AG.getTarget()===this.addBtnTxtNode){this.addTab()
	}return true
	},addTab:mstrmojo.emptyFn,clearBtnTooltips:function O(AI){var AG=(AI===this.leftBtnNode),AH=(AI===this.rightBtnNode)
	if(AG||AH){this.clearTooltips()
	return true
	}return false
	},showBtnTooltips:function G(AG){var AI=AG.getTarget().parentNode,AH=this.clearBtnTooltips(AI)
	if(AH){this.toggleTooltip(AI)
	}},onmouseout:function w(AG){var AH=AG.getTarget().parentNode
	this.clearBtnTooltips(AH)
	},onmouseover:function H(AG){this.showBtnTooltips(AG)
	},onwheel:function S(AG){var AH=AG.e.deltaY<0?this.leftBtnNode:this.rightBtnNode
	AG.target=AH.firstChild
	this.onmousedown(AG)
	this.onmouseup(AG)
	},onmouseup:function c(AG){var AI=AG.name||AG.e.name,AH=AI==="wheel"?AG.target.parentNode:AG.getTarget().parentNode
	if(AI!=="wheel"){window.setTimeout(function(){this.showBtnTooltips(AG)
	}.bind(this),z)
	}if(AH===this.leftBtnNode||AH===this.rightBtnNode){window.clearInterval(this.tabNavInterval)
	B.removeClass(AH,"active")
	L.call(this)
	if(mstrApp.setInteractive){mstrApp.setInteractive(true)
	}}},onmousedown:function g(AO){var AI=AO.name||AO.e.name,AL=AI==="wheel"?AO.target.parentNode:AO.getTarget().parentNode,AP=(AL===this.leftBtnNode),AJ=(AL===this.rightBtnNode)
	if(AP||AJ){var AN=this.tabContainerNode,AK=AN.firstChild,AM=this
	if(mstrApp.setInteractive){mstrApp.setInteractive(false)
	}B.addClass(AL,"active")
	var AG=function(){var AS=P(AN),AV=AE(AK,AM),AW=AV-AS,AU=0-AV,AX=false
	AM.setTabProperties()
	var AQ=AM.getCornerTabs()||[],AT=W(AQ,function(AY){if(AP&&AY.isLeftMost||AJ&&AY.isRightMost){return AY
	}})[0],AR=0
	if(AT){AX=AT.isCutoff
	AR=AX?(AP?AT.leftEdgeHiddenWidth:AT.rightEdgeHiddenWidth):Math.ceil(AT.domNode.offsetWidth)
	AR=Math.min(AR,AP?AU:AW)
	AR=AM.isAlignRight?(AP?-AR:AR):(AP?AR:-AR)
	}if(!AX&&AI!=="wheel"){AM.setAnimation(AK)
	}AK.style[AA(AM)]=parseInt(AK.style[AA(AM)]||0)+AR+"px"
	return AX
	}
	var AH=AG()
	if(AH){AG()
	}this.tabNavInterval=window.setInterval(function(){AG()
	},A)
	}},setTabProperties:function J(){var AG=this.tabContainerNode,AH=N.position(AG)
	d.forEach(this.children||[],function(AM){var AP=AM.domNode,AK=N.position(AP),AN=Math.floor(AK.x-AH.x),AJ=Math.floor(AK.x+AK.w-(AH.x+AH.w)),AI=Math.ceil(AP.getBoundingClientRect().width),AL=0
	AM.isCutoff=AM.isHidden=AM.isLeftMost=AM.isRightMost=false
	AM.leftEdgeHiddenWidth=AM.rightEdgeHiddenWidth=0
	if(AN<0){var AO=Math.abs(AN)
	AL=AI-AO
	AM.isLeftMost=AL>=0
	AM.isCutoff=AM.isLeftMost&&AO>0&&AL>0
	AM.isHidden=AL<=0
	AM.leftEdgeHiddenWidth=AO
	}else{if(AJ>0){AL=AI-AJ
	AM.isRightMost=AL>=0
	AM.isCutoff=AM.isRightMost&&AJ>0&&AL>0
	AM.isHidden=AL<=0
	AM.rightEdgeHiddenWidth=AJ
	}}})
	},getCornerTabs:function f(){return W(this.children,function(AG){return AG.isLeftMost||AG.isRightMost
	})
	},setAnimation:function a(AG){var AH=D()
	if(AH){B.addClass(AG,k)
	N.attachOneTimeEvent(AG,AH,function(){B.removeClass(AG,k)
	})
	}},createTooltip:function AC(AK){var AI=AK.getAttribute("tooltip"),AM
	if(!AI){return null
	}AM=document.createElement("div")
	AM.className="navBtnTooltip"
	AM.appendChild(document.createTextNode(AI))
	var AL=document.body.firstChild
	AL.parentNode.insertBefore(AM,AL)
	var AO=5,AH=AM.offsetWidth-25,AN=AK.getBoundingClientRect(),AG=AM.getBoundingClientRect(),AJ=AN.top-(AG.height+AO)
	AM.style.top=AJ+"px"
	AM.style.left=(AN.left-AH)+"px"
	return AM
	},clearTooltips:function o(){window.clearTimeout(this._tooltipTimeOut)
	var AG=document.querySelectorAll(".navBtnTooltip")
	d.forEach(AG||[],function(AH){AH.parentNode.removeChild(AH)
	})
	},toggleTooltip:function AD(AG){window.clearTimeout(this._tooltipTimeOut)
	if(AG.disabled){this._tooltipTimeOut=window.setTimeout(function(){this.createTooltip(AG)
	}.bind(this),Q)
	}},moveTab:function M(AG,AO,AM,AL){var AH=this.children,AP=AH.splice(AG,1)[0]
	AH.splice(AO,0,AP)
	b.call(this)
	this.setAnimation(this.tabContainerNode.firstChild)
	var AI=this.containerNode,AJ=AI.childNodes,AN=AI.removeChild(AJ[AG]),AK=AJ[AO]
	if(AK){AI.insertBefore(AN,AK)
	}else{AI.appendChild(AN)
	}if(this.selectMovedTab||AP.isSelected){v.call(this,true,true,AP)
	}if(!AL&&AM!==undefined&&AM!==AO){this.commitTabMove(AM,AO)
	m(this)
	}},commitTabMove:function x(AG,AH){throw new Error(this.scriptClass+" must implement commitTabMove.")
	},updateTabTable:function u(AG){if(!this.isStatic){v.call(this,true,AG)
	}},setLinkIcon:function Y(AG,AJ){var AI,AH
	if(AG){if(AJ){AH="src"
	d.some(this.getTabs(),function(AK){if(AK.k===AJ){AI=AK
	}return AI
	})
	if(!AI){return 
	}}else{AH="tgt"
	AI=this.getSelectedTab()
	}B.addClass(AI.domNode,AH)
	}else{AH=AJ?["src","tgt"]:"tgt"
	d.forEach(this.children,function(AK){B.removeClass(AK.domNode,AH)
	})
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.Dialog","mstrmojo.Button","mstrmojo.HTMLButton","mstrmojo.Label","mstrmojo.form","mstrmojo.LoginEditor")
	mstrmojo.requiresDescs(2699,7773,11812,11865,13380,13381,13382,16420)
	var E=mstrmojo.desc(13382,"Your user session will time out due to inactivity in # ##."),A=mstrmojo.desc(16420,"This session may have timed out or the connection is down. Please refresh and try again."),W=mstrmojo.desc(11865,"Your sessions is expired."),U=60,N=false,H=null,B=null,I=null
	function O(){return mstrApp.sessionState||window.microstrategy&&microstrategy.sessionState
	}function L(Z,Y){if(mstrApp.is508){for(var X in Y){Z.setAttribute(X,Y[X])
	}}}mstrmojo.SessionManager=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.SessionManager",cssClass:"mstrmojo-SessionManager",width:"370px",title:mstrmojo.desc(11812,"Notification"),msgInterval:1,checkSessionInterval:20,zIndex:10000,maxSessionIdleTime:600,timeBeforeSessionTimeoutWarning:60,remainingTime:60,sessionTimedout:false,buttons:[mstrmojo.Button.newWebButton(mstrmojo.desc(13381,"Stay logged in"),function(){var X=this.parent.parent
	if(B){X.keepSessionAlive()
	}X.hideMessage()
	},true,{onRender:function(){L(this.domNode,{tabindex:0,role:"button","aria-label":mstrmojo.desc(13381,"Stay logged in")})
	}}),mstrmojo.Button.newWebButton(mstrmojo.desc(13380,"Log out"),function(){this.parent.parent.hideMessage()
	mstrmojo.form.send({evt:3019,src:mstrApp.name+".3019"})
	},null,{onRender:function(){L(this.domNode,{tabindex:0,role:"button","aria-label":mstrmojo.desc(13380,"Log out")})
	}})],children:[{scriptClass:"mstrmojo.Label",alias:"message",cssClass:"mstrmojo-SessionManager-msg",text:"",allowHTML:true,ontextChange:function(){if(mstrApp.is508){this.refresh()
	var X=this.domNode
	L(X,{tabindex:-1,role:"alert"})
	window.setTimeout(function(){X.focus()
	},0)
	}}}],postBuildRendering:function(){this._super()
	if(mstrApp.is508){this.msgInterval=10
	L(this.editorNode,{role:"alertdialog",tabindex:-1})
	}},updateMsg:function D(Y){var X
	if(Y>60){X=E.replace("##",mstrmojo.desc(2699,"minutes")).replace("#","<b>"+Math.ceil(Y/U)+"</b>")
	}else{if(Y>-1){X=E.replace("##",mstrmojo.desc(7773,"seconds")).replace("#","<b>"+Y+"</b>")
	}else{X=mstrmojo.desc(11865,"Your session is expired.")
	}}this.message.text=""
	this.message.set("text",X)
	this.remainingTime=Y
	},showMessage:function G(X){this.updateMsg(X)
	this.open()
	N=true
	},hideMessage:function K(){if(B){window.clearInterval(B)
	B=null
	window.clearInterval(I)
	I=null
	}this.close()
	N=false
	},popupTimeoutWarning:function M(b){if(N){return 
	}var Z=this,a=(typeof b==="number")?b:Z.timeBeforeSessionTimeoutWarning,X=a,Y=mstrmojo.now()
	if(mstrApp.enableWarningSessionTimeout){if(!this.hasRendered){this.render()
	}this.showMessage(X)
	}window.clearInterval(B)
	B=window.setInterval(function(){if(X<1){window.clearInterval(B)
	B=null
	window.clearInterval(I)
	I=null
	window.setTimeout(function(){if(mstrApp.enableWarningSessionTimeout){Z.gotoLogoutPage()
	}else{Z.sessionTimedout=true
	Z.closeSession()
	}},200)
	}var c=Math.round((mstrmojo.now()-Y)/1000)
	X=a-c
	Z.updateMsg(X)
	},this.msgInterval*1000)
	window.clearInterval(I)
	I=window.setInterval(function(){Z.isSessionAlive()
	},this.checkSessionInterval*1000)
	},warningTimeoutTimer:function R(X){var Y=this
	window.clearTimeout(H)
	H=window.setTimeout(function(){H=null
	Y.isSessionAlive()
	},(X-this.timeBeforeSessionTimeoutWarning)*1000)
	},isSessionAlive:function F(){var X=this,Z={success:function(a){var b=parseInt(a,10)
	if(b!==-1){if(b>X.remainingTime){X.hideMessage()
	}if(b>X.timeBeforeSessionTimeoutWarning){X.warningTimeoutTimer(b)
	}else{X.popupTimeoutWarning(b)
	}}else{window.clearInterval(I)
	X.popupTimeoutWarning(0)
	}},failure:function(){mstrmojo.alert(A)
	}},Y={taskId:"isSessionAlive",notRestartSessionManager:true}
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,Z,Y)
	},keepSessionAlive:function S(){var X=this,Z={success:function(a){if(a){X.warningTimeoutTimer(X.maxSessionIdleTime)
	}else{X.sessionTimedout=true
	mstrmojo.alert(W)
	}},failure:function(){mstrmojo.alert(A)
	}},Y={taskId:"keepSessionAlive"}
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,Z,Y)
	},closeSession:function J(){var X=this
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(){X.sessionTimedout=true
	}},{taskId:"closeSessions",sessionStates:O(),notRestartSessionManager:true})
	},restart:function(){this.sessionTimedout=false
	this.hideMessage()
	if(this.maxSessionIdleTime>this.timeBeforeSessionTimeoutWarning){this.warningTimeoutTimer(this.maxSessionIdleTime)
	}},start:function C(){var Z=mstrConfig.lastMsgKey
	if(this.maxSessionIdleTime>this.timeBeforeSessionTimeoutWarning){this.warningTimeoutTimer(this.maxSessionIdleTime)
	}var Y=function(){window.localStorage.setItem("msg_recovery_notify"+Z,1)
	}
	if(window.addEventListener){window.addEventListener("beforeunload",Y)
	}else{window.attachEvent("onbeforeunload",Y)
	}var X=window.sessionStorage
	if(X){X.setItem("msg_browser_not_closed"+Z,1)
	X.setItem("msg_user_login",0)
	}},openLoginEditor:function Q(Z){if(window.mstrmobile&&window.mstrmobile.onSessionExpired){window.mstrmobile.onSessionExpired()
	return 
	}var Y="LoginEditor",X=mstrmojo.all[Y]
	if(!X){X=mstrmojo.insert({id:Y,scriptClass:"mstrmojo.LoginEditor",config:{callback:{}},zIndex:10000})
	}X.config.callback=Z
	X.open()
	},gotoLogoutPage:function P(){mstrmojo.form.send({evt:3008,src:mstrApp.name+".3008",autoLoggedout:true,Server:mstrConfig.serverName,Port:mstrConfig.serverPort,Project:mstrmojo.string.decodeHtmlString(mstrConfig.projectName),loginReq:true},null,"POST")
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.publisher","mstrmojo.Widget","mstrmojo.fx","mstrmojo.locales","mstrmojo.expr","mstrmojo.Button","mstrmojo.date","mstrmojo.ui.editors.controls.Stepper","mstrmojo.array","mstrmojo.css","mstrmojo.func","mstrmojo.vi.util.A11yUtility")
	mstrmojo.requiresDescs(950,954,1035)
	var m=function(){return mstrmojo.locales.datetime
	},AJ=mstrmojo.dom,AI=mstrmojo.expr,AN=AI.DTP,AB=mstrmojo.date,L=mstrmojo.publisher,AG=mstrmojo.hash,AO=mstrmojo.array,Z=AO.removeIndices,AL=mstrmojo.css,AU=mstrmojo.vi.util.A11yUtility
	var w=0,R=3,v=4,AX=5,S=6
	var I=1,d=2
	var a="month",A="day",AE="year",G="hour",B="minute",q="second"
	var Q='<table border="0" cellpadding="0" cellspacing="0">',E="</table>"
	var l=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]
	function c(Aa){return'<table border="0" cellpadding="0" cellspacing="0" style="'+Aa+'">'
	}var z=mstrmojo.desc(13844,"Dynamic Date")
	function n(Ab,Aa){return Ab+", "+(Aa?mstrmojo.desc(514,"Selected"):mstrmojo.desc(19895,"Unselected"))
	}function F(Ad,Aa,Ab){var Ac=AB.getFirstDateOfMonth(Ad,Aa)
	return(Ac.getDay()-Ab+8)%7
	}function M(Ad){var Ac=AB.parseDateAndOrTime(Ad),Ae,Aa,Ab
	if(Ac){Ab={}
	Ae=Ac.date
	Aa=Ac.time
	if(Ae){AG.copy(Ae,Ab)
	}if(Aa){AG.copy(Aa,Ab)
	}}return Ab
	}function AC(Ab,Ae,Ad,Ac,Aa){var Af=AB.formatDateInfo({day:Ab,month:Ae,year:Ad},m().DATEOUTPUTFORMAT)
	return AB.inDateTimeRange(Af,Ac,Aa)===0
	}function U(Ae,Ad,Ac){var Ab=Ae.decreaseButton,Aa=Ae.increaseButton,Af="mstrmojo-Calendar"
	Ab.className=(Af+"-decrease")
	Aa.className=(Af+"-increase")
	}function AF(Ae,Ab,Ag,Ad){var Ac=0,Aa=Ae.length,Af
	for(Ac=0
	Ac<Aa
	Ac++){Af=Ae[Ac]
	if(Af&&Af.day===Ab&&Af.month===Ag&&Af.year===Ad){return Ac
	}}return -1
	}function AK(Aa,Ac,Ab){var Ad=new Date()
	return(Ad.getFullYear()===Ab)&&((Ad.getMonth()+1)===Ac)&&(Ad.getDate()===Aa)
	}function AY(Ah,Ai){var Am=Ah.dayView.getElementsByTagName("div"),Ak=Ah.selectedDates,Ac=Ak[Ai],Al=Ah.browseYear,Ab=Ah.browseMonth,Ae=AB.getDaysOfMonth(Al,Ab),Ad=AB.getPreMonth(Al,Ab),Ag=AB.getDaysOfMonth(Ad.y,Ad.m),Aa=F(Al,Ab,Ah.firstDayOfWeek),Af=((Ac.month===Ab)?Ac.day+Aa-1:(Ac.month>Ab?Ac.day+Aa+Ae-1:Aa-Ag+Ac.day-1)),Aj=Am[Af]
	if(Aj){AQ(Aj,Ah,false)
	}Z(Ak,Ai,1)
	}function AW(Aa){var Ab=Aa.selectedDates
	while(Ab.length){AY(Aa,0)
	}}function AP(Ac,Aa){var Ab=p(Ac,Aa),Ad=Ac.selectedDates
	Ad.push({day:Ab.d,month:Ab.m,year:Ab.y})
	AQ(Aa,Ac,true)
	}function o(Ac,Ad){if(!Ad||!Ad.length){return null
	}var Af=Ac.selectedDates
	for(var Ab=0,Aa=Ad.length
	Ab<Aa
	Ab++){var Ae=Ad[Ab],Ag=AS(Ac,Ae)
	Af.push({day:Ae.d,month:Ae.m,year:Ae.y})
	if(Ag){AQ(Ag,Ac,true)
	}}}function AS(Ai,Ak){var Am=Ai.dayView.getElementsByTagName("div"),Ad=Am.length,Al=Ai.browseYear,Ab=Ai.browseMonth,Ae=AB.getPreMonth(Al,Ab),Af=AB.getDaysOfMonth(Ae.y,Ae.m),Aq=AB.getNextMonth(Al,Ab),Ac=AB.getDaysOfMonth(Al,Ab),Aa=F(Al,Ab,Ai.firstDayOfWeek)
	var Ag=Aa>0?{y:Ae.y,m:Ae.m,d:Am[0].innerHTML}:{y:Al,m:Ab,d:Am[0].innerHTML},Ao=(Am.length-Ac-Aa)>0?{y:Aq.y,m:Aq.m,d:Am[Ad-1].innerHTML}:{y:Al,m:Ab,d:Am[Ad-1].innerHTML},Ap=x(Ag,Ak),Ah=x(Ak,Ao),Aj=null
	if(Ap>=0&&Ah>=0){var An=0
	if(Ap<Aa){An=-1
	}if(Ah<(Am.length-Aa-Ac)){An=1
	}Aj=((An===0)?Ak.d+Aa-1:(An===1?Ak.d+Aa+Ac-1:Aa-Af+Ak.d-1))
	return Am[Aj]
	}else{return null
	}}function W(Ai,Aa){var Ak=Ai.selectedDates,Ac=Ak.length
	if(!Ac){return null
	}var Ab=Ak[Ac-1],Ad=p(Ai,Aa),An=x({y:Ab.year,m:Ab.month,d:Ab.day},Ad),Ao=[],Af=An>0,Al=Math.abs(An)
	for(var Ah=0
	Ah<=Al
	Ah++){var Ag=new Date(Ad.y,Ad.m-1,Ad.d)
	Ag.setDate(Ag.getDate()+(Af?-Ah:Ah))
	var Am=Ag.getFullYear(),Ae=Ag.getMonth()+1,Aj=Ag.getDate()
	if(Ai.isDateDisabled(Aj,Ae,Am,Ai.min,Ai.max)&&!Ai.canSelectDisabledDate){continue
	}Ao.push({y:Am,m:Ae,d:Aj})
	}return Ao
	}function x(Ad,Ac){var Aa=new Date(Ad.y,Ad.m-1,Ad.d),Ab=new Date(Ac.y,Ac.m-1,Ac.d)
	return(Ab-Aa)/1000/3600/24
	}function p(Ac,Aa){var Ad=Ac.browseYear,Af=Ac.browseMonth,Ae=parseInt(Aa.innerHTML,10),Ag=parseInt(Aa.getAttribute("m"),10),Ab=null
	Ab=(Ag===0)?{y:Ad,m:Af}:(Ag===1?AB.getNextMonth(Ad,Af):AB.getPreMonth(Ad,Af))
	Ab.d=Ae
	return Ab
	}function K(Aa){var Ac=Aa.selectedDates,Ab=Ac.length
	return(Ab===0)?null:Ac[Ab-1]
	}function AQ(Ab,Ac,Aa){var Ad=Ac.selectedColor
	AL.toggleClass(Ab,["selected",Ac.selectedCssStyle],Aa)
	Ab.parentNode.style.backgroundColor=Aa?Ad:""
	Ab.style.backgroundColor=Aa?Ad:""
	}function f(Aa){return Aa.selectedColor?('style="background-color:'+Aa.selectedColor+'
	"'):""
	}function N(Aa){return(Aa.tagName.toLowerCase()==="td")?Aa.firstChild:Aa
	}function h(Ab,Ac){var Ad=AB.getDateJson(Ab),Aa=AB.formatDateInfo(Ad,mstrmojo.locales.datetime.DATEOUTPUTFORMAT)
	if(Ac===AN.TIMESTAMP){Aa+=" "+AB.formatTimeInfo(this.timeVal,mstrmojo.locales.datetime.TIMEOUTPUTFORMAT)
	}return Aa
	}function C(Af,Ac){var Aa=this.advancedValues,Ab=null
	Aa.set(Af,Ac)
	switch(Aa.baseDate){case R:Ab=new Date()
	break
	case v:break
	case AX:break
	case S:break
	default:return 
	}var Ad=Aa.monthsToAdjust
	if(Ad>0){Ab.setMonth(Ab.getMonth()+(Aa.toAddMonths?Ad:-Ad))
	}var Ae=Aa.daysToAdjust
	if(Ae>0){Ab.setDate(Ab.getDate()+(Aa.toAddDays?Ae:-Ae))
	}this.set("value",h.call(this,Ab,this.dtp))
	}function X(){var Aa=this.advancedValues,Ab=["isDyn"]
	if(Aa.baseDate===w){return null
	}Ab.push(Aa.baseDate)
	Ab.push(Aa.toAddDays?Aa.daysToAdjust:-Aa.daysToAdjust)
	Ab.push(Aa.toAddMonths?Aa.monthsToAdjust:-Aa.monthsToAdjust)
	Ab.push(0)
	Ab.push(0)
	Ab.push(0)
	Ab.push(0)
	Ab.push(this.value)
	Ab.push(this.timeVal.hour)
	Ab.push(this.timeVal.min)
	Ab.push(this.timeVal.sec)
	return Ab.join("::")
	}function AH(Aa){if(Aa.value!==undefined&&this.hasRendered){this.updateSelectedDate()
	}}function O(Ad,Ac){var Ae=this,Ab=function(Ag){return Ag[0].toUpperCase()+Ag.substring(1)
	},Af=Ad==="days",Aa=Af?mstrmojo.desc(19909,"One Day"):mstrmojo.desc(19911,"One Month")
	return{scriptClass:"mstrmojo.HBox",cssClass:"dateAdjustBox",alias:Ad+"AdjustBox",children:[{scriptClass:"mstrmojo.ui.Pulldown",focusOnPopup:true,enableAccessibility:true,selectedIndex:Ac>0?0:1,onitemSelected:function(Ah,Ag){C.call(Ae,"toAdd"+Ab(Ad),Ag===0)
	},items:[{did:0,n:mstrmojo.desc(9424,"plus")},{did:1,n:mstrmojo.desc(9425,"minus")}]},{scriptClass:"mstrmojo.ui.editors.controls.Stepper",width:null,height:null,nextAriaLabel:mstrmojo.desc(19910,"Plus ##").replace("##",Aa),prevAriaLabel:mstrmojo.desc(19908,"Minus ##").replace("##",Aa),provider:new mstrmojo.NumStepperContentProvider({item:{interval:1,min:0,value:Math.abs(Ac)},onTraverse:function(){C.call(Ae,Ad+"ToAdjust",this.curVal)
	}})},{scriptClass:"mstrmojo.Label",text:Af?mstrmojo.desc(707,"Days"):mstrmojo.desc(710,"Months")}]}
	}function AV(){this.buttonsNode.style.display=(this.wasAdvanced||this.changeValueOnOK||(this.showAdvanced&&this.isAdvanced)?"block":"none")
	this.advancedNode.style.display=this.showAdvanced?"block":"none"
	}function J(Af){var Aj=AG.walk("children.0",Af),Ad=AG.walk("children.1",Af),Ac,Ae,Aa
	if(Aj){var Ab=Aj.selectedIndex===0,Ah=Af.alias==="daysAdjustBox",Ai=Ah?mstrmojo.desc(707,"Days"):mstrmojo.desc(710,"Months"),Ak=Ab?mstrmojo.desc(19910,"Plus ##"):mstrmojo.desc(19908,"Minus ##"),Ag=Ak.replace("##",Ai)
	Ag+=(", "+mstrmojo.desc(19894,"Calendar Filter Option"))
	Aj.selectedNode.ariaLabel=Ag
	}if(Ad){Ac=AG.walk("textInput",Ad)
	Ae=Ad.nextNode
	Aa=Ad.prevNode
	}if(Aj&&Ac&&Ae&&Aa){return[Aj,Ac,Ae,Aa]
	}return[]
	}mstrmojo.Calendar=mstrmojo.declare(mstrmojo.Container,[mstrmojo.vi.ui.rw._SupportTabNav],{scriptClass:"mstrmojo.Calendar",enableAccessibility:false,cssPrefix:"",browseMonth:null,browseYear:null,yearRangStart:null,selectedDates:null,selectedColor:"",isMultiSelect:false,hilightToday:false,yearViewSize:5,cssTextDay:"",cssTextMonth:"",cssTextYear:"",cssTextWeekDay:"",cssTextHeader:"",cssTextMonthYearLabel:"",forceNonEmptySelection:false,showCurMonthDatesOnly:false,currentView:A,duration:600,timeDelimiter:":",dtp:AN.DATE,value:"",firstDayOfWeek:1,changeValueOnOK:false,wasAdvanced:false,showAdvanced:false,isAdvanced:false,dynDateValue:null,canSelectDisabledDate:false,monthNames:function(Aa){return m().MONTHNAME_SHORT[Aa]
	},dayNames:function(Aa){return m().dayShortNames[Aa]
	},min:null,max:null,dayList:[],monthList:[],yearList:[],hourList:[],minuteList:[],secondList:[],supportedViews:{day:true,month:true,year:true,hour:true,minute:true,second:true},sDirMatrix:{day:{month:"down",year:"down",hour:"up",minute:"up",second:"up"},month:{day:"up",year:"left",hour:"up",minute:"up",second:"up"},year:{day:"up",month:"right",hour:"up",minute:"up",second:"up"},hour:{day:"down",month:"down",year:"down",minute:"left",second:"left"},minute:{day:"down",month:"down",year:"down",hour:"right",second:"left"},second:{day:"down",month:"down",year:"down",hour:"right",minute:"right"}},markupString:'<div id="{@id}" class="{@cssPrefix} mstrmojo-Calendar {@cssClass}" style="{@cssText}" tabindex="-1" mstrAttach:mousedown,mouseup,mouseover,mouseout,keydown><div class="mstrmojo-Calendar-header" style="{@cssTextHeader}"><div class="mstrmojo-Calendar-decrease" role="button" aria-label="'+mstrmojo.desc(19893,"Previous Month")+'"></div><div class="mstrmojo-Calendar-increase" role="button" aria-label="'+mstrmojo.desc(19896,"Next Month")+'"></div><div class="mstrmojo-Calendar-title"><span class="mstrmojo-Calendar-monthLabel" style="{@cssTextMonthYearLabel}" role="button">{@browseMonth}</span><span class="mstrmojo-Calendar-yearLabel" style="{@cssTextMonthYearLabel}" role="button">{@browseYear}</span></div></div><div class="mstrmojo-Calendar-body" style="{@cssTextBody}"><div class="mstrmojo-Calendar-dayView"></div></div><div class="mstrmojo-Calendar-timePart"><span class="mstrmojo-Calendar-hourLabel" role="button">00</span><span class="mstrmojo-Calendar-timeDelimiter">{@timeDelimiter}</span><span class="mstrmojo-Calendar-minuteLabel" role="button">00</span><span class="mstrmojo-Calendar-timeDelimiter">{@timeDelimiter}</span><span class="mstrmojo-Calendar-secondLabel" role="button">00</span><span class="mstrmojo-Calendar-AMPMLabel" role="button">AM</span></div><div class="mstrmojo-Calendar-advanced"></div><div class="mstrmojo-Calendar-buttons cf"></div></div>',markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	},onbrowseMonthChange:function(){var Aa=this.monthNames(this.browseMonth-1)
	this.monthLabel.innerHTML=Aa
	this.monthLabel.ariaLabel=Aa+", "+mstrmojo.desc(19899,"## Selector").replace("##",mstrmojo.desc(871,"Month"))
	},onbrowseYearChange:function(){this.yearLabel.innerHTML=this.browseYear
	this.yearLabel.ariaLabel=this.browseYear+", "+mstrmojo.desc(19899,"## Selector").replace("##",mstrmojo.desc(873,"Year"))
	},ondtpChange:function(){this.timePart.style.display=(this.dtp===AN.TIMESTAMP||this.dtp===AN.TIME)?"block":"none"
	this.advancedNode.style.display=this.showAdvanced?"block":"none"
	},onvalueChange:function(){if(this.lastValue===undefined||this.value!==this.lastValue){this.updateSelectedDate()
	}},onchangeValueOnOKChange:AV,onisAdvancedChange:AV},markupSlots:{monthLabel:function(){return this.domNode.firstChild.lastChild.firstChild
	},yearLabel:function(){return this.domNode.firstChild.lastChild.lastChild
	},titlePart:function(){return this.domNode.firstChild.lastChild
	},decreaseButton:function(){return this.domNode.firstChild.firstChild
	},increaseButton:function(){return this.domNode.firstChild.childNodes[1]
	},bodyContainer:function(){return this.domNode.childNodes[1]
	},dayView:function(){return this.domNode.childNodes[1].firstChild
	},monthView:function(){return this.domNode.childNodes[1].firstChild
	},yearView:function(){return this.domNode.childNodes[1].firstChild
	},hourView:function(){return this.domNode.childNodes[1].firstChild
	},minuteView:function(){return this.domNode.childNodes[1].firstChild
	},secondView:function(){return this.domNode.childNodes[1].firstChild
	},timePart:function(){return this.domNode.childNodes[2]
	},hourLabel:function(){return this.domNode.childNodes[2].firstChild
	},minuteLabel:function(){return this.domNode.childNodes[2].childNodes[2]
	},secondLabel:function(){return this.domNode.childNodes[2].childNodes[4]
	},AMPMLabel:function(){return this.domNode.childNodes[2].childNodes[5]
	},advancedNode:function(){return this.domNode.childNodes[3]
	},buttonsNode:function(){return this.domNode.childNodes[4]
	}},init:function u(Aa){if(this._super){this._super(Aa)
	}if(this.duration<1){this.duration=1
	}if(!this.selectedDates){this.selectedDates=[]
	}this.timeVal={hour:0,min:0,sec:0}
	var Ab=mstrmojo.locales.location.LOCALE_TO_LANG
	switch(Ab[mstrApp.localeId]){case mstrmojo.desc(950,"English (US)"):case mstrmojo.desc(954,"Japanese"):case mstrmojo.desc(1035,"Portugese (Brasil)"):this.firstDayOfWeek=I
	break
	default:this.firstDayOfWeek=d
	}},ondynDateValueChange:function b(Aa){if(Aa.value!==undefined&&this.hasRendered){this.updateSelectedDate()
	this.buildChildren()
	}},onminChange:AH,onmaxChange:AH,buildChildren:function AD(){var Ag=this
	if(this.showAdvanced){var Ad=this.dynDateValue,Ac=this.advancedValues||this.addDisposable(new mstrmojo.Model({})),Aj=Ad&&Ad.split("::")||[],Af=Aj[1]||w,Ab=Aj[2]||0,Ak=Aj[3]||0,Ah=function Ah(){if(Ag.isAdvanced){Ag.wasAdvanced=true
	Ag.changeValueOnOK=true
	}Ag.set("isAdvanced",!Ag.isAdvanced)
	mstrmojo.css.toggleClass(Ag.markupSlots.dayView.call(Ag),["ddSelected"],Ag.isAdvanced)
	C.call(Ag,"baseDate",Ag.isAdvanced?3:0)
	if(Ag.parent&&Ag.parent.nudge&&Ag.isAdvanced){Ag.parent.nudge()
	}if(Ag.enableAccessibility){Ag.buildNavList()
	if(this.actionByKeyboard){Ag.restoreFocus()
	this.actionByKeyboard=false
	}else{this.domNode.loseFocus(true)
	}}}
	this.advancedValues=Ac
	Ac.baseDate=parseInt(Af)
	Ac.toAddDays=Ab>=0
	Ac.daysToAdjust=Math.abs(Ab)
	Ac.toAddMonths=Ak>=0
	Ac.monthsToAdjust=Math.abs(Ak)
	this.isAdvanced=!!this.dynDateValue
	if(this.domNode){mstrmojo.css.toggleClass(this.markupSlots.dayView.call(this),["ddSelected"],this.isAdvanced)
	}if(this.isAdvanced&&this.value){var Aa=M(this.value),Ae=this.timeVal
	if(Aa&&Aa.hour!==undefined){Ae.hour=Aa.hour
	Ae.min=Aa.min
	Ae.sec=Aa.sec
	}}C.call(Ag,"baseDate",this.isAdvanced?3:0)
	this.destroyChildren(false)
	this.addChildren([{scriptClass:"mstrmojo.HBox",cssClass:"dynamicCheckbox",alias:"checkLabel",slot:"advancedNode",children:[{scriptClass:"mstrmojo.ui.Checkbox",alias:"checkbox",ariaLabel:z,checked:!!Ag.isAdvanced,oncheckedChange:Ah},{scriptClass:"mstrmojo.Label",text:z,onclick:function Ai(){this.parent.checkbox.onclick()
	}}]},{scriptClass:"mstrmojo.Box",alias:"advancedPanel",slot:"advancedNode",bindings:{visible:"this.parent.isAdvanced"},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(9423,"Today"),cssClass:"tdLabel"},O.call(this,"days",Ab),O.call(this,"months",Ak)]},])
	}else{this.destroyChildren(false)
	}this.addChildren([mstrmojo.Button.newWebButton(mstrmojo.desc(2140,"Cancel"),function(Al){Ag.parent.close()
	Ag.hostRestoreFocus(Al)
	},false,{slot:"buttonsNode"}),mstrmojo.Button.newWebButton(mstrmojo.desc(1442,"OK"),function(Al){if(Ag.changeValueOnOK||Ag.isAdvanced||Ag.wasAdvanced){Ag.updateValue(true)
	}Ag.hostRestoreFocus(Al)
	},true,{slot:"buttonsNode"})])
	},preBuildRendering:function P(){this.buildChildren()
	return this._super()
	},getSelectedDatesAsString:function AZ(Ab){var Aa=[]
	AO.forEach(this.selectedDates,function(Ac){Aa.push(AB.formatDateInfo(Ac,Ab||m().DATEOUTPUTFORMAT))
	})
	return Aa
	},hostRestoreFocus:function AT(Aa){if(AU.isKeyBoardEvent(Aa.e)&&AG.walk("tabParent.grabFocus",this)){this.tabParent.grabFocus(true)
	}},updateSelectedDate:function k(Af){var Aa=this.value,Ac=this.timeVal,Ae=this.selectedDates,Ad,Ag=function(Ai,Ah){Ai.set("browseYear",Ah.year)
	Ai.set("browseMonth",Ah.month)
	Ai.updateTimePart()
	Ai.updateView(Ai.currentView)
	if(!Ai.changeValueOnOK&&Ai.hasRendered&&Ai.closeOnValueChange!=true){Ai.updateValue()
	}}
	if(this.wasAdvanced){this.wasAdvanced=false
	this.changeValueOnOK=false
	}if(Aa){Ad=M(Aa)
	if(Ad&&Ad.hour!==undefined){Ac.hour=Ad.hour
	Ac.min=Ad.min
	Ac.sec=Ad.sec
	if(this.dtp===AN.TIME&&(Ad.year===undefined||Ad.month===undefined||Ad.day===undefined)){var Ab=AB.getDateJson(new Date())
	Ad.year=Ab.year
	Ad.month=Ab.month
	Ad.day=Ab.day
	}}}if((Ad&&!this.isMultiSelect)||Af){AW(this)
	}if(Ae.length===0){if(!Ad){if(this.parent.opener&&this.parent.opener.defaultDate){Ad=M(this.parent.opener.defaultDate)
	}else{Ad=AB.getDateJson(new Date())
	}}if(!this.canSelectDisabledDate&&this.isDateDisabled(Ad.day,Ad.month,Ad.year,this.min,this.max)){if(this.min&&AB.compareDate(Ad,this.min)<0){Ad=M(this.min)
	}else{if(this.max&&AB.compareDate(Ad,this.max)>0){Ad=M(this.max)
	}}}Ae.push(Ad)
	Ag(this,Ad)
	}else{Ad=Ae[0]
	if(this.value!==null){Ag(this,Ad)
	}}},updateValue:function D(Aa){var Ac=K(this),Ab=""
	if(Ac){Ab=AB.formatDateInfo(Ac,m().DATEOUTPUTFORMAT)
	if(this.dtp!==AN.DATE){var Ad=AB.formatTimeInfo(this.timeVal,m().TIMEOUTPUTFORMAT)
	if(this.dtp===AN.TIME){Ab=Ad
	}else{Ab+=" "+Ad
	}}}this.lastValue=Ab
	this.set("value",Ab)
	if(this.showAdvanced){this.set("dynDateValue",Aa?X.call(this):null)
	}if(this.onValueUpdate){this.onValueUpdate()
	}},updateTimePart:function AR(){var Ad=this.timeVal,Ac=Ad.hour||0,Af=(Ac%12===0)?12:(Ac%12),Ae=AB.formatInteger(Ad.min||0,2),Ab=AB.formatInteger(Ad.sec||0,2),Aa=Ac<12?" "+m().AM_NAME:" "+m().PM_NAME
	this.hourLabel.innerHTML=Af
	this.hourLabel.ariaLabel=Af+", "+mstrmojo.desc(19899,"## Selector").replace("##",mstrmojo.desc(10042,"Hour"))
	this.minuteLabel.innerHTML=Ae
	this.minuteLabel.ariaLabel=Ae+", "+mstrmojo.desc(19899,"## Selector").replace("##",mstrmojo.desc(10043,"Minute"))
	this.secondLabel.innerHTML=Ab
	this.secondLabel.ariaLabel=Ab+", "+mstrmojo.desc(19899,"## Selector").replace("##",mstrmojo.desc(10044,"Second"))
	this.AMPMLabel.innerHTML=Aa
	this.AMPMLabel.ariaLabel=Aa+", "+mstrmojo.desc(19899,"## Selector").replace("##",mstrmojo.desc(19897,"AM/PM"))
	},premousedown:function(Aa){var Ac=Aa.e,Ab=AJ.eventTarget(Aa.hWin,Ac)
	if(Ab===this.decreaseButton||Ab===this.increaseButton){if(AJ.isFF){AJ.stopPropogation(window,Ac)
	}return true
	}else{return this.processEvent(Ab,Ac)
	}},premouseup:function(Aa){var Ac=Aa.e
	if(Ac.ctrlKey||Ac.shiftKey){AJ.clearBrowserHighlights()
	}var Ab=AJ.eventTarget(Aa.hWin,Ac)
	if(Ab===this.decreaseButton&&!Ab.disabled){this.decrease()
	return true
	}if(Ab===this.increaseButton&&!Ab.disabled){this.increase()
	return true
	}},onkeydown:function g(Ah){if(!this.enableAccessibility){return 
	}var Aa=Ah.e,Ag=Aa&&Aa.key,Ad=this.currentView,Aj=AJ.eventTarget(Ah.hWin,Aa)
	if(this.handleTab(Ah)){return 
	}Aa.stopPropagation()
	if(Ag==="Enter"){if(Aj===this.decreaseButton||Aj===this.increaseButton){if(Aj===this.decreaseButton&&!Aj.disabled){this.actionByKeyboard=true
	this.shouldRestoreFocus=true
	this.decrease()
	}if(Aj===this.increaseButton&&!Aj.disabled){this.actionByKeyboard=true
	this.shouldRestoreFocus=true
	this.increase()
	}}else{if(AJ.contains(this.advancedPanel.domNode,Aj)){if(Aj.classList.contains("next")||Aj.classList.contains("prev")){Aj.click()
	}}else{if(AJ.contains(this.bodyContainer,Aj)){this.actionByKeyboard=true
	if(Ad!==A){if(Aj.loseFocus){Aj.loseFocus(true)
	}this.shouldRestoreFocus=true
	}else{if(Aj.getAttribute("m")!=="0"&&!Aj.classList.contains("disabled")){this.selectedDayRestoreFocus=true
	}}}if(AJ.contains(this.titlePart,Aj)||AJ.contains(this.timePart,Aj)){if(Aj.loseFocus){Aj.loseFocus(true)
	}if((Aj===this[Ad+"Label"]||(Aj===this.AMPMLabel&&Ad===G))&&AG.walk(Ad+"List.0.grabFocus",this)){this[Ad+"List"][0].grabFocus(true)
	}else{this.actionByKeyboard=true
	}}this.processEvent(Aj,Aa)
	}}return 
	}if(Ag==="Escape"){if(Aj.loseFocus){Aj.loseFocus(true)
	}if(AJ.contains(this.bodyContainer,Aj)&&this.currentView!==A){this.actionByKeyboard=true
	this.shouldRestoreFocus=true
	this.switchViewTo(A)
	}else{this.loseFocus(true)
	if(AG.walk("parent.close",this)){this.parent.close()
	this.hostRestoreFocus(Ah)
	}}return 
	}if(AO.includes(l,Ag)&&AJ.contains(this.bodyContainer,Aj)){var Ae=[],Ac
	switch(this.currentView){case A:Ae=this.dayList
	Ac=7
	break
	case a:Ae=this.monthList
	Ac=3
	break
	case AE:Ae=this.yearList
	Ac=this.yearViewSize
	break
	case G:Ae=this.hourList
	Ac=6
	break
	case B:Ae=this.minuteList
	Ac=10
	break
	case q:Ae=this.secondList
	Ac=10
	break
	}var Af=AO.indexOf(Ae,Aj),Ai,Ab
	switch(Ag){case l[0]:Ab=Af-Ac
	Ai=Ab>=0
	break
	case l[1]:Ab=Af+Ac
	Ai=Ab<Ae.length
	break
	case l[2]:Ab=Af-1
	Ai=Ab>=0
	break
	case l[3]:Ab=Af+1
	Ai=Ab<Ae.length
	break
	}if(Ai){if(Aj.loseFocus){Aj.loseFocus(true)
	}if(AG.walk(Ab+".grabFocus",Ae)){Ae[Ab].grabFocus(true)
	}}}},processEvent:function(Al,As){var Ad=this.currentView,Ae=this.selectedDates,Ai,An,At,Aa,Ak
	if(Al===this.monthLabel){if(Ad!==a){this.switchViewTo(a)
	}return true
	}if(Al===this.yearLabel){if(Ad!==AE){this.adjustYearStart()
	this.switchViewTo(AE)
	return true
	}}if(Al===this.hourLabel){if(Ad!==G){this.switchViewTo(G)
	}return true
	}if(Al===this.minuteLabel){if(Ad!==B){this.switchViewTo(B)
	}return true
	}if(Al===this.secondLabel){if(Ad!==q){this.switchViewTo(q)
	}return true
	}if(Al===this.AMPMLabel){if(Ad!==G){this.switchViewTo(G)
	}return true
	}if(Ad===G){var Ag=Al.getAttribute("h")
	Ak=parseInt(Al.innerHTML,10)
	if(!isNaN(Ag)&&!isNaN(Ak)){Ag=parseInt(Ag,10)
	this.timeVal.hour=Ak%12+Ag*12
	this.updateTimePart()
	this.switchViewTo(A)
	if(!this.changeValueOnOK){this.updateValue()
	}}return true
	}if(Ad===B){Ak=parseInt(Al.innerHTML,10)
	if(!isNaN(Ak)){this.timeVal.min=Ak
	this.updateTimePart()
	this.switchViewTo(A)
	if(!this.changeValueOnOK){this.updateValue()
	}}return true
	}if(Ad===q){Ak=parseInt(Al.innerHTML,10)
	if(!isNaN(Ak)){this.timeVal.sec=Ak
	this.updateTimePart()
	this.switchViewTo(A)
	if(!this.changeValueOnOK){this.updateValue()
	}}return true
	}if(Ad===A){var Ar=this.browseYear,Ab=this.browseMonth,Ac
	Al=N(Al)
	At=parseInt(Al.innerHTML,10)
	Aa=parseInt(Al.getAttribute("m"),10)
	if(!isNaN(At)&&!isNaN(Aa)){Ac=(Aa===0)?{y:Ar,m:Ab}:(Aa===1?AB.getNextMonth(Ar,Ab):AB.getPreMonth(Ar,Ab))
	if((!this.canSelectDisabledDate&&this.isDateDisabled(At,Ac.m,Ac.y,this.min,this.max))||As.button===2){return true
	}if(this.isAdvanced){return true
	}var Ao=AF(Ae,At,Ab,Ar),Am=Ae.length>1,Aj=this.forceNonEmptySelection,Ap=this.isMultiSelect,Ah=Ap&&As.ctrlKey,Aq=Ap&&As.shiftKey,Af=null
	if(Aq){Af=W(this,Al)
	AW(this)
	o(this,Af)
	}else{if(Ah){if(Ao===-1){AP(this,Al)
	}else{if(!Aj||Am){AY(this,Ao)
	}}}else{AW(this)
	if(Am||Ao===-1||Aj){AP(this,Al)
	}}}if(this.onselect||L.hasSubs(this.id,"select")){this.raiseEvent({name:"select",value:this.selectedDates})
	}if(Aa===1){this.increase()
	}else{if(Aa===-1){this.decrease()
	}}if(!this.changeValueOnOK){this.updateValue()
	}else{if(this.showAdvanced){this.checkLabel.checkbox.set("checked",false)
	C.call(this,"baseDate",0)
	}}}return true
	}if(Ad===a){Al=N(Al)
	An=parseInt(Al.getAttribute("m"),10)
	if(!isNaN(An)){this.set("browseMonth",An+1)
	this.switchViewTo(A)
	}return true
	}if(Ad===AE){Al=N(Al)
	Ai=parseInt(Al.innerHTML,10)
	if(!isNaN(Ai)){this.set("browseYear",Ai)
	this.switchViewTo(A)
	}return true
	}return true
	},decrease:function(){var Ac=this.currentView,Af=Ac,Ae=this.browseYear,Aa=this.browseMonth,Ab=this.yearRangStart,Ad
	switch(Ac){case A:Ad=AB.getPreMonth(Ae,Aa)
	this.set("browseMonth",Ad.m)
	this.set("browseYear",Ad.y)
	break
	case a:this.set("browseYear",Ae-1)
	break
	case AE:this.yearRangStart=Ab-this.yearViewSize*this.yearViewSize
	break
	case G:Af=q
	break
	case B:Af=G
	break
	case q:Af=B
	break
	}this.switchViewTo(Af,"right")
	},increase:function(){var Ac=this.currentView,Af=Ac,Ae=this.browseYear,Aa=this.browseMonth,Ab=this.yearRangStart,Ad
	switch(Ac){case A:Ad=AB.getNextMonth(Ae,Aa)
	this.set("browseMonth",Ad.m)
	this.set("browseYear",Ad.y)
	break
	case a:this.set("browseYear",Ae+1)
	break
	case AE:this.yearRangStart=Ab+this.yearViewSize*this.yearViewSize
	break
	case G:Af=B
	break
	case B:Af=q
	break
	case q:Af=G
	break
	}this.switchViewTo(Af,"left")
	},updateView:function(Aa){var Ab=this[Aa+"ViewHTML"]()
	this[Aa+"View"].innerHTML=Ab
	if(this.enableAccessibility){this.updateNavListForBodyCell(Aa)
	this.updateViewList(Aa)
	}},adjustYearStart:function(){this.yearRangStart=this.browseYear-10-this.browseYear%5
	},switchViewTo:function(Ab,Ad){var Ah="mstrmojo-Calendar-"+Ab+"View",Ag=document.createElement("div"),Aa=this[this.currentView+"View"],Ae=Ab+"ViewHTML",Af=this[this.currentView+"Label"],Ac=this[Ab+"Label"]
	if(!this.supportedViews[Ab]){return 
	}if(!Ad){Ad=this.sDirMatrix[this.currentView][Ab]
	}Ag.className=Ah
	Ag.innerHTML=this[Ae]()
	this.currentView=Ab
	this[Ab+"View"]=Ag
	mstrmojo.css.toggleClass(Ag,["ddSelected"],this.isAdvanced)
	this._slideIntoView(Aa,Ag,Ad)
	},updateViewList:function AA(Ab){var Ac=this
	this[Ab+"List"]=[]
	var Aa=AG.walk(Ab+"View.firstChild.lastChild",this)
	if(!Aa){return 
	}if(Ab!==G){AO.forEach(Aa.children,function(Ad){AO.forEach(Ad.cells,function(Ae){Ac[Ab+"List"].push(Ae.firstChild)
	})
	})
	}else{AO.forEach(Aa.children,function(Ae,Ad){if(Ad===0||Ad===3){return true
	}AO.forEach(Ae.cells,function(Af){Ac[Ab+"List"].push(Af.firstChild)
	})
	})
	}AO.forEach(this[Ab+"List"],function(Ad){AU.enableAccessibility({domNode:Ad})
	})
	},_slideIntoView:function(Ae,Aj,Ac){var Af=this,Aa=this.bodyContainer,Ah=(Ac==="left"||Ac==="right")?Ae.offsetWidth:Ae.offsetHeight,Ab=(Ac==="left"||Ac==="right")?"left":"top",Ai=(Ac==="left"||Ac==="up")?Ah:-Ah,Ag=new mstrmojo.fx.AnimateProp({props:{},duration:this.duration,interval:this.duration/10,target:Ae,onEnd:function(){Aa.removeChild(Ae)
	if(Af.enableAccessibility){var Ak=Af.currentView
	Af.updateNavListForBodyCell(Ak)
	Af.updateViewList(Ak)
	if(Af.actionByKeyboard){if(Af.selectedDayRestoreFocus){if(AG.walk("dayList."+Af.selectedDayIdx+".grabFocus",Af)){Af.dayList[Af.selectedDayIdx].grabFocus(true)
	}Af.selectedDayRestoreFocus=false
	return 
	}if(Af.shouldRestoreFocus){Af.restoreFocus()
	Af.shouldRestoreFocus=false
	}else{if(AG.walk(Ak+"List.0.grabFocus",Af)){Af[Ak+"List"][0].grabFocus(true)
	}}Af.actionByKeyboard=false
	}}}}),Ad=new mstrmojo.fx.AnimateProp({props:{},duration:this.duration,interval:this.duration/10,target:Aj})
	Aj.style[Ab]=Ai+"px"
	Aa.appendChild(Aj)
	Ag.props[Ab]={start:0,stop:-Ai,suffix:"px"}
	Ad.props[Ab]={start:Ai,stop:0,suffix:"px"}
	Ag.play()
	Ad.play()
	},dayViewHTML:function(){var Af=this.browseYear,Ai=this.browseMonth,An=AB.getDaysOfMonth(Af,Ai),As=AB.getPreMonth(Af,Ai),Ac=AB.getDaysOfMonth(As.y,As.m),Ab=AB.getNextMonth(Af,Ai),Aj=F(Af,Ai,this.firstDayOfWeek),Ag=[],Ad=f(this),Au=0,Aa=this.selectedDates,Al=this.min,Ap=this.max,Av,Am,Aq,Ao,At=this.showCurMonthDatesOnly?'style="visibility:hidden
	"':"",Ar
	U(this,{d:Ac,m:As.m,y:As.y},{d:1,m:Ab.m,y:Ab.y})
	Ag.push(c(this.cssTextDay))
	Ag.push(this._dayViewTHead())
	Ag.push("<tr>")
	for(Aq=0
	Aq<Aj
	Aq++){Av=Ac-Aj+Aq+1
	Am=this.isDateDisabled(Av,As.m,As.y,Al,Ap)?"disabled":""
	Ar=n(Av,false)
	Ag.push("<td "+At+'><div class="mstrmojo-Calendar-day-pre '+Am+'" m="-1" aria-label="'+Ar+'">')
	Ag.push(Av)
	Ag.push("</div></td>")
	Au++
	}for(Aq=0
	Aq<An
	Aq++){Av=Aq+1
	Am=this.isDateDisabled(Av,Ai,Af,Al,Ap)?" disabled":""
	var Ae=AK(Av,Ai,Af),Ah=Ae?" today":"",Ak=AF(Aa,Av,Ai,Af)!==-1
	if(Ak){this.selectedDayIdx=Au
	}Ah=(this.hilightToday&&Ae)?" hilightToday":Ah
	Ar=n(Aq+1,Ak)
	Ag.push("<td "+(Ae?('class="'+Ah+'" '):" ")+(Ak?Ad:"")+'><div class="mstrmojo-Calendar-day-cur'+(Ak?(" selected "):"")+Am+'" m="0"'+(Ak?Ad:"")+' aria-label="'+Ar+'">')
	Ag.push(Aq+1)
	Ag.push("</div></td>")
	if((++Au)%7===0){Ag.push("</tr><tr>")
	}}for(Ao=Au
	Ao<42
	Ao++){Av=Au-An-Aj+1
	Am=this.isDateDisabled(Av,Ab.m,Ab.y,Al,Ap)?"disabled":""
	Ar=n(Av,false)
	Ag.push("<td "+At+'><div class="mstrmojo-Calendar-day-next '+Am+'" m="1" aria-label="'+Ar+'">')
	Ag.push(Av)
	Ag.push("</div></td>")
	if((++Au)%7===0&&Au!==42){Ag.push("</tr><tr>")
	}}Ag.push("</tr>")
	Ag.push(E)
	return Ag.join("")
	},_dayViewTHead:function(){var Ad=[],Ae='<thead><tr class="mstrmojo-Calendar-thead" style="'+this.cssTextWeekDay+'
	">',Ac="</tr></thead>",Ab=this.firstDayOfWeek-1,Af=this.dayNames,Aa
	Ad.push(Ae)
	for(Aa=Ab
	Aa<Ab+7
	Aa++){Ad.push("<td>")
	Ad.push(Af(Aa%7))
	Ad.push("</td>")
	}Ad.push(Ac)
	return Ad.join("")
	},monthViewHTML:function(){var Ad=[],Ag=this.browseMonth-1,Ae=this.browseYear,Ac,Af,Ab,Aa
	U(this,{d:31,m:12,y:Ae-1},{d:1,m:1,y:Ae+1})
	Ad.push(c(this.cssTextMonth))
	Ad.push("<tr>")
	for(Ac=0
	Ac<12
	Ac++){Af=this.monthNames(Ac)
	Ab=Ac===Ag
	Aa=n(Af,Ab)
	Ad.push("<td "+(Ab?f(this):"")+'><div class="mstrmojo-Calendar-month'+(Ab?" selected":"")+'" m="')
	Ad.push(String(Ac))
	Ad.push('" aria-label="'+Aa+'">')
	Ad.push(Af)
	Ad.push("</div></td>")
	if(Ac%3===2){Ad.push("</tr><tr>")
	}}Ad.pop()
	Ad.push("</tr>")
	Ad.push(E)
	return Ad.join("")
	},yearViewHTML:function(){var Ah=this.yearRangStart,Ad=[],Af=this.browseYear,Ag,Ac,Ae=this.yearViewSize,Ab,Aa
	U(this,{d:31,m:12,y:Ah-1},{d:1,m:1,y:Ah+Ae*Ae})
	Ad.push(c(this.cssTextYear))
	Ad.push("<tr>")
	for(Ac=0
	Ac<Ae*Ae
	Ac++){Ag=Ah+Ac
	Ab=Af===Ag
	Aa=n(Ag,Ab)
	Ad.push("<td "+(Ab?f(this):"")+'><div class="mstrmojo-Calendar-year'+(Ab?" selected":"")+'" aria-label="'+Aa+'">')
	Ad.push(Ag)
	Ad.push("</div></td>")
	if(Ac%Ae===(Ae-1)){Ad.push("</tr><tr>")
	}}Ad.pop()
	Ad.push("</tr>")
	Ad.push(E)
	return Ad.join("")
	},hourViewHTML:function(){var Ae=[],Ad=this.timeVal.hour,Ac,Ab,Af,Aa
	Ae.push(Q)
	Ae.push('<tr><td colspan="6"><div class="mstrmojo-Calendar-hourTitle">')
	Ae.push(m().AM_NAME)
	Ae.push("</div></td></tr>")
	for(Ac=0
	Ac<12
	Ac++){Af=(Ac===0)?12:Ac
	Ab=Ac===Ad
	Aa=n(Af,Ab)
	Ae.push('<td><div class="mstrmojo-Calendar-hour'+(Ab?" selected":"")+'" h="0" aria-label="'+Aa+'">')
	Ae.push(Af)
	Ae.push("</div></td>")
	if(Ac===5){Ae.push("</tr><tr>")
	}}Ae.push('</tr><tr><td colspan="6"><div class="mstrmojo-Calendar-hourTitle">')
	Ae.push(m().PM_NAME)
	Ae.push("</div></td></tr>")
	for(Ac=0
	Ac<12
	Ac++){Af=(Ac===0)?12:Ac
	Ab=(12+Ac)===Ad
	Aa=n(Af,Ab)
	Ae.push('<td><div class="mstrmojo-Calendar-hour'+(Ab?" selected":"")+'" h="1" aria-label="'+Aa+'">')
	Ae.push(Af)
	Ae.push("</div></td>")
	if(Ac===5){Ae.push("</tr><tr>")
	}}Ae.push("</tr>")
	Ae.push(E)
	return Ae.join("")
	},minuteViewHTML:function(){return this._minuteSecondViewHTML(this.timeVal.min,"mstrmojo-Calendar-minute")
	},secondViewHTML:function(){return this._minuteSecondViewHTML(this.timeVal.sec,"mstrmojo-Calendar-second")
	},_minuteSecondViewHTML:function(Ae,Af){var Ad=[],Ac,Ab,Aa
	Ad.push(Q)
	Ad.push("<tr>")
	for(Ac=0
	Ac<60
	Ac++){Ab=Ac===Ae
	Aa=n(Ac,Ab)
	Ad.push('<td><div class="')
	Ad.push(Af)
	Ad.push(Ab?' selected">':'" aria-label="'+Aa+'">')
	Ad.push(Ac)
	Ad.push("</div></td>")
	if(Ac%10===9){Ad.push("</tr><tr>")
	}}Ad.pop()
	Ad.push("</tr>")
	Ad.push(E)
	return Ad.join("")
	},isDateDisabled:function(Aa,Ac,Ab){return !AC(Aa,Ac,Ab,this.min,this.max)
	},unrender:function j(Aa){delete this.lastValue
	this._super(Aa)
	},grabFocus:function e(Aa){this._super()
	if(Aa){this.domNode.focus()
	}},loseFocus:function t(Aa){this._super()
	if(Aa){this.domNode.blur()
	}},enterUnit:function Y(Aa){this.resetTabNav()
	this.grabFocus(true)
	if(Aa){this.navigateToFirstValidTarget()
	}},restoreFocus:function r(){if(!this.navList.length){this.buildNavList()
	this.tabIndex=0
	}if(this._super){this._super()
	}},updateNavListForBodyCell:function H(Ab){var Ac,Aa=AG.walk(Ab+"View.firstChild.lastChild",this)
	if(!Aa){return 
	}Ac=AG.walk("children."+(Ab===G?1:0)+".cells.0.firstChild",Aa)
	if(Ac){this.navList[4]=Ac
	AU.enableAccessibility({domNode:Ac})
	}},buildNavList:function AM(){if(!this.enableAccessibility){return 
	}var Ad=this,Aa=this.currentView
	this.navList=[this.decreaseButton,this.monthLabel,this.yearLabel,this.increaseButton]
	this.updateNavListForBodyCell(Aa)
	this.updateViewList(Aa)
	if(this.dtp===AN.TIMESTAMP||this.dtp===AN.TIME){this.navList.push(this.hourLabel,this.minuteLabel,this.secondLabel,this.AMPMLabel)
	}var Af=AG.walk("checkLabel.checkbox.domNode",this)
	if(Af){this.navList.push(Af)
	if(this.checkLabel.checkbox.checked){var Ab=AG.walk("advancedPanel.daysAdjustBox",this),Ae=AG.walk("advancedPanel.monthsAdjustBox",this)
	this.navList=this.navList.concat(J(Ab),J(Ae))
	}}if(AG.walk("buttonsNode.style.display",this)!=="none"){var Ac=AG.walk("buttonsNode.children",this)
	if(Ac){this.navList.push(Ac[1],Ac[0])
	}}AO.forEach(this.navList,function(Ag){if(Ag instanceof HTMLElement){AU.enableAccessibility({domNode:Ag})
	}else{if(Ag.scriptClass==="mstrmojo.ui.editors.controls.ValidationTextBox"){AU.enableAccessibility({widget:Ag,domNode:Ag.inputNode})
	Ag.validate=mstrmojo.func.composite([Ag.validate,function(){Ad.restoreFocus()
	}])
	}}})
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.fx","mstrmojo.Box","mstrmojo.Editor","mstrmojo.Button","mstrmojo.Slider","mstrmojo._FormatDefinition","mstrmojo.TabListContainer","mstrmojo.TabNameList","mstrmojo.StackContainer","mstrmojo.FontFormatter","mstrmojo.NumberFormatter","mstrmojo.AlignmentFormatter","mstrmojo.PaddingFormatter","mstrmojo.FillFormatter","mstrmojo.BorderFormatter")
	var C=mstrmojo.array,M=mstrmojo.hash,F=mstrmojo._FormatDefinition,B=mstrmojo.Button,L=F.MetricFormatTarget
	var G="#999",E="mstrmojo-Editor-button mstrButton",H=M.clone(F.DefaultFormat)
	H.FormattingPatternsChart={FillColor:"16777215",FillStyle:"0",GradientColor:"16777215",GradientAngle:"0",GradientXOffset:"0",GradientYOffset:"0"}
	H.FormattingPatterns=M.clone(H.FormattingPatternsChart)
	var I={n:mstrmojo.desc(3434,"Number"),scriptClass:"mstrmojo.NumberFormatter",visible:false,pr:"FormattingNumber"},K={n:mstrmojo.desc(3435),scriptClass:"mstrmojo.Box",visible:false,pr:["FormattingAlignment","FormattingPadding"],cssClass:"alignmentPanel",children:[{scriptClass:"mstrmojo.AlignmentFormatter",bindings:{model:"this.parent.FormattingAlignment"}},{scriptClass:"mstrmojo.PaddingFormatter",bindings:{model:"this.parent.FormattingPadding"}}]},N={n:mstrmojo.desc(3433,"Font"),scriptClass:"mstrmojo.FontFormatter",visible:false,pr:"FormattingFont",cssClass:"mstrmojo-FormatEditor-fontTable",cellPadding:5},D={n:mstrmojo.desc(2886,"Borders"),scriptClass:"mstrmojo.BorderFormatter",visible:false,pr:"FormattingBorder"},A={n:mstrmojo.desc(3905,"Background"),scriptClass:"mstrmojo.FillFormatter",visible:false,pr:"FormattingPatterns"},J={n:mstrmojo.desc(3479,"Graph"),scriptClass:"mstrmojo.FillFormatter",visible:false,isChart:true,pr:"FormattingPatternsChart"}
	mstrmojo.ME.MetricFormatEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.ME.MetricFormatEditor",cssClass:"mstrmojo-FormatEditor",title:mstrmojo.desc(2116,"Format"),model:null,obModel:null,_initModel:function(){if(!this.model){this.model={}
	for(var O=0
	O<L.length
	O++){this.model[L[O].p]={}
	}}if(!this.obModel){this.obModel=new mstrmojo.Model({onlevelNameChange:function(P){var Q=P.valueWas
	if(Q){this._updateModel(Q)
	}this._setCurrentFormat()
	},onmodelChange:function(){return this.model?this._setCurrentFormat():false
	},_updateModel:function(Q){var R=M.copy(this.currentFormat),Q=Q||this.levelName,P=this.model[Q]
	if(!P){P=this.model[Q]={}
	}F.extractModel(R,P,H)
	this.model.set(Q,P)
	},_setCurrentFormat:function(){var P=this.model?M.copy(this.model[this.levelName||L[0].p]):{}
	P=F.getStandardFormat(P,H)
	this.set("currentFormat",P)
	}})
	}},init:function(O){this._initModel()
	this._super(O)
	},onmodelChange:function(){this._initModel()
	var Q=this.obModel,O=M.clone(this.model)||{}
	if(O){var P={}
	if(O&&O[L[0].p]){var R=O[L[0].p].FormattingPatterns
	if(R){for(pr in R){if(pr.match(/^Series\w+/gi)){P[pr.substring(6,pr.length)]=R[pr]
	}}}O[L[0].p].FormattingPatternsChart=P
	}}if(O&&!O.attachEventListener){M.make(O,mstrmojo.Obj)
	}Q.set("model",O)
	Q.set("levelName",Q.levelName||L[0].p)
	},promptOnClearFormatRef:{scriptClass:"mstrmojo.Editor",cssText:"width:350px
	",children:[{scriptClass:"mstrmojo.Label",cssText:"margin:5px 5px 20px
	",bindings:{text:function(){return mstrmojo.desc(9564,"Clear all formatting?")
	}}},{scriptClass:"mstrmojo.HBox",cssText:"float:right
	margin-bottom:5px
	",alias:"buttonBar",slot:"buttonNode",children:[{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(1442,"Ok"),onclick:function(){var O=this.parent.parent
	O.opener.onClearFormat()
	O.close()
	}},{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(221,"Cancel"),onclick:function(){var O=this.parent.parent
	O.close()
	}}]}],postCreate:function(){if(mstrApp.isWorkstationPlugin){this.cssClass="mstrmojo-FormatEditor-clearFormat"
	this.title=mstrmojo.desc(5976,"Clear Format")
	this.showTitle=true
	}}},prompt2ClearFormat:function(){this.openPopup("promptOnClearFormatRef",{zIndex:this.zIndex+1})
	},onClearFormat:function(){var P=this.obModel
	for(var O=0
	O<L.length
	O++){delete P.model[L[O].p]
	}P._setCurrentFormat()
	},onOK:function(){var Q=this.obModel
	Q._updateModel()
	var R=Q.model[L[0].p]
	if(R){var P=R.FormattingPatterns,O=R.FormattingPatternsChart
	if(O){for(pr in H.FormattingPatternsChart){if(O[pr]!=null){P["Series"+pr]=O[pr]
	}}delete O
	}}var S=mstrmojo.hash.clone(this.model)
	F.saveFormatModel(Q.model,this.model,[L[0].p,L[1].p],F.DefaultFormat)
	this.model.dirty=!mstrmojo.hash.equals(S,this.model)
	},children:[{scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.HBox",alias:"btns",children:[{scriptClass:"mstrmojo.Pulldown",alias:"which",items:L,itemIdField:"v",bindings:{value:function(){var O=C.find(this.items,"p",this.parent.parent.parent.obModel.levelName)
	return this.items[O!=-1?O:0][this.itemIdField]
	}},cssClass:" mstrmojo-FormatEditor-DropDownButton",popupZIndex:100,value:L[0].v,onvalueChange:function(){var R=this.parent.parent.parent,P=this.parent.parent.formatPanels,S=P&&P.stck,Q=this.selectedItem
	if(R&&R.obModel&&S){R.obModel.set("levelName",Q?Q.p:L[0].p)
	var O=C.find(S.children,"pr",J.pr)
	if(Q==null||Q.p==L[0].p){if(O==-1){S.addChildren(J)
	S.onchildRenderingChange(J)
	}}else{S.removeChildren(S.children[O]||[])
	}}}},new B.newInteractiveButton(mstrmojo.desc(5976),function(O){var P=this.parent.parent.parent
	P.prompt2ClearFormat()
	},G,{alias:"btnClear",cssClass:E+" clear",postCreate:function(){if(mstrApp.isWorkstationPlugin){this.cssClass=E+" hot"
	}}})]},{scriptClass:"mstrmojo.TabListContainer",alias:"formatPanels",listCssClass:"mstrmojo-FormatEditor-leftPanel",bindings:{currentModel:"this.parent.parent.obModel.currentFormat"},oncurrentModelChange:function(){this.parent.btns.which.onvalueChange()
	var O=this.lst
	if(O.selectedIndex==0){O.onchange()
	}else{O.set("selectedIndex",0)
	}},children:[{scriptClass:"mstrmojo.TabNameList",alias:"lst",slot:"top",cssClass:"mstrmojo-FormatEditor-formatList",itemMarkup:'<div class="mstrmojo-FormatEditor-bullet"><div class="mstrmojo-text">{@n}</div></div>',onchange:function(){var R=this.parent,S=this.selectedIndex
	if(R.stck&&S!=null&&S!=-1){var Q=this.items[S],O=Q&&Q.target
	var U=O&&O.pr
	if(U){if(U.constructor===Array){for(var P=0
	P<U.length
	P++){O.set(U[P],R.currentModel[U[P]])
	}}else{O.set("model",R.currentModel[U])
	}}}}},{scriptClass:"mstrmojo.StackContainer",cssClass:"mstrmojo-FormatEditor-rightPanel-container mstrmojo-FormatEditor-rightPanel",alias:"stck",slot:"stack",children:[I,K,N,D,A,J]}]}]},{scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBar",children:[new B.newInteractiveButton(mstrmojo.desc(2397),function(){var O=this.parent.parent
	O.close()
	O.onOK&&O.onOK()
	},G,{alias:"btnOk",cssClass:E+" clear",postCreate:function(){if(mstrApp.isWorkstationPlugin){this.cssClass=E+" hot"
	}}}),new B.newInteractiveButton(mstrmojo.desc(2399),function(){var O=this.parent.parent
	O.close()
	},G,{alias:"btnCancel",cssClass:E})]}],postCreate:function(){if(mstrApp.isWorkstationPlugin){E+=" mstrmojo-WebButton"
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.Editor","mstrmojo._FormatDefinition","mstrmojo.FontFormatter","mstrmojo.NumberFormatter","mstrmojo.AlignmentFormatter","mstrmojo.PaddingFormatter","mstrmojo.FillFormatter","mstrmojo.BorderFormatter")
	var B=mstrmojo.hash,C=mstrmojo._FormatDefinition
	var A=["header_format","grid_format","child_header_format","child_grid_format"]
	mstrmojo.CGFormatEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.CGFormatEditor",cssClass:"mstrmojo-FormatEditor",title:mstrmojo.desc(2116),model:null,obModel:null,_initModel:function(){if(!this.obModel){var D=this
	this.obModel=new mstrmojo.Model({level1Index:A[0],onlevel0IndexChange:function(E){if(E.valueWas>-1){this._updateModel(E.valueWas,this.level1Index)
	}this._setCurrentFormat()
	},onlevel1IndexChange:function(E){if(E.valueWas!=undefined){this._updateModel(this.level0Index,E.valueWas)
	}this._setCurrentFormat()
	},onmodelChange:function(){return this.model.items.length>0?this._setCurrentFormat():false
	},_updateModel:function(H,F){H=(typeof H!="undefined")?H:this.level0Index
	F=F||this.level1Index
	var G=mstrmojo.hash.copy(this.currentFormat)
	var E=this.model.items[H][F]||{}
	C.extractModel(G,E)
	this.model.items[H].set(F,E)
	},_setCurrentFormat:function(){var E=mstrmojo.hash.copy(this.model.items[this.level0Index||0][this.level1Index])
	E=C.getStandardFormat(E)
	this.set("currentFormat",E)
	}})
	}},init:function(D){this._initModel()
	this._super(D)
	},onmodelChange:function(){this._initModel()
	var E=this.obModel
	E.level0Index=E.level0Index||0
	E.set("model",mstrmojo.hash.clone(this.model))
	var D=E.model.selectedIndex
	E.set("level0Index",(D==-1?0:D))
	},onClearFormat:function(){var D=this.obModel.currentFormat
	for(var G in D){delete D[G]
	}for(var F=0
	F<A.length
	F++){var E=this.obModel
	delete E.model.items[E.level0Index][A[F]]
	}this.obModel._setCurrentFormat()
	},onOK:function(){this.obModel._updateModel()
	var D=this.obModel.model
	for(var E=0
	E<D.items.length
	E++){C.saveFormatModel(D.items[E],this.model.items[E],A)
	}},postBuildRendering:function(){if(this._super){this._super()
	}var D=this.obModel.model.selectedIndex
	this.obModel.set("level0Index",(D==-1?0:D))
	},children:[{scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.HBox",alias:"btns",children:[{scriptClass:"mstrmojo.Pulldown",itemIdField:"did",bindings:{items:function(){return this.parent.parent.parent.obModel.model.items||[]
	},value:function(){var D=this.parent.parent.parent.obModel.level0Index
	D=(D==-1?0:D)
	return this.items[D][this.itemIdField]
	}},cssClass:" mstrmojo-FormatEditor-DropDownButton",popupZIndex:100,value:1,allowHTML:false,onvalueChange:function(){var D=this.parent.parent.parent
	if(D&&D.obModel){D.obModel.set("level0Index",this.selectedIndex)
	}}},{scriptClass:"mstrmojo.Pulldown",alias:"targetSelector",itemIdField:"v",cssClass:" mstrmojo-FormatEditor-DropDownButton",popupZIndex:100,value:1,items:C.FormatTarget,onvalueChange:function(){var D=this.parent.parent.parent
	if(D&&D.obModel){D.obModel.set("level1Index",this.selectedItem.p)
	}}},new mstrmojo.Button.newInteractiveButton(mstrmojo.desc(5976),function(D){var E=this.parent.parent.parent
	if(E.onClearFormat){E.onClearFormat()
	}},"#999",{alias:"btnClear",cssClass:"mstrmojo-Editor-button mstrButton clear"})]},{scriptClass:"mstrmojo.HBox",alias:"formatPanels",cssClass:"mstrmojo-FormatEditor-box",bindings:{currentModel:"this.parent.parent.obModel.currentFormat"},children:[{scriptClass:"mstrmojo.VBox",alias:"formatList",cssClass:"mstrmojo-FormatEditor-leftPanel",children:[{scriptClass:"mstrmojo.List",alias:"feFMTList",cssClass:"mstrmojo-FormatEditor-formatList",items:C.Formats,selectedIndex:0,itemMarkup:'<div class="mstrmojo-FormatEditor-bullet"><div class="mstrmojo-text">{@n}</div></div>',height:"200px"}]},{scriptClass:"mstrmojo.Container",alias:"rightPanelContainer",cssClass:"mstrmojo-FormatEditor-rightPanel-container mstrmojo-FormatEditor-rightPanel",markupString:'<div id={@id} class="{@cssClass}"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},children:[{scriptClass:"mstrmojo.FontFormatter",cssClass:"mstrmojo-FormatEditor-fontTable",cellPadding:5,bindings:{visible:"this.parent.parent.formatList.feFMTList.selectedIndex==0",model:"this.parent.parent.currentModel.FormattingFont"}},{scriptClass:"mstrmojo.NumberFormatter",bindings:{visible:"this.parent.parent.formatList.feFMTList.selectedIndex==1",model:"this.parent.parent.currentModel.FormattingNumber"}},{scriptClass:"mstrmojo.AlignmentFormatter",bindings:{visible:"this.parent.parent.formatList.feFMTList.selectedIndex==2",model:"this.parent.parent.currentModel.FormattingAlignment"}},{scriptClass:"mstrmojo.PaddingFormatter",bindings:{visible:"this.parent.parent.formatList.feFMTList.selectedIndex==2",model:"this.parent.parent.currentModel.FormattingPadding"}},{scriptClass:"mstrmojo.FillFormatter",bindings:{visible:"this.parent.parent.formatList.feFMTList.selectedIndex==3",model:"this.parent.parent.currentModel.FormattingPatterns"}},{scriptClass:"mstrmojo.BorderFormatter",bindings:{visible:"this.parent.parent.formatList.feFMTList.selectedIndex==3",model:"this.parent.parent.currentModel.FormattingBorder"}}]}]}]},{scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBar",slot:"buttonNode",children:[new mstrmojo.Button.newInteractiveButton(mstrmojo.desc(2397),function(){var D=this.parent.parent
	D.close()
	if(D.onOK){D.onOK()
	}},"#999",{alias:"btnOk",cssClass:"mstrmojo-Editor-button mstrButton"}),new mstrmojo.Button.newInteractiveButton(mstrmojo.desc(2399),function(){var D=this.parent.parent
	D.close()
	},"#999",{alias:"btnCancel",cssClass:"mstrmojo-Editor-button mstrButton"})]}]})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash","mstrmojo.array","mstrmojo._ValidateSuggestions","mstrmojo.WidgetList","mstrmojo.Editor","mstrmojo.LegacySuggestionList","mstrmojo.url")
	mstrmojo.Enum_OIB_States=mstrmojo.hash.copy(mstrmojo._ValidateSuggestions.ENUM_STATES,{EDITING:2,ADDING:3,EMPTY:4})
	mstrmojo.Enum_OIB_States_CSS=(function(){var AD=mstrmojo.Enum_OIB_States,AC={},AE
	for(AE in AD){if(AD.hasOwnProperty(AE)){AC[String(AD[AE])]=AE
	}}return AC
	}())
	var P=mstrmojo.dom,R=mstrmojo.hash,k=mstrmojo.array,Y=mstrmojo.url
	STATES=mstrmojo.Enum_OIB_States,_freeIdCounter=0,_ITEM_ID_FIELD="_did_",KEYS=mstrmojo.Enum_Keys,MIN_TEXTINPUT_WIDTH=80,KEY_DELAY=200
	function X(){return(mstrApp&&mstrApp.searchAutoCompleteDelay&&mstrApp.searchAutoCompleteDelay())?mstrApp.searchAutoCompleteDelay():KEY_DELAY
	}function O(){return _freeIdCounter++
	}function g(AC){return(AC&&AC.state===STATES.ADDING)
	}function q(AC){var AD={n:AC||"",state:STATES.EMPTY}
	AD[_ITEM_ID_FIELD]=-2
	return AD
	}function N(AC){return(AC&&AC.state===STATES.EMPTY)
	}function v(AD){var AE=AD.items,AC=AE&&AE.length
	if(!AC){return true
	}return(AC===1&&g(AE[0]))||(AC===2&&N(AE[0])&&g(AE[1]))
	}function m(){var AD=this.ctxtBuilder.itemWidgets,AC=AD[AD.length-1]
	if(AC&&AC.isAdding){var AE=this
	P.attachEvent(AC.domNode,"click",function(){AE.editingIdx=null
	})
	return AC
	}return null
	}function K(){var AC=this.editingIdx
	if(AC!==null){return this.ctxtBuilder.itemWidgets[AC]
	}return m.call(this)
	}function D(){this.isActive=false
	var AD=this.emptyText||"",AE=this.items
	if(v(this)&&!N(AE[0])&&(AD.length>0)){this.add([q(AD)],0)
	var AF=this.ctxtBuilder.itemWidgets[0]
	AF.set("shouldEllipsize",true)
	AF.doEllipsize()
	}var AC=K.call(this)
	if(AC){if(g(AC)&&this.showEmptyItem){AC.domNode.style.visibility="hidden"
	}AC.blur()
	}P.detachEvent(document.body,"mousedown",this._mousedownHandler)
	if(this.tabNavigable){P.detachEvent(AC.inputNode,"keydown",this._tabKeyHander)
	}}function M(){if(!this.enabled){return 
	}this.isActive=true
	if(N(this.items[0])){this.remove(0)
	}var AC=K.call(this)
	if(AC){if(g(AC)&&!this.isFull){AC.domNode.style.display="block"
	AC.domNode.style.visibility="visible"
	}this.scrollTo(AC.data)
	AC.focus()
	}P.attachEvent(document.body,"mousedown",this._mousedownHandler)
	if(this.tabNavigable){P.attachEvent(AC.inputNode,"keydown",this._tabKeyHander)
	}}mstrmojo.ObjectInputBox=mstrmojo.declare(mstrmojo.WidgetList,[mstrmojo._ValidateSuggestions],{scriptClass:"mstrmojo.ObjectInputBox",cssClass:"mstrmojo-ObjectInputBox",emptyText:"",showEmptyItem:true,items:null,itemField:"n",dynamicVerify:true,suggestCount:10,candidates:null,makeObservable:true,renderOnScroll:false,editingIdx:null,isActive:false,maxObjectCount:null,isFull:false,suggestionListClass:"mstrmojo.LegacySuggestionList",acptSugItemOnly:false,useKeyDelay:false,disableDeactivate:false,showSuggestionOnEdit:true,tabNavigable:false,getSearchPattern:function(){var AC=K.call(this)
	if(AC){return AC.getSearchPattern()
	}return""
	},getSuggestionTarget:function n(){return this.suggestTarget
	},onsuggestTargetChanged:function p(AC){this._request_pattern=null
	},getSuggestionPos:function c(){return this._pop_cfg
	},onSuggestionItemSelect:function w(AC){if(this.suggestTarget){this.suggestTarget.setItem(AC[this.itemField],AC,false)
	}this.hideSuggestion()
	this.closePopup()
	},hideEditButton:function(AC){return !!this.noEditButton
	},_set_items:function l(AH,AE){AE=mstrmojo.hash.clone(AE)||[]
	var AG=this.maxObjectCount
	this.set("isFull",(AG&&AE.length>=AG))
	if(AE.length===0){var AD=this.emptyText||""
	if(AD.length>0){AE.push(q(AD))
	}}var AF={n:"",state:STATES.ADDING}
	AF[_ITEM_ID_FIELD]=-1
	AE.push(AF)
	var AC=AE[AE.length-1]
	if(AC&&g(AC)&&this.maxObjectCount&&(this.getSelectedObjects().length>=this.maxObjectCount)){this.set("isFull",true)
	}this.itemIdField=_ITEM_ID_FIELD
	return this._super(AH,AE)
	},add:function E(AD,AC){var AE=m.call(this)
	if(!this.maxObjectCount||this.getSelectedObjects().length<this.maxObjectCount){this._super(AD,AC)
	}if(!v(this)&&N(this.items[0])){this.remove(0)
	}if(AE){AE.adjustInputWidth()
	if(this.maxObjectCount&&(this.getSelectedObjects().length===this.maxObjectCount)){this.set("isFull",true)
	AE.domNode.style.display="none"
	}else{AE.domNode.style.display=this.showEmptyItem?"none":""
	}}},remove:function b(AC){this._super(AC)
	var AD=m.call(this)
	if(AD){if(this.maxObjectCount&&(this.getSelectedObjects().length<this.maxObjectCount)){this.set("isFull",false)
	}AD.adjustInputWidth()
	}},preBuildRendering:function(){if(this.items==null||this.items.length==0){this.set("items",[])
	}if(this._super){this._super()
	}},postBuildRendering:function a(){this._super()
	var AD=this,AC=m.call(AD)
	if(AC&&(this.showEmptyItem||this.isFull)){AC.domNode.style.display="none"
	}this._clickHandler=function(){M.call(AD)
	}
	this._mousedownHandler=function(AE){try{if(!AD.isActive||AD.browserShown){return 
	}var AF=P.eventTarget(self,AE)
	if(AD.disableDeactivate&&AF&&P.contains(AD.parent.domNode,AF,false,document.body)){return 
	}if(AF&&AF.parentNode&&!P.contains(K.call(AD).domNode,AF,false,document.body)&&!P.contains(AD.suggestionPopup.domNode,AF,false,document.body)){D.call(AD)
	}}catch(AG){console.error(AG)
	}}
	if(this.tabNavigable){this._tabKeyHander=function(AE){var AF=parseInt(AE.keyCode||AE.charCode,10)
	if(AF===KEYS.TAB){if(!AD.isActive||AD.browserShown){return 
	}D.call(AD)
	}}
	}P.attachEvent(this.domNode,"click",this._clickHandler)
	},nextId:O,item2textCss:function L(AC){return AC.cssClass||""
	},itemFunction:function G(AE,AC,AD){AE[AD.itemIdField]=O()
	var AF=new mstrmojo.ObjectItem({parent:AD,itemField:AD.itemField,cssClass:AD.item2textCss(AE),data:AE,showSuggestionOnEdit:this.showSuggestionOnEdit,enabled:AD.enabled})
	AD.attachEventListener4ItemWidget(AF,AD)
	return AF
	},attachEventListener4ItemWidget:function h(AG,AE){var AD=["ItemEditBegin","ItemEditEnd","ItemDeletePrev","ItemDelete","ItemAdd","SuggestionOn","SuggestionOff","ItemEditing"],AC=AD.length,AF
	for(AF=0
	AF<AC
	AF++){AG.attachEventListener(AD[AF],AE.id,"_itemChangeHandler")
	}return AG
	},getSelectedObjects:function j(){if(v(this)){return[]
	}var AC=this.items,AD=AC.length-1
	if((AD>-1)&&g(AC[AD])){return AC.slice(0,AD)
	}return AC.concat()
	},isValid:function C(){var AD=this.ctxtBuilder.itemWidgets,AC=AD&&AD.length,AE
	for(AE=0
	AE<AC
	AE++){if(!AD[AE].isValid()){return false
	}}return true
	},isEmpty:function U(){return v(this)
	},_itemChangeHandler:function(AF){var AI=AF.name,AJ=AF.d,AD,AC=this.items.length,AE,AH=AF.src.data
	switch(AI){case"ItemEditBegin":if(this.editingIdx!==null){AE=K.call(this)
	if(AE){AE.blur()
	}}AD=this.itemIndex(AJ)
	this.editingIdx=AD
	M.call(this)
	break
	case"ItemEditEnd":AD=this.editingIdx
	if(AD!==null){var AE=K.call(this)
	this.items[AD][this.itemField]=AE.inputNode.value
	}else{if(AH){AD=this.itemIndex(AH)
	this.items[AD][this.itemField]=AH[this.itemField]
	}}this.editingIdx=null
	if(AF.deactivate){D.call(this)
	}else{M.call(this)
	}AE=m.call(this)
	if(AE){AE.adjustInputWidth()
	}break
	case"ItemDelete":if(this.editingIdx!==null){AE=K.call(this)
	if(AE){AE.blur()
	}this.editingIdx=null
	}AD=this.itemIndex(AJ)
	this.remove(AD)
	if(!AF.deactivate){this.editingIdx=null
	M.call(this)
	}else{if(!this.isActive){D.call(this)
	}else{M.call(this)
	}}break
	case"ItemDeletePrev":if(AC>1){this.remove(AC-2)
	}break
	case"ItemAdd":var AG=R.copy(AF.d)
	this.add([AG],AC-1)
	if(AF.deactivate){D.call(this)
	}else{M.call(this)
	}break
	case"SuggestionOn":this.set("suggestTarget",AF.target)
	this._pop_cfg={target:AF.target,left:AF.l,top:AF.t,zIndex:this.zIndex?this.zIndex:100}
	this.showSuggestion(AF.pattern)
	break
	case"SuggestionOff":this.set("suggestTarget",null)
	this.hideSuggestion()
	break
	}if(this.onitemchange&&(AI==="ItemEditEnd"||AI==="ItemAdd"||AI==="ItemDelete"||AI==="ItemDeletePrev"||AI==="ItemEditing")){this.onitemchange()
	}},unrender:function B(AD){var AC=this.suggestionPopup
	if(AC.hasRendered){AC.unrender(false)
	}if(this._super){this._super(AD)
	}},destroy:function u(AD){var AC=this.suggestionPopup
	if(AC&&AC.hasRendered){AC.destroy(false)
	}if(this._super){this._super(AD)
	}}})
	mstrmojo._HasMarkup.addMarkupMethods(mstrmojo.ObjectInputBox,{onenabledChange:mstrmojo.Widget.enabledMarkupMethod})
	mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo._HasEllipsis")
	var r="mstrmojo-ObjectItem-text"
	mstrmojo.ObjectItem=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._HasEllipsis],{scriptClass:"mstrmojo.ObjectItem",markupString:'<div id={@id} class="mstrmojo-ObjectItem" style="{@cssText}"><div class="mstrmojo-ObjectItem-displayNode"><span title=" {@en@title}" class="'+r+' {@cssClass}"></span><img class="mstrmojo-ObjectItem-edit" src="'+Y.getPlaceholderImageURL()+'" title="'+mstrmojo.desc(1088,"Edit")+'" mstreventmark="editNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].edit()"/><img class="mstrmojo-ObjectItem-del" src="'+Y.getPlaceholderImageURL()+'" title="'+mstrmojo.desc(629,"Delete")+'" mstreventmark="delNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].del(arguments[0])"/></div><div class="mstrmojo-ObjectItem-editNode"><input type="text" class="mstrmojo-ObjectItem-input" mstrAttach:keyup,keydown/></div></div>',eventHandlerMap:{editNode:{click:{requiredParams:["id"],handlerFn:function(AC){return function(){mstrmojo.all[AC.id].edit()
	}
	}}},delNode:{click:{requiredParams:["id"],handlerFn:function(AC){return function(){mstrmojo.all[AC.id].del(arguments[0])
	}
	}}}},markupSlots:{displayNode:function(){return this.domNode.firstChild
	},editNode:function(){return this.domNode.childNodes[1]
	},textNode:function(){return this.domNode.firstChild.firstChild
	},editButtonNode:function(){return this.domNode.firstChild.childNodes[1]
	},delButonNode:function(){return this.domNode.firstChild.lastChild
	},inputNode:function(){return this.domNode.childNodes[1].firstChild
	}},markupMethods:{oncssClassChange:function(){this.textNode.className=r+" "+this.cssClass
	},onstateChange:function(){var AE=this.state,AD=mstrmojo.Enum_OIB_States_CSS[AE],AC=this.domNode
	if(AE===STATES.EMPTY){AC.innerHTML=this.enabled?'<div class="mstrmojo-ObjectItem-emptyText">'+this.text+"</div>":""
	}else{if(AE===STATES.EDITING){this.reduceWidth()
	}}AC.className="mstrmojo-ObjectItem "+AD
	this.updateButtonsVisibility(this.data)
	},ontextChange:function(){this.inputNode.value=this.text
	this.textNode.innerHTML=mstrmojo.string.encodeHtmlString(this.text)
	}},reduceWidth:function(){var AC=Math.round(this.displayNode.clientWidth)
	this.editNode.style.width=AC-4+"px"
	this.inputNode.style.width=AC-9+"px"
	},updateButtonsVisibility:function AB(){if(this.parent.hideEditButton(this.data)){this.editButtonNode.style.display="none"
	}},state:STATES.VALID,onstateChange:function e(AC){this.data.state=this.state
	},ontextChange:function H(AC){this.data[this.itemField]=this.text
	},onfocus:function x(){M.call(this.parent)
	},updateData:function F(AD){R.copy(AD,this.data)
	var AC=this
	k.forEach(["um","st"],function(AE){if(!AD.hasOwnProperty(AE)){delete AC.data[AE]
	}else{AC.data[AE]=AD[AE]
	}})
	this.set("state",STATES.VALID)
	this.set("text",this.data[this.itemField])
	this.set("cssClass",this.parent.item2textCss(this.data))
	},init:function z(AD){this._super(AD)
	var AF=this.data,AC=AF.state,AE=this.parent
	AC=this.initState()
	this.cssClass=AE.item2textCss(AF)
	this.text=AF[this.itemField]
	this.state=AC
	this.isAdding=g(AF)
	this.useRichTooltip=true
	if(AF.st===8704){this.title=AF.ab
	}else{this.title=this.text
	}},initState:function J(){var AD=this.parent,AE=this.data,AC=AE.state
	if(AE&&AE.did){AE.state=STATES.VALID
	return AE.state
	}if(typeof AC==="undefined"){AC=AD.dynamicVerify?AD.verifyObject(AE[this.itemField],this):STATES.UNDETERMINED
	AE.state=AC
	}return AC
	},isValid:function C(){var AC=parseInt(this.state,10)
	return(AC!==STATES.INVALID&&AC!==STATES.UNDETERMINED)
	},adjustInputWidth:function A(){if(this.isAdding){var AF=this.inputNode.style
	AF.width=MIN_TEXTINPUT_WIDTH+"px"
	var AE=this.domNode.parentNode,AC=AE.parentNode.offsetWidth,AD=Math.max(AC-AE.offsetLeft-20,MIN_TEXTINPUT_WIDTH)
	if(!isNaN(AD)){AF.width=AD+"px"
	}}},blur:function S(){this.hideSuggestion()
	if(!this.isActive){return 
	}this.isActive=false
	var AE=this.inputNode,AC=AE.value,AD=this.parent
	window.setTimeout(function(){try{AE.blur()
	}catch(AF){}},0)
	if(!AC){return 
	}if(AD.acptSugItemOnly&&this._tWas_){this.set("text",AC)
	this.set("text","")
	this._tWas_=null
	return 
	}this.setItem(AC,null,true)
	},focus:function t(){var AD=this.inputNode,AC=this.isActive
	window.setTimeout(function(){try{AD.focus()
	if(AD.createTextRange&&!AC){var AF=AD.createTextRange(),AE=AD.value.length
	AF.move("character",AE)
	AF.select()
	}else{if(AD.setSelectionRange&&!AC){var AE=AD.value.length
	AD.setSelectionRange(AE,AE)
	}}}catch(AG){}},0)
	this.isActive=true
	this._tWas_=AD.value
	},prekeydown:function I(AC){var AE=this.inputNode.value,AD=parseInt(AC.e.keyCode||AC.e.charCode,10),AG=this.parent
	if(!AE){return 
	}if(AD===KEYS.TAB||AD===KEYS.ENTER){if(AD===KEYS.ENTER){P.preventDefault(AC.hWin,AC.e)
	}var AF=AG.getSelected()
	if(AF&&AF.did){AG.handleSuggestionItemSelect(AF)
	}else{this.hideSuggestion()
	if(!AG.acptSugItemOnly){this.setItem(AE,null,false)
	}else{this.set("text",AE)
	this.set("text","")
	}}}else{if(AD===KEYS.DOWN_ARROW){if(!AG.noCache&&!AG.suggestionShown){this.showSuggestion(AE)
	AG.preHighlight()
	}AG.nextHighlight()
	}else{if(AD===KEYS.UP_ARROW){AG.preHighlight()
	}}}},prekeyup:function AA(AC){var AE=this.inputNode.value,AD=parseInt(AC.e.keyCode||AC.e.charCode,10),AH=this.isAdding,AG=this.parent
	if(!AE){if(AH){if(AD===KEYS.BACKSPACE&&!this._tWas_){this.raiseEvent({name:"ItemDeletePrev"})
	P.preventDefault(AC.hWin,AC.e)
	}this._tWas_=null
	}else{this.raiseEvent({name:"ItemDelete",d:this.data})
	}this.hideSuggestion()
	return 
	}if(AD===KEYS.ESCAPE||AD===KEYS.TAB){this.hideSuggestion()
	if(AG.acptSugItemOnly){this.set("text",AE)
	this.set("text","")
	this._tWas_=null
	return 
	}}else{if(this._tWas_!==AE){this.textChanged=true
	this.raiseEvent({name:"ItemEditing",d:this.data})
	if(AG.useKeyDelay){window.clearTimeout(this._timerID)
	var AF=this
	this._timerID=window.setTimeout(function(){var AI=AF.inputNode.value
	if(AI){AF.showSuggestion(AI)
	}AF._timerID=null
	},X())
	}else{this.showSuggestion(AE)
	}}}this._tWas_=AE
	},setItem:function(AC,AE,AD){var AF=this.isAdding
	AD=AD||false
	this.set("text",AC)
	if(AF){this.setItem_Adding(AC,AE,AD)
	}else{this.setItem_Editing(AC,AE,AD)
	}this._tWas_=null
	},setItem_Adding:function(AC,AE,AD){this.set("text","")
	if(!AE){AE={}
	AE[this.itemField]=AC
	}else{AE.state=STATES.VALID
	}this.raiseEvent({name:"ItemAdd",d:AE,deactivate:AD})
	},setItem_Editing:function(AC,AE,AD){var AF=this.parent
	this.set("text",AC)
	if(AE){this.updateData(AE)
	}else{if(this.textChanged){var AG={}
	AG[_ITEM_ID_FIELD]=this.data[_ITEM_ID_FIELD]
	delete this.data.did
	this.data=AG
	this.textChanged=false
	}this.set("state",AF.verifyObject(AC,this))
	this.set("cssClass",AF.item2textCss(this.data))
	}this.isActive=false
	this.raiseEvent({name:"ItemEditEnd",d:AE,deactivate:AD})
	},getSearchPattern:function W(){return(this.inputNode?this.inputNode.value:"")
	},showSuggestion:function o(AC){var AD=mstrmojo.dom.position(this.domNode,true)
	this.raiseEvent({name:"SuggestionOn",l:Math.round(AD.x)+"px",t:Math.round(AD.y+AD.h)+"px",pattern:AC,target:this})
	},hideSuggestion:function f(){this.raiseEvent({name:"SuggestionOff"})
	},del:function Q(AC){AC=AC||self.event
	P.stopPropogation(self,AC)
	this.raiseEvent({name:"ItemDelete",d:this.data,deactivate:true})
	if(this.useRichTooltip&&this.hideTooltip){this.hideTooltip()
	}},edit:function Z(){this.set("state",STATES.EDITING)
	this.raiseEvent({name:"ItemEditBegin",d:this.data})
	if(this.showSuggestionOnEdit){this.showSuggestion(this.text)
	}},doEllipsize:function d(){if(!this.shouldEllipsize){return 
	}var AD=this.maxItemWidth,AC
	if(AD){this.domNode.style.maxWidth=AD
	switch(parseInt(this.state,10)){case STATES.VALID:case STATES.UNDETERMINED:case STATES.INVALID:AC=this.textNode
	break
	case STATES.EMPTY:AC=this.domNode.firstChild
	break
	}if(AC){this.set("richTooltip",{content:this.text,contentNodeCssClass:"sp-tooltip",posType:mstrmojo.tooltip.POS_TOPLEFT,left:0,top:30,refNode:this.domNode})
	mstrmojo.css.addClass(AC,"truncated")
	}}}})
	}())
	(function(){mstrmojo.requiresClsP("mstrmojo","Editor","HBox","HTMLButton","Label","SortRow","ButtonSwitch","CheckBox","_HasOwnAvatar","hash")
	mstrmojo.requiresCls("mstrmojo.ui._HasScroller","mstrmojo.mstr.EnumDSSXMLObjectTypes")
	mstrmojo.requiresDescs(11591,3095,11592,2968,122,221,1442,12420,13153)
	var I=mstrmojo.desc,U=mstrmojo.array,Z=mstrmojo.hash,E=mstrmojo.dom,g=mstrmojo.css,L=0,j="top",W="bottom",h
	mstrmojo.AdvancedSortData=null
	function A(m,l){var n=new mstrmojo.SortRow(),k=mstrmojo.all[h]
	n.setPulldownOptions(l===L?k.sortData.rows:k.sortData.cols)
	n.setRank(m.children.length+1)
	m.addChildren([n])
	}function K(k){return k&&k.isAsc===2
	}function Q(t,l,p){var n,m,q,k=t.children,o=mstrmojo.all[h],r=function(){var AA,z,x,w,AC,v=(p===L?o.sortData.rows:o.sortData.cols),u=[]
	for(AA=0,z=l.length
	AA<z
	AA++){AC=l[AA]
	if(K(AC)){var AB=AC.value.split("!").slice(0,2).join("!")
	if(U.some(v,function(AD){return AB===AD.v.split("!").slice(0,2).join("!")
	})){u.push(AC)
	}}else{for(x=0,w=v.length
	x<w
	x++){if(AC.value===v[x].v){u.push(AC)
	break
	}}}}return u
	}
	if(!o.isDesignMode){l=r()
	}for(n=0,m=0
	n<k.length&&m<l.length
	n++,m++){q=l[m]
	k[n].setSelected(q.value,q.isAsc,q.n)
	}for(
	n<k.length
	n++){k[n].setSelected("",1)
	}for(
	m<l.length
	m++){q=l[m]
	A(t,p)
	k[m].setSelected(q.value,q.isAsc,q.n)
	}}function J(){var k=this.children
	if(k[k.length-1].getSortKey()===""){return 
	}A(this,this.type)
	}function F(){var k,l=this.children
	for(k=0
	k<l.length
	k++){var m=l[k]
	if(m.getRank()!==k+1){m.setRank(k+1)
	}}}function M(o,l){var n=this.xtab&&this.xtab.model,k
	if(n){var m=((n.data||{}).gsi||{}).sorts
	if(m){m=m[o.isRow?0:1]||[]
	k=U.filterOne(m,function(p){return p.key&&p.key.search(l)==0
	})
	}}return k
	}function a(k){var l=k&&k.split&&k.split("!")
	return{unitType:l[0],unitId:l[1],axis:l[5]}
	}function P(){var o,m,l,q=[],t=mstrmojo.all[h],v=["appliedRows","appliedCols"],k=[]
	k.push(t.tabContainer.children[0].children)
	k.push(t.tabContainer.children[1].children)
	for(m=0
	m<2
	m++){var x=[],n
	for(o=0
	o<k[m].length
	o++){n=k[m][o]
	l=n.getSortKey()
	if(l&&l!==" "){if(n.isCustomSort()){var r=M.call(t,n.originalPos,l),z=Z.copy(a(r.key),{actions:r.actions,isCustomSort:true})
	x.push(z)
	}else{x.push({key:l,isAsc:n.isAscending()})
	}}}if(x.length===0){if(t.sortData[v[m]].length===0){x=null
	}}q.push(x)
	}var w=t.sortData.hierarchicalSort,u=t.hrlSortBox.checked?w.stt:null,p=t.resHrlBox.checked?"1":"0"
	t.controller.onAdvancedSort(t.xtab,q,null,u,p)
	}mstrmojo.AdvancedSortEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.AdvancedSortEditor",help:"advanced_sort_editor.htm",cssClass:"mstrmojo-AdvancedSortEditor",title:I(11591,"Advanced Sort"),tabSwitcher:undefined,tabContainer:undefined,hrlSortBox:undefined,sortData:undefined,sourceAxis:1,init:function c(k){this._super(k)
	h=this.id
	},onOpen:function H(){var k=this.sortData,n,q=["appliedRows","appliedCols"],m=this.sourceAxis-1,p=this.xtab,l=this.tabContainer,o=l.children
	if(p&&p.isInFilterPanel&&p.isInFilterPanel()&&mstrApp&&mstrApp.isInVFInteractMode){g.addClass(this.domNode,"forVisFilter")
	}U.forEach(o,function(r,u){n=k[q[u]]
	U.forEach(r.children,function(v){v.setPulldownOptions(k[u===L?"rows":"cols"])
	})
	Q(r,n,u)
	var t
	U.forEach(r.children,function(w,v){t=w.getSortKey()
	if(t&&t.trim&&t.trim()){w.originalPos={isRow:u===L,index:v}
	}})
	J.call(r)
	F.call(r)
	})
	if(this.sourceType===mstrmojo.mstr.EnumDSSXMLObjectTypes.Metric){m^=1
	}this.tabSwitcher.set("selected",m>=o.length?L:m)
	l.updateScrollbars()
	this.updateUseHierarchicalSort(m)
	},onClose:function(){U.forEach(this.tabContainer.children,function(k){U.forEach(k.children,function(l){l.resetPulldownOptions()
	})
	})
	},onTabChange:function(l){var k=this.tabContainer
	k.children[l].set("visible",true)
	k.children[1-l].set("visible",false)
	k.set("selected",l)
	k.updateScrollbars()
	this.updateUseHierarchicalSort(l)
	},updateUseHierarchicalSort:function S(p){var o=(p===L)?"rows":"cols",v=(p===L)?"appliedRows":"appliedCols",l=this.sortData,t=l.hierarchicalSort,q=t.pref,w=t.rp,n=t.isOutlineMode,r=t.isRA,u=l[v],m=this.hrlSortBox,k=this.resHrlBox
	m.set("visible",q==="1")
	m.set("checked",n||(q==="1"&&(u.length===0||r)))
	k.set("visible",false)
	k.set("checked",w)
	},updateTooltipConfig:function d(){if(E.isIE8){this.richTooltip.cssClass+=" ie8"
	d.repaint=!!!d.repaint
	this.richTooltip.cssClass+=(d.repaint?" repaint":"")
	}},postBuildRendering:function e(){this._super()
	this.tabContainer.domNode.onselectstart=function(){return false
	}
	},children:[{scriptClass:"mstrmojo.ButtonSwitch",alias:"tabSwitcher",label1:I(2968,"Rows"),label2:I(122,"Columns"),switchFn:function b(){this.parent.onTabChange(this.selected)
	}},{scriptClass:"mstrmojo.Widget",markupString:"<div class='rulesTitles'><div>"+I(3095,"Order")+"</div><div>"+I(11592,"Sort by")+"</div></div>"},{scriptClass:"mstrmojo.SortRulesPanelContainer",alias:"tabContainer",cssClass:"mstrmojo-AdvancedSortEditor-RulesPanelContainer"},{scriptClass:"mstrmojo.CheckBox",alias:"hrlSortBox",cssClass:"hrlSortBox",oncheckedChange:function(){if(E.isIE8){g[this.checked?"addClass":"removeClass"](this.labelNode,"checked")
	}},postBuildRendering:function e(){if(E.isIE8){var l=this,k=this.labelNode
	E.attachEvent(k,"click",function(){l.set("checked",!l.checked)
	})
	}},label:I(13153,"Sort metrics hierarchically")},{scriptClass:"mstrmojo.CheckBox",alias:"resHrlBox",cssClass:"resHrlBox",oncheckedChange:function(){if(E.isIE8){g[this.checked?"addClass":"removeClass"](this.labelNode,"checked")
	}},postBuildRendering:function e(){if(E.isIE8){var l=this,k=this.labelNode
	E.attachEvent(k,"click",function(){l.set("checked",!l.checked)
	})
	}},label:I(12420,"Respect Hierarchy")},{scriptClass:"mstrmojo.Button",slot:"buttonNode",cssClass:"mstrmojo-WebButton Advanced-Sort-Editor-Button",text:I(221,"Cancel"),onclick:function(){mstrmojo.all[h].close()
	}},{scriptClass:"mstrmojo.Button",slot:"buttonNode",cssClass:"mstrmojo-WebButton Advanced-Sort-Editor-Button",iconClass:"hot",text:I(1442,"OK"),onclick:function(){P()
	mstrmojo.all[h].close()
	}}]})
	function Y(m,l){var k=Math.floor((m-l.y0-E.getVerticalScroll())/l.h)
	if(k<0){k=0
	}else{if(k>=this.children.length){k=this.children.length-1
	}}return k
	}function B(o,m){var l=j,n=(Math.floor(o-m.y0)%m.h)/m.h,k=Y.call(this,o,m)
	if(k===this.children.length-1){if(n>0.5||Math.floor((o-m.y0)/m.h)>k){l=W
	}}else{if(n>0.5){if(k<this.children.length-1){k+=1
	}}}return{edge:l,idx:k}
	}mstrmojo.SortRulesPanelContainer=mstrmojo.declare(mstrmojo.Box,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.SortRulesPanelContainer",selected:undefined,setupScrollNodes:function O(){var k=this.children[this.selected||0]
	this.scrollNode=k.domNode
	if(!k.hasEventListener){g.addClass(this.scrollNode,"mstrmojo-scrollNode")
	E.attachMarkupEvent(this.id,this.scrollNode,"scroll")
	k.set("hasEventListener",true)
	}},onscroll:function f(){if(this._super){this._super()
	}var k
	U.forEach(this.children,function(l){if(!k){U.forEach(l.children,function(o){if(!k){var n=o.sortRule.list,m=o.sortOrder.list
	if(n.visible){k=n
	}else{if(m.visible){k=m
	}}}})
	}})
	if(k){k.set("visible",false)
	}},children:[{scriptClass:"mstrmojo.SortRulesPanel",cssClass:"mstrmojo-AdvancedSortEditor-RulesPanel",type:0},{scriptClass:"mstrmojo.SortRulesPanel",cssClass:"mstrmojo-AdvancedSortEditor-RulesPanel",type:1}]})
	mstrmojo.SortRulesPanel=mstrmojo.declare(mstrmojo.Box,[mstrmojo._HasOwnAvatar],{scriptClass:"mstrmojo.SortRulesPanel",dropZone:true,draggable:true,avatarCssClass:"sort-rule-drag-avatar",type:undefined,hasEventListener:undefined,getDragData:function D(){return{}
	},createAvatar:function X(n,m){var o=m.src.data,l,k
	o.y0=E.position(this.domNode).y
	o.h=E.position(this.children[0].domNode).h
	o.left=E.position(this.children[0].domNode).x
	l=Y.call(this,m.src.pos.y,o)
	k=this.children[l].domNode.cloneNode(true)
	o.index=l
	o.node=this.children[l]
	if(mstrApp.getThemeClassName){g.addClass(k,mstrApp.getThemeClassName())
	}return k
	},positionAvatar:function N(l,k){l.x=k.src.data.left+10
	this._super(l,k)
	},isDragValid:function C(k){if(this.children.length===1){return false
	}var l=this.domNode,n=this.children[Math.floor((k.src.pos.y-E.position(l).y-E.getVerticalScroll())/E.position(this.children[0].domNode).h)],m=k.src.e.target
	return !(E.contains(n.sortRule.domNode,m,true,l)||E.contains(n.sortOrder.domNode,m,true,l))
	},ondragstart:function(k){this._super(k)
	var l=k.src.data
	this.removeChildren(this.children[l.index])
	l.y0=E.position(this.domNode).y
	},ondragmove:function R(k){var q=k.src.data,r=k.last.y,p=q.tgtIdx,n=q.tgtEdge,o=B.call(this,r,q),m=o.idx,l=o.edge
	if(p!==m||n!==l){if(p!==undefined){g.removeClass(this.children[p].domNode,n)
	}g.addClass(this.children[m].domNode,l)
	q.tgtIdx=m
	q.tgtEdge=l
	}this._super(k)
	},ondragend:function G(l){var m=l.src.data,k=m.tgtIdx
	if(k!==undefined){g.removeClass(this.children[k].domNode,m.tgtEdge)
	}if(m.tgtEdge===W){k++
	}this.addChildren([m.node],k)
	this.updatePanel()
	this._super(l)
	},pulldownActive:function(k){mstrmojo.css.toggleClass(mstrmojo.all[h].tabContainer.domNode,"disableScroller",k)
	},updatePanel:function(){F.call(this)
	J.call(this)
	mstrmojo.all[h].tabContainer.updateScrollbars()
	},deleteSortRule:function(k){this.removeChildren(k)
	this.updatePanel()
	},itemSelected:function(){this.updatePanel()
	},children:[{scriptClass:"mstrmojo.SortRow"},{scriptClass:"mstrmojo.SortRow"},{scriptClass:"mstrmojo.SortRow"}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.editors.controls.AdvancedColorPicker","mstrmojo._IsPopup","mstrmojo._CanAutoClose","mstrmojo.hash","mstrmojo.css")
	var A=mstrmojo.hash.copy
	mstrmojo.ui.editors.controls.AdvancedColorPickerPopup=mstrmojo.declare(mstrmojo.ui.editors.controls.AdvancedColorPicker,[mstrmojo._IsPopup,mstrmojo._CanAutoClose],{scriptClass:"mstrmojo.ui.editors.controls.AdvancedColorPickerPopup",locksHover:true,init:function E(F){this._super(F)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-ui-AdvColorPickerPopup")
	},showPickerForCurrentMode:function D(){this._super()
	var G=this,F=function F(){if(G.visible){G.adjustCornersForPopupOverflow()
	}}
	if(this.pickerMode===2){this.colorStyle.markupMethods=A({onselectedIndexChange:F},A(this.colorStyle.markupMethods))
	}F()
	},onOpen:function C(){var F=this.parent
	this.set("color",F?F.selectedValue:this.color)
	this.renderContent()
	this._super()
	},colorCanceled:function B(){this.close()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.hash","mstrmojo.string","mstrmojo.Label","mstrmojo.ui.Pulldown","mstrmojo.vi.ui.InlineDialogBase")
	mstrmojo.requiresDescs(16166,11955,11956)
	var A=mstrmojo.css,G=mstrmojo.hash,D=mstrmojo.string,H="\u001E"
	mstrmojo.vi.ui.FilterBoxInlineDialog=mstrmojo.declare(mstrmojo.vi.ui.InlineDialogBase,null,{scriptClass:"mstrmojo.vi.ui.FilterBoxInlineDialog",tocEnabled:false,selectFilters:true,init:function F(I){this._super(I)
	A.addWidgetCssClass(this,"filter-box-dialog")
	},_setTargetsFunc:function E(){this.vis.setTargets(this.changes.filterKeys)
	},toggleFields:function B(){if(this.cgbs.length!==0){this.forType.set("visible",true)
	}},_addChildren:function C(){var P=this,K=P.vis,Q=(K.isAMSelector instanceof Function)&&K.isAMSelector(),J=(K.isPanelSelector instanceof Function)&&K.isPanelSelector(),L=Q?mstrmojo.desc(17614,"Use <span>#</span> to replace objects in"):(J?mstrmojo.desc(19743,"Use <span>#</span> to select panels in"):mstrmojo.desc(16166,"Use <span>#</span> to filter data in")),M=[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-title-label",cssDisplay:"inline",allowHTML:true,text:L.replace("#",D.encodeHtmlString(K.title)),visible:true},P._createTruncatedList(),{scriptClass:"mstrmojo.ui.Pulldown",cssClass:"mstrmojo-for-type",cssDisplay:"inline-block",alias:"forType",value:0,visible:false,selectedIndex:0,isHostedWithin:true,enabled:false,items:[{n:mstrmojo.desc(11955,"for #").replace("#",(P.cgbs[0]||{}).n),v:false},{n:mstrmojo.desc(11956,"for All Data"),v:true}],onitemSelected:function(S){P.changes.forAllData=S.v
	},onenabledChange:function(){A.toggleClass(this.domNode,"disabled",!this.enabled)
	}}],I=K.parent.children||[],O,N={}
	for(O=I.length-1
	O>=0
	O--){P._addVis(I[O],N)
	}if(Q||J){var R=K.defn.tks.split(H)
	G.forEach(N,function(U,S){if(R.indexOf(S)>-1){U.v=true
	}})
	}this.addChildren(M)
	this.targetKeys=N
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.array","mstrmojo.string","mstrmojo.Button","mstrmojo.css","mstrmojo.hash","mstrmojo.Label","mstrmojo.Box","mstrmojo.ui.Pulldown","mstrmojo.ui.SearchablePulldown","mstrmojo.func")
	mstrmojo.requiresDescs(221,1442,2751,2891,11949,11950,11951,11942,13397,13398,14640,14648)
	var S=mstrmojo.array,X=mstrmojo.css,O=mstrmojo.hash,P=mstrmojo.func,D=mstrmojo.string,N=mstrmojo.Button.newWebButton,Q=mstrmojo.dom,W="mstrmojo-link-validation",R="mstrmojo-link-vt",G=function G(Y){if(Y.old){this.removedLinks.push(Y)
	}this.links.removeChildren(Y)
	},U=function U(){var w=this.dsMap,t=this.docModel,c=t.datasets,AA=function AA(j,x,a){var k={n:a||"",did:x||null,parent:j||null,lv:(j?j.lv+1:-1),children:[]}
	if(j){j.children.push(k)
	}return k
	},h=AA(),b,Z,Y,m,d,u,o,z,v,r,q,p,f,e,g,n,l
	O.forEach(c,function(a){if(t.isMDXDataset(a)){d=a.tables
	for(r=0,e=d.length
	r<e
	r++){u=d[r]
	b=AA(h,u.did,u.n)
	b.isMDX=true
	for(q=0,g=u.dimensions.length
	q<g
	q++){o=u.dimensions[q]
	Z=AA(b,o.did,o.n)
	for(p=0,n=o.hierarchies.length
	p<n
	p++){z=o.hierarchies[p]
	Y=AA(Z,z.did,z.n)
	for(f=0,l=z.att.length
	f<l
	f++){v=z.att[f]
	m=AA(Y,v.did,v.n)
	m.att=v
	w[u.did+":"+v.did]=m
	}}}}}else{b=AA(h,a.did,a.name)
	b.isMDX=false
	S.forEach(a.att,function(j){m=AA(b,j.did,j.n)
	m.att=j
	w[a.did+":"+j.did]=m
	})
	}})
	return h
	},B=function B(e,f){e=S.ensureArray(e)
	var d=this,c=this.attribute.did,g=this.docModel,a=this.datasetId,Z="\u001F",Y={success:function(j){var l=j.als,h=(g.als&&g.als.links)||{},k=d.dsTree
	S.forEach(e,function(u,o){var v={},m={},n=[],p={},t=c+" "+u,q=S.filter(l[o].ats,function(w){return !g.isInDataset(a,w.at,["att"])
	}),r=function r(w,x){if(!p[w]){p[w]={}
	}if(!p[w][x]){p[w][x]=true
	}}
	S.forEach(q,function(z){var w=z.at,x=z.fms
	v[w]=true
	if(x){S.forEach(x,function(AA){r(w,AA.fm)
	})
	}})
	O.keyarray(h).forEach(function(w){if(w===t){S.forEach(h[w],function(x){x=x.split(" ")
	v[x[0]]=true
	r(x[0],x[1])
	})
	}})
	if(O.keyarray(v).length>0){S.forEach(k.children,function(x){var w=function(z){var AA
	if(!z.att){return 
	}z=z.att
	if(v[z.did]){if(!m[z.n]){m[z.n]={}
	}if(!m[z.n][z.did]){m[z.n][z.did]=[]
	}m[z.n][z.did].push(x.n)
	AA=O.copy(z,AA)
	AA.dsId=x.did
	n.push(AA)
	}}
	if(x.isMDX){S.forEach(x.children,function(z){S.forEach(z.children,function(AA){S.forEach(AA.children,w)
	})
	})
	}else{S.forEach(x.children,w)
	}})
	}d.tgtAttrs[u]=n
	d.tgtForms[u]=p
	d.namesHash[u]=m
	})
	}},b={taskId:"validateDocumentLinks",msgID:g.mid,action:1,attributeList:c,attributeFormList:e.join(Z)}
	mstrApp.serverRequest(b,P.wrapMethods(Y,f))
	},F=function(b,d,Z,c){b.richTooltip=null
	if(!b.isSearching){var a=d&&d.scrollWidth>d.clientWidth
	Z=a?mstrmojo.desc(14648,"## from ###").replace("##",Z):""
	if(c){if(!a){Z=mstrmojo.desc(14640,"From ###")
	}Z=Z.replace("###",c)
	}var Y=mstrmojo.dom.position(d)
	b.richTooltip={cssClass:"vi-regular vi-tooltip-V",contentNodeCssClass:"regular-unitlist-tooltips",posType:mstrmojo.tooltip.POS_BOTTOMLEFT,content:Z,top:Y.y-6,left:Y.x}
	}},E=function E(f){var g=this,j=function(q){var o=q.fs,r=q.de,p=[]
	(o||[]).forEach(function(t){if(t.obf&&(!r||t.idf)){p.push({n:t.fnm,v:t.fid,idf:t.idf})
	}})
	return p
	},k=j(this.attribute),c=function(r,p){var o=j(r)
	var t=(g.tgtForms[p]&&g.tgtForms[p][r.did])||{}
	var q=[]
	S.forEach(o,function(u){if(t[u.v]){q.push(u)
	}})
	return q
	},e=function e(p){var o=[]
	S.forEach(g.tgtAttrs[p],function(q){if(c(q,p||g.idFormId).length>0){var t=g.namesHash[p],r=q.n
	if(t[q.n]&&O.keyarray(t[q.n]).length>1){r=r+" ("+t[q.n][q.did].join(",")+")"
	}o.push({n:q.n,v:q,tt:r})
	}})
	if(o.length===0){o.push({n:mstrmojo.desc(13398,"No valid object"),v:{did:null},cls:"nvo",t:1})
	}return o
	},l=e((f&&f.srcFormId)||this.idFormId),m=function(o,p){return S.find(o,p?"v":"idf",p||true)
	},n=function(p){var o=-1
	l.forEach(function(r,q){if(r.v.did===p){o=q
	}})
	return o
	},Z=function(p){var o=l[p]
	if(!o){return mstrmojo.desc(13397,"Select an attribute")
	}else{return o.n
	}},a=function(p){var q=p.items,o=p.selectedIndex
	if(o>=0){if(q[o].idf){return 
	}}q.forEach(function(t,r){if(t.idf){p.set("selectedIndex",r)
	}})
	}
	this.links.addChildren({scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-linkRow",slot:"containerNode",old:!!f,oldMeta:f,getMeta:function(){var o=this.linkFromForm,q=this.linkToAtt,p=this.linkToForm
	return{srcAttrId:g.attribute.did,srcFormId:o.items[o.selectedIndex].v,tgtAttrId:q.items[q.selectedIndex]&&q.items[q.selectedIndex].v.did,tgtFormId:p.items[p.selectedIndex]&&p.items[p.selectedIndex].v}
	},children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-attName",text:g.attribute.n,useRichTooltip:true,updateTooltipConfig:function(t){var r=t.target,o=D.encodeHtmlString(this.text),p=g.datasetId,q=p?D.encodeHtmlString(g.docModel.datasets[p].name):""
	F(this,r,o,q)
	}},{scriptClass:"mstrmojo.ui.Pulldown",cssClass:"mstrmojo-linkFormFromPD",alias:"linkFromForm",value:"ID",isHostedWithin:true,items:k,selectedIndex:m(k,f&&f.srcFormId),onitemSelected:function(p){var o=this,q=function(){var t=o.parent.linkToAtt
	l=e(p.v)
	t.set("items",l)
	t.set("selectedIndex",-1)
	t.set("text",mstrmojo.desc(13397,"Select an attribute"))
	X.addClass(t.selectedNode,"nvo")
	},r={success:q}
	if(this.hasRendered){if(this.parent.old){this.parent.oldUpdated=true
	}if(!p.idf){a(this.parent.linkToForm)
	if(!g.tgtForms[p.v]){B.call(g,p.v,r)
	return 
	}}q()
	}}},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-linksToLabel",text:mstrmojo.desc(11949,"links to")},{scriptClass:"mstrmojo.ui.SearchablePulldown",cssClass:"mstrmojo-linkToAtt",alias:"linkToAtt",useRichTooltip:true,isHostedWithin:false,items:l,text:Z(n(f&&f.tgtAttrId)),selectedIndex:n(f&&f.tgtAttrId),allowCustomText:true,allowEmptyText:true,allowHTML:false,updateTooltipConfig:function(u){var t=u.target,o=t.getAttribute("tt"),q=this.getSelectedItem(),p=q?q.v.dsId:null,r=p?D.encodeHtmlString(g.docModel.datasets[p].name):""
	if(this.selectedNode===t&&q){o=q.tt
	}F(this,t,D.encodeHtmlString(o),r)
	},onitemSelected:function(t){if(!t||t.v.did===null){return 
	}var r=this.parent.linkToForm,q=this.parent.linkFromForm,p=c(t.v,q.items[q.selectedIndex].v),u=function u(v,x){var w=S.find(v,x?"v":"idf",x||true)
	if(w===-1&&v.length>0){w=0
	}return w
	},o
	S.forEach(p,function(v){if(v.idf){o=false
	return false
	}})
	if(o){L.call(g,true)
	}r.set("items",p)
	r.set("selectedIndex",u(p,!this.hasRendered&&f&&f.tgtFormId))
	if(this.hasRendered&&this.parent.old){this.parent.oldUpdated=true
	}K.call(g)
	},onPopupWidgetOpened:function d(){if(this.selectedIndex===-1){this.set("text","")
	}X.removeClass(this.selectedNode,"nvo")
	},onPopupWidgetClosed:function h(){mstrmojo.ui.SearchablePulldown.prototype.onPopupWidgetClosed.call(this)
	if(this.selectedIndex===-1&&this.text===""){this.set("text",mstrmojo.desc(13397,"Select an attribute"))
	X.addClass(this.selectedNode,"nvo")
	}else{X.removeClass(this.selectedNode,"nvo")
	}this.hideTooltip()
	S.forEach(g.collapseTargets,function(o){o.className="arrow-b"
	X.removeClass(o.parentNode.parentNode,"collapse")
	})
	S.forEach(g.collapseTreeNodes,function(o){delete o.collapse
	})
	S.forEach((this.list.itemsContainerNode||{}).childNodes,function(o){o.style.display=""
	})
	},postBuildRendering:function Y(){mstrmojo.ui.SearchablePulldown.prototype.postBuildRendering.call(this)
	if(this.selectedIndex===-1){X.addClass(this.selectedNode,"nvo")
	}this.list.popupConfig.clear()
	},getPopupListConfig:function b(){return{scriptClass:"mstrmojo.ui.PopupList",alias:"list",width:"170px",tooltipOrientation:"vertical",selectionPolicy:"reselect",useRichTooltip:true,allowHTML:false,locksHover:true,listHooks:{select:function o(v,w,u){this.parent.set("selectedIndex",u)
	this.close()
	}},onclick:function p(AD){try{var v=AD.getTarget(),AE=this.getItemFromTarget(v),AA=Q.findAncestorByAttr(v,"idx",true,this.domNode),z=this.items
	if(z){this.parent.set("items",z)
	}if(AE){AD.cancel()
	if(v.className==="arrow-b"||v.className==="arrow-r"){var u=this.itemsContainerNode.childNodes,x=function x(AG){var AF
	while(AG){AF=AG.className||""
	if(AF.indexOf("lv")===0){return window.parseInt(AF.substring(2),10)
	}AG=AG.firstChild
	}return null
	},AC=function AC(AF,AI){var AH=g.dsMap,AG=AH[AF.dsId+":"+AF.did]
	while(AG){if(AG.lv===AI){return AG
	}AG=AG.parent
	}return null
	},AB=function AB(){var AO=(v.className==="arrow-b"),AI=v.parentNode.parentNode,AF=x(AI),AJ=AE._renderIdx,AG=AC(AE.v,AF),AM=z.length,AL,AH,AK,AN,AQ,AP
	v.className=AO?"arrow-r":"arrow-b"
	if(!g.collapseTargets){g.collapseTargets=[]
	}g.collapseTargets.push(v)
	X.toggleClass(AI,"collapse",AO)
	AG.collapse=AO
	if(!g.collapseTreeNodes){g.collapseTreeNodes=[]
	}g.collapseTreeNodes.push(AG)
	for(AL=AJ+1
	AL<AM
	AL++){AH=u[AL]
	AK=x(AH)
	if(AK<=AF){break
	}AN=AC(z[AL].v,AK)
	AQ=AN.parent
	AP=true
	while(AQ){if(AQ.collapse){AP=false
	break
	}AQ=AQ.parent
	}AH.style.display=(AP?"":"none")
	}}
	AB()
	}else{if(AA&&AA.node.className.indexOf("item")!==-1){this.doItemSelect(AE,AD||{})
	}}}}catch(w){mstrApp.onerror(w)
	}},getItemProps:function q(w,u){var v=mstrmojo._IsList.getItemProps.call(this,w,u)
	var x=w.cls
	if(x){v.addCls(x)
	}return v
	},getItemMarkup:function t(AG,AF){if(AG.v.did===null){return'<{@tag} class="item {@cls}" did="'+AG.v.did+'" idx="{@idx}" style="{@style}">{@n}</{@tag}>'
	}var AH=[],AD=AG.v.did,x=AG.v.dsId,z=x?g.docModel.datasets[x]:null,w=z?D.encodeHtmlString(z.name):"",AE=AF>0&&this.items[AF-1].v,AB=g.dsMap,AA=AB[AG.v.dsId+":"+AD],v=AB[(AE&&(AE.dsId+":"+AE.did))]
	AH.push("</div>")
	while(AA){if(AA.lv===-1){break
	}if(AA.att){var AC=AA.att.da?"derived-attr":"attr"
	AH.push('<div class="lv'+AA.lv+' dim item {@cls}" tt="'+AG.tt+'" did="'+AD+'" dsName="'+w+'" idx="{@idx}" style="{@style}"><div><div class="'+AC+'"></div></div>{@en@n}</div>')
	}else{if(AA!==v){var u=D.encodeHtmlString(AA.n)
	AH.push('<div class="lv'+AA.lv+' dim" dtt="'+u+'" idx="{@idx}"><div><div class="arrow-b"></div></div>'+u+"</div>")
	}else{break
	}}AA=AA.parent
	v=(v&&v.parent)||null
	}AH.push("<div>")
	return AH.reverse().join("")
	},updateTooltipConfig:function r(AA){var z=AA.target,w=z.getAttribute("tt"),v=z.getAttribute("dtt"),x=z.getAttribute("dsName"),u=w||v
	if(u){F(this,z,D.encodeHtmlString(u),x)
	}}}
	}},{scriptClass:"mstrmojo.ui.Pulldown",cssClass:"mstrmojo-linkFormToPD",alias:"linkToForm",value:"ID",isHostedWithin:true,items:[],onitemSelected:function(o){if(this.hasRendered){if(this.parent.old){this.parent.oldUpdated=true
	}if(!o.idf){a(this.parent.linkFromForm)
	}}}},N("",function(){G.call(g,this.parent)
	},false,{cssClass:"mstrmojo-removeLink"})]})
	this.links.renderChildren()
	},L=function(Y){X.toggleClass(this.editorNode,"mstrmojo-advanced",Y)
	},M=function(b){var Z=this,c=W,Y
	try{mstrmojo.all[c].destroy()
	}catch(a){}Y={scriptClass:"mstrmojo.Editor",id:c,title:mstrmojo.desc(2751,"Message"),cssClass:"mstrmojo-alert",buttons:[N(mstrmojo.desc(1442,"Ok"),function(){mstrmojo.all[c].destroy()
	I.call(Z)
	},true)],children:[{scriptClass:"mstrmojo.Label",text:b}],visible:true,zIndex:1000}
	mstrmojo.insert(Y).render()
	},I=function(){var a=this,Z=this.illLinks,Y=this.links.children,b=R
	S.forEach(Z,function(c){c=c.al
	S.forEach(Y||[],function(e){var g=e.getMeta(),h=e.linkToAtt,d,f
	if(g.srcAttrId===c.alaid1&&g.tgtAttrId===c.alaid2){if(!mstrmojo.all[b]){f=new mstrmojo.Tooltip({id:b,cssClass:a.themeClassName+" vi-warning vi-tooltip-V",contentNodeCssClass:"regular-unitlist-tooltips",posType:mstrmojo.tooltip.POS_BOTTOMLEFT,updatePopupConfig:null})
	Q.attachEvent(a.editorNode,"click",function(){f.close()
	X.toggleClass(h.selectedNode,"mstrmojo-Warning",false)
	})
	}else{f=mstrmojo.all[b]
	}f.close()
	d=mstrmojo.dom.position(h.selectedNode)
	f.set("top",d.y-6)
	f.set("left",d.x)
	f.set("content",c.alstmsg)
	X.toggleClass(h.selectedNode,"mstrmojo-Warning",true)
	f.open()
	return false
	}})
	})
	},A=function(){var Y=mstrmojo.all[R]
	if(Y){Y.close()
	}},K=function K(){this.buttons[0].enabled=true
	if(this.btnHbox){this.btnHbox.children[0].set("enabled",true)
	}},H=function H(){var Y=this,Z=[{scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-toolBox",alias:"tools",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebHoverButton mstrmojo-addLink",text:mstrmojo.desc(11950,"Add A Link"),title:mstrmojo.desc(11950,"Add A Link"),onclick:function(){E.call(Y)
	A.call(Y)
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebHoverButton mstrmojo-showForms",text:mstrmojo.desc(2891,"Show Attribute Forms"),title:mstrmojo.desc(2891,"Show Attribute Forms"),onclick:function(){L.call(Y,true)
	A.call(Y)
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebHoverButton mstrmojo-hideForms",text:mstrmojo.desc(11951,"Hide Attribute Forms"),title:mstrmojo.desc(11951,"Hide Attribute Forms"),onclick:function(){L.call(Y,false)
	A.call(Y)
	}}],slot:"containerNode"},{scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-linksBox mstrmojo-advanced",alias:"links",slot:"containerNode"}]
	this.addChildren(Z)
	}
	mstrmojo.vi.ui.editors.AttributeLinkEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.vi.ui.editors.AttributeLinkEditor",title:mstrmojo.desc(11942,"Link Attributes"),cssClass:"mstrmojo-att-link",btnAlignment:"right",buttons:null,modal:true,visible:false,help:"link_attributes_editor.htm",attribute:null,tgtAttrs:null,tgtForms:null,docModel:null,datasetId:null,namesHash:null,removedLinks:null,preBuildRendering:function C(){var b=this,Z=this.docModel,a=function(){var c=(Z.als&&Z.als.links)||{},d=[]
	O.keyarray(c).forEach(function(e){if(e.indexOf(b.attribute.did+" ")===0){c[e].forEach(function(f){d.push({srcAttrId:e.split(" ")[0],srcFormId:e.split(" ")[1],tgtAttrId:f.split(" ")[0],tgtFormId:f.split(" ")[1]})
	})
	}})
	return d
	},Y
	this.set("buttons",[N(mstrmojo.desc(1442,"OK"),function(){var k=[],d=b.links.children,c=function(){var l=Z.controller,m=Z.controller.getRefreshCallback()
	if(k.length>0){l.cmdMgr.execute({execute:function(){this.submit(k,m,{style:{params:{treesToRender:3}}})
	},urInfo:{callback:m}})
	}b.close()
	},j=false,f,g
	b.removedLinks.forEach(function(l){f=O.copy(l.oldMeta,{act:"applyAttributeLinking",unlink:true})
	k.push(f)
	})
	(d||[]).forEach(function(l){if(l.old&&l.oldUpdated){f=O.copy(l.oldMeta,{act:"applyAttributeLinking",unlink:true})
	k.push(f)
	}if(!l.old||(l.old&&l.oldUpdated)){g=l.getMeta()
	if(!g.tgtAttrId){return 
	}f=O.copy(g,{act:"applyAttributeLinking",unlink:false})
	k.push(f)
	}})
	S.forEach(k,function(l){if(!l.unlink){j=true
	return false
	}})
	if(!j){c()
	return 
	}var h={taskId:"validateDocumentLinks",msgID:Z.mid,action:2,manipulationList:'{"ml":'+JSON.stringify(k)+"}"},e={success:function(l){if(l.als&&l.als.length>0){var m=""
	S.forEach(l.als,function(n){m+=n.al.alstmsg+"\n"
	})
	b.illLinks=l.als
	M.call(b,m)
	return 
	}c()
	}}
	mstrApp.serverRequest(h,e)
	},true,{enabled:false}),N(mstrmojo.desc(221,"Cancel"),function(){b.close()
	})])
	H.call(this)
	Y=a(this.attribute.did)
	if(Y.length>0){Y.forEach(function(c){E.call(b,c)
	})
	K.call(this)
	}else{E.call(this)
	}this._super()
	},close:function J(){A.call(this)
	this.destroy()
	}})
	mstrmojo.vi.ui.editors.AttributeLinkEditor.open=function(e){var Z=mstrmojo.insert(O.copy(e,{scriptClass:"mstrmojo.vi.ui.editors.AttributeLinkEditor",tgtAttrs:{},tgtForms:{},namesHash:{},removedLinks:[]})),c=Z.attribute,f=c.did,Y=Z.docModel,b=(Y.als&&Y.als.links)||{},a=[],d={success:function(){Z.set("visible",true)
	Z.render()
	}}
	S.forEach(c.fs,function(g){if(g.idf){Z.idFormId=g.fid
	return false
	}})
	O.keyarray(b).forEach(function(h){var g=h.split(" ")
	if(g[0]===f){a.push(g[1])
	}})
	if(S.indexOf(a,Z.idFormId)===-1){a.push(Z.idFormId)
	}Z.dsMap={}
	Z.dsTree=U.call(Z)
	B.call(Z,a,d)
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.dom","mstrmojo.func","mstrmojo.hash","mstrmojo.ui.PopupButton","mstrmojo.ui.PulldownCheckList")
	var J=mstrmojo.css,H=mstrmojo.dom,A=mstrmojo.func,F=mstrmojo.hash,G={0:true}
	function D(){var S=this.selectedIndices=F.copy(this.getPopupList().selectedIndices),O=this.items,R=[],Q=this.allIdx,P=this.noneIdx
	if(O){if(S[Q]){R.push(O[Q].n)
	}else{if(S[P]){R.push(O[P].n)
	}else{mstrmojo.array.forEach(O,function(W,U){if(S[U]){R.push(W.n)
	}})
	}}}this.set("value",R.join(", "))
	}mstrmojo.ui.MultiSelectPulldown=mstrmojo.declare(mstrmojo.ui.PopupButton,[mstrmojo.ui._IsPulldown],{scriptClass:"mstrmojo.ui.MultiSelectPulldown",isHostedWithin:false,popupWidget:undefined,init:function N(O){this._super(O)
	J.addWidgetCssClass(this,"multi")
	this.hostedCSSClass=this.hostedCSSClass+" multi"
	},postBuildRendering:function B(){this.popupWidget.itemCssText=this.itemCssText
	this._super()
	},submitSelections:function C(){D.call(this)
	this.onchange()
	if(this.makeSelection){this.makeSelection({selItem:this.domNode})
	}},_set_selectedIndices:function I(Q,O){var P=this.selectedIndices=F.copy(O||this.selectedIndices||G)
	this.getPopupList().set("selectedIndices",P)
	D.call(this)
	return true
	},onclick:function K(O){var R=this.popupWidget.list
	if(R&&R.items&&R.items.length>0){this._super(O)
	var Q=this,P=Q.getPopupWidget()
	Q.mw=Q.mw||function(S){if(!H.contains(P.domNode,H.eventTarget(self,S),true,document.body)){P.close()
	}}
	if(!P.onCloseFuncWrapped){P.onClose=A.composite([P.onClose,function(){H.detachEvent(document,H.isFF?"DOMMouseScroll":"mousewheel",Q.mw)
	}])
	P.onCloseFuncWrapped=true
	}H.attachEvent(document,H.isFF?"DOMMouseScroll":"mousewheel",Q.mw)
	P.domNode.focus()
	}},select:function L(O){this.getPopupList().select(O)
	},getPopupWidget:function E(){return this.popupWidget
	},getPopupList:function M(){return this.popupWidget.list
	},children:[{scriptClass:"mstrmojo.ui.PulldownCheckList",alias:"popupWidget",useRichTooltip:true,showTooltipForLargeText:true}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.Label","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.ui.PulldownCheckList")
	var G=mstrmojo.array,A=mstrmojo.hash,D=mstrmojo.mstr.EnumDSSXMLObjectTypes.Dimension
	mstrmojo.ui.SearchablePulldownCheckList=mstrmojo.declare(mstrmojo.ui.PulldownCheckList,null,{scriptClass:"mstrmojo.ui.SearchablePulldownCheckList",_changeList:null,useRichTooltip:true,showTooltipForLargeText:true,children:[{scriptClass:"mstrmojo.Label",alias:"noResults",cssClass:"nores",text:mstrmojo.desc(15559,"No result matches your search.")}].concat(mstrmojo.ui.PulldownCheckList.prototype.children),onOpen:function B(){var L=this.parent
	if(this._super){this._super()
	}this._changeList=A.copy(L.selectedIndices)
	},onClose:function I(L){if(this._super){this._super(L)
	}this._changeList=null
	},showTooltip:function J(L,N){var M=L.target||mstrmojo.dom.eventTarget(L.hWin,L.e)
	M=this.getItemNodeFromTarget(M)
	if(M){L=A.copy(L)
	L.srcElement=M
	}this._super(L,N)
	},saveSelection:function C(){this.toggleCacheMode(true)
	this.parent.set("selectedIndices",A.copy(this._changeList))
	this.toggleCacheMode(false)
	},getChanges:function F(){return this._changeList
	},onclearSelection:function(){var Q=this.list,O=this._changeList,M=Q.selectedIndices,P=this.parent.items,N=Q.items,L
	if(A.isEmpty(M)){M={}
	A.forEach(O,function(S,R){if(S){L=G.find(N,"v",P[R].v)
	if(L>=0){M[L]=O[R]
	}}})
	Q.selectedIndices=M
	}},onvisibleChange:function(){this.list.set("visible",this.visible)
	},postselectionChange:function E(X){if(this._restoreSelection){delete this._restoreSelection
	return 
	}if(this._super){this._super(X)
	}var P=this.parent.items,R=this.list.items,O=(P.length===R.length),S=X.added||[],N=X.removed||[],W=this._changeList,L=this.parent.allIdx,Q=R[L],U,M=function(){G.forEach(S,function(Y){U=G.find(P,"v",R[Y].v)
	W[U]=true
	})
	G.forEach(N,function(Y){U=G.find(P,"v",R[Y].v)
	delete W[U]
	})
	}
	if(!W){return 
	}if(Q&&(Q.t===D)){if(L===S[0]){G.forEach(R,function(Y){if(Y.t!==D||O){U=G.find(P,"v",Y.v)
	if(U!==-1&&!W[U]){W[U]=true
	}}})
	return 
	}if(L===N[0]){G.forEach(R,function(Y){U=G.find(P,"v",Y.v)
	if(U!==-1&&W[U]){delete W[U]
	}})
	return 
	}}if(W[L]){delete W[L]
	}M()
	},onitemsChange:function K(){var L=this.list.items
	this.noResults.set("visible",L&&L.length===0)
	},toggleCacheMode:function H(L){this._restoreSelection=L
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.array","mstrmojo.num","mstrmojo.dom","mstrmojo.date","mstrmojo.Container","mstrmojo.VBox","mstrmojo.Button","mstrmojo.locales","mstrmojo._FormatDefinition","mstrmojo.mstr.EnumFunction","mstrmojo.ui.editors.controls.ComboBox","mstrmojo.vi.util.NumberFormatUtility")
	var M=mstrmojo.hash,d=mstrmojo.array,G=mstrmojo.num,J=mstrmojo._FormatDefinition,B=mstrmojo.css,b=mstrmojo.mstr.EnumFunction,L=mstrmojo.locales,H=mstrmojo.Button.newIconButton,O=mstrmojo.date,I=mstrmojo.vi.util.NumberFormatUtility,u="1234.12",E=J.NumberFormatCategory,r=J.FixedNegative,F=J.CurrencyNegative,g=J.PercentNegative,K=J.DefaultFormat.FormattingNumber,p="nf-MiddleRow ",Y="nf-MiddleRow nf-HasWidget ",a,U,f=function f(w,v){return{cls:this.value===w.v?"selected":"",v:w.v||"",n:w.n||"",style:w.r?"color:red
	":"color:#fff
	",sel:parseInt(this.idx,10)===v?"selected":""}
	},q={RIGHT:1,LEFT_WITH_SPACE:2,RIGHT_WITH_SPACE:3}
	var S=[{n:mstrmojo.desc(4531,"Automatic"),v:-3}].concat(J.Category.slice(2)),e=[{n:"$"},{n:"£"},{n:"€"},{n:"¥"},{n:"fr."}]
	function D(x,w){var v=d.find(x,"v",w)
	return v===-1?"":x[v].f
	}function N(v){var x=this.parent.parent.parent.myData,w=v.v
	x.set("format",D(this.items,w))
	x.set("negativeNumbers",w)
	B.toggleClass(this.selectedNode,"red",v.r)
	}function Z(x,z,v){return{scriptClass:"mstrmojo.ui.Pulldown",isHostedWithin:false,items:x,onitemSelected:function w(AA){var AB=this.parent
	while(AB&&(!AB.data||typeof AB.data[z]==="undefined")){AB=AB.parent
	}if(AB){AB.data.set(z,AA.v)
	if(v){AB.children[0].preview.preview_label.set("text",AA.n)
	}}}}
	}function k(AG,AB,AA,AJ,AF){var AI=M.clone(AG),w=AB>0?L.number.DECIMALSEPARATOR:"",x=AB>0?".":"",z=J.DefaultFormat.FormattingNumber,AH=new RegExp("\\"+L.number.THOUSANDSEPARATOR,"g"),v=new RegExp("\\"+L.number.DECIMALSEPARATOR+"\\d{2}","g"),AD
	for(AD=0
	AD<AB
	AD++){w+=AD%9
	x+="0"
	}for(AD=0
	AD<AI.length
	AD++){var AE=AI[AD]
	AE.n=AE.n.replace(/,/g,"@")
	AE.n=AE.n.replace(/\./g,L.number.DECIMALSEPARATOR)
	AE.n=AE.n.replace(/@/g,L.number.THOUSANDSEPARATOR)
	if(AA){AE.n=AE.n.replace(AH,"")
	AE.f=AE.f.replace(/,/g,"")
	}if(AJ&&AJ!==z.CurrencyPosition){switch(AJ){case q.RIGHT:AE.n=AE.n.replace(/\$/g,"").replace(v,L.number.DECIMALSEPARATOR+"12$")
	AE.f=AE.f.replace(/"\$"/g,"").replace(/\.\d{2}/g,'.00"$"')
	break
	case q.LEFT_WITH_SPACE:AE.n=AE.n.replace(/\$/g,"$ ")
	AE.f=AE.f.replace(/\$/g,"$ ")
	break
	case q.RIGHT_WITH_SPACE:AE.n=AE.n.replace(/\$/g,"").replace(v,L.number.DECIMALSEPARATOR+"12 $")
	AE.f=AE.f.replace(/"\$"/g,"").replace(/\.\d{2}/g,'.00" $"')
	break
	default:}}AE.n=AE.n.replace(v,w)
	AE.f=AE.f.replace(/\.\d{2}/g,x)
	if(AF&&AF!==z.CurrencySymbol){var AC=AF.replace(/\$/g,"$$$$")
	AE.n=AE.n.replace(/\$/g,AC)
	AE.f=AE.f.replace(/\$/g,AC)
	}AE.cls=AE.r?"red":null
	}return AI
	}function W(z){var w="1"+(z>0?".":"").toString(),AA="0"+(z>0?".":"").toString(),x
	for(x=0
	x<z
	x++){w+=x%10
	AA+="0"
	}return[w+"E+03",AA+"E+0#"]
	}function R(AJ,AL){var AD="\u00A4",AH=/"[^"]*"/g,x=AJ.match(AH),AM="\u0091",AI=/\[[^\]]*\]/g,v=AJ.match(AI),AG,AK
	AG=AJ.replace(AH,AD)
	AG=AG.replace(AI,AM)
	var AA=AJ.indexOf("."),AF=G.getDecimalLength(AJ),AC=Math.max(0,AF+AL),z=AJ.match(/\d(?!((\d)|(,\d)))/g),w=AA!==-1?AJ.charAt(AA-1):z&&z[0],AE=(w||"0")+(AC>0?".":"").toString()
	for(var AB=0
	AB<AC
	AB++){AE+="0"
	}AG=AG.replace(AF===0?/\d(?!((\d)|(,\d)))/g:/\d\.\d+/g,AE)
	AG=AG.split(AD)
	AK=AG[0]
	d.forEach(x,function(AO,AN){AK+=AO+AG[AN+1]
	})
	AG=AK.split(AM)
	AK=AG[0]
	d.forEach(v,function(AO,AN){AK+=AO+AG[AN+1]
	})
	return AK
	}function P(AD,v,AC,AB,x,w){var AA=AD.parent.parent.parent,z=k(v,AC.decimalPlaces,AB,x,w)
	AC.set("format",D(z,AC.negativeNumbers.toString()))
	AD.set("items",z)
	AD.set("selectedIndex",d.find(z,"v",AC.negativeNumbers.toString()))
	AA.preview.preview_label.set("text",I.applyFormatToNumber(AA.myData.format,u.replace(/\./g,L.number.DECIMALSEPARATOR)))
	}function n(){var AE=this.parent.parent,AI=AE.myData,z=AE.formatterContainer,w=S[AE.categoryPicker.selectedIndex].v,AL=this.funcType===b.FunctionLeftStr?1:-1,AB=null,AD=null,AA=false,AK=0,AF=null,x=false,AH
	switch(w){case E.Fixed:AB=z.fixed_hBox.negativeDDL
	AD=r
	AA=!AI.thousandSeparator
	break
	case E.Currency:AB=z.currency_hBox2.negativeDDL
	AD=F
	AK=AI.currencyPosition
	AF=AI.currencySymbol
	break
	case E.Percentage:AB=z.percentage_hBox.negativeDDL
	AD=g
	break
	case E.Scientific:x=true
	break
	case E.Custom:AH=true
	break
	default:return 
	}if(AH){var AJ=R(AI.format,AL)
	AE.preview.preview_label.set("text",I.applyFormatToNumber(AJ,u.replace(".",L.number.DECIMALSEPARATOR)))
	AE.formatterContainer.custom_text.set("value",AJ)
	return 
	}var AC=AI.decimalPlaces,v=AC+AL
	v=Math.max(0,v)
	v=Math.min(J.MaxNegativeDidigts,v)
	AI.set("decimalPlaces",v)
	if(x){var AG=W(v)
	AI.set("format",AG[1])
	AE.preview.preview_label.set("text",AG[0])
	}else{P(AB,AD,AI,AA,AK,AF)
	}}function t(v,w){return Math.max(d.find(v,"v",w),0)
	}function C(x){var w=this.parent.parent.categoryPicker,v=S.map(function(z){return z.v
	}).indexOf(x)
	w.set("selectedIndex",v)
	}function o(v,w,z,x){return H(undefined,v,w,undefined,M.copy(x,{useRichTooltip:true,updateTooltipConfig:function(){this.richTooltip={cssClass:"vi-regular vi-tooltip-A A-center",content:z,refNode:this.domNode,posType:mstrmojo.tooltip.POS_TOPCENTER,left:15,top:33}
	}}))
	}function c(){var x=mstrApp.isSingleTier&&!mstrmojo.dom.isMac()
	if(x||mstrApp.isVI){var z=this.formatterContainer,AE=L.datetime,AC={day:16,month:4,year:2020},AB={hour:9,min:41,sec:46},w=AE&&AE.DATEINPUTFORMATS,AA=AE&&AE.TIMEINPUTFORMATS,AD={}
	a=[]
	U=[]
	w.forEach(function(AF){AD[AF.toLowerCase()]=1
	a.push({v:AF,n:O.formatDateInfo(AC,AF)})
	})
	AA.forEach(function(AF){U.push({v:AF,n:O.formatTimeInfo(AB,AF)})
	})
	if(x){z.date_ddl.set("items",a)
	z.time_ddl.set("items",U)
	}else{U=J.Time
	var v=J.Date.filter(function(AF){return !AD[AF.v&&AF.v.toLowerCase()]
	})
	a=a.concat(v)
	z.date_ddl.set("items",a)
	z.time_ddl.set("items",U)
	}}else{a=J.Date
	U=J.Time
	}}mstrmojo.vi.ui.NumberFormatter=mstrmojo.declare(mstrmojo.VBox,null,{scriptClass:"mstrmojo.vi.ui.NumberFormatter",cssClass:"NumberFormatter-content",formatValue:null,myData:null,oldData:null,categoryPicker:null,formatterContainer:null,preview:null,shortcutRow:null,adjustAfterCategoryChange:mstrmojo.emptyFn,preBuildRendering:function(){if(this._super){this._super()
	}c.call(this)
	var v=this.formatterContainer
	if(this.formatValue){v.currency_hBox1.currency_symbol.selectedValue=this.formatValue.currencySymbol
	v.fixed_btn.checked=!!this.formatValue.thousandSeparator
	B.addWidgetCssClass(v.fraction_ddl,g[d.find(g,"v",this.formatValue.negativeNumbers)].r?" red":"")
	}},postBuildRendering:function Q(){if(this._super){this._super()
	}if(this.formatValue){this.categoryPicker.set("selectedIndex",t(this.categoryPicker.items,this.formatValue.category.toString()))
	}},children:[M.copy({alias:"categoryPicker",cssClass:"nf-category",onitemSelected:function m(AJ){if(!this.hasRendered){return 
	}var AE=this,AH=AE.parent,z=AH.formatterContainer,v=AH.shortcutRow,AI=AH.preview.preview_label,AG=AJ.v,AB=AG===E.Automatic,x=AG===E.Scientific,w=[],AD=AH.myData
	d.forEach(z.children,function(AK){AK.set("visible",false)
	})
	AH.border.set("visible",!AB)
	AH.preview.set("visible",!AB)
	AH.borderBottom.set("visible",!(!mstrApp.isWSStyling||AB||x))
	["border","moveLeftBtn","moveRightBtn"].forEach(function(AK){v[AK].set("visible",!AB)
	})
	AD.set("category",AG)
	AD.set("thousandSeparator",AG?K.ThousandSeparator:AH.formatValue.thousandSeparator)
	switch(AG){case E.Currency:P(z.currency_hBox2.negativeDDL,F,AD,false,AD.currencyPosition,AD.currencySymbol)
	z.currency_hBox1.currency_position.set("selectedIndex",t(J.CurrencyPosition,AD.currencyPosition.toString()))
	w=["currency_hBox1","currency_hBox2"]
	break
	case E.Date:z.date_ddl.set("selectedIndex",t(a,AD.format))
	w=["date_ddl"]
	break
	case E.Time:z.time_ddl.set("selectedIndex",t(U,AD.format))
	w=["time_ddl"]
	break
	case E.Percentage:P(z.percentage_hBox.negativeDDL,g,AD,false,0,null)
	w=["percentage_hBox"]
	break
	case E.Fraction:z.fraction_ddl.set("selectedIndex",t(J.Fraction,AD.format))
	w=["fraction_ddl"]
	break
	case E.Scientific:var AC=W(AD.decimalPlaces||0)
	AD.set("format",AC[1])
	AI.set("text",AC[0])
	break
	case E.Custom:var AA=AD.customText||AD.format,AF=z.custom_text
	AD.set("format",AA)
	AF.value=AA
	AF.refresh()
	AI.set("text",I.applyFormatToNumber(AA,u.replace(".",L.number.DECIMALSEPARATOR)))
	w=["custom_condense","custom_text"]
	break
	case E.Fixed:P(z.fixed_hBox.negativeDDL,r,AD,!AD.thousandSeparator,0,null)
	w=["fixed_hBox","fixed_btn"]
	break
	}d.forEach(w,function(AK){z[AK].set("visible",true)
	})
	AH.adjustAfterCategoryChange()
	}},Z(S,"category")),{scriptClass:"mstrmojo.Box",cssClass:p+"nf-shortcut",alias:"shortcutRow",border:null,moveLeftBtn:null,moveRightBtn:null,children:[o("nf-shortcut-currency",function j(){C.call(this,E.Currency)
	},mstrmojo.desc(2051,"Currency"),undefined),o("nf-shortcut-percentage",function j(){C.call(this,E.Percentage)
	},mstrmojo.desc(2053,"Percentage"),undefined),o("nf-shortcut-fixed",function j(){C.call(this,E.Fixed)
	this.parent.parent.formatterContainer.fixed_btn.set("checked",true)
	},mstrmojo.desc(2050,"Fixed"),undefined),{scriptClass:"mstrmojo.Label",cssClass:"shortcut-border",alias:"border"},o("nf-MoveDecimalPoint left",function j(){n.call(this)
	},mstrmojo.desc(2189,"Increase Decimal"),{funcType:b.FunctionLeftStr,alias:"moveLeftBtn"}),o("nf-MoveDecimalPoint right",function j(){n.call(this)
	},mstrmojo.desc(2188,"Decrease Decimal"),{funcType:b.FunctionRightStr,alias:"moveRightBtn"})]},{scriptClass:"mstrmojo.Label",alias:"border",cssClass:"nf-border"},{scriptClass:"mstrmojo.Container",alias:"formatterContainer",cssClass:"nf-buttons",markupString:'<div id="{@id}" class="{@cssClass}" style="{@cssText}"></div>',fixed_hBox:null,fixed_btn:null,currency_hBox1:null,currency_hBox2:null,date_ddl:null,time_ddl:null,percentage_hBox:null,fraction_ddl:null,custom_condense:null,custom_text:null,markupSlots:{containerNode:function X(){return this.domNode
	}},children:[{scriptClass:"mstrmojo.HBox",alias:"fixed_hBox",cssClass:Y,negativeDDL:null,children:[{scriptClass:"mstrmojo.Label",cssClass:"negative-label",text:mstrmojo.desc(13891,"Negative:")},M.copy({alias:"negativeDDL",cssClass:"nf-NegativePullDown",getOptionProps:f,onitemSelected:function m(v){N.call(this,v)
	}},Z([],"format"))]},{scriptClass:"mstrmojo.CheckBox",alias:"fixed_btn",cssClass:p,label:"",onclick:function j(){var v=this.parent.parent
	v.myData.set("thousandSeparator",this.checked?-1:0)
	P(this.parent.fixed_hBox.negativeDDL,r,v.myData,!this.checked,0,null)
	},preBuildRendering:function A(){this.set("label",mstrmojo.desc(13898,"Use 1000 Separator(#)").replace("#",L.number.THOUSANDSEPARATOR))
	}},{scriptClass:"mstrmojo.HBox",alias:"currency_hBox1",cssClass:Y,visible:true,currency_symbol:null,currency_position:null,children:[{scriptClass:"mstrmojo.ui.editors.controls.ComboBox",alias:"currency_symbol",cssClass:"nf-CurrencySymbol",selectedValue:"$",items:e,postselectedValueChange:function l(v){var AA=this,z=AA.parent.parent.parent,x=v.value,w=z.myData
	w.set("currencySymbol",x)
	P(this.parent.parent.currency_hBox2.negativeDDL,F,w,false,parseInt(w.currencyPosition,10),x)
	}},M.copy({cssClass:"nf-CurrencyPosition align-right",alias:"currency_position",onitemSelected:function m(v){var z=this,x=z.parent.parent.parent,w=v.v
	x.myData.set("currencyPosition",parseInt(w,10))
	P(this.parent.parent.currency_hBox2.negativeDDL,F,x.myData,false,parseInt(w,10),x.myData.currencySymbol)
	}},Z(J.CurrencyPosition,"currencyPosition"))]},{scriptClass:"mstrmojo.HBox",alias:"currency_hBox2",cssClass:Y,negativeDDL:null,children:[{scriptClass:"mstrmojo.Label",cssClass:"negative-label",text:mstrmojo.desc(13891,"Negative:")},M.copy({alias:"negativeDDL",cssClass:"nf-NegativePullDown",getOptionProps:f,onitemSelected:function m(v){N.call(this,v)
	}},Z([],"format"))]},M.copy({alias:"date_ddl",cssClass:Y},Z(J.Date,"format",true)),M.copy({alias:"time_ddl",cssClass:Y},Z(J.Time,"format",true)),{scriptClass:"mstrmojo.HBox",alias:"percentage_hBox",cssClass:Y,negativeDDL:null,children:[{scriptClass:"mstrmojo.Label",cssClass:"negative-label",text:mstrmojo.desc(13891,"Negative:")},M.copy({alias:"negativeDDL",cssClass:"nf-NegativePullDown",getOptionProps:f,onitemSelected:function m(v){N.call(this,v)
	}},Z([],"format"))]},M.copy({alias:"fraction_ddl",cssClass:Y},Z(J.Fraction,"format",true)),mstrmojo.Button.newWebButton(mstrmojo.desc(13893,"Condense (e.g.10M)"),function(){this.parent.custom_text.set("value",'[>=1000000]#,##0,,"M"
	[>=1000]#,##0,"K"
	0
	[<=-1000000]#,##0,,"M"
	[<=-1000]#,##0,"K"')
	},false,{cssClass:"nf-condense",alias:"custom_condense"}),{scriptClass:"mstrmojo.TextBox",alias:"custom_text",cssClass:"nf-custom",onvalueChange:function h(){var x=this,w=x.parent.parent,v=x.value
	w.myData.set("format",v)
	w.myData.set("customText",v)
	x.parent.parent.preview.preview_label.set("text",I.applyFormatToNumber(v,u.replace(".",L.number.DECIMALSEPARATOR)).replace(/\s/g,"&nbsp
	"))
	}}]},{scriptClass:"mstrmojo.Label",alias:"borderBottom",cssClass:"nf-border"},{scriptClass:"mstrmojo.HBox",alias:"preview",cssClass:p+"nf-PreviewRow",preview_label:null,children:[{scriptClass:"mstrmojo.Label",cssClass:"preview_lable",text:mstrmojo.desc(13892,"Preview:")},{scriptClass:"mstrmojo.Label",cssClass:"align-right preview-info-label",alias:"preview_label"}]}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.ObjectBrowser")
	var F=mstrmojo.array
	var C=[257,1024,3072,12032]
	mstrmojo.vi.ui.editors.ObjectPicker=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.vi.ui.editors.ObjectPicker",cssClass:"mstrmojo-vi-ObjectPicker",zIndex:9,title:mstrmojo.desc(11496,"Select Object"),help:null,rootFolderID:null,rootFolderType:null,folderLinksContextId:4,supportedTypes:F.hash(C),item:null,OKFn:null,init:function(I){this._super(I)
	this.addChildren([{scriptClass:"mstrmojo.ObjectBrowser",alias:"ob",closeable:false,browsableTypes:"8,"+C.join(","),closeOnSelect:false,showCompletePath:false,searchVisible:!!this.searchVisible,scrollableIncFetch:true,bindings:{rootFolderID:"this.parent.rootFolderID",rootFolderType:"this.parent.rootFolderType",folderLinksContextId:"this.parent.folderLinksContextId",isImportFromCube:"this.parent.isImportFromCube",}},{scriptClass:"mstrmojo.HBox",slot:"buttonNode",alias:"btnHBox",cssClass:"mstrmojo-Editor-buttonBar",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton hot",text:mstrmojo.desc(1442,"OK"),onclick:function H(){var K=this.parent.parent
	this.parent.parent.close({item:K.item})
	var J=K.OKFn
	if(J){J(K.item)
	}K.set("item",null)
	},bindings:{enabled:function G(){return !!this.parent.parent.item
	}}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton",text:mstrmojo.desc(2399,"Cancel"),onclick:function H(){var J=this.parent.parent
	this.parent.parent.close()
	J.set("item",null)
	}}]}])
	},preBuildRendering:function A(){if(this._super){this._super()
	}this.ob.onSelectCB=[this,"onOBSelect"]
	},postBuildRendering:function B(){if(this._super){this._super()
	}this.browse()
	},onOBSelect:function D(G){this.set("item",((this.supportedTypes[G.t]||this.supportedTypes[G.st])?G:null))
	},browse:function E(){this.ob.browse()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.Button","mstrmojo.HTMLButton","mstrmojo.Label","mstrmojo.ValidationTextBox","mstrmojo.TextArea","mstrmojo.Table","mstrmojo.HBox","mstrmojo.Editor","mstrmojo.ObjectBrowser","mstrmojo.NewFolderEditor")
	var C=mstrmojo.func,F=mstrmojo.array
	function B(){var H={alias:"newFolder",scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-createfolder",text:mstrmojo.desc(3245,"Create New Folder"),onclick:function(){var J=this.parent.parent,I={zIndex:J.zIndex+10,navigateAfter:false,fId:J.ob.currentFolder.did,okFn:function(K,L){J.ob.refreshContent()
	if(L){J.ob.browseFolder(K.fid,J.newFolder)
	}}}
	if(J.ob.dataProvider){I.dp=J.ob.dataProvider
	}J.openPopup("newFolder",I)
	},postCreate:function(){this.set("visible",false)
	}},G=mstrmojo.hash.clone(mstrmojo.ObjectBrowser.prototype.children)
	G.push(H)
	return G
	}mstrmojo.SaveAsObjectBrowser=mstrmojo.declare(mstrmojo.ObjectBrowser,null,{scriptClass:"mstrmojo.SaveAsObjectBrowser",cssClass:"mstrmojo-SaveAs-OB",children:B(),getRecents:function(G){var H=this
	G.onClose=function(){if(H.recentFolders){this.removeChildren(this.recentLable)
	this.removeChildren(this.recentList)
	delete H.recentFolders
	}}
	this.getDataProvider().loadRecentSaveAsFolders({success:function(I){if(H.recentFolders){G.removeChildren(G.recentLable)
	G.removeChildren(G.recentList)
	delete H.recentFolders
	}if(I&&I!==""){H.recentFolders=H.getList(I.objects,G)
	G.addChildren(H.recentFolders)
	}},failure:function(I){mstrmojo.alert(I.message||I.getResponseHeader("X-MSTR-TaskFailureMsg"))
	},})
	},getList:function(H,G){var I=this
	return[{scriptClass:"mstrmojo.Label",alias:"recentLable",cssClass:"recentLabel",text:mstrmojo.desc(14354,"Recents")},{scriptClass:"mstrmojo.ui.List",alias:"recentList",items:H,cssClass:"recentList",onclick:function(J){var K=this.getItemFromTarget(J.getTarget())
	I.browseFolder(K.did,"")
	G.close()
	}}]
	}})
	var A={success:function(G){var H=this.parent
	if(H.onObjectSaved){H.onObjectSaved({name:H.name,did:G.did,desc:H.desc})
	}mstrmojo.alert(mstrmojo.desc(7987,"The ## '###' has been saved successfully.").replace("##",H.typeDesc||"Object").replace("###",H.name),null,mstrmojo.desc(7984,"Object Saved"))
	H.ob.refreshContent()
	H.close()
	},failure:function(H){var G=parseInt(H.getResponseHeader("X-MSTR-TaskErrorCode"),10)+4294967296,I=this.parent
	if(G===2147749923){mstrmojo.confirm(mstrmojo.desc(7986,"The ## '###' already exists. Do you want to replace the existing one?").replace("##",I&&I.typeDesc||"Object").replace("'###'",I&&I.name?'"'+I.name+'"':""),{confirmBtn:{fn:function(){I.saveAs(true)
	}}},{title:mstrmojo.desc(3179),zIndex:I&&I.zIndex+10})
	}else{mstrmojo.alert(mstrmojo.desc(7985,"Error while saving: ")+H.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}}}
	mstrmojo.SaveAsEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.SaveAsEditor",cssClass:"mstrmojo-SaveAsEditor",title:mstrmojo.desc(3167,"Save As"),sId:null,rootFolderID:null,rootFolderType:null,folderLinksContextId:null,browsableTypes:null,showCompletePath:true,desc:"",name:"",showCertify:false,certify:false,displaySaveLabel:true,searchVisible:true,upButtonVisible:true,focusOnOpen:true,useBrowserTab:true,children:[{scriptClass:"mstrmojo.SaveAsObjectBrowser",alias:"ob",closeable:false,closeOnSelect:false,fishEyeVisible:false,bindings:{showCompletePath:"this.parent.showCompletePath",rootFolderID:"this.parent.rootFolderID",rootFolderType:"this.parent.rootFolderType",folderLinksContextId:"this.parent.folderLinksContextId",browsableTypes:"this.parent.browsableTypes",displaySaveLabel:"this.parent.displaySaveLabel",searchVisible:"this.parent.searchVisible",upButtonVisible:"this.parent.upButtonVisible",sId:"this.parent.sId"},postCreate:function(){this.onSelectCB=[this.parent,"onOBSelect"]
	this.onBrowseFolder=[this.parent,"onOBBrowseFolder"]
	}},{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-Input-Panel",rows:2,cols:2,alias:"contPanel",children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-Name-Label",slot:"0,0",text:mstrmojo.desc(2211,"Name:")},{scriptClass:"mstrmojo.ValidationTextBox",slot:"0,1",value:mstrmojo.desc(8116,"New Folder"),alias:"name",cssClass:"mstrmojo-SaveAsEditor-nameInput",maxLength:250,tooltipOpenDelay:0,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,},prefocus:function(){if(this._super){this._super()
	}this.validate()
	},validate:function(){var H=this.value,G=H.length<this.maxLength
	this.set("valid",G)
	return G
	},showErrTooltip:function E(){var G=mstrmojo.dom.position(this.domNode),I=mstrmojo.desc(20815,"The name has reached the maximum length of 250 characters.")
	this.useRichTooltip=true
	this.richTooltip={contentNodeCssClass:"me-tooltip-content left me-err",content:'<div class="content"><span>'+I+"</span></div>",top:G.y-5,left:G.x+G.w+10}
	this.showTooltip()
	var H=this
	window.setTimeout(function(){H.hideTooltip()
	},1500)
	},valid:true,onvalidChange:function(){if(this.valid){this.hideTooltip()
	}else{this.showErrTooltip()
	}mstrmojo.css.toggleClass(this.parent.domNode,"err",!this.valid)
	},bindings:{value:"this.parent.parent.name"}},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-Desc-Label",slot:"1,0",text:mstrmojo.desc(1154,"Description:")},{scriptClass:"mstrmojo.TextArea",cssClass:"mstrmojo-SaveAsEditor-descInput",slot:"1,1",alias:"desc",bindings:{value:"this.parent.parent.desc"},rows:5}]},{scriptClass:"mstrmojo.CheckBox",cssClass:"mstrmojo-certify-checkbox",label:mstrmojo.desc(20041,"Certified Dossier"),alias:"certifyNode",tabIndex:0,bindings:{visible:"this.parent.showCertify",checked:"this.parent.certify"},},{scriptClass:"mstrmojo.HBox",alias:"buttonBox",slot:"buttonNode",cssClass:"mstrmojo-Editor-buttonBar",children:[{alias:"newFolder",scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton mstrmojo-createfolder",text:mstrmojo.desc(3245,"Create New Folder"),tabIndex:0,onclick:function(){var H=this.parent.parent,G={zIndex:H.zIndex+10,navigateAfter:false,fId:H.ob.currentFolder.did,okFn:function(I,J){H.ob.refreshContent()
	if(J){H.ob.browseFolder(I.fid,H.newFolder)
	}}}
	if(H.ob.dataProvider){G.dp=H.ob.dataProvider
	}H.openPopup("newFolder",G)
	},postCreate:function(){this.set("visible",mstrmojo.resolveFeature("create-folder"))
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton hot okButton",alias:"ok",tabIndex:0,text:mstrmojo.desc(2400,"Save"),onclick:function(){this.parent.parent.saveAs()
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton",alias:"cancel",tabIndex:0,text:mstrmojo.desc(221,"Cancel"),onclick:function(){this.parent.parent.close()
	}}]}],newFolder:{scriptClass:"mstrmojo.NewFolderEditor"},onOpen:function(){this.ob.browse()
	},onOBBrowseFolder:mstrmojo.emptyFn,onOBSelect:function(G){this.set("name",G.n)
	},saveAsCallback:function D(){return mstrmojo.hash.clone(A)
	},saveAs:function(J){var H=this.contPanel
	this.name=H.name.value
	this.desc=H.desc.value
	if(!this.name){mstrmojo.alert(mstrmojo.desc(3380,"Please enter valid name"))
	return 
	}var L=this.saveParams||{}
	L.folderID=this.ob.currentFolder.did
	L.description=this.desc||""
	L.name=this.name||""
	L.saveAsOverwrite=!!J
	var G=this.saveAsCallback(),K=this,I={success:function(){K.saveRecentFolders(K.ob.currentFolder.did)
	},failure:function(M){mstrmojo.alert(M.message||M.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}}
	G.parent=this
	if(!mstrApp.isSingleTier){G=C.wrapMethods(G,I)
	}mstrmojo.xhr.request("POST",mstrConfig.taskURL,G,L)
	},saveRecentFolders:function(K){var I,G,H,J=this
	J.ob.getDataProvider().loadRecentSaveAsFolders({success:function(L){G=[]
	F.forEach(L.objects,function(O){G.push(O.did)
	})
	H=mstrmojo.array.indexOf(G,K)
	if(H!==-1){G.splice(H,1)
	}G.unshift(K)
	I=G.slice(0,3).join(",")+","
	var M={taskId:"setPreference",prefs:"recentFolders\u001E"+I}
	var N={success:function(){mstrConfig.recentFolders=I
	},failure:function(O){mstrmojo.alert(O.message||O.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}}
	J.ob.getDataProvider().serverRequest(M,N)
	},failure:function(L){mstrmojo.alert(L.message||L.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}})
	}})
	mstrmojo.SaveAsEditor.SAVEAS_CALLBACK=A
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.VBox","mstrmojo.ObjectBrowser","mstrmojo.HTMLButton")
	mstrmojo.requiresDescs(1059,1441,3413,3414,4996,7972,9893)
	var A={768:true,769:true,774:true,776:true,779:true}
	mstrmojo.IVEDatasetPicker=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.IVEDatasetPicker",cssClass:"mstrmojo-vi-dataset-picker",title:mstrmojo.desc(11940,"Select Existing Dataset"),help:"add_existing_datasets.htm",startingFolder:null,item:null,multiSelect:false,selectedItems:null,children:[{alias:"newLabel",scriptClass:"mstrmojo.FieldSet",legend:mstrmojo.desc(4996,"New"),cssClass:"mstrmojo-ive-fs"},{alias:"btnImport",scriptClass:"mstrmojo.Button",text:mstrmojo.desc(13550,"Access External Data"),cssClass:"mstrmojo-ive-import",onclick:function(){this.parent.close({action:"import"})
	}},{alias:"useExistingLabel",scriptClass:"mstrmojo.FieldSet",legend:mstrmojo.desc(9893,"Use Existing"),cssClass:"mstrmojo-ive-fs"},{scriptClass:"mstrmojo.ObjectBrowser",alias:"ob",cssText:"border-width:1px
	border-color:#DDDDDD
	",closeable:false,browsableTypes:"8,768,769,774,776,779",closeOnSelect:false,showCompletePath:false,searchVisible:true,upButtonVisible:true,folderLinksContextId:1,bindings:{rootFolderID:function(){return this.parent.startingFolder
	},multiSelect:"this.parent.multiSelect"}},{scriptClass:"mstrmojo.HBox",alias:"btnHBox",slot:"buttonNode",cssClass:"mstrmojo-Editor-buttonBar",children:[{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(1059,"Next"),onclick:function(){this.parent.parent.close({item:this.parent.parent.item})
	},bindings:{enabled:function(){return !!(this.parent.parent.multiSelect?this.parent.parent.selectedItem.length:this.parent.parent.item)
	}}}]}],preBuildRendering:function(){if(this._super){this._super()
	}this.ob.onSelectCB=[this,"onOBSelect"]
	this.ob.onBrowseFolder=[this,"onOBBrowseFolder"]
	this.ob.booklet.set("animates",false)
	this.ob.rootFolderID=this.startingFolder
	},postBuildRendering:function(){if(this._super){this._super()
	}this.ob.browse()
	},onOBSelect:function(B){if(this.multiSelect){this.set("selectedItems",mstrmojo.array.filter(B,function(C){return A[C.st]
	}))
	}else{this.set("item",(A[B.st]?B:null))
	}},onOBBrowseFolder:function(B){if(this.multiSelect){this.set("selectedItems",null)
	}else{this.set("item",null)
	}},onstartingFolderChange:function(){this.ob.rootFolderID=this.startingFolder
	this.ob.browse()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.TreeBrowserNode","mstrmojo.TreeBrowser","mstrmojo.ACL.UserDataService")
	mstrmojo.ACL.UserTreeBrowser=mstrmojo.declare(mstrmojo.TreeBrowser,null,{scriptClass:"mstrmojo.ACL.UserTreeBrowser",itemIdField:"did",branchClickPolicy:mstrmojo.TreeBrowserEnum.BRANCH_POLICY_SELECT,getACLUserDataService:function D(){return mstrmojo.ACL.UserDataService
	},getContentThroughTaskCall:function C(G,E){var F=this.getACLUserDataService()
	E.failure=mstrmojo.func.composite([function(H){if(H.getResponseHeader){mstrmojo.alert(H.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}},E.failure])
	if(G.isRoot){F.getTopLevelGroups(G,E)
	}else{F.getMembers(G,E)
	}},isBranch:function B(E){return E.isGroup
	},item2textCss:function A(E){return(this._super&&this._super(E))||"mstrmojo-ACLInputBox-user "+{8704:"u",8705:"ug"}[E.st]
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo.expr","mstrmojo.hash","mstrmojo.Box","mstrmojo.Button","mstrmojo.Editor","mstrmojo.FilterExpr","mstrmojo.Label","mstrmojo.Obj","mstrmojo.ui.Checkbox","mstrmojo.ui.CheckList","mstrmojo.warehouse.EnumObjectTypes","mstrmojo._HasItemAliases")
	var H=mstrmojo.expr,I=H.ET,C=mstrmojo.array,F=mstrmojo.string,E=mstrmojo.warehouse.EnumObjectTypes,G=mstrmojo.mstr.EnumNodeDimty,D=mstrmojo.hash
	mstrmojo.fe.CreateSetEditor=mstrmojo.declare(mstrmojo.Editor,[mstrmojo._HasItemAliases],{onOpen:function(){var c=this,N=this.model,P=this.condition.data,X=!P.m,L=this.attrsBox.attrsList,O=this.relBox.relPd,Y=C.filter(N.metrics,function(e){return !e.um
	}),Q=[{n:mstrmojo.desc(12037,"System Default"),t:-1,did:"default"}].concat(Y),M=this.appQualBox.appQual,W=D.clone(N.attrs),a=D.walk("opener.docModel",this),b=D.walk("opener.xtab.gridInfo",this)
	C.forEach(W,function(f){var e=false
	if(f.t===E.ATTRIBUTE){C.forEach(f.fs,function(g){if(g.fgr>0){e=true
	return false
	}})
	}c.adjustItemName(f,a,b)
	f.css=(f.css||"")+" "+(f.t?("t"+f.t+((f.da||f.um)?"d":"")+(e?"g":"")+(f.st?(" st"+f.st):"")):"")
	})
	L.set("items",W)
	mstrmojo.array.forEach(["relBox","appQualBox"],function(e){this[e].set("visible",X)
	},this)
	if(P.dmt===4&&P.dmy.uts){var Z={}
	C.forEach(P.dmy.uts,function(f){var e=C.find(N.attrs,"did",f.utgt.did)
	if(e>=0){Z[e]=true
	}})
	L.set("selectedIndices",Z)
	}if(X){O.set("items",Q)
	if(P.relation&&P.relation.guide){var d=P.relation.guide,S=C.find(Q,"did",d.did)
	O.set("selectedIndex",S>=0?S:0)
	}else{O.set("selectedIndex",0)
	}M.set("checked",!!P.applySubExpr)
	}if(mstrApp.isWSStyling){var K={left:parseInt(this.left,10),top:parseInt(this.top,10)},J=this.editorNode.getBoundingClientRect(),R={width:window.innerWidth,height:window.innerHeight},U={width:J.right-J.left,height:J.bottom-J.top}
	if(J.right>R.width){this.set("left",(K.left-U.width)+"px")
	}if(J.bottom>R.height){this.set("top",(K.top-U.height)+"px")
	}}},onOK:function(){var Q=this.model,U=this.condition,X=this.condition.data,N=this.attrsBox.attrsList,J=this.relBox.relPd,L=this.appQualBox.appQual
	var Z=N.getSelectedItems(),K=[]
	C.forEach(Z,function(b){K.push({utgt:{n:b.n,did:b.did},utp:H.DMY_TP.ATTR,agg:1,flt:2,gb:true,rps:0,n:b.n})
	})
	var Y
	if(J.selectedIndex>0){var O=J.items[J.selectedIndex]
	Y={n:O.n,did:O.did,t:E.METRIC,st:1024}
	}var M
	if(X.et===15){X.dmt=G.NodeDimtyOutputLevel
	X.dmy=X.dmy||{}
	X.dmy.uts=K
	M=X.relation=X.relation||{}
	if(Y){M.guide=Y
	X.useSchema=false
	}else{delete M.guide
	delete M.rsTp
	delete M.joTp
	delete M.paTp
	delete M.erTp
	X.useSchema=true
	}X.applySubExpr=L.checked
	U.set("data",X)
	}else{var W={et:15}
	W.dmt=G.NodeDimtyOutputLevel
	W.dmy={}
	W.dmy.uts=K
	M=W.relation={}
	if(Y){M.guide=Y
	}else{W.useSchema=true
	}W.applySubExpr=L.checked
	var P=U,R={rq:W,cq:X},S=[U.childIndex()]
	if(X.et===I.ANDOR){if(X.nds&&X.nds.length>2){var a=Q.childIdx
	S=[a,a-1]
	}else{P=U.parent
	}}else{P=U.parent
	R.isMetric=!!X.m
	}P.createSet(S,R)
	}},children:[{scriptClass:"mstrmojo.Box",alias:"attrsBox",cssClass:"Attributes-Box",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(14613,"Select attributes to create the set"),cssClass:"Label",alias:"attrsBoxLabel"},{scriptClass:"mstrmojo.ui.CheckList",alias:"attrsList",cssClass:"CheckList"}]},{scriptClass:"mstrmojo.Box",alias:"relBox",cssClass:"RelatedBy-Box",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(12036,"Related by"),cssClass:"Label",cssDisplay:"inline-block"},{scriptClass:"mstrmojo.ui.Pulldown",alias:"relPd",cssClass:"Pulldown",cssDisplay:"inline-block",allowHTML:false,onitemSelected:function B(J){}}]},{scriptClass:"mstrmojo.Box",alias:"appQualBox",cssClass:"AppQual-Box",children:[{scriptClass:"mstrmojo.ui.Checkbox",alias:"appQual",cssClass:"AppQual-CheckBox"},{scriptClass:"mstrmojo.Label",cssClass:"AppQual-Label",text:mstrmojo.desc(12038,"Apply this qualification independently of the relationship filter"),postBuildRendering:function(){if(this._super){this._super()
	}if(mstrApp.isWSStyling){this.set("text",mstrmojo.desc(15015,"Apply this qualification to define the set, and also to the results of the visualization."))
	}}}]},{scriptClass:"mstrmojo.HBox",slot:"buttonNode",cssText:"float: right
	border-collapse: separate
	display: table
	",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton hot",text:mstrmojo.desc(2397,"OK"),onclick:function(){var J=this.editor
	J.onOK()
	J.close()
	},bindings:{enabled:function(){var K=this.parent.parent.attrsBox.attrsList,J=this.parent.parent.attrsBox.attrsList.selectedIndices
	return K.getSelectedItems().length>0
	},editor:"this.parent.parent"}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton",text:mstrmojo.desc(221,"Cancel"),onclick:function(){this.editor.close()
	},bindings:{editor:"this.parent.parent"}}]}],postBuildRendering:function A(){this._super()
	if(mstrApp&&mstrApp.isWSStyling){this.attrsBox.attrsBoxLabel.set("text",mstrmojo.desc(15013,"Select the attributes that you look for."))
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.expr","mstrmojo.hash","mstrmojo.FilterExpr")
	var D=mstrmojo.hash,B=mstrmojo.expr.ET
	mstrmojo.fe.FilterExprTree=mstrmojo.declare(mstrmojo.FilterExpr,null,{scriptClass:"mstrmojo.fe.FilterExprTree",allowCopy:false,containerResizable:false,draggable:true,dropZone:true,editable:true,makeObservable:true,onConditionEdit:mstrmojo.emptyFn,modifyConditionNode:function(G,F){var H=G.data,E=H.isNew
	D.copy(D.clone(F),D.clear(H))
	delete H.isNew
	G.paint()
	if(H.et===B.MQ||H.et===B.MC){G.set("noCreateSet",!mstrApp.supportAdvFilter)
	}if(G.tree.onConditionEdit){G.tree.onConditionEdit(G,E)
	}},getItemConfig:function(I,E,J){var G=this._super(I,E,J),H=J.tree,F=D.walk("tree.editor.controller.dataService.model",J),K=D.walk("tree.editor.controller.data.gsi",J)
	this.adjustItemName(I,F,K)
	return D.copy({onclick:H.prenodeclick,containerResizable:H.containerResizable,ondragend:H.ondragend,ondrop:H.ondrop},G)
	},ondragenter:function A(E){this.dropCuePos={left:0,top:0,idx:0,idxActual:0}
	this._super(E)
	},ondragend:function(E){if(this===this.tree){return this._super(E)
	}else{return this.constructor.prototype.ondragend.call(this,E)
	}},ondrop:function(E){if(this===this.tree){return this._super(E)
	}else{return this.constructor.prototype.ondrop.call(this,E)
	}},isEditable:function C(F){if(!this.editable){return false
	}var E=false
	switch(F&&F.et){case B.R:case B.F:E=false
	break
	case B.ANDOR:case B.MQ:case B.AQ:case B.AL:case B.AC:case B.MC:case B.AE:E=true
	break
	case B.XML:E=!F.xml||!!F.ph
	}return E
	},prenodeclick:function(E){if(!E||!E.part){return 
	}if(E.part!=="createSet"&&E.part!=="createSetOpt"&&!(E.part==="andor"?this.prefixedAndOrEditable:this.editable)){return 
	}var F=this.tree
	if(F.onnodeclick){F.onnodeclick.call(this,E)
	}},getSelectedItemWidget:function(){var E=function(K){var I=K&&K.ctxtBuilder&&K.ctxtBuilder.itemWidgets,G=K.selectedIndex,F=I&&I.length||0
	if(!I){return 
	}if(G===-1){for(var H=0
	H<F
	H++){var J=E(I[H])
	if(J){return J
	}}}else{return I[G]
	}}
	return E(this)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._IsExprNode","mstrmojo.fe._IsRelationTreeNode","mstrmojo._HasPopup","mstrmojo.fe.AndOrNode","mstrmojo.fe.DynamicNode","mstrmojo.ConditionNode","mstrmojo.css","mstrmojo.string","mstrmojo.dom","mstrmojo.hash","mstrmojo.expr","mstrmojo.url")
	var E=mstrmojo,A=E.css,I=E.dom,F=E.hash,G=E.string,C=function(N){var O=N.data,M=O.dmy&&O.dmy.uts||[],K=M.length,J=[],L
	for(L=0
	L<K
	L++){J.push(G.encodeHtmlString(M[L].n))
	}return'<span class="mstrmojo-text">'+J.join(", ")+"</span>"
	}
	mstrmojo.fe.RelationNode=mstrmojo.declare(mstrmojo.Container,[mstrmojo._IsExprNode,mstrmojo.fe._IsRelationTreeNode,mstrmojo._HasPopup],{scriptClass:"mstrmojo.fe.RelationNode",markupString:'<div id="{@id}" class="mstrmojo-relation {@cssClass}"  style="position:relative
	{@cssText}" mstrAttach:mousedown><div class="mstrmojo-onhoverparent mstrmojo-relation-prefix {@cssClass}"><span class="mstrmojo-textset mstrmojo-relation-prefix-text" mstrAttach:click></span><span class="mstrmojo-onhover-in mstrmojo-andor-tools {@cssClass}"><span class="mstrmojo-indent" mstreventmark="indentNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].ind()">'+mstrmojo.desc(5895,"Group conditions")+'</span><span class="mstrmojo-outdent" mstreventmark="outdentNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].out()">'+mstrmojo.desc(5896,"Ungroup Conditions")+'</span></span></div><div class="mstrmojo-relationNode"><span class="mstrmojo-relationNode-inf"><span class="mstrmojo-relation-prefix-text">'+mstrmojo.desc(2790,"Set of").replace(/##/g,"")+'</span><span class="mstrmojo-textset"  mstrAttach:click></span><span class="mstrmojo-relation-postfix-text">'+mstrmojo.desc(2793,"Where").replace(/##/g,"")+'</span><span class="mstrmojo-relation-convert-text"  mstrAttach:click >'+mstrmojo.desc(15412,"Convert to Condition")+'</span><img class="mstrmojo-del" src="'+mstrmojo.url.getPlaceholderImageURL()+'" tooltip="'+mstrmojo.desc(7931,"Delete condition")+'" alt="'+mstrmojo.desc(7931,"Delete condition")+'" mstreventmark="delNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].del()" /></span><div class="mstrmojo-relation-childTreeNode" style="position:relative
	"></div></div></div>',eventHandlerMap:{indentNode:{click:{requiredParams:["id"],handlerFn:function(J){return function(){mstrmojo.all[J.id].ind()
	}
	}}},outdentNode:{click:{requiredParams:["id"],handlerFn:function(J){return function(){mstrmojo.all[J.id].out()
	}
	}}},delNode:{click:{requiredParams:["id"],handlerFn:function(J){return function(){mstrmojo.all[J.id].del()
	}
	}}}},markupSlots:{prefixHoverNode:function(){return this.domNode.firstChild
	},prefixNode:function(){return this.domNode.firstChild.firstChild
	},relationNode:function(){return this.domNode.lastChild
	},textNode:function(){return this.domNode.childNodes[1].firstChild.childNodes[1]
	},convertNode:function(){return this.domNode.childNodes[1].firstChild.childNodes[3]
	},containerNode:function(){return this.domNode.childNodes[1].childNodes[1]
	},},markupMethods:{onprefixedAndOrEditableChange:function(){A.toggleClass(this.prefixNode,["editable"],this.prefixedAndOrEditable)
	},onselectedChange:function(){A.toggleClass(this.relationNode,["selected"],this.selected)
	},ondataChange:function(){this.prefixNode.innerHTML=this.andOrTxt()
	this.textNode.innerHTML=C(this)
	}},noRelationOperator:true,children:[{scriptClass:"mstrmojo.fe.RelationFilterExprTree",alias:"childTree",ignoreLayout:true,dropZone:false,draggable:false,nodeClassMap:{14:mstrmojo.fe.AndOrNode,ph:mstrmojo.fe.DynamicNode,"*":mstrmojo.fe.ConditionNode},onNew:function(J){this.parent.tree.onNew(J)
	},getItemConfig:function(N,J,O){var L=mstrmojo.fe.RelationFilterExprTree.prototype.getItemConfig.call(this,N,J,O),M=O.tree||O,P=mstrmojo.hash.walk("tree.parent.tree.editor.xtab",O),Q=P&&P.gridInfo,K=P&&P.controller.model
	if(Q){this.adjustItemName(N,K,Q)
	}return F.copy({tree:M,rootTree:this.parent.tree,noRelation:true,inRelation:true},L)
	},prenodeclick:function(J){if(!J||!J.part){return 
	}var K=this.rootTree
	if(K&&K.onnodeclick&&this.editable){J.editor=K.editor
	K.onnodeclick.call(this,J)
	}}}],premousedown:function(J){if(this._super){this._super(J)
	}var K=I.eventTarget(J.hWin,J.e)
	if(!I.contains(this.childTree.domNode,K,true)){this.childTree.clearTreeSelect()
	}},preselectedChange:function(J){if(!J.value){this.childTree.clearTreeSelect()
	}},init:function(J){this._super(J)
	var K=this.data
	if(K){delete this.data
	this._set_data(null,K)
	}},_set_data:function(M,J){var K=this.data
	if(J&&(!J.relation)){J.relation={}
	}var L=(K!==J)
	if(L){this.data=J
	if(J){this.childTree.set("items",J.nds||[J])
	}}return L
	},isSelectableArea:function(J){return mstrmojo.dom.contains(this.relationNode,J,true)
	},preclick:function D(J){var L=null,K=I.eventTarget(J.hWin,J.e)
	if(I.contains(this.prefixNode,K,true)){L="andor"
	}else{if(I.contains(this.textNode,K,true)){L="createSet"
	}else{if(I.contains(this.convertNode,K,true)){this.parent.removeSet(this)
	return false
	}}}J.part=L
	},del:function H(){var J=this.parent
	if(J&&J.remove&&this.data){J.remove(this.data)
	}},newCondition:function B(J){this.childTree.newCondition(J)
	},avatarCssCls:"mstrmojo-FE mstrmojo-relationNode",getAvatarNode:function(){return this.relationNode.cloneNode(true)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.expr","mstrmojo.mstr.EnumNodeProperties","mstrmojo.fe.FilterExprTree","mstrmojo.fe.AndOrNode","mstrmojo.fe.RelationNode","mstrmojo.fe.DynamicNode","mstrmojo.fe.ConditionNode","mstrmojo._HasItemAliases")
	var M=mstrmojo.expr.ET,K=mstrmojo.mstr.EnumNodeProperties
	mstrmojo.fe.RelationFilterExprTree=mstrmojo.declare(mstrmojo.fe.FilterExprTree,[mstrmojo._HasItemAliases],{scriptClass:"mstrmojo.fe.RelationFilterExprTree",nodeClassMap:{14:mstrmojo.fe.AndOrNode,15:mstrmojo.fe.RelationNode,ph:mstrmojo.fe.DynamicNode,"*":mstrmojo.fe.ConditionNode},getItemIdentityProp:function(N){if(N.node&K.CONDITION){return"*"
	}if(N.ph){return"ph"
	}if((N.et===10||N.et===12)&&N.dmt===4){return M.RLS
	}return N.et
	},isEditable:function L(O){var N=false
	switch(O&&O.et){case M.RLS:N=true
	break
	}return N||this._super(O)
	},getItemConfig:function B(R,N,S){var P=this._super(R,N,S),Q=(R.et===M.RLS||!!R.relation),U=mstrmojo.hash.walk("editor.xtab",S),W=U&&U.gridInfo,O=U&&U.controller.model
	if(Q){P.itemFunction=S.itemFunction
	}if(W){this.adjustItemName(R,O,W)
	}return P
	},newCondition:function F(P){var O=this.getSelectedItemWidget(),N=0
	if((typeof microstrategy!=="undefined")&&microstrategy.bones&&microstrategy.bones.rwb_viewer){N=microstrategy.bones.rwb_viewer.nextPhIndex
	}else{if(mstrApp&&mstrApp.docModelData&&mstrApp.docModelData.phIndex){N=mstrApp.docModelData.phIndex
	}}if(P&&P.ph&&!P.ph.idx){P.ph.idx=N++
	}if(O&&O.selected&&O.newCondition){return O.newCondition(P)
	}else{return this._super(P)
	}},createSet:function E(O,N){var P=N.rq,Q=N.cq
	if(P&&Q){this.remove(Q)
	if(N.isMetric){mstrmojo.hash.copyProps(["applySubExpr","dmy","dmt","relation","useSchema"],P,Q)
	P=Q
	}else{P.nds=[Q]
	}this.add([P],O[0])
	}},removeSet:function I(N){var O=N.data,P=[O]
	this.remove(O)
	if(O.nds&&O.nds.length>0){P=O.nds
	}else{delete O.dmy
	delete O.relation
	delete O.applySubExpr
	delete O.relation
	delete O.useSchema
	delete O.dmt
	}this.add(P,0)
	},nameFactory:{counter:1,names:{},clear:function(){this.resetCounter()
	this.names={}
	},resetCounter:function D(){this.counter=1
	},isNameExist:function J(N){return !!this.names[N]
	},setName:function H(N,O){this.names[N]=O
	},changeName:function C(O,N,P){this.removeName(O)
	this.setName(N,P)
	},getNewName:function G(Q,P,S){var R=P||"",O=S||"",N
	while(this.isNameExist(R+this.counter+O)){this.counter++
	}N=R+this.counter+++O
	this.names[N]=Q
	return N
	},removeName:function A(N){delete this.names[N]
	this.resetCounter()
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo.dom","mstrmojo.hash","mstrmojo.string","mstrmojo.vi.util.A11yUtility","mstrmojo.ui.SearchablePulldownCheckList","mstrmojo.ui.SearchablePulldown")
	var I=mstrmojo.array,K=mstrmojo.css,G=mstrmojo.dom,E=mstrmojo.hash,M=mstrmojo.string,P=mstrmojo.vi.util.A11yUtility,F={0:true}
	function C(){var Y=this.selectedIndices=E.copy(this.getPopupList().selectedIndices),R=this.items,W=[],X,U=this.allIdx,S=this.noneIdx
	if(R&&R.length){if(Y[U]){W.push(R[U].n)
	}else{if(Y[S]){W.push(R[S].n)
	}else{I.forEach(R,function(a,Z){if(Y[Z]){W.push(a.n)
	}})
	}}}X=W.join(", ")
	this.set("value",this.allowHTML?X:M.encodeHtmlString(X))
	this.set("text",X)
	this.set("richTooltip",{cssClass:"vi-regular vi-tooltip-C",content:M.encodeHtmlString(X)})
	}mstrmojo.ui.MultiSelectSearchablePulldown=mstrmojo.declare(mstrmojo.ui.SearchablePulldown,[],{scriptClass:"mstrmojo.ui.MultiSelectSearchablePulldown",isHostedWithin:false,init:function O(R){this._super(R)
	K.addWidgetCssClass(this,"multi")
	this.hostedCSSClass=this.hostedCSSClass+" multi"
	},submitSelections:function B(){this.onchange()
	},_set_selectedIndices:function H(W,S){var R=this.getPopupList(),U=E.copy(this.selectedIndices)
	R.set("selectedIndices",S||U||F)
	C.call(this)
	return true
	},select:function L(R){this.getPopupList().select(R)
	},getPopupWidget:function D(){return this.popupWidget
	},getPopupList:function N(){return this.popupWidget.list
	},getPopupListConfig:function A(){return[{scriptClass:"mstrmojo.ui.SearchablePulldownCheckList",alias:"popupWidget",_unlockHoverCheck:function R(X,S){var W=G.eventTarget(S,X),U=this.opener
	if(G.contains(U.domNode,W,true,document.body)){U.set("isEditing",true)
	}else{if(!G.contains(this.domNode,W,true,document.body)){this.close()
	}}},bindings:{itemCssText:function(){return(this.parent&&this.parent.itemCssText)||""
	}}}]
	},getNavList:function Q(){var S,U,X,W=this.getPopupWidget(),R=E.walk("parent.parent.menuBtnInfo.btn",this)
	if(W.visible){U=W.buttons.okBtn
	X=W.buttons.cancelBtn
	P.enableAccessibility({widget:U,domNode:U.domNode},"button")
	P.enableAccessibility({widget:X,domNode:X.domNode},"button")
	S=[W.list,U,X]
	}else{S=[this,R]
	}return S
	},processSearch:function J(){var R=this.getPopupWidget()
	R.toggleCacheMode(true)
	if(this._super){this._super()
	}R.toggleCacheMode(false)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.editors.controls.PreviewButton","mstrmojo.ui.editors.controls.AdvancedColorPicker","mstrmojo.ui.editors.controls.AdvancedColorPickerPopup","mstrmojo.css")
	var G=mstrmojo.css,F=Math.round
	function J(O){var P=this.previewNode,N=P.clientWidth,R=P.clientHeight,Q=P.offsetWidth-N,S=Math.sqrt(N*N+R*R)-Q/2,M=Math.atan2(R,N)*(-180)/Math.PI
	P.style.backgroundColor="#FFFFFF"
	O.display="block"
	O.top=F((P.offsetHeight+Q)/2)+"px"
	O.left=F((N-S+Q)/2)+P.offsetLeft+"px"
	O.width=F(S)+"px"
	O[mstrmojo.dom.CSS3_TRANSFORM]="rotate("+F(M)+"deg)"
	}mstrmojo.ui.editors.controls.ColorPickerButton=mstrmojo.declare(mstrmojo.ui.editors.controls.PreviewButton,null,{scriptClass:"mstrmojo.ui.editors.controls.ColorPickerButton",markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onselectedValueChange:function(){this.updatePreview()
	this.colorPicker.set("color",this.selectedValue)
	},onautoPreviewColorChange:function D(){this.getPopupWidget().set("autoPreviewColor",this.autoPreviewColor)
	this.updatePreview()
	},onenabledChange:function H(){G.toggleClass(this.domNode,"disabled",!this.enabled)
	}},isHostedWithin:false,showGradient:false,showNoFill:true,showAutomatic:false,autoPreviewColor:null,selectedValue:null,init:function L(N){this._super(N)
	var M=this.colorPicker
	M.showGradient=this.showGradient
	if(this.showNoFill!==undefined){M.showNoFill=this.showNoFill
	M.showAutomatic=this.showAutomatic
	}M.showAutomatic=this.showAutomatic
	G.addWidgetCssClass(this,"mstrmojo-ColorPickerBtn")
	},preBuildRendering:function K(){this.colorPicker.showNoFill=this.showNoFill
	return this._super()
	},setDimensions:function I(N,M){this._super(N,M)
	window.setTimeout(function(){this.updatePreview()
	}.bind(this),0)
	},afterLayout:function C(){var M=this.previewNode,N=M.style,P=N.width,O=M.offsetWidth
	if(O>0){N.width=(O-4)+"px"
	}else{if(P!==""){N.width=(parseInt(P,10)-4)+"px"
	}}if(N.height===""){N.height=(M.offsetHeight-4)+"px"
	}},postBuildRendering:function A(){var M=this.noFillNode=document.createElement("div")
	M.style.display="none"
	M.className="slash"
	this.domNode.firstChild.appendChild(M)
	this._super()
	},updatePreview:function B(){var Q=this.previewNode
	if(Q){var O=this.selectedValue===mstrmojo.ui.editors.controls.AdvancedColorPicker.VAL_AUTOMATIC?this.autoPreviewColor:this.selectedValue
	if(O){var R=Q.style
	if(O.c1){var S=G.buildGradient(O.or,O.c1,O.c2)
	if(S&&S.n){R[G.convertCssToCamelCase(S.n)]=S.v
	}}else{var M=G.buildGradient(0,"0","0")
	if(M&&M.n){R[G.convertCssToCamelCase(M.n)]=null
	}var P="conflict"===O
	G.toggleClass(Q,"conflict",P)
	R.backgroundColor=!P?O:null
	}if(this.showNoFill&&this.noFillNode&&this.enabled){var N=this.noFillNode.style
	if("transparent"===O){J.call(this,N)
	}else{N.display="none"
	}}}Q.style.backgroundOrigin="border-box"
	}},getPopupWidget:function E(){return this.colorPicker
	},children:[{scriptClass:"mstrmojo.ui.editors.controls.AdvancedColorPickerPopup",alias:"colorPicker",slot:"widgetHostNode",color:this.selectedValue,isHostedWithin:true,showNoFill:true,colorChanged:function(M){this.parent.set("selectedValue",M)
	this.close()
	}}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ObjectInputBox","mstrmojo.ACL.UserDataService")
	mstrmojo.ACL.UserInputBox=mstrmojo.declare(mstrmojo.ObjectInputBox,null,{suggestionPopupCssClss:"mstrmojo-ACLInputBox-suggest",blockCount:10,useKeyDelay:true,getACLUserDataService:function C(){return mstrmojo.ACL.UserDataService
	},item2textCss:function A(D){return(this._super&&this._super(D))||"mstrmojo-ACLInputBox-user "+{8704:"u",8705:"ug"}[D.st]||""
	},getCandidatesThroughTaskCall:function B(E,D){this.getACLUserDataService().searchUserCandidates({pattern:E.pattern,wildCard:!E.isVerify,blockCount:E.blockCount,nameWildcards:this.nameWildcards},D)
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.ValidationTextBox","mstrmojo.Calendar","mstrmojo.Popup","mstrmojo._HasPopup","mstrmojo.locales","mstrmojo.date","mstrmojo.string")
	var B=mstrmojo.ValidationTextBox.prototype.markupMethods,D=mstrmojo.string,A=function(){return mstrmojo.locales.datetime
	},C=mstrmojo.date
	mstrmojo.DateTextBox=mstrmojo.declare(mstrmojo.ValidationTextBox,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.DateTextBox",calendarToBody:false,calendarZIndex:100,changeValueOnOK:false,dynDateValue:null,showAdvanced:false,canSelectDisabledDate:false,isList:false,dtp:14,defaultDate:null,autoFormat:true,enabled:true,min:"",max:"",iconAriaLabel:"",markupString:'<div id="{@id}" class="mstrmojo-DateTextBox {@cssClass}" style="{@cssText}"><input class="mstrmojo-DateTextBox-input" type="text" title="{@tooltip}"value="{@value}" size="{@size}" maxlength="{@maxLength}" index="{@tabIndex}" mstrAttach:focus,keyup,blur /><div class="mstrmojo-DateTextBox-icon" role="button" aria-label="{@en@iconAriaLabel}" aria-haspopup="true" mstrAttach:click> </div><div class="mstrmojo-DateTextBox-popup"></div></div>',markupSlots:{inputNode:function(){return this.domNode.firstChild
	},iconNode:function(){return this.domNode.childNodes[1]
	},popupNode:function(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?this.cssDisplay:"none"
	},onwidthChange:function(){if(this.width){this.inputNode.style.width=(this.width-20)+"px"
	this.iconNode.style.left=(this.width-18)+"px"
	this.domNode.style.width=this.width+"px"
	}},onvalueChange:B.onvalueChange,onenabledChange:B.onenabledChange,onvalidationStatusChange:B.onvalidationStatusChange},calConfig:null,calendar:{scriptClass:"mstrmojo.Popup",cssClass:"mstrmojo-DateTextBox-calendar",locksHover:true,slot:"popupNode",onOpen:function(){var H=this.opener,G=H&&H.calendarZIndex,I=this.cal,E=H&&H.calConfig
	if(G){this.domNode.style.zIndex=G
	}for(var F in E){I.set(F,E[F])
	}},children:[{scriptClass:"mstrmojo.Calendar",alias:"cal",forceNonEmptySelection:true,bindings:{showAdvanced:"this.parent.opener.showAdvanced",dtp:"this.parent.opener.dtp",value:"this.parent.opener.value",dynDateValue:"this.parent.opener.dynDateValue",enabled:"this.parent.opener.enabled",min:"this.parent.opener.min",max:"this.parent.opener.max",canSelectDisabledDate:"this.parent.opener.canSelectDisabledDate",enableAccessibility:"this.parent.opener.enableAccessibility",changeValueOnOK:function(){var F=this.parent.opener.dtp,E=this.parent.opener.changeValueOnOK
	return F===15||F===16||E
	}},closeOnValueChange:true,onValueUpdate:function(F){var I=this.parent&&this.parent.opener
	if(I){var G=I.value,E=window.mstrConfig&&window.mstrConfig.listSep||"
	",H=I.dtp===15?C.formatTimeInfo(this.timeVal,A().TIMEOUTPUTFORMAT):this.value
	if(I.isList&&!D.isEmpty(G)){I.set("value",I.value+E+H)
	}else{I.set("dynDateValue",this.dynDateValue)
	I.set("value",H)
	}I.closePopup()
	}}}]},onclick:function(E){var G=this._lastOpened,H=this._calendarConfig
	if(!H){H={}
	if(this.calendarToBody){delete this.calendar.slot
	H.placeholder=document.body.appendChild(document.createElement("div"))
	H.nudge=function(){var N=this.opener
	if(N){var I=mstrmojo.dom.position(N.popupNode,true),M=this.domNode,Q=M.offsetHeight,J=M.offsetWidth,K=mstrmojo.dom.windowDim(),L=I.x,O=I.y
	if(O+Q>=K.h){O=Math.max(O-Q,0)
	}if(L+J>=K.w){L=Math.max(L-J,0)
	}var P=M.style
	P.top=O+"px"
	P.left=L+"px"
	}}
	}this._calendarConfig=H
	}H.lockIW=this
	if(G&&G.visible){this.closePopup()
	}else{this.openPopup("calendar",H)
	var F=this.calendar.cal
	F.updateSelectedDate(true)
	if(F.enableAccessibility){F.enterUnit(this.actionByKeyboard)
	F.tabParent=this.iconNode
	}}},unrender:function(){this._super()
	if(this.calendarToBody&&this._calendarConfig){delete this._calendarConfig
	}if(this.calendar.hasRendered){this.calendar.unrender()
	}},_set_value:function(H,F){var G=this.value,E=(G!==F)
	if(E){this.value=F
	this.validate(F)
	}if(this.showAdvanced&&this.dynDateChanged){this.dynDateChanged=false
	E=true
	}return E
	},_set_dynDateValue:function(H,F){var G=this.dynDateValue,E=(G!==F)
	if(E){this.dynDateValue=F
	this.dynDateChanged=true
	}return E
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.dom","mstrmojo.hash","mstrmojo.ServerProxy","mstrmojo.XHRServerTransport","mstrmojo.LoginEditor","mstrmojo.util.ThemeHelper","mstrmojo.SessionManager")
	function S(m,k){var l=(k?"add":"remove")+"LoadingGraph"
	this.serverProxy[l](m)
	}var O=true,U=mstrmojo.hash,R="waitBox",Z=".htm"
	function A(k){return k&&(k.sections||k.subsections||k.objects||k.panels||k.layouts||k.children)
	}mstrmojo._IsWebApp=mstrmojo.provide("mstrmojo._IsWebApp",{_mixinName:"mstrmojo._IsWebApp",serverProxy:null,init:function c(k){this._super(k)
	if(!this.serverProxy){this.serverProxy=new mstrmojo.ServerProxy({transport:mstrmojo.XHRServerTransport})
	}},start:mstrmojo.emptyFn,styleName:"RWDocumentMojoStyle",modelFactory:null,enableWaitBox:false,primaryScdpMap:{},onMobileDevice:function E(){return false
	},isTouchApp:function I(){return false
	},getContentDimensions:function h(k){return null
	},getConfiguration:mstrmojo.emptyFn,setInteractive:function N(k){if(O!==k){O=k
	mstrmojo.dom.toggleSelection(window.document.body,k)
	return true
	}return false
	},isInteractive:function f(){return O
	},addLoadingGraph:function H(k){S.call(this,k,true)
	},removeLoadingGraph:function d(k){S.call(this,k)
	},pauseServerRequest:function F(){this.serverProxy.pauseSubsequentRequst()
	},resumeServerRequest:function J(){this.serverProxy.resumeSubsequentRequst()
	},serverRequest:function Y(o,t,n){try{t=t||{}
	n=n||{}
	var k=n.src||(arguments.callee&&arguments.callee.caller.name),p=!this.enableWaitBox||n.silent,m=n.hideFailureErr,l=n.skipIServerError,r=this
	if(!o.noStyle){o.styleName=o.styleName||this.styleName
	}t=mstrmojo.func.wrapMethods(t,{submission:function(u){if(!p&&mstrmojo.all[R]){mstrmojo.all[R].requestId=u
	}},failure:function(u){if(!p){u.method=k
	if(!(mstrApp.isSingleTier&&u.code===403)&&!m){if(typeof l==="function"&&l(u)){return 
	}mstrmojo.err(typeof u.mstrerr==="object"?u.mstrerr:u,n.onErrorOk)
	}}},complete:function(){if(!p){if(mstrmojo.all[R]){delete mstrmojo.all[R].requestId
	}r.hideWait()
	}}})
	if(!p){this.showWait(n&&n.waitBoxCfg)
	}window.setTimeout(function(){r.serverProxy.request(t,o,!!n.override,n)
	},0)
	}catch(q){mstrmojo.err(q)
	}},serverRequestParallelNative:function K(m,n,l){var k=l||new mstrmojo.QueueNative()
	k.queueHandle(m,n)
	},hasRequests:function X(){return this.serverProxy.hasRequests()
	},getWaitBoxPosition:function(){return null
	},isWaiting:function C(){var k=mstrmojo.all[R]
	return !!(k&&k.visible)
	},showWait:function G(n){var p=this,r=mstrmojo.all[R]||mstrmojo.insert({scriptClass:"mstrmojo.Editor",id:R,cssClass:"mstrWaitBox",draggable:false,refreshOnNextShow:false,showTitle:false,zIndex:99999,counter:0,displayMsg:null,position:null,ondisplayMsgChange:function o(){this.msgfield.set("text",this.displayMsg)
	},oncounterChange:function l(){var u=this.counter,x=this.visible
	if(u===0&&x){this.close()
	}else{if(u>0&&!x){this.open()
	mstrmojo.dom.center(this.editorNode)
	var t=this.position||p.getWaitBoxPosition()
	if(t){var w=t.top,v=t.left
	if(w!==undefined){this.set("top",w+"px")
	}if(v!==undefined){this.set("left",v+"px")
	}}}}},children:[{scriptClass:"mstrmojo.Box",cssClass:"mstrIcon-wait",alias:"icon"},{scriptClass:"mstrmojo.Label",cssClass:"mstrWaitMsg",alias:"msgfield"},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Button mstrmojo-WebButton mstrWaitCancel",alias:"cancelBtn",text:mstrmojo.desc(2140,"Cancel")}]})
	r.cancelBtn.set("visible",!!(n&&n.showCancel))
	r.cancelBtn.onclick=function(){p.serverProxy.cancelRequests()
	if(n&&n.onCancel&&n.onCancel instanceof Function){n.onCancel.call(p)
	}}
	var k=n&&n.position
	if(k&&((k.top||k.left)!==undefined)){r.position=n.position
	}else{r.position=null
	}r.set("displayMsg",(n&&n.message)||mstrmojo.desc(11960,"Loading Data..."))
	if(n&&n.cssClass){r.set("cssClass","mstrWaitBox "+((n&&n.cssClass)||""))
	r.refresh()
	r.refreshOnNextShow=true
	}else{if(r.refreshOnNextShow){r.refresh()
	r.refreshOnNextShow=false
	}}if(!this._waitUserLogin){r.set("counter",r.counter+1)
	}else{this._waitCounter=this._waitCounter+1
	}var q
	function m(){mstrApp.hideWait()
	clearTimeout(q)
	}if(n&&n.timeout){q=window.setTimeout(function(){m()
	},n.timeout)
	}if(n&&n._autoClose){mstrmojo.all.waitBox.curtainNode.onclick=function(){m()
	}
	}return r
	},hideWait:function P(k){var l=mstrmojo.all[R]
	if(this._autoCloseFn){mstrmojo.dom.detachEvent(l.curtainNode,"mousedown",this._autoCloseFn,true)
	delete this._autoCloseFn
	}if(l){l.set("cssClass","mstrWaitBox")
	if(!this._waitUserLogin){l.set("counter",k?0:Math.max(0,l.counter-1))
	}else{this._waitCounter=k?0:Math.max(0,l.counter-1)
	}}},getWaitBox:function(){return mstrmojo.all[R]
	},showProgress:mstrmojo.emptyFn,hideProgress:mstrmojo.emptyFn,startSessionManager:function b(l){var m=mstrApp,k=m.enableAutomaticSessionRecovery&&m.maxSessionIdleTime
	m.sessionManager=m.addDisposable(new mstrmojo.SessionManager(mstrmojo.hash.copy(l,k?{timeBeforeSessionTimeoutWarning:mstrApp.timeBeforeSessionTimeoutWarning,maxSessionIdleTime:m.maxSessionIdleTime}:{})))
	if(k){m.sessionManager.start()
	}},isSessionExpiredError:function j(o){var n=2147760371,m=2147760372,l=2147758245,k=2147759877
	o=(o<0)?(4294967296+parseInt(o,10)):o
	switch(o){case n:case m:case l:case k:return true
	}return false
	},onSessionExpired:function e(m){if(!mstrConfig.features["enable-login-editor"]){var p=mstrApp.launchingApp||mstrApp
	var q={evt:5005,src:p.name+"."+p.pageName+".5005"},l=(p.docModel&&p.docModel.bs)||(p.rootCtrl&&p.rootCtrl.docCtrl&&p.rootCtrl.docCtrl.model&&p.rootCtrl.docCtrl.model.bs)||(p.docModelData&&p.docModelData.bs)
	if(l){q.rwb=l
	}mstrmojo.form.send(q)
	return 
	}if(mstrApp.sessionManager){var o=mstrmojo.all[R],k=o&&o.counter>0,n=this
	this._waitCounter=-1
	if(k){this._waitCounter=o.counter-1
	n.hideWait(true)
	}this._waitUserLogin=true
	mstrApp.sessionManager.openLoginEditor({success:function(r){n._waitUserLogin=false
	if(r&&r.sessionState){if(m){if(m.params.sessionState){m.params.sessionState=r.sessionState
	}if(k){o.counter=n._waitCounter
	n.showWait()
	}mstrmojo.xhr.request(m.method,m.baseUrl,m.callback,m.params)
	}}},cancelRequests:function(){mstrApp.serverProxy.cancelRequests()
	}})
	}},updateSessionState:function Q(k){this.sessionState=k
	},onNavigateOut:mstrmojo.emptyFn,showHelpTopic:function B(o,l){var n=l?l+"HelpPath":"helpPath",k=mstrmojo[n].call(),q=mstrApp.isSingleTier,p=mstrApp.isWorkstation,m=-1
	if(o&&typeof o==="string"){k+=o
	}if(q||p){window.FormWrapper.openPage(k)
	}else{mstrApp.openPage(k)
	}return false
	},getSearchAutoCompleteDelay:function W(){return parseInt(mstrConfig&&mstrConfig.searchAutoCompleteDelay,10)||200
	},getThemeClassName:function D(){return"mojo-theme-light"
	},openPage:function M(k,l){window.open(k,l)
	},modalEditorChange:function L(l,k){if(mstrApp&&mstrApp.isOIVM&&mstrApp.isOIVM()){if(!mstrApp.modalOpenEditors){mstrApp.modalOpenEditors={}
	}if(k){mstrApp.modalOpenEditors[l]=true
	}else{delete mstrApp.modalOpenEditors[l]
	}}},parseSecondaryDataProviders:function a(o){var n,q,l,p=o.defn,r=p&&p.layouts,m=(r&&r.length)||0,k=mstrApp.primaryScdpMap
	for(n=0
	n<m
	n++){q=r[n]
	l=q&&q.units
	U.forEach(l,function(t,u){if(t&&t.scdp){k[u]=t.scdp.split(",")
	}})
	}},getPluginsRoot:function(){return((mstrApp.isSingleTier||mstrApp.isWorkstation)?"file://":"")+(this.pluginRoot||(mstrConfig&&mstrConfig.pluginRoot)||"../plugins/")
	},upload:function(q,p,o,l,n,m,k){this.serverProxy.upload(q,p,o,l,n,m,k)
	},getThemeProps:function g(k){var l
	if(mstrApp&&mstrApp.isOIVM&&mstrApp.isOIVM()){if(!mstrApp.themeProps){mstrApp.themeProps=mstrmojo.util.ThemeHelper.getThemePropConfig({layoutstyle:mstrApp.docModel.getCurrentLayoutStyle()})
	}l=mstrApp.themeProps
	}else{l=mstrApp.getRootController().view.themeProps
	}return k?l[k]:l
	}})
	window.$MAPF=function(){return false
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.Container","mstrmojo.desc","mstrmojo.ME.TokenInputBox","mstrmojo.mstr.EnumDSSXMLTokenTypes","mstrmojo.ME.Enum","mstrmojo._HasTooltip","mstrmojo.dom","mstrmojo.string")
	mstrmojo.requiresDescs(221,547,9106,9565,9566,9567,9568,11897,13542,13543,15665)
	var M=mstrmojo.array,S=mstrmojo.hash,I=mstrmojo.desc,O=mstrmojo.mstr.EnumDSSXMLTokenTypes,N=mstrmojo.ME.Enum.METRIC_EDIT_TYPES,L=mstrmojo.string.escape4HTMLText,E=mstrmojo.dom
	var Q={VALID:0,UNKNOWN:1,VALIDATING:2,ERROR:3,AMBIGUITY:4},G={0:"valid",1:"unknown",2:"validating",3:"error",4:"ambiguity"},R={0:I(9565,"Valid Metric Formula."),1:I(9106,"Require Validation?"),2:I(9566,"Validation in Progress..."),3:I(9567,"Validation Failed with Syntax Error!"),4:I(9568,"Validation Failed with Object Ambiguity!")},U={ERROR:"-2147214845",AMBIGUITY:"-2147214846"},B={}
	B[U.ERROR]=Q.ERROR
	B[U.AMBIGUITY]=Q.AMBIGUITY
	function P(b){if(!b){return Q.VALID
	}return B[b]||Q.ERROR
	}mstrmojo.ME.MetricEditBox=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup,mstrmojo._HasTooltip],{scriptClass:"mstrmojo.MetricEditBox",vStatus:Q.VALID,iStatus:"",showStatus:true,browseItemVisible:true,absorbAmbiguity:true,validateFunc:null,isObjectVisible:function(b){return true
	},markupString:'<div id="{@id}" class="mstrmojo-MEBox {@cssClass}" style="{@cssText}"><div class="mstrmojo-MEBox-edit"></div><div class="mstrmojo-MEBox-status {@statusCssClass}"><div class="mstrmojo-MEBox-vStatus"></div><div class="mstrmojo-MEBox-iStatus"></div></div></div>',markupSlots:{editNode:function(){return this.domNode.firstChild
	},iStatusNode:function(){return this.domNode.lastChild.lastChild
	},vStatusNode:function(){return this.domNode.lastChild.firstChild
	},statusNode:function(){return this.domNode.lastChild
	},validateBtn:function(){return this.domNode.lastChild.lastElementChild
	}},markupMethods:{onvStatusChange:function(){var c=this.vStatus,b=this.vStatusNode
	b.className="mstrmojo-MEBox-vStatus "+G[c]
	b.innerHTML=(this.getStatusDesc&&this.getStatusDesc(c))||R[c]||""
	if(this.vStatus===Q.VALID){this.set("cValid",true)
	}},oniStatusChange:function(){this.iStatusNode.innerHTML=this.iStatus
	}},children:[{scriptClass:"mstrmojo.ME.TokenInputBox",alias:"inputBox",slot:"editNode",renderOnScroll:false,renderBlockSize:0,bindings:{browseItemVisible:"this.parent.browseItemVisible",candidates:"this.parent.candidates"},editEmbeddedFilterToken:function(b){var c=this.parent
	if(c.editEmbeddedFilterToken){c.editEmbeddedFilterToken(b)
	}}}],init:function W(b){var c=this,d=b.validateFunc||this.validateFunc
	if(d){c.children=[{scriptClass:"mstrmojo.Button",alias:"validateBtn",slot:"statusNode",text:I(11897,"Validate"),cssClass:"mstrmojo-WebHoverButton right hoverLink",cssDisplay:"inline-block",onclick:d}].concat(this.children)
	}if(this._super){this._super(b)
	}this.statusCssClass=this.showStatus?"":"hidden"
	},getSearchPattern:function a(){return this.inputBox.getSearchPattern()
	},getHighlightedText:function X(c,b){return this.inputBox.getHighlightedText(c,b)
	},item2textCss:function K(b){return{4:"m",7:"am",11:"fx",12:"a",13:"fc",43:"tr",47:"cs"}[b.t]||""
	},handleSuggestionItemSelect:function J(b){var c=this.ambiguityDialog
	if(b){c.onItemSelect(b)
	}c.close()
	},showDesc:true,showPath:true,ambiguityDialog:{scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-ME-ambiguityDialog",onOpen:function(){this.set("title",I(13542,"Object Ambiguity - ##").replace("##",this.ambiguousName))
	this.list.clearSelect()
	this.list.set("items",this.items)
	this.list.singleSelect(0)
	this.label.set("text",I(13543,"More than one object with the name '##' were found.").replace("##",this.ambiguousName))
	},children:[{scriptClass:"mstrmojo.Label",alias:"label",text:""},{scriptClass:"mstrmojo.ui.ScrollableSuggestionList",alias:"list",cssClass:"mstrmojo-ME-ambiguityList",bindings:{items:"this.parent.opener.suggestionItems"},onclick:function(b){mstrmojo._IsList.onclick.call(this,b)
	},getItemMarkup:function(e,b){var d=this.parent.opener,c=mstrmojo.string.escape4HTMLText
	var g=(d&&d.item2textCss(e))||""
	var f=""
	if(e.path){f='<div class="mstrmojo-object-additional-info" idx="'+b+'">'+mstrmojo.desc(16154,"From Dataset:")+" "+L(e.path)+"</div>"
	}else{e.standalone=true
	}return'<div class="mstrmojo-object-item" idx="'+b+'"><div class="mstrmojo-object-name '+g+'" idx="'+b+'">'+L(e.n)+"</div>"+f+"</div>"
	},buildTooltip:function(b,c){if(b.standalone){return L(b.path)+"> "+L(b.n)
	}else{return L(b.n)+'<div class="mstrmojo-object-additional-info">'+mstrmojo.desc(16154,"From Dataset:")+" "+L(b.path)+"</div>"
	}}}],buttons:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Button mstrmojo-WebButton hot",text:I(547,"Select"),onclick:function(){var b=this.parent.parent
	b.opener.handleSuggestionItemSelect(b.list.selectedItem)
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Button mstrmojo-WebButton",text:I(221,"Cancel"),onclick:function(){this.parent.parent.close()
	}}]},defaultOnTokensModify:function(){this.set("vStatus",Q.UNKNOWN)
	this.set("iStatus","")
	},postBuildRendering:function Z(){this._super()
	this.inputBox.attachEventListener("tokensModify",this.id,"defaultOnTokensModify")
	this.inputBox.attachEventListener("tokensModify",this.id,"ontokensModify")
	},updateInputBoxItems:function H(b){this.inputBox.set("items",b.items)
	},replaceErrorToken:function C(b){this.inputBox.replaceErrorToken(b)
	},clientSideValidation:function A(h){if(!h){return 
	}var d=false,g=false,c=h.items
	try{d=mstrApp.rootCtrl.docCtrl.model.isMDXDataset(S.any(this.parent.parent.datasets))
	g=h.met==N.ADVANCED&&c[0].tp==O.SimpPrefixFun&&c[0].v==="ApplySimple"
	}catch(j){}if(d&&g){var b=M.filterOne(c,function(e){return e.tp===O.DoubleQString
	})
	var f=/(\'|\/\/|\-\-|\/\*|\*\/)/
	if(b&&f.test(b.v)){h.vs=Q.ERROR
	h.rjec=U.ERROR
	h.rjed=I(15665,"MDX pass-through expression should not contain ', //, --, /*, */.")
	}}},handleValidation:function F(d){if(!d){this.set("vStatus",Q.ERROR)
	return 
	}d.vs=P(d.rjec)
	this.set("vStatus",d.vs)
	this.set("iStatus",mstrmojo.string.encodeHtmlString(d.rjed)||"")
	this.updateInputBoxItems(d)
	if(this.iStatusNode||this.vStatusNode){var m=this.iStatusNode&&this.iStatusNode.clientHeight+this.vStatusNode&&this.vStatusNode.clientHeight,q=this.statusNode.clientHeight,p=q>=(m)?q:m
	var l=parseFloat(window.getComputedStyle(this.inputBox.domNode).height)
	this.inputBox.domNode.style.height=l-p+this.validateBtn.clientHeight+"px"
	}this.inputBox.focus()
	if(d.vs===Q.AMBIGUITY){var o=this,j=d.items,h=M.find(j,"sta",-1),b=j[h].v,k=function(c){o.replaceErrorToken(c)
	o.set("iStatus","")
	o.set("vStatus",Q.UNKNOWN)
	if(o.continueValidataion){o.continueValidataion()
	}else{o.set("vStatus",Q.VALID)
	}}
	var e=M.filter(d.srfd.items,this.isObjectVisible)
	var n=this.parent.candidates,g=n&&n.items
	if(g){M.forEach(e,function(f){var c=M.find(g,"did",f.did)
	if(c===-1){if(this.absorbAmbiguity){g.push(f)
	}}else{f.path=g[c].path
	}})
	}if(e.length===1){k(e[0])
	return 
	}this.openPopup("ambiguityDialog",{zIndex:100,items:e,ambiguousName:b,onItemSelect:k})
	}else{if(this.postHandleValidation){this.postHandleValidation()
	}}},tooltip:"",useRichTooltip:true,updateTooltipConfig:function Y(c){var d=c.target||E.eventTarget(c.hWin,c.e),b=E.position(d)
	this.richTooltip={posType:mstrmojo.tooltip.POS_TOPLEFT,content:this.getTooltipContent(c),top:b.y+b.h,left:b.x+10,cssClass:"vi-regular vi-tooltip-A"}
	},getTooltipContent:function(b){return this.iStatus
	},showTooltip:function D(b,c){if(b.target===this.iStatusNode){this._super(b,c)
	}}})
	mstrmojo.ME.MetricEditBox.VALIDATION_STATUS=Q
	mstrmojo.ME.MetricEditBox.VALIDATION_STATUS_CSS=G
	mstrmojo.ME.MetricEditBox.VALIDATION_STATUS_DESC=R
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.TitleBar","mstrmojo.Image","mstrmojo.css")
	mstrmojo.vi.ui.CollapsibleTitleBar=mstrmojo.declare(mstrmojo.vi.ui.TitleBar,null,{scriptClass:"mstrmojo.vi.ui.CollapsibleTitleBar",btnCollapse:null,canCollapse:false,isCollapsed:false,collapse:mstrmojo.emptyFn,enableAccessibility:false,onToggleCollapseByUI:mstrmojo.emptyFn,setToolbarVisibility:function D(E){if(!E||!this.isCollapsed){this._super(E)
	}},onisCollapsedChange:function B(){if(this.canCollapse){var E=this.isCollapsed
	this.parent.set("isCollapsed",E)
	if(this.enableAccessibility){this.domNode.setAttribute("aria-expanded",!E)
	}}},getLeftToolbarChildren:function A(){var E=this
	return[{scriptClass:"mstrmojo.Image",slot:"leftToolNode",alias:"btnCollapse",onclick:function(G){var H=this.parent,F=H.parent
	if(H.canCollapse){H.set("isCollapsed",!H.isCollapsed)
	E.onToggleCollapseByUI()
	var I=G.e
	if(I&&I.stopPropagation){I.stopPropagation()
	}}if(F&&F.clickToCollapse){F.clickToCollapse()
	}}}]
	},onkeydown:function C(E){var G=E.e||E,F=G.key
	if(this._super){this._super(E)
	}if(!this.enableAccessibility){return 
	}if(F==="Enter"||F===" "){E.cancel()
	E.preventDefault()
	this.btnCollapse.onclick(E)
	}}})
	mstrmojo._HasMarkup.addMarkupMethods(mstrmojo.vi.ui.CollapsibleTitleBar,{oncanCollapseChange:function(){this.btnCollapse.set("visible",this.canCollapse)
	},onisCollapsedChange:function(){mstrmojo.css.toggleClass(this.domNode,"collapsed",this.isCollapsed)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.CollapsibleTitleBar","mstrmojo.ui.menus.ToolbarConfig","mstrmojo.ui.menus.Menu","mstrmojo.dom","mstrmojo.css")
	var F=mstrmojo.css,C="visible",G="containerNode"
	function E(Q){Q.btn.style.display=!!Q.menuCfg?"block":"none"
	}mstrmojo.vi.ui._IsPanel=mstrmojo.provide("mstrmojo.vi.ui._IsPanel",{_mixinName:"mstrmojo.vi.ui._IsPanel",markupString:'<div id="{@id}" class="mstrmojo-VIPanel {@cssClass}" style="{@cssText}" mstrAttach:mouseover,mouseout,click><div class="mstrmojo-VIPanel-titlebar"></div><div class="mstrmojo-VIPanel-content"></div><div class="mstrmojo-VIDND-mask"></div><div class="mstrmojo-VIPanel-handle splitter v"></div></div>',markupSlots:{titlebarNode:function(){return this.domNode.firstChild
	},containerNode:function(){return this.domNode.childNodes[1]
	},maskNode:function(){return this.domNode.childNodes[2]
	},handleNode:function(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onisCollapsedChange:function L(){if(this.canCollapse){this.containerNode.style.display=this.isCollapsed?"none":"block"
	if(!this.isCollapsed){this.doLayout()
	}}}},title:"",titleAriaLabel:"",titleBar:null,titlebarNode:null,containerNode:null,maskNode:null,handleNode:null,bubbleMouseOver:true,canCollapse:false,isCollapsed:false,autoHideToolbar:false,init:function K(Q){this._super(Q)
	this.addChildren([this.getTitleBarCfg()])
	this.menuBtnInfo={}
	},skipsSlotLayout:function(Q){return Q===G&&this.isCollapsed
	},getTitleBarCfg:function P(){return{scriptClass:"mstrmojo.vi.ui.CollapsibleTitleBar",slot:"titlebarNode",alias:"titleBar",isCollapsed:this.isCollapsed,enableAccessibility:this.enableAccessibility,title:this.title,ariaLabel:this.titleAriaLabel||this.title,close:function(){this.parent.setOpenStatus(false)
	mstrApp.rootCtrl.generateToolbar()
	},collapse:function(Q){this.parent.set("isCollapsed",Q)
	}}
	},ontitleChange:function H(){this.titleBar.set("title",this.title)
	},_set_children:function A(U,R,Q){if(R!==this.children){var S=this.titleBar
	if(S){R.push(S)
	}}return this._super(U,R,Q)
	},preBuildRendering:function I(){this.generateToolbar()
	this.titleBar.setToolbarVisibility(!this.autoHideToolbar)
	return this._super()
	},generateToolbar:function B(){var Q=this.titleBar
	Q.set("toolbarCfg",this.updateToolbar(new mstrmojo.ui.menus.ToolbarConfig()))
	if(!Q.visible){this.menuBtnInfo.menuCfg=Q.getMenuConfig()
	}},updateToolbar:function O(Q){return Q
	},setOpenStatus:function N(Q){if(this.visible!==Q){this.set("visible",Q)
	this.parent.doLayout()
	}},setTitleBarVisibility:function D(Q){var S=this.titleBar
	S.set("visible",Q)
	this.generateToolbar()
	var U=this.menuBtnInfo,R=U.btn
	if(!R){R=U.btn=document.createElement("div")
	R.className="hover-menu-btn"
	var W=this.id
	mstrmojo.dom.attachEvent(R,"click",function(){var Y=mstrmojo.all[W],X=U.menuCfg
	X.hostId=W
	X.hostElement=R
	Y.openPopup(new mstrmojo.ui.menus.Menu({popupConfig:X}))
	})
	this.domNode.appendChild(R)
	}U.menuCfg=Q?null:S.getMenuConfig()
	E(U)
	this.doLayout()
	},onmouseover:function M(Q){if(!mstrApp.isInteractive()){return 
	}if(!this.bubbleMouseOver){Q.cancel()
	}var S=this._panelTimeout
	if(S){window.clearTimeout(S)
	delete this._panelTimeout
	}if(this.autoHideToolbar){this.titleBar.setToolbarVisibility(true)
	}var R=this.menuBtnInfo
	if(!!R.menuCfg){F.addClass(R.btn,C)
	}},onmouseout:function J(){var Q=this.id
	this._panelTimeout=window.setTimeout(function(){var R=mstrmojo.all[Q]
	if(R){if(R.autoHideToolbar){R.titleBar.setToolbarVisibility(false)
	}var S=R.menuBtnInfo
	if(!!S.menuCfg){F.removeClass(S.btn,C)
	}}},200)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.tabs.TabStrip","mstrmojo.vi.ui.tabs.Tab","mstrmojo.Label","mstrmojo.Button","mstrmojo.Pulldown","mstrmojo.Box","mstrmojo.dom","mstrmojo.css","mstrmojo.tooltip","mstrmojo.ME.MetricEditBox","mstrmojo.array","mstrmojo.hash","mstrmojo.mstr.EnumDSSXMLBaseFormType")
	var g=mstrmojo.array,N=mstrmojo.hash,M=mstrmojo.ME.MetricToken.brackets,B=mstrmojo.css,S=mstrmojo.vi.ui.tabs.Tab.ACTIONS,o=S.DELETE+S.RENAME,p=mstrmojo.ME.MetricEditBox.VALIDATION_STATUS,q=mstrmojo.ME.MetricEditBox.VALIDATION_STATUS_CSS,O=mstrmojo.ME.MetricEditBox.VALIDATION_STATUS_DESC,X=mstrmojo.mstr.EnumDSSXMLObjectTypes,D=mstrmojo.string,t="This@ID",Z="45C11FA478E745FEA08D781CEA190FE5",W=mstrmojo.mstr.EnumDSSXMLBaseFormType,v=[{n:mstrmojo.desc(959,"Default"),v:W.DssXmlBaseFormReserved},{n:mstrmojo.desc(12276,"String"),v:W.DssXmlBaseFormText},{n:mstrmojo.desc(2052,"Date"),v:W.DssXmlBaseFormDate},{n:mstrmojo.desc(3434,"Number"),v:W.DssXmlBaseFormNumber}],a=function(){var AA="analytical_engine_version.htm",z=mstrApp.showHelpTopic
	if(z){z(AA,"upgrade")
	}else{window.open(mstrmojo.upgradeHelpPath()+AA,"_blank")
	}}
	function H(z){return{n:z,k:z,ftk:[],vs:1,is:"",bft:W.DssXmlBaseFormReserved,bftp:W.DssXmlBaseFormReserved}
	}function Q(AF,AG,z,AD){var AB=AF.forms[AG]||{},AE=AF.forms[z],AA=AF.inputBox,AC=AF.statusBox.pulldownBox.pulldown
	if(AG!==z){AB.vs=AF.vStatus
	AB.is=AF.iStatus
	AB.bft=AF.formType||AC.getSelectedItem().v
	AB.bftp=AF.formType||AC.getSelectedItem().v
	AB.ftk=AA.items
	AF.set("vStatus",p.UNKNOWN)
	}AF.set("vStatus",AE.vs)
	AF.set("iStatus",AE.is)
	AF.updateInputBoxItems({items:AE.ftk})
	if(AF.curFormIdx!==z){AF.curFormIdx=z
	AF.tabstrip.setSelectedTab(AE.k)
	}AC.set("selectedIndex",g.find(AC.items,"v",AE.bft))
	AF.raiseEvent({name:"tabSwitch",tks:AE.ftk,vs:AE.vs,is:AE.is,bft:AE.bft,bftp:AE.bftp,oidx:AG,nidx:z,toNewTab:AD})
	}function P(AA){var z=AA.forms[AA.curFormIdx]
	if(z){z.ftk=AA.inputBox.items
	z.vs=AA.vStatus
	z.is=AA.iStatus
	}}var n=0
	function d(z){n=Math.max(z.length-1,n)
	}function c(){n=0
	}function u(z){var AA="DESC"+(n?" "+n:"")
	n++
	if(g.find(z,"n",AA)>=0){return u(z)
	}return AA
	}function J(AC){var AB={v:M(AC.n),oi:AC,isNew:true},AA,z
	if(AC.t===12){AA=g.filter(AC.fs,function(AD){return AD.obf||AC.da
	}).length
	if(AA===1){z=AC.fs[0]
	AB=N.copy({v:M(AC.n)+"@"+M(z.fnm),ift:true,exv:z.fid,extp:8},AB)
	}else{AB=N.copy({v:M(AC.n)+"@",ift:true},AB)
	}}return AB
	}function E(AA,z){AA.set("enabled",!z)
	var AB="mstrmojo-InlineWaitIcon"
	if(AA.iconClass){AA.set("iconClass",AA.iconClass.replace(new RegExp(AB),"")+" "+(z?AB:""))
	}else{mstrmojo.css.toggleClass(AA.domNode,AB,z)
	}}function L(z){return z.tp===33||z.tp===37
	}function F(z){return z.tp===-1
	}var b=function(AF){var AD=AF.items,AA=AD.length,AC,AE,AB=[],z=""
	AB.push({v:"!",tp:33,lv:4,sta:2})
	for(AC=0
	AC<AA
	AC++){AE=AD[AC]
	if((AC===0&&L(AE))||F(AE)){continue
	}if(AE.isNew&&!AE.oi){z+=AE.v
	}else{if(!D.isEmpty(z)){AB.push({v:z,tp:2,lv:1})
	z=""
	}if(AE.v&&AE.v.indexOf(t)>=0){AE.v=AE.v.replace("["+t+"]",t)
	AE.exv=Z
	AE.extp=8
	delete AE.oi
	}AB.push(AE)
	}}if(!D.isEmpty(z)){AB.push({v:z,tp:2,lv:1})
	z=""
	}AB.push({v:"",tp:-1,lv:4,sta:2})
	return{items:AB}
	},h=function(AB){var z=AB.items||[],AA=z[z.length-1]
	if(AA&&AA.tp===-1){z.pop()
	}if(z[0]&&L(z[0])){z.splice(0,1)
	}g.forEach(z,function(AC){if(AC.v&&AC.v.indexOf(t)>=0){N.copy({extp:8,exv:Z,oi:{n:"This",did:"This",t:12}},AC)
	}})
	},f=function(z){if(!z){return p.VALID
	}return{"-2147214845":p.ERROR,"-2147214846":p.AMBIGUITY}[z]||p.ERROR
	},U=function(AB){AB=b(AB)
	var AA={items:true,v:true,tp:true,lv:true,oi:true,n:true,did:true,t:true,st:true,exv:true,extp:true,asc:true,vtp:true},z={getArrItemName:function(){return"tkn"
	},isSerializable:function(AC){return(AA[AC])?true:false
	}}
	return D.json2xml("tknstrm",AB,z)
	},G=function(AB,AE,AD,AA){var AC=U(AE),AF=function(AG){if(AG&&AG.tks){var AH=AG.tks
	h(AH)
	AH.vs=f(AH.rjec)
	AH.tokenXML=AC
	if(AA){AA(AH)
	}}},z=function(AG){mstrmojo.alert(AG.message||AG.getResponseHeader&&AG.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}
	mstrmojo.ME.MetricDataService.validateMetric({tokenStreamXML:AC,localSymbolFolderXML:"",metricXML:"",metricId:AB||"",isNew:true,objectType:12,isIDForm:AD,msgID:mstrApp.getMsgID()},{success:AF,failure:z})
	}
	mstrmojo.ME.DerivedAttributeFormTab=mstrmojo.declare(mstrmojo.vi.ui.tabs.Tab,null,{scriptClass:"mstrmojo.ME.DerivedAttributeFormTab",valid:true,editable:true,postBuildRendering:function Y(){if(this._super){this._super()
	}var z=this,AA=z.lbl
	AA.editOnDoubleClick=this.editable
	AA.onTextEditComplete=function(AC,AB){if(z.validate(AA.text)){z.titleEdited(AA.text,AB)
	}}
	},onclick:function m(z){var AA=mstrmojo.dom.eventTarget(z.hWin,z.e)
	if(AA===this.menuBtnNode){this.tabDeleted()
	}else{if(!this.isSelected){this.tabSelected()
	}}},validate:function(z){var AA=!/[\[\]\"\\]/g.test(z)
	if(!AA){this.lbl.set("isEditing",true)
	}this.set("valid",AA)
	return AA
	},showErrTooltip:function x(AD,AB){var z=mstrmojo.dom.position(this.domNode),AA=this,AC=AA.errTooltip
	if(!AC){AA.errTooltip=AC=new mstrmojo.Tooltip({contentNodeCssClass:"me-tooltip-content up me-err",updatePopupConfig:null})
	this.addDisposable(AC)
	}AC.set("top",z.y+z.h+2)
	AC.set("left",z.x+z.w/2-AB)
	AC.set("content",'<div class="content"><span>'+AD+"</span></div>")
	AC.open()
	window.setTimeout(function(){AC.close()
	},2500)
	},onvalidChange:function(){if(this.valid){this.hideTooltip()
	}else{this.showErrTooltip(mstrmojo.desc(11569,"Input contains invalid character"),95)
	}}})
	function l(AC,AD,AE){var AB=g.find(AD,"k",AE.k)
	return{scriptClass:"mstrmojo.ME.DerivedAttributeFormTab",title:AE.n,draggable:false,editable:AB!==0,cssClass:"mstrmojo-AEB-Tab "+(AB===0?"mstrmojo-AEB-IDTab":""),getMenuActions:function(){return o
	},tabSelected:function(){Q(AC,AC.curFormIdx,AB)
	},titleEdited:function AA(AG,AF){if(AG!==AF){if(g.find(AC.forms,"n",AG)>=0){this.showErrTooltip(mstrmojo.desc(7209,"Name already exists"),69)
	}else{var AH=AC.forms[AB]
	AH.n=AG
	AC.set("dirty",true)
	}}},tabDeleted:function z(){var AF=AC.forms.length,AI=(AC.curFormIdx===AF-1)?0:AC.curFormIdx,AG=AC.forms.slice(0),AH=AG[AB]
	if(AH&&AH.did){AC.delForms.push({n:AH.n,did:AH.did})
	}AG.splice(AB,1)
	AC.curFormIdx=AI
	AC.set("forms",AG)
	Q(AC,-1,AI)
	AC.set("dirty",true)
	}}
	}mstrmojo.ME.AttributeEditBox=mstrmojo.declare(mstrmojo.ME.MetricEditBox,null,{scriptClass:"mstrmojo.ME.AttributeEditBox",markupString:'<div id="{@id}" class="mstrmojo-MEBox {@cssClass}" style="{@cssText}"><div class="mstrmojo-AEB-TabStrip"></div><div class="mstrmojo-MEBox-edit mstrmojo-AEB-edit"></div><div class="mstrmojo-AEBox-status {@statusCssClass}"></div></div>',markupSlots:{tabstripNode:function(){return this.domNode.firstChild
	},editNode:function(){return this.domNode.childNodes[1]
	},statusNode:function(){return this.domNode.lastChild
	}},markupMethods:{onvStatusChange:function(){var AA=this.vStatus,AE=(AA===p.VALID),AC=(AA===p.UNKNOWN||AA===p.VALIDATING),AB=this.statusBox.infoBox
	this.validateBtn.set("visible",AC)
	AB.set("visible",!AC)
	if(!AC){AB.infoLabel.set("text",AE?mstrmojo.desc(11655,"Valid formula."):mstrmojo.desc(15953,"Validation failed."))
	var AD=q[AA],z=AB.infoIcon.domNode
	if(!B.hasClass(AD)){B.removeClass(z,[q[p.VALID],q[p.ERROR],q[p.AMBIGUITY]])
	B.addClass(z,AD)
	}}},oniStatusChange:function(){var AB=this.vStatus,z=(AB===p.ERROR||AB===p.AMBIGUITY),AA=this.statusBox.infoBox.infoIcon
	AA.title=z?(this.getStatusDesc&&this.getStatusDesc(AB))||O[AB]+" "+this.iStatus:""
	}},forms:null,delForms:[],curFormIdx:0,attrid:null,absorbAmbiguity:false,init:function r(AC){var AD=this,AF=function(){AD.validateCurrentForm()
	},AB=[{scriptClass:"mstrmojo.vi.ui.tabs.TabStrip",alias:"tabstrip",position:"top",slot:"tabstripNode",isAlignRight:false,getTabCfg:function AA(AI,AJ,AH){return N.copy(l(AD,AI,AJ),AH)
	},addTab:function AG(){var AJ=AD.forms,AH=AJ.length,AK=u(AJ),AI=AJ.slice(0)
	AI.push(H(AK))
	AD.set("forms",AI)
	Q(AD,AD.curFormIdx,AH,true)
	AD.set("dirty",true)
	},clear:function z(){g.forEach(this.children,function(AH){AH.hideTooltip()
	})
	}},{scriptClass:"mstrmojo.Button",alias:"clearBtn",slot:"tabstripNode",text:mstrmojo.desc(2827,"Clear"),cssClass:"mstrmojo-WebHoverButton mstrmojo-AEB-clearAll hoverLink",onclick:function(){AD.inputBox.clearTokens([])
	AD.inputBox.raiseChangeEvent({type:"clear"})
	}},{scriptClass:"mstrmojo.Box",alias:"statusBox",slot:"statusNode",cssClass:"statusBox",children:[{scriptClass:"mstrmojo.Box",alias:"pulldownBox",cssClass:"pulldownBox",cssDisplay:"inline-block",children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-AEBox-pulldownLabel AEBox-item",text:mstrmojo.desc(9918,"Data Type")},{scriptClass:"mstrmojo.ui.Pulldown",alias:"pulldown",cssClass:"mstrmojo-AEBox-pulldown AEBox-item",selectedIndex:0,items:v,onitemSelected:function(AK){var AH=AD.curFormIdx,AI=AD.forms,AJ=AI&&AI.length>AH&&AI[AH]
	if(AJ){if(AJ.bft!==AK.v){AJ.bft=AJ.bftp=AK.v
	AD.set("dirty",true)
	}}}}]},{scriptClass:"mstrmojo.Box",cssClass:"helpIcon",cssDisplay:"inline-block",richTooltip:{cssClass:"vi-regular vi-tooltip-A A-center AE-tooltip",posType:mstrmojo.tooltip.POS_TOPCENTER,enableHover:true},useRichTooltip:true,tooltipCloseDelay:500,updateTooltipConfig:function AE(){var AI=this.richTooltip,AH=mstrmojo.dom.position(this.domNode)
	AI.left=AH.x+AH.w-8
	AI.top=AH.y+28
	AI.content=mstrmojo.desc(16313,"Data Type options for derived attribute forms are only available for data engine version 11.1 and later.")
	AI.content+="<br /><div class='help-link-label' mstreventmark='labelNode' mstrevent='click' onclick='mstrmojo.ME.AttributeEditBox.AEHelpFn()'>"+mstrmojo.desc(9849,"Learn More")+"</div>"
	AI.eventHandlerMap={labelNode:{click:{requiredParams:[],handlerFn:function(){return function(){mstrmojo.ME.AttributeEditBox.AEHelpFn()
	}
	}}}}
	}},{scriptClass:"mstrmojo.Box",alias:"infoBox",cssClass:"infoBox",cssDisplay:"inline-block",children:[{scriptClass:"mstrmojo.Button",alias:"infoIcon",cssClass:"mstrmojo-AEBox-infoIcon AEBox-item",title:"",tooltipOpenDelay:0,useRichTooltip:true,updateTooltipConfig:function(){var AH=mstrmojo.dom.position(this.domNode)
	this.richTooltip={cssClass:"vi-regular A-center vi-tooltip-A",top:Math.max(AH.y+26,0),left:Math.max(AH.x+10,0),posType:mstrmojo.tooltip.POS_TOPCENTER,content:this.title}
	}},{scriptClass:"mstrmojo.Label",alias:"infoLabel",cssClass:"mstrmojo-AEBox-infoLabel AEBox-item"}]}]}]
	this.validateFunc=AF
	AD.children=AB.concat(this.children)
	this._super(AC)
	},item2textCss:function K(z){return this._super(z)||{21:"afm"}[z.t]||""
	},onformsChange:function e(){var z=this.forms,AA=z[this.curFormIdx].k
	g.forEach(z,function(AB){h({items:AB.ftk})
	})
	this.tabstrip.setTabs(z,AA)
	d(z)
	},selectFormTab:function A(z){Q(this,this.curFormIdx,z)
	},postBuildRendering:function Y(){if(this._super){this._super()
	}this.clear()
	var z=this
	this.inputBox.ondrop=function(AD){if(!AD.src.data||!AD.src.data.item){return 
	}var AC=z.inputBox,AF=AC.ctxtBuilder.itemWidgets,AG=N.copyProps(["did","n","t","fs"],AD.src.data.item),AI=J(AG),AA,AH,AB
	AD.src.data=AI
	mstrmojo.ListBase2.prototype.ondrop.call(this,AD)
	var AE=function(AJ){return AJ.t===X.Function&&!(!isNaN(AJ.fdid)&&AJ.fdid<0)
	}
	if(AE(AI.oi)){this.insertParenthesisTokens()
	}if(z.ontokensModify){z.ontokensModify()
	}AA=this.selectedIndices
	if(AG.t===12&&AI.ift&&!AI.exv){for(AH in AA){AB=AF[AH]
	if(AB){AC.startTokenSuggestion(AB)
	}}}AC.clearSelect(true)
	B.removeClass(AC.domNode,"unselectable")
	}
	},clear:function k(){this.curFormIdx=0
	this.delForms=[]
	this.attrid=null
	c()
	this.set("forms",[H("ID")])
	this.inputBox.set("items",[])
	this.inputBox.resetTokensCache()
	this.set("vStatus",p.UNKNOWN)
	this.set("iStatus","")
	this.tabstrip.clear()
	},validateCurrentForm:function C(AA){var AB=this,AC=this.validateBtn,z=function(AD){E(AC,false)
	AB.set("vStatus",AD.vs)
	AB.set("iStatus",AD.rjed||"")
	AB.updateInputBoxItems({items:AD.items})
	AB.statusNode.style.display="block"
	AB.handleValidation(AD)
	if(AA){AA(AD.items,AD.vs===p.VALID)
	}}
	AB.set("vStatus",p.VALIDATING)
	E(AC,true)
	G(this.attrid,{items:this.inputBox.items},AB.curFormIdx===0,z)
	},validateAllForms:function w(AB){var AC=this,AA=AC.forms,z=0,AD=function(AG){var AF=(z===0)
	if(AG){var AE=AA[z-1]
	AE.ftk=AG.items
	AE.vs=AG.vs
	AE.is=AG.rjed||""
	AE.tokenXML=U({items:AG.items})
	if(AG.vs!==p.VALID){AC.selectFormTab(z-1)
	AC.handleValidation(AG)
	if(AB){AB(null,false)
	}return 
	}}if(z===AA.length){if(AB){AB(AA,true)
	}return 
	}G(AC.attrid,{items:AA[z++].ftk},AF,AD)
	}
	P(AC)
	AD()
	},continueValidataion:function R(){this.validateCurrentForm()
	},getStatusDesc:function j(z){return{0:mstrmojo.desc(11655,"Valid Formula.")}[z]
	},onObjectInsert:function I(AC){var AD=this.inputBox,AB=J(AC),z=AD.insertTokens([AB]),AA
	if(AC.t===12&&AB.ift&&!AB.exv){AA=AD.ctxtBuilder.itemWidgets[z]
	if(AA){AD.startTokenSuggestion(AA)
	}}}})
	mstrmojo.ME.AttributeEditBox.preprocessTokenStream=h
	mstrmojo.ME.AttributeEditBox.postprocessTokenStream=b
	mstrmojo.ME.AttributeEditBox.mapErrorCode=f
	mstrmojo.ME.AttributeEditBox.getTokenStreamXML=U
	mstrmojo.ME.AttributeEditBox.validateSyntax=G
	mstrmojo.ME.AttributeEditBox.prepareInsertToken=J
	mstrmojo.ME.AttributeEditBox.AEHelpFn=a
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.array","mstrmojo.Arr","mstrmojo.AjaxCall","mstrmojo.css","mstrmojo.Calendar","mstrmojo.WidgetDial","mstrmojo.Label","mstrmojo.dom","mstrmojo.expr","mstrmojo.hash","mstrmojo.registry","mstrmojo.string","mstrmojo.ListBase","mstrmojo._IsList","mstrmojo.ValidationTextBox","mstrmojo.DateTextBox","mstrmojo.mstr.EnumDataType","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.mstr.EnumDSSConsolidationType")
	var u=mstrmojo.array,AI=u.map,J=mstrmojo.Arr,E=mstrmojo.css,W=mstrmojo.dom,X=mstrmojo.hash,AJ=mstrmojo.string,A=mstrmojo.registry,U=mstrmojo.expr,O=U.ET,j=mstrmojo.mstr.EnumDataType,m=U.ET2TP,Y=U.ET2TGT,AF=U.DTP,D=mstrmojo.meta.TP,P=mstrmojo.meta.STP,AP=mstrmojo.mstr.EnumDSSXMLObjectTypes,G=mstrmojo.mstr.EnumDSSConsolidationType
	var g="dummy",K={did:"idErr",v:"idErr",n:mstrmojo.desc(7929,"Error loading data."),t:g,css:"unselectable",cls:"temp"},r={did:"idWait",v:"idWait",n:mstrmojo.desc(2901,"Loading..."),t:g,css:"unselectable",cls:"temp"},C={did:"idAttribute",v:"idAttribute",n:mstrmojo.desc(518,"Attribute"),t:g,css:"unselectable"},AD={did:"idMetric",v:"idMetric",n:mstrmojo.desc(517,"Metric"),t:g,css:"unselectable"},AC={did:"idSelect",v:"idSelect",n:mstrmojo.desc(547,"Select"),t:g,css:"unselectable"},x={did:"idWait",v:"idQualification",n:mstrmojo.desc(5225,"Qualification"),t:g,css:"unselectable"},B={did:"idWait",v:"idQualification",n:mstrmojo.desc(15008,"Qualify on"),t:g,css:"unselectable"}
	var AO={}
	AO[AF.DATE]=1
	AO[AF.TIME]=1
	AO[AF.TIMESTAMP]=1
	var z={}
	z[O.MQ]={key:"metricFns",def:U.METRIC_FNS}
	z[O.MC]={key:"metricFns",def:U.METRIC_FNS}
	z[O.AQ]={key:"formFns",def:U.FORM_FNS}
	z[O.AL]={key:"formFns",def:U.FORM_FNS}
	z[O.AC]={key:"formFns",def:U.FORM_FNS}
	z[O.AE]={key:"elemFns",def:U.ELEM_FNS}
	var S=[U.STP.PROMPT,U.STP.PROMPT_OBJECTS,U.STP.PROMPT_ELEMENTS,U.STP.PROMPT_EXPRESSION,U.STP.PROMPT_EXPRESSION_DRAFT]
	function F(AS,AU,AR){var AT=AS.items,AQ=u.indexOf(AT,AU)
	if((AQ===0)&&(AT.length===1)){AR=mstrmojo.Arr.makeObservable((AR&&AR.length)?AR.concat():[])
	AS.set("items",AR)
	}else{if(AQ>-1){AT.splice(AQ,1)
	}if(AR&&AR.length){u.insert(AT,(AQ>-1)?AQ:AT.length,AR)
	}AS.refresh()
	}}function b(AY,AX){if(this.updating){return 
	}var AQ=this.multiSelect,AS=this.selectedItem,AV=AY&&AY.added,AU=AY&&AY.removed
	AX=AX||this.alias
	if(!AQ&&AV&&AU&&AV[0]===AU[0]){return 
	}if(AS&&AS[D]===g){this.updating=true
	if(AQ){this.removeSelect([this.selectedIndex])
	}else{var AW=AU&&Number(AU[0])
	AW=(AW==null)?-1:AW
	this.set("selectedIndex",AW)
	}this.updating=false
	}else{var AR=this.parent.parent.parent.model
	if(AQ){var AT=this.items
	AR.edit(AX,{added:AV&&u.get(AT,AV),removed:AU&&u.get(AT,AU),itemIdField:this.itemIdField})
	}else{AR.edit(AX,AS)
	}}}function R(AQ,AS,AT){if(this.updating){return 
	}AT=AT||this.alias
	var AR=AQ.model
	AR.edit(AT,AS)
	}function v(){var AR=this.parent,AQ=((AR&&AR.cssText)||"").match(/height:\s*(\d*)px/)
	this.cssText=AQ&&AQ[0]
	}function N(AQ){return mstrmojo.mixin(AQ,{scriptClass:"mstrmojo.rw.ConditionList",cssClass:"mstrmojo-"+AQ.alias,postCreate:v})
	}function Z(){var AR=this.parent,AQ=AR.parent
	AQ["invalid"+AR.cstIndex]=false
	}function o(AS,AQ,AT){var AR=AS.cfg
	if(AR){AR.data=AS
	AR.parent=AT
	return A.ref(AR)
	}AR=new mstrmojo.Label({text:AS.n||"&nbsp
	",cssClass:"dial-item "+(AS.t?("t"+AS.t):"")})
	AR.markupMethods.onselectedChange=function(){E.toggleClass(this.domNode,["selected"],this.selected)
	}
	AR.data=AS
	AR.parent=AT
	return AR
	}function AB(AQ){switch(AQ){case j.DataTypeInteger:case j.DataTypeUnsigned:case j.DataTypeDecimal:case j.DataTypeReal:case j.DataTypeDouble:case j.DataTypeFloat:case j.DataTypeCellFormatData:return j.DataTypeNumeric
	default:return AQ
	}}function H(AS,AR){var AQ=AS.model||{},AT=AQ.fn
	return(AT!=null)&&((AQ.et===O.MQ)||(AQ.et===O.MC)||(AQ.et===O.AQ)||(AQ.et===O.AL)||(AQ.et===O.AC))&&(U.fnCstCount(AT,AQ.fnt)>AR)
	}function q(AR){var AU=AR&&m[AR.et],AT=AR&&AR.fm&&AR.fm.dtp,AQ=AT&&U.DTP2PROMPT_STP[AT],AS={}
	AS[AU]=true
	if(AQ){AS[AQ]=true
	}return AS
	}function AL(AQ,AS){var AR
	if(AS){switch(Y[AQ.et]){case"a":AR=AS[O.AC]
	break
	case"m":AR=AS[O.MC]
	break
	default:AR=false
	break
	}}else{AR=true
	}return AR&&U.fn_AC_MC(AQ&&AQ.fn)
	}function l(AQ){var AT=AQ.model,AX=AT&&AT[Y[AT.et]]&&AT[Y[AT.et]][AQ.columnWalk.target.itemIdField||"did"],AS=AT&&AT.fm,AZ=AS&&AS.dtp,AR=AL(AT,AQ.ets)
	if(this.targetsLastMod&&this.targetsLastMod===AQ.targetsLastMod&&AX&&AX===this._lastTargetId&&this.lastFmDtp===AZ&&this.lastFnTp===AR){return 
	}if(!AR){this.clearSelect()
	if(this.items.length!==this.preLen){this.set("items",this.items.slice(0,this.preLen))
	}}else{var AV=AT.a?[C]:AT.m?[AD]:[],AU=f(AQ),AY=AV.concat(AU),AW=this.items.slice(this.preLen)
	u.forEach(AW.reverse(),function(Aa){this.remove(Aa)
	},this)
	this.add(AY,-1)
	}this._lastTargetId=AX
	this.lastFnTp=AR
	this.lastFmDtp=AZ
	this.targetsLastMod=AQ.targetsLastMod
	}function f(AQ){var AR=AQ.model,AS=q(AR),AT=AR[Y[AR.et]]
	return U.getSortedObjectsByTypeGroup(u.filter(AQ.targets,function(AU){return(AU.t!==4||AU.did!==AT.did)&&(AS[AU[D]]||AS[AU[P]])
	}))
	}function a(AR,AQ){var AS=AR.model||{},AT=AS.cs,AU=AT&&AT[AQ]
	if(AS.et==O.MC&&AS["c"+(AQ+2)]){AU=AS["c"+(AQ+2)]
	}return AU
	}function I(AQ,AT){var AS=AQ.model||{},AR
	switch(AS.et){case O.MC:case O.MQ:AR=(AT&&AT.dtp)||AB(AS.m.dt)||U.METRIC_DTP
	if(AR===AF.BIGDECIMAL){AR=U.METRIC_DTP
	}break
	case O.AQ:case O.AC:case O.AE:case O.AL:AR=AS.fm&&AS.fm.dtp
	break
	}return AR||AF.CHAR
	}function AN(AR,AS){if(!AR){return AR
	}if(AR.dtp===AF.BIGDECIMAL&&AS===O.MQ){var AQ=String(AR.v)
	if(AQ&&AQ.indexOf("#")===-1){return"#"+AQ+"#"
	}else{return AQ
	}}else{return AR.v
	}}function AA(AR,AQ){var AT=AR.model||{},AU=AT.cs,AV,AS
	if(AT.et===O.AL){AS=[]
	u.forEach(AU,function(AW){AS.push(AW&&AW.v)
	})
	AS=AS.join(mstrConfig.listSep)
	}else{AV=a(AR,AQ)
	AS=AN(AV,AT.et)
	}return AS
	}function L(Ak,Ac){Ak.updating=true
	var AY=Ak.parent.parent.parent,Aj=H(AY,Ac),Ad,Ae
	if(Aj){l.call(Ak,AY)
	var AT=AY.model||{},Ai=a(AY,Ac),AZ=I(AY,Ai),Ab=AA(AY,Ac)
	var AX=AT.fn,AV=U.fn_List(AX,AT.fnt),Al=AO[AZ],Af=Al&&!AV
	var AR=Ak.ctxtBuilder,Ah=AR&&AR.itemWidgets,AS=Al?(Af?Ak.calIndex:Ak.dtxtIndex):Ak.txtIndex,AW
	for(Ad=0,Ae=Ak.preLen
	Ad<Ae
	Ad++){AW=Ah[Ad]
	if(Ad==AS){AW.set("dtp",AZ)
	AW.set("isList",AV)
	var AQ=AW.value,AU=AJ.isEmpty(AQ),Ag=AJ.isEmpty(Ab)
	if(!(AU&&Ag)&&AQ!==Ab){AW.set("value",Ab)
	}AW.set("visible",true)
	AW.set("hint",AV?mstrmojo.desc(8191,"value1## value2## ...## valueN").replace(/##/g,mstrConfig.listSep||"
	"):"")
	try{if(Ak.alias!=="c1"||Ak.parent.c1Selected){AW.focus&&AW.focus()
	}}catch(Aa){}if(AX===1||AX===2){AW.constraints.min=0
	}if(AW.clearValidation){AW.clearValidation()
	}}else{AW.set("visible",false)
	}}if(AY.hasPrompt&&Ak.selectedItem&&Ak.selectedItem.st===U.STP.PROMPT_STRING){AY.invalid0=false
	}switch(AT.et){case O.AQ:case O.AL:case O.MQ:if(Ai&&Ai.p){Ak.set("selectedItem",Ai.p)
	}else{Ak.set("selectedIndex",AS)
	}break
	case O.MC:case O.AC:Ak.set("selectedItem",AT[Y[AT.et]+(2+Ac)])
	break
	}}Ak.updating=false
	}function AK(){var AT=this.parent,AR=AT.parent.parent.parent,AS=(this.isValid&&this.isValid())||(!this.isValid&&!AJ.isEmpty(this.value)),AQ=AR.model
	AR["invalid"+AT.cstIndex]=!AS
	if(!this.updating&&AS){this.updating=true
	if(AQ){AQ.edit(AT.alias,{v:this.value,dtp:this.dtp})
	}this.updating=false
	}if(AR.updateOkBtn){AR.updateOkBtn()
	}}function k(AR){var AQ=[{did:660,cfg:{scriptClass:"mstrmojo.ValidationTextBox",required:true,constraints:{trigger:mstrmojo.validation.TRIGGER.ONKEYUP|mstrmojo.validation.TRIGGER.VALUESET},onValid:AK,onInvalid:AK,onClearValidation:Z,size:6,visible:false}},{did:154,cfg:{scriptClass:"mstrmojo.Calendar",onvalueChange:AK,visible:false}},{did:23,cfg:{scriptClass:"mstrmojo.DateTextBox",cssText:"margin-left:9px
	",cssDisplay:"inline-block",required:true,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL-mstrmojo.validation.TRIGGER.ALL.ONBLUR},onValid:AK,onInvalid:AK,onClearValidation:Z,calendarToBody:true,autoFormat:false,calConfig:{onmousedown:function(AS){W.stopPropogation(AS.hWin,AS.e)
	}},visible:false}}]
	return N(X.copy(AR,{scriptClass:"mstrmojo.WidgetDial",makeObservable:true,itemFunction:o,selectionPolicy:"reselect",items:AQ.concat(),txtIndex:0,calIndex:2,dtxtIndex:2,preLen:AQ.length,insertUnlistedValuesAt:-1,itemIdField:"did",update:function(){L(this,this.cstIndex)
	this.parent.updateScrollbars()
	},postCreate:function(){this._super()
	this.parent.parent.parent.attachEventListener("updateTargets",this.id,function(){this.update()
	})
	},itemsEffect:undefined,onchange:b}))
	}function AM(AR,AQ){var AS=AQ+U.FN_SEP+AR
	return(AR!=null)?{did:AS,n:AS}:null
	}function Q(AS){var AU=this.selectedItem
	AS=u.filter(AS,function(AV){return(!AV.icf)
	})
	if(AU){var AR=u.find(AS,this.itemIdField,AU[this.itemIdField])
	if(AR>-1){AS=AS.concat()
	AS.splice(AR,1)
	}}F(this,r,AS)
	var AT=this.items,AQ=AT.length
	if(AQ===1){this.singleSelect(0)
	}this.updateScrollbars&&this.updateScrollbars()
	this.parent&&this.parent.updateScrollbars&&this.parent.updateScrollbars()
	}function e(AQ,AR){if(mstrApp&&(mstrApp.isWorkstation||mstrApp.hasOwnProperty("isDossier"))){mstrApp.serverRequest(AQ.params,AR)
	}else{if(AQ._delayId){window.clearTimeout(AQ._delayId)
	delete AQ._delayId
	}AQ._delayId=window.setTimeout(function(){delete AQ._delayId
	AQ.send()
	},500)
	}}function p(AS,AR,AT,AW){AS.updating=true
	if(AR){if(AT!=null){AS.set("items",[])
	AS.clearSelect()
	AS.set("items",AT)
	}var AV=AS.itemIdField,AU=AS.selectedItem
	if((AU&&AU[AV])!=(AW&&AW[AV])){var AQ=Math.max(u.indexOf(AI((AT||[]),function(AX){return AX[AV]
	}),AW&&AW[AV]),0)
	AS.set("selectedIndex",AQ)
	}}AS.updating=false
	}function M(AS,AR,AT,AW){AS.updating=true
	if(AR){if(AT!=null){AS.set("items",AT)
	}var AV=AS.itemIdField,AU=AS.getSelectedItem()
	if((AU&&AU[AV])!=(AW&&AW[AV])){var AQ=Math.max(u.indexOf(AI((AT||[]),function(AX){return AX[AV]
	}),AW&&AW[AV]),0)
	AS.set("selectedIndex",AQ)
	}}AS.updating=false
	}function h(AQ){return N(X.copy(AQ,{insertUnlistedValuesAt:-1,hasDummyLabel:true,postCreate:function(){v.apply(this,[])
	this.ajx=mstrmojo.insert({parent:this,scriptClass:"mstrmojo.AjaxCall",isTask:true,readCache:true,writeCache:true,params:{taskId:"getAttributeForms",attributeId:null,displayedForms:"0",styleName:"MojoAttributeStyle"},onsuccess:function(){var AT=this.parent,AS=this.response
	if((AS&&AS.did)!==AT.lastAttrId){return 
	}Q.call(this.parent,AS.fms||[])
	},onerr:function(){F(this.parent,r,[K])
	}})
	},update:function AR(){var Ag=this.fmPost,Aa=this,AU=this.parent.parent.parent,AX=AU.model,Ae=AX&&AX["a"+Ag],Ac=!!Ae,AW,Ab,Af,AT=AU.disableElementsBrowsing,AS=Ae&&AT&&AT(Ae)
	if(Ac){switch(AX.et){case O.AQ:case O.AL:Ab=AX.fm
	break
	case O.AC:Ab=AX["fm"+Ag]
	break
	case O.AE:Ab=AM(AX.fn,1)
	break
	}if(this.lastAttrId!==Ae.did){this.lastAttrId=Ae.did
	AW=[]
	if(this.isFirstFm){if(!AS&&(!Ae.ilk&&(!AU.ets||AU.ets[O.AE]))){if(this.hasDummyLabel){AW.push(AC)
	}var AZ=z[O.AE],Ad=AZ&&AZ.key,AV=AZ.def
	AW=AW.concat((Ad&&AU[Ad])||AV||[])
	u.forEach(AW,function(Ah){Ah.cls="fn"
	})
	}if(this.hasDummyLabel){AW.push(mstrApp.isWSStyling?B:x)
	}}if(Ab&&(AX.et!==O.AE)){AW.push(Ab)
	}Af=this.ajx
	Af.params.attributeId=Ae.did
	Af.params.otp=Ae.t||12
	AW.push(r)
	J.makeObservable(AW)
	}}if(AS&&AX.et===O.AE){Ab=null
	}p(this,Ac,AW,Ab)
	if(Ac&&Af){var AY
	if(AU.getAttributeForms){AY=AU.getAttributeForms(Ae.did)
	}else{if(Ae.fms){AY=Ae.fms
	}}if(AY&&AY.length>0){Q.call(this,AY)
	}else{if(Ae&&Ae.t===AP.Consolidation){Q.call(this,[])
	}else{if(Af){t.fetchFormList(Af,{success:function(Ah){if((Ah&&Ah.did)!==Aa.lastAttrId){return 
	}Q.call(Aa,Ah.fms||[])
	},failure:Af.onerror})
	}}}}}}))
	}function AH(AQ){if(AQ&&!X.isEmpty(AQ)){var AR=u.hash(S)
	X.forEach(AQ,function(AT,AS){if(AT){AR[m[AS]]=true
	}})
	return AR
	}return null
	}function n(AQ,AR,AT,AS){AQ.updating=true
	AQ.clearSelect()
	u.forEach(AR,function(AU){AU.title=AJ.encodeHtmlString(AU.title||AU.n||"")
	})
	if(AR){AQ.set("items",AR)
	}if(AT&&AT.length){AQ.setSelectedItems(AT)
	}else{if(AS&&AS.length){AQ.select(AS)
	}}AQ.updating=false
	}function d(AR,AQ,AS,AU,AT){if(AQ){n(AR,AS,AU,AT)
	}}mstrmojo.rw.ConditionList=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList],{scriptClass:"mstrmojo.rw.ConditionList",allowUnlistedValues:true,itemIdField:"did",getItemProps:function w(AU,AQ){var AT=!!this.selectedIndices[AQ],AW=AU.n,AS=false,AV=AU.ndetype===G.DssRecursiveDerivedElement
	if(AU.t===12){var AR=u.filter(AU.fs,function(AX){return AX.fgr>0
	})
	if(AR.length>0){AS=true
	}}return X.copy({cls:(AT?mstrmojo._IsList.SELECTED_CLS:"")+" "+(AU.css||"")+" "+(AU.t?("t"+AU.t+((AU.da||AU.um)?"d":"")+(AS?"g":"")+(AU.st?(" st"+AU.st+(AV?" nde4ra":"")):"")):""),n:AW||"&nbsp
	"},this._super(AU,AQ))
	},onselectionChange:function AE(AQ){this._super(AQ)
	b.call(this,AQ)
	}})
	mstrmojo.rw.ConditionWalkProviderBase=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.rw.ConditionWalkProviderBase",browseEs:function c(AT,AS,AV){AT.openPopup("eb",{zIndex:AT.parent.zIndex+10,left:Math.round(AV.x)+"px",top:Math.round(AV.y)+"px"})
	var AR=AT.eb.browser,AQ=AT.model,AU=AQ&&AQ.a&&AQ.a.did
	if(!AU){return 
	}AR.set("attributeID",AU)
	AR.set("selectedItems",AQ.es?X.clone(AQ.es):[])
	AR.initBrowser()
	},browseObjs:function AG(AX,AQ,AR){AX.openPopup("ob",{zIndex:AX.parent.zIndex+10,left:Math.round(AR.x)+"px",top:Math.round(AR.y)+"px"})
	var AS=AX.ob.browser
	AS.target=AQ
	var AT
	switch(AQ.alias){case"dmy":AT=[U.TP.ATTR,U.TP.DIM]
	break
	case"c0":case"c1":var AV=AX.model,AU=AV&&AV.et,AY=AV&&AV.fm,AW=AY&&AY.dtp||(AV.m?U.DTP.DECIMAL:U.DTP.UNKNOWN)
	AT=(AU===O.MQ||AU===O.MC)?[U.TP.METRIC,U.DTP2PROMPT_STP[AW]]:[U.TP.ATTR,U.DTP2PROMPT_STP[AW]]
	break
	default:AT=AH(AX.ets)
	AT=AT?X.keyarray(AT,true):[U.TP.ATTR,U.TP.METRIC,U.STP.REPORT_GRID,U.STP.REPORT_GRAPH,U.STP.REPORT_ENGINE,U.STP.REPORT_TEXT,U.STP.REPORT_DATAMART,U.STP.REPORT_BASE,U.STP.REPORT_GRIDGRAPH,U.STP.REPORT_NONINTERACTIVE,U.STP.FILTER].concat(S)
	}AT[AT.length]=U.TP.FOLDER
	AS.browse({rootFolderType:AV&&(AV.et===O.MQ||AV.et===O.MC)?5:26,folderLinksContextId:33,onSelectCB:[AX,"onOBSelect"],browsableTypes:AT.join(",")})
	},})
	var t=mstrmojo.rw.ConditionWalkProviderBase
	t.fetchFormList=e
	t.onWalkChange=b
	t.replaceItem=F
	t.getChildJSON=N
	t.walkChildPostCreateFn=v
	t.cstJson=k
	t.isComparisonAllowed=AL
	t.clearInvalid=Z
	t.updateCst=L
	t.widgetItemFn=o
	t.shouldShowCst=H
	t.getConstant=a
	t.getConstantDataType=I
	t.getConstantValue=AA
	t.isDATE=AO
	t.getCstListCompareTgts=f
	t.fmJson=h
	t.fnItem=AM
	t.updateList=p
	t.allowedTargetTypes=AH
	t.updatePulldown=M
	t.onWalkChangeThroughPulldown=R
	t.updateListMultiData=n
	t.updateListMulti=d
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.array","mstrmojo.string","mstrmojo.expr","mstrmojo.date","mstrmojo.ValidationTextBox","mstrmojo.DateTextBox")
	var Z=mstrmojo.array,X=mstrmojo.css,M=mstrmojo.string,W=mstrmojo.date,U=mstrmojo.expr,D=U.FN,H=mstrmojo.validation
	var A={}
	A[D.BETWEEN]=D.NOT_BETWEEN
	A[D.NOT_BETWEEN]=D.BETWEEN
	A[D.GREATER_EQUAL]=D.LESS
	A[D.LESS]=D.GREATER_EQUAL
	A[D.LESS_EQUAL]=D.GREATER
	A[D.GREATER]=D.LESS_EQUAL
	A[D.SEARCH]=D.SEARCH
	var P=mstrmojo.desc(144882,"Calendar Selector")
	function L(a){if(this.value!==this._lastInput){Y.call(this,a,true)
	}}function R(a){mstrmojo.DateTextBox.prototype.onclick.call(this,a)
	X.addClass(this.calendar&&this.calendar.domNode,mstrApp.getThemeClassName())
	}function Y(a,f){var e=this.parent.parent
	if(!e._inSyncPhase){var c=this.calendar&&this.calendar.cal,d=this,b=e.submitTimer
	if(b){window.clearTimeout(b)
	}if(!mstrApp.isWaiting()){if(f||c&&c.value===this.value){this._lastInput=this.value
	e.submit(d)
	}else{e.submitTimer=window.setTimeout(function(){d._lastInput=d.value
	e.submit(d)
	},3000)
	this.set("dynDateValue",null)
	if(c){c.set("value",this.value)
	}}}else{if(this._lastInput){this.set("value",this._lastInput)
	}}}}function O(e){if(!e.isDyn){return null
	}var c=["isDyn"]
	c.push(e.dyt||0)
	c.push(e.ddo||0)
	c.push(e.dmo||0)
	c.push(e.dm||0)
	c.push(e.dd||0)
	c.push(e.dw||0)
	c.push(e.dow||0)
	c.push(e.v||"")
	if(e.dtp===U.DTP.TIMESTAMP){var b=W.parseDateAndOrTime(e.v||""),a=b&&b.time
	if(a){e.dh=a.hour
	e.dmi=a.min
	e.ds=a.sec
	}}c.push(e.dh||0)
	c.push(e.dmi||0)
	c.push(e.ds||0)
	return c.join("::")
	}function G(h,a,d){return{parent:h,dt:a,f:d,setDataType:function e(f){this.dt=f
	},setFunction:function j(l){this.f=l
	},hasSecTextBox:function b(){var l=this.f
	return l!==D.SEARCH
	},adjustVisibleFields:function g(){var f=this.parent
	if(!this.hasSecTextBox()){f.toBox.set("visible",false)
	f.fromBox.fromLabel.set("visible",false)
	}if(a===U.DTP.DATE||a===U.DTP.TIMESTAMP){f.fromBox.fromInput.set("visible",false)
	f.toBox.toInput.set("visible",false)
	}else{f.fromBox.fromPicker.set("visible",false)
	f.toBox.toPicker.set("visible",false)
	}},setMinMaxToInputs:function k(n,m){if(!this.hasSecTextBox()){return 
	}var f=n.value&&n.validationStatus&&n.validationStatus.code===H.STATUSCODE.VALID,l=m.value&&m.validationStatus&&m.validationStatus.code===H.STATUSCODE.VALID
	if(n.constraints){n.constraints.min=null
	n.constraints.max=l?m.value:null
	}if(m.constraints){m.constraints.min=f?n.value:null
	m.constraints.max=null
	}},passValueToInputs:function c(o){var r=this.parent,u,t,q=this.f,n=o&&o[0],l=o&&o[1],m=function(f,p){if(q===D.SEARCH||f.v!=="*"){p.set("value",f.v)
	p._lastInput=f.v
	if(a===U.DTP.DATE||a===U.DTP.TIMESTAMP){p.set("dynDateValue",O(f))
	}}}
	if(a===U.DTP.DATE||a===U.DTP.TIMESTAMP){u=r.fromBox.fromPicker
	t=r.toBox.toPicker
	}else{u=r.fromBox.fromInput
	t=r.toBox.toInput
	}switch(q){case D.BETWEEN:case D.NOT_BETWEEN:if(n){m(n,u)
	}else{u.set("value",u.min||"")
	u._lastInput=u.min||""
	}if(this.hasSecTextBox()&&l){m(l,t)
	}else{t.set("value",t.max||"")
	t._lastInput=t.max||""
	}break
	case D.GREATER_EQUAL:case D.LESS:if(n){m(n,u)
	t.set("value",t.max||"")
	t._lastInput=t.max||""
	}break
	case D.LESS_EQUAL:case D.GREATER:if(n){m(n,t)
	u.set("value",u.min||"")
	u._lastInput=u.min||""
	}break
	}this.setMinMaxToInputs(u,t)
	}}
	}function E(){return[{scriptClass:"mstrmojo.Box",alias:"fromBox",cssClass:"from-box",children:[{scriptClass:"mstrmojo.Label",alias:"fromLabel",cssDisplay:"inline-block",cssClass:"input-label",text:"<span>"+mstrmojo.desc(146,"From:")+"</span>",allowHTML:true},{scriptClass:"mstrmojo.ValidationTextBox",alias:"fromInput",cssDisplay:"inline-block",required:false,constraints:{trigger:H.TRIGGER.ALL},autoFormat:false,onEnter:L,onblur:L,_lastInput:null,bindings:{dtp:"this.parent.parent.dt"}},{scriptClass:"mstrmojo.DateTextBox",enableAccessibility:true,alias:"fromPicker",cssDisplay:"inline-block",iconAriaLabel:P,required:false,calendarToBody:true,constraints:{trigger:H.TRIGGER.ALL},autoFormat:false,onvalueChange:Y,onEnter:L,onblur:L,_lastInput:null,bindings:{dtp:"this.parent.parent.dt",min:"this.parent.parent.min",max:"this.parent.parent.max",defaultDate:"this.parent.parent.min",showAdvanced:"this.parent.parent.showAdvanced",canSelectDisabledDate:"this.parent.parent.canSelectDisabledDate"},onclick:R}]},{scriptClass:"mstrmojo.Box",alias:"toBox",cssClass:"to-box",children:[{scriptClass:"mstrmojo.Label",alias:"toLabel",cssDisplay:"inline-block",cssClass:"input-label",text:"<span>"+mstrmojo.desc(147,"To:")+"</span>",allowHTML:true},{scriptClass:"mstrmojo.ValidationTextBox",alias:"toInput",cssDisplay:"inline-block",required:false,constraints:{trigger:H.TRIGGER.ALL},autoFormat:false,onEnter:L,onblur:L,_lastInput:null,bindings:{dtp:"this.parent.parent.dt"}},{scriptClass:"mstrmojo.DateTextBox",enableAccessibility:true,alias:"toPicker",cssDisplay:"inline-block",iconAriaLabel:P,required:false,calendarToBody:true,constraints:{trigger:H.TRIGGER.ALL},autoFormat:false,onvalueChange:Y,onEnter:L,onblur:L,_lastInput:null,bindings:{dtp:"this.parent.parent.dt",min:"this.parent.parent.min",max:"this.parent.parent.max",defaultDate:"this.parent.parent.max",showAdvanced:"this.parent.parent.showAdvanced",canSelectDisabledDate:"this.parent.parent.canSelectDisabledDate"},onclick:R}]}]
	}mstrmojo.vi.ui.rw.selectors.AttrQualInputBox=mstrmojo.declare(mstrmojo.Box,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.vi.ui.rw.selectors.AttrQualInputBox",markupString:'<div id="{@id}" class="{@cssClass}" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode
	}},cssClass:"Attr-Qual-InputBox",children:null,setupScrollNodes:function I(){this.scrollNode=this.supportScrollbar?this.containerNode:null
	},widgetResized:function(){var d=this,a=parseInt(this.width,10),b=["fromBox","toBox"],e,c,f
	if(!this.widgetHelper.hasSecTextBox()){b=["fromBox"]
	}if(a>368){c=true
	}else{c=false
	}if(d.parent.isInFilterPanel()||!this.widgetHelper.hasSecTextBox()){c=false
	return 
	}window.setTimeout(function(){e=d.hasRendered
	if(d.fromBox&&d.fromBox.domNode){f=d.fromBox.fromLabel.domNode.children[0].offsetWidth+d.fromBox.fromPicker.domNode.offsetWidth
	f+=d.toBox.toLabel.domNode.children[0].offsetWidth+d.toBox.toPicker.domNode.offsetWidth
	f+=80
	}Z.forEach(b,function(g){if(e){if(f>a){c=false
	}X.toggleClass(d[g].domNode,"onerow",c)
	d[g].domNode.style.display=c?"inline-block":"block"
	}else{if(c){X.addWidgetCssClass(d[g],"onerow")
	d[g].cssDisplay="inline-block"
	}else{X.removeWidgetCssClass(d[g],"onerow")
	d[g].cssDisplay="block"
	}}})
	if(d.supportScrollbar){d.updateScrollbars()
	}},0)
	},init:function S(a){this.children=E()
	if(this._super){this._super(a)
	}if(this.supportScrollbar){mstrmojo.hash.copy({markupString:'<div id="{@id}" class="{@cssClass}" style="{@cssText}"><div style="height: {@height}
	width: {@width}"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	}}},this)
	}this.widgetHelper=G(this,this.dt,this.f)
	this.updateWidgetByData()
	},update:function F(a){if(a){this.cs=a.cs
	this.f=a.f||D.BETWEEN
	if(a.ft){this.ft=a.ft
	}if(a.fid){this.fid=a.fid
	}if(a.min){this.set("min",a.min)
	}if(a.max){this.set("max",a.max)
	}}this.updateWidgetByData()
	},updateWidgetByData:function Q(){var a=this.widgetHelper,b=this.cs,c=this.f
	this._inSyncPhase=true
	a.setFunction(c)
	a.adjustVisibleFields()
	a.passValueToInputs(b)
	this._inSyncPhase=false
	},onincludeChange:function J(){this.f=A[this.f]
	if(!this._inSyncPhase){this.onchange()
	}},getCSFun4NonSearchType:function C(g,c){var f=[],e=this.parent,a=e&&e.include,b=e&&e.model,d
	if(!M.isEmpty(g)&&!M.isEmpty(c)){f[0]={v:g}
	f[1]={v:c}
	d=a?D.BETWEEN:D.NOT_BETWEEN
	}else{if(!M.isEmpty(g)){if(b&&b.isFromSolrCube&&b.isFromSolrCube(this.srcid)){f[0]={v:g}
	f[1]={v:"*"}
	d=a?D.BETWEEN:D.NOT_BETWEEN
	}else{f[0]={v:g}
	d=a?D.GREATER_EQUAL:D.LESS
	}}else{if(!M.isEmpty(c)){if(b&&b.isFromSolrCube&&b.isFromSolrCube(this.srcid)){f[0]={v:"*"}
	f[1]={v:c}
	d=a?D.BETWEEN:D.NOT_BETWEEN
	}else{f[0]={v:c}
	d=a?D.LESS_EQUAL:D.GREATER
	}}}}return{cs:f,funcVal:d}
	},submit:function K(g){var e=this.cs=[],c=this.widgetHelper,b=(g.validationStatus.code===H.STATUSCODE.VALID),h=g,j=g,d
	if(c.hasSecTextBox()){switch(g.alias){case"toInput":d=this.fromBox.fromInput
	break
	case"toPicker":d=this.fromBox.fromPicker
	break
	case"fromInput":d=this.toBox.toInput
	break
	case"fromPicker":d=this.toBox.toPicker
	break
	default:break
	}h=(g.alias.indexOf("from")===0)?g:d
	j=(g.alias.indexOf("to")===0)?g:d
	c.setMinMaxToInputs(h,j)
	d.validate()
	if(d.validationStatus.code!==H.STATUSCODE.VALID){b=false
	}}if(b){if(c.hasSecTextBox()){var a=h.dynDateValue||h.value,f=j.dynDateValue||j.value,k=this.getCSFun4NonSearchType(a,f)
	this.unset=M.isEmpty(a)&&M.isEmpty(f)
	this.cs=k.cs
	if(k.funcVal!==undefined){this.f=k.funcVal
	}c.setMinMaxToInputs(h,j)
	}else{e[0]={v:g.value}
	this.unset=M.isEmpty(e[0].v)
	this.f=D.SEARCH
	}this.onchange()
	if(this.makeSelection){this.makeSelection({selItem:this.domNode})
	}}},buildConstants4Prompt:function B(){var b=this.widgetHelper,c=this.dt,f,e
	if(c===U.DTP.DATE||c===U.DTP.TIMESTAMP){f=this.fromBox.fromPicker
	e=this.toBox.toPicker
	}else{f=this.fromBox.fromInput
	e=this.toBox.toInput
	}if(b.hasSecTextBox()){var d=f.value,a=e.value
	return this.getCSFun4NonSearchType(d,a)
	}return{cs:[{v:f.value}],funcVal:D.SEARCH}
	},getSummaryText:function N(){var c=this.cs||[],d=this.f
	if(this.unset||!c.length||M.isEmpty(c[0].v)&&(c.length<=1||M.isEmpty(c[1].v))){return""
	}var b="",a=this.parent.include
	switch(d){case D.BETWEEN:case D.NOT_BETWEEN:b=mstrmojo.desc(4804).replace("##",c[0].v).replace("###",c[1].v)
	break
	}if(!a){b=mstrmojo.desc(13232,"Not ##").replace("##",b)
	}return b
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.Model","mstrmojo.Container","mstrmojo.Button","mstrmojo.Label","mstrmojo.DateTextBox","mstrmojo.TextArea","mstrmojo.ui.CheckList","mstrmojo.ui.Pulldown","mstrmojo.ui.MultiSelectPulldown","mstrmojo.ui.editors.controls.TwoColumnContainer","mstrmojo._HasPopup")
	mstrmojo.requiresDescs(2,3,520,686,687,688,698,699,1050,5688,6013,8956,9163)
	var H=mstrmojo.desc,I=mstrmojo.array,C=mstrmojo.hash,K=mstrmojo.validation,F=mstrmojo.Button.newWebButton
	var J
	var E=function(P,N,O){if(!this.hasRendered){return 
	}mstrmojo.all[J].model.settings[P]=N
	if(O!==false){mstrmojo.all[J].onmodelChange()
	}}
	var G=function(O,N){N=N||{}
	return C.copy(N,{scriptClass:"mstrmojo.ui.CheckList",orientation:N.isVertical===false?"h":"v",multiSelect:!N.isRadio,items:O})
	}
	var L=function(P,O,N){return new mstrmojo.Box({alias:N,cssClass:"mstrmojo-SearchSettings-panel "+N,cssDisplay:"inline-block",children:[{scriptClass:"mstrmojo.Label",text:P}].concat(O)})
	}
	var B=function(N){var O=this
	return{scriptClass:"mstrmojo.DateTextBox",alias:N,cssDisplay:"block",cssClass:N,width:120,required:false,calendarToBody:true,calendarZIndex:112,constraints:{trigger:K.TRIGGER.ALL},autoFormat:false,bindings:{value:function(){return O.model.settings[N]
	}},onfocus:function(){this.parent.parent.dateSubType.set("selectedIndex",1)
	},getSetting:function(){return{p:this.alias,v:this.value}
	}}
	}
	mstrmojo.mstr.search.SearchSettings=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.mstr.search.SearchSettings",visible:false,markupString:'<div class="mstrmojo-SearchSettings {@cssClass}" style="{@cssText}"><div class="mstrmojo-SearchSettings-container"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},onmodelChange:mstrmojo.emptyFn,init:function M(N){if(this._super){this._super(N)
	}J=this.id
	},postBuildRendering:function A(){var O=this
	this.prepareObjectTypes()
	var N=[]
	this.addChildren([L(H(8956,"Object type"),{scriptClass:"mstrmojo.ui.MultiSelectPulldown",alias:"objectType",isHostedWithin:true,orientation:"v",multiSelect:true,items:I.map(this.allowedObjectTypesData,function(R,Q){if(I.indexOf(O.model.settings.objectType,R.t)>-1){N[Q]=true
	}return{n:R.d,t:R.t}
	}),selectedIndices:N,allIdx:-1,onselectionChanged:function(){var Q=this.items
	E.call(this,this.alias,I.map(C.keyarray(this.selectedIndices),function(R){return Q[R].t
	}))
	},onchange:function(){var Q=this.items
	E.call(this,this.alias,I.map(C.keyarray(this.selectedIndices),function(R){return Q[R].t
	}))
	},getPopupWidget:function P(){var Q=this
	this.popupWidget.onClose=function(){this.list.selectedIndices=mstrmojo.hash.copy(Q.selectedIndices)
	this.list.refresh()
	}
	return this.popupWidget
	}},"objectTypePanel"),L(H(60,"Owner"),mstrmojo.ui.Pulldown.newPulldown([{n:H(698,"Created by any user"),v:1},{n:H(699,"Created only by me"),v:2}],function(Q,R){if(Q.v!==R.v){E.call(this,this.alias,Q.v)
	}},0,{alias:"ownerType"}),"ownerPanel"),L(H(2052,"Date"),[mstrmojo.ui.Pulldown.newPulldown([{n:mstrmojo.desc(2058,"All"),v:0},{n:mstrmojo.desc(694,"Created"),v:1},{n:mstrmojo.desc(61,"Modified"),v:2}],function(Q,R){if(Q.v!==R.v){E.call(this,"dateType",Q.v===0?1:2,false)
	E.call(this,this.alias,Q.v,Q.v===0)
	}},0,{alias:"created",cssClass:"mstrmojo-SearchSettings-date-pulldown"}),mstrmojo.Button.newIconButton(H(5688,"Show dates"),"mstrmjo-SearchSettings-calendar",function(){this.parent.datePopup.open()
	},{visible:function(){var Q=this.parent.created.selectedIndex!==0
	if(Q){this.parent.datePopup.open()
	}return Q
	}},{alias:"calIcon"}),{scriptClass:"mstrmojo.ui.PopupWidget",cssClass:"mstrmojo-SearchSettings-dates-popupWidget",alias:"datePopup",visible:false,children:[{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",alias:"dateContainer",cssClass:"mstrmojo-SearchSettings-dates",width:"238px",col1Width:"90px",col2Width:"130px",children:[G([{n:mstrmojo.desc(4049,"Last"),v:1},{n:mstrmojo.desc(294,"Between"),v:2}],{alias:"dateSubType",isRadio:true,bindings:{selectedIndex:function(){return I.find(this.items,"v",O.model.settings.dateSubType)
	}},postselectionChange:function(){if(this.hasRendered){if(this.selectedIndex===0){this.parent.intervalBox.intervalValue.inputNode.focus()
	}else{this.parent.intervalBox.startDate.inputNode.focus()
	}}},getSetting:function(){return{p:this.alias,v:this.items[this.selectedIndex].v}
	},slot:"col1Node"}),{scriptClass:"mstrmojo.Box",cssDisplay:"inline-block",alias:"intervalBox",children:[{scriptClass:"mstrmojo.TextBox",alias:"intervalValue",cssClass:"intervalValue",cssDisplay:"inline-block",size:1,maxLength:4,bindings:{value:function(){return mstrmojo.all.searchSettings.model.settings.intervalValue
	}},onvalueChange:function(){if(this.value&&this.value.length>0){var Q=new RegExp("^[0-9]*$","g")
	if(!Q.test(this.value)){this.set("value",this.value.substring(0,this.value.length-1))
	}}},onfocus:function(){this.parent.parent.dateSubType.set("selectedIndex",0)
	},getSetting:function(){return{p:this.alias,v:this.value||""}
	}},mstrmojo.ui.Pulldown.newPulldown([{n:mstrmojo.desc(708,"Hours"),v:1},{n:mstrmojo.desc(707,"Days"),v:2},{n:mstrmojo.desc(714,"Weeks"),v:3},{n:mstrmojo.desc(710,"Months"),v:4},{n:mstrmojo.desc(709,"Years"),v:5}],function(Q,R){if(Q.v!==R.v){}},0,{alias:"intervalUnit",cssClass:"intervalUnit",cssDisplay:"inline-block",getSetting:function(){return{p:this.alias,v:this.items[this.selectedIndex].v}
	}}),B.call(this,"startDate"),B.call(this,"endDate")],slot:"col2Node"}]},{scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-Buttons",children:[F(mstrmojo.desc(1442,"Ok"),function(){var R=this.parent.parent.dateContainer,Q=R.intervalBox
	var S=[R.dateSubType,Q.intervalValue,Q.intervalUnit,Q.startDate,Q.endDate]
	I.forEach(S,function(U){var W=U.getSetting()
	mstrmojo.all[J].model.settings[W.p]=W.v
	mstrmojo.all[J].onmodelChange()
	})
	this.parent.parent.close()
	},true,{cssDisplay:"inline-block"}),F(mstrmojo.desc(2140,"Cancel"),function(){this.parent.parent.close()
	},false,{cssDisplay:"inline-block"})]}]}],"datepanel"),L(H(6013,"Description (contains)"),{scriptClass:"mstrmojo.TextArea",alias:"description",rows:1,bindings:{value:function(){return mstrmojo.all.searchSettings.model.settings.description
	}},onvalueChange:function(){E.call(this,this.alias,this.value)
	}},"descriptionPanel")])
	if(this._super){this._super()
	}},prepareObjectTypes:function D(){var P=[],Q=[]
	this.allowedObjectTypes=this.allowedObjectTypesData.concat([])
	I.forEach(this.allowedObjectTypes,function(S,R){P[R]=parseInt(S.t,10)
	Q[P[R]]=S.d
	})
	if(this.allowedObjectTypes.length===0){this.model.settings.objectType=[]
	return 
	}var N=this.allowedObjectTypes,O=this.model.settings.objectType
	I.forEach([].concat(O),function(R){I.removeItems(O,"t",I.find(N,"t",parseInt(R,10))===-1?[R]:null)
	})
	if(O.length===0&&!(this.isMiniSearchBox||this.isDesktopSearchBox)){O=I.map(this.allowedObjectTypes,function(R){return R.t
	})
	}this.model.settings.objectType=O
	}})
	mstrmojo.mstr.search.SearchSettings.getLocationPulldown=function(N){var P=[{n:mstrApp.projectAlias||mstrConfig.projectName,v:39},{n:H(2,"Shared Reports"),v:7},{n:H(3,"My Reports"),v:20}],Q=0
	if(N.rootFolderType===0){P.push({n:N.rootFolderName||"",v:0})
	Q=3
	}else{Q=I.find(P,"v",N.rootFolderType)
	}return mstrmojo.ui.Pulldown.newPulldown(P,function O(R,S){if(R.v!==S.v){E.call(this,"rootFolderType",R.v)
	}},Q,mstrmojo.hash.copy(N,{cssDisplay:"inline-block"}))
	}
	mstrmojo.mstr.search.SearchSettings.getSearchTypePulldown=function(N){return mstrmojo.ui.Pulldown.newPulldown([{n:H(686,"Contains"),v:N.qse?16:1},{n:H(520,"Exactly"),v:2},{n:H(687,"Begins With"),v:4},{n:H(688,"Ends with"),v:8}],function O(P,Q){if(P.v!==Q.v){E.call(this,"nameWildcards",P.v)
	}},0,mstrmojo.hash.copy(N,{cssDisplay:"inline-block",cssClass:"searchType"}))
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.date","mstrmojo.DateTextBox","mstrmojo._IsInputControl")
	var B=mstrmojo.css,A=mstrmojo.expr.DTP
	mstrmojo.CalendarDIC=mstrmojo.declare(mstrmojo.DateTextBox,[mstrmojo._IsInputControl],{scriptClass:"mstrmojo.CalendarDIC",autoFormat:false,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL},onvalueChange:function(){if(!this.showByDefault){var F=this.calendar.cal,D=mstrmojo.date,E=this.dic.min,C=this.dic.max
	this.invalid=mstrmojo.string.trim(this.value||"").length===0||this.validationStatus.code>mstrmojo.validation.STATUSCODE.VALID
	if(F.value!==this.value){F.set("value",this.value)
	}else{if(E&&D.compareDateAndOrTime(E,F.value)>0){this.value=E
	}else{if(C&&D.compareDateAndOrTime(F.value,C)>0){this.value=C
	}}}}},getInputNode:function(){return this.inputNode
	},init:function(C){this._super(C)
	this.dtp=this.dic.ict?A.TIMESTAMP:A.DATE
	},focus:function(){mstrmojo.dom.setCaret(this.inputNode,((this.value&&this.value.length)||0))
	this.openPopup("calendar")
	this.adjustCalendarPopup()
	},adjustCalendarPopup:function(){var F=this.domNode,E=this.calendar.domNode,D=E.scrollWidth,I=mstrmojo.boxmodel.offset(this.openerNode,document.body),H=I.left,G,C=(document.body.offsetWidth-H-D-parseInt(B.getStyleValue(F,"paddingLeft"),10)-parseInt(B.getStyleValue(F,"paddingRight"),10))
	if(C<0){E.style.left=C+"px"
	}G=parseInt(I.top,10)
	if(G+this.inputNode.offsetHeight+E.offsetHeight<=mstrmojo.dom.windowDim().h){E.style.top=this.inputNode.offsetHeight+"px"
	}else{E.style.top=-E.offsetHeight+"px"
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.registry","mstrmojo.css","mstrmojo.Arr","mstrmojo.expr","mstrmojo.Label","mstrmojo.AjaxCall","mstrmojo.HTMLButton","mstrmojo.Container","mstrmojo._HasPopup","mstrmojo.HBox","mstrmojo.Dial","mstrmojo.WidgetDial","mstrmojo.ValidationTextBox","mstrmojo.Calendar","mstrmojo.DateTextBox","mstrmojo.Editor","mstrmojo.ObjectBrowser","mstrmojo.ElementsBrowser","mstrmojo.ConditionModel","mstrmojo.mstr.EnumNodeDimty")
	var D=mstrmojo.css,A=mstrmojo.registry,W=mstrmojo.hash,x=mstrmojo.array,F=x.find,H=mstrmojo.Arr,S=mstrmojo.expr,U=mstrmojo.dom,M=S.ET,AE=S.DTP,o=S.DTP2FN_DTP,Y=S.ET2TGT,m=S.ET2TP,C=mstrmojo.meta.TP,P=mstrmojo.meta.STP,AC=mstrmojo.string.encodeXMLAttribute,I=mstrmojo.mstr.EnumNodeDimty
	var AL=x.hash([I.NodeDimtyOutputLevel])
	var O={}
	O[M.AQ]={target:1,fm:1,fn:1,c0:1,c1:1}
	O[M.AL]={target:1,fm:1,fn:1,c0:1}
	O[M.AE]={target:1,fm:1,es:1}
	O[M.AC]={target:1,fm:1,fm2:1,fm3:1,fn:1,c0:1,c1:1}
	O[M.MQ]={target:1,fn:1,c0:1,c1:1,dmy:1}
	O[M.MC]=O[M.MQ]
	O["*"]={target:1}
	var AA={}
	AA[M.MQ]={key:"metricFns",def:S.METRIC_FNS}
	AA[M.MC]={key:"metricFns",def:S.METRIC_FNS}
	AA[M.AQ]={key:"formFns",def:S.FORM_FNS}
	AA[M.AL]={key:"formFns",def:S.FORM_FNS}
	AA[M.AC]={key:"formFns",def:S.FORM_FNS}
	AA[M.AE]={key:"elemFns",def:S.ELEM_FNS}
	var AG={}
	AG[M.AQ]=mstrmojo.desc(7925,"Select Attribute...")
	AG[M.AL]=mstrmojo.desc(7926,"Browse...")
	AG[M.MQ]=mstrmojo.desc(7927,"Select Metric...")
	AG[M.MC]=mstrmojo.desc(7927,"Select Metric...")
	AG[M.AC]=mstrmojo.desc(7925,"Select Attribute...")
	function AI(AQ,AS,AP){var AR=AQ[AS].style
	if(mstrmojo.dom.isFF){AR.overflow="hidden"
	AR.width=AP?"auto":"0px"
	AR.visibility=AP?"inherit":"hidden"
	}else{AR.display=AP?"block":"none"
	}}function w(AT){var AS=true,AP=AT.model,AQ,AR=AP&&S.fnCstCount(AP.fn,AP.fnt)
	if(!AP){return 
	}switch(AP.et){case M.AQ:case M.AL:case M.MQ:for(AQ=0
	AQ<AR
	AQ++){AS=AS&&!AT["invalid"+AQ]
	}break
	}AT.okBtn.set("enabled",AS&&!!AP.completed)
	}function AJ(AV){var AQ=AV.model,AY=AQ&&AQ.et,AW=O[AY]||O["*"],AP=AV.children,AR,AS=AP.length
	for(AR=0
	AR<AS
	++AR){var AU=AP[AR]
	if(!AU.isStep){continue
	}var AX=AU.alias,AT=AW[AX]
	AI(AV,AU.slot,AT)
	if(AT&&AU&&AU.update){AU.update()
	}}if(!AW.c1){AI(AV,"btwnNode",false)
	}if(!AW.dmy){AI(AV,"atNode",false)
	}w(AV)
	}function z(){var AQ=this.parent,AP=((AQ&&AQ.cssText)||"").match(/height:\s*(\d*)px/)
	this.cssText=AP&&AP[0]
	}var e="dummy",B={did:"idBrowse",v:"idBrowse",n:mstrmojo.desc(6571,"Browse..."),t:e,css:"unselectable link"},J={did:"idErr",v:"idErr",n:mstrmojo.desc(7929,"Error loading data."),t:e,css:"unselectable"},t={did:"idWait",v:"idWait",n:mstrmojo.desc(2901,"Loading..."),t:e,css:"unselectable"}
	function b(AR){if(this.updating){return 
	}var AS=this.multiSelect,AU=this.selectedItem
	if(AU&&AU[C]===e){this.updating=true
	if(AS){this.removeSelect([this.selectedIndex])
	}else{var AQ=AR&&AR.removed&&Number(AR.removed[0])
	AQ=(AQ==null)?-1:AQ
	this.set("selectedIndex",AQ)
	}this.updating=false
	if(AU===B){this.parent.browse(this)
	}}else{var AP=this.parent.model
	if(AS){var AT=this.items
	AP.edit(this.alias,{added:AR.added&&x.get(AT,AR.added),removed:AR.removed&&x.get(AT,AR.removed),itemIdField:this.itemIdField})
	}else{AP.edit(this.alias,AU)
	}}}function E(AR,AT,AQ){var AS=AR.items,AP=x.indexOf(AS,AT)
	if((AP===0)&&(AS.length===1)){AQ=mstrmojo.Arr.makeObservable((AQ&&AQ.length)?AQ.concat():[])
	AR.set("items",AQ)
	}else{if(AP>-1){AS.remove(AP,1)
	}if(AQ&&AQ.length){AS.add(AQ,(AP>-1)?AP:null)
	}}}function L(AP){return W.copy(AP,{scriptClass:"mstrmojo.Dial",slot:AP.alias+"Node",isStep:true,cssClass:"mstrmojo-walkstep mstrmojo-"+AP.alias,itemIdField:"did",itemMarkupFunction:function(AR,AQ,AS){var AT=AC(AR.n)
	return'<div class="dial-item '+AR.css+'" title="'+AT+'">'+AT+"</div>"
	},allowUnlistedValues:true,insertUnlistedValuesAt:0,onchange:b,postCreate:z})
	}function p(AR,AP,AS){var AQ=AR.cfg
	if(AQ){AQ.data=AR
	AQ.parent=AS
	return A.ref(AQ)
	}AQ=new mstrmojo.Label({text:AR.n,cssClass:"dial-item"})
	AQ.markupMethods.onselectedChange=function(){mstrmojo.css.toggleClass(this.domNode,["selected"],this.selected)
	}
	AQ.data=AR
	AQ.parent=AS
	return AQ
	}function AN(AQ,AP){var AR=AP+S.FN_SEP+AQ
	return(AQ!=null)?{did:AR,n:AR}:null
	}function N(){var AP=this.model
	if(AP){if(!AP.attachEventListener){mstrmojo.hash.make(AP,mstrmojo.ConditionModel,{})
	}AP.attachEventListener("edit",this.id,"onmodeledit")
	}}function k(AP){return AP.targets?x.filter(AP.targets,function(AQ){return AQ[C]===S.TP.ATTR
	}):[]
	}function a(AQ,AP){if(AP&&AP.detachEventListener){AP.detachEventListener("edit",AQ.id,"onmodeledit")
	}}function r(AQ,AP,AR,AU){AQ.updating=true
	AI(AQ.parent,AQ.slot,AP)
	if(AP){if(AR!=null){AQ.clearSelect()
	AQ.set("items",AR)
	}var AT=AQ.itemIdField,AS=AQ.selectedItem
	if((AS&&AS[AT])!=(AU&&AU[AT])){AQ.set("selectedItem",AU)
	}else{AQ.center()
	}}AQ.updating=false
	}function n(AP,AQ,AS,AR){AP.updating=true
	if(AQ!=null){}AP.clearSelect()
	if(AQ){AP.set("items",AQ)
	}if(AS&&AS.length){AP.setSelectedItems(AS)
	}else{if(AR&&AR.length){AP.select(AR)
	}else{AP.center()
	}}AP.updating=false
	}function d(AQ,AP,AR,AT,AS){AI(AQ.parent,AQ.slot,AP)
	if(AP){n(AQ,AR,AT,AS)
	}}function G(AR,AQ){var AP=AR.model||{},AS=AP.fn
	return(AS!=null)&&((AP.et===M.MQ)||(AP.et===M.MC)||(AP.et===M.AQ)||(AP.et===M.AL)||(AP.et===M.AC))&&(S.fnCstCount(AS,AP.fnt)>AQ)
	}var AM={}
	AM[AE.DATE]=1
	AM[AE.TIME]=1
	AM[AE.TIMESTAMP]=1
	function l(AS,AR,AU){var AQ=[],AP=AS.length,AT
	for(AT=0
	AT<AP
	AT++){if(F(AR,AU,AS[AT][AU])<0){AQ.push(AS[AT])
	}}return AQ
	}function AK(AP,AR){var AQ
	if(AR){switch(Y[AP.et]){case"a":AQ=AR[M.AC]
	break
	case"m":AQ=AR[M.MC]
	break
	default:AQ=false
	break
	}}else{AQ=true
	}return AQ&&S.fn_AC_MC(AP&&AP.fn)
	}function q(AQ){var AT=AQ&&m[AQ.et],AS=AQ&&AQ.fm&&AQ.fm.dtp,AP=AS&&S.DTP2PROMPT_STP[AS],AR={}
	AR[AT]=true
	if(AP){AR[AP]=true
	}return AR
	}function j(AV){var AP=this.targetsLastMod,Ag=AV.targetsLastMod,AS=AV.model,Af=this._lastTargetId,AQ=AS&&AS[Y[AS.et]]&&AS[Y[AS.et]][AV.target.itemIdField],AZ=AS&&AS.fm,Ab=AZ&&AZ.dtp,Ac=AK(AS,AV.ets),AW=false
	if(!AP||!Ag||(AP!=Ag)||Af!==AQ){this.targetsLastMod=AV.targetsLastMod
	AW=true
	}else{if(this.lastFmDtp!==Ab){this.lastFmDtp=Ab
	AW=true
	}else{if(this.lastFnTp!==Ac){this.lastFnTp=Ac
	AW=true
	}}}if(AW){if(!Ac){this.clearSelect()
	if(this.items.length!==this.preLen){this.set("items",this.items.slice(0,this.preLen))
	}}else{var AX=q(AS),AT=AV.targets?x.filter(AV.targets,function(Ah){return AX[Ah[C]]||AX[Ah[P]]
	}):[],Aa=this.items.slice(this.preLen),AY=this.itemIdField,Ae=l(Aa,AT,AY)||[],AU=l(AT,Aa,AY)||[],Ad,AR
	for(Ad=0,AR=Ae.length||0
	Ad<AR
	Ad++){this.remove(Ae[Ad])
	}if(AU.length>0){this.add(AU,-1)
	}}this._lastTargetId=AQ
	}}function K(Ah,AW){Ah.updating=true
	var AT=Ah.parent,Af=G(AT,AW)
	AI(Ah.parent,Ah.slot,Af)
	if(Af){var AZ=AT.model||{},AS=AZ.cs,Ae=AS&&AS[AW],AV=Ae&&Ae.v,AU
	j.call(Ah,AT)
	switch(AZ.et){case M.MQ:case M.MC:AU=S.METRIC_DTP
	break
	case M.AQ:case M.AC:case M.AE:AU=AZ.fm&&AZ.fm.dtp
	break
	case M.AL:AU=AZ.fm&&AZ.fm.dtp
	AV=[]
	for(var Aa=0,Ac=AS&&AS.length
	Aa<Ac
	Aa++){AV.push(AS[Aa].v)
	}AV=AV.join(mstrConfig.listSep)
	break
	}AU=AU||AE.CHAR
	var AX=S.fn_List(AZ.fn,AZ.fnt),Ab=AM[AU],Ad=Ab&&!AX
	var AQ=Ah.ctxtBuilder,AP=AQ&&AQ.itemWidgets,Ag=Ab?(Ad?Ah.calIndex:Ah.dtxtIndex):Ah.txtIndex,AY=AP&&AP[Ah.bwIndex],AR
	for(var Aa=0,Ac=Ah.preLen-1
	Aa<Ac
	Aa++){AR=AP[Aa]
	if(Aa==Ag){AR.set("dtp",AU)
	AR.set("isList",AX)
	AR.set("value",AV)
	AR.set("visible",true)
	if(AR.clearValidation){AR.clearValidation()
	}}else{AR.set("visible",false)
	}if(AX){AR.set("tooltip",mstrmojo.desc(8191,"value1## value2## ...## valueN").replace(/##/g,mstrConfig.listSep))
	}else{AR.set("tooltip","")
	}}if(AY){AY.set("text",AG[AZ.et])
	AY.set("visible",AT.objectBrowsingEnabled&&AK(AZ,AT.ets))
	}switch(AZ.et){case M.AQ:case M.AL:case M.MQ:if(Ae&&Ae.p){Ah.set("selectedItem",Ae.p)
	}else{Ah.set("selectedIndex",Ag)
	}break
	case M.MC:case M.AC:Ah.set("selectedItem",AZ[Y[AZ.et]+(2+AW)])
	break
	}}AI(AT,"btwnNode",Af)
	Ah.refreshScroll()
	Ah.updating=false
	}function AH(){var AS=this.parent,AQ=AS.parent,AR=(this.isValid&&this.isValid())||(!this.isValid&&!mstrmojo.string.isEmpty(this.value)),AP=AQ.model
	AQ["invalid"+AS.cstIndex]=!AR
	if(!this.updating&&AR){this.updating=true
	if(AP){AP.edit(AS.alias,{v:this.value,dtp:this.dtp})
	}this.updating=false
	}w(AQ)
	}function Z(){var AQ=this.parent,AP=AQ.parent
	AP["invalid"+AQ.cstIndex]=false
	}function h(AP){return L(W.copy(AP,{scriptClass:"mstrmojo.WidgetDial",makeObservable:true,itemFunction:p,selectionPolicy:"reselect",items:[{did:0,cfg:{scriptClass:"mstrmojo.ValidationTextBox",required:true,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL},onValid:AH,onInvalid:AH,onClearValidation:Z,size:6,cssText:"text-align:right",visible:false}},{did:1,cfg:{scriptClass:"mstrmojo.Calendar",onvalueChange:AH,visible:false}},{did:2,cfg:{scriptClass:"mstrmojo.DateTextBox",required:true,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL},onValid:AH,onInvalid:AH,onClearValidation:Z,calendarToBody:true,calConfig:{onmousedown:function(AQ){mstrmojo.dom.stopPropogation(AQ.hWin,AQ.e)
	}},visible:false}},{did:3,t:e,cfg:{scriptClass:"mstrmojo.Label",cssClass:"dial-item link",text:"Browse...",onclick:function(){this.parent.parent.browse(this.parent)
	},visible:false}}],txtIndex:0,calIndex:1,dtxtIndex:2,bwIndex:3,preLen:4,insertUnlistedValuesAt:-1,update:function(){K(this,this.cstIndex)
	}}))
	}function f(AP){return L(W.copy(AP,{insertUnlistedValuesAt:-1,postCreate:function(){z.apply(this,[])
	this.ajx=mstrmojo.insert({parent:this,scriptClass:"mstrmojo.AjaxCall",isTask:true,readCache:true,writeCache:true,params:{taskId:"getAttributeForms",attributeId:null,displayedForms:"0",styleName:"MojoAttributeStyle"},onsuccess:function(){var AX=this.parent,AS=AX&&AX.parent&&AX.parent.model,AU=this.response
	if((AU&&AU.did)!==AX.lastAttrId){return 
	}var AT=AU.fms||[],AW=AX.selectedItem
	AT=x.filter(AT,function(AY){return(!AY.icf)
	})
	if(AW){var AR=x.find(AT,AX.itemIdField,AW[AX.itemIdField])
	if(AR>-1){AT=AT.concat()
	AT.splice(AR,1)
	}}E(AX,t,AT)
	var AV=AX.items,AQ=AV.length
	if(AQ===1){AX.singleSelect(0)
	}},onerr:function(){E(this.parent,t,[J])
	}})
	},update:function(){var Aa=this.fmPost,AQ=this.parent,AS=AQ.model,AY=AS&&AS["a"+Aa],AW=!!AY,AR,AV,Ab=AS&&AS.tfm,AU=Ab&&Ab.dtp,AZ
	if(AW){switch(AS.et){case M.AQ:case M.AL:AV=AS.fm
	break
	case M.AC:AV=AS["fm"+Aa]
	break
	case M.AE:AV=AN(AS.fn,1)
	break
	}if(this.lastAttrId!==AY.did){this.lastAttrId=AY.did
	AR=[]
	if(AS.et!==M.AC){if(!AY.ilk&&(!AQ.ets||AQ.ets[M.AE])){var AT=AA[M.AE],AX=AT&&AT.key
	AR=AR.concat((AX&&AQ[AX])||AT.def||[])
	}}if(AV&&(AS.et!==M.AE)){AR.push(AV)
	}AZ=this.ajx
	AZ.params.attributeId=AY.did
	AR.push(t)
	H.makeObservable(AR)
	}}r(this,AW,AR,AV)
	if(AW&&AZ){if(AZ._delayId){window.clearTimeout(AZ._delayId)
	delete AZ._delayId
	}AZ._delayId=window.setTimeout(function(){delete AZ._delayId
	AZ.send()
	},500)
	}}}))
	}var Q=[S.STP.PROMPT,S.STP.PROMPT_OBJECTS,S.STP.PROMPT_ELEMENTS,S.STP.PROMPT_EXPRESSION,S.STP.PROMPT_EXPRESSION_DRAFT]
	function AO(AP){if(AP&&!W.isEmpty(AP)){var AQ=x.hash(Q)
	W.forEach(AP,function(AS,AR){if(AS){AQ[m[AR]]=true
	}})
	return AQ
	}return null
	}function c(AS,AR,AU){AS.openPopup("eb",{zIndex:AS.parent.zIndex+10,left:Math.round(AU.x)+"px",top:Math.round(AU.y)+"px"})
	var AQ=AS.eb.browser,AP=AS.model,AT=AP&&AP.a&&AP.a.did
	if(!AT){return 
	}AQ.set("attributeID",AT)
	AQ.set("selectedItems",AP.es?W.clone(AP.es):[])
	AQ.initBrowser()
	}function AF(AW,AP,AQ){AW.openPopup("ob",{zIndex:AW.parent.zIndex+10,left:Math.round(AQ.x)+"px",top:Math.round(AQ.y)+"px"})
	var AR=AW.ob.browser
	AR.target=AP
	var AS
	switch(AP.alias){case"dmy":AS=[S.TP.ATTR,S.TP.DIM]
	break
	case"c0":case"c1":var AU=AW.model,AT=AU&&AU.et,AX=AU&&AU.fm,AV=AX&&AX.dtp||(AU.m?S.DTP.DECIMAL:S.DTP.UNKNOWN)
	AS=(AT===M.MQ||AT===M.MC)?[S.TP.METRIC,S.DTP2PROMPT_STP[AV]]:[S.TP.ATTR,S.DTP2PROMPT_STP[AV]]
	break
	default:if(AW.browsableTypes){AS=AW.browsableTypes
	}else{AS=AO(AW.ets)
	AS=AS?W.keyarray(AS,true):[S.TP.ATTR,S.TP.METRIC,S.STP.REPORT_GRID,S.STP.REPORT_GRAPH,S.STP.REPORT_ENGINE,S.STP.REPORT_TEXT,S.STP.REPORT_DATAMART,S.STP.REPORT_BASE,S.STP.REPORT_GRIDGRAPH,S.STP.REPORT_NONINTERACTIVE,S.STP.FILTER].concat(Q)
	}}AS[AS.length]=S.TP.FOLDER
	AR.browse({folderLinksContextId:AU&&(AU.et===M.MQ||AU.et===M.MC)?27:23,onSelectCB:[AW,"onOBSelect"],browsableTypes:AS.join(",")})
	}mstrmojo.ConditionWalk=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.ConditionWalk",markupString:'<table id="{@id}" class="mstrmojo-walk mstrmojo-ConditionWalk {@cssClass}" style="{@cssText}" cellspacing="0" cellpadding="0" mstrAttach:click><tr><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-notNode"><div class="mstrmojo-walkstep-wrapper"></div></td><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-targetNode"><div class="mstrmojo-walkstep-wrapper"><div class="mstrmojo-walkstep-browse">'+mstrmojo.desc(7926,"Browse...")+'</div></div></td><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-fmNode"><div class="mstrmojo-walkstep-wrapper"></div></td><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-esNode"><div class="mstrmojo-walkstep-wrapper"><div class="mstrmojo-walkstep-browse">'+mstrmojo.desc(7928,"Browse elements...")+'</div></div></td><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-fnNode"><div class="mstrmojo-walkstep-wrapper"></div></td><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-c0Node"><div class="mstrmojo-walkstep-wrapper"></div></td><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-fm2Node"><div class="mstrmojo-walkstep-wrapper"></div></td><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-btwnNode"><div class="mstrmojo-walkstep-wrapper">{@betweenText}</div></td><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-c1Node"><div class="mstrmojo-walkstep-wrapper"></div></td><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-fm3Node"><div class="mstrmojo-walkstep-wrapper"></div></td><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-atNode"><div class="mstrmojo-walkstep-wrapper">{@atText}</div></td><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-dmyNode"><div class="mstrmojo-walkstep-wrapper"><div class="mstrmojo-walkstep-browse">'+mstrmojo.desc(7925,"Select Attribute...")+'</div></div></td><td class="mstrmojo-walkcell mstrmojo-ConditionWalk-okNode"><div class="mstrmojo-walkstep-wrapper"><div></div></td></tr></table>',markupSlots:{notNode:function(){return this.domNode.rows[0].cells[0].firstChild
	},targetNode:function(){return this.domNode.rows[0].cells[1].firstChild
	},fmNode:function(){return this.domNode.rows[0].cells[2].firstChild
	},esNode:function(){return this.domNode.rows[0].cells[3].firstChild
	},fnNode:function(){return this.domNode.rows[0].cells[4].firstChild
	},c0Node:function(){return this.domNode.rows[0].cells[5].firstChild
	},fm2Node:function(){return this.domNode.rows[0].cells[6].firstChild
	},btwnNode:function(){return this.domNode.rows[0].cells[7].firstChild
	},c1Node:function(){return this.domNode.rows[0].cells[8].firstChild
	},fm3Node:function(){return this.domNode.rows[0].cells[9].firstChild
	},atNode:function(){return this.domNode.rows[0].cells[10].firstChild
	},dmyNode:function(){return this.domNode.rows[0].cells[11].firstChild
	},okNode:function(){return this.domNode.rows[0].cells[12].firstChild
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?D.DISPLAY_TABLE:"none"
	},onobjectBrowsingEnabledChange:function(){this.targetNode.firstChild.style.display=this.objectBrowsingEnabled?"":"none"
	}},okBtn:undefined,updateBrowseElementsParams:function(AQ,AP){AQ.attributeID=AP.did
	},children:[L({alias:"target",insertUnlistedValuesAt:0,makeObservable:true,hideIfEmpty:true,update:function(){var AT=this.parent,AQ=AT.model
	if(this.lastModel!==AQ){this.lastModel=AQ
	var AP=AT.targets,AV=AT.ets
	if(AV&&AP&&AP.length){var AS=AO(AT.ets)
	AP=x.filter(AP,function(AW){return AS[AW[C]]
	})
	}else{AP=AP?AP.concat():[]
	}var AU=AQ&&AQ.et,AR=AQ&&AQ[Y[AU]]
	r(this,true,AP,AR)
	}}}),f({alias:"fm",fmPost:"",filter:false}),L({alias:"es",itemIdField:"v",insertUnlistedValuesAt:0,makeObservable:true,itemMarkupFunction:function(AQ,AP,AR){var AS=AC(AQ.n)
	return'<div class="dial-checkitem '+AQ.css+'" title="'+AS+'">'+AS+"</div>"
	},multiSelect:true,selectionPolicy:"toggle",postCreate:function X(){z.apply(this,[])
	this.ajx=mstrmojo.insert({parent:this,scriptClass:"mstrmojo.AjaxCall",isTask:true,params:{taskId:"browseElements",attributeID:null,styleName:"MojoAttributeStyle",blockBegin:1,blockCount:mstrApp.elementsBlockCount||30},onsuccess:function(){var AR=this.parent,AP=this.response
	if((AP&&AP.did)!==AR.lastAttrId){return 
	}var AQ=(AP&&AP.es)?AP.es.concat():[]
	n(AR,AQ,AR.parent.model&&AR.parent.model.es,null)
	},onerr:function(){E(this.parent,t,[J])
	}})
	},update:function R(){var AV=this.parent,AR=AV.model,AU=AR&&AR.a,AW=!!AU&&!AU.ilk,AX,AP,AT,AY
	if(AW){if(this.lastAttrId!==AU.did){this.lastAttrId=AU.did
	AX=AR.es
	var AS=AX&&AX.length
	AX=AS?AX.concat():[]
	AX.push(t)
	if(AS){AT=[]
	for(var AQ=1
	AQ<=AS
	AQ++){AT[AQ]=AQ
	}}AY=this.ajx
	AV.updateBrowseElementsParams(AY.params,AU)
	}else{AP=AR.es
	}}d(this,AW,AX,AP,AT)
	if(AW&&AY){AY.send()
	}}}),L({alias:"fn",allowUnlistedValues:false,update:function(){var AP=this.parent,AR=AP.model||{},AV=AR.et,AU,AW=false,AX,AQ
	switch(AV){case M.AE:AW=!!AR.a
	break
	case M.AQ:case M.AC:case M.AL:AW=!!(AR.fm&&AR.fm.did)
	AU=AW?AR.fm.dtp:null
	break
	case M.MQ:case M.MC:AW=!!AR.m
	AU=AW?S.METRIC_DTP:null
	break
	}if(AW){var AY=o[AU]
	if((this.lastEt!==AV)||(this.lastFnDtp!==AY)){this.lastEt=AV
	this.lastFnDtp=AY
	var AT=AV?AA[AV]:null,AS=AT&&AT.key
	AX=(AS&&AP[AS])||AT.def||[]
	if(typeof (AX)==="object"){AX=AX[AY]||AX["*"]
	}}AQ=AN(AR.fn,AR.fnt||1)
	}r(this,AW,AX,AQ)
	}}),h({alias:"c0",cstIndex:0}),f({alias:"fm2",fmPost:"2"}),h({alias:"c1",cstIndex:1}),f({alias:"fm3",fmPost:"3"}),L({alias:"dmy",itemIdField:"did",hideIfEmpty:true,itemMarkupFunction:function(AQ,AP,AR){var AS=AC(AQ.n)
	return'<div class="dial-checkitem '+AQ.css+'" title="'+AS+'">'+AS+"</div>"
	},multiSelect:true,selectionPolicy:"toggle",insertUnlistedValuesAt:0,makeObservable:true,postCreate:function(){z.apply(this,[])
	this.set("items",k(this.parent))
	},update:function v(){var AR=this.parent,AV=AR.model,AX=AV.et,Aa=AV&&AV.m,AY=!!Aa&&(AV.fn!==null)&&((AX===M.MQ)||(AX===M.MC))&&AV.dimtyTypes[I.NodeDimtyOutputLevel],AW,AS
	if(AY){var AT=this.targetsLastMod,Ab=AR.targetsLastMod
	if(!AT||!Ab||(AT!=Ab)){this.targetsLastMod=AR.targetsLastMod
	AW=k(AR)
	}AS=[]
	var AQ=AV.dmy&&AV.dmy.uts
	for(var AZ=0,AP=(AQ&&AQ.length)||0
	AZ<AP
	AZ++){var AU=AQ[AZ]
	AS.push(AU.utgt?AU.utgt:AU)
	}}d(this,AY,AW,AS)
	AI(AR,"atNode",AY)
	}}),{alias:"okBtn",slot:"okNode",scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(1442,"OK"),cssText:"width:66px
	min-width:58px
	",onclick:function(){var AP=this.parent
	if(AP.onOK){AP.onOK()
	}}},{alias:"cancelBtn",slot:"okNode",scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",cssText:"width:66px
	min-width:58px
	",text:mstrmojo.desc(221,"Cancel"),onclick:function(){var AP=this.parent.parent
	if(AP&&AP.close){AP.close()
	}}}],eb:{scriptClass:"mstrmojo.Editor",cssClass:U.isIE7?"mstrmojo-ElementsEditorIE7":"mstrmojo-ElementsEditor",title:mstrmojo.desc(6149,"Select Elements"),help:"element_browser_dialog_box.htm",children:[{scriptClass:"mstrmojo.ElementsBrowser",alias:"browser",onUpdateBrowseElementsParams:function(AQ){var AP=this.parent.opener
	AP.updateBrowseElementsParams(AQ,AP.model.a)
	}},{scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBox",slot:"buttonNode",children:[{scriptClass:"mstrmojo.HTMLButton",alias:"ok",text:mstrmojo.desc(1442,"OK"),cssClass:"mstrmojo-Editor-button",cssText:"width:72px
	margin-right:2px
	",onclick:function(){var AP=this.parent.parent,AQ=AP&&AP.opener
	if(AQ){AQ.onEBSelect()
	AQ.closePopup()
	}}}]}]},ob:{scriptClass:"mstrmojo.Editor",title:mstrmojo.desc(5298,"Select an Object"),help:"Select_Objects_dialog_box_.htm",children:[{scriptClass:"mstrmojo.ObjectBrowser",alias:"browser",cssText:"width:302px
	",fishEyeVisible:false,closeable:false,closeOnSelect:false,browsableTypes:"3,4,8,10,12,256",includeObjectDesc:true,quickSearch:true}]},betweenText:mstrmojo.desc(308,"and"),atText:mstrmojo.desc(5923,"at"),model:null,targets:null,ets:null,defaultEt:null,defaultAttrEt:null,metricFns:null,formFns:null,elemFns:null,metricLevels:null,defaultMetricLevel:null,browsableTypes:null,postBuildRendering:function AD(){N.call(this)
	AJ(this)
	return this._super()
	},_set_model:function g(AS,AP){var AQ=this.model,AR=(AP!==AQ)
	if(AR){a(this,AQ)
	AP.dimtyTypes=this.dimtyTypes||AL
	this.model=AP
	N.call(this)
	if(this.hasRendered){AJ(this)
	}}return AR
	},onmodeledit:function(AP){switch(AP&&AP.prop){case"es":case"dmy":w(this)
	return 
	}AJ(this)
	},browse:function u(AP){var AR=this.parent.editorNode,AQ=function(AT,AV){var AS=mstrmojo.dom.position(AT,true),AU=mstrmojo.dom.position(AV,true)
	return{x:AS.x+AS.w,y:AU.y}
	}
	switch(AP&&AP.alias){case"target":case"dmy":AF(this,AP,AQ(AP.alias=="target"?this.targetNode:this.dmyNode,AR))
	break
	case"c0":case"c1":AF(this,AP,AQ(AP.alias=="c0"?this.c0Node:this.c1Node,AR))
	break
	case"es":c(this,AP,AQ(this.esNode,AR))
	break
	}},onOBSelect:function(AS){var AQ=this.ob.browser,AU=AQ.target
	this.closePopup()
	var AT=AU.itemIdField,AR=this.targets||[],AP=x.find(this.targets,AT,AS[AT])
	if(AP===-1){AR.push(AS)
	this.targets=AR
	this.targetsLastMod=new Date()
	}AU.setSelectedItems([AS],AU.multiSelect)
	AU.refreshScroll()
	},onEBSelect:function(){var AP=this.eb.browser
	var AQ=this.es
	AQ.set("selectedIndices",{})
	AQ.setSelectedItems(AP.selectedItems,false)
	},onclick:function AB(AP){var AQ=mstrmojo.dom.eventTarget(AP.hWin,AP.e)
	if(AQ==this.targetNode.firstChild){this.browse(this.target)
	}else{if(AQ==this.esNode.firstChild){this.browse(this.es)
	}else{if(AQ==this.dmyNode.firstChild){this.browse(this.dmy)
	}}}},objectBrowsingEnabled:true})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.array","mstrmojo.hash","mstrmojo.func","mstrmojo.Button","mstrmojo.HTMLButton","mstrmojo.HBox","mstrmojo.List","mstrmojo.Label","mstrmojo.ListMapperHoriz","mstrmojo.WidgetList","mstrmojo.WidgetListMapper","mstrmojo.TristateCheckBox","mstrmojo.Pulldown","mstrmojo.ACL.UserTreeBrowser","mstrmojo.DataGrid","mstrmojo.DropDownButton","mstrmojo.ListBox","mstrmojo.ListBoxBase","mstrmojo.VBox","mstrmojo.Box","mstrmojo.ACL.UserInputBox","mstrmojo.Editor","mstrmojo.ACL.UserDataService","mstrmojo.CheckList","mstrmojo.TextBox","mstrmojo.TextBoxWithLabel","mstrmojo.CheckBox","mstrmojo.MouseOverContainer","mstrmojo.util.LibraryHelper","mstrmojo.ui.Pulldown")
	mstrmojo.requiresDescs(1825,8078,8079,629,8080,8081,8082,3336,9048,8083,8084,955,8085,531,8086,8087,8088,8089,8090,767,2056,8091,8093,1442,221,8092,13621,9772,9773,9774,272,271,8145,2509,8146,8147,9775,9776,9777,9771,12299,9151,2156,9892,9890,9891,9099,2140,2102)
	var X=mstrmojo.dom,E=mstrmojo.css,v=mstrmojo.array,w=mstrmojo.util.LibraryHelper,k=[],AC=[{n:mstrmojo.desc(16034,"Grant"),v:0},{n:mstrmojo.desc(16035,"Deny"),v:1},{n:mstrmojo.desc(8441,"Default"),v:2}],Z="sharingEditor",z=199,Y="294DEDC011D2F1D56000D98E67019608",I="C82C6B1011D2894CC0009D9F29718E4F",F=[1,4,8,16,32,64,128],B=[mstrmojo.desc(1825,"Browse"),mstrmojo.desc(8078,"Read"),mstrmojo.desc(8079,"Write"),mstrmojo.desc(629,"Delete"),mstrmojo.desc(8080,"Control"),mstrmojo.desc(8081,"Use"),mstrmojo.desc(8082,"Execute")],g=["B","R","W","D","C","U","E"],j=false,AB=true,a=257,AA=1024,c=772,e=776,O=777,t="8",m=mstrmojo.Button.newWebButton,x=mstrmojo.Button.newActionButton
	function h(AF,AG,AE){return{scriptClass:"mstrmojo.HBox",alias:AF,right:AG,cssText:"height:20px
	",children:[{scriptClass:"mstrmojo.Label",text:AE,cssText:"width:80px"},{scriptClass:"mstrmojo.Pulldown",cssText:"width:100px",itemIdField:"v",items:AC,defaultSelection:2,selectionPolicy:"reselect",_set_value:function(AI,AH){this.value=AH
	}}]}
	}function W(AE){return(AE&&AE.t===8)
	}function AD(AE){return AE&&AE.st!=a&&AE.st!=AA&&AE.st!=c&&AE.st!=e&&AE.st!=O
	}function N(AE){return{"253000":255000,"253":255,"221":223,"197":199,"69":71}[AE]||AE
	}function K(AE){return{"253000":255000,"253":255,"32221":223,"56197":199}[AE]||AE
	}function d(AK){var AJ=[].concat(AK.acls),AE=[].concat(AK.inhs),AI=AK.acls,AM,AG,AL,AF,AH
	AI.splice(0,AI.length)
	if(W(AK)){AJ=AJ.concat(mstrmojo.hash.valarray(AE))
	}for(AF=0,AH=AJ.length
	AF<AH
	AF++){AM=AJ[AF]
	AL=AM.rgt
	if(AL>1000){AG=mstrmojo.hash.copy(AM)
	AG.den=true
	AG.rgt=Math.floor(AL/1000)
	AI.push(AG)
	}if((AL%1000)>0){AG=mstrmojo.hash.copy(AM)
	AG.den=false
	AG.rgt=AL%1000
	AI.push(AG)
	}}return AK
	}function U(AF){var AE={isSerializable:function(AI,AH,AG){switch(AI){case"did":case"rgt":case"n":case"acls":case"t":case"st":case"inh":case"den":return true
	}return false
	},getArrItemName:function(AI,AG,AH){if(AI==="acls"){return"acl"
	}},convertBoolean:true}
	return mstrmojo.string.json2xml("oi",AF,AE)
	}function r(AJ,AE){var AL=AJ&&AJ.oi,AI,AF,AG,AH=AJ.oneTierConnectivity
	if(AJ.hasChanged&&AL){AJ.set("isSaving",true)
	if(W(AL)&&AJ.childrenAccessPulldown.value==1){var AK={},AM
	for(i=0,len=AL.acls.length
	i<len
	i++){AM=AL.acls[i]
	AK[AM.did]=mstrmojo.hash.copy(AM)
	AK[AM.did].inh=true
	}AL.inhs=mstrmojo.hash.valarray(AK)
	}AL=d(AL)
	AI=U(AL)
	AG={taskId:"saveObjectACL",objectXML:AI,objectType:AL.t,objectID:AL.did,propagateToChildren:AJ.childrenAccessPulldown.value}
	AF={success:function(AN){if(AE){AJ.close()
	}else{mstrmojo.alert(mstrmojo.desc(3336,"## has been saved successfully.").replace("##",AN.n))
	AJ.set("hasChanged",false)
	}AJ.set("isSaving",false)
	},failure:function(AN){if(AN.getReponseHeader){mstrmojo.alert(AN.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}if(AE){AJ.close()
	}AJ.set("isSaving",false)
	}}
	if(AH){delete AG.taskId
	AG.connectionId=AH.connectionId
	AG.sessionState=AH.sessionState
	AH.connectivityProxy.saveObjectACL(AG,mstrmojo.func.wrapMethods(AF,{failure:function(AN){mstrmojo.onetier.vi.prefs.handleErrorMessage(AN)
	}}))
	}else{mstrmojo.xhr.request("POST",mstrConfig.taskURL,AF,AG)
	}}}function u(AM){var AQ=AM.aclList,AR=AM.objectInputer,AH=AR.getSelectedObjects(),AJ=AH.length,AN=[],AG,AP=199,AF,AO,AE
	if(!AR.isValid()){mstrmojo.alert(mstrmojo.desc(9048,"Some users/groups do not exist. Please remove them in order to proceed."),null,AM.alertTitle)
	return false
	}for(AF=0
	AF<AJ
	AF++){AG=AH[AF]
	if(AG.did===Y||AG.did===I){var AI=mstrmojo.all[Z]
	if(AP===AI.currentPublicRight){if(AB){E.removeClass(AI.userMessage.domNode,"hideMsg")
	}}}AO=v.find(AQ.items,"did",AG.did)
	if(AO!==-1){AE=AQ.items[AO]
	if(AM.uneditableRights[AE.rgt]){continue
	}}AN.push(new mstrmojo.Obj({did:AG.did,n:AG.n,ab:AG.ab,st:AG.st,rgt:AP,newItem:true}))
	}if(AN.length>0){var AL=v.findMulti(AQ.items,"did",AN)
	if(AL.count){var AK=AL.indices.concat().sort(v.numSorter).slice(0,AL.count)
	for(AF=AK.length-1
	AF>-1
	AF--){AQ.remove(AK[AF])
	}}AQ.add(AN)
	AM.set("hasChanged",true)
	}AR.set("items",[])
	return true
	}function P(AE){var AG=[],AJ=Math.floor(AE/1000),AH=AE%1000,AK=F,AL=B,AI=AK.length,AM,AF
	for(AF=0
	AF<AI
	AF++){AG.push(AL[AF])
	AG.push(" ")
	if((AH&AK[AF])>0){AG.push(mstrmojo.desc(8083,"Granted"))
	}else{if((AJ&AK[AF])>0){AG.push(mstrmojo.desc(8084,"Denied"))
	}else{AG.push(mstrmojo.desc(959,"Default"))
	}}AG.push(",")
	}AM=AG.join("")
	return AM.substring(AM,AM.length-1)
	}function l(AL){var AI=[],AK=AL%1000,AG=F,AJ=g,AE=AG.length,AH,AF
	for(AF=0
	AF<AE
	AF++){if((AK&AG[AF])>0){AI.push(AJ[AF])
	AI.push(",")
	}}AH=AI.join("")
	return AH.substring(AH,AH.length-1)
	}function R(AG,AH){var AI=AG.items,AF=v.find(AI,AG.itemIdField,AH),AK=AG.customItem,AE=AI.length-2
	if(AF===-1){var AJ={n:l(AH),rgt:AH}
	if(AK){AI.splice(AE,1)
	}AE=AI.length-1
	AI.splice(AE,0,AJ)
	AG.customItem=AJ
	}else{if(AK&&AF!==AE){AI.splice(AE,1)
	AG.customItem=null
	}}if(mstrmojo.all[Z].showACLHint!==false){AG.set("title",P(AH))
	}AG.value=AH
	}function C(AE){return{"776":[{n:mstrmojo.desc(8085,"Consume"),rgt:71},{n:mstrmojo.desc(531,"Add"),rgt:199},{n:mstrmojo.desc(8086,"Collaborate"),rgt:223},{n:mstrmojo.desc(8087,"Full control"),rgt:255},{n:mstrmojo.desc(8088,"Denied all"),rgt:255000},{n:mstrmojo.desc(8089,"Custom ..."),rgt:-1}],"779":[{n:mstrmojo.desc(8085,"Consume"),rgt:71},{n:mstrmojo.desc(531,"Add"),rgt:199},{n:mstrmojo.desc(8086,"Collaborate"),rgt:223},{n:mstrmojo.desc(8087,"Full control"),rgt:255},{n:mstrmojo.desc(8088,"Denied all"),rgt:255000},{n:mstrmojo.desc(8089,"Custom ..."),rgt:-1}]}[AE]||[{n:mstrmojo.desc(8090,"View"),rgt:199},{n:mstrmojo.desc(767,"Modify"),rgt:223},{n:mstrmojo.desc(8087,"Full control"),rgt:255},{n:mstrmojo.desc(8088,"Denied all"),rgt:255000},{n:mstrmojo.desc(8089,"Custom ..."),rgt:-1}]
	}function S(AL,AJ){var AI=""
	if(AJ){var AF=this.widthInput.value,AM=this.heightInput.value,AE=' src="'+AL,AN="",AG=this.toolbarOptions.checkBoxList,AK=AG.items,AH
	for(AH=0
	AH<AK.length
	AH++){if(!AG.selectedIndices.hasOwnProperty(AH)){if(AN==""){AN="&hiddensections="+AK[AH].alias
	}else{AN+=","+AK[AH].alias
	}}}AI='<iframe width="'+AF+'" '
	AI+='height="'+AM+'" '
	AI+=AE
	AI+=AN
	AI+='"></iframe>'
	}else{AI='<iframe width="640" height="480" src="'
	AI+=AL
	AI+='&hiddensections=header,path,dockTop,dockLeft,footer"></iframe>'
	}return AI
	}function p(AH){var AE=this.guestModeEnabled
	this.guestModeEnabled=mstrConfig.authMode===t
	var AF=mstrmojo.addCSRFTokenToURL(mstrApp.servletPath+"##?evt=#&src=##.#".replace(/##/g,mstrApp.name).replace(/#/g,AH)),AG=q.call(this,AF+"&documentID="+this.oi.did)
	this.guestModeEnabled=AE
	return AG
	}function q(AG){var AI=mstrmojo.string.parseUri(AG).queryKey,AJ=AG.indexOf("?"),AF=AJ>0?AG.substring(0,AJ):AG
	var AE=AF.indexOf("
	jsessionid")
	AF=AE>0?AF.substring(0,AE):AF
	if(AI.hasOwnProperty("iframe")){delete AI.iframe
	}if(AI.hasOwnProperty("validateRandNum")){delete AI.validateRandNum
	}if(!AI.hasOwnProperty("server")){AI.Server=encodeURIComponent(mstrApp.serverName)
	}if(!AI.hasOwnProperty("Project")){AI.Project=encodeURIComponent(mstrmojo.string.decodeHtmlString(mstrApp.projectName))
	}if(!AI.hasOwnProperty("port")){AI.Port=mstrApp.serverPort
	}if(j&&mstrConfig.shareToGuestWhenEnabled){AI.connmode=8
	AI.ru=1
	}if(AI.evt!=="3185"){AI.share=1
	}AF+="?"
	for(var AH in AI){AF+=AH+"="+AI[AH]+"&"
	}AF=AF.substring(0,AF.length-1)
	return AF
	}function M(AE){AE.select()
	document.execCommand("copy")
	AE.value=AE.value
	mstrmojo.alert(mstrmojo.desc(15340,"The link has been successfully copied to your clipboard"),null,mstrmojo.desc(9099,"Share"))
	}function D(AF,AE){return(w.isLibraryConfigured()&&(AF===55||(AF===18&&AE&&AE.contains("documentID"))))
	}function H(AG,AF,AE){if(AF===18&&D(AF,AE)){var AH=mstrmojo.string.parseUri(AE).queryKey
	AG=AH.documentID
	}return AG
	}function b(AG,AF){var AH=window.location.protocol,AE="mailto:?body="+window.encodeURIComponent(AF)+"&subject="+encodeURI(AG.objectName)
	if(mstrApp.isSingleTier){window.FormWrapper.openPage(AE)
	}else{if(!!X.isChrome&&AH==="https:"){window.open(AE,"_self")
	window.setTimeout("iframe.hideWaitPage()",2000)
	}else{window.open(AE,"mailtoIframe")
	}}}function L(AF){var AE
	switch(AF){case 199:AE="read"
	break
	case 223:AE="write"
	break
	case 255:AE="full"
	break
	case 255000:AE="deny"
	break
	default:AE="custom"
	}return"sharingEditor-privilegeIcon "+AE
	}function J(AI){var AE=new Date(),AH=this.objectName+" "+AE.toLocaleDateString()+" "+AE.toLocaleTimeString(),AF=this,AG=function AG(AK){var AL=AF.topSection,AM=AL.authorEmail.emailLink
	AL.authorLinkRow.authorLinkBox.set("value",AK)
	AL.htmlPanel.htmlLinkRow.htmlBox.set("value",S(AK))
	AM.set("url",window.encodeURIComponent(AK))
	AM.set("name",AF.objectName)
	AF.url=AK
	},AJ={success:function(AK){AG(q(AK.url))
	},failure:function(AK){if(mstrApp.isVI&&mstrConfig.authMode===t){AG(p.call(AF,3140))
	}else{mstrmojo.alert(AK.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}},complete:function(){AF.hideWait()
	if(AI){var AK="mailto:?body="+window.encodeURIComponent(AF.url)+"&subject="+encodeURI(AF.objectName)
	var AL=mstrApp.openPage||mstrmojo._IsWebApp.openPage
	AL(AK,"mailtoIframe")
	}}}
	this.showWait()
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,AJ,{taskId:"savePersonalView",messageID:this.mid,objectType:this.oi.t,subName:AH,objectSubType:0,viewMode:this.viewMode||0,isPVPublic:true})
	}function f(AH){var AF=this.getAvailableRightsForSelection(),AE=AF.length,AG
	for(AG=0
	AG<AE
	AG++){if(AF[AG].rgt===AH){return AF[AG].n
	}}return mstrmojo.desc(2056,"Custom")
	}function Q(AE){return(((AE.acg&32)>0)&&((AE.acg&8)>0))
	}mstrmojo.SharingEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.SharingEditor",cssClass:"mstrmojo-SharingEditor",showSharingOptions:true,showButtonBar:true,showPublisAccess:true,hasChanged:false,isSaving:false,help:"sharing_dialog_box.htm",zIndex:199,defaultRight:223,showButtonText:true,uneditableRights:{},currentPublicRight:199,userSelectorTitle:mstrmojo.desc(8091,"User/User Group Browser"),showLinkOnOpen:true,closeEditorAfterSave:true,allowHTMLTitle:true,init:function(AE){Z=AE.id||Z
	this._super(AE)
	},onShowLink:function(AH){var AE=["libraryLink","showLink","htmlCode"]
	for(var AG=0
	AG<AE.length
	AG++){if(AE[AG]!==AH){var AF=this.topSection.tabDock[AE[AG]]
	AF.set("selected",false)
	E.removeClass(AF.domNode,"selected")
	}}},showWait:mstrmojo.emptyFn,hideWait:mstrmojo.emptyFn,checkPublicAccess:function(){var AL=this.oi.acls,AG,AO=v.find(AL,"did",I),AJ=this.aclList.itemsContainerNode,AK=this.publicAccessSection.publicLabel,AI,AN=false,AE=v.find(AL,"did",Y),AM
	if(AO!==-1&&j&&AE!==-1){var AF=AL[AO].rgt,AH=AL[AE].rgt
	if(AF===AH){AN=true
	AM=AH
	}}if(AO!==-1&&!j){AN=true
	AM=AL[AO].rgt
	}AI=AJ.children[0].tBodies
	if(j&&AI[AE]){E.toggleClass(AI[AE].rows[0],"hide",AN)
	}if(AI[AO]){E.toggleClass(AI[AO].rows[0],"hide",AN)
	}AK.set("checked",AN)
	if(AM){this.set("currentPublicRight",AM)
	}},oncurrentPublicRightChange:function(){var AE=this.publicAccessSection.publicMouseOver
	AE.publicRight.set("value",this.currentPublicRight)
	AE.publicRightLabel.set("text",f.call(this,this.currentPublicRight))
	},onOpen:function(){var AQ=this.oi,AG=AQ.n,AO=AQ.t,AR=AQ.acls,AI=this.topSection,AL=AI.tabDock,AM=this.aclUserPanel.CPSection.nameWildcardsPulldown,AH=false
	var AJ=H(AQ.did,AO,this.href)
	if(this.objectId&&this.objectId===AJ&&!this.isLinkDirty){AH=true
	}if(this.childrenAccessPulldown.visible){this.childrenAccessPulldown.set("value",0)
	}this.objectId=AJ
	this.objectName=AG
	this.set("showACL",!!AR)
	j=this.guestModeEnabled
	if(AD(AQ)&&this.showSharingOptions){if(!AH){if(this.href&&!this.isLinkDirty){var AF=!this.urlReady?q(this.href):this.href,AN=AI.authorEmail.emailLink
	this.url=AF
	AN.set("url",window.encodeURIComponent(AF))
	AN.set("name",AG)
	AI.htmlPanel.htmlLinkRow.htmlBox.set("value",S(AF))
	AI.authorLinkRow.authorLinkBox.set("value",AF)
	}else{J.call(this)
	this.set("isLinkDirty",false)
	}if(D(AO,this.href)){var AF=w.constructLibraryUrl(AJ)
	var AP=AI.libraryLaunchButtons.libraryEmailLink
	this.libraryUrl=AF
	AI.libraryLinkRow.libraryLinkBox.set("value",this.libraryUrl)
	AP.set("url",window.encodeURIComponent(AF))
	AP.set("name",AG)
	}}if(this.initTab=="shareByLinkMSTRLibrary"){this.onShowLink("libraryLink")
	AL.libraryLink.set("selected",true)
	E.addClass(AL.libraryLink.domNode,"selected")
	}else{if(this.initTab=="shareByLinkEmbed"){this.onShowLink("htmlCode")
	AL.htmlCode.set("selected",true)
	E.addClass(AL.htmlCode.domNode,"selected")
	}else{this.onShowLink("showLink")
	AL.showLink.set("selected",true)
	E.addClass(AL.showLink.domNode,"selected")
	}}}this.set("title",mstrmojo.desc(8093,"share").replace("##",mstrmojo.string.encodeHtmlString(AG)))
	if(AM){AM.set("selectedIndex",0)
	}if(AR){this.checkPublicAccess()
	var AS=this.objectInputer,AK=this.userSelector,AE=AK&&AK.userBrowser
	AS.zIndex=this.zIndex
	if(AE&&AE.hasRendered){AK.opener=this
	AE.set("items",[])
	AE.getContent(AE)
	}this.set("hasChanged",false)
	}this.aclList.updateScrollbars()
	this.positionDialog()
	},_set_hasChanged:function(AG,AE){var AF=(AE!==this.hasChanged)
	this.hasChanged=AE
	if(AE===true){this.checkPublicAccess()
	return AE
	}return AF
	},_set_oi:function(AF,AE){this.oi=this.preProcessACLs(AE)
	return true
	},postCreate:function(){this.oi=this.preProcessACLs(this.oi)
	},getAvailableRightsForSelection:function(){return C(this.oi.st)
	},preProcessACLs:function(AN){if(AN&&AN.acls){var AL=AN.acls,AJ=AL&&AL.length,AM=W(AN),AG={},AO,AF,AH,AK={},AE,AI
	if(AM){AH={}
	AN.inhs=AH
	}for(AI=0
	AI<AJ
	AI++){AO=new mstrmojo.Obj(AL[AI])
	if(AO.den){AO.rgt=AO.rgt*1000
	}if(AM&&AO.inh){AF=AK[AO.did]
	if(!AF){AF=mstrmojo.hash.copy(AO)
	AF.rgt=0
	delete AF.den
	AK[AO.did]=AF
	}}else{AF=AG[AO.did]
	if(!AF){AF=mstrmojo.hash.copy(AO)
	AF.rgt=0
	delete AF.den
	AG[AO.did]=AF
	}}AF.rgt=AF.rgt+AO.rgt
	if(AF.rgt>255000){AF.rgt=Math.floor(AF.rgt/1000)*1000
	}}AL=mstrmojo.hash.valarray(AG)
	AH=mstrmojo.hash.valarray(AK)
	AN.acls=AL
	AN.inhs=AH
	}return AN
	},getACLItems:function(){var AH=this.aclList&&this.aclList.items,AF=[]
	for(var AG=0,AE=AH.length
	AG<AE
	AG++){AF.push(AH[AG])
	}return AF
	},onClose:function(){var AE=this.objectInputer
	AE.set("items",[])
	this.aclList.clearSelect()
	this.onShowLink("showLink")
	},getACLUserDataService:function o(){return mstrmojo.ACL.UserDataService
	},userSelector:{scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-UserEditor",help:"user_group_browser.htm",onClose:function(){this.userBrowser.clearTreeSelect()
	},children:[{scriptClass:"mstrmojo.ACL.UserTreeBrowser",alias:"userBrowser",getACLUserDataService:function o(){return this.parent.opener.getACLUserDataService()
	},updateTreeContent:function(AF,AH){AF.contentRetrieved=true
	var AG=AH[AF.itemChildrenField],AE=AF.tree||AF,AJ=AH.bc,AI=AH.sz,AK=AH.bb
	if(AJ!==-1){if(AK+AJ<=AI){AG.push(AE.nextItemCreaterFunc())
	}if((AK-AJ)>-1){AG.unshift(AE.prevItemCreaterFunc())
	}}AF.blockBegin=AK
	AE.initializing=true
	AF.clearSelect(false)
	AF.set("items",AG)
	AF.setSelectedItems(AE.getTotalSelections(),true)
	AE.initializing=false
	},selectionAcrossBranch:true,multiSelect:true},{scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBox",slot:"buttonNode",children:[{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",iconClass:"mstrmojo-Editor-button-OK",text:mstrmojo.desc(1442,"OK"),onclick:function(AF){var AE=this.parent.parent,AJ=AE.opener,AI=AJ.objectInputer,AH=AE.userBrowser,AG=AH.getTotalSelections()
	if(AG&&AG.length>0){AI.add(AG,AI.items.length-1)
	}AE.close()
	},preBuildRendering:function(){if(!this.parent.parent.opener.showButtonText){this.set("text","")
	}}},{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",iconClass:"mstrmojo-Editor-button-Cancel",text:mstrmojo.desc(221,"Cancel"),onclick:function(AE){this.parent.parent.close()
	},preBuildRendering:function(){if(!this.parent.parent.opener.showButtonText){this.set("text","")
	}}}]}],onOpen:function(){this.set("title",this.opener.userSelectorTitle)
	}},customACL:{scriptClass:"mstrmojo.Editor",title:mstrmojo.desc(8092,"Custom Permission Level"),cssClass:"mstrmojo-CustomACLEditor",help:"Custom_Permission_Level_dialog_box.htm",onOpen:function(){var AK=this.rgt,AL=Math.floor(AK/1000),AJ=AK%1000,AG=this.children,AH,AI,AF,AE
	for(AF=0,AE=7
	AF<AE
	AF++){AH=AG[AF]
	AI=AH.right
	if((AJ&AI)>0){AH.children[1].value=0
	}else{if((AL&AI)>0){AH.children[1].value=1
	}else{AH.children[1].value=2
	}}}this.refresh()
	},getACLValue:function(){var AI=0,AJ=0,AG=this.children,AH,AF,AE
	for(AF=0,AE=7
	AF<AE
	AF++){AH=AG[AF]
	if(AH.children[1].value==0){AI+=AH.right
	}else{if(AH.children[1].value==1){AJ+=AH.right
	}}}return AJ*1000+AI
	},children:[h("browse",1,mstrmojo.desc(1825,"Browse")),h("read",4,mstrmojo.desc(8078,"Read")),h("write",8,mstrmojo.desc(8079,"Write")),h("delete",16,mstrmojo.desc(629,"Delete")),h("control",32,mstrmojo.desc(8080,"Control")),h("use",64,mstrmojo.desc(8081,"Use")),h("execute",128,mstrmojo.desc(8082,"Execute")),{scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBox",slot:"buttonNode",children:[{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",iconClass:"mstrmojo-Editor-button-OK",text:mstrmojo.desc(1442,"OK"),onclick:function(AE){var AF=this.parent.parent
	if(AF.onOK){AF.onOK()
	}AF.close()
	}},{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",iconClass:"mstrmojo-Editor-button-Cancel",text:mstrmojo.desc(221,"Cancel"),onclick:function(AE){var AF=this.parent.parent
	if(AF.onCancel){AF.onCancel()
	}AF.close()
	}}]}]},children:[{scriptClass:"mstrmojo.Box",alias:"topSection",cssClass:"sharingEditor-topSection",bindings:{visible:function(){return AD(this.parent.oi)&&this.parent.showSharingOptions
	}},children:[{scriptClass:"mstrmojo.HBox",alias:"tabDock",cssClass:"sharingEditor-tabDock",bindings:{visible:function(){return AD(this.parent.parent.oi)&&this.parent.parent.showSharingOptions
	}},children:[{scriptClass:"mstrmojo.Label",alias:"showLink",text:mstrmojo.desc(9773,"Link"),cssClass:"SharingEditor-ShowLink",selected:false,onclick:function(AE){var AF=this.parent.parent.parent
	if(!this.selected){AF.onShowLink(this.alias)
	this.set("selected",true)
	E.addClass(this.domNode,"selected")
	}},},{scriptClass:"mstrmojo.Label",alias:"libraryLink",text:mstrmojo.desc(15572,"Library link"),cssClass:"SharingEditor-libraryLink",selected:false,onclick:function(AE){var AF=this.parent.parent.parent
	if(!this.selected){AF.onShowLink(this.alias)
	this.set("selected",true)
	E.addClass(this.domNode,"selected")
	}},bindings:{visible:function(){return D(this.parent.parent.parent.oi.t,this.parent.parent.parent.href)
	}}},{scriptClass:"mstrmojo.Label",cssClass:"SharingEditor-ShowHtml",alias:"htmlCode",text:mstrmojo.desc(9774,"Show HTML"),selected:false,onclick:function(AE){var AF=this.parent.parent.parent
	if(!this.selected){AF.onShowLink(this.alias)
	this.set("selected",true)
	E.addClass(this.domNode,"selected")
	}}}]},{scriptClass:"mstrmojo.Box",alias:"htmlPanel",cssClass:"mstrmojo-SharingEditor-html-panel",children:[{scriptClass:"mstrmojo.HBox",alias:"htmlLinkRow",cssClass:"SharingEditor-LinkRow",children:[{scriptClass:"mstrmojo.TextBox",alias:"htmlBox",cssClass:"SharingEditor-Html"},{scriptClass:"mstrmojo.Button",alias:"copyHtmlLink",cssClass:"SharingEditor-CopyHtmlLink",onclick:function(AE){var AF=this.parent.htmlBox.inputNode
	M(AF)
	},bindings:{visible:"this.parent.parent.parent.tabDock.htmlCode.selected"}}]},{scriptClass:"mstrmojo.Label",alias:"IframeSize",text:mstrmojo.desc(9735,"Size:"),cssClass:"SharingEditor-Html-Size"},{scriptClass:"mstrmojo.TextBoxWithLabel",alias:"widthInput",label:mstrmojo.desc(272,"Width:"),value:640,onvalueChange:function(AE){var AF=this.parent,AG=mstrmojo.all[Z]
	AF.htmlLinkRow.htmlBox.set("value",S.call(AF,AG.url,true))
	}},{scriptClass:"mstrmojo.TextBoxWithLabel",label:mstrmojo.desc(271,"Height:"),alias:"heightInput",value:480,onvalueChange:function(){var AE=this.parent,AF=mstrmojo.all[Z]
	AE.htmlLinkRow.htmlBox.set("value",S.call(AE,AF.url,true))
	}},{scriptClass:"mstrmojo.HBox",alias:"toolbarOptions",cssClass:"SharingEditor-toolbarRow",children:[{scriptClass:"mstrmojo.Label",alias:"IframeShow",text:mstrmojo.desc(15341,"Show:"),cssClass:"SharingEditor-Html-Show"},{scriptClass:"mstrmojo.CheckListHoriz",alias:"checkBoxList",items:[{n:mstrmojo.desc(8145,"Navigation bar"),alias:"path"},{n:mstrmojo.desc(2509,"Toolbar"),alias:"dockTop"},{n:mstrmojo.desc(8146,"Tools panel"),alias:"dockLeft"},{n:mstrmojo.desc(8147,"Footer"),alias:"footer"}],multiSelect:true,onselectionChange:function(AE){var AF=this.parent.parent,AG=mstrmojo.all[Z]
	AF.htmlLinkRow.htmlBox.set("value",S.call(AF,AG.url,true))
	}}]}],bindings:{visible:"this.parent.tabDock.htmlCode.selected"}},{scriptClass:"mstrmojo.HBox",alias:"authorLinkRow",cssClass:"SharingEditor-LinkRow",bindings:{visible:function(){return this.parent.tabDock.showLink.selected
	}},children:[{scriptClass:"mstrmojo.TextBox",alias:"authorLinkBox",cssClass:"SharingEditor-Link",},{scriptClass:"mstrmojo.Button",alias:"authorCopyLink",cssClass:"SharingEditor-CopyLink",onclick:function(AE){var AF=this.parent.authorLinkBox.inputNode
	M(AF)
	}},]},{scriptClass:"mstrmojo.HBox",alias:"libraryLinkRow",cssClass:"SharingEditor-LinkRow",bindings:{visible:function(){return this.parent.tabDock.libraryLink.selected
	}},children:[{scriptClass:"mstrmojo.TextBox",alias:"libraryLinkBox",cssClass:"SharingEditor-Link",},{scriptClass:"mstrmojo.Button",alias:"libraryCopyLink",cssClass:"SharingEditor-CopyLink",onclick:function(AE){var AF=this.parent.libraryLinkBox.inputNode
	M(AF)
	}},]},{scriptClass:"mstrmojo.HBox",alias:"libraryLaunchButtons",cssClass:"SharingEditor-LaunchButtons",bindings:{visible:function(){return this.parent.tabDock.libraryLink.selected
	}},children:[{scriptClass:"mstrmojo.Widget",markupString:'<div id = "{@id}" class ="sharingEditor-launchLink" style="{@cssText}" mstrAttach:click>'+mstrmojo.desc(15334,"Launch")+' <iframe name="launchToIframe" target="_blank" style="display:none"></iframe> </div>',alias:"launchLink",onclick:function(){var AE=this.parent.parent.parent
	w.createTokenAndOpenLink(AE.libraryUrl)
	},bindings:{visible:function(){return this.parent.parent.tabDock.libraryLink.selected&&this.parent.parent.parent.oi.t==55
	}}},{scriptClass:"mstrmojo.Widget",markupString:'<div id = "{@id}" class ="sharingEditor-emailLink" style="{@cssText}"" mstrAttach:click>'+mstrmojo.desc(15333,"Email Link")+' <iframe name="mailtoIframe" style="display:none"></iframe> </div>',alias:"libraryEmailLink",onclick:function(){var AE=this.parent.parent.parent
	if(!AE.libraryUrl){w.constructLibraryUrl(AE.objectId)
	}else{b(AE,AE.libraryUrl)
	}}}]},{scriptClass:"mstrmojo.HBox",alias:"authorEmail",cssClass:"SharingEditor-LaunchButtons email",bindings:{visible:function(){return this.parent.tabDock.showLink.selected
	}},children:[{scriptClass:"mstrmojo.Widget",markupString:'<div id = "{@id}" class ="sharingEditor-emailLink" style="{@cssText}"" mstrAttach:click>'+mstrmojo.desc(15333,"Email Link")+' <iframe name="mailtoIframe" style="display:none"></iframe> </div>',alias:"emailLink",onclick:function(){var AE=this.parent.parent.parent
	if(!AE.url||AE.isLinkDirty){J.call(AE,true)
	AE.set("isLinkDirty",false)
	}else{b(AE,AE.url)
	}}}]}]},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(9775,"Who Has Access"),cssClass:"SharingEditor-title",bindings:{visible:"this.parent.showACL"}},{scriptClass:"mstrmojo.Label",alias:"userMessage",text:mstrmojo.desc(9771,"The permission you added is already granted"),cssClass:"sharingEditorUserMessage hideMsg",bindings:{visible:"this.parent.showACL"},onclick:function(){E.addClass(this.domNode,"hideMsg")
	AB=false
	}},{scriptClass:"mstrmojo.Box",alias:"aclUserPanel",cssClass:"sharingEditor-ACLUserPanel",bindings:{visible:"this.parent.showACL"},children:[{scriptClass:"mstrmojo.HBox",alias:"CPSection",cssClass:"sharingEditor-CPSection",children:[{scriptClass:"mstrmojo.ui.Pulldown",alias:"nameWildcardsPulldown",items:[{n:mstrmojo.desc(687,"Begins With"),v:4},{n:mstrmojo.desc(686,"Contains"),v:1}],selectedIndex:0,onSelectedItemChange:function(AF){var AE=this.parent.inputBox
	AE.set("nameWildcards",AF.v)
	}},{scriptClass:"mstrmojo.ACL.AddUserInputBox",emptyText:mstrmojo.desc(15335,"Type to add users or groups here..."),getACLUserDataService:function o(){return this.parent.parent.parent.getACLUserDataService()
	},noCache:true,postCreate:function(){var AE=this.parent.parent.parent
	if(AE){this.zIndex=AE.zIndex+1
	}},onRender:function(){var AE=this.parent.parent.parent
	if(AE){AE.objectInputer=this
	}},bindings:{enabled:function(){return Q(this.parent.parent.parent.oi)
	},readonly:function(){return this.parent.parent.parent.isSaving
	}}},x(mstrmojo.desc(1825,"Browse"),function(AE){var AF=this.parent.parent.parent
	AF.openPopup("userSelector",{zIndex:AF.zIndex+10})
	},{bindings:{enabled:function(){return Q(this.parent.parent.parent.oi)&&!this.parent.parent.parent.isSaving
	}}})]}]},{scriptClass:"mstrmojo.HBox",alias:"publicAccessSection",cssClass:"sharingEditor-publicAccessSection",bindings:{visible:"this.parent.showACL && this.parent.showPublisAccess"},children:[{scriptClass:"mstrmojo.CheckBox",alias:"publicLabel",cssClass:"SharingEditor-Public",bindings:{label:function(){if(this.parent.parent.guestModeEnabled){return mstrmojo.desc(9776,"Public (Login not required)")
	}return mstrmojo.desc(9777,"Everyone (Login not required)")
	},enabled:function(){return Q(this.parent.parent.oi)&&!this.parent.parent.isSaving
	}},oncheckedChange:function(){E.toggleClass(this.domNode.children[1],"label-disabled",!this.checked)
	},getUserGroupsInfo:function(){if(j){this.getUserGroupFromTaskCall(Y)
	}this.getUserGroupFromTaskCall(I)
	},getUserGroupFromTaskCall:function(AK){var AG=mstrmojo.all[Z],AH=AG.aclList,AI=AG.getACLUserDataService(),AJ=function(AM){var AL=new mstrmojo.Obj({did:AM.did,n:AM.n,ab:AM.ab,st:AM.st,rgt:z,newItem:true})
	k.push(AL)
	},AF=function(AL){},AE=function(){if(!j||(j&&k.length==2)){AH.add(k)
	AG.set("hasChanged",true)
	}}
	AI.getMembers({blockBegin:0,blockCount:1,outputElements:1,data:{did:AK}},{success:AJ,failure:AF,complete:AE})
	},onclick:function(){var AF=mstrmojo.all[Z]
	var AG=AF.aclList.items
	var AH=v.find(AG,"did",I)
	if(AH!==-1){AG.remove(AH)
	}var AE=v.find(AG,"did",Y)
	if(j&&AE!==-1){AG.remove(AE)
	}if(this.checked===true){if(k.length<1){this.getUserGroupsInfo()
	}else{mstrmojo.array.forEach(k,function(AI){AI.rgt=z
	})
	AG.add(k)
	AF.set("hasChanged",true)
	}}else{AF.set("currentPublicRight",z)
	AF.set("hasChanged",true)
	}}},{scriptClass:"mstrmojo.MouseOverContainer",alias:"publicMouseOver",setupSelectedItem:function A(){this.mouseoverItem=this.publicRight
	this.mouseoutItem=this.publicRightLabel
	},bindings:{visible:"this.parent.publicLabel.checked",enabled:function(){return Q(this.parent.parent.oi)&&!this.parent.parent.isSaving
	}},children:[{scriptClass:"mstrmojo.Label",markupMethods:{oncssClassChange:function(){this.domNode.className="mstrmojo-Label "+this.cssClass
	}},bindings:{cssClass:function(){return L(this.parent.parent.parent.currentPublicRight)
	}}},{scriptClass:"mstrmojo.Label",alias:"publicRightLabel",cssClass:"sharingEditor-rightLabel",bindings:{text:function(){var AE=this.parent.parent.parent
	return f.call(AE,AE.currentPublicRight)
	},enabled:function(){return Q(this.parent.parent.parent.oi)&&!this.parent.parent.parent.isSaving
	}}},{scriptClass:"mstrmojo.Pulldown",cssClass:"sharingEditor-pulldown",itemIdField:"rgt",alias:"publicRight",visible:false,postCreate:function(){this.items=this.parent.parent.parent.getAvailableRightsForSelection()
	},bindings:{value:"this.parent.parent.parent.currentPublicRight",enabled:function(){return Q(this.parent.parent.parent.oi)&&!this.parent.parent.parent.isSaving
	}},selectionPolicy:"reselect",onvalueChange:function(){var AE=this.parent
	var AF=AE.parent.parent
	AE.publicRightLabel.set("text",f.call(AF,this.value))
	},_set_value:function(AJ,AF){var AG=this.value,AE=(AG!==AF)
	if(AE){if(AF===-1){var AI=this.parent.parent.parent,AH=this
	AI.openPopup("customACL",{zIndex:AI.zIndex+10,rgt:AG,twoStates:true,onOK:function(){AH.set("value",this.getACLValue())
	},onCancel:function(){AH.set("value",AG)
	}})
	return false
	}AF=K(AF)
	R(this,AF)
	this.updatePublicRight(AF)
	return true
	}return true
	},updatePublicRight:function(AF){var AG=this.parent.parent.parent
	if(AG.aclList){var AH=AG.aclList.items
	var AE=v.find(AH,"did",Y)
	var AI=v.find(AH,"did",I)
	if(j&&AE!==-1){AH[AE].rgt=AF
	}if(AI!==-1){AH[AI].rgt=AF
	}AG.set("hasChanged",true)
	AG.set("currentPublicRight",AF)
	}}}]}]},{scriptClass:"mstrmojo.DataGrid",alias:"aclList",cssClass:"aclList",renderOnScroll:false,makeObservable:true,itemDisplayField:"n",itemIdField:"did",dropZone:true,bindings:{items:function(){return this.parent.oi.acls||[]
	},visible:"this.parent.showACL"},onremove:function(AF){var AK=this.parent.oi
	var AJ=this
	window.setTimeout(function(){AJ.updateScrollbars()
	},10)
	if(!W(AK)){return 
	}var AL=AK.inhs,AH=AF.value,AE=AH&&AH.length,AI,AG
	for(AG=0
	AG<AE
	AG++){AI=AH[AG].did
	delete AL[AI]
	}},onadd:function(AF){var AK=this.parent.oi
	var AJ=this
	window.setTimeout(function(){AJ.updateScrollbars()
	},10)
	if(!W(AK)){return 
	}var AL=AK.inhs,AH=AF.value,AE=AH&&AH.length,AI,AG
	for(AG=0
	AG<AE
	AG++){AI=AH[AG].did
	AL[AI]=mstrmojo.hash.copy(AH[AG])
	AL[AI].inh=true
	}},onACLChanged:function(AF){var AE=this.parent.oi
	this.parent.set("hasChanged",true)
	},columns:[{dataFunction:function(AG,AE,AF){return'<div class="mstrmojo-ACLEditor-user '+(AG.st===8705?"ug":"u")+'"title="'+mstrmojo.string.encodeHtmlString(AG.ab)+'">'+mstrmojo.string.encodeHtmlString(AG.n)+"</div>"
	}},{dataWidget:{scriptClass:"mstrmojo.MouseOverContainer",alias:"mouseOverContainer",bindings:{enabled:function(){return Q(this.parent.parent.parent.oi)&&!this.parent.parent.parent.isSaving
	}},setupSelectedItem:function A(){this.mouseoverItem=this.dataGridPulldown
	this.mouseoutItem=this.dataGridLabel
	},children:[{scriptClass:"mstrmojo.Label",markupMethods:{oncssClassChange:function(){this.domNode.className="mstrmojo-Label "+this.cssClass
	}},bindings:{cssClass:function(){return L(this.parent.parent.data.rgt)
	}}},{scriptClass:"mstrmojo.Label",cssClass:"sharingEditor-rightLabel",alias:"dataGridLabel",bindings:{text:function(){return f.call(mstrmojo.all[Z],this.parent.parent.data.rgt)
	},enabled:function(){return Q(this.parent.parent.parent.parent.oi)&&!this.parent.parent.parent.parent.isSaving
	}}},{scriptClass:"mstrmojo.HBox",alias:"dataGridPulldown",cssClass:"sharingEditor-datagridContainer",visible:false,children:[{scriptClass:"mstrmojo.Pulldown",cssClass:"sharingEditor-datagridPulldown",itemIdField:"rgt",popupToBody:true,selectionPolicy:"reselect",popupZIndex:1001,postCreate:function(){this.markupMethods=mstrmojo.hash.copy({ondataChange:function(){var AE=this.parent.parent.data
	this.set("value",AE[this.itemIdField])
	},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none"
	if(!this.visible&&this.popupRef){this.popupRef.set("visible",false)
	}}},mstrmojo.hash.copy(this.markupMethods))
	this.items=this.parent.parent.dataGrid.parent.getAvailableRightsForSelection()
	},_set_value:function(AJ,AF){var AG=this.value,AE=(AG!==AF)
	if(AE){if(AF===-1){var AI=this.parent.parent.dataGrid.parent,AH=this
	AI.openPopup("customACL",{zIndex:AI.zIndex+10,rgt:AG,twoStates:!!this.parent.parent.data.newItem,onOK:function(){AH.set("value",this.getACLValue())
	},onCancel:function(){AH.set("value",AG)
	}})
	return false
	}AF=N(AF)
	R(this,AF)
	this.parent.parent.data.set(this.itemIdField,AF)
	if(AG!==null){this.parent.parent.dataGrid.onACLChanged(this.parent.parent.data)
	}return true
	}return true
	},bindings:{enabled:function(){return Q(this.parent.parent.parent.parent.parent.oi)&&!this.parent.parent.parent.parent.parent.isSaving
	}}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-ACLEditor-delete",text:"&nbsp",title:mstrmojo.desc(629,"Delete"),onclick:function(AE){var AF=this,AG=function(){var AH=AF.parent.parent.dataGrid
	AH.remove(AF.parent.parent.data)
	AH.parent.set("hasChanged",true)
	}
	mstrmojo.confirm(mstrmojo.desc(12299,"Are you sure you want to delete the user/user group #?").replace("#",this.parent.parent.data.n),{confirmBtn:{fn:AG}},{zIndex:2000})
	},bindings:{enabled:function(){return Q(this.parent.parent.parent.parent.parent.oi)&&!this.parent.parent.parent.parent.parent.isSaving
	}}}]}]}}]},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(9892,"Children Access"),cssClass:"SharingEditor-title",bindings:{visible:function(){return this.parent.showACL&&W(this.parent.oi)
	}}},{scriptClass:"mstrmojo.Pulldown",alias:"childrenAccessPulldown",value:0,items:[{n:mstrmojo.desc(9890,"Preserve children's access control lists"),idx:0},{n:mstrmojo.desc(9891,"Overwrite children's access control lists"),idx:1}],itemIdField:"idx",onvalueChange:function(){this.parent.set("hasChanged",true)
	},bindings:{visible:function(){return this.parent.showACL&&W(this.parent.oi)
	}}},{scriptClass:"mstrmojo.HBox",cssClass:"Editor-buttonBox",slot:"buttonNode",bindings:{visible:"this.parent.showButtonBar"},children:[m(mstrmojo.desc(8473,"Done"),function(AE){var AF=this.parent.parent
	if(u(AF)){r(AF,AF.closeEditorAfterSave)
	}},true,{iconClass:"mstrmojo-Editor-button-OK",bindings:{visible:"this.parent.parent.showACL",enabled:function(){return Q(this.parent.parent.oi)&&this.parent.parent.hasChanged&&!this.parent.parent.isSaving
	},text:function(){return mstrmojo.desc(8473,"Done")
	}},preBuildRendering:function(){if(!this.parent.parent.showButtonText){this.set("text","")
	}}}),m("",function(AE){var AF=this.parent.parent
	AF.close()
	AF.set("hasChanged",false)
	},false,{iconClass:"mstrmojo-Editor-button-Close",bindings:{iconClass:function(){var AE=this.parent.parent
	if(AE.hasChanged){return"mstrmojo-Editor-button-Cancel"
	}return"mstrmojo-Editor-button-Close"
	},text:function(){return mstrmojo.desc(2140,"Cancel")
	}}})]}]})
	mstrmojo.ACL.AddUserInputBox=mstrmojo.declare(mstrmojo.ACL.UserInputBox,null,{scriptClass:"mstrmojo.ACL.AddUserInputBox",alias:"inputBox",nameWildcards:4,disableDeactivate:true,nameWildcardsHLList:[4],_set_nameWildcards:function(AG,AE){if(this.nameWildcards!==AE){this.nameWildcards=AE
	var AF=this.getSearchPattern()
	if(AF){this.showSuggestion(AF)
	}}},add:function G(AF,AE){var AG=this.parent.parent.parent
	this._super(AF,AE)
	u(AG)
	},filterCandidates:function n(AH,AG,AE){if(this.nameWildcards===4){return this._super(AH,AG,AE)
	}if(this.nameWildcards===1){AE=AE||this.suggestCount
	var AI=this.itemField,AF=mstrmojo.array.filter(AH,function(AJ){return AJ[AI].toLowerCase().indexOf(AG.toLowerCase())>=0
	},{max:AE})
	return AF
	}return AH
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.Pulldown","mstrmojo.string","mstrmojo.ui.ButtonBar","mstrmojo.ui.editors.controls.ComboBox","mstrmojo.ui.editors.controls.ColorPickerButton","mstrmojo.NumGroupStepperContentProvider","mstrmojo.ui.editors.controls.Stepper","mstrmojo._FormatDefinition","mstrmojo.models.FormatModel")
	var C=mstrmojo.string,H=mstrmojo._FormatDefinition,W=mstrmojo.models.FormatModel,L=W.ENUM_PROPERTY_NAMES,K=1,G=2,P=4,F=8,J=16
	var R
	var M
	var I={bold:L.FONT_WEIGHT,italic:L.FONT_STYLE,underline:L.UNDERLINE,strikeout:L.LINE_THROUGH}
	function D(X){return(X&J)>0
	}function S(Y){var c=L.FONT_FAMILY,X=Y&&(Y[c]||W.getFormatBlockValue(Y,c)),a=this.hcgControls.fontFamily,Z=this.getFontFamilyItems()
	if(X===-1){var b=a&&a.list
	if(!b){return 
	}b.clearSelect()
	delete a.selectedIndex
	if(a.hasRendered){a.refresh()
	}}else{if(Z){a.set("selectedIndex",Math.max(Z.map(function(d){return d.n
	}).indexOf(X)))
	}}}function Q(X){var Y=[],Z=function(c,d,a){var b=X[c]
	if(b===undefined){b=W.getFormatBlockValue(X,c)
	}if(b){Y.push(a)
	}}
	Z(L.FONT_WEIGHT,"bold",0)
	Z(L.FONT_STYLE,"italic",1)
	Z(L.UNDERLINE,"underline",2)
	Z(L.LINE_THROUGH,"line-through",3)
	this.hcgControls.fontStyle.select(Y)
	}function N(X){var d=this.hcgControls,a=L.FONT_SIZE,Y=L.COLOR,c=X[a]||W.getFormatBlockValue(X,a),Z=d.fontSize
	var b=X[Y]
	if(typeof b==="undefined"||b===null){b=W.getFormatBlockValue(X,Y)
	}if(typeof b==="undefined"||b===null){b=""
	}if(D(this.visibleControls)){if(c.length){Z.provider.set("curValGroup",c)
	}}else{if(c===-1){Z.list.clearSelect()
	Z.selectedValue=""
	Z.updatePreview()
	}else{Z.set("selectedValue",c?(parseInt(c,10)).toString():Z.items[0].n)
	}}d.fontColor.set("selectedValue",b===""?"conflict":W.decodeValue(L.COLOR,b))
	}function O(){if(R&&M){return 
	}R=H.SizesInVI.map(function(X){return{idx:parseInt(X.n,10),n:X.n}
	})
	M=mstrmojo._FormatDefinition.Families.slice(1).map(function(X){return{n:X.n,id:X.n,preview:!X.symbolic}
	})
	}mstrmojo.ui.editors.controls._HasCharacterGroup=mstrmojo.provide("mstrmojo.ui.editors.controls._HasCharacterGroup",{_mixinName:"mstrmojo.ui.editors.controls._HasCharacterGroup",visibleControls:K+G+P,showNoFillInColor:true,hcgControls:null,getFontFamilyItems:function A(){return M
	},getFontStyleItems:function U(){return[{n:mstrmojo.desc(2718,"Bold"),id:"b",css:"bold"},{n:mstrmojo.desc(2719,"Italic"),id:"i",css:"italic"},{n:mstrmojo.desc(2720,"Underline"),id:"u",css:"underline"},{n:mstrmojo.desc(3062,"Strikeout"),id:"s",css:"strikeout"}]
	},getHCGControls:function E(a){O()
	var Y=this.hcgControls={},X=this.visibleControls
	if((X&K)>0){Y.fontFamily=mstrmojo.ui.Pulldown.newPulldown(this.getFontFamilyItems(),function(c,d){a(L.FONT_FAMILY,c.id,d&&d.id)
	},0,{isHostedWithin:false,scrollNodeMaxHeight:350,getPopupListConfig:function Z(){var c=mstrmojo.ui.Pulldown.prototype.getPopupListConfig.call(this)
	c.getItemProps=function d(g,e){var f=mstrmojo._IsList.getItemProps.call(this,g,e)
	f.style=g.preview?"font-family:'"+C.encodeHtmlString(g.n,true)+"'
	":""
	return f
	}
	return c
	}})
	}if((X&G)>0||(X&F)>0){var b=Y.fontStyle=new mstrmojo.ui.ButtonBar({hasSpacing:true,multiSelect:true,items:this.getFontStyleItems(),postselectionChange:function(c){var e=c.added,f=this.items[e?e[0]:c.removed[0]],d=!!e
	if(f){a(I[f.css],d,!d)
	}}})
	if((X&F)>0){b.items.pop()
	}}if((X&P)>0){Y.fontSize=D(X)?new mstrmojo.ui.editors.controls.Stepper({alias:"fontSizeCtrl",provider:new mstrmojo.NumGroupStepperContentProvider({item:{interval:1},curValGroup:[],min:Math.min.apply(Math,R.map(function(c){return c.idx
	})),max:Math.max.apply(Math,R.map(function(c){return c.idx
	})),container:this,onTraverse:function(){var c=this.container.fontSize
	if(c._sync){return 
	}this.container.raiseFormatValueChange(L.FONT_SIZE,c.provider.getValGroup())
	},oncurValGroupChange:function(){var c=this.container.fontSize
	if(c.textNode){c.updateDisplayText()
	}}})}):new mstrmojo.ui.editors.controls.ComboBox({alias:"fontSizeCtrl",selectedValue:"10",items:R,isHostedWithin:false,validateTextInput:function(c){return(/^[0-9]+(pt)?$/.test(c))
	},updateSelection:function(){this.set("selectedValue",parseInt(this.txtLabel.value,10).toString())
	},postselectedValueChange:function(c){a(L.FONT_SIZE,parseInt(c.value,10)+"pt",parseInt(c.valueWas,10)+"pt")
	}})
	Y.fontColor=new mstrmojo.ui.editors.controls.ColorPickerButton({showGradient:false,showNoFill:this.showNoFillInColor,selectedValue:"#000000",postselectedValueChange:function(c){a(L.COLOR,c.value,c.valueWas)
	}})
	}return Y
	},setFormatSource:function B(X){var Y=this
	this.syncControls(function(){var Z=this.visibleControls
	if((Z&K)>0){S.call(Y,X)
	}if((Z&G)>0||(Z&F)>0){Q.call(Y,X)
	}if((Z&P)>0){N.call(Y,X)
	}})
	}})
	mstrmojo.ui.editors.controls._HasCharacterGroup.CTRL_FLAGS={FONT_FAMILY:K,FONT_STYLE:G,FONT_SIZE_AND_COLOR:P,FONT_STYLE_NO_STRIKEOUT:F,FONT_SIZE_USE_STEPPER:J}
	mstrmojo.ui.editors.controls._HasCharacterGroup.ControlsType=null
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Label","mstrmojo.color","mstrmojo.expr","mstrmojo.hash","mstrmojo.locales","mstrmojo.models.FormatModel","mstrmojo.ui.editors.controls.ControlGroup","mstrmojo.ui.editors.controls.TwoColumnContainer","mstrmojo.ui.editors.controls.ColorPickerButton","mstrmojo.ui.editors.controls.LineStyleButton","mstrmojo.ui.editors.controls.ValidationTextBox","mstrmojo.validation","mstrmojo.vi.enums.EnumFeatures")
	var W=mstrmojo.color,U=1,O=2,F=4,H=8,I=45,a=mstrmojo.models.FormatModel,N=a.ENUM_PROPERTY_NAMES,R=N.BACKGROUND_COLOR,E=N.FILL_OPACITY,G={all:{c:N.BORDER_COLOR,s:N.BORDER_STYLE},top:{c:N.BORDER_TOP_COLOR,s:N.BORDER_TOP_STYLE},right:{c:N.BORDER_RIGHT_COLOR,s:N.BORDER_RIGHT_STYLE},bottom:{c:N.BORDER_BOTTOM_COLOR,s:N.BORDER_BOTTOM_STYLE},left:{c:N.BORDER_LEFT_COLOR,s:N.BORDER_LEFT_STYLE}},M={FILL_COLOR:"fillColor",FILL_APLHA:"fillAlpha",BORDER:"border",SIZE:"size",POSITION:"position",SIZE_HEIGHT:"sizeHeight",SIZE_WIDTH:"sizeWidth",POSITION_LEFT:"positionLeft",POSITION_TOP:"positionTop"},S=mstrmojo.expr.DTP,Y=mstrmojo.locales,J=mstrmojo.vi.enums.EnumFeatures
	function Z(d,b,e){b.forEach(function(g,f){g.slot="col"+(f+1)+"Node"
	})
	var c=e?0:this.secondColumnWidth
	return{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",alias:d,col1Width:(100-c)+"%",col2Width:e?e:(c+"%"),children:b}
	}function C(c,b){b.forEach(function(e,d){e.slot="col"+(d+1)+"Node"
	})
	return{scriptClass:"mstrmojo.ui.editors.controls.ThreeColumnContainer",alias:c,col1Width:I+"%",col2Width:100-2*I+"%",col3Width:I+"%",children:b}
	}function A(b,c){return{scriptClass:"mstrmojo.ui.editors.controls.ValidationTextBox",alias:b,cssClass:"right",constraints:{regExp:Y.number.DECIMALSEPARATOR==="."?/^(?:100(?:\.00?)?|\d?\d(?:\.\d\d?)?)?[\%]?$/:/^(?:100(?:,00?)?|\d?\d(?:,\d\d?)?)?[\%]?$/},onValid:function(){if(this.value){var d=this.parent.parent
	if(d.raiseFormatLayoutChange){d.raiseFormatLayoutChange(c,this.value.replace(Y.number.DECIMALSEPARATOR,"."),this.orignText&&this.orignText.replace(Y.number.DECIMALSEPARATOR,"."))
	}}},onfocus:function(){var d=this.orignText=this.value
	this.domNode.setSelectionRange(0,d.length)
	}}
	}function D(b){return{scriptClass:"mstrmojo.Label",cssClass:"center",text:b}
	}function L(b,e,d,c){return C(b,[D.call(this,e),D.call(this,d),D.call(this,c)])
	}function X(d,b,c){return mstrmojo.hash.copy(c,{scriptClass:"mstrmojo.ui.editors.controls.ColorPickerButton",showGradient:!!b,postselectedValueChange:function(e){this.parent.parent.raiseFormatValueChange(d,e.value,e.valueWas)
	}})
	}function K(e){var d="transparent",b="none",c
	if(e){c=e.indexOf("#")
	if(c===-1){c=e.indexOf(d)
	}}if(!isNaN(c)&&c>-1){b=e.substr(0,c-1)
	d=W.fixFullHexValue(e.substr(c))
	}else{b=e
	}if(b.indexOf("none")>-1){b="none"
	}return{s:b,c:d}
	}mstrmojo.ui.editors.controls.ContainerGroup=mstrmojo.declare(mstrmojo.ui.editors.controls.ControlGroup,null,{scriptClass:"mstrmojo.ui.editors.controls.ContainerGroup",borderTitle:mstrmojo.desc(13631,"Outer border"),fillColorTitle:mstrmojo.desc(7993,"Fill color"),showThickBorderStyle:true,showBackgroundNoFill:true,showBackgroundGradient:false,showBorderNoFill:true,visibleControls:U+O+H,targetBorder:"all",secondColumnWidth:60,init:function P(e){this._super(e)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-ui-EditContainer")
	var d=[],c=this.visibleControls,b=G[this.targetBorder]
	if((c&U)>0){if(!(c&H)||!mstrApp.supportFeature(J.FILL_OPACITY)){d.push(Z.call(this,M.FILL_COLOR,[{scriptClass:"mstrmojo.Label",text:this.fillColorTitle},X(R,this.showBackgroundGradient,{showNoFill:this.showBackgroundNoFill})]))
	}else{d.push({scriptClass:"mstrmojo.Label",text:this.fillColorTitle})
	d.push(Z.call(this,M.FILL_COLOR,[X(R,this.showBackgroundGradient,{showNoFill:this.showBackgroundNoFill}),Z.call(this,M.FILL_APLHA,[{scriptClass:"mstrmojo.ui.editors.controls.ValidationTextBox",alias:"fillAlphaText",value:100,cssClass:"right",dtp:S.INTEGER,required:true,constraints:{trigger:mstrmojo.validation.TRIGGER.ONBLUR,min:0,max:100},onValid:function f(){if(this.value!==this.orignText){var g=this.parent.parent.parent
	if(g.raiseFormatValueChange){g.raiseFormatValueChange(E,this.value,this.orignText)
	}}}},{scriptClass:"mstrmojo.Label",text:"%"}],"10px")]))
	}}if((c&O)>0){d.push({scriptClass:"mstrmojo.Label",text:this.borderTitle})
	d.push(Z.call(this,M.BORDER,[{scriptClass:"mstrmojo.ui.editors.controls.LineStyleButton",showThickOption:this.showThickBorderStyle,postselectedValueChange:function(g){var h=this.parent.parent
	h.raiseFormatValueChange(b.s,g.value,g.valueWas)
	h[M.BORDER].getControl(2).set("enabled",g.value!=="none")
	}},X(b.c,false,{showNoFill:this.showBorderNoFill})]))
	}if((c&F)>0){d=d.concat([{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(16651,"Position and Size")},L.call(this,null,"X"," ","Y"),C(M.POSITION,[A.call(this,M.POSITION_LEFT,"left"),D.call(this,"x"),A.call(this,M.POSITION_TOP,"top")]),L.call(this,null,mstrmojo.desc(2985,"Width")," ",mstrmojo.desc(2983,"Height")),C(M.SIZE,[A.call(this,M.SIZE_WIDTH,"width"),D.call(this,"x"),A.call(this,M.SIZE_HEIGHT,"height")])])
	}this.addChildren(d)
	},setPositionAndSize:function Q(c){var b=this[M.POSITION],f=this[M.SIZE],d=c.prop,e=function(h,k){var g=Math.round(k.split("|")[0]*100)/100,j=h.domNode
	h.set("value",g.toString().replace(".",Y.number.DECIMALSEPARATOR)+"%")
	if(j){j.style.borderColor=(g>=0&&g<=100)?"":"red"
	}}
	if(b){e(b[M.POSITION_LEFT],d.left)
	e(b[M.POSITION_TOP],d.top)
	}if(f){e(f[M.SIZE_HEIGHT],d.height)
	e(f[M.SIZE_WIDTH],d.width)
	}},setFormatSource:function B(c){var b=this[M.FILL_COLOR],g=b&&b[M.FILL_APLHA],f=this[M.BORDER],e=this.targetBorder,d=G[e]
	if(e==="all"){d=G.top
	}this.syncControls(function(){if(b){var r=a.decodeGradientValue(a.getGradientValues(c)),h,p=b.getControl(2)
	if(!r){if(c[N.FILL_STYLE]===1){h="transparent"
	}else{var n=c[R]
	if(typeof n==="undefined"||n===null){n=c["background-color"]
	}if(typeof n==="undefined"||n===null){n=-1
	}h=a.decodeValue(R,n)
	}}if(!p.colorPicker){p=b.getControl(1)
	}p.set("selectedValue",r||h)
	}if(g){var m=c[E],q,j=b.getControl(2).fillAlphaText
	if(typeof m==="undefined"||m===null){m=c["background-opacity"]
	}if(typeof m==="undefined"||m===null||m<0||m>100){m=100
	}q=parseInt(m,10)
	j.set("value",q)
	}if(f){var o=c.border
	if(!o){if(typeof (c.borderStyle)!=="undefined"&&c.borderStyle!==null){o=typeof (c.borderStyle)==="string"?c.borderStyle:a.decodeValue("borderStyle",c.borderStyle)
	}else{o=a.decodeValue(d.s,c[d.s])
	}if(typeof c.borderColor!=="undefined"&&c.borderColor!==null){o+=" "+a.decodeValue("borderColor",c.borderColor)
	}else{if(typeof c[d.c]!=="undefined"&&c[d.c]!==null){o+=" "+a.decodeValue(d.c,c[d.c])
	}else{o+=" "+a.decodeValue(d.c,-1)
	}}}var l=K(o),k=f.getControl(2)
	f.getControl(1).set("selectedValue",l.s)
	k.set("enabled",l.s!=="none")
	k.set("selectedValue",l.c)
	}})
	}})
	mstrmojo.ui.editors.controls.ContainerGroup.CTRL_FLAGS={FILL_COLOR:U,BORDER:O,SIZE_POSITION:F,FILL_ALPHA:H}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.css","mstrmojo.string","mstrmojo.fe.RelationNode","mstrmojo.fe.RelationFilterExprTree","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.mstr.EnumNodeDimty","mstrmojo.Box","mstrmojo.ui.Pulldown","mstrmojo.Label","mstrmojo.vi.ui.toolbars.TitleToolbar","mstrmojo.vi.ui.toolbars._HasToolbar","mstrmojo._HasItemAliases","mstrmojo.url")
	mstrmojo.requiresDescs(2790,5895,5896,7931,12036,12037,15121,15122)
	var F=mstrmojo.hash,A=mstrmojo.array,G=mstrmojo.mstr.EnumDSSXMLObjectTypes,H=mstrmojo.mstr.EnumNodeDimty,C=mstrmojo.css,E=mstrmojo.string,D=function(R){var Q=R.data,O=Q.dmy&&Q.dmy.uts||[],P=O.length,U=F.walk("tree.editor.xtab",R),S=U&&U.gridInfo,W=F.walk("tree.editor.docModel",R),N=[],M,K,L
	for(M=0
	M<P
	M++){K=O[M].utgt
	R.adjustItemName(K,W,S)
	N.push(E.encodeHtmlString(K.n))
	}L=N.join(", ")
	return'<span class="mstrmojo-text" title="'+L+'">'+L+"</span>"
	}
	var I=function(){var M=mstrmojo.desc(2790,"Set of ##"),L=M.split("##")[0]
	var K=L.length
	if(K>0&&L[K-1]===" "){L+="&nbsp
	"
	}return L
	}
	mstrmojo.vi.ui.editors.fe.RelationNode=mstrmojo.declare(mstrmojo.fe.RelationNode,[mstrmojo.vi.ui.toolbars._HasToolbar,mstrmojo._HasItemAliases],{scriptClass:"mstrmojo.vi.ui.editors.fe.RelationNode",markupString:'<div id="{@id}" class="mstrmojo-relation {@cssClass}"  style="position:relative
	{@cssText}" mstrAttach:mousedown><div class="mstrmojo-onhoverparent mstrmojo-relation-prefix {@cssClass}"><span class="mstrmojo-textset mstrmojo-relation-prefix-text" mstrAttach:click></span><span class="mstrmojo-onhover-in mstrmojo-andor-tools {@cssClass}"><span class="mstrmojo-indent" mstreventmark="indentNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].ind()">'+mstrmojo.desc(5895,"Group conditions")+'</span><span class="mstrmojo-outdent" mstreventmark="outdentNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].out()">'+mstrmojo.desc(5896,"Ungroup Conditions")+'</span></span></div><div class="mstrmojo-relationNode"><div class="mstrmojo-relationNode-inf"><div class="mstrmojo-relation-prefix-text">'+I()+'</div><div class="mstrmojo-textset"  mstrAttach:click></div><div class="mstrmojo-relation-prefix-text">'+(mstrmojo.desc(2790,"Set of ##").split("##")[1]||"")+'</div><div class="mstrmojo-relation-postfix-text">'+mstrmojo.desc(15121,"filtered by")+'</div><div class="mstrmojo-relation-related-by-box"></div><div class="mstrmojo-relation-toolbar"></div><img class="mstrmojo-del" src="'+mstrmojo.url.getPlaceholderImageURL()+'" tooltip="'+mstrmojo.desc(7931,"Delete condition")+'" alt="'+mstrmojo.desc(7931,"Delete condition")+'" mstreventmark="delNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].del()" /></div><div class="mstrmojo-relation-childTreeNode" style="position:relative
	"></div></div></div>',eventHandlerMap:{indentNode:{click:{requiredParams:["id"],handlerFn:function(K){return function(){mstrmojo.all[K.id].ind()
	}
	}}},outdentNode:{click:{requiredParams:["id"],handlerFn:function(K){return function(){mstrmojo.all[K.id].out()
	}
	}}},delNode:{click:{requiredParams:["id"],handlerFn:function(K){return function(){mstrmojo.all[K.id].del()
	}
	}}}},markupSlots:{prefixHoverNode:function(){return this.domNode.firstChild
	},prefixNode:function(){return this.domNode.firstChild.firstChild
	},relationNode:function(){return this.domNode.lastChild
	},textNode:function(){return this.domNode.childNodes[1].firstChild.childNodes[1]
	},relatedByBoxNode:function(){return this.domNode.childNodes[1].firstChild.childNodes[4]
	},toolbarNode:function(){return this.domNode.childNodes[1].firstChild.childNodes[5]
	},containerNode:function(){return this.domNode.childNodes[1].childNodes[1]
	}},markupMethods:{onprefixedAndOrEditableChange:function(){C.toggleClass(this.prefixNode,["editable"],this.prefixedAndOrEditable)
	},onselectedChange:function(){C.toggleClass(this.relationNode,["selected"],this.selected)
	},ondataChange:function(){this.prefixNode.innerHTML=this.andOrTxt()
	this.textNode.innerHTML=D(this)
	}},children:[{scriptClass:"mstrmojo.fe.RelationFilterExprTree",alias:"childTree",ignoreLayout:true,dropZone:false,draggable:false,nodeClassMap:{14:mstrmojo.fe.AndOrNode,ph:mstrmojo.fe.DynamicNode,"*":mstrmojo.fe.ConditionNode},onNew:function(K){this.parent.tree.onNew(K)
	},getItemConfig:function(R,O,L){var K=mstrmojo.fe.RelationFilterExprTree.prototype.getItemConfig.call(this,R,O,L),S=L.tree||L,M=F.walk("tree.parent.tree.editor",L),Q=M&&M.docModel,P=M&&M.xtab,N=P&&P.gridInfo
	this.adjustItemName(R,Q,N)
	return F.copy({tree:S,rootTree:this.parent.tree,noRelation:true,inRelation:true,onremove:function(){if(this.rootTree&&this.rootTree.onremove){this.rootTree.onremove()
	}},onadd:function(){if(this.rootTree&&this.rootTree.onadd){this.rootTree.onadd()
	}}},K)
	},prenodeclick:function(K){if(!K||!K.part){return 
	}var L=this.rootTree
	if(L&&L.onnodeclick&&this.editable){K.editor=L.editor
	L.onnodeclick.call(this,K)
	}}},{scriptClass:"mstrmojo.Box",alias:"relBox",slot:"relatedByBoxNode",cssClass:"RelatedBy-Box",cssDisplay:"inline-block",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(12036,"Related by"),cssClass:"Label",cssDisplay:"inline-block"},{scriptClass:"mstrmojo.ui.Pulldown",alias:"relPd",cssClass:"Pulldown",cssDisplay:"inline-block",isHostedWithin:false,allowHTML:false,onitemSelected:function B(O){var N=this.parent.parent,L=N.data,K=null
	if(this.selectedIndex>0){K={n:O.n,did:O.did,t:O.t||G.Metric,st:O.st||1024}
	}L.dmt=H.NodeDimtyOutputLevel
	L.dmy=L.dmy||{}
	var M=L.relation=L.relation||{}
	if(K){M.guide=K
	L.useSchema=false
	}else{delete M.guide
	delete M.rsTp
	delete M.joTp
	delete M.paTp
	delete M.erTp
	L.useSchema=true
	}N.set("data",L)
	}}]},{scriptClass:"mstrmojo.vi.ui.toolbars.TitleToolbar",slot:"toolbarNode",alias:"toolbar",visible:true,hasContextMenuButton:true,cssClass:"relation-toolbar",cssDisplay:"inline-block"}],_set_data:function(N,W){var O=this._super(N,W),Q=this,L=this.data,P=!L.m,K=this.relBox.relPd,R=A.filter(this.tree.editor.targetMetrics,function(Z){return !Z.um
	}),Y=[{n:mstrmojo.desc(12037,"System Default"),t:-1,did:"default"}].concat(R)
	this.relBox.set("visible",P)
	if(P){var U=0
	if(L.relation&&L.relation.guide){var M=L.relation.guide
	U=A.find(Y,"did",M.did)
	}if(U!==K.selectedIndex){var X=F.walk("tree.editor.docModel",Q),S=F.walk("tree.editor.xtab.gridInfo",Q)
	A.forEach(Y,function(Z){Q.adjustItemName(Z,X,S)
	})
	K.set("items",Y)
	K.set("selectedIndex",U>=0?U:0)
	}}return O
	},updateToolbar:function J(K){var L=this
	if(this._super){K=this._super(K)
	}K.addMenuItem(mstrmojo.desc(15122,"Convert to Condition"),"convert",function(){L.parent.removeSet(L)
	})
	K.isHostedWithin=false
	return K
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.editors.ToolbarPopup","mstrmojo.ui.editors._HostsControls","mstrmojo.ui.editors.controls._HasCharacterGroup","mstrmojo.vi.ui.TextAlignButtonBar","mstrmojo.models.FormatModel","mstrmojo.css")
	var B=mstrmojo.models.FormatModel
	mstrmojo.ui.editors.CharacterToolbarPopup=mstrmojo.declare(mstrmojo.ui.editors.ToolbarPopup,[mstrmojo.ui.editors._HostsControls,mstrmojo.ui.editors.controls._HasCharacterGroup],{scriptClass:"mstrmojo.ui.editors.CharacterToolbarPopup",textAlignJustify:true,textAlignValueMap:null,textAlignFmtName:mstrmojo.models.FormatModel.ENUM_PROPERTY_NAMES.TEXT_ALIGN,btnTextAlign:null,init:function D(I){this._super(I)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-ui-EditCharacter")
	var K=this.textAlignJustify,H=this,F=function(P,Q,O){H.raiseFormatValueChange(P,Q,O)
	},L=this.getHCGControls(F),J=L.fontFamily,N=L.fontSize,G=L.fontColor,M={alias:"btnTextAlign",includeJustify:K,onValueChange:function(P,O){F(H.textAlignFmtName,P,O)
	}}
	J.width="125px"
	N.width="50px"
	G.width="50px"
	this.width=K?"505px":"476px"
	var E=this.textAlignValueMap
	if(E){M.itemsValueMap=E
	}this.addChildren([J,L.fontStyle,N,G,new mstrmojo.vi.ui.TextAlignButtonBar(M)])
	},shouldPropagateLockHover:function C(){return false
	},setFormatSource:function A(E){this._super(E)
	this.syncControls(function(){if(this.textAlignFmtName in E){this.btnTextAlign.singleSelectByField(E[this.textAlignFmtName],"v")
	}else{this.btnTextAlign.singleSelectByField(B.getFormatBlockValue(E,B.ENUM_PROPERTY_NAMES.TEXT_ALIGN),"id")
	}})
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.editors.controls.ControlGroup","mstrmojo.ui.editors.controls._HasCharacterGroup","mstrmojo.ui.editors.controls.TwoColumnContainer","mstrmojo.css")
	mstrmojo.ui.editors.controls.CharacterGroup=mstrmojo.declare(mstrmojo.ui.editors.controls.ControlGroup,[mstrmojo.ui.editors.controls._HasCharacterGroup],{scriptClass:"mstrmojo.ui.editors.controls.CharacterGroup",init:function A(E){this._super(E)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-ui-EditCharacter")
	var H=this,C=this.getHCGControls(function(K,L,J){if(!H._sync){H.raiseFormatValueChange(K,L,J)
	}}),D=[]
	Object.keys(C).forEach(function(J){this[J]=C[J]
	}.bind(this))
	var B=this.fontFamily,I=this.fontStyle,G=this.fontSize,F=this.fontColor
	if(B){D.push(B)
	}if(I){D.push(I)
	}if(G){G.slot="col1Node"
	F.slot="col2Node"
	D.push({scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",alias:"fontSizeColorRow",children:[G,F]})
	}if(D.length){this.addChildren(D)
	}}})
	mstrmojo.ui.editors.controls.CharacterGroup.CTRL_FLAGS=mstrmojo.ui.editors.controls._HasCharacterGroup.CTRL_FLAGS
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.date","mstrmojo.dom","mstrmojo.NumberFormat","mstrmojo.Button","mstrmojo.Serializer","mstrmojo.vi.ui.editors.PromptOptionEditor","mstrmojo.vi.ui.editors.ExportPDFEditor","mstrmojo.vi.enums.EnumFeatures","mstrmojo.vi.util.NavUtility")
	var A=mstrmojo.desc,AW=mstrmojo.css,D=mstrmojo.Button.newWebButton,AH=mstrmojo.Serializer,AM=mstrmojo.date,c=mstrmojo.func,S=mstrmojo.hash,Q=mstrmojo.array,u=mstrmojo.dom,AQ=mstrmojo.NumberFormat,H="1:Width",l="2:Page",R=44,AE=28,AJ=29,AC=17,w=mstrmojo.vi.util.NavUtility,z=mstrmojo.vi.enums.EnumFeatures,AA=function(){return mstrmojo.locales.datetime
	}
	function Ab(Ac){w.checkSessionAndSendForm(Ac,null,"post")
	}function AZ(Ad,Af){var Ac=Ad.model
	var Ae={evt:2048001,messageID:Ac.mid,rwb:Ac.bs}
	if(Af<50||Af===2048){Ae.visMode=0
	Ae.currentViewMedia=Af
	}else{Ae.visMode=Af
	Ae.currentViewMedia=1
	}Ab(Ae)
	}function AX(){var Ad=mstrApp.pathInfo.nb,Ac=mstrmojo.array.find(Ad,"n","Return")
	return Ac>-1?Ad[Ac].href:null
	}function x(Ac){var Ad={}
	Ad.evt=3198
	Ad.src=mstrApp.name+".3198"
	Ad.messageID=mstrApp.getMsgID&&mstrApp.getMsgID()||""
	Ab(Ad)
	}function AO(Af,Ae,Ah,Ag){var Ad=Af.model,Ac=mstrConfig&&mstrConfig.resolveOnly||mstrApp.isAppStatePause&&mstrApp.isAppStatePause()||false,Ai={evt:2048030,src:Ad.bp+".2048030",rePrompt:Ae,fresh:Ah,resolveOnly:Ac,regenerate:Ag,isPresentation:!!mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation(),rwb:Ad.bs}
	if(mstrApp.optimizeFitToPage){Ai.innerWidth=Math.floor(u.windowDim().w)
	Ai.innerHeight=Math.floor(u.windowDim().h)
	}Ab(Ai)
	}function Y(Al,Ad){var Ah=Al.model,Ai=(Ah&&Ah.zt)||0,Ae,Ag,Ac
	switch(Ai){case 1:Ae="Width"
	Ac=H
	Ag=A(4809)
	break
	case 2:Ae="Page"
	Ac=l
	Ag=A(4808)
	break
	default:Ae=(Ah&&Ah.getZoomFactor())||1
	Ac=Ai+":"+AQ.format(Ae)
	Ag=parseInt(Ae*100,10)+"%"
	}var Af=Al.zoomOptions,Aj
	if(Af){var Ak=mstrmojo.array.find(Af,"dssid",Ac)
	if(Ak>-1){Aj=Af[Ak]
	}}if(!Aj){Aj={n:Ag,dssid:Ac,f:Ae,tp:Ai}
	}if(Ad===true){Al.view.zoomValue=Aj
	}else{Al.view.set("zoomValue",Aj)
	}}function h(Ai,Al,Ac,Ad,Aj,Af,Ah,Ak){var Ae=Ai.model,Ag=Ae&&Ae.isnew
	if(!Ag&&(!Ak||!mstrmojo.resolveFeature("save-analysis")||!(Ai.isDocChanged&&Ai.isDocChanged()))){Aj(Af)
	return 
	}mstrmojo.warn(Ad,{confirmBtn:{t:mstrmojo.desc(118,"Save"),fn:function(){Ai.save(Ah)
	}},cancelBtn:{t:mstrmojo.desc(2140,"Cancel")}},{title:Al||mstrmojo.desc(11812,"Notification"),help:Ac})
	}function I(Ad){var Ac=Ad.model
	Ac.showDialogBeforeSave=false
	Ac.getDataService().setPreference("askBeforeSaveChanges\u001E2",{success:mstrmojo.emptyFn,failure:function(Ae){mstrmojo.alert(Ae.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}})
	}var k=-1,AY=3,t=4,AU=7,AP=10,j=18
	mstrmojo._DocToolbarActions=mstrmojo.provide("mstrmojo._DocToolbarActions",{_mixinName:"mstrmojo._DocToolbarActions",staticViewMode:function AB(){AZ(this,1)
	},interactiveViewMode:function Aa(){AZ(this,2)
	},editableMode:function L(){this.model.updateWidgetsProps()
	AZ(this,4)
	},flashViewMode:function J(){AZ(this,8)
	},IVEMode:function C(){AZ(this,2048)
	},IVEHelp:function C(){var Ac=mstrmojo.helpPath()
	window.open(Ac+"Displaying_a_visual_representation_of_your_data__V.htm","_blank")
	return true
	},remainExpressViewMode:function E(){},designViewMode:function O(Ac,Ad){this.model.updateWidgetsProps()
	Ab({evt:3104,rwDesignMode:1,convertFromVI:(Ad===true)?1:0,messageID:this.model.mid,rwb:this.model.bs,jsonMode:false})
	},onmodelChange:function f(){Y(this,true)
	},convertToDoc:function p(Ad){var Ac=this
	if(Ac.model.hasMDXRADataset()){mstrmojo.alert(mstrmojo.desc(14692,'The "Convert to Document" option is currently not available for MDX cube with Hierarchical Attributes.'),null,mstrmojo.desc(3610,"MicroStrategy Web"))
	}else{mstrmojo.warn(mstrmojo.desc(15498,"Converting a dossier to a document cannot be undone. Do you want to convert?"),{confirmBtn:{t:mstrmojo.desc(13654,"Convert"),fn:function(){Ac.designViewMode(undefined,Ad)
	}},cancelBtn:{t:mstrmojo.desc(221,"Cancel")}},{title:mstrmojo.desc(5180,"Convert to Document")})
	}},saveAs:function(Ac){this.save()
	},save:function X(Ad,Ac){if(mstrApp.isSingleTier){FormWrapper.saveas(false)
	return 
	}this.model.saveAsRW(Ad,Ac)
	},dSave:function v(Am,Ag,Al){var Aj=this,Ad=Aj.model,Ah=Ad&&Ad.isnew,Af=Ad&&Ad.isRWReadonly,Ae=60,Ai=Ad.n
	if(mstrApp.isExpress){this.model.updateWidgetsProps()
	}if(mstrApp.isSingleTier){if(Al){FormWrapper.savePromptOption((Ad.prompt_option>=0)?Ad.prompt_option+1:3)
	}else{FormWrapper.save(false)
	}return 
	}if(Ai.length>Ae){Ai=Ai.substr(0,Ae-1)+"..."
	}if(Ah||Af){this.save()
	}else{var An=mstrApp.features["ask-before-save-changes"]
	if(An){var Ac="dialogBeforeSave",Ak=function(){mstrmojo.all.dialogBeforeSave.destroy()
	}
	mstrmojo.insert({scriptClass:"mstrmojo.Editor",id:Ac,title:A(5728),cssClass:"mstrmojo-dta save",btnAlignment:"right",modal:true,visible:true,onClose:Ak,buttons:[D(A(1442),function(){var Ao=mstrmojo.all[Ac]
	if(Ao.t.ctrlChk.checked){Aj.setDontAskAgain()
	mstrApp.features["ask-before-save-changes"]=false
	}Aj.directSave(Am)
	Ak()
	},true),D(A(218),function(){var Ao=mstrmojo.all[Ac]
	if(Ao.t.ctrlChk.checked){I(Aj)
	}Aj.save()
	Ak()
	}),D(A(2140),Ak)],children:[{scriptClass:"mstrmojo.Table",alias:"t",rows:2,cols:1,children:[{scriptClass:"mstrmojo.Label",text:A(11165,"Are you sure you want to overwrite the existing copy of ##?").replace(/##/,"<b>"+mstrmojo.string.encodeHtmlString(Ai)+"</b>"),visible:true,cssClass:"ucalert",slot:"0,0",allowHTML:true},{scriptClass:"mstrmojo.CheckBox",label:A(211),alias:"ctrlChk",visible:true,checked:false,slot:"1,0"}]}]}).render()
	}else{Aj.directSave(Am)
	}}},setDontAskAgain:function AI(){var Ad=this,Ac=Ad.model
	Ac.showDialogBeforeSave=false
	Ac.getDataService().setPreference("askBeforeSaveChanges\u001E0",{success:mstrmojo.emptyFn,failure:function(Ae){mstrmojo.alert(Ae.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}})
	},directSave:function W(Aj){Aj=Aj||{}
	var Ai=this,Ad=Ai.model,Ac=mstrmojo.string.decodeHtmlString(Ad.n),Ag=mstrmojo.emptyFn,Ak=Aj.success||Ag,Af=Aj.failure||Ag,Ae=Aj.complete||Ag,Ah=mstrConfig&&mstrConfig.resolveOnly||mstrApp.isAppStatePause&&mstrApp.isAppStatePause()||false
	mstrApp.showWait({message:mstrmojo.desc(10492,"Saving..."),cssClass:"saving-in-progress",showCancel:true})
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(Al){var Am=function(){if(!Aj.ignoreOrgSucc){mstrApp.showWait({message:mstrmojo.desc(13781,"Saved Successfully"),cssClass:"save-successful-waitbox",_autoClose:true,timeout:2000})
	}Ai.cmdMgr.reset()
	}
	Ad.lastSavedStid=Ad.getDataService().stid
	Ad.dty=false
	Ak(Al)
	if(Al.needToGetResults){Ad.getDataService().retrieveServerJson({},c.wrapMethods(Ad.controller.getRefreshCallback(),{success:Am}),{preserveUndo:true,style:{name:"ServerJsonRWDStyle",params:{treesToRender:3}},params:{styleName:"ServerJsonRWDStyle"}})
	}else{Am()
	}},failure:function(Al){var An=Al.getResponseHeader("X-MSTR-TaskErrorCode"),Am=Al.getResponseHeader("X-MSTR-TaskFailureMsg")
	if(An==="-2147468986"||An==="-2147217126"||An==="-1"||mstrApp.isVI&&An<0&&Am){mstrmojo.alert(Am)
	}else{if(!Aj.ignoreOrgFail){mstrmojo.alert(A(4107))
	}}Af(Al)
	},complete:function(Al){mstrApp.hideWait()
	Ae(Al)
	}},{taskId:"saveRW",msgID:(Ad.dataService&&Ad.dataService.msgId)||Ad.mid,folderID:Ad.sfid||Ad.pfid,objName:Ac,objDesc:mstrmojo.string.decodeHtmlString(Ad.dsc),saveAsFlags:(Ad.prompt_option>=0)?Ad.prompt_option+1:3,taskEnv:"xhr",skipRebuild:Ah,taskContentType:"json"})
	},quickSave:function q(){this.model.saveRW()
	},browseParent:function n(){var Ac=this.model,Ad={evt:3010}
	if(!Ac.pfh){Ad.evt=2001
	Ad.folderID=Ac.pfid
	if(Ac.sysFolder){Ad.systemFolder=Ac.sysFolder
	}}Ab(Ad)
	},close:function e(){x(this)
	},openPage:function AR(Ad){var Ac=this.model
	Ab({evt:3124,src:mstrApp.name+"."+mstrApp.pageName+".3124",relativePageNumber:Ad,messageID:Ac.mid,rwb:Ac.bs})
	},saveToInbox:function d(){var Ad=this
	mstrApp.serverRequest({taskId:"addDocToHistoryList",rwb:Ad.model.bs},{success:function(){var Ae=Ad.model.features
	if(Ae){if(Ae.set){Ae.set("enable-add-history-list",false)
	}else{Ae["enable-add-history-list"]=false
	}}mstrmojo.alert(A(8047))
	},failure:function Ac(Ae){if(Ae&&Ae.message){mstrmojo.alert(Ae.message)
	}else{mstrmojo.alert(A(15211))
	}}},{silent:true})
	},ShowSharingEditor:function AG(Al){var Af="sharingEditor",Ai=mstrmojo.all[Af],Aj=this,Ag=Aj.model,Ah=Ag.isnew,Ak=(Al&&Al.cls)?Al.cls:null,Ae=Ag.getDataService().stid,Ac=function(Am){if(Ai){Ai.set("oi",Am)
	S.copy({objectName:Ag.n,href:null,initTab:Ak,mid:Ag.mid,isLinkDirty:Ai.lastState!==Ae,lastState:Ae},Ai)
	}else{Ai=new mstrmojo.SharingEditor({guestModeEnabled:mstrApp.guestModeEnabled,mid:Ag.mid,id:Af,oi:Am,href:null,initTab:Ak,isLinkDirty:true,viewMode:1,lastState:Ae})
	}Ai.open()
	},Ad={success:function(Am){Ac(Am.objects[0])
	},failure:function(Am){mstrmojo.alert(Am.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}}
	if(Ah){mstrmojo.alert(mstrmojo.desc(15513,"You must save this dossier before you can share it."),null,mstrmojo.desc(8101,"Share ..."))
	}else{Ag.getDataService().getObjectInfo({objectIDs:this.model.oid,objectTypes:55,includeACL:mstrApp.features?!!mstrApp.features["web-use-sharing-editor"]:false},Ad)
	}},annotationMode:function F(){(mstrmojo.all.annotations||mstrmojo.insert({scriptClass:"mstrmojo.vi.ui.Annotations"})).displayAnnotations(this.rootCtrl.view)
	},createPersonalView:function o(){var Af=this,Ac=Af.model,Ad=Ac&&Ac.isnew
	if(Ad){mstrmojo.alert(mstrmojo.desc(15504,"You must save your dossier before continuing."),null,mstrmojo.desc(9173,"Create Personal View"))
	}else{var Aj=Ac.n,Ae="mstrPVD",Ai={scriptClass:"mstrmojo.PersonalViewSaveAs",id:Ae,objectType:55,objectSubType:14081},Ah=mstrmojo.all[Ae]||mstrmojo.insert(Ai)
	if(Aj){var Ag=AM.getDateJson(new Date())
	Aj+=" "+AM.formatDateInfo(Ag,AA().DATEOUTPUTFORMAT)+" "+AM.formatTimeInfo(Ag,AA().TIMEOUTPUTFORMAT)
	Ah.set("name",Aj)
	}Ah.msgID=this.model.mid
	Ah.open()
	}},reprompt:function U(){AO(this,true,false,false)
	},refresh:function r(){AO(this,false,false,false)
	},rerun:function B(){AO(this,false,true,false)
	},toggleAutoRefresh:function(Af){var Ae=Af.src,Ad=this.model.controller,Ac=Ad.isAutoRefreshStarted()
	Ad[(Ac?"stop":"start")+"AutoRefresh"]()
	Ae.set("iconClass",(Ac?"tbStart":"tbStop")+"AutoRefresh")
	Ae.domNode.setAttribute("title",Ac?"*Resume Auto Refresh*":"*Pause Auto Refresh*")
	},popPromptOption:function AK(Af){var Ac=this.model,Ae=new mstrmojo.vi.ui.editors.PromptOptionEditor({optVal:Ac.prompt_option===undefined?2:Ac.prompt_option,onSave:function Ad(){Ac.prompt_option=this.optVal
	Af(Ac.prompt_option)
	}})
	Ae.open()
	},docVisualizationModeAJAX:function Z(){AZ(this,51)
	},docVisualizationModeFlash:function AL(){AZ(this,50)
	},sendNow:function K(){h(this,mstrmojo.desc(2331,"Send Now"),"Sending_an_analysis_in_an_email.htm",mstrmojo.desc(2513,"You must save the report/document before you can send it."),Ab,{evt:3037,objectType:55,objectSubType:14081,messageID:this.model.mid},{saveAsOrigin:2},false)
	},scheduleHL:function AN(){h(this,A(5017,"Subscribe to History List"),"",A(15504,"You must save your dossier before continuing."),Ab,{evt:3128,objectType:55,objectSubType:14081,messageID:this.model.mid},{saveAsOrigin:3},false)
	},scheduleEmail:function AV(){h(this,A(3282,"Schedule Delivery to E-mail"),"",A(15504,"You must save your dossier before continuing."),Ab,{evt:3036,objectType:55,objectSubType:14081,messageID:this.model.mid},{saveAsOrigin:3},false)
	},zoomValue:null,getRequiredZoomFactor:function AD(Aj){var Ai=this.model,Af=this.view.selected,Ag=(Af&&Af.docLayout)||null,Am=Ag&&(Ag.containerNode||Ag.domNode),Ae=Am&&Am.ownerDocument.documentElement,Ah=(Ai&&Ai.getZoomFactor())||1,Ak=Ah
	var Ad=function(An){An-=R
	if(Ai.multiLayout){An-=AE
	}if(Ai.hasGroupby){An-=AJ
	}return An
	}
	var Ac=function(Ap){var An=Am&&Am["offset"+Ap]
	if(!An){return Ah
	}var Ao=Math.max(1,Ae["client"+Ap])
	if(Ap==="Height"){Ao=Ad(Ao)
	}return Math.min(4,Math.max(0.1,Ah*Ao/An))
	}
	var Al=function(Aq){var An=Am&&Am.offsetHeight
	if(An){var Ao=Math.max(1,Ae.clientWidth),Ap=Ad(Math.max(1,Ae.clientHeight))
	if(An*Aq/Ah>Math.max(1,Ap)){Aq=Aq*(Ao-AC)/Ao
	}}return Aq
	}
	zf=Ac("Width")
	if(parseInt(Aj,10)===1){zf=Al(zf)
	}if(Aj===2){zf=Math.min(zf,Ac("Height"))
	}return Math.floor(zf*100)/100
	},zoom:function N(Af){var Ad=(Af!==null)?String(Af).split(":"):[],Ai=parseInt(Ad[0],10),Aj=Ad[1],Ac=AQ.parse(Aj),Ae=false
	if(isNaN(Ai)||(!Ai&&isNaN(Ac))){return 
	}var Ag=this.model
	if(Ai===1||Ai===2){Aj=AQ.format(this.getRequiredZoomFactor(Ai))
	Ae=parseInt(Math.abs((AQ.parse(Aj)-Ag.getZoomFactor())*100),10)>2
	}else{Ae=Aj!==AQ.format(Ag.getZoomFactor())
	}if(Ai!==Ag.zt||Ae){Ag.zoomFactorUpdating=true
	var Ak=this
	Ag.getDataService().setDocZoom({zoomType:Ai,zoomFactor:Aj,rwb:Ak.model.bs,currLayoutKey:Ag.currlaykey},{success:function(Ao){Ag.zoomFactorUpdating=false
	if(Ai!==0){var Aq=Ak.view.children,An
	for(An in Aq){var Ap=Aq[An]
	if(Ap.k===Ak.model.currlaykey){continue
	}if(Ap.defn){Ap.defn.loaded=false
	}}}Ag.zt=Ao.zt
	if(Ag.cleanInfoWindowCache){Ag.cleanInfoWindowCache()
	}Ag.replaceLayout(Ao.currlaykey,Ao)
	Ag.raiseEvent({name:"rebuildLayout"})
	Y(Ak,false)
	Ak=null
	},failureName:"zoom.set"})
	}else{if((Ai===1||Ai===2)&&this.view.selected){Ag.zoomFactorUpdating=false
	var Ah=this.view.selected.docLayout,Am=Ah&&(Ah.containerNode||Ah.domNode),Al=Am&&Am.style
	if(Al){Al.visibility="visible"
	}}}},syncZoom:function(){var Ac=this.model,Ad=AQ.format(Ac.getZoomFactor())
	mstrApp.serverRequest({taskId:"setDocZoom",rwb:Ac.bs,styleName:"EmptyStyle",zoomFactor:Ad,zoomType:Ac.zt,layoutKey:Ac.currlaykey},null)
	},exportCmd:function AS(Aj,Ar,Au,Ad){Ar=typeof Ar!=="string"?undefined:Ar
	Ad=Ad||{}
	if(!window.FormWrapper){var Am=this.model,Ai=this.view,Ac=(parseInt(Aj,10)===k)?3130:3132,An=Am.exopt,Aq=Am.huc&&Aj===AU,Al=An.s&&(Aj===t||Aj===AY)&&!Ar,Ao=false,At=false
	if(Al){if(!!(Am.defn&&Am.defn.layouts&&Am.defn.layouts.length>1)){At=true
	}else{var Ag=Ai.selected,Av=Ag&&Ag.gb&&Ag.children[1]
	Ao=(!Av||Av.areUnitsSetToAll())
	if(Ao){Al=false
	}}}var Ak=function(){var Ay={evt:Ac,src:mstrApp.name+"."+Ac}
	if(Ac===3132){Ay.executionMode=Aj
	if(Ar!=null){Ay.gridKey=Ar
	}if(Au>0){Ay.sliceId=Au
	}}if(!Al){Ay.rwb=Am.bs
	}else{var Aw=[[2048062,Am.bp+".2048062","mode",An.m,"range",An.r],[]]
	S.forEach(Ay,function(A0,Az){if(Az==="executionMode"){Aw[1]=Aw[1].concat([Az,A0])
	}else{Aw[1].push(A0)
	}})
	Ay.evt=1024001
	Ay.src=Am.bp+".1024001"
	Ay.events=AH.serializeValueGroup(Aw)
	Ay["1024001"]=1
	Ay.messageId=Am.mid
	}Ay.name=Date.parse(new Date())
	var Ax=function(){var Az=(!(An.n)&&Aj===AY&&(u.isIE||u.isIEW3C))?"GET":"POST"
	w.checkSessionAndSendForm(Ay,null,Az,(An.n)?"_blank":"mstrExportWindow")
	}
	if(!u.isIE||Aj!==AU){Ax()
	}else{mstrmojo.alert(A(5873),Ax)
	}}
	var Af
	if(Al||Aq){Af=function(){var Ax="mojoExOpx9",Aw=function(){mstrmojo.all.mojoExOpx9.destroy()
	}
	mstrmojo.insert({scriptClass:"mstrmojo.Editor",id:Ax,title:A(971),cssClass:"mstrmojo-dta export",btnAlignment:"right",onClose:Aw,draggable:false,buttons:[D(A(1442),function(){var Ay=mstrmojo.all[Ax]
	if(At){An.r=Ay.ctrlLyt.selectedIndex
	}if(!Ao){An.m=(Ay.ctrlChk.checked)?0:1
	}Aw()
	Ak()
	},true),D(A(2140),Aw)],children:[{scriptClass:"mstrmojo.Label",cssClass:"ucalert",text:A(7482),visible:Aq},{scriptClass:"mstrmojo.ui.Pulldown",cssClass:"exp_opts",cssDisplay:"block",alias:"ctrlLyt",visible:!!At,selectedIndex:An.r,items:[{n:A(14583),v:0},{n:A(14582),v:1}]},{scriptClass:"mstrmojo.CheckBox",label:A(5165),cssDisplay:"block",alias:"ctrlChk",visible:!mstrApp.isVI&&!Ao&&Al,checked:(An.m===0)}]}).render()
	}
	}if(Aj===t&&An.ds["3809"]!==undefined&&!Ar){mstrmojo.confirm(A(3809),{confirmBtn:{fn:Af||Ak,t:A(1442)},cancelBtn:{t:A(2140)}})
	}else{if(mstrApp.isVI&&Aj==AY&&Ad.showsNewDialog){var Ap=function(Ay){var Az={evt:3132,src:mstrApp.name+"."+3132}
	Az.executionMode=AY
	Az.stateID=Am.getDataService().stid
	if(Ar){Az.gridKey=Ar
	}var Aw=[[2048062,Am.bp+".2048062"],[]]
	S.forEach(Ay,function(A1,A0){Aw[0].push(A0)
	Aw[0].push(A1)
	})
	S.forEach(Az,function(A1,A0){if(A0==="executionMode"){Aw[1]=Aw[1].concat([A0,A1])
	}else{Aw[1].push(A1)
	}})
	Az.evt=1024001
	Az.src=Am.bp+".1024001"
	Az.events=AH.serializeValueGroup(Aw)
	Az["1024001"]=1
	if(Am.mid){Az.messageId=Am.mid
	}Az.name=Date.parse(new Date())
	var Ax=function(){w.checkSessionAndSendForm(Az,null,"post",(Am.n)?"_blank":"mstrExportWindow")
	}
	if(!u.isIE||Aj!==AU){Ax()
	}else{mstrmojo.alert(A(5873),Ax)
	}}
	Ad.exportHandler=Ap
	var Ah=S.walk("model.getVizContentPanel",this)&&this.model.getVizContentPanel()
	if(S.walk("getRootPanelUnitsInfo",Ah)){Ad.unitsInfo=Ah.getRootPanelUnitsInfo()
	}var Ae=new mstrmojo.vi.ui.editors.ExportPDFEditor(Ad)
	Ae.open()
	}else{if(!Ad.showsNewDialog&&Af){Af()
	}else{Ak()
	}}}}else{if(Ar!==undefined){var As={3:{mode:"2",version:""},4:{mode:"1",version:"4"},10:{mode:"5",version:""}}
	FormWrapper.doExport(As[Aj].mode,As[Aj].version,Ar,JSON.stringify(Ad))
	}}},printPDF:function AF(Ac,Ad){if(typeof Ac==="string"){this.exportToPDF(Ac,Ad)
	}else{this.exportToPDF(null,{showsScaleSettings:true})
	}},exportToPDF:function m(Ad,Ac){Ac=Ac||{}
	if(window.FormWrapper){Ac.showsNewDialog=true
	this.exportCmd(AY,Ad,null,Ac)
	}else{mstrApp.featureFlagsCache=mstrApp.featureFlagsCache||{}
	if(mstrApp.featureFlagsCache["EE/NewEEExportOption"]===undefined){var Ae=this
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(Af){mstrmojo.hash.copy(Af,mstrApp.featureFlagsCache)
	Ac.showsNewDialog=Af["EE/NewEEExportOption"]
	Ae.exportCmd(AY,Ad,null,Ac)
	}},{taskId:"getNeeFeatureFlags"})
	}else{Ac.showsNewDialog=mstrApp.featureFlagsCache["EE/NewEEExportOption"]
	this.exportCmd(AY,Ad,null,Ac)
	}}},exportExcel:function g(Ac){this.exportCmd(t,Ac)
	},exportCSV:function P(Ac){this.exportCmd(AP,Ac)
	},exportHTML:function b(){this.exportCmd(k)
	},exportMSTR:function a(){var Af=this,Ag=Af.isDocChanged&&Af.isDocChanged(),Ad=mstrmojo.resolveFeature(z.SAVE_ANALYSIS),Ae=Ag?Ad:true,Ac=function Ac(Ah){Af.exportCmd(Ah)
	}
	if(Ae){h(this,null,"",A(15504,"You must save your dossier before continuing."),Ac,j,{saveAsOrigin:14,postSaveAsCB:function(){Ac(j)
	}},true)
	}else{mstrmojo.alert(A(12933,"You do not have enough privileges to perform this operation"))
	}},openHome:function G(Ac){Ab({evt:3010,src:mstrApp.name})
	},updateZoom:function M(){Y(this,false)
	},resetSelections:function AT(){var Ae=this,Ad=Ae.model,Ac=!!Ad.hasGroupby
	Ad.getDataService().resetSelections(null,Ac,{success:function(Ai){Ad.clearAllSelectionAndHighlightCache()
	var Al=Ae.view.children,Af=(Al&&Al.length)||0,Am=Ad.getCurrentLayoutKey(),Ah
	for(Ah=0
	Ah<Af
	Ah++){var Aj=Al[Ah]
	if(Aj.defn&&Aj.defn.loaded&&Am!==Aj.k){Aj.defn.loaded=false
	}}if(Ac){Ad.loadLayout(Ai)
	return 
	}if(Ai.pukeys){var Ak=Ad.partialUpdate(Ai.data,Ad.getUnitDefinitions(Ai.pukeys)),Ag=Ad.getLayoutDataCache(Ad.getCurrentLayoutKey())
	S.forEach(Ak.upd,function(Ap,Ar){var Ao=mstrmojo.all[Ar]
	if(Ao&&Ao.defn&&Ao.defn.t===mstrmojo.EnumRWUnitType.PANELSTACK){var An=Ag&&Ag[Ar]&&Ag[Ar].data,Aq=An&&An.selKey
	if(Aq&&Ao.selectedKey!==Aq){Ao.defn.set("selKey",Aq)
	}Ao.setDirtyChildren()
	}})
	}}})
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.expr","mstrmojo.dom","mstrmojo.form","mstrmojo.boxmodel","mstrmojo.Obj","mstrmojo.Arr","mstrmojo.string","mstrmojo.Box","mstrmojo.TBox","mstrmojo.HBox","mstrmojo.Label","mstrmojo.Button","mstrmojo.HTMLButton","mstrmojo.TextBox","mstrmojo.Popup","mstrmojo.Editor","mstrmojo.Dial","mstrmojo.WidgetList","mstrmojo.FilterExpr","mstrmojo.CGEOptions","mstrmojo.ConditionWalk","mstrmojo.SaveAsEditor","mstrmojo.CGFormatEditor","mstrmojo.url")
	var Y=mstrmojo.expr,E=Y.ET,K=Y.BRANCH_FNS,S=mstrmojo.hash,b=mstrmojo.boxmodel,G=mstrmojo.Arr,U=mstrmojo.Obj,L=mstrmojo.string,Z=mstrmojo.dom,W=mstrmojo.expr.TP,B=mstrmojo.expr.STP,P=mstrmojo.url
	function F(d){var k={}
	if(d){var g=d.items
	for(var f=0,c=(g&&g.length)||0
	f<c
	f++){var j=g[f],e=j&&j.expr
	if(e){Y.findTargets(e,"did",k)
	}}}return S.valarray(k)
	}function Q(e){var d=e.model
	e.targets=F(d)
	e.targetsLastMod=new Date()
	if(!d){d=new U({})
	e.model=d
	}var g=d.items
	if(!g){g=mstrmojo.Arr.makeObservable([])
	d.items=g
	}else{if(!g.attachEventListener){g=S.make(g,G)
	}}for(var f=0,c=g.length
	f<c
	f++){var h=g[f]
	if(!h.attachEventListener){h=S.make(h,U)
	}}}var M=mstrmojo.desc(4778,"Element"),X=new RegExp(M+"\\s*(\\d+)","i"),C=10000
	function N(h){var g=1
	for(var e=0,d=(h&&h.length)||0
	e<d
	e++){var l=h[e].n,c=l&&l.match(X)
	if(c){var f=parseInt(c[1],10)
	g=Math.max(f+1,g)
	}}return M+" "+g
	}var H=200
	function D(g,f,e){var d=mstrmojo.all.mstrCGE,h=Z.delta(f.domNode,d.editorNode)
	h.y+=(e=="andor"?16:parseInt(f.domNode.offsetHeight,10))
	var c={condition:f,zIndex:d.zIndex+10,left:h.x+"px",top:h.y+"px"},j
	switch(e){case"andor":j="andOrPopupRef"
	break
	case"condition":j="conditionPopupRef"
	c.model=S.clone(g)
	c.targets=d.targets
	c.targetsLastMod=d.targetsLastMod
	break
	}d.openPopup(j,c)
	}function a(e){var g=e.parent.data
	if(g){var c=e.items
	g.expr=c&&c[0]
	}}function J(e){if(e.constructor!==Array){e=[e]
	}var k,h={b:0,c:0},l,g,d
	for(var f=0,c=e.length
	f<c
	f++){k=e[f]
	if(!(k&&k.et)){continue
	}l=k.nds
	if(l){g=J(l)
	h.b+=g.b
	h.c+=g.c
	}else{d=(k.et===E.B)
	h[d?"b":"c"]++
	}}return h
	}function O(c){var e=J(c.value),d=this.tree
	d.set("bandingCount",d.bandingCount+e.b)
	d.set("conditionCount",d.conditionCount+e.c)
	}function A(c){var e=J(c.value),d=this.tree
	d.set("bandingCount",d.bandingCount-e.b)
	d.set("conditionCount",d.conditionCount-e.c)
	}function I(d){var g=mstrmojo.all.mstrCGE,c=g.model,h=c.did,f=c.cgp,e=g.getXML()
	return{taskId:"saveCustomGroup",xml:e,objectID:h||"",description:c.desc||"",name:c.n||"",saveAs:d,aggregation:f.agg,flatten:f.flat,parentFirst:f.pf,reportFilterInteraction:f.rfi}
	}mstrmojo.CustomGroupEditor={id:"mstrCGE",title:mstrmojo.desc(7919,"Custom Group Editor"),scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-charcoalboxe",cssText:"width:750px
	",zIndex:10,model:null,readOnly:false,help:"custom_group_editor.htm",formatPopupRef:{scriptClass:"mstrmojo.CGFormatEditor",contentNodeCssClass:"mstrmojo-balloon",alias:"formatEditor",title:mstrmojo.desc(2116),left:"100px",top:"100px",useAnimate:false,height:350,slot:"containerNode",help:"formatting_a_custom_group.htm",locksHover:true,model:null,_set_model:function(d,c){Q(mstrmojo.all.mstrCGE)
	this.model=c
	this.model.selectedIndex=mstrmojo.all.mstrCGEls.selectedIndex
	return true
	},bindings:{model:function(){return mstrmojo.all.mstrCGE.model
	}},onOpen:function(){this.set("model",mstrmojo.all.mstrCGE.model)
	}},saveasRef:{scriptClass:"mstrmojo.SaveAsEditor",typeDesc:mstrmojo.desc(2105,"Custom Group"),browsableTypes:"8,257",onObjectSaved:function(e){var d=mstrmojo.all.mstrCGE,c=d&&d.model
	if(c){c.set("did",e.did)
	c.set("n",e.name)
	c.set("desc",e.desc)
	}if(d.noRefresh!==true){d.needRefreshPage=true
	}}},optionsRef:{scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-CGEOptions",contentNodeCssClass:"mstrmojo-balloon",left:"100px",top:"230px",slot:"containerNode",help:"Custom_Group_Options_dialog_box.htm",showTitle:true,title:mstrmojo.desc(7969,"Custom Group Options"),onOpen:function(){var c=mstrmojo.all.mstrCGE,d=this.optionsEditor
	d.open(c.model,{closeCB:[this,"close"]})
	},children:[{scriptClass:"mstrmojo.CGEOptions",alias:"optionsEditor"}]},postCreate:function(){Q(this)
	},_set_model:function(g,c){var e=this.model,f=e!==c,d=mstrmojo.all.mstrCGEls
	if(f){this.model=c
	Q(this)
	if(d){d.clearSelect()
	}}return f
	},children:[{scriptClass:"mstrmojo.TBox",alias:"header",cssText:"width: 100%",children:[{scriptClass:"mstrmojo.Label",alias:"name",cssClass:"mstrmojo-charcoalbox subtle mstrmojo-cge-name",emptyText:mstrmojo.desc(7920,"Enter Custom Group name here."),bindings:{text:function(){var c=mstrmojo.all.mstrCGE.model.n||this.emptyText
	return c
	}},onclick:function(){var c=mstrmojo.all.mstrCGE,d=Z.delta(this.domNode,c.containerNode)
	c.openPopup("inlineTextRef",{left:d.x+"px",top:d.y-(Z.isIE7?1:0)+"px",txtConfig:{cssClass:"mstrmojo-cge-name-edit",value:c.model.n||"",onEnter:function(){var e=L.trim(this.value)
	if(e){c.model.set("n",e)
	}this.parent.close({enter:true})
	},onCancel:function(){this.set("value",c.model.n)
	},prevTab:null,nextTab:c.header.desc}})
	}},{scriptClass:"mstrmojo.Label",alias:"desc",cssClass:"mstrmojo-charcoalbox subtle mstrmojo-cge-desc",emptyText:mstrmojo.desc(7921,"Enter Custom Group description here."),rows:1,bindings:{text:function(){var c=mstrmojo.all.mstrCGE.model.desc||this.emptyText
	return c
	}},onclick:function(){var c=mstrmojo.all.mstrCGE,d=Z.delta(this.domNode,c.containerNode)
	c.openPopup("inlineTextRef",{left:d.x+"px",top:d.y-(Z.isIE7?1:0)+"px",txtConfig:{cssClass:"mstrmojo-cge-desc-edit",value:c.model.desc||"",onEnter:function(){c.model.set("desc",L.trim(this.value))
	this.parent.close({enter:true})
	},onCancel:function(){this.set("value",c.model.desc)
	},prevTab:c.header.name,nextTab:null}})
	}}]},{scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-CGE-content",alias:"content",children:[{id:"mstrCGEls",scriptClass:"mstrmojo.WidgetList",cssClass:"mstrmojo-CustomGroupEls",bindings:{items:"mstrmojo.all.mstrCGE.model.items"},multiSelect:false,renderOnScroll:false,draggable:true,dropZone:true,allowCopy:false,allowDrop:function(f){var e=f&&f.src,d=e&&e.widget
	return(d===this)
	},itemIdField:null,itemDisplayField:"n",onchange:function(g){var d=this.selectedIndex,f=this.ctxtBuilder.itemWidgets,e
	for(var h=0,c=f.length
	h<c
	h++){e=f[h]
	if(e&&h!=d){e.filterExpr.clearTreeSelect()
	}}},getNextId:function(){return ++C
	},itemFunction:function(e,c,d){return new mstrmojo.CustomGroupEl({cssClass:"mstrmojo-charcoalbox",data:e,parent:d,state:e.isNew?1:0,onRender:e.isNew?function(){this.filterExpr.newCondition()
	delete this.data.isNew
	}:mstrmojo.emptyFn,onclick:function(f){var g=Z.eventTarget(f.hWin,f.e)
	if(g===this.titleNode){var h=mstrmojo.all.mstrCGE,k=Z.delta(this.titleNode,h.containerNode),j=this
	h.openPopup("inlineTextRef",{left:k.x+(Z.isIE?1:0)+"px",top:k.y+(Z.isIE7?-1:1)+"px",txtConfig:{cssClass:"mstrmojo-cge-elname-edit",value:this.data.n||"",onEnter:function(){var l=L.trim(this.value)
	if(l){j.data.n=l
	j.paint()
	}this.parent.close({enter:true})
	},onCancel:function(){this.set("value",j.data.n)
	},prevTab:null,nextTab:null}})
	}},postCreate:function(){this.children=[{scriptClass:"mstrmojo.FilterExpr",slot:"exprNode",alias:"filterExpr",bindings:{items:"var ex = this.parent.data.expr
	return ex ? [ex] : []"},draggable:true,dropZone:true,allowCopy:false,makeObservable:true,bandingCount:0,conditionCount:0,getItemConfig:function k(o,l,p){var n=this.constructor.prototype.getItemConfig.call(this,o,l,p)
	n.getPrefixAndOrToolsMarkup=function m(){return('<img class="mstrmojo-outdent disable" src="'+P.getPlaceholderImageURL()+'" title="'+mstrmojo.desc(5896,"Ungroup conditions")+'" /><img class="mstrmojo-outdent" src="'+P.getPlaceholderImageURL()+'" title="'+mstrmojo.desc(5896,"Ungroup conditions")+'" mstreventmark="todoRefactorNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].out()" /><img class="mstrmojo-indent disable" src="'+P.getPlaceholderImageURL()+'" title="'+mstrmojo.desc(5895,"Group conditions")+'" /><img class="mstrmojo-indent" src="'+P.getPlaceholderImageURL()+'" title="'+mstrmojo.desc(5895,"Group conditions")+'" mstreventmark="todoRefactorNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].ind()" />')
	}
	return n
	},onadd:function(l){a(this)
	O.apply(this,[l])
	},onremove:function(l){a(this)
	A.apply(this,[l])
	},editable:true,onRender:function(){var m=J(this.items),l=this.tree
	l.set("bandingCount",m.b)
	l.set("conditionCount",m.c)
	},isEditable:function j(m){if(!this.editable){return false
	}var l=false
	switch(m&&m.et){case E.ANDOR:case E.MQ:case E.AQ:case E.AL:case E.AC:case E.MC:case E.AE:case E.R:case E.F:l=true
	break
	case E.XML:l=!m.xml
	}if(!l){mstrmojo.all.mstrCGE.set("readOnly",true)
	}return l
	},onnodeclick:function h(l){if(!this.editable){return 
	}D(this.data,this,l&&l.part)
	},onnodeadd:O,onnoderemove:A,allowDrop:function f(l){var n=l&&l.src,q=n&&n.data,p=q&&q.et,o=(p===E.B),m=this.tree
	return p&&((o&&(m.conditionCount===0))||(!o&&(m.bandingCount===0)))
	},onNew:function g(l){D(l.data,l.widget.ctxtBuilder.itemWidgets[l.index],"condition")
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-CGE-addCondition",text:mstrmojo.desc(1994,"Add Condition"),slot:"exprToolsNode",onclick:function(){this.parent.filterExpr.newCondition(null,true)
	},bindings:{enabled:function(){return this.parent.filterExpr.bandingCount===0
	}}}]
	}})
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-CGE-newElement",text:mstrmojo.desc(7922,"New Custom Group Element"),alias:"addBtn",title:mstrmojo.desc(7923,"Add new Custom Group Element"),onclick:function(){var c=mstrmojo.all.mstrCGEls
	var d=c.add([{n:N(c.items),did:++C,isNew:true}])
	c.scrollTo(d)
	}}]},{scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBar",cssText:"width: 100%",slot:"buttonNode",children:[{scriptClass:"mstrmojo.HBox",cssClass:"left",cssText:"border-collapse: separate",cellSpacing:3,children:[{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(4596,"Format..."),onclick:function(){var c=mstrmojo.all.mstrCGE
	c.openPopup("formatPopupRef",{zIndex:c.zIndex+10})
	},bindings:{enabled:function(){return mstrmojo.all.mstrCGE.model.items.length>0
	}}},{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(7924,"Options..."),onclick:function(){var c=mstrmojo.all.mstrCGE
	c.openPopup("optionsRef",{zIndex:c.zIndex+10})
	}}]},{scriptClass:"mstrmojo.HBox",cssText:"float:right
	border-collapse: separate",cellSpacing:3,children:[{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(5891,"Save"),onclick:function(){var d=mstrmojo.all.mstrCGE,c=d.model,j=c.did,g=d.isValid(true),f=mstrmojo.desc(8113,"New Custom Group")
	if(g){if(!j){d.openPopup("saveasRef",{name:c.n||f,desc:c.desc||"",folderLinksContextId:22,rootFolderID:c.pf,saveParams:I(true),zIndex:d.zIndex+10})
	return 
	}var e=this,h=I(false)
	this.set("enabled",false)
	this.set("iconClass","mstrmojo-WaitIcon")
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(){e.set("enabled",true)
	e.set("iconClass","")
	},failure:function(k){e.set("enabled",true)
	e.set("iconClass","")
	mstrmojo.alert(k.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}},h)
	}},bindings:{enabled:function(){return !mstrmojo.all.mstrCGE.readOnly&&mstrmojo.all.mstrCGE.model.items.length>0
	}}},{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(628,"Save As"),onclick:function(){var d=mstrmojo.all.mstrCGE,c=d&&d.model,f=d.isValid(true),e=mstrmojo.desc(8113,"New Custom Group")
	if(f){d.openPopup("saveasRef",{name:c.n||e,desc:c.desc||"",folderLinksContextId:22,rootFolderID:c.pf,saveParams:I(true),zIndex:d.zIndex+10})
	}},bindings:{enabled:function(){return !mstrmojo.all.mstrCGE.readOnly&&mstrmojo.all.mstrCGE.model.items.length>0
	}}},{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(221,"Cancel"),onclick:function(){mstrmojo.all.mstrCGE.close()
	}}]}]}],onOpen:function(){if(this.readOnly){mstrmojo.all.mstrCGE.set("title",mstrmojo.desc(8031,"Custom Group Editor (Read Only)"))
	mstrmojo.alert(mstrmojo.desc(8022))
	}},onClose:function(){this.readOnly=false
	if(this.needRefreshPage){var c=mstrApp
	mstrmojo.form.send({evt:5005,src:c.name+"."+c.pageName+".5005"})
	this.needRefreshPage=false
	}},getXML:function R(){var d=this.model
	var k='<exp> <nd et="14" n="OR" fn="20" ce="'+(d.cgp.ce?-1:0)+'" isp="'+(d.cgp.isp?-1:0)+'" ><nds>',e="</nds></nd></exp>",j={a:true,a2:true,a3:true,agg:true,cc:true,ce:true,cgp:true,cs:true,desc:true,did:true,dmt:true,dmy:true,dtp:true,es:true,et:true,expr:true,f:true,flat:true,flt:true,fm:true,fm2:true,fm3:true,fn:true,fnt:true,fres:true,gb:true,isp:true,items:true,m:true,m2:true,m3:true,n:true,nds:true,not:true,pf:true,p:true,r:true,rps:true,st:true,t:true,utgt:true,utp:true,uts:true,v:true,xml:true},c={getArrItemName:function(q,o,p){return q.substr(0,q.length-1)
	},isSerializable:function(x,v,u){if(x=="xml"){var p=v[u].xml
	return{att:'hasXML = "-1"',child:p}
	}else{if(mstrmojo.array.indexOf(["header_format","grid_format","child_header_format","child_grid_format"],x)>-1){var z=v[u][x]
	if(!z){return{}
	}var r="<"+x+">"
	for(var w in z){r+="<prs n='"+w+"'>"
	var q=z[w]
	for(var o in q){var t=q[o]
	r+="<pr n='"+o+"' v='"+(t=="pru"?"":t)+"'"
	r+=t=="pru"?' pru="1"':""
	r+="/>"
	}r+="</prs>"
	}r+="</"+x+">"
	return{child:r}
	}}return(j[x])?true:false
	},skipNull:true},h=d.items,n=[]
	for(var f=0,g=h.length
	f<g
	f++){var m=h[f],l=m.expr
	l.n=m.n
	if(l.fnt&&l.fnt==Y.FNT.PER&&l.cs&&l.cs[0]){l.cs[0].v+="%"
	}n[f]=L.json2xml("nd",[{ce:m.ce||false,isp:m.isp||false,header_format:m.header_format,grid_format:m.grid_format,child_header_format:m.child_header_format,child_grid_format:m.child_grid_format},m.expr],c)
	}return k+n.join("")+e
	},inlineTextRef:{scriptClass:"mstrmojo.Popup",locksHover:true,slot:"containerNode",children:[{scriptClass:"mstrmojo.TextBox",alias:"txt",onTab:function(d){if(this.onEnter){this.onEnter()
	}var c=Z.shiftKey(d.hWin,d.e)?this.prevTab:this.nextTab
	if(c&&c.onclick){c.onclick()
	}},onblur:function(){if(this.onEnter){this.onEnter()
	}},onEsc:function(){if(this.onCancel){this.onCancel()
	}this.parent.close({cancel:true})
	}}],onOpen:function(){var e=this.txt,f=this.txtConfig
	if(f){for(var d in f){e.set(d,f[d])
	}}e.focus()
	},onClose:function(c){if(!c||(!c.cancel&&!c.enter)){this.txt.onEnter()
	}}},andOrPopupRef:{scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-CGE-andOrPopup mstrmojo-ConditionWalk",cssText:"width: auto
	",contentNodeCssClass:"mstrmojo-balloon",left:"250px",top:"15px",slot:"containerNode",autoClose:true,showTitle:false,draggable:false,openEffect:null,closeEffect:null,onOpen:function(){var c=this.condition,f=c&&c.data&&c.data.not,g=c&&c.parent,d=g&&g.data,e=(d&&d.fn)+(f?21:0)
	this.list.opening=true
	this.list.set("selectedItem",isNaN(e)?null:{did:e})
	this.list.opening=false
	},children:[{scriptClass:"mstrmojo.Dial",cssClass:"mstrmojo-CGE-andOrDial",alias:"list",itemMarkup:'<div class="dial-item {@css}">{@n}</div>',itemIdField:"did",items:[{did:19,n:K[19]},{did:20,n:K[20]},{did:19+21,n:K["19_21"]},{did:20+21,n:K["20_21"]}],onchange:function(){if(this.opening){return 
	}var e=this.parent,c=e.condition,k=this.selectedItem,j=k&&k.did,h=j>21?true:null,g=j-(h?21:0)
	e.close()
	var f=c&&c.parent
	if(f&&f.data&&f.data.et===Y.ET.ANDOR){f.edit(c,g,h)
	}else{var l=c&&c.data
	if(l&&(l.not!==h)){l.not=h
	c.paint()
	}}}}]},conditionPopupRef:{scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-Editor-ConditionWalk",contentNodeCssClass:"mstrmojo-balloon",title:mstrmojo.desc(7953,"Condition Editor"),help:"condition_editor.htm",slot:"containerNode",onOpen:function(){this.walk.set("targets",this.targets)
	this.walk.set("targetsLastMod",this.targetsLastMod)
	this.walk.set("model",this.model)
	var c=[W.ATTR,W.METRIC,B.REPORT_GRID,B.REPORT_GRAPH,B.REPORT_ENGINE,B.REPORT_TEXT,B.REPORT_DATAMART,B.REPORT_BASE,B.REPORT_GRIDGRAPH,B.REPORT_NONINTERACTIVE,B.FILTER,B.PROMPT,B.PROMPT_ELEMENTS,B.PROMPT_EXPRESSION,B.PROMPT_EXPRESSION_DRAFT]
	this.walk.set("browsableTypes",c)
	},onClose:function(){var d=this.condition
	if(d.isEmpty()){d.del()
	}},children:[{scriptClass:"mstrmojo.ConditionWalk",alias:"walk",cssText:"height:"+H+"px",targets:null,ets:null,onOK:function(){var d=this.parent,e=d.condition
	S.copy(S.clone(this.model.get()),S.clear(e.data))
	e.paint()
	d.close()
	}}]},isValid:function(f){var e=mstrmojo.all.mstrCGE.model.items,c=e.length,d,g=""
	if(c>0){for(d=0
	d<c
	d++){if(!e[d].expr){g+=e[d].n+","
	}}if(g){g=g.replace(/,$/,"")
	mstrmojo.alert(mstrmojo.desc(7947).replace("#",g))
	return false
	}}else{mstrmojo.alert("Custom Group does not have any element defined. Please fix it before saving.")
	return false
	}return true
	}}
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.OIVMDICPopup","mstrmojo.SliderDIC","mstrmojo.TextFieldDIC","mstrmojo.CheckBoxDIC","mstrmojo.ListDIC","mstrmojo.CalendarDIC","mstrmojo.TimePickerDIC","mstrmojo.ToggleDIC","mstrmojo.TextAreaDIC","mstrmojo.MarkRowDIC","mstrmojo.DefaultDIC","mstrmojo.RatingDIC","mstrmojo.RankDIC","mstrmojo.StepperDIC","mstrmojo.LikertScaleDIC","mstrmojo._HasConditionLogicDIC","mstrmojo.DynamicClassFactory")
	var C=null,B=1,L=2,H=3,A=4,M=5,P=6,G=7,O=8,E=10,F=11,K=13,J=2,D=2
	var I={1:"ActiveTextFieldDIC",3:"ActiveListDIC",8:"ActiveTextAreaDIC",10:"ActiveRatingDIC",11:"ActiveRankDIC",14:"ActiveLikertScaleDIC"}
	var N=mstrmojo.DynamicClassFactory.newComponent
	mstrmojo.OIVMDICConfig=mstrmojo.provide("mstrmojo.OIVMDICConfig",{DICList:{1:mstrmojo.TextFieldDIC,2:mstrmojo.CheckBoxDIC,3:mstrmojo.ListDIC,4:mstrmojo.SliderDIC,5:mstrmojo.CalendarDIC,6:mstrmojo.TimePickerDIC,7:mstrmojo.ToggleDIC,8:mstrmojo.TextAreaDIC,9:mstrmojo.DefaultDIC,10:mstrmojo.RatingDIC,11:mstrmojo.RankDIC,12:mstrmojo.StepperDIC,13:mstrmojo.DefaultDIC,14:mstrmojo.LikertScaleDIC,102:mstrmojo.MarkRowDIC},getDICClass:function(R){if(R.t===K){if(!!R.em){return mstrmojo.ListDIC
	}else{return mstrmojo.TextFieldDIC
	}}if(R.act){var Q=I[R.t]
	if(!mstrmojo[Q]){mstrmojo[Q]=N(this.DICList[R.t],[mstrmojo._HasConditionLogicDIC],{scriptClass:Q})
	}return mstrmojo[Q]
	}return this.DICList[R.t]
	},showDICByDefault:function(R,Q){if(R.sbd===undefined){if(R.t==O&&R.dm==0&&R.siwc){R.sbd=true
	}else{if(R.t==K){R.sbd=false
	}else{if(this.DICList[R.t]==mstrmojo.DefaultDIC){R.sbd=0
	}else{R.sbd=R.dm===1
	}}}}return R.sbd
	},hasDICPreview:function(R,Q){if(R.hpp===undefined){R.hpp=false
	}return R.hpp
	},isKeyNavigable:function(Q){if(Q.ikn===undefined){switch(Q.t){case B:case M:case H:case L:case G:case A:case P:case O:Q.ikn=true
	break
	default:Q.ikn=false
	}}return Q.ikn
	},DICPopup:{getInstance:function(Q,R){if(!mstrmojo.getObj(C)){C=new mstrmojo.OIVMDICPopup()
	C.render()
	}return C
	},cancel:function(){if(mstrmojo.getObj(C)){C.onCancel()
	}}},canSlice:function(S,R){var U=S.tks,Q=S.ipt
	if(!!U&&Q==D&&R==J){return true
	}return false
	}})
	mstrmojo.DICConfig=mstrmojo.OIVMDICConfig
	mstrmojo.DICList=mstrmojo.DICConfig.DICList
	mstrmojo.DICPopup=mstrmojo.DICConfig.DICPopup
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.css","mstrmojo.AjaxCall","mstrmojo.hash","mstrmojo.array","mstrmojo.expr","mstrmojo.Label","mstrmojo.ListBase","mstrmojo.ui.CheckList","mstrmojo.ui.ColumnContainer","mstrmojo.rw.ConditionWalkProviderBase","mstrmojo.elementHelper")
	var G=mstrmojo.css,Y=mstrmojo.hash,u=mstrmojo.array,X=mstrmojo.expr,M=X.ET,a=X.ET2TGT,Z=X.FN,S=X.FN_MRP,o=X.DTP2FN_DTP,E=mstrmojo.meta.TP,AC=X.TP,J=X.STP,m=mstrmojo.elementHelper,r=mstrmojo.rw.ConditionWalkProviderBase
	var P={}
	P[M.AQ]={target:1,fm:1,fn:1,c0:1,c1:1}
	P[M.AL]={target:1,fm:1,fn:1,c0:1}
	P[M.AE]={target:1,fm:1,es:1}
	P[M.AC]={target:1,fm:1,fm2:1,fm3:1,fn:1,c0:1,c1:1}
	P[M.MQ]={target:1,fn:1,c0:1,c1:1,dmy:1}
	P[M.MC]=P[M.MQ]
	P["*"]={target:1}
	var x={}
	x[M.MQ]={key:"metricFns",def:X.METRIC_FNS}
	x[M.MC]={key:"metricFns",def:X.METRIC_FNS}
	x[M.AQ]={key:"formFns",def:X.FORM_FNS}
	x[M.AL]={key:"formFns",def:X.FORM_FNS}
	x[M.AC]={key:"formFns",def:X.FORM_FNS}
	x[M.AE]={key:"elemFns",def:X.ELEM_FNS}
	var AH=mstrmojo.desc(14084,"Select a filter option or a qualification."),AG=mstrmojo.desc(15007,"Choose to select in list or qualify on an attribute form."),AF=mstrmojo.desc(14085,"Select one or more elements."),N=mstrmojo.desc(15009,"Select element(s)."),AE=mstrmojo.desc(14086,"Select an operator."),AD=mstrmojo.desc(14087,"Enter a value or select an attribute from the list."),C=mstrmojo.desc(15010,"Enter a specific value or select an attribute form as variable."),AB=mstrmojo.desc(14088,"Select an attribute form. When done, click ## button.").replace("##",'"√"'),AA=mstrmojo.desc(14089,"Select a condition."),AJ=mstrmojo.desc(15011,"Select an operator."),z=mstrmojo.desc(14090,"Enter a value or select a metric from the list."),R=mstrmojo.desc(15012,"Enter a specific value or select a metric as variable.")
	var l=0,t=1
	var H=mstrmojo.ui.ColumnContainer.prototype.updateColumnContainer
	var f="dummy",I={did:"idErr",v:"idErr",n:mstrmojo.desc(7929,"Error loading data."),t:f,css:"unselectable"},q={did:"idWait",v:"idWait",n:mstrmojo.desc(2901,"Loading..."),t:f,css:"unselectable"},AI={did:"idSelect",v:"idSelect",n:mstrmojo.desc(547,"Select"),t:f,css:"unselectable"},w={did:"idWait",v:"idQualification",n:mstrmojo.desc(5225,"Qualification"),t:f,css:"unselectable"},D={did:"idWait",v:"idQualification",n:mstrmojo.desc(15008,"Qualify on"),t:f,css:"unselectable"}
	var c=r.onWalkChange,F=r.replaceItem,L=r.getChildJSON,v=r.walkChildPostCreateFn,p=r.updateList,AN=r.fnItem,AM=r.isComparisonAllowed,j=r.cstJson,g=r.fmJson,e=r.updateListMulti,n=r.updateListMultiData
	function k(AO){return AO.targets?u.filter(AO.targets,function(AP){return AP[E]===X.TP.ATTR
	}):[]
	}function K(AO){this.tip.set("text",AO)
	}var W=[X.STP.PROMPT,X.STP.PROMPT_OBJECTS,X.STP.PROMPT_ELEMENTS,X.STP.PROMPT_EXPRESSION,X.STP.PROMPT_EXPRESSION_DRAFT]
	var AL=r.allowedTargetTypes
	mstrmojo.rw.ConditionWalkProvider=mstrmojo.declare(mstrmojo.rw.ConditionWalkProviderBase,null,{scriptClass:"mstrmojo.rw.ConditionWalkProvider",browseEs:function d(AR,AQ,AT){AR.openPopup("eb",{zIndex:AR.parent.zIndex+10,left:Math.round(AT.x)+"px",top:Math.round(AT.y)+"px"})
	var AP=AR.eb.browser,AO=AR.model,AS=AO&&AO.a&&AO.a.did
	if(!AS){return 
	}AP.set("attributeID",AS)
	AP.set("selectedItems",AO.es?Y.clone(AO.es):[])
	AP.initBrowser()
	},browseObjs:function AK(AV,AO,AP){AV.openPopup("ob",{zIndex:AV.parent.zIndex+10,left:Math.round(AP.x)+"px",top:Math.round(AP.y)+"px"})
	var AQ=AV.ob.browser
	AQ.target=AO
	var AR
	switch(AO.alias){case"dmy":AR=[X.TP.ATTR,X.TP.DIM]
	break
	case"c0":case"c1":var AT=AV.model,AS=AT&&AT.et,AW=AT&&AT.fm,AU=AW&&AW.dtp||(AT.m?X.DTP.DECIMAL:X.DTP.UNKNOWN)
	AR=(AS===M.MQ||AS===M.MC)?[X.TP.METRIC,X.DTP2PROMPT_STP[AU]]:[X.TP.ATTR,X.DTP2PROMPT_STP[AU]]
	break
	default:AR=AL(AV.ets)
	AR=AR?Y.keyarray(AR,true):[X.TP.ATTR,X.TP.METRIC,X.STP.REPORT_GRID,X.STP.REPORT_GRAPH,X.STP.REPORT_ENGINE,X.STP.REPORT_TEXT,X.STP.REPORT_DATAMART,X.STP.REPORT_BASE,X.STP.REPORT_GRIDGRAPH,X.STP.REPORT_NONINTERACTIVE,X.STP.FILTER].concat(W)
	}AR[AR.length]=X.TP.FOLDER
	AQ.browse({rootFolderType:AT&&(AT.et===M.MQ||AT.et===M.MC)?5:26,folderLinksContextId:33,onSelectCB:[AV,"onOBSelect"],browsableTypes:AR.join(",")})
	},getFm2NodeProps:function U(){return{alias:"fm2",children:[g({alias:"fm2",fmPost:2})],updateColumnContainer:function AO(){var AP=this.parent.parent
	if(this.domNode){G.addClass(this.domNode,"lastStage")
	}this.fm2.update()
	K.call(AP,AB)
	H.call(this)
	}}
	},getC0NodeProps:function Q(){var AO=this
	return{alias:"c0",c1Selected:false,children:[{scriptClass:"mstrmojo.Label",cssClass:"baseOn",text:mstrmojo.desc(527,"Value")},j({alias:"c0",cstIndex:0}),{scriptClass:"mstrmojo.Label",alias:"btwn",cssClass:"btwn",text:mstrmojo.desc(308,"and"),visible:false},j({alias:"c1",cstIndex:1,visible:false}),{alias:"browseLink",scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-walkstep-browse",text:mstrmojo.desc(7926,"Browse..."),onclick:function(){this.parent.parent.parent.browse(this.parent.c0)
	},visible:false}],updateColumnContainer:function AP(){this.c0.update()
	var AZ=this.parent,AV=AZ.parent,AU=AZ.parent.model,AX=AU&&AU.fn,AR=AX===Z.BETWEEN||AX===Z.NOT_BETWEEN||AX===S.BETWEEN||AX===S.BETWEEN_DESCENDING,AW=AX===Z.EQUAL||AX===Z.NOT_EQUAL||AX===Z.GREATER||AX===Z.GREATER_EQUAL||AX===Z.LESS||AX===Z.LESS_EQUAL,AY=this.idx,AT=this.next
	this.browseLink.set("visible",AV.objectBrowsingEnabled&&AM(AU,AV.ets))
	this.btwn.set("visible",AR)
	this.c1.set("visible",AR)
	if(AR){this.c1.update()
	}else{AU.edit("c1",{v:null,dtp:null,skipET:true},true)
	}if(AU.a2&&AW){if(!(AT&&AT.fm2)){AZ.insertAndRemoveTrailing(AY,AO.getFm2NodeProps())
	}}else{AZ.removeTrailingContainer(AY)
	}var AS=mstrApp.isWSStyling?C:AD,AQ=mstrApp.isWSStyling?R:z
	K.call(AV,AU.a?AS:AU.m?AQ:"")
	if((!AU.a)&&AU.m&&this.domNode){G.addClass(this.domNode,"lastStage")
	}H.call(this)
	}}
	},getFnNodeProps:function b(){var AO=this
	return{alias:"fn",children:[{scriptClass:"mstrmojo.Label",cssClass:"baseOn",text:mstrApp.isWSStyling?mstrmojo.desc(15006,"Operator"):mstrmojo.desc(9579,"Condition")},g({alias:"fn",allowUnlistedValues:false,update:function(){var AV=this.parent.parent.parent,AR=AV.model||{},AW=AR.et,AU,AX=false,AY,AQ
	switch(AW){case M.AE:AX=!!AR.a
	break
	case M.AQ:case M.AC:case M.AL:AX=!!(AR.fm&&AR.fm.did)
	AU=AX?AR.fm.dtp:null
	break
	case M.MQ:case M.MC:AX=!!AR.m
	AU=AX?X.METRIC_DTP:null
	break
	}if(AX){var AZ=o[AU]
	if((this.lastEt!==AW)||(this.lastFnDtp!==AZ)){this.lastEt=AW
	this.lastFnDtp=AZ
	var AT=AW?x[AW]:null,AS=AT&&AT.key
	AY=(AS&&AV[AS])||AT.def||[]
	if(typeof (AY)==="object"){AY=AY[AZ]||AY["*"]
	}}AQ=AN(AR.fn,AR.fnt||1)
	}p(this,AX,AY,AQ)
	this.parent.updateScrollbars()
	}})],updateColumnContainer:function AP(){this.fn.update()
	var AQ=this.parent,AR=AQ.parent,AS=AR.model,AU=AS&&AS.fn,AT=this.next,AW=AU===Z.IS_NULL||AU===Z.IS_NOT_NULL
	if(AU&&AW){AQ.removeTrailingContainer(this.idx)
	}else{if(AU&&!(AT&&AT.c0)){AQ.insertAndRemoveTrailing(this.idx,AO.getC0NodeProps())
	}}var AV=mstrApp.isWSStyling?AJ:AA
	K.call(AR,AS.a?AE:AS.m?AV:"")
	AT=this.next
	if(AT){AT.updateColumnContainer()
	}}}
	},getEsNodeProps:function B(){var AQ=[{scriptClass:"mstrmojo.ui.CheckList",alias:"es",itemIdField:"v",allowUnlistedValues:true,insertUnlistedValuesAt:0,selectionPolicy:"toggle",postCreate:function AP(){v.apply(this,[])
	this.ajx=mstrmojo.insert({parent:this,scriptClass:"mstrmojo.AjaxCall",isTask:true,params:{taskId:"browseElements",attributeID:null,styleName:"MojoAttributeStyle",blockBegin:1,blockCount:mstrApp.elementsBlockCount||30},onsuccess:function(){var Ab=this.parent,AV=this.response
	if((AV&&AV.did)!==Ab.lastAttrId){return 
	}var AX=(AV&&AV.es)?u.filter(AV.es,function(Ac){return !m.isNullElem(Ac.v)
	}):[],Aa=Ab.parent.parent.parent.model&&Ab.parent.parent.parent.model.es,AY=function(Ai,Ad){var Ah=Ai&&Ai.length||0,Ag=Ad&&Ad.length||0,Ac=[],Af,Ae
	for(Af=0
	Af<Ag
	Af++){for(Ae=0
	Ae<Ah
	Ae++){if(Ad[Af].n===Ai[Ae].n){break
	}}if(Ae===Ah){Ac.push(Ad[Af])
	}}return Ac
	},AZ=function(Ac,Ad,Ag){var Af=[],Ae
	u.forEach(Ac,function(Ah){Ae=u.filterOne(Ad,function(Ai){return Ah[Ag]&&Ai[Ag]&&Ah[Ag]===Ai[Ag]
	})
	if(Ae){Af.push(Ae)
	}})
	return Af.length===Ac.length?Af:Ac
	}
	Aa=Aa&&AZ(Aa,AX,"v")
	if(Ab.allowUnlistedValues){var AW=AY(AX,Aa)
	AX=(Ab.insertUnlistedValuesAt===0)?AW.concat(AX):AX.concat(AW)
	}n(Ab,AX,Aa,null)
	Ab.parent.updateScrollbars()
	},onerr:function(){F(this.parent,q,[I])
	}})
	},onselectionChange:function AT(AV){mstrmojo.ListBase.prototype.onselectionChange.call(this,AV)
	c.call(this,AV)
	},update:function AS(){var AY=this.parent.parent.parent,AX=AY.model,Ac=AX&&AX.a,Ad=!!Ac&&!Ac.ilk,Ae,AV,Ab,AZ,AW,Af
	if(Ad){if(this.lastAttrId!==Ac.did){this.lastAttrId=Ac.did
	Ae=AX.es
	AZ=Ae&&Ae.length
	Ae=AZ?Ae.concat():[]
	Ae.push(q)
	if(AZ){Ab=[]
	for(AW=1
	AW<=AZ
	AW++){Ab[AW]=AW
	}}Af=this.ajx
	AY.updateBrowseElementsParams(Af.params,Ac)
	}else{AV=AX.es
	}}e(this,Ad,Ae,AV,Ab)
	if(Ad&&Af){if(AY.getElements){var Aa=this
	AY.getElements(Ac,{success:function(Ag){n(Aa,Ag.es||[],AY.model&&AY.model.es,null)
	Aa.parent.updateScrollbars()
	},failure:function(){F(Aa,q,[I])
	}})
	}else{Af.send()
	}}},setupScrollNodes:function AR(){this.scrollNode=null
	}}]
	if(!mstrApp.isSingleTier){AQ.splice(0,0,{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-walkstep-browse",text:mstrmojo.desc(7928,"Browse elements..."),onclick:function AO(){this.parent.parent.parent.browse(this.parent.es)
	}})
	}return{alias:"es",children:AQ,updateList:function(AV){e(this.es,true,AV,this.parent.parent.model.es,null)
	this.updateScrollbars()
	},updateColumnContainer:function AU(){var AV=this.parent.parent
	if(this.domNode){G.addClass(this.domNode,"lastStage")
	}this.es.update()
	K.call(AV,mstrApp.isWSStyling?N:AF)
	}}
	},getFmNodeProps:function O(){var AO=this
	return{alias:"fm",children:[g({alias:"fm",fmPost:"",filter:false,isFirstFm:true})],updateColumnContainer:function AP(){this.fm.update()
	var AZ=this.parent,AU=AZ.parent,AT=AU.model,AW=AT&&AT.fm,AY=this.idx,AX=AT&&AT.a,AR=AU.disableElementsBrowsing,AQ=AX&&AR&&AR(AX)
	var AV=(AT.etWas&&AT.etWas===M.AE)?t:l,AS=l
	if(AT.et===M.AE&&!AQ){AS=t
	}if(AV!==AS||AS===l){AZ.removeTrailingContainer(AY)
	if(AS===l&&AW){AZ.addNextColumn(AO.getFnNodeProps())
	}else{if(AS===t){AZ.addNextColumn(AO.getEsNodeProps())
	}}}K.call(AU,mstrApp.isWSStyling?AG:AH)
	H.call(this)
	}}
	},getTargetNodeProps:function h(){var AO=this
	return{alias:"target",target:null,browseLink:null,children:[{scriptClass:"mstrmojo.Label",cssClass:"baseOn",text:mstrmojo.desc(11859,"Based On")},L({alias:"target",insertUnlistedValuesAt:0,makeObservable:true,hideIfEmpty:true,postCreate:function(){this._super()
	this.parent.parent.parent.attachEventListener("updateTargets",this.id,function(){this.update()
	})
	},onObjBrowsed:function(AR){if(AR.st===J.FILTER||AR.t===AC.REPORT||AR.t===AC.PROMPT){this.parent.parent.parent.onOK()
	}},update:function AQ(){var AS=this.parent.parent.parent,AT=AS.model,AW=AS.targetsLastMod,AX=AT&&AT.et
	if(this.lastModel!==AT||this.targetsLastMod!==AW){this.lastModel=AT
	this.targetsLastMod=AW
	var AR=AS.targets,AY=AS.ets
	if(AY&&AR&&AR.length){var AV=AL(AS.ets)
	AR=u.filter(AR,function(AZ){return AV[AZ[E]]
	})
	}var AU=AT&&AT[a[AX]]
	p(this,true,X.getSortedObjectsByTypeGroup(AR),AU)
	this.parent.updateScrollbars()
	}}}),{alias:"browseLink",scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-walkstep-browse",text:mstrmojo.desc(7926,"Browse..."),onclick:function(){this.parent.parent.parent.browse(this.parent.target)
	}}],updateColumnContainer:function AP(){this.target.update()
	var AS=this.parent,AT=AS.parent,AU=AT.model,AW=AU&&AU.et,AR=this.idx,AV=this.next
	this.browseLink.set("visible",AT.objectBrowsingEnabled)
	if(AW){switch(AW){case M.AQ:case M.AL:case M.AC:case M.AE:if(AU.a&&!(AV&&AV.fm)){this.parent.insertAndRemoveTrailing(AR,AO.getFmNodeProps())
	}break
	case M.MQ:case M.MC:if(AU.m&&!(AV&&AV.fn)){this.parent.insertAndRemoveTrailing(AR,AO.getFnNodeProps())
	}break
	case M.R:case M.F:case M.XML:this.parent.removeTrailingContainer(AR)
	break
	}}AV=this.next
	if(AV){AV.updateColumnContainer()
	}}}
	}})
	var A=mstrmojo.rw.ConditionWalkProvider
	A.setTip=K
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo.dom","mstrmojo.expr","mstrmojo.hash","mstrmojo.func","mstrmojo.locales","mstrmojo.num","mstrmojo.string","mstrmojo.ValidationTextBox","mstrmojo.HBox","mstrmojo.ui.menus.EditorConfig","mstrmojo.mstr.EnumFunction","mstrmojo.DropDownList","mstrmojo.ui.Pulldown","mstrmojo.SearchablePulldown","mstrmojo.ButtonList","mstrmojo.Box","mstrmojo.Label","mstrmojo.RadioList","mstrmojo.CheckList","mstrmojo.EditableLabel","mstrmojo.CheckBox","mstrmojo._FormatDefinition","mstrmojo.vi.models.VIComponentMap","mstrmojo.vi.enums.EnumFeatures","mstrmojo.ME.AttributeEditBox","mstrmojo.ME.MetricToken","mstrmojo.models.datasets.DataInterface","mstrmojo.chart.model.enums.EnumDSSObjectType","mstrmojo.vi.ui.editors.ObjectPicker","mstrmojo.vi.ui.editors.AttributeLinkEditor","mstrmojo.vi.ui.NumberFormatter","mstrmojo.mstr.EnumDSSXMLBaseFormType","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo.mstr.EnumDSSConsolidationType")
	mstrmojo.requiresDescs(1442,1885,1886,2022,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,3993,4564,11494,11495,11496,11497,14612)
	var N=mstrmojo.array,AY=mstrmojo.css,AF=mstrmojo.dom,S=mstrmojo.hash,c=mstrmojo.string,f=mstrmojo.mstr.EnumFunction,C=mstrmojo.Button.newWebButton,w=mstrmojo.ME.MetricToken.brackets,o=mstrmojo.ME.MetricToken.argDelimiter,M=mstrmojo._FormatDefinition,Z=mstrmojo.models.datasets.DataInterface,W=mstrmojo.vi.models.VIComponentMap.TYPES,AC=mstrmojo.chart.model.enums.EnumDSSObjectType,AO=mstrmojo.mstr.EnumDSSXMLBaseFormType,e=mstrmojo.mstr.EnumDSSXMLObjectTypes,AJ=mstrmojo.mstr.EnumDSSXMLObjectSubTypes,F=mstrmojo.mstr.EnumDSSConsolidationType
	var a={SUM:mstrmojo.desc(2131,"Sum"),ADD:mstrmojo.desc(6017,"Add"),AVG:mstrmojo.desc(2122,"Average"),MAX:mstrmojo.desc(2125,"Maximum"),GST:mstrmojo.desc(5869,"Greatest"),MIN:mstrmojo.desc(2127,"Minimum"),LST:mstrmojo.desc(5868,"Least"),CNT:mstrmojo.desc(2123,"Count"),MTP:mstrmojo.desc(5418,"Multiply"),STD:mstrmojo.desc(2130,"Standard Deviation"),PTD:mstrmojo.desc(11494,"Population Standard Deviation")},d={SUM:{n:a.SUM,t:f.FunctionSum},ADD:{n:a.ADD,t:f.FunctionPlus},AVG:{n:a.AVG,t:f.FunctionAvg},MAX:{n:a.MAX,t:f.FunctionMax},GST:{n:a.GST,t:f.FunctionGreatest},MIN:{n:a.MIN,t:f.FunctionMin},LST:{n:a.LST,t:f.FunctionLeast},TMS:{n:a.MTP,t:f.FunctionTimes},CNT:{n:a.CNT,t:f.FunctionCount},GEM:{n:mstrmojo.desc(2124,"Geometric Mean"),t:f.FunctionGeomean},MED:{n:mstrmojo.desc(2126,"Median"),t:f.FunctionMedian},MOD:{n:mstrmojo.desc(2128,"Mode"),t:f.FunctionMode},PDT:{n:mstrmojo.desc(2129,"Product"),t:f.FunctionProduct},STD:{n:mstrmojo.desc(2130,"Standard Deviation"),t:f.FunctionStdev},VAR:{n:mstrmojo.desc(2132,"Variance"),t:f.FunctionVar}},m=[{n:a.SUM,t:f.FunctionOLAPSum},{n:a.AVG,t:f.FunctionOLAPAvg},{n:a.MIN,t:f.FunctionOLAPMin},{n:a.MAX,t:f.FunctionOLAPMax},{n:a.CNT,t:f.FunctionOLAPCount}],AE=[{n:a.SUM,t:f.FunctionOLAPSum},{n:a.AVG,t:f.FunctionOLAPAvg},{n:a.MIN,t:f.FunctionOLAPMin},{n:a.MAX,t:f.FunctionOLAPMax},{n:a.CNT,t:f.FunctionOLAPCount}],AT=[{n:mstrmojo.desc(1058,"Previous"),t:f.FunctionLag},{n:mstrmojo.desc(1059,"Next"),t:f.FunctionLead},{n:mstrmojo.desc(4046,"First"),t:f.FunctionFirst},{n:mstrmojo.desc(4049,"Last"),t:f.FunctionLast}]
	var u={YEAR:"Year",QUARTER:"Quarter",CONCAT:"Concat",QUARTERSTARTDATE:"QuarterStartDate",MONTH:"Month",TOSTRING:"ToString",MONTHSTARTDATE:"MonthStartDate",WEEK:"Week",WEEKSTARTDATE:"WeekStartDate",DAYOFMONTH:"DayOfMonth",DAYOFWEEK:"DayOfWeek",DAYOFYEAR:"DayOfYear"}
	var AR={}
	AR[u.YEAR]="6F7DF5F8449111D5BEA300B0D01A55EF"
	AR[u.QUARTER]="6F7DF5F7449111D5BEA300B0D01A55EF"
	AR[u.CONCAT]="6F7DF5FF449111D5BEA300B0D01A55EF"
	AR[u.QUARTERSTARTDATE]="59E10CE2ADDD4A6DAC2416A72999A9ED"
	AR[u.MONTH]="6F7DF5F6449111D5BEA300B0D01A55EF"
	AR[u.TOSTRING]="D1ED29645DEC4DBF99E8E09ED939074B"
	AR[u.MONTHSTARTDATE]="7C63D4E70B2741C3A5B54A2EFD40961B"
	AR[u.WEEK]="6F7DF5F5449111D5BEA300B0D01A55EF"
	AR[u.WEEKSTARTDATE]="44681336D0DB4E43AC333FFB3CC4400D"
	AR[u.DAYOFMONTH]="6F7DF5F2449111D5BEA300B0D01A55EF"
	AR[u.DAYOFWEEK]="6F7DF5F3449111D5BEA300B0D01A55EF"
	AR[u.DAYOFYEAR]="6F7DF5F4449111D5BEA300B0D01A55EF"
	var AN="@form"
	function H(Ad){var Af=8,Ag=1,Ac=N.find(Ad.fs,"idf",true)
	if(Ac===-1){return null
	}var Ae=Ad.fs[Ac]
	return((Ad.da||Ae.obf)&&(Ae.bftp===Af||Ae.bftp===Ag))?Ae:null
	}var Aa={Year:{ID:[u.YEAR,"(",AN,")"]},Quarter:{ID:[u.YEAR,"(",AN,") * 10 + ",u.QUARTER,"(",AN,")"],DESC:[u.CONCAT,'("Q"',o,u.QUARTER,"(",AN,")",o,' ", "',o,u.YEAR,"(",AN,"))"],DATE:[u.QUARTERSTARTDATE,"(",AN,")"]},QuarterOfYear:{ID:[u.QUARTER,"(",AN,")"],DESC:[u.CONCAT,'("Q"',o,"This@ID)"]},Month:{ID:[u.YEAR,"(",AN,") * 100 + ",u.MONTH,"(",AN,")"],DESC:[u.TOSTRING,'<Pattern="mmm yyyy">(',AN,")"],DATE:[u.MONTHSTARTDATE,"(",AN,")"]},MonthOfYear:{ID:[u.MONTH,"(",AN,")"],DESC:[u.TOSTRING,'<Pattern="mmmm">(',AN,")"]},Week:{ID:[u.YEAR,"(",AN,") * 100 + ",u.WEEK,"(",AN,")"],DESC:[u.CONCAT,'("W"',o,u.WEEK,"(",AN,")",o,' ", "',o,u.YEAR,"(",AN,"))"],DATE:[u.WEEKSTARTDATE,"(",AN,")"]},WeekOfYear:{ID:[u.WEEK,"(",AN,")"]},DayOfMonth:{ID:[u.DAYOFMONTH,"(",AN,")"]},DayOfWeek:{ID:[u.DAYOFWEEK,"(",AN,")"],DESC:[u.TOSTRING,'<Pattern="ddd">(',AN,")"]},DayOfYear:{ID:[u.DAYOFYEAR,"(",AN,")"]}}
	function AB(Ae,Ag,Af,Ac){return{scriptClass:"mstrmojo.ui.Pulldown",isHostedWithin:false,items:Ae,selectedIndex:Ag,onitemSelected:function Ad(Ah){var Ai=this.parent
	while(!Ai.data||!Ai.data[Af]){Ai=Ai.parent
	}Ai.data.set(Af,Ac?Ac(Ah):Ah.v)
	}}
	}function Ab(Ae,Ad,Ac){return{scriptClass:"mstrmojo.Box",cssClass:"breakByBox",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(13903,"Break by:"),cssClass:"menu-info-text"},S.copy(Ac,AB(Ae,Ad,"breakBy",function(Af){return{id:Af.did,type:Af.t,dmy:Af.dmy}
	}))]}
	}function O(Af){var Ag=Af.metrics,Ah=Af.propName,Ae=Af.optionValueField||"id",Ac=N.find(Ag,Ae,Af.value),Ai=function Ai(Ak){var Aj=this.parent
	while(!Aj.data||!Aj.data.hasOwnProperty(Ah)){Aj=Aj.parent
	}Aj.data.set(Ah,Ak?{id:Ak[Ae],type:4}:{cst:this.text})
	}
	return{scriptClass:"mstrmojo.ui.SearchablePulldown",isHostedWithin:false,cssClass:"Calculation-PullDown",items:Ag,selectedIndex:Ac,useRichTooltip:true,bindings:Af.bindings,valid:true,allowCustomText:true,allowEmptyText:true,allowHTML:false,onvalidChange:function Ad(){mstrmojo.css.toggleClass(this.domNode,"invalid",!this.valid)
	if(this.hasRendered){this.hideTooltip()
	this.showTooltip()
	}},updateTooltipConfig:function(){if(this.valid){this.richTooltip=null
	return 
	}this.richTooltip={posType:mstrmojo.tooltip.POS_BOTTOMLEFT,cssClass:"vi-warning vi-tooltip-C vi-calculation-warning",left:this.domNode.offsetWidth+12,top:this.domNode.offsetHeight+5,refNode:this.domNode,content:mstrmojo.desc(13819,"Invalid input")}
	},onitemSelected:Ai,onTextEditComplete:function(){Ai.call(this,this.items[this.selectedIndex])
	},onPopupWidgetOpened:function(){this.set("valid",true)
	},postkeyup:Af.postkeyup}
	}function q(Af,Ae,Ad){if(Af&&Af.datap){var Ac=N.filterOne(Af.datap,function(Ah){return Ah.tbid===Ae
	}),Ag=Ac&&Ac.maps.amps
	return N.filterOne(Ag,function(Ah){return Ad===Ah.aimp.atid
	})
	}return null
	}function z(Ac,Ag){var Ae=N.filterOne(Ac&&Ac.afmps,function(Ah){return Ah.fmid===Ag
	}),Af=Ae&&(Ae.sqc?Ae:Ae.col.oi),Ad
	if(Af&&Af.sqc){Ad={did:Af.sqc.id,n:c.decodeHtmlString(Af.cln),coldtp:Af.sqc.dt.tp,georole:Af.geo,timerole:Af.tim,der:Af.sqc.der}
	}else{if(Af){Ad={did:Af.did,n:c.decodeHtmlString(Af.def.cln),coldtp:Af.def.dt.tp,georole:Ae.geo,timerole:Af.def.dicl.time,der:Af.def.dicl.der}
	}}return Ad
	}function AQ(Ae,Ad,Ag){var Af={success:function(Ah){if(Ah&&Ah.msgid){mstrApp.serverRequest({taskId:"qBuilder.GetReportXDADefinition",msgid:Ah.msgid,bindingflag:2,previewflag:261,browsetype:5},Ag)
	}},failure:function(Ah){mstrApp.onerror(Ah)
	}}
	var Ac=!!(mstrConfig.resolveOnly||mstrApp.isAppStatePause&&mstrApp.isAppStatePause())
	mstrApp.serverRequest({taskId:"duplicateReportInstance",datasetID:Ad,messageID:Ae,skipRebuild:Ac},Af)
	}function U(Ah,Ai,Af){var Ad=Ah.srcTableId,Ak=Ah.tgtTableId,Ac,Ag,Ae=function(Ao,An){var Aq="<mpcs><mpc ",Am,Ap
	for(Am in An){Ap=An[Am]
	Aq+='$ACT="$VAL" '.replace("$ACT",Am).replace("$VAL",Ap)
	}Aq+="/></mpcs>"
	return{act:"changeEMMAMapping",tbid:Ao,dsid:Ah.dsid,mapping:Aq}
	},Aj=function(){var Am=[],Ap={},An,Ao
	if(!Ac||!Ag){return 
	}Ap[Ad]={}
	Ap[Ak]={}
	N.forEach(Ac.afmps,function(At){var Ar=N.find(Ag.afmps,"fmid",At.fmid),Au,As,Aq
	if(Ar>=0){An=z(Ac,At.fmid)
	Ao=z(Ag,At.fmid)
	if(An.georole!==Ao.georole){Aq=(An.georole===0)?Ad:Ak
	Au=(An.georole===0)?An.did:Ao.did
	As=An.georole||Ao.georole
	Ap[Aq][Au]=S.copy({did:Au,georole:As},Ap[Aq][Au])
	}if(An.timerole!==Ao.timerole){Aq=(An.timerole===0)?Ad:Ak
	Au=(An.timerole===0)?An.did:Ao.did
	As=An.timerole||Ao.timerole
	Ap[Aq][Au]=S.copy({did:Au,timerole:As},Ap[Aq][Au])
	}if(An.der!==Ao.der){As=An.der|Ao.der
	Ap[Ad][An.did]=S.copy({did:An.did,drvflg:As},Ap[Ad][An.did])
	Ap[Ak][Ao.did]=S.copy({did:Ao.did,drvflg:As},Ap[Ak][Ao.did])
	}}})
	S.forEach(Ap,function(Aq,Ar){S.forEach(Aq,function(As){Am.push(Ae(Ar,As))
	})
	})
	An=z(Ac,Ac.afmps[0].fmid)
	Am.push(Ae(Ad,{did:An.did,oid:Ag.aimp.atid}))
	if(Af){Af(Am)
	}},Al=function(Ao){var Ap={success:function(){Aj()
	}},An,Am
	Ac=q(Ao,Ad,Ah.srcId)
	Ag=q(Ao,Ak,Ah.tgtId)
	An=z(Ac,Ac.afmps[0].fmid)
	Am=[Ae(Ad,{did:An.did,oid:Ag.aimp.atid,fg:1})]
	Ai.getDataService().submitUpdates(Am,Ap)
	}
	AQ(Ai.mid,Ah.dsid,{success:Al})
	}function AP(Ah,Ae,Ad,Ai){var Ac=0,Ag=[],Af=function(Aj){var Ak=Ad[Ac-1]
	if(Aj&&Aj.tks&&Ak){Ag.push({fid:Ak.fid,fnm:Ak.fnm,ftk:Aj.tks.items})
	}if(Ac===Ad.length){Ai(Ag)
	return 
	}Ak=Ad[Ac++]
	mstrmojo.ME.MetricDataService.validateMetric({metricId:Ae,formID:Ak.fid,objectType:12,tokenStreamXML:"",metricXML:"",msgID:Ah},{success:Af})
	}
	Af()
	}function AW(Ac,Ad){return{v:w(Ac.n)+"@"+w(Ad.fnm),tp:275,lv:1,exv:Ad.fid,extp:8,oi:{did:Ac.did,t:Ac.t,n:Ac.n}}
	}function X(Ad){var Af=(Ad.t===e.Filter||Ad.t===e.Consolidation),Ae=(Ad.t===e.Attribute&&Ad.de),Ac=(Ad.t===e.Consolidation&&Ad.st===AJ.ConsolidationManaged)
	return !!(Af&&!Ac||Ae)
	}mstrmojo.vi.ui.DatasetUnitMenuUtils=mstrmojo.provide("mstrmojo.vi.ui.DatasetUnitMenuUtils",{getAvailableShortcutMetricFunctionsGroup:function K(Ac){return{"12":[[d.AVG,d.CNT,d.MAX,d.MIN,d.STD,d.SUM,d.VAR]],"4":[[d.SUM,d.AVG,d.MIN,d.MAX,d.CNT],[d.GEM,d.MED,d.MOD,d.PDT,d.STD,d.VAR]]}[Ac.t]
	},isAmongFunctions:function r(Ad,Ac){return Ac.some(function(Ae){return Ae.some(function(Af){return Af.t===Ad
	})
	})
	},getMultiSelectionShortcutMetricFunctions:function n(Ac){var Ad=true
	N.forEach(Ac,function(Ae){if(4!==Ae.t){Ad=false
	return false
	}return true
	})
	return Ad?[d.ADD,d.AVG,d.GST,d.LST,d.TMS]:[]
	},getRelativeReferenceMenu:function R(Ag,Ae,Aj,Ac){var Af=0,Ad=AT[Af],Ai=0,Ah=Aj&&Aj[Ai]
	return new mstrmojo.ui.menus.EditorConfig({data:{item:Ag,relativeRef:Ad,breakBy:Ah},cssClass:"RelativeReference-MenuEditor",contents:[{scriptClass:"mstrmojo.Box",cssClass:"funcBox",children:[{scriptClass:"mstrmojo.Label",visible:Ae&&Ae.length,text:Ae,cssClass:"menu-info-text"},S.copy({cssClass:"RelativeReferencePullDown"},AB(AT,Af,"relativeRef",function(Ak){return Ak.t
	}))]},Ab(Aj,Ai,{cssClass:"RelativeReferencePullDown"})],fnOk:function(Ak){return Ac(Ak.item,Ak.relativeRef,[Ak.breakBy])
	}})
	},getMovingTotalMenu:function AS(Am,Ag,Ai){var An=1,Af=AE[An].t,Ah=1,Ad=mstrmojo.desc(13289,"Starting previous##rows").split("##"),Al=0,Ae=Ag&&Ag[Al]
	return new mstrmojo.ui.menus.EditorConfig({cssClass:"MovingTotal-MenuEditor",data:{item:Am,funcType:Af,windowSize:Ah,breakBy:Ae},contents:[S.copy({cssClass:"MovingTotalPullDown"},AB(AE,An,"funcType",function(Ao){return Ao.t
	})),{alias:"winSzBox",scriptClass:"mstrmojo.HBox",children:[{scriptClass:"mstrmojo.Label",cssClass:"WinSzPrefix menu-info-text",text:Ad[0]},{alias:"winSz",scriptClass:"mstrmojo.ValidationTextBox",required:true,dtp:mstrmojo.expr.DTP.INTEGER,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,min:1},postCreate:function Ak(){this.set("value",Ah)
	},_ontooltipover:function(){var Ao=mstrmojo.all[this.id]
	Ao._hovered=true
	Ao.showTooltip()
	},_ontooltipout:function(){var Ao=mstrmojo.all[this.id]
	Ao._hovered=false
	Ao.hideTooltip()
	},useRichTooltip:true,tooltipOpenDelay:0,onInvalid:function(){var Ao=this.validationStatus.msg,Ap=!(this.richTooltip&&Ao===this.richTooltip.content)
	this.richTooltip={posType:mstrmojo.tooltip.POS_BOTTOMLEFT,cssClass:"vi-warning vi-tooltip-V",top:-5,refNode:this.domNode,content:Ao}
	if(this._hovered&&Ap){this.hideTooltip()
	this.showTooltip()
	}},onValid:function(){this.richTooltip=null
	this.hideTooltip()
	},postvalueChange:function Aj(){var Ao=this.isValid()
	this.parent.parent.popupConfig.data.set("windowSize",Ao?parseInt(this.value,10):0)
	}},{scriptClass:"mstrmojo.Label",cssClass:"WinSzSuffix menu-info-text",text:Ad[1]}]},Ab(Ag,Al,{cssClass:"MovingTotalPullDown BreakByBox"})],bindings:{okEnabled:function(){return !!this.data.windowSize
	}},fnOk:function Ac(Ao){if(Ai){Ai(Am,Ao.funcType,Ao.windowSize,[Ao.breakBy])
	}}})
	},getRunningTotalMenu:function x(Af,Ai,Ad){var Ae=0,Ac=m[Ae].t,Ah=0,Ag=Ai&&Ai[Ah]
	return new mstrmojo.ui.menus.EditorConfig({data:{item:Af,func:Ac,breakBy:Ag},cssClass:"RunningTotal-MenuEditor",contents:[S.copy({cssClass:"RunningTotalPullDown"},AB(m,Ae,"func",function(Aj){return Aj.t
	})),Ab(Ai,Ah,{cssClass:"RunningTotalPullDown BreakByBox"})],fnOk:function(Aj){return Ad(Aj.item,Aj.func,[Aj.breakBy])
	}})
	},getRankMetricEditor:function Q(Ag,Aj,Ae){var Ac=[{n:mstrmojo.desc(1886,"Descending"),v:"0"},{n:mstrmojo.desc(1885,"Ascending"),v:"-1"}],Ad=0,Af=Ac[Ad].v,Ai=0,Ah=Aj&&Aj[Ai]
	return new mstrmojo.ui.menus.EditorConfig({data:{item:Ag,order:Af,breakBy:Ah},cssClass:"NewRankMetric-MenuEditor",contents:[{scriptClass:"mstrmojo.Box",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(14612,"Sort:"),cssClass:"menu-info-text"},S.copy({cssClass:"NewRankMetricPullDown"},AB(Ac,Ad,"order"))]},Ab(Aj,Ai,{cssClass:"NewRankMetricPullDown"})],fnOk:function(Ak){return Ae(Ak.item,Ak.order,[Ak.breakBy])
	}})
	},insertAddUnitToFilterMenu:function AV(Ah,Ad,Ac){var Af=this,Ae=mstrmojo.desc(2022,"Add to Filter"),Ag=N.ensureArray(Ac).filter(function(Ai){return Af.isValidAddToFP(Ad,Ai)
	})
	if(Ag.length>0){Ah.addMenuItem(Ae,"",function(){Ad.addFilterStackSelectors(Ag)
	})
	}else{Ah.addDisabledMenuItem(Ae,"")
	}},isValidAddToFP:function AZ(Ad,Ai,Ak){var Ae=Ad.controller.view.builder,Ag=Ae.getLayoutVIMap(Ad.getCurrentLayoutKey()),Ah=Ag.getComponent(W.FILTER_STACK),Aj=true
	if(!Ak){Aj=(!Ah||N.find(Ah.getFilterDefinitions(),"srcid",Ai.did)===-1)
	}if(Aj&&Ai.lock){var Af=Ai.fs||[],Ac
	Aj=false
	for(Ac=0
	Ac<Af.length
	Ac++){if(Af[Ac].iidx){Aj=true
	break
	}}}return Aj
	},renameItem:function AX(Ah,Ak,Ad,Af){var Ag=Ah.mstrmojoId,Aj=mstrmojo.dom.findWidget(Ah)
	Af=Af||{}
	if(!Ag){var Ai=mstrmojo.insert({scriptClass:"mstrmojo.EditableLabel",editOnClick:false,editOnTwoClicks:true,text:Ak.n,title:Ak.dsc||"",allowEmptyText:Af.allowEmptyText,allowTrimming:Af.allowTrimming||false,cssClass:Af.cssClass||"",placeholder:Ah,onTextEditComplete:function Ac(Al){if(Al){return Ad(this)
	}},onmousedown:function Ae(Al){if(this.isEditing){Al.cancel()
	}}})
	if(Aj&&Aj.draggable){Ai.parent=Aj
	}Ai.render()
	Ag=Ai.id
	}mstrmojo.all[Ag].set("isEditing",true)
	return mstrmojo.all[Ag]
	},getMultipleMetricsCalculationMenus:function AU(Aj,Ac,Am){var Ai=new mstrmojo.ui.menus.MenuConfig(),Ao=mstrmojo.vi.ui.DatasetUnitMenuUtils.getMultiSelectionShortcutMetricFunctions(Aj),Ag=function(Aq,Ar,Ap){return{dsid:Ac,funcType:Ar,funcType2:Ap,items:Aq}
	}
	Ai.useTooltip=true
	Ao.forEach(function(Ap){Ai.addMenuItem(Ap.n,"",function(){Am(Ag(Aj,Ap.t))
	})
	})
	if(Aj.length===2){var Ah=mstrmojo.mstr.EnumFunction,Af=Ah.FunctionDivide,Ad=Ah.FunctionMinus,Al=Aj[0],Ak=Aj[1],An=function(At,Ar,Ap,As,Aq){Ai.addMenuItem(At,"",function(){Am(Ag([Ar,Ap],As,Aq))
	})
	},Ae=[{n:function(Aq,Ap){return Aq.n+"/"+Ap.n
	},fn:Af},{n:function(Aq,Ap){return Aq.n+"-"+Ap.n
	},fn:Ad},{n:function(Aq,Ap){return"("+Aq.n+"-"+Ap.n+")/"+Ap.n
	},fn:Ad,fn2:Af}]
	Ae.forEach(function(Ap){Ai.addSeparator()
	An(Ap.n(Al,Ak),Al,Ak,Ap.fn,Ap.fn2)
	An(Ap.n(Ak,Al),Ak,Al,Ap.fn,Ap.fn2)
	})
	}return Ai
	},getCalculationMetricEditor:function k(Ak,Al,Aj){var Ae=[{n:"",css:"operator-plus",funcType:f.FunctionPlus},{n:"",css:"operator-minus",funcType:f.FunctionMinus},{n:"",css:"operator-multiply",funcType:f.FunctionTimes},{n:"",css:"operator-divide",funcType:f.FunctionDivide},{n:!mstrApp.isWSStyling?"%":"",css:"operator-percent-diff",funcType:f.FunctionMinus,funcType2:f.FunctionDivide}],Af={m1:Al.did,m2:Ak[0].did,operator:f.FunctionPlus,u1:{id:Al.did,type:4},u2:null},Ad=function(Am){return{}.hasOwnProperty.call(Am,"cst")
	},Ai=function(Am){return typeof Am==="string"&&!!Am.length&&!isNaN(Number(Am))
	}
	var Ac="this.parent.popupConfig.valid || this.selectedIndex !== -1 || (!!this.selectedNode && this.selectedNode.innerHTML.length === 0)",Ah=function Ah(){var Am=this.parent.popupConfig
	if(Am){Am.set("okEnabled",this[this.editableSlot].innerHTML.length!==0)
	}}
	return new mstrmojo.ui.menus.EditorConfig({cssClass:"Calculation-MenuEditor",contents:[O({metrics:Ak,value:Af.m1,propName:"u1",optionValueField:"did",bindings:{valid:Ac},postkeyup:Ah}),{scriptClass:"mstrmojo.ButtonListHoriz",items:Ae,selectedIndex:0,postselectionChange:function Ag(){this.parent.data.set("operator",this.selectedItem.funcType)
	this.parent.data.set("operator2",this.selectedItem.funcType2)
	}},O({metrics:Ak,value:null,propName:"u2",optionValueField:"did",bindings:{valid:Ac},postkeyup:Ah})],data:Af,okEnabled:false,bindings:{valid:function(){var Ao=this.data.u1,An=this.data.u2,Ap=this.data.operator
	if(!Ao||!An||!Ap){return false
	}var Am=!(Ad(Ao)&&Ad(An))&&(!Ad(Ao)||Ai(Ao.cst))&&(!Ad(An)||Ai(An.cst))
	this.set("okEnabled",Am)
	return Am
	}},fnOk:function(Am){return Aj(Am.u1,Am.u2,Am.operator,Am.operator2)
	}})
	},getCfgForAddUnitFromAllObject:function(Ac,Ad){var Ae=null,Af=null,Ag=[],Ah=function(Ai,Aj){if(!Aj){return false
	}return N.find((Aj.att||[]).concat(Aj.mx||[]),"did",Ai.did)>-1
	}
	S.forEach(Ad,function(Aj,Ai){if(Aj.idd){Ae=Ai
	Af=Aj
	return false
	}return true
	})
	if(!Ae){Ae="$GUID_141"
	Ag.push({act:"createDataset",mgo:true,prm:true,name:mstrApp.projectName,idd:true,newObjectIds:[Ae]})
	}N.forEach(Ac,function(Ai){if(!Ah(Ai,Af)){Ag.push({act:"addUnitToDataset",dsid:Ae,unitId:Ai.did,unitType:Ai.t})
	}})
	return{actions:Ag,dsid:Ae}
	},getAggregateByMenu:function h(Ah,Af){var Ad=new mstrmojo.ui.menus.MenuConfig(),Ae=function(Al,Ak){var An,Am
	if(Ak){var Aj=Al.mexp.args[0]
	An=Aj.did
	Am=Aj.t
	}else{An=Al.did
	Am=Al.t
	}return{did:An,t:Am}
	},Ac=this.getAvailableShortcutMetricFunctionsGroup(Ah),Ai=Ah.mexp?Ah.mexp.ft:null,Ag=Ah.mexp&&this.isAmongFunctions(Ai,Ac)
	Ac.forEach(function(Aj,Ak){if(Ak!==0){Ad.addSeparator()
	}Aj.forEach(function(Al){Ad.addMenuItem(Al.n,"",function(){Af(Ae(Ah,Ag),Al.t)
	})
	})
	})
	return Ad
	},showObjectPicker:function A(Ah,Ad,Af,Ae,Ac,Ag,Aj){var Ai="object_picker"
	return function(){var Ak=mstrmojo.all[Ai]
	if(Ak){Ak.destroy()
	}Ak=new mstrmojo.vi.ui.editors.ObjectPicker({id:Ai,searchVisible:Ag})
	if(Ad){Ak.supportedTypes=N.hash(Ad)
	Ak.ob.browsableTypes="8,"+Ad.join(",")
	}if(Ac){Ak.ob.rootFolderID=Ac
	}if(!Aj){Ak.ob.folderLinksContextId=Af
	}Ak.ob.browsableViewMedias=Ae
	Ak.render()
	Ak.OKFn=Ah||mstrmojo.emptyFn
	Ak.open()
	}
	},getObjectPicker:function G(){var Ac="object_picker"
	return mstrmojo.all[Ac]
	},generateNumberFormat:function Y(Ah){var Ac=M.DefaultFormat.FormattingNumber,Ad=M.NumberFormatCategory,Af=Ah||{},Ae=Af.nct,Ag=Ae===Ad.General&&Af.nfs==="General"
	return{category:(Ae===undefined||Ag)?Ad.Automatic:Ae,decimalPlaces:Af.ndp===undefined?2:Af.ndp,thousandSeparator:Af.nth===undefined?parseInt(Ac.ThousandSeparator,10):(Af.nth?-1:0),currencySymbol:Af.ncs||Ac.CurrencySymbol,currencyPosition:Af.ncp||Ac.CurrencyPosition,format:Af.nfs||"",negativeNumbers:Af.nnn||Ac.NegativeNumbers}
	},getNumberFormatEditor:function t(Af,Ae,Ad){var Ac=this.generateNumberFormat(Ae),Ag=S.clone(Ac),Ai=S.clone(Ac)
	return new mstrmojo.ui.menus.EditorConfig({data:Ag,bindings:{okEnabled:function(){return !(this.data.category===Ai.category&&this.data.format===Ai.format)
	}},cssClass:"NumberFormat-MenuEditor",contents:[{scriptClass:"mstrmojo.vi.ui.NumberFormatter",formatValue:Ac,myData:Ag,oldData:Ai,adjustAfterCategoryChange:function(){this.parent.adjustCornersForPopupOverflow()
	}}],fnOk:function Ah(Aj){if(!(Aj.category===Ai.category&&Aj.format===Ai.format)){return Ad(Aj,Ai)
	}}})
	},getHighlightElementHandler:function(Ae,Ad,Ac){return function(){AY.toggleClass(Ad,Ac||"open",Ae)
	}
	},getConfDataTypeMenuCfg:function p(Ac,Ax,Ap,BB){var A6="ToString",Aw="ToNumber",Au="ToDateTime",Ao="keepOriginal",Af="Default",A7={ToString:AO.DssXmlBaseFormText,ToNumber:AO.DssXmlBaseFormNumber,ToDateTime:AO.DssXmlBaseFormDate},Ak={ToString:"D1ED29645DEC4DBF99E8E09ED939074B",ToNumber:"399C3EC1041643F1ACE8F2A92B1C1F2F",ToDateTime:"0A558C7295DE42DAA8C5594F1724563F"},Ai="_pattern",A9="_func",As="_bft",BE="_state",BC={UNCHANGED:0,TO_CREATE:1,TO_UPDATE:2},Ah={n:"Default",v:"Default"},A4=[{n:"MM-DD-Year",v:"MM-DD-Year"},{n:"MM/DD/Year",v:"MM/DD/Year"},{n:"DD-MM-Year",v:"DD-MM-Year"},{n:"DD/mm/Year",v:"DD/mm/Year"},Ah],Ae=[{n:mstrmojo.desc(13772,"Keep Original"),v:Ao},{n:mstrmojo.desc(12276,"String"),v:A6},{n:mstrmojo.desc(2052,"Date"),v:Au},{n:mstrmojo.desc(3434,"Number"),v:Aw}]
	if(mstrApp&&mstrApp.showMultiDataType){Ae=[{n:mstrmojo.desc(13772,"Keep Original"),v:Ao},{isSeparator:true,cls:"separator"},{n:mstrmojo.desc(3434,"Number"),v:Aw,bft:AO.DssXmlBaseFormNumber},{n:mstrmojo.desc(9920,"Big Decimal"),v:Aw,bft:AO.DssXmlBaseFormBigDecimal},{isSeparator:true,cls:"separator"},{n:mstrmojo.desc(2052,"Date"),v:Au,bft:AO.DssXmlBaseFormDate},{n:mstrmojo.desc(9919,"DateTime"),v:Au,bft:AO.DssXmlBaseFormDateTime},{n:mstrmojo.desc(2170,"Time"),v:Au,bft:AO.DssXmlBaseFormTime},{isSeparator:true,cls:"separator"},{n:mstrmojo.desc(3544,"Text"),v:A6,bft:AO.DssXmlBaseFormText},{n:mstrmojo.desc(9921,"HTML Tag"),v:A6,bft:AO.DssXmlBaseFormHTMLTag},{n:mstrmojo.desc(8984,"Phone Number"),v:A6,bft:AO.DssXmlBaseFormPhoneNumber},{n:mstrmojo.desc(4530,"Symbol"),v:A6,bft:AO.DssXmlBaseFormSymbol},{n:mstrmojo.desc(9922,"URL"),v:A6,bft:AO.DssXmlBaseFormUrl},{n:mstrmojo.desc(4699,"Email"),v:A6,bft:AO.DssXmlBaseFormEmail}]
	}var An=S.clone(Ae).slice(1),Av=Ax.fs.filter(function(BG){return Ax.da||BG.obf
	}),BF=Av.length>1,Ar=Av.length>5,Aj=false,A5=false,Ay=[],A3=[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(13773,"Select Data Type for New Attribute:"),cssClass:"menu-info-text menu-header-text"}],BD={okEnabled:false},A8=function(){var BG=false
	Av.forEach(function(BH){BG=BG||(BD[BH.fnm+A9+BE]!==BC.UNCHANGED)||(BD[BH.fnm+Ai+BE]!==BC.UNCHANGED)
	})
	return BG
	},Az=function(BI,BH){var BG=0
	if(BI.da){N.forEach([A6,Au,Aw],function(BL,BJ){var BK=new RegExp("^\\s*"+BL+"\\s*(<.*>)?\\s*\\((.+)\\)\\s*$","i").exec(BH.f)
	if(BK&&BK[2]){BG=BJ+1
	return false
	}})
	}return BG
	},A2=function(BI,BH){var BG=0
	if(BI.da){var BJ=BH&&BH.bftp
	N.forEach(Ae,function(BL,BK){if(BL.bft===BJ){BG=BK
	return false
	}})
	}return BG
	},A1=function(BI,BH){var BJ=Af
	if(Ax.da){var BG=new RegExp("^\\s*"+BH+'\\s*<\\s*Pattern\\s*=\\s*"(.+)"\\s*>.*$',"i").exec(BI.f)
	if(!c.isEmpty(BG&&BG[1])){BJ=BG[1]
	}}return BJ
	},A0=function(){return Ar?this.parent.parent.parent:(BF?this.parent.parent:this.parent)
	},At=function(BG){if(Ar){BG.formList.updateScrollbars()
	}},Ag=function(BN,BO,BM){var BG=BO.fnm,BJ=Ar?BN.formList[BO.fnm+Ai]:BN[BO.fnm+Ai],BK=BF?BJ.children[1]:BJ,BL=BD[BG+A9],BI=Aj&&(BL===Au||BL===A6),BH=BJ.visible!==BI
	if(BH){BJ.set("visible",BI)
	if(BI){At(BN)
	}else{BK.hideTooltip()
	}}if(BM){BK.set("text",A1(BO,BL))
	BK.set("items",BL===Au?A4:[Ah])
	}},Aq=function(BG){var BH=false
	Av.forEach(function(BI){if(BD[BI.fnm+A9]===Au||BD[BI.fnm+A9]===A6){BH=true
	return false
	}})
	BG.advancedLabel.set("visible",BH)
	},Ad=function(BI,BG,BJ){return{scriptClass:"mstrmojo.ui.Pulldown",isHostedWithin:false,items:BI,alias:BJ.fnm+A9,selectedIndex:BG,onPopupWidgetOpened:function(){At(A0.call(this))
	},onitemSelected:function BH(BO,BM){var BN=A0.call(this),BP=BN.data,BQ=BJ.fnm,BL=BO.v,BK=function(BR){if(BR){return(BI.length===3?BC.TO_UPDATE:BC.TO_CREATE)
	}return BC.UNCHANGED
	}
	BP.set(BQ+A9,BL)
	BP.set(BQ+Ai,A1(BJ,BL))
	BP.set(BQ+As,BL===Ao?BJ.bftp:(BO.bft?BO.bft:A7[BL]))
	BP.set(BQ+A9+BE,BK(BM!==BG))
	BP.set("okEnabled",A8())
	Ag(BN,BJ,true)
	Aq(BN)
	}}
	},Am=function(BI,BJ,BG){return{scriptClass:"mstrmojo.ui.SearchablePulldown",isHostedWithin:false,alias:BI.fnm+Ai,useRichTooltip:true,visible:BG,allowCustomText:true,allowEmptyText:true,onPopupWidgetOpened:function(){At(A0.call(this))
	},customizeSearchResult:function(BK){if(N.find(BK,"v","Default")===-1&&this.items.length>0){BK.push(Ah)
	}},onclick:function(BK){mstrmojo.ui.SearchablePulldown.prototype.onclick.call(this,BK)
	this.set("isEditing",true)
	},updateData:function(BM){var BK=A0.call(this),BL=BK.data,BN=BI.fnm
	BL.set(BN+Ai,BM)
	BL.set(BN+Ai+BE,BJ!==BM?BC.TO_UPDATE:BC.UNCHANGED)
	BL.set("okEnabled",A8())
	},onitemSelected:function BH(BK){if(BK){this.updateData(BK.v)
	}},onkeyup:function(BK){mstrmojo.ui.SearchablePulldown.prototype.onkeyup.call(this,BK)
	var BL=this[this.editableSlot],BM=BL.innerText||BL.textContent
	this.updateData(BM)
	},updateTooltipConfig:function(BL){this.tooltipOpenDelay=BL?500:0
	var BK=AF.position(this.domNode)
	this.richTooltip={content:mstrmojo.desc(14114,'Pattern determines the formatting for the resulting string of characters. You can use the custom numeric, date, and time formatting symbols. <br/> Example: if pattern is defined as "0,000.00" for "1001", it returns the string "1,001.00"'),posType:mstrmojo.tooltip.POS_TOPLEFT,cssClass:"vi-regular vi-tooltip-C",top:BK.y-2,left:BK.x+BK.w+10}
	}}
	},BA=function(BO,BN,BG,BH,BM){var BJ=mstrApp&&mstrApp.showMultiDataType?A2(BO,BN):Az(BO,BN),BL=A1(BN,Ae[BJ].v),BI=BN.fnm,BK=Ae
	if(BJ>0){BK=An
	BJ--
	}BH[BI+Ai]=""
	BH[BI+A9]=""
	BH[BI+As]=""
	BH[BI+A9+BE]=BH[BI+Ai+BE]=BC.UNCHANGED
	if(BM){BG.push({scriptClass:"mstrmojo.HBox",cssClass:"func-input",alias:BI+A9,children:[{scriptClass:"mstrmojo.Label",text:BI,useRichTooltip:true,updateTooltipConfig:function(BR){this.tooltipOpenDelay=BR?500:0
	var BQ=this.domNode
	var BP=AF.position(BQ)
	if(BQ.scrollWidth>BQ.offsetWidth){this.richTooltip={content:c.encodeHtmlString(BQ.innerText),posType:mstrmojo.tooltip.POS_TOPLEFT,cssClass:"vi-regular vi-tooltip-V",top:BP.y-BP.h-10,left:BP.x-10}
	}}},S.copy({cssClass:"ConfDataTypePullDown MeContentPullDown HBOXPullDown"},Ad(BK,BJ,BN,true))]})
	BG.push({scriptClass:"mstrmojo.HBox",cssClass:"pattern-input",alias:BI+Ai,children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(12078,"Pattern"),cssClass:"menu-info-text"},S.copy({cssClass:"ConfDataTypePullDown MeContentPullDown HBOXPullDown"},Am(BN,BL,true))]})
	}else{BG.push(S.copy({cssClass:"ConfDataTypePullDown MeContentPullDown"},Ad(BK,BJ,BN,false)))
	BG.push(S.copy({cssClass:"ConfDataTypePullDown MeContentPullDown"},Am(BN,BL,false)))
	}}
	N.forEach(Ax.fs,function(BG){if(Ac.als&&Ac.als.links[Ax.did+" "+BG.fid]){A5=true
	return false
	}})
	if(BF){Av.forEach(function(BG){BA(Ax,BG,Ar?Ay:A3,BD,true)
	})
	}else{BA(Ax,Av[0],A3,BD,false)
	}if(Ar){A3.push({scriptClass:"mstrmojo.ui.ScrollableContainer",alias:"formList",cssClass:"formList",children:Ay})
	}A3.push({scriptClass:"mstrmojo.Label",cssClass:"advancedLabel",alias:"advancedLabel",allowHTML:true,text:"<span>"+mstrmojo.desc(702,"Advanced")+"</span>",onclick:function(){var BH=this.parent,BI,BG,BJ=true
	Aj=!Aj
	AY.toggleClass(this.domNode,"expanded",Aj)
	Av.forEach(function(BK){Ag(BH,BK,false)
	BI=Ar?BH.formList[BK.fnm+Ai]:BH[BK.fnm+Ai]
	BG=BF?BI.children[1]:BI
	if(BI.visible&&BJ&&!Ar){BJ=false
	BG.showTooltip()
	}})
	}})
	return new mstrmojo.ui.menus.EditorConfig({data:BD,cssClass:"ConfDataType-MenuEditor",contents:A3,onOpen:function(){At(this)
	},bindings:{okEnabled:"this.data.okEnabled"},fnOk:function Al(BI){var BG=[],BK=[],BH=false,BJ=function(BN,BO,BM){var BQ=[],BP=function(BR){var BS=BR.ftk&&BR.ftk.slice(2,-2)
	if(!BS){return null
	}while((BS.shift()).v!=="("){}return BS
	},BL=BP(BM)||[AW(Ax,BM)]
	BQ.push({v:"!",tp:33,lv:4})
	if(BN!==Ao){BQ.push({v:BN,oi:{did:Ak[BN],t:11,st:2816,n:BN}})
	if(!c.isEmpty(BO)&&BO!==Af&&(BN===Au||BN===A6)){BQ.push({v:'<Pattern="'+BO+'">(',tp:"2",lv:1})
	}else{BQ.push({v:"(",tp:"2",lv:1})
	}BQ=BQ.concat(BL)
	BQ.push({v:")",tp:"2",lv:1})
	}else{BQ=BQ.concat(BL)
	}BQ.push({v:"",tp:-1,lv:4})
	return mstrmojo.ME.AttributeEditBox.getTokenStreamXML({items:BQ})
	}
	if(A5){BH=true
	}else{Av.forEach(function(BL){if(BI[BL.fnm+A9+BE]===BC.TO_CREATE){BH=true
	return false
	}else{if(BI[BL.fnm+A9+BE]===BC.TO_UPDATE||(BI[BL.fnm+Ai+BE]===BC.TO_UPDATE&&(BI[BL.fnm+A9]===Au||BI[BL.fnm+A9]===A6))){BK.push(BL)
	}}})
	}if(BH){Av.forEach(function(BL){BG.push({n:BL.fnm,formula:BJ(BI[BL.fnm+A9],BI[BL.fnm+Ai],BL),bft:BI[BL.fnm+As]})
	})
	BB(BH,BG)
	}else{if(Ax.da){AP(Ac.mid,Ax.did,BK,function(BL){BL.forEach(function(BM){BG.push({did:BM.fid,formula:BJ(BI[BM.fnm+A9],BI[BM.fnm+Ai],BM),bft:BI[BM.fnm+As]})
	})
	BB(BH,BG)
	})
	}}}})
	},getCreateTimeDAEditorCfg:function B(Af,Ae){var Ac=H(Af)
	if(!Ac){return null
	}return new mstrmojo.ui.menus.EditorConfig({data:{okEnabled:false},cssClass:"CreateTimeAttribute-MenuEditor",contents:[{scriptClass:"mstrmojo.ui.CheckList",alias:"time_type",items:[{n:mstrmojo.desc(873,"Year"),v:"Year"},{n:mstrmojo.desc(10051,"Quarter of Year"),v:"QuarterOfYear"},{n:mstrmojo.desc(10050,"Quarter"),v:"Quarter"},{n:mstrmojo.desc(10049,"Month of Year"),v:"MonthOfYear"},{n:mstrmojo.desc(871,"Month"),v:"Month"},{n:mstrmojo.desc(10047,"Week of Year"),v:"WeekOfYear"},{n:mstrmojo.desc(10048,"Week"),v:"Week"},{n:mstrmojo.desc(11608,"Day of Year"),v:"DayOfYear"},{n:mstrmojo.desc(10046,"Day of Month"),v:"DayOfMonth"},{n:mstrmojo.desc(10045,"Day of Week"),v:"DayOfWeek"}],onchange:function Ad(){var Ah=false
	S.forEach(this.selectedIndices,function(Ai){if(Ai){Ah=true
	return false
	}})
	this.parent.data.set("okEnabled",Ah)
	}}],bindings:{okEnabled:function(){return this.data.okEnabled
	}},fnOk:function Ag(Al,Aj){var Ak=Aj.time_type,Ao=Ak.selectedIndices,Ai=Ak.items,An=[],Ah=[],Am=function(Ap,Ar,At){var As=[{v:"!",tp:33,lv:4}],Aq
	At.forEach(function(Au){if(Au===AN){As.push(AW(Ap,Ar))
	}else{Aq=AR[Au]
	if(Aq){As.push({v:Aq,oi:{did:Aq,t:11,st:2816,n:Aq}})
	}else{As.push({v:Au,tp:"2",lv:1})
	}}})
	As.push({v:"",tp:-1,lv:4})
	return mstrmojo.ME.AttributeEditBox.getTokenStreamXML({items:As})
	}
	S.forEach(Ao,function(Ap,Aq){if(Ap){Ah=[]
	S.forEach(Aa[Ai[Aq].v],function(Ar,As){Ah.push({n:As,formula:Am(Af,Ac,Ar),bft:(As==="DATE"?8:0)})
	})
	An.push({isTokenStream:true,forms:Ah,name:Af.n+" ("+Ai[Aq].n+")"})
	}})
	return Ae(An)
	}})
	},RefreshAndCloseAllObjectBrowserCallback:function(Ad,Ac){return mstrmojo.func.wrapMethods(Ac.getDatasetsUpdateCallback(),{success:function(){if(N.find(Ad,"act","createDataset")!==-1){Ac.controller.datasetsPanel.set("allObjectBrowserOpened",false)
	}}})
	},getUnitFromDataset:function AH(Ad,Af,Ac){var Ae=null
	S.forEach(Ad,function(Ah){var Ag=Ah.att||[]
	if(Ac===4){Ag=Ah.mx||[]
	}N.forEach(Ag,function(Ai){if(Ai.did===Af){Ae=Ai
	return false
	}})
	if(Ae){return false
	}})
	return Ae
	},getDatasetFromId:function b(Ac,Ad){var Ae=null
	S.forEach(Ac,function(Af){if(Af.did===Ad){Ae=Af
	return false
	}})
	return Ae
	},getDatasetFromAttributeId:function b(Ac,Ad){var Ae=null
	S.forEach(Ac,function(Af){if(N.find(Af.att,"did",Ad)>=0){Ae=Af
	return false
	}})
	return Ae
	},getSortedDatasetUnits:function AD(Ac,Ae){var Ad=function Ad(Af){return Af.t===AC.DssTypeMetric?2:1
	}
	Ac=Ac.concat()
	Ac.sort(function(Ai,Ag){if(!Ai||!Ag){return true
	}if(Ae){var Aj=Ai
	Ai=Ag
	Ag=Aj
	}var Ak=Ad(Ai)-Ad(Ag),Ah=Ai.n.toUpperCase(),Af=Ag.n.toUpperCase()
	return Ak!==0?Ak:(Ah!==Af?Ah.localeCompare(Af):Ai.n.localeCompare(Ag.n))
	})
	return Ac
	},isDerivedMetric:function AA(Ac){return Ac.dm||Ac.um
	},isGeoAttr:function AM(Ac,Ad){return !!(Ac.fs&&(Ac.fs instanceof Array)&&Ac.fs.length&&Ac.fs.some(function(Ae){return Ae.fgr>0&&(!Ad||(Ad&&Ae.obf))
	}))
	},isTimeAttr:function v(Ac){return !!(Ac.fs&&H(Ac))
	},isLngOrLatAttr:function AG(Ac){return !!(Ac.fs&&(Ac.fs instanceof Array)&&Ac.fs.length===1&&Ac.fs.some(function(Ad){return Ad.fgr===5||Ad.fgr===6
	}))
	},isNewDE:function E(Ac){return Ac.t===e.Consolidation&&Ac.st===AJ.ConsolidationManaged
	},isRecursiveAttr:function AK(Ac){return Ac.t===e.Attribute&&Ac.st&&Ac.st===AJ.AttributeRecursive
	},isRecursiveNDE:function j(Ac){return this.isNewDE(Ac)&&Ac.ndetype===F.DssRecursiveDerivedElement
	},getUnitCssClass:function(Ad){var Ac=Ad.t
	if(Ad.mt){Ac=Ad.mt
	}else{if(this.isGeoAttr(Ad,Ad.useAvailGeoFmsOnly)){Ac+="g"
	}else{if(this.isDerivedMetric(Ad)||Ad.da){Ac+="d"
	}else{if(Ad.de){Ac+="de"
	}else{if(this.isTimeAttr(Ad)){Ac+="t"
	}}}}}if(this.isNewDE(Ad)||this.isRecursiveAttr(Ad)){Ac+=(" st"+Ad.st)
	}if(this.isRecursiveNDE(Ad)){Ac+=" nde4ra"
	}return"ic"+Ac
	},hasMultiForms:function L(Ad,Ac){return Z.getFormsByAttrId(Ad,Ac).length>1
	},getDisplayFormsMenu:function J(At,Al,Ai,Av,Af,Ad){var Ae=[],Ar=[],Aj=[],Ap=[{n:mstrmojo.desc(2411,"Off"),v:0},{n:mstrmojo.desc(2410,"On"),v:1},{n:mstrmojo.desc(8504,"Form Name Only"),v:2},{n:mstrmojo.desc(8505,"Show Attribute Name Once"),v:3},{n:mstrmojo.desc(4531,"Automatic"),v:4}],Au=Al.model.data,Ac=Au.gts,Am=Al.hasArrayGSI,An=At.setIdx,As=Ac.col,Ah
	if(Am&&An!==undefined){As=Al.getColSetColumnTitles(Math.max(An,0))
	}N.forEach((Ac.row||[]).concat(As||[]),function(Aw){if(Aw.id===At.did){Ar=Ar.concat(Aw.fs)
	}})
	Ah=Z.getFormsByAttrId(At.attId||At.did,Ai)
	N.forEach(Ah||[],function(Ax){var Ay=Ax.fid
	if(N.find(Ae,"id",Ay)<0){Ae.push({id:Ay,n:Ax.fnm})
	var Aw=N.find(Ar,"id",Ay)
	if(Aw>-1&&(!Ad||Ad(Ax))){Aj[Ae.length-1]=true
	}}})
	var Aq=[{alias:"fs",scriptClass:"mstrmojo.ui.CheckList",minimumSelectCnt:1,items:Ae,selectedIndices:Aj},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(11918,"Display attribute form names:"),cssClass:"menu-info-text"},{alias:"longNames",scriptClass:"mstrmojo.ui.Pulldown",items:Ap,isHostedWithin:false,selectedIndex:N.find(Ap,"v",Au.lnm||0),onitemSelected:function Ak(Aw){this.v=String(Aw.v)
	}}]
	if(this.isNewDE(At)||(Al.getChartStyle&&Al.getChartStyle()==="NewGraphMatrixVisualizationStyle")){Aq.splice(-2,2)
	}return new mstrmojo.ui.menus.EditorConfig({cssClass:"displayForms",data:{item:At,oldSelected:S.copy(Aj,{})},contents:Aq,okBtnText:mstrmojo.desc(1442,"Ok"),fnOk:function Ao(BF,Az){var A5=Az.fs,A8=A5.selectedIndices,A0=A5.items,A6=[],Ay=[],A9=[]
	if(!A5.getSelectedItems().length){mstrmojo.alert("Please select at least one form!")
	return 
	}var BC=BF.oldSelected,A7=A8,BA,BB={},A1={}
	for(BA=0
	BA<A0.length
	BA++){if(BC[BA]&&!A7[BA]){BB[BA]=true
	}else{if(!BC[BA]&&A7[BA]){A1[BA]=true
	}}}if(!Af){S.forEach(BB,function(BG,BH){if(BG){Ay.push({act:"removeForm",unitId:At.did,unitType:At.t,attFormId:A0[BH].id})
	}})
	}var Aw=Al.model.data.gts
	(Aw.row||[]).concat(As||[]).forEach(function(BG){if(BG.id===At.did){(BG.fs||[]).forEach(function(BH){if(N.find(Ae,"id",BH.id)<0){Ay.push({act:"removeForm",unitId:At.did,unitType:At.t,attFormId:BH.id})
	}})
	}})
	S.forEach(A1,function(BG,BH){if(BG){A6.push({act:"addForm",unitId:At.did,unitType:At.t,attFormId:A0[BH].id,unitPos:0})
	}})
	A9.push({act:"putProperties",prs:"Template Formatting",pr:"LongNames",v:Az.longNames?Az.longNames.v:0})
	var A2=[],A3=Ay.concat(A6),BD=Al.controller.dataService(),Ax=Al.k
	if(Am){var BE=Al.gridData.gsi,A4=At.setIdx
	if(A4!==undefined&&A4>-1){A2.push(BD.getUpdateTemplateAction(mstrmojo.models.template.DataInterface.getGSI(BE,A4).k,A3,null,Ax))
	}else{mstrmojo.models.template.DataInterface.forEachGSI(BE,function(BH,BG){A2.push(BD.getUpdateTemplateAction(BG,A3,null,Ax))
	},Ax)
	}mstrmojo.models.template.DataInterface.forEachGSI(BE,function(BH,BG){A2.push(BD.getUpdateTemplateAction(BG,A9,null,Ax))
	},Ax)
	}else{A2.push(BD.getUpdateTemplateAction(Ax,A3.concat(A9)))
	}if(Av){Av(A2,A1,BB)
	}},onOpen:function Ag(){this.fs.updateScrollbars()
	}})
	},getAttributeLinkMenu:function I(Ao,Ar,Am,Aq,Ah){var As=-2147483648,Aj=Aq.datasets,Ak=Aj[Am],Ap=Ak.tables||[],Ac={},Al=[],Af=(Ar.fs&&Ar.fs[0])||{},An=[],Ai=779,Ae=Ar.art>1,Ad=!Ae&&S.keyarray(Aj).length>1,Ag=function(){mstrmojo.vi.ui.editors.AttributeLinkEditor.open({attribute:Ar,docModel:Aq,datasetId:Am})
	}
	if((Ak.st!==Ai)||Ap.length<=1||Ar.da){if(Ad){Ao.addMenuItem(mstrmojo.desc(11941,"Link to Other Dataset..."),"",Ag)
	}return 
	}N.forEach(Ak.att,function(Av){var Aw=true,Au=null,At=(Av.fs&&Av.fs[0])||{}
	if(Av.da){return 
	}if(Af.der===As||At.der===As||Af.fgr===-1||At.fgr===-1||Af.ftr===-1||At.ftr===-1){return 
	}if(Af.fgr&&At.fgr&&Af.fgr!==At.fgr){return 
	}if(Af.ftr&&At.ftr&&Af.ftr!==At.ftr){return 
	}N.forEach(Ap,function(Ax){var Ay=N.find(Ax.attRefs,"did",Ar.did),Az=N.find(Ax.attRefs,"did",Av.did)
	if(Ay>=0&&N.indexOf(Al,Ax.did)<0){Al.push(Ax.did)
	}if(Az>=0){Au=Ax.did
	}if(Ay>=0&&Az>=0){Aw=false
	}})
	if(Aw&&!Av.hide){Ac[Av.did]=Au
	An.push(Av)
	}})
	if(An.length>0&&Ak.hcs!==true&&!Aq.isSparkDataset(Ak)){Ao.addEditorMenuItem(mstrmojo.desc(13172,"Map Attributes"),"",function(){return new mstrmojo.ui.menus.EditorConfig({data:{},cssClass:"mapAttribute",okVisible:false,cancelVisible:false,contents:[{scriptClass:"mstrmojo.ui.ScrollableContainer",children:[{scriptClass:"mstrmojo.vi.ui.InteractiveUnitList",draggable:false,CLS_HAS_MENU:"",items:An,listHooks:{select:function At(Au,Av){Aq.warnForEditStandaloneDS(Ak,function(){N.forEach(Al,function(Aw){U({dsid:Am,srcId:Ar.did,srcTableId:Aw,tgtId:Av.did,tgtTableId:Ac[Av.did]},Aq,Ah)
	})
	})
	}}}]}]})
	})
	}if(Ad){Ao.addMenuItem(mstrmojo.desc(11941,"Link to Other Dataset..."),"",Ag)
	}},isDocumentLevelItem:function AI(Ac){return Ac&&(Ac.um||Ac.da||this.isNewDE(Ac))
	},isLegalObjectName:function g(Ac){var Ad=/["\[\]\\]/g
	if(Ac.match(Ad)){return false
	}return true
	},validateName:function D(Ad,Ae,Ac){if(this.isLegalObjectName(Ad)){Ae()
	}else{mstrmojo.alert(mstrmojo.desc(8622,"The # cannot contain the reserved characters ##.").replace("##","'[', ']', '\"' and '\\'").replace("#",mstrmojo.desc(945,"Name")),Ac,mstrmojo.desc(1388,"Rename"))
	}},hasCGorCon:function AL(Ac){return Ac.att.some(function(Ad){return X(Ad)
	})
	},isCGorCon:function l(Ac,Ae){var Ad=N.filterOne(Ae&&Ae.att,function(Af){return Af.did===Ac.did
	})
	return X(Ad||Ac)
	},hasOldDEOverDatasets:function(Af,Ae){var Ad=false,Ac
	S.forEach(Ae,function(Ag){Ac=N.find((Ag.att||[]),"did",Af)
	if(Ac!==-1&&Ag.att[Ac].de){Ad=true
	return false
	}})
	return Ad
	},getMarkGeoRoleEditorCfg:function P(Ac,BH,Ay,Au,BQ,BS){var As=268435456,BN=536870912,Ah=1073741824,A8=268435456,BK=805306368,BF=805306368,A2=1879048192,BR=-2147483648,BI=0,BJ=1,Aj=2,Ar=3,Aw=4,Ap=5,BP=6,Am=7,A0=8,Az=9,BA=10,At=11,Af=2,A7=3,BG={v:BI,n:mstrmojo.desc(2057,"None")},BT={v:Ar,n:mstrmojo.desc(7674,"Country"),der:As},BE={v:Aj,n:mstrmojo.desc(7676,"State"),parents:[BT],der:BN},An={v:Az,n:mstrmojo.desc(12919,"County"),parents:[BT,BE]},BL={v:BJ,n:mstrmojo.desc(7675,"City"),parents:[BT,BE],der:Ah},A3={v:A0,n:mstrmojo.desc(7677,"Zip Code"),parents:[BT,BE,BL]},Av={v:Ap,n:mstrmojo.desc(7696,"Latitude")},BB={v:BP,n:mstrmojo.desc(7697,"Longitude")},Aq={v:Aw,n:mstrmojo.desc(7675,"City")+", "+mstrmojo.desc(7676,"State")},A6={v:BA,n:mstrmojo.desc(12973,"Area Code")},BD={v:At,n:mstrmojo.desc(16630,"Geometry")},A9={v:Am,n:mstrmojo.desc(2056,"Custom")},Ax=mstrApp&&mstrApp.supportFeature&&mstrApp.supportFeature(mstrmojo.vi.enums.EnumFeatures.M2020_VERSION),Ao={ID:[BG,BT,BE,An,BL,A3,Av,BB,Aq,A6].concat(Ax?[BD,A9]:[A9]),ID_NUMERIC:[BG,A3,A6,Av,BB],NON_ID:[BG,BT,BE,An,BL,A3,Aq,A6].concat(Ax?[BD,A9]:[A9]),NON_ID_NUMERIC:[BG,A3,A6]},A4=N.filter(BH.fs,function(BU){return(BU.bftp===Af||BU.bftp===A7)&&BU.der!==BR
	})
	var BC=(A4.length>1),Ae=N.find(A4,"idf",true),Ag=(Ae===-1?0:Ae),A5=A4[Ag],Al,Ad,A1,Ai=[],Ak=function(BU){var BV=(BU.idf?"ID":"NON_ID")+(BU.bftp===Af?"_NUMERIC":"")
	return Ao[BV]
	},BO=function(BV,BU){return N.find(Ak(BU),"v",BV)
	}
	if(A4.length===0||N.find(BH.fs,"fgr",-1)!==-1||A5.der===BR){return null
	}N.forEach(A4,function(BW,BU){var BV=S.clone(BW)
	BV.n=BV.fnm
	Ai.push(BV)
	if(BW.fgr){A5=BV
	Ag=BU
	}})
	Al=A5.fid
	A1=A5.fgr||0
	Ad=BO(A1,A5)
	return new mstrmojo.ui.menus.EditorConfig({data:{item:BH,geoForm:A5,geoRole:A1},cssClass:"MarkGeoRole-MenuEditor",contents:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(13522,"Select Attribute Form:"),visible:BC},{scriptClass:"mstrmojo.ui.Pulldown",isHostedWithin:false,cssClass:"MarkGeoRolePullDown",items:Ai,selectedIndex:Ag,alias:"formList",visible:BC,onitemSelected:function BM(BW){var BU=this.parent.data,BV=this.parent.geoRoleList
	if(BU.geoForm.fid!==BW.fid){BU.set("geoForm",BW)
	BU.set("geoRole",BW.fgr)
	BV.set("items",Ak(BW))
	BV.set("selectedIndex",BO(BW.fgr,BW))
	}}},{scriptClass:"mstrmojo.ToolSeparator",visible:BC,markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod}},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(13523,"Select Geographic Type:"),cssClass:"menu-info-text"},{scriptClass:"mstrmojo.ui.Pulldown",isHostedWithin:false,cssClass:"MarkGeoRolePullDown",items:Ak(A5),selectedIndex:Ad,alias:"geoRoleList",onitemSelected:function BM(Ba){var BZ=this.parent,BU=BZ.data,Bb=BZ.geoDrvList
	var BW=[],BY=[],BV=A5.der,BX
	BU.set("geoRole",Ba.v)
	N.forEach(Ba.parents,function(Bc,Bd){BX=Bc
	BW.push({n:BX.n,der:BX.der})
	if((BV&BX.der)!==0){BY[Bd]=true
	}})
	Bb.set("items",BW)
	Bb.set("selectedIndices",BY)
	N.forEach(["geoDrvSeparator","geoDrvLabel","geoDrvList"],function(Bc){BZ[Bc].set("visible",BW.length>0)
	})
	if(BZ.adjustCornersForPopupOverflow){BZ.adjustCornersForPopupOverflow()
	}}},{scriptClass:"mstrmojo.ToolSeparator",markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},alias:"geoDrvSeparator"},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(13524,"(Optional) Create Additional Attributes:"),alias:"geoDrvLabel",cssClass:"menu-info-text"},{scriptClass:"mstrmojo.ui.CheckList",alias:"geoDrvList"}],fnOk:function(BZ,BY){var BV=function(Bj){var Bi=function(Bo){var Bp="<mpcs>"
	N.forEach(Bo,function(Bq){Bp+='<mpc did="'+Bq.did+'" n="'+Bq.n+'" georole="'+Bq.georole+'" drvflg="'+Bq.drvflg+'" />'
	})
	Bp+="</mpcs>"
	return Bp
	},Bb=function(Bo,Bq,Bs,Bp){var Br=function(Bw,Bt,Bv){var Bu=q(Bj,Bw,Bt),Bx=z(Bu,Bv)
	return Bx&&Bx.did
	}
	BQ.forEach(function(Bt,Bu){var Bv=Br(Bt.did,BH.did,Bq.fid)
	if(Bv){Bo[Bu]=Bo[Bu]||[]
	Bo[Bu].push({did:Bv,n:Bq.fnm,georole:Bs,drvflg:Bp})
	}})
	},Bf=[],Bn=[],Bk=BY.geoDrvList,Bl=0,Bd=false,Bh=false,Bm={2:A8,1:BK,9:BF,8:A2}[BZ.geoRole]||0,Bc=A5.fgr!==BZ.geoRole,Bg=A5.fid!==BZ.geoForm.fid,Be
	S.forEach(Bk.selectedIndices,function(Bp,Bo){if(Bp){Bl|=Bk.items[Bo].der
	}})
	Bl&=Bm
	Be=A5.der!==Bl
	if(Bc||Bg||Be){if(BC&&Bg){if(A5.fgr!==BI){Bb(Bn,A5,BI,0)
	if(A5.der>0){Bd=true
	}}}if(BZ.geoForm.fgr!==BZ.geoRole||BZ.geoForm.der!==Bl){Bb(Bn,BZ.geoForm,BZ.geoRole,Bl)
	if((Bl&BZ.geoForm.der)!==BZ.geoForm.der){Bd=true
	}}if(Bc){Bh=true
	}if(Bn.length>0){Bn.forEach(function(Bp,Bo){Bf.push({act:"changeEMMAMapping",dsid:Ay,tbid:BQ[Bo].did,mapping:Bi(Bp)})
	})
	BS(Bf,Bd||Bh)
	}}},BW=function(){AQ(Ac.mid,Ay,{success:BV})
	}
	var BX=mstrApp.isAppStatePause()
	if(!Au||BX){var Ba,BU=BX?mstrmojo.desc(212,"Continue"):mstrmojo.desc(219,"Yes")
	if(Au){Ba=mstrmojo.desc(16237,"The operation requires the dataset to be unloaded from memory. It will be automatically reloaded when you resume data retrieval. Do you want to continue?")
	}else{Ba=BX?mstrmojo.desc(16236,"The operation requires modifying the dataset and unloading it from memory. It will be automatically reloaded when you resume data retrieval, however the change will also affect other reports, documents, and dossiers that share the dataset. Do you want to continue?"):mstrmojo.desc(15493,"Modifications to this dataset will affect other reports, documents, and dossiers that share the dataset. Do you want to continue?")
	}mstrmojo.warn(Ba,{},{buttons:[C(BU,function(){BW()
	},true,{cssText:"min-Width: 60px"}),C(mstrmojo.desc(221,"Cancel"),function(){})]})
	}else{BW()
	}}})
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.dom","mstrmojo.elementHelper","mstrmojo.func","mstrmojo.VisEnum","mstrmojo.num","mstrmojo.array","mstrmojo.VisMenuList","mstrmojo.mstr.EnumFunction","mstrmojo._HasMarkup","mstrmojo.chart.model.enums.EnumDSSObjectType","mstrmojo.models.FormatModel","mstrmojo._FormatDefinition","mstrmojo.css","mstrmojo.chart.enums.EnumFontStyle","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo.chart.model.enums.EnumDSSBaseFormType","mstrmojo.string","mstrmojo.vi.viz.EnumVizStyles","mstrmojo.vi.enums.EnumFeatures","mstrmojo.vi.ui.rw.GhostImageContainer","mstrmojo.vi.ui.rw.FreezingImageContainer","mstrmojo.gm.GMEnums")
	mstrmojo.requiresClsP("mstrmojo.ui.menus","MenuConfig","EditorConfig")
	var N=document.getElementById("vis-measure-canvas"),r=[],F=document.getElementById("vis-measure-span"),n={},W={},An={},M={},z={},AK=mstrmojo.dom,h=mstrmojo.elementHelper,AZ=mstrmojo.vi.ui.DatasetUnitMenuUtils,X=mstrmojo.VisEnum.EnumColorRankMode,x=mstrmojo.chart.model.enums.EnumDSSObjectType,Aj=mstrmojo.chart.model.enums.EnumDSSBaseFormType,AV=mstrmojo.models.FormatModel.ENUM_PROPERTY_NAMES,Ab=mstrmojo.chart.enums.EnumFontStyle,Z=mstrmojo.hash,f=mstrmojo.string,Al=mstrmojo.func.wrapMethods,b=mstrmojo.VisEnum,Q=mstrmojo._FormatDefinition,Ar=b.SERVER_JSON_ERROR_TYPE,AD=mstrmojo.vi.viz.EnumVizStyles,AP=mstrmojo.vi.enums.EnumFeatures,E=mstrmojo.vi.ui.rw.FreezingImageContainer,Ai=mstrmojo.vi.ui.rw.GhostImageContainer,Ap=mstrmojo.gm.EnumDefaultProperty,AX=mstrmojo.gm.WidgetPropertyTag,k=mstrmojo.gm.FormatingPropertyTag,j=mstrmojo.num
	var AB=64,AL=128,C=4,AG=5,e=6,G=7,l=mstrmojo,S=l.array,Am=mstrmojo.array,A=l.desc,q=l.mstr.EnumFunction,U=mstrmojo.vi.enums.EnumDerivedElementType,Ag=l._HasMarkup,Ak=l.css,m=/img.*?src.*=/g
	var P
	var g=NaN
	var c=false
	mstrmojo.requiresDescs(221,358,1422,2122,6017,5868,5869,11819,11827)
	function Aq(Aw,Av){var Au=mstrmojo.VisUtility
	var Ax=Au.pluck(Av,"tid"),Ay=Au.pluck(Av,"eid"),At=(Aw.getDocModel&&Aw.getDocModel())||Au.getPropertyByPath(Aw,"model.docModel")
	if(Au.getPropertyByPath(At,"getColorBy") instanceof Function){return At.getColorBy(Ax,Ay)
	}}function Ah(At,Av,Ax){var Aw=Av.id,Au=Av.getHost()
	if(Au&&Au.observableModel){At.forEach(function(Az){var Ay=Au.observableModel[Az]
	if(Ay){Ay.attachEventListener("valueChanged",Aw,Ax)
	}})
	}}function As(Au){var At={SINGLE:[{text:A(358,"Absolute"),value:q.FunctionAbs,n:A(358,"Absolute"),v:q.FunctionAbs}],PAIR:[{text:A(6017,"Add"),value:q.FunctionAdd,n:A(6017,"Add"),v:q.FunctionAdd},{text:A(2122,"Average"),value:q.FunctionAverage,n:A(2122,"Average"),v:q.FunctionAverage},{text:A(5868,"Least"),value:q.FunctionLeast,n:A(5868,"Least"),v:q.FunctionLeast},{text:A(5869,"Greatest"),value:q.FunctionGreatest,n:A(5869,"Greatest"),v:q.FunctionGreatest},{text:"A-B",value:q.FunctionMinus+"
	0",n:"A-B",v:q.FunctionMinus+"
	0"},{text:"B-A",value:q.FunctionMinus+"
	1",n:"B-A",v:q.FunctionMinus+"
	1"},{text:"A/B",value:q.FunctionDivide+"
	0",n:"A/B",v:q.FunctionDivide+"
	0"},{text:"B/A",value:q.FunctionDivide+"
	1",n:"B/A",v:q.FunctionDivide+"
	1"}],MORE:[{text:A(6017,"Add"),value:q.FunctionAdd,n:A(6017,"Add"),v:q.FunctionAdd},{text:A(2122,"Average"),value:q.FunctionAverage,n:A(2122,"Average"),v:q.FunctionAverage},{text:A(5868,"Least"),value:q.FunctionLeast,n:A(5868,"Least"),v:q.FunctionLeast},{text:A(5869,"Greatest"),value:q.FunctionGreatest,n:A(5869,"Greatest"),v:q.FunctionGreatest}]}
	return At[Au]
	}function AU(Au,At){return !!(((Au&&Au.at)||0)&At)
	}function a(At){return !At.cmSelCells.some(function(Au){var Av=At.getCellForNode(Au)
	return h.isNonGroupNull(Av)||!AU(Av,AB)||Av.dei!==undefined||At.model.isRecursiveAttribute(Av.tid)
	})
	}function u(Au){var At
	return !Au.cmSelCells.some(function(Av){At=Au.getCellForNode(Av)
	return(h.isNonGroupNull(At)||!AU(At,AL))||Au.model.isRecursiveAttribute(At.tid)
	})
	}function Ao(Aw,At){var Av=Aw&&At&&Aw.getCellForNode(At),Au=Av&&Aw.getDEInfo(Av)
	return Au&&Au.de
	}function Y(Ax,Aw,Az,Av){if(Av){var Au=Aw&&Ax.getDEInfo(Aw),Ay=Au&&Au.de,At=Ay&&Ay.func
	if((At===Az)||(typeof Az==="string"&&Az.indexOf(At)===0&&Az.indexOf("
	0")>0)){return 
	}Ax.editDECalculation(Aw,Az)
	}else{Ax.derivedElementCalculation(Aw,Az)
	}}function v(A5,A3,A1){var A4=A3&&A3.es,At=(A4&&A4.length)||A5.cmSelCells.length,Aw=(At===1)?"SINGLE":((At===2)?"PAIR":"MORE"),A2=As(Aw),Av=(A3&&A3.func),Ax,A6=A5.cmSelCells,Au,A0,Az,Ay
	if(Aw==="PAIR"){if(A3){Ay=A4[0].v>A4[1].v
	if(Ay){Az=A4[0].n
	A0=A4[1].n
	A2[4]={value:q.FunctionMinus+"
	1",v:q.FunctionMinus+"
	1"}
	A2[5]={value:q.FunctionMinus+"
	0",v:q.FunctionMinus+"
	0"}
	A2[6]={value:q.FunctionDivide+"
	1",v:q.FunctionDivide+"
	1"}
	A2[7]={value:q.FunctionDivide+"
	0",v:q.FunctionDivide+"
	0"}
	}else{A0=A4[0].n
	Az=A4[1].n
	}}else{A0=A1(A6[0])
	Az=A1(A6[1])
	}A2[C].text=A0+" - "+Az
	A2[AG].text=Az+" - "+A0
	A2[e].text=A0+" / "+Az
	A2[G].text=Az+" / "+A0
	A2[C].n=A0+" - "+Az
	A2[AG].n=Az+" - "+A0
	A2[e].n=A0+" / "+Az
	A2[G].n=Az+" / "+A0
	}for(Ax in A2){if(typeof A2[Ax].value==="string"&&A2[Ax].value.indexOf(Av)===0&&A2[Ax].value.indexOf("
	0")>0){Au=A2[Ax]
	break
	}if(A2[Ax].value===Av){Au=A2[Ax]
	break
	}}return{items:A2,selectedItem:Au}
	}function AC(At,Aw){if(!At){return At
	}if(Aw.length===1){return At[Aw[0]]
	}var Av=(Aw&&Aw.length)||0,Au
	for(Au=0
	Au<Av
	Au++){At=At[Aw[Au]]
	if(!At){break
	}}return At
	}function AW(Av,Au,At){return Av.every(function(Aw){return Aw.ttp===Au||Aw.ttp===At
	})
	}function H(Au,Ax,Ay){var Aw=(Ax&&Ax.length)||0,Av,At,Az=Au
	for(Av=0
	Av<Aw-1
	Av++){At=Ax[Av]
	if(!Az[At]){Az[At]={}
	}Az=Az[At]
	}Az[Ax[Aw-1]]=Ay
	}function AJ(A1){var A2,A0,Aw,Ay,At,Az=this.model.docModel.datasets,Au=false,Ax=false,Av={isDM:false}
	for(A2 in Az){if(Az.hasOwnProperty(A2)){A0=Az[A2].mx
	S.forEach((A0||[]),function(A3){if(A3.did===A1){if(A3.um||A3.rdm){Ax=true
	}Au=true
	return false
	}})
	if(Au){break
	}}}if(Ax){At=this.model.data.gts.col
	Aw=(At&&At[At.length-1])
	if(Aw&&Aw.otp===-1){Ay=Aw.es
	}S.forEach((Ay||[]),function(A3){if(A3.oid===A1){Av={isDM:true,id:A3.id}
	return false
	}})
	}return Av
	}function K(At,Aw){var Az=[],Av={act:"updateElementsPropertiesMap",epm:Az},Ax=[],Au={},A1=[Au],A0=this
	Az.push({epmk:Ax,epmv:A1})
	At.forEach(function(A3){var A4=A3.tid,A6=A3.tp,A2=A4===-1,A5={ob:{did:A2?"":A4,tp:A6}}
	Ax.push(A5)
	})
	if(Aw&&Aw.indexOf("default")<0){Au.v={vv:Aw}
	}var Ay=[]
	Au.k={chn:Ay}
	At.forEach(function(A4){var A5=A4.tid,A2=A5===-1,A3
	if(A2){A3=AJ.call(A0,A4.eid)
	if(A3.isDM){Ay.push({emt:2,ei:A3.id})
	}else{Ay.push({emt:2,mt:{did:A4.eid,tp:4,ql:0}})
	}}else{Ay.push({emt:1,ei:A4.eid,at:{did:A5,tp:A4.tp,ql:0}})
	}})
	return Av
	}function AQ(Ax,Av){var Aw="00000000000000000000000000000000",Au=Ax&&Ax.dropZones,At=S.find(Au,"id",Av)
	return At===-1?[]:S.filter(Au[At].items,function(Ay){return Ay.t===4&&Ay.id!==Aw
	})
	}function AO(Ay,Av,Ax,Au,At){var Az=Au?Ay:Ay&&Ay.parentNode
	while(Az&&(Az!==At)){var Aw=Az.getAttribute&&Az.getAttribute(Av)
	if(Aw!==null&&Aw.indexOf(Ax)>=0){return true
	}Az=Az.parentNode
	}return false
	}function AH(Au,Av){var At=Z.walk("rootCtrl.docCtrl",mstrApp)
	if(At&&(typeof At.selectViPanel==="function")){At.selectViPanel(Av)
	}Au.getDocModel().selectVIUnit(Au.parent.id,true)
	}mstrmojo.VisUtility=mstrmojo.provide("mstrmojo.VisUtility",{setMeasuringOptFlag:function(At){c=At
	},detectMinimumFontSize:function(){if(AK.isChrome){var Av="I am a sample string, I am a sample string, I am a sample string.",Ax,At={fontFamily:"Open Sans",fontSize:"1pt",fontStyle:"normal",fontWeight:"normal",textDecoration:"none"},Aw=this.measureTextWidthWithSpan(Av,At,0,undefined,true,true,true)
	for(var Au=2
	Au<72
	++Au){At.fontSize=Au+"pt"
	Ax=this.measureTextWidthWithSpan(Av,At,0,undefined,true,true,true)
	if(Ax>Aw){g=Au
	break
	}}}},getCache:function(){return JSON.stringify(z)
	},getUpdateColorMapAction:function(Au,At){return K.call(this,Au,At)
	},measureTextSize:function(Au,At,Av){return{width:this.measureTextWidth(Au,At,Av),height:this.measureTextHeight(Au,At,Av)}
	},measureTextSizeOpt:function(Au,At,Av){return{width:this.measureTextWidth(Au,At,Av),height:this.measureTextHeight("H",At,Av)}
	},measureTextWidth:function(Ax,Aw,Ay,Av,At,Au){if(AK.isIE||AK.isIEW3C){return this.measureTextWidthWithSpan(Ax,Aw,Ay,Av,At)
	}else{if(AK.isChrome){if(isNaN(g)){this.detectMinimumFontSize()
	}if(parseInt(Aw.fontSize)>=g){return c?this.measureTextWidthWithCanvasOpt(Ax,Aw,Ay):this.measureTextWidthWithCanvas(Ax,Aw,Ay)
	}else{return this.measureTextWidthWithSpan(Ax,Aw,Ay,Av,At,false,Au)
	}}}return this.measureTextWidthWithCanvas(Ax,Aw,Ay)
	},measureTextWidthWithCanvas:function(Av,Aw,Az,Ax){Ax=Ax||false
	if(Av===""){return 0
	}if(Av===" "){Av="\u00A0"
	}var Ay=Aw.fontFamily,A1=Aw.fontSize,Au=Aw.fontStyle,A0=Aw.fontWeight
	if(typeof A1==="number"){A1+="pt"
	}Au=Au||"normal"
	A0=A0||"normal"
	Az=Az||0
	var At=Ax?undefined:AC(n,[Ay,A1,Au,A0,Av])
	if(!At){At=Math.ceil(this.measureOnCanvas(Av,Ay,A1,Au,A0).width)
	H(n,[Ay,A1,Au,A0,Av],At)
	}return At+Az
	},getHundredCharSet:function(At){var Av=""
	for(var Au=0
	Au<100
	++Au){Av+=At
	}return Av
	},measureOnCanvas:function(Av,At,Ax,Ay,Au){if(!N){N=document.createElement("canvas")
	N.width=0
	N.height=0
	N.id="vis-measure-canvas"
	N.style.position="absolute"
	N.style.top="0"
	N.style.fontSize="medium"
	document.body.appendChild(N)
	}var Aw=N.getContext("2d")
	Aw.font=Ay+" "+Au+" "+Ax+" "+this.surroundWithQuotes(At)
	return Aw.measureText(Av)
	},measureTextWidthWithCanvasOpt:function(Aw,Ax,A1,Az){Az=Az||false
	if(Aw===""||typeof (Aw)!=="string"){return 0
	}if(Aw===" "){Aw="\u00A0"
	}var A0=Ax.fontFamily,A4=Ax.fontSize,Av=Ax.fontStyle,A2=Ax.fontWeight
	if(typeof A4==="number"){A4+="pt"
	}Av=Av||"normal"
	A2=A2||"normal"
	A1=A1||0
	var Au=Az?undefined:AC(W,[A0,A4,Av,A2,Aw])
	if(!Au){var Ay,A3,At
	Au=0
	for(Ay=0
	Ay<Aw.length
	++Ay){A3=Aw[Ay]
	At=Az?undefined:An[A0+A4+Av+A2+":"+A3]
	if(!At){At=this.measureOnCanvas(this.getHundredCharSet(A3),A0,A4,Av,A2).width/100
	An[A0+A4+Av+A2+":"+A3]=At
	}Au+=At
	}Au=Math.ceil(Au)
	H(W,[A0,A4,Av,A2,Aw],Au)
	}return Au+A1
	},measureTextWidthQuick:function(Av,Aw,Az,Ax){Ax=Ax||false
	if(Av===""){return 0
	}if(Av===" "){Av="\u00A0"
	}var Ay=Aw.fontFamily,A1=Aw.fontSize,Au=Aw.fontStyle,A0=Aw.fontWeight
	if(typeof A1==="number"){A1+="pt"
	}Au=Au||"normal"
	A0=A0||"normal"
	Az=Az||0
	var At=Ax?undefined:AC(n,[Ay,A1,Au,A0,Av])
	if(!At){At=Math.ceil(this.measureOnCanvas(Av,Ay,A1,Au,A0).width)
	H(n,[Ay,A1,Au,A0,Av],At)
	}return At+Az
	},measureTextWidthWithSpan:function(Ax,Ay,A2,A4,Az,At,Av){if(Ax===""){return 0
	}if(Ax===" "){Ax="\u00A0"
	}var A0=Ay.fontFamily,A5=Ay.fontSize,Aw=Ay.fontStyle,A1=Ay.fontWeight
	if(typeof A5==="number"){A5+="px"
	}Aw=Aw||"normal"
	A1=A1||"normal"
	A4=A4||"auto"
	A2=A2||0
	Az=!!Az
	if(typeof A4==="number"){A4+="px"
	}var Au=AC(M,[A0,A5,Aw,A1,A4,Ax])
	if(!Au||At){var A3
	if(!F){F=document.createElement("span")
	A3=F.style
	F.id="vis-measure-span"
	A3.position="absolute"
	A3.top="0"
	A3.visibility="hidden"
	A3.width="auto"
	A3.height="auto"
	if(Az){A3.whiteSpace="nowrap"
	}else{A3.whiteSpace="normal"
	}document.body.appendChild(F)
	}A3=F.style
	if(Az){A3.whiteSpace="nowrap"
	}else{A3.whiteSpace="normal"
	}A3.width="auto"
	A3.height=A4
	A3.fontFamily=this.surroundWithQuotes(A0)
	A3.fontSize=A5
	A3.fontStyle=Aw
	A3.fontWeight=A1
	F.innerHTML=f.encodeHtmlString(Ax,Av)
	Au=Math.floor(F.clientWidth)+1
	H(M,[A0,A5,Aw,A1,A4,Ax],Au)
	}return Au+A2
	},measureTextHeight:function(Av,Aw,A1,A4,At,Ay,Ax){if(Av===""){return 0
	}if(Av===" "){Av="\u00A0"
	}var Az=Aw.fontFamily,A6=Aw.fontSize,Au=Aw.fontStyle,A0=Aw.fontWeight,A3=Aw.lineHeight||"1"
	At=At||"normal"
	Ax=!!Ax
	if(typeof A6==="number"){A6+="px"
	}Au=Au||"normal"
	A0=A0||"normal"
	A4=A4||"auto"
	A1=A1||0
	if(typeof A4==="number"){A4+="px"
	}var A5=Ay?undefined:AC(z,[Az,A6,Au,A0,A4,Av])
	if(!A5){var A2
	if(!F){F=document.createElement("span")
	A2=F.style
	F.id="vis-measure-span"
	A2.position="absolute"
	A2.top="0"
	A2.visibility="hidden"
	A2.width="auto"
	A2.height="auto"
	if(Ax){A2.whiteSpace="nowrap"
	}else{A2.whiteSpace="normal"
	}document.body.appendChild(F)
	}A2=F.style
	if(Ax){A2.whiteSpace="nowrap"
	}else{A2.whiteSpace="normal"
	}A2.heigth="auto"
	A2.width=A4
	A2.lineHeight=A3
	A2.fontFamily=this.surroundWithQuotes(Az)
	A2.fontSize=A6
	A2.fontStyle=Au
	A2.fontWeight=A0
	A2.wordBreak=At
	F.textContent=Av
	A5=F.clientHeight
	if(!Ay){H(z,[Az,A6,Au,A0,A4,Av],A5)
	}}return A5+A1
	},getVisEmptyMsg:function(At,Au){var Av=""
	switch(At){case"AE_ERROR":Av='<div class="gm-vis-msg-container"><div class="gm-vis-msg-vcenter"><div class="gm-vis-msg-hcenter"><div style="padding:25px"><div class="gm-warning-icon" style="padding-bottom:18px"></div><div style="padding-bottom:8px">'+(f.encodeHtmlString(Au||this.errorMsg,true)||"")+"</div><div></div></div></div></div></div>"
	break
	case"NODATA_OTHERERROR":Av='<div class="error-msg"><div class="error-content"><div class="text" style="visibility: visible
	padding-top:0px
	"><div>'+(mstrmojo.desc(2388,"No data returned for this view. This might be because the applied filter excludes all data."))+"</div></div></div></div>"
	break
	default:Av='<div class="mstrmojo-Label dropMsg" style="display: block
	" >'+mstrmojo.desc(11668,"Drag objects here.")+"</div>"
	}return Av
	},getVisEmptyMsgControls:function B(){var Av=this.error,A2,Az=this.errorType,Au,Ax=mstrConfig&&mstrConfig.pluginsVisList,A1
	var Aw=mstrmojo.VisUtility
	if(this.excludeData){A2=Aw.getVisStyle.call(this)
	var Ay=Aw.getAttMetricCount.call(this)
	return[{scriptClass:"mstrmojo.vi.ui.rw.FreezingImageContainer",cssClass:A2,visName:mstrConfig.pluginsVisList[A2]&&mstrConfig.pluginsVisList[A2].d,visDropzoneMsg:E.getVisDropzoneMsg(Ay.attCount,Ay.metricCount)}]
	}if(!this.hasError()){return 
	}switch(Az){case Ar.NO_DATASET:case Ar.NO_TEMPLATE_UNIT:if(mstrApp&&mstrApp.supportFeature&&mstrApp.supportFeature(AP.SUPPORT_GHOST_IMG)){A2=Aw.getVisStyle.call(this)
	var A3="",A0="",At=""
	if(A2===AD.HEAT_MAP){A3="heatmap"
	A0=mstrmojo.desc(11819,"Heat Map")
	At=Ai.getVisDesc("heatmap")
	}else{if(A2===AD.NETWORK){A3="network"
	A0=mstrmojo.desc(11827,"Network")
	At=Ai.getVisDesc("network")
	}else{if(A2===AD.KPICARD){A3="kpicard"
	A0=mstrmojo.desc(15800,"KPI")
	At=Ai.getVisDesc("kpicard")
	}else{if(this.isCustomVis){A3=A2||""
	A1=(Ax&&Ax[A2]&&Ax[A2].d)||A2
	A0=A1||mstrmojo.desc(14402,"CUSTOM VISUALIZATION")
	At=this.errorDetails
	}}}}Au=[{scriptClass:"mstrmojo.vi.ui.rw.GhostImageContainer",cssClass:A3,visName:A0,visDesc:At}]
	}else{Au=[{scriptClass:"mstrmojo.Label",cssClass:"dropMsg",text:Av}]
	}break
	case Ar.AE_ERROR:Au=[{scriptClass:"mstrmojo.Container",cssClass:"error-msg",markupString:Aw.getVisEmptyMsg("AE_ERROR",Av),markupSlots:{containerNode:function(){return this.domNode
	}}}]
	break
	default:Au=[{scriptClass:"mstrmojo.Container",cssClass:"error-msg",markupString:'<div class="{@cssClass}"><div class="error-content" style="visibility: visible">'+Av+"</div></div>",markupSlots:{containerNode:function(){return this.domNode
	}}}]
	break
	}return Au
	},applyStyles2DomNode:function(Ay,A1){var At,Az=Ay.style
	if(Object.prototype.hasOwnProperty.call(A1,"backgroundColor")&&A1.backgroundColor!==""&&A1.backgroundColor!=="transparent"){var Ax=1
	if(Object.prototype.hasOwnProperty.call(A1,"opacity")&&A1.opacity!==""){Ax=A1.opacity
	}var Au=A1.backgroundColor,A0=function A0(A2){if(isNaN(A2)){A2=0
	}A2%=16777216
	return{b:A2%256,g:(A2>>8)%256,r:(A2>>16)%256}
	},Aw=""
	if(Au){var Av=function Av(A3,A4){if(A3==="transparent"){return"rgba(0,0,0,0)"
	}A3=this.parseCSSColor(A3,false)
	var A2=A0(A3)
	return"rgba("+A2.r+" ,"+A2.g+" ,"+A2.b+" ,"+A4+" )"
	}.bind(this)
	if(Au.c1!==undefined&&Au.c2!==undefined&&Au.or!==undefined){Aw=(Ak.buildGradient(Au.or,Av(Au.c1,Ax),Av(Au.c2,Ax))).v
	}else{Aw=Av(Au,Ax)
	}Az.background=Aw
	}}else{Az.backgroundColor="rgba(0,0,0,0)"
	}for(At in A1){if(At!=="backgroundColor"&&At!=="opacity"&&Object.prototype.hasOwnProperty.call(A1,At)&&A1[At]&&A1[At]!==""){Az[At]=A1[At]
	if(At==="fontFamily"){Az[At]="'"+A1[At]+"'"
	}}}},parseCSSColor:function(Ax,Au){var At,Av
	if(Ax.length===7){if(Au===true){At=Ax[5]+Ax[6]+Ax[3]+Ax[4]+Ax[1]+Ax[2]
	}else{At=Ax.slice(1)
	}}else{At=[]
	var Aw=Ax.slice(1)
	if(Au===true){for(Av=2
	Av>=0
	Av--){At.push(Aw[Av])
	At.push(Aw[Av])
	}}else{for(Av=0
	Av<3
	Av++){At.push(Aw[Av])
	At.push(Aw[Av])
	}}At=At.join("")
	}return parseInt(At,16)
	},positionDomNode:function(Av,Ax){var Au,A0,Ay,Aw=["width","height","top","left","right","bottom"],Az=Aw.length,At=Av.style
	for(Au=0
	Au<Az
	Au++){A0=Aw[Au]
	Ay=Ax[A0]
	if(Ay!==undefined){if((typeof Ay)==="number"){Ay+="px"
	}At[A0]=Ay
	}}},getComputedFontStyle:function J(Av){var At=mstrmojo.css.getComputedStyle(Av)
	var Aw={}
	Aw.fontFamily=At.fontFamily
	Aw.fontSize=At.fontSize
	Aw.fontStyle=At.fontStyle
	Aw.fontWeight=At.fontWeight
	Aw.fontVariant=At.fontVariant
	var Au=parseInt(At.paddingLeft)||0,Ax=parseInt(At.paddingLeft)||0
	Aw.bonus=Au+Ax
	return Aw
	},splitWordIfTooLong:function(A3,A1,Aw){var Az=[]
	var A0=A3.length
	var Ax
	for(Ax=0
	Ax<A0
	Ax++){var Au=A3[Ax]
	while(true){var A4=this.measureTextWidth(Au,Aw)
	if(A4>A1){var A2=(A1/A4)*Au.length
	var At=Math.max(Math.round(A2),1)
	while(At>0){var Ay=Au.substr(0,At)
	var Av=Math.round(this.measureTextWidth(Ay,Aw))
	if(Av<=A1||At===1){Az.push(Ay)
	break
	}else{At--
	}}Au=Au.substr(At,Au.length-At)
	}else{Az.push(Au)
	break
	}}}return Az
	},measureTotalTextSizeSplitting:function AF(Ay,Ax,A1,A0){Ay=(Ay!==undefined&&Ay!==null)?Ay.trim():Ay
	if(!Ay||Ay.length===0){return{width:0,height:0}
	}var A2=Ay.split(" "),Aw=0,Az=A2.length,Av,At=[],Au=this.measureTextWidth(" ",Ax,A1)
	for(Av=0
	Av<Az
	++Av){At.push(this.measureTextWidth(A2[Av],Ax,A1))
	}Aw=this.getTextWidthSplitting(At,Au,A0)
	if(A0){return{width:Aw,height:this.measureTextHeight("H",Ax,A1)*(Az===1?1:2)}
	}else{return{width:Aw,height:this.measureTextHeight("H",Ax,A1)}
	}},getTextWidthSplitting:function AN(Au,Av,A3){var A1=0,A2=Au.length,Az,Ay
	if(A3){var A0,Ax,A4=0,At=Infinity,Aw=Infinity
	for(Az=1
	Az<A2
	++Az){A0=0
	Ax=0
	for(Ay=0
	Ay<Az
	++Ay){if(Ay!==0){A0+=Av
	}A0+=Au[Ay]
	}for(Ay=Az
	Ay<A2
	++Ay){Ax+=Au[Ay]
	if(Ay!==A2-1){Ax+=Av
	}}Aw=Math.max(A0,Ax)
	if(Aw<At){At=Aw
	A4=Az
	}if(A0>=Ax){break
	}}return A2===1?Au[0]:At
	}else{for(Az=0
	Az<A2
	++Az){A1+=Au[Az]
	}A1+=(A2-1)*Av
	return A1
	}},truncateTextToLineWithWordWrap:function t(BJ,BC,BA,Az,BB,A3){var A7=BJ.split(" "),BD=A7.length
	if(!A3){A7=this.splitWordIfTooLong(A7,BA,BC)
	}var BQ,A5=[],BL=[],At=0,Ax=A7.length,BS=this.measureTextWidth(" ",BC),Aw=0,A2=false,A9=(BD===A7.length)
	BL.push(0)
	for(BQ=0
	BQ<Ax
	BQ++){var BH=this.measureTextWidth(A7[BQ],BC)
	if(!A3&&BH>BA){var Au=A7[BQ]
	var BO=(BA/BH)*Au.length
	A7[BQ]=Au.substr(0,parseInt(BO,10))
	BH=BA
	}A5.push(BH)
	At+=BH
	BL.push(At)
	if(BQ!==Ax-1){At+=BS
	}}var BN,BP,BF=Az
	for(BN=0,BP=0
	BP<BL.length
	){var A1=BL[BP]-BL[BN]
	if(BN>0&&BP!==BN){A1-=BS
	}var A0=BL[BP+1]-BL[BN]
	if(BN>0&&BP+1!==BN){A0-=BS
	}if(A1<=BA&&((BP+1===BL.length)||(A0>BA))){Aw=Math.max(Aw,A1)
	BF--
	if(BF===0||BP===Ax){break
	}else{BN=BP
	BP++
	}}else{BP++
	}}if(BP>Ax){BP=Ax
	}var A4=BL[BP]-BL[BN]
	if(BN>0&&BP!==BN){A4-=BS
	}var BI
	if(BP>=Ax&&A4<BA){BI=A7.join(" ")
	}else{A2=true
	Aw=BA
	BI=A7.slice(0,BP).join(" ")
	var A6=this.measureTextWidth("...",BC)
	if(A4+A6<=BA){if(A4+BS+A6>BA){BI+="..."
	}else{var BR=A7[BP],A8
	for(var BE=1
	BE<BR.length
	BE++){A8=this.measureTextWidth(BR.substr(0,BE),BC)
	if(A4+BS+A8+A6>BA){break
	}}BI+=" "+BR.substr(0,BE-1)+"..."
	}}else{if(BI.charAt(BI.length-1)===" "){BI=BI.substr(0,BI.length-1)
	}var BG=BI.lastIndexOf(" ")
	var Av=BI.length-1-BG
	if(Av===3){BI=BI.substr(0,BI.length-3)+" ..."
	}else{var BK=0,Ay="",BM=0
	while(BK<A6&&BI.length>BM){BM++
	Ay=BI.substr(BI.length-BM,BI.length)
	BK=this.measureTextWidth(Ay,BC)
	}BI=BI.substr(0,BI.length-BM)+"..."
	}}}if(BB){return{text:BI,truncated:A2,maxLineLen:Aw,canWordWrap:A9}
	}return BI
	},measureSuperTextWidth:function AE(Au,Av,At,Aw){return Au?this.measureTextWidth("<sup>"+Av+"</sup>",At,Aw):this.measureTextWidth(Av,At,Aw)
	},splitTokenIfTooLong:function p(A4,A2,Aw){var A0=[]
	var A1=A4.length
	var Ax,Au,A5,Az,A6
	for(Ax=0
	Ax<A1
	Ax++){Au=A4[Ax]
	Az=Au.isSuper
	while(true){A5=Au.v
	if(Au.textWidth!==undefined){A6=Au.textWidth
	}else{A6=Au.textWidth=this.measureSuperTextWidth(Az,A5,Aw)
	}if(A6>A2){var A3=(A2/A6)*A5.length
	var At=Math.max(Math.round(A3),1)
	while(At>0){var Ay=A5.substr(0,At)
	var Av=Math.round(this.measureSuperTextWidth(Az,Ay,Aw))
	if(Av<=A2||At===1){A0.push({v:Ay,isSuper:Az,textWidth:Av})
	break
	}else{At--
	}}Au={v:A5.substr(At,A5.length-At),isSuper:Az}
	}else{A0.push(Au)
	break
	}}}return A0
	},truncateTextToLineWithWordWrapForTokens:function Ad(A3,Ax,BM,BE,BN,A9){var BH=A3.length
	A3=this.splitTokenIfTooLong(A3,BM,Ax)
	var BL,A8=[],At=0,BC=A3.length,Au=0,BD=false,Az=(BH===A3.length),A1,A6,BF,Av,BJ,A2,A7
	if(A9&&!Az){return{canWordWrap:Az}
	}A8.push(0)
	for(BL=0
	BL<BC
	BL++){A1=A3[BL]
	BF=A1.v
	A6=A1.isSuper
	if(A1.textWidth!==undefined){Av=A1.textWidth
	}else{Av=A1.textWidth=this.measureSuperTextWidth(A6,BF,Ax)
	}if(Av>BM){var BK=(BM/Av)*BF.length
	A1.v=BF.substr(0,parseInt(BK,10))
	Av=A1.textWidth=BM
	}At+=Av
	A8.push(At)
	}var A5,BG,A4=BE
	for(A5=0,BG=0
	BG<A8.length
	){var A0=A8[BG]-A8[A5]
	var Ay=A8[BG+1]-A8[A5]
	if(A0<=BM&&((BG+1===A8.length)||(Ay>BM))){Au=Math.max(Au,A0)
	A4--
	if(A4===0||BG===BC){break
	}else{A5=BG
	BG++
	}}else{BG++
	}}if(BG>BC){BG=BC
	}var BB=A8[BG]-A8[A5]
	var BO
	if(BG>=BC&&BB<BM){BO=A3
	}else{BD=true
	Au=BM
	BO=A3.slice(0,BG)
	var Aw=this.measureTextWidth("...",Ax)
	if(BB+Aw<=BM){A2=A3[BG]
	BF=A2.v
	A6=A2.isSuper
	for(BJ=1
	BJ<BF.length
	BJ++){A7=this.measureSuperTextWidth(A6,BF.substr(0,BJ),Ax)
	if(BB+Aw+A7>BM){break
	}}if(BJ>1){A1={v:BF.substr(0,BJ-1),isSuper:A6}
	A1.textWidth=this.measureSuperTextWidth(A6,A1.v,Ax)
	BO.push(A1)
	BO.push({v:"...",textWidth:Aw})
	}}else{var BA=0,BI
	for(BL=BO.length-1
	BL>=0
	BL--){A1=BO[BL]
	BF=A1.v
	A6=A1.isSuper
	BI=0
	for(BJ=BF.length-1
	BJ>=0
	BJ--){BI=this.measureSuperTextWidth(A6,BF.substr(BJ),Ax)
	if(BA+BI>=Aw){break
	}}if(BJ>=0){break
	}else{BA+=BI
	}}if(BL>=0){if(BJ>0){A1.v=BF.substr(0,BJ)
	A1.textWidth=this.measureSuperTextWidth(A6,A1.v,Ax)
	BO=BO.slice(0,BL+1)
	}else{if(BJ===0){BO=BO.slice(0,BL)
	}}BO.push({v:"...",textWidth:Aw})
	}else{BO=[{v:"...",textWidth:Aw}]
	}}}if(BN){return{text:BO,truncated:BD,maxLineLen:Au,canWordWrap:Az}
	}return BO
	},getRankMode:function O(Az){var A1=1,A0=2,Ay=3,Au=4,Aw=5,At=6,Ax=7,Av=X.INVALID
	if(Az){if(AW(Az,Ay,A0)){Av=X.TOP_PERCENT
	}else{if(AW(Az,Ay,A1)){Av=X.BOTTOM_PERCENT
	}else{if(AW(Az,At,Au)){Av=X.BOTTOM
	}else{if(AW(Az,At,Aw)){Av=X.TOP
	}else{if(AW(Az,Ax)){Av=X.VALUE
	}}}}}}return Av
	},getColorByTitle:function d(Au,At){if(At===X.BOTTOM_PERCENT||At===X.TOP_PERCENT){Au=mstrmojo.desc(2787,"Percentage of ##").replace("'##'",Au)
	}else{if(At===X.BOTTOM||At===X.TOP){Au=mstrmojo.desc(2788,"Rank of ##").replace("'##'",Au)
	}}return Au
	},getAbsoluteSizeByTitle:function AI(At){return mstrmojo.desc(16781,"Absolute value of ##").replace("##",At)
	},getColorByFormatStr:function o(Au,At){if(At===X.BOTTOM_PERCENT||At===X.TOP_PERCENT){Au="0%
	(0%)"
	}else{if(At===X.BOTTOM||At===X.TOP){Au=""
	}}return Au
	},getColorByItems:function Ae(At,A3,BA,A6,A1,Az,A7){var A5=[],BB,Av,A0=mstrmojo.num,Ay,A2
	if(At===undefined||At.length===0){return A5
	}var BD=true
	if(At.length>1){if(At[0].ceil===At[1].flr){BD=false
	}else{BD=true
	}}for(BB=0
	BB<At.length
	BB++){var BC=At[BB],Ax={},Au=BC.ceil,A9=BC.flr
	if((BB===0&&BD)||(BB===At.length-1&&!BD)){if(A3===X.BOTTOM_PERCENT||A3===X.TOP_PERCENT){Ax.flr=A9/100
	Ax.ceil=1
	}else{if(A3===X.TOP||A3===X.BOTTOM){A9+=1
	Ax.flr=Math.floor(A9)
	Ax.ceil=A1
	}else{Ax.flr=A9
	Ax.ceil=BA
	}}A2=Ax.ceil
	}else{if((BB===0&&!BD)||(BB===At.length-1&&BD)){if(A3===X.BOTTOM_PERCENT||A3===X.TOP_PERCENT){Ax.flr=0
	Ax.ceil=Au/100
	}else{if(A3===X.TOP||A3===X.BOTTOM){Ax.flr=0
	Ax.ceil=Math.floor(Au)
	}else{Ax.flr=A6
	Ax.ceil=Au
	}}Ay=Ax.flr
	}else{if(A3===X.BOTTOM_PERCENT||A3===X.TOP_PERCENT){A9=A9/100
	Au=Au/100
	}else{if(A3===X.TOP||A3===X.BOTTOM){A9+=1
	A9=Math.floor(A9)
	Au=Math.floor(Au)
	}}Ax.flr=A9
	Ax.ceil=Au
	}}if(A3===X.TOP||A3===X.BOTTOM){Ax.ceil=Ax.ceil>A1?A1:Ax.ceil
	}if(Az){Ax.label=A0.formatByMask(Az,Ax.flr)
	if(Ax.flr!==Ax.ceil){Ax.label+=" - "+A0.formatByMask(Az,Ax.ceil)
	}}else{Ax.label=Ax.flr
	if(Ax.flr!==Ax.ceil){Ax.label+=" - "+Ax.ceil
	}}if(BC.fmt&&BC.fmt.bc){Ax.color=BC.fmt.bc
	}else{Ax.color=A7
	}A5.push(Ax)
	}A5=A5.filter(function(BE){return BE.flr<=BE.ceil&&!(BE.flr>A2||BE.ceil<Ay)
	})
	if(A3!==X.VALUE){if(A5[0]&&(A5[0].label===0)){A5.shift()
	}}if(A3===X.TOP||A3===X.BOTTOM){Av=A1
	}else{if(A5.length>0){if(BD){Av=A5[0].ceil-A5[(A5.length-1)].flr
	}else{Av=A5[(A5.length-1)].ceil-A5[0].flr
	}}}var A8=0,A4,Aw
	for(BB=0
	BB<A5.length
	BB++){if(BB===A5.length-1){A5[BB].scopePercent=1-A8
	}else{if(A3===X.TOP||A3===X.BOTTOM){Aw=A5[BB].ceil-A5[BB].flr+1
	}else{Aw=A5[BB].ceil-A5[BB].flr
	}A4=Aw/Av
	A5[BB].scopePercent=A4
	A8+=A4
	}}return A5
	},getDefaultColorByItems:function(Aw,Au,Av){var At={}
	At.label=Av+" - "+Au
	At.flr=Av
	At.ceil=Au
	At.color=Aw
	At.scopePercent=1
	return[At]
	},getNumberFormat:function(Aw,Au){var Ax=Aw.nf,Av=Aw.gvs
	function At(){var A0=(Av&&Av.items&&Av.items[0]&&Av.items[0].items)||[],Az=A0[Au]||{},Ay=Az.nfs
	return typeof Ay==="string"?Ay:""
	}if(Ax&&Ax[Au]&&typeof Ax[Au].nfs!=="string"){Ax[Au].nfs=At()
	}return Ax&&Ax[Au]&&Ax[Au].nfs
	},hasOnlyMetricsOnColumn:function(Au){var At=(Au&&Au.gts&&Au.gts.col)||[]
	return At.every(function(Av){return Av.otp===x.DssTypeUnknown&&(Av.es||[]).every(function(Aw){return Aw.otp===x.DssTypeMetric
	})
	})
	},hasNoMetricOnRow:function(Au){var Av=(Au&&Au.gts&&Au.gts.row)||[],At=function(Aw){return Aw.otp!==x.DssTypeMetric
	}
	return Av.every(At)
	},getAttMetricCount:function(){var Aw=(this.getEditingGridData&&this.getEditingGridData())||(this.model&&this.model.data),Az=Aw&&Aw.gsi,Ay=(Az&&mstrmojo.models.template.DataInterface.getGSI(Az).rows)||[],Av=[],Au=[],At=0,Ax=0
	mstrmojo.models.template.DataInterface.forEachGSI(Az,function(A0){Ax+=A0.mx.length||0
	Av=Av.concat(A0.cols||[])
	})
	Au=Au.concat(Ay).concat(Av)
	Am.forEach(Au,function(A0){if(A0.t!==x.DssTypeMetric){At++
	}})
	return{attCount:At,metricCount:Ax}
	},isOnExpressMode:function(){return mstrApp.isExpress
	},isConsolidation:function(At){return At.t===47&&At.st===12033
	},getItemValue:function(Aw,Ay,Av){var At=h.getIdPresentation(Aw),Au=this.isConsolidation(Av)
	Aw=Aw.replace(/\*:/g,"\\:")
	switch(Ay){case"old":case"oldLong":switch(At){case"old":case"oldLong":return Aw
	case"terse":case"terseLong":switch(Aw[0]){case"V":return Aw.substring(1).split("
	")[0]
	case"n":return"HF:"+ +h.terseLong2OldShort(Aw)+":47"
	default:return h.terseLong2OldShort(Aw)
	}}break
	case"terse":case"terseLong":switch(At){case"old":return Au?("V"+Aw+"
	"+Av.did):h.oldShort2terseLong(Aw,"h")
	case"oldLong":switch(Aw.substring(0,2)){case"HF":var Ax=Aw.substr(3).split(":")
	if(Ax.length>3){Ax.pop()
	}return h.oldShort2terseLong(Ax.join(":"),"n")
	default:return Aw
	}case"terse":case"terseLong":return Aw
	}break
	default:return Aw
	}},getNormalizedFormElementId:function(Av,Ax,Au){var At=h.getIdPresentation(Ax),Aw=Au&&this.isConsolidation(Au)
	if(Aw&&(At==="old"||At==="oldLong"||At==="terseLong")){return this.getItemValue(Ax,"terseLong",Au)
	}else{return Av.getNormalizedFormElementId(Ax)
	}},modifyScExp:function(Az,At,A5,Ay){if(!Az||!At){return 
	}var Au,A2,A4,A3,Ax,Aw,Av,A1=this,A0=function A0(A6){if(A6.nds){Am.forEach(Am.ensureArray(A6.nds),function(A7){A0(A7)
	})
	}else{Au=A6.es
	Am.forEach(Am.ensureArray(Au),function(A7){A4=A7.v
	Ax=Ay[A4]
	if(!Ax){Ax=A1.getNormalizedFormElementId(A5,A4,A6.a)
	Ay[A4]=Ax
	}Am.forEach(Am.ensureArray(At),function(A8){A2=A8.es
	Am.forEach(A2||[],function(A9){Av=false
	A3=A9.id
	if(A3===A4){Av=true
	}else{Aw=Ay[A3]
	if(!Aw){Aw=A1.getNormalizedFormElementId(A5,A3,A6.a)
	Ay[A3]=Aw
	}if(Ax===Aw){Av=true
	}}if(Av){A7.v=A9.id
	A7.n=A9.n
	return false
	}})
	if(Av){return false
	}})
	})
	}}
	A0(Az)
	},modifyScExpDeprecated:function(Az,A0,Ax,Av){if(!Az||!A0){return 
	}var Aw=Az.nds,Au,At,Ay
	Am.forEach(Aw||[],function(A1){Au=A1.nds
	Am.forEach(Au||[],function(A2){At=A2.es
	Am.forEach(At||[],function(A3){Am.forEach(A0||[],function(A4){Am.forEach(A4||[],function(A5){Ay=A5.es
	Am.forEach(Ay||[],function(A6){if(Ax.call(Av,A6.id,A3.v)){A3.v=A6.id
	A3.n=A6.n
	}})
	})
	})
	})
	})
	})
	},getMouseOffset:function(Au){var At=(Au.offsetX!==undefined)?Au.offsetX:(Au.layerX),Av=(Au.offsetY!==undefined)?Au.offsetY:(Au.layerY)
	return{x:At,y:Av}
	},translateLineStyle:function(At){var Av=["none","solid","solid","dashed","dotted"],Au=["1px","1px","2px","1px","1px"]
	return{width:Au[At]||"0px",style:Av[At]||"none"}
	},getVisStyle:function(){var At=mstrmojo.VisUtility
	return At.getPropertyByPath(this,"model.data.visName")||At.getPropertyByPath(this,"model.data.vis.vn")
	},getGroupAndCalculationContextMenuForDataPoints:function(A5,BK){var A7,A9=[],Av=[],BH=[],A0=BK.fnCellName,BB=BK.fnUnique,Az=BK.fnMakeNode,BF=A5.getCellForNode.bind(A5),BM=BK.selection,BE=BK.hideGroupMenu,A4=BK.hideCalculationMenu
	var Ay=new l.ui.menus.MenuConfig(),Au=new l.ui.menus.MenuConfig(),BD=new l.ui.menus.MenuConfig(),BJ=new l.ui.menus.MenuConfig()
	function BL(BN){A5.cmSelCells=A9[BN].cmSelCells
	A5.derivedElementGroup(BF(A5.cmSelCells[0]))
	}function A1(BN){A5.cmSelCells=Av[BN].cmSelCells
	A5.derivedElementsEdit(BF(A5.cmSelCells[0]))
	}function BA(BN){A5.cmSelCells=Av[BN].cmSelCells
	A5.removeQuickDE(BF(A5.cmSelCells[0]))
	}function A8(BN){A5.cmSelCells=Av[BN].cmSelCells
	A5.renameDEList(BF(A5.cmSelCells[0]))
	}function BC(BN){Y(A5,BF(A5.cmSelCells[0]),BN,false)
	}function At(BN){Y(A5,BF(A5.cmSelCells[0]),BN,true)
	}function Ax(BO){var BN=BF(Av[BO].cmSelCells[0])
	A5.removeQuickDE(BN)
	}function BI(BO){var BN=BF(Av[BO].cmSelCells[0])
	A5.editDECalculation(BN)
	}function A2(BO,BN){return function(){var BP=new l.ui.menus.MenuConfig()
	BP.addNonInteractiveMenuItem(mstrmojo.desc(11859,"Based on"),"xt",true)
	BP.addRadioMenuGroup(null,BO,BN,"checkMark",undefined,true)
	return BP
	}
	}function A6(BN){BN=BN||[]
	function BO(BS){var BP=BS.extra||{},BT=BS.setup||mstrmojo.emptyFn,BQ=BS.action||mstrmojo.emptyFn,BR=[]
	BT(BR,BP)
	BQ(BR,BP)
	}BN.forEach(BO)
	}var Aw=[{name:"group",setup:function(BN){A9.forEach(function(BO){A5.cmSelCells=A9[BO.v].cmSelCells
	if(!Object.prototype.hasOwnProperty.call(Av,BO.v)&&a(A5)){BN.push(BO)
	}})
	},action:function(BO){var BN
	if(BO.length===1){BN=BO[0].v
	Ay.addMenuItem(mstrmojo.desc(1911,"Group"),"xt",function(){A5.cmSelCells=A9[BN].cmSelCells
	A5.derivedElementGroup(BF(A5.cmSelCells[0]))
	})
	}if(BO.length>1){Ay.addPopupMenuItem(mstrmojo.desc(1911,"Group"),A5.id,A2(BL,BO),"xt")
	}}},{name:"edit-group",setup:function(BN){Av.forEach(function(BP){var BO=Ao(A5,Av[BP.v].cmSelCells[0])
	if(BO&&BO.t===U.LIST){BN.push(BP)
	}})
	},action:function(BO){if(BO.length===1){var BN=Av[BO[0].v].cmSelCells,BP=BF(BN[0])
	Au.addMenuItem(mstrmojo.desc(13395,"Edit Group..."),"xt",function(){A5.cmSelCells=BN
	A5.derivedElementsEdit(BP)
	})
	Au.addMenuItem(mstrmojo.desc(12195,"Ungroup"),"xt",function(){A5.cmSelCells=BN
	A5.removeQuickDE(BP)
	})
	BJ.addMenuItem(mstrmojo.desc(13968,"Rename Group..."),"xt",function(){A5.cmSelCells=BN
	A5.renameDEList(BP)
	})
	}if(BO.length>1){Au.addPopupMenuItem(mstrmojo.desc(13395,"Edit Group..."),A5.id,A2(A1,BO),"xt")
	Au.addPopupMenuItem(mstrmojo.desc(12195,"Ungroup"),A5.id,A2(BA,BO),"xt")
	BJ.addPopupMenuItem(mstrmojo.desc(13968,"Rename Group..."),A5.id,A2(A8,BO),"xt")
	}}},{name:"calculation",setup:function(BN){BH.forEach(function(BQ,BP,BO){A5.cmSelCells=BO[BQ.v].cmSelCells
	var BR=Ao(A5,A5.cmSelCells[0])
	if(!(BR&&BR.t===U.RESIDUE)&&u(A5)){BN.push(BQ)
	}})
	},action:function(BN){if(BN.length===1){Ay.addPopupMenuItem(mstrmojo.desc(5188,"Calculation"),A5.id,function(){var BO=BN[0].v,BP=new l.ui.menus.MenuConfig()
	A5.cmSelCells=BH[BO].cmSelCells
	BP.addRadioMenuGroup(null,BC,v(A5,null,A0).items,"checkMark",undefined,true)
	return BP
	},"xt")
	}if(BN.length>1){Ay.addPopupMenuItem(mstrmojo.desc(5188,"Calculation"),A5.id,function(){return new mstrmojo.ui.menus.EditorConfig({cssClass:"base-on-calculation-editor",data:{},hasToggleItem:true,contents:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(11859,"Based on")},{scriptClass:"mstrmojo.ui.Pulldown",alias:"attrList",items:BN,selectedIndex:0,onitemSelected:function(BO){var BP=BO.v
	A5.cmSelCells=BH[BP].cmSelCells
	this.parent.checkList.set("items",[])
	this.parent.checkList.set("items",v(A5,null,A0).items)
	this.parent.data.set("valid",false)
	}},{scriptClass:"mstrmojo.VisMenuList",alias:"checkList"}],bindings:{okEnabled:"this.valid",valid:function(){return this.data.valid
	}},fnOk:function(BP,BO){Y(A5,BF(A5.cmSelCells[0]),BO.checkList.selectedItem.v,false)
	}})
	})
	}}},{name:"edit-calculation",setup:function(BN){Av.forEach(function(BP){var BO=Ao(A5,Av[BP.v].cmSelCells[0])
	if(BO&&BO.t===U.CALCULATION&&u(A5)){BN.push(BP)
	}})
	},action:function(BN){function BO(){var BP=BN[0].v
	A5.cmSelCells=Av[BP].cmSelCells
	var BS=Ao(A5,A5.cmSelCells[0]),BR=v(A5,BS,A0),BQ=new l.ui.menus.MenuConfig()
	BQ.addRadioMenuGroup(BR.selectedItem.value,At,BR.items,"checkMark",undefined,true)
	return BQ
	}if(BN.length===1){BD.addPopupMenuItem(mstrmojo.desc(12196,"Edit Calculation"),A5.id,BO,"xt")
	BD.addMenuItem(mstrmojo.desc(12197,"Delete Calculation"),"xt",function(){var BP=BN[0].v
	A5.cmSelCells=Av[BP].cmSelCells
	var BQ=BF(A5.cmSelCells[0])
	A5.removeQuickDE(BQ)
	})
	BJ.addMenuItem(mstrmojo.desc(13967,"Rename Calculation..."),"xt",function(){var BP=BN[0].v
	A5.cmSelCells=Av[BP].cmSelCells
	var BQ=BF(A5.cmSelCells[0])
	A5.editDECalculation(BQ)
	})
	}if(BN.length>1){BD.addPopupMenuItem(mstrmojo.desc(12196,"Edit Calculation"),A5.id,function(){return new mstrmojo.ui.menus.EditorConfig({cssClass:"base-on-calculation-editor",data:{},hasToggleItem:true,contents:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(11859,"Based on")},{scriptClass:"mstrmojo.ui.Pulldown",alias:"attrList",items:BN,selectedIndex:0,onitemSelected:function(BQ){var BR=BQ.v
	A5.cmSelCells=Av[BR].cmSelCells
	var BS=Ao(A5,A5.cmSelCells[0])
	var BP=v(A5,BS,A0)
	this.parent.checkList.set("items",[])
	this.parent.checkList.set("items",BP.items)
	this.parent.checkList.set("selectedItem",BP.selectedItem)
	this.parent.data.set("valid",false)
	}},{scriptClass:"mstrmojo.VisMenuList",alias:"checkList"}],bindings:{okEnabled:"this.valid",valid:function(){return this.data.valid
	}},fnOk:function(BQ,BP){Y(A5,BF(A5.cmSelCells[0]),BP.checkList.selectedItem.v,true)
	}})
	})
	BD.addPopupMenuItem(mstrmojo.desc(12197,"Delete Calculation"),A5.id,A2(Ax,BN),"xt")
	BJ.addPopupMenuItem(mstrmojo.desc(13967,"Rename Calculation..."),A5.id,A2(BI,BN),"xt")
	}}}]
	A7=BB(BM)
	A7.forEach(function(BO){var BQ=Az(BO),BN=BF(BQ),BP,BR,BS
	if(!A5.model.supportsViewFilterActions(BN.tid)){return 
	}BP=BN.dei===undefined?A9:Av
	BR=BN.tid
	BS=A5.model.getObjectInfo(BR).n
	if(BP[BR]===undefined){BP[BR]={}
	BP[BR].cmSelCells=[]
	BP.push({n:BS,v:BR,text:BS,value:BR})
	}BP[BR].cmSelCells.push(BQ)
	if(BH[BR]===undefined){BH[BR]={}
	BH[BR].cmSelCells=[]
	BH.push({n:BS,v:BR,text:BS,value:BR})
	}BH[BR].cmSelCells.push(BQ)
	})
	var A3=mstrmojo.VisUtility
	var BG=A3.getVisStyle.call(A5)
	if(BG===AD.HEAT_MAP){Aw.splice(2,2)
	}if(BE){Aw.splice(0,2)
	}if(A4){Aw.splice(2,2)
	}A6(Aw)
	return{createDe:Ay,editGroup:Au,editCalculation:BD,renameDe:BJ}
	},getGroupAndCalculationContextMenu:function(A2,BH,BE){var BG=A2,A9=BE.skipSingleAttrCheck||BG.isSingleAttrSelection(),Aw=false,Ay=BG.isSingleContextMenuSelection(),A3=BG.getDEInfo(BH),Ax=A3&&A3.deObject,BD=A3&&A3.de,A7=Ax&&BG.getOthersDEInfo(Ax),A5=BG.getContextMenuSelections(),BC=true,A0=BE.fnCellName,BF=this.getPropertyByPath(BG,"model.data.visName")||this.getPropertyByPath(BG,"model.data.vis.vn"),BA=BE.hideGroupMenu,A1=BE.hideCalculationMenu
	var Az=new l.ui.menus.MenuConfig(),Au=new l.ui.menus.MenuConfig(),A6=new l.ui.menus.MenuConfig(),BB=new l.ui.menus.MenuConfig()
	BG.cmSelCells=BE.selection
	if(A2.model.supportsViewFilterActions(BH.tid)){if(!BA){if((Aw||A9)&&AU(BH,AB)&&a(BG)){Az.addMenuItem(mstrmojo.desc(1911,"Group"),"xt",function(){A2.derivedElementGroup(BH)
	})
	}if(Ay&&BD&&BD.t===U.LIST){Au.addMenuItem(mstrmojo.desc(13395,"Edit Group..."),"xt",function(){A2.derivedElementsEdit(BH,A3)
	})
	Au.addMenuItem(mstrmojo.desc(12195,"Ungroup"),"xt",function(){A2.removeQuickDE(BH)
	})
	BB.addMenuItem(mstrmojo.desc(13968,"Rename Group..."),"xt",function(){A2.renameDEList(BH)
	})
	}}if(!A1){var A4=function(BI){Y(BG,BH,BI,false)
	},A8=function(BI){Y(BG,BH,BI,true)
	}
	if(A7&&!Ay&&A9){S.forEach(A5,function(BI){if(BI[0]&&BI[0].eid.indexOf(A7.id)>-1){BC=false
	return false
	}})
	}if(BF!=="VIHeatMapVisualizationStyle"&&!(Ay&&BD&&BD.t===U.RESIDUE)&&(Aw||A9)&&AU(BH,AL)&&u(BG)){var At=function(){var BI=new l.ui.menus.MenuConfig(),BJ=v(BG,null,A0)
	BI.addRadioMenuGroup(null,A4,BJ.items,"checkMark",undefined,true)
	return BI
	}
	Az.addPopupMenuItem(mstrmojo.desc(5188,"Calculation"),this.id,At,"xt")
	}if(Ay&&BD&&BD.t===U.CALCULATION&&u(BG)){var Av=function(){var BI=new l.ui.menus.MenuConfig(),BJ=v(BG,BD,A0)
	BI.addRadioMenuGroup(BJ.selectedItem.value,A8,BJ.items,"checkMark",undefined,true)
	return BI
	}
	A6.addPopupMenuItem(mstrmojo.desc(12196,"Edit Calculation"),this.id,Av,"xt")
	A6.addMenuItem(mstrmojo.desc(12197,"Delete Calculation"),"xt",function(){A2.removeQuickDE(BH)
	})
	BB.addMenuItem(mstrmojo.desc(13967,"Rename Calculation..."),"xt",function(){A2.editDECalculation(BH)
	})
	}}}return{createDe:Az,editGroup:Au,editCalculation:A6,renameDe:BB}
	},isHostedPopupNode:function(Aw,Av,Au,At){return AO(Aw,Av,"mstrmojo-popup-widget-hosted",Au,At)
	},isMojoEditorNode:function(Aw,Av,Au,At){return AO(Aw,Av,"mstrmojo-Editor",Au,At)
	},applyStyle2Legend:function(Aw,Av,Au){var At,Ay={},Ax={}
	for(At in Aw){if(At.indexOf("font")>=0||At.indexOf("color")>=0||At.indexOf("textDecoration")>=0){Ay[At]=Aw[At]
	}else{Ax[At]=Aw[At]
	}}if(Av){Av.style.background=""
	this.applyStyles2DomNode(Av,Ax)
	}if(Au){this.applyStyles2DomNode(Au,Ay)
	}},mergeMenuConfigs:function AM(Au,At){function Av(Ax,Ay,Aw){if(!Ay){return 
	}if(!Aw&&Ax.hasMenuItems()&&Ay.hasMenuItems()){Ax.addSeparator()
	}if(Ay.hasMenuItems()){Ax.absorbMenuItems(Ay)
	if("function"===typeof Ay.destroy){Ay.destroy()
	}}}return At.reduce(function(Aw,Ax){Av(Aw,Au[Ax.name],Ax.noSeparator)
	return Aw
	},new mstrmojo.ui.menus.MenuConfig())
	},absorbMenuItems:function(Au,At,Av){Au.addDisposable(At)
	Au.absorbMenuItems(At)
	if(Av&&At.menus.length>0){Au.addSeparator()
	}},addWheelListener:(function(){var Aw=mstrmojo.dom,Av=Aw.attachEvent,Au=Aw.preventDefault,Ax
	function At(A1,A0,A2,Az){var Ay=(Ax==="wheel")?A2:function(A3){if(!A3){A3=window.event
	}var A5={originalEvent:A3,target:A3.target||A3.srcElement,type:"wheel",deltaMode:(A3.deltaMode!==undefined?A3.deltaMode:1),deltaX:0,deltaZ:0,preventDefault:function(){Au(window,A3)
	}},A4=this
	if(Ax==="mousewheel"){A5.deltaY=-A3.wheelDelta
	if(A3.wheelDeltaX!==undefined){A5.deltaX=-A3.wheelDeltaX
	}}else{A5.deltaY=A3.detail
	}return A2.call(A4,A5)
	}
	return Av(A1,A0,Ay,Az)
	}if(Object.prototype.hasOwnProperty.call(document.createElement("div"),"onwheel")){Ax="wheel"
	}else{Ax=document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll"
	}return function(Az,A0,Ay){return At(Az,Ax,A0,Ay)
	}
	}()),isNearZero:function(Au,At){At=At||5
	var Av=1/Math.pow(10,At)
	return(Math.abs(Au)<Av)
	},hasMergedRowCells:function(At){return false
	},getMockUpThresholds:function(Av,Aw){var At=[{tid:1,n:"threshold 0",scope:1,rtp:2,rtxt:"",fmt:{bc:"#cc2525",bgs:0},expr:{et:14,nds:[{et:10,dmt:7,m:{did:"4C051DB611D3E877C000B3B2D86C964F",n:"Profit"},cs:[{v:"10%",dtp:5}],fn:2,fnt:3}],fn:19},ttp:1,flr:0,ceil:10},{tid:2,n:"threshold 1",scope:1,rtp:2,rtxt:"",fmt:{bc:"#e34b4b",bgs:0},expr:{et:14,nds:[{et:10,dmt:7,m:{did:"4C051DB611D3E877C000B3B2D86C964F",n:"Profit"},cs:[{v:"10%",dtp:5},{v:"30%",dtp:5}],fn:3,fnt:3}],fn:19},ttp:3,flr:10,ceil:30},{tid:3,n:"threshold 2",scope:1,rtp:2,rtxt:"",fmt:{bc:"#e97d7d",bgs:0},expr:{et:14,nds:[{et:10,dmt:7,m:{did:"4C051DB611D3E877C000B3B2D86C964F",n:"Profit"},cs:[{v:"30%",dtp:5},{v:"50%",dtp:5}],fn:3,fnt:3}],fn:19},ttp:3,flr:30,ceil:50},{tid:4,n:"threshold 3",scope:1,rtp:2,rtxt:"",fmt:{bc:"#79d479",bgs:0},expr:{et:14,nds:[{et:10,dmt:7,m:{did:"4C051DB611D3E877C000B3B2D86C964F",n:"Profit"},cs:[{v:"50%",dtp:5},{v:"70%",dtp:5}],fn:3,fnt:3}],fn:19},ttp:3,flr:50,ceil:70},{tid:5,n:"threshold 4",scope:1,rtp:2,rtxt:"",fmt:{bc:"#57ba57",bgs:0},expr:{et:14,nds:[{et:10,dmt:7,m:{did:"4C051DB611D3E877C000B3B2D86C964F",n:"Profit"},cs:[{v:"70%",dtp:5},{v:"90%",dtp:5}],fn:3,fnt:3}],fn:19},ttp:3,flr:70,ceil:90},{tid:6,n:"threshold 5",scope:1,rtp:2,rtxt:"",fmt:{bc:"#2ca02c",bgs:0},expr:{et:14,nds:[{et:10,dmt:7,m:{did:"4C051DB611D3E877C000B3B2D86C964F",n:"Profit"},cs:[{v:"90%",dtp:5}],fn:5,fnt:3}],fn:19},ttp:1,flr:90,ceil:100}]
	S.forEach(At,function(Ay){var Ax=Ay.expr.nds[0].m
	Ax.did=Av
	Ax.n=Aw
	})
	var Au={}
	Au[Av]=At
	return Au
	},generateThresholdsInfo:function(Av,A0,At,Ax){var Az=At.length,Au=[],A3,Aw,A4=0,A2=0
	for(var Ay=0
	Ay<Az
	Ay++){Aw=Math.round(Ax[Ay]*100)
	A2=A4
	A4=Aw||100
	A3={tid:Ay+1,n:"threshold "+Ay,scope:1,rtp:2,rtxt:"",fmt:{bc:At[Ay],bgs:0},expr:{et:14,nds:[{et:10,dmt:7,m:{did:Av,n:A0},cs:[{v:Aw+"%",dtp:5}],fn:2,fnt:3}],fn:19},ttp:1,ceil:A4,flr:A2}
	Au.push(A3)
	}var A1={}
	A1[Av]=Au
	return A1
	},psPt2CssPt:function(Av,Au){var At=parseInt(Av,10)*0.75
	if(Au instanceof Function){At=Au(At)
	}return At+"pt"
	},captureEventOnce:function(Ay,Ax,At,Aw,Av){function Au(Az){Ax.call(At,Ag.newDomEvent(Ay,window,Az||window.event),Av)
	AK.detachEvent(Aw,Ay,Au)
	}Av=Av||{}
	Aw=Aw||document
	AK.attachEvent(Aw,Ay,Au)
	},getPropertyByPath:function(Ax,Aw,At){var Au,Av
	if(typeof Aw!=="string"){return At
	}Au=Aw.split(".")
	Av=Au.every(function(Az){var Ay=Ax[Az]
	if(Ay!==undefined){Ax=Ay
	return true
	}return false
	})
	return Av?Ax:At
	},mergeHashes:function(){return Array.prototype.slice.apply(arguments).reduce(function(At,Au){if(Au){Object.keys(Au).forEach(function(Av){At[Av]=Au[Av]
	})
	}return At
	},{})
	},toggleControlEnabled:function(At,Au){[].concat(At).forEach(function(Av){Av.set("enabled",!!Au)
	})
	},findInArray:function(Aw,Av,Au){var Ay=-1,Ax,At
	if(!Array.isArray(Aw)){return Ay
	}for(Ax=Au===undefined?0:Au,At=Aw.length
	Ax<At
	Ax+=1){if(Av(Aw[Ax])){return Ax
	}}return Ay
	},arrayUnique:function(At,Av){if(!Array.isArray(At)){return At
	}var Au=mstrmojo.VisUtility
	return At.filter(function(Aw,Ax){return Au.findInArray(At,function(Ay){return Av(Aw,Ay)
	},Ax+1)===-1
	})
	},range:function(At,Ax,Aw){Aw=Aw||1
	var Av,Au=[]
	for(Av=At
	Av!==Ax
	Av+=Aw){Au.push(Av)
	}return Au
	},containsImg:function(At,Au){return At===Aj.DssBaseFormPicture||(At===Aj.DssBaseFormHTMLTag&&(Au||"").toLowerCase().match(m))
	},drawDashLine:function I(A1,Av,Az,Au,Ax,At,A0){var Ay=(Av===Au),Aw
	A1.beginPath()
	A1.moveTo(Av,Az)
	if(Ay){Aw=0
	Az+=At
	while(Az<=Ax){if(Aw%2===0){A1.lineTo(Av,Az)
	Az+=A0
	}else{A1.moveTo(Av,Az)
	Az+=At
	}Aw++
	}if(Aw%2===0){A1.lineTo(Au,Ax)
	}}else{Aw=0
	Av+=At
	while(Av<=Au){if(Aw%2===0){A1.lineTo(Av,Az)
	Av+=A0
	}else{A1.moveTo(Av,Az)
	Av+=At
	}Aw++
	}if(Aw%2===0){A1.lineTo(Au,Ax)
	}}A1.stroke()
	},repeat:function(Av,Aw){var At=[],Au
	Aw=Math.max(0,Aw)
	for(Au=0
	Au<Aw
	Au+=1){At[Au]=Av
	}return At
	},isHierarchyObject:function(At){return(At&&At.t)===x.DssTypeDimension
	},selectDropZonePanel:function(At){AH(At,"editPanel")
	},selectPropertyPanel:function(Au,Av){AH(Au,"propertiesPanel")
	var At=Au.edtModel
	if(At){At.selectTargetByValue(Av)
	}},pluck:function(Au,At){if(!S.isArray(Au)){return Au
	}return Au.map(function(Av){return Av&&Av[At]
	})
	},pick:function(Au,At){return At.reduce(function(Aw,Av){Aw[Av]=Au[Av]
	return Aw
	},{})
	},isColorManuallySet:function(Av,Au){var At=Aq(Av,Au)
	if(At){return At.isManual
	}},getCombColor:function(Av,Au){var At=Aq(Av,Au)
	if(At){return At.color
	}},setColorPickerShowAutomatic:function(Au,At){Au.children[0].fillColor.colorPicker.showAutomatic=At
	},setColorPickerShowGradient:function(Av,Au){var At=Z.walk("fillColorAndTrans.fillColor.colorPicker",Av)
	if(At){At.showGradient=Au
	}},getCharGroupValueChangeCb:function(At){var Au=(function(){var Av={}
	Av[AV.FONT_WEIGHT]=Ab.FS_BOLD
	Av[AV.FONT_STYLE]=Ab.FS_ITALIC
	Av[AV.UNDERLINE]=Ab.FS_UNDERLINE
	Av[AV.LINE_THROUGH]=Ab.FS_STRIKETHROUGH
	return function(Aw,Ax){return Aw^Av[Ax]
	}
	}())
	return function(Aw,Av){if(At instanceof Function){At=At()
	}if(!At){return 
	}switch(Aw){case AV.COLOR:At.fontColor.fill.value.setValue(Av)
	break
	case AV.FONT_SIZE:At.fontSize.setValue(Av)
	break
	case AV.FONT_FAMILY:At.fontFamily.setValue(Av)
	break
	case AV.FONT_WEIGHT:case AV.FONT_STYLE:case AV.UNDERLINE:case AV.LINE_THROUGH:At.fontStyle.setValue(Au(At.fontStyle.getValue(),Aw))
	break
	}}
	},getMetricsInDropZone:AQ,addLegendFontChangeListeners:function(Au,Av){var At=["lgdFntClr","lgdFntSz","lgdFntFml","lgdFntStyle"]
	Ah(At,Au,Av)
	},addLegendBackgroundChangeListeners:function(Au,Av){var At=["lgdBgFillClr","lgdBgFillTrans"]
	Ah(At,Au,Av)
	},isValidDropZone:function(At){if(At===undefined){return false
	}var Av=Object.keys(At).filter(function(Aw){return Aw!=="visProp"
	})
	var Au=Z.copyProps(Av,At)
	return At&&!Z.equals(Au,{})
	},unitExistInTemplate:function(Aw,At){var Av,Ay,Ax=At.row,Au=At.col
	for(Av=0,Ay=Ax.length
	Av<Ay
	Av++){if(Ax[Av].id===Aw){return true
	}}for(Av=0,Ay=Au.length
	Av<Ay
	Av++){if(Au[Av].id===Aw){return true
	}}return false
	},findDisabledUnits:function(A2,A3){var Ay,Au,Aw=A3.docModel.datasets,At=A2.gts,A0=A2.datasetId,Ax=Aw[A0]||{},Az=Ax.att||[],A1=[]
	var Av=mstrmojo.VisUtility
	if(Az){for(Ay=0,Au=Az.length
	Ay<Au
	Ay++){if(!Av.unitExistInTemplate(Az[Ay].did,At)){A1.push(Az[Ay])
	}}}return A1
	},getDrillCandidates:function(Ay,Az){var A1=Ay.modelData,A3=Ay.model,Ax=A3.docModel.datasets,At=A1.gts,Av=mstrmojo.VisUtility,A4=Av.findDisabledUnits(A1,A3),Au=[],Aw=(function(){var A5
	if(Az){S.forEach(At.row.concat(At.col),function(A6){if(A6.id&&A6.id===Az){A5=A6.dp
	}})
	}return A5
	}()),A0=function(A5,A8){var A6=S.find(A5,"did",A8.id),A7=A5[A6]
	if(A7&&!A7.hide){A8.n=A7.n
	return true
	}return false
	},A2=S.filter(Aw,function(A7){var A5
	for(A5 in Ax){var A6=Ax[A5]
	if(A0(A6.att,A7)){return true
	}}return false
	})
	if(A2){Au=S.filter(A4,function(A6){for(var A5 in A2){if(A2[A5].n===A6.n){return true
	}}return false
	})
	}return Au
	},getDrillSubMenu:function(At){if(!At||!At.items||!At.drillAction){return{}
	}var Ax=new mstrmojo.ui.menus.MenuConfig({supportsScroll:true,isHostedWithin:false,alignWithAnchor:true,maxHeight:350}),Au=At.items,Aw=At.drillAction,Av=[]
	if(mstrmojo.resolveFeature("sort-drill-paths")){Au.sort(function(Az,Ay){if(Az.n>Ay.n){return 1
	}if(Az.n<Ay.n){return -1
	}return 0
	})
	}Au.forEach(function(A0,Ay){if(Av.indexOf(A0.did)===-1){Av.push(A0.did)
	if(A0.att){var Az=mstrmojo.VisUtility
	var A1={}
	Z.copy(At,A1)
	A1.items=Au[Ay].att
	Ax.addPopupMenuItem(A0.n,this.id,Az.getDrillSubMenu,"xt",A1)
	}else{Ax.addMenuItem(A0.n,"xt",Aw,Z.copy(At,{drillUnit:A0}))
	}}})
	return Ax
	},getDrillMenu:function(Az,A0,A5,At){var A1=Az.model,Aw=mstrmojo.VisUtility,A2=Aw.getDrillCandidates(Az,A0),A3=A2.length,Ay=A1.docModel,Av=Ay.datasets[Az.modelData.datasetId],A9,A4=[],A7=-1,A6,A8,Ax,Au
	if(Av&&Ay.isMDXDataset(Av)&&!Ay.isRADataset(Av)){Aw.sortMdxDrillCandidates(A2)
	A9=Av.tables[0]
	A9.dimensions.forEach(function(BA){Ax=true
	A6=-1
	BA.hierarchies.forEach(function(BB){Au=true
	BB.att.forEach(function(BC){A8=Am.findBin(A2,BC,"did",A3)
	if(A8!==-1){if(Ax){A4.push({id:BA.did,did:BA.did,n:BA.n,att:[]})
	A7++
	Ax=false
	}if(Au){A4[A7].att.push({id:BB.did,did:BB.did,n:BB.n,att:[]})
	A6++
	Au=false
	}A4[A7].att[A6].att.push(A2[A8])
	}})
	})
	})
	}else{A4=A2
	}return Aw.getDrillSubMenu(Z.copy(At,{items:A4,drillAction:A5}))
	},sortMdxDrillCandidates:function(At){At.sort(function(Av,Au){if(Av.did<Au.did){return -1
	}if(Av.did>Au.did){return 1
	}return 0
	})
	return At
	},getDrillMenuItemsCallback:function(Av,Aw,At,Au){return function(){var Ay=mstrmojo.VisUtility
	var Az=Ay.getDrillCandidates(Av,Au),Ax=new mstrmojo.ui.menus.MenuConfig({supportsScroll:true,maxHeight:350})
	Az.forEach(function(A0){Ax.addMenuItem(A0.n,"xt",Aw,Z.copy(At,{drillUnit:A0}))
	})
	return Ax
	}
	},doDrill:function(Av,A9,A4,BA){var BB=Av
	function A1(BD){return BD.model.controller.cmdMgr
	}function A7(){return{success:function BD(){var BE=mstrmojo.VisUtility
	BE.visPrint("reaise")
	this.raiseEvent({name:"regenerateToolbar"})
	}.bind(this)}
	}var Au=BB.model,A8=(BB.getDocModel&&BB.getDocModel())||BB.model.docModel,A6=A8.getDataService(),Ay=A6.newUpdate()
	var A0=true
	if(A8.prefs&&A8.prefs.rtprnt){A0=parseInt(A8.prefs.rtprnt,10)===1
	}else{if(Au.xtab.defn.tkp!==undefined){A0=parseInt(Au.xtab.defn.tkp,10)===-1
	}}BA=BA||{}
	BA.keepParent=A0
	var Az=A4.call(Av,A9,BA)
	var A2=BB.zonesModel,BC=A2.getUpdateCallback(),A3=BB.model.controller||A8.controller,Aw=A3._getXtabCallback(BB)
	Ay.add(Az,Al(BC,Aw))
	var At=Au.getSelectorDataFromTemplateLimit(BB.model.data.tpl).concat({keepOnly:true,data:BB.getContextMenuSelections()}),A5=A8.getKeepOnlyOrExcludeAction(BB.k,At)
	Ay.add(A5,A7.call(BB))
	A1(BB).execute({execute:function Ax(){this.submitUpdate(Ay)
	},urInfo:{callback:Ay.callback}})
	},strStartsWith:function(Av,Au,At){At=At||0
	return Av.lastIndexOf(Au,At)===At
	},changeWidgetBackground:function(Av,Aw,Au){var At=Av.parent
	if(At&&Aw!==Au){At.changeUnitFormats(false,1,Av.getFormats(),AV.BACKGROUND_COLOR,Aw,Au)
	At.raiseEvent({name:"BEMFormatChange",propertyName:AV.BACKGROUND_COLOR,value:Aw,isTitle:false})
	}},translateGridError:function(Au,At){if(At===undefined){At=Ar.AE_ERROR
	}if(At===Ar.EMPTY_DATA){Au=mstrmojo.desc(2388,"No data returned for this view. This might be because the applied filter excludes all data.")
	}if(At===Ar.NO_DATASET||At===Ar.NO_TEMPLATE_UNIT){Au=mstrmojo.desc(11668,"Drag objects here.")
	}if(!Au){Au=mstrmojo.desc(13687,"Unknown error")
	}return{msg:Au,type:At}
	},hasValidValueInMetric:function(Aw,Au){var At=mstrmojo.VisUtility
	var Av=At.getPropertyByPath(Aw,"model.data.gsi.mx")
	if(Av===undefined||Av.length<=Au||Au<0){return false
	}var Ax=Av[Au]
	return["min","max"].every(function(Ay){var Az=Ax[Ay]
	return Az!==undefined&&Az!==null&&Az!==""
	})
	},renderWidgetErrorRSD:function(Aw,Ay,Au){var A0=document.createElement("div")
	var Az='<div style="display: table
	height: 100%
	width: 100%
	background-color:#F5F5F2
	border: solid 1px #A7A7A7
	box-sizing: border-box
	"><div style="display: table-cell
	vertical-align: middle
	text-align: center
	color: #000000
	font-size: 14pt
	">'+f.encodeHtmlString(Ay,true)+"</div></div>"
	A0.innerHTML=Az
	A0=A0.firstChild
	var At=Aw.width,Av=Aw.height
	if(At!==undefined){A0.style.width=At+"px"
	}if(Av!==undefined){A0.style.height=Av+"px"
	}var Ax=Aw.domNode
	if(Ax){Au.forEach(function(A1){Ax["on"+A1]=undefined
	})
	while(Ax.firstChild){Ax.removeChild(Ax.firstChild)
	}Ax.appendChild(A0)
	}else{Aw.parent.domNode.appendChild(A0)
	}},visPrint:function(){var At=mstrmojo.VisUtility.enableInVis
	if(At&&window.mstr_profile&&mstr_profile.enabled&&console){Function.prototype.apply.call(console.log,console,arguments)
	}},hasCGorCon:function(Aw,At){var Av=At&&At.did,Au=Aw.model.data.datasetId||"",Ax=null
	if(Av){Ax=AZ.getDatasetFromAttributeId(Aw.model.docModel.datasets,Av)
	}else{if(Au){Ax=AZ.getDatasetFromId(Aw.model.docModel.datasets,Au)
	}}return Ax&&AZ.hasCGorCon(Ax)
	},isCGorCon:function w(Aw,At){var Av=At&&At.did,Au=Aw.model.data.datasetId||"",Ax=null
	if(Av){Ax=AZ.getDatasetFromAttributeId(Aw.model.docModel.datasets,Av)
	}else{if(Au){Ax=AZ.getDatasetFromId(Aw.model.docModel.datasets,Au)
	}}return Ax&&AZ.isCGorCon(At,Ax)
	},findElementsByAttribute:function R(Av,Ax,Aw,At){At=!!At
	var Ay=[]
	if(Aw.constructor!==Array){Aw=[Aw]
	}var Az=function(A0){if(At){return A0.identity&&A0.identity.tlOpt&&A0.identity.tlOpt[Ax]
	}else{return A0.getAttribute(Ax)
	}}
	function Au(A2){var A0=Az(A2),A1
	if(A2.hasChildNodes()){A1=A2.firstChild
	while(A1){if(A1.nodeType===1){A0=Az(A1)
	if(Aw.indexOf(A0)!==-1){Ay.push(A1)
	}else{Au(A1)
	}}A1=A1.nextSibling
	}}}Au(Av)
	return Ay
	},getTextFromHTMLTag:function(At){var Au=document.createElement("div")
	Au.innerHTML=At
	return Au.innerText
	},getHTMLAnchorFromHTMLTag:function(At){var Av=document.createElement("div"),Au
	Av.innerHTML=At
	Au=Av.firstChild
	if(Au instanceof HTMLAnchorElement){return Au
	}return At
	},restoreEsForUnit:function AS(Ax){if(!Ax){return 
	}var Ay=Ax.es,Au=Ax.fs,Av=Ax.otp,At=Au&&Au.length||0,Aw=this
	if(Ay){S.forEach(Ay,function(A0,Az){A0.n=f.decodeHtmlString(A0.n)
	if(Av===x.DssTypeAttribute&&At){switch(Au[Az%At].bftp){case Aj.DssBaseFormHTMLTag:A0.n=Aw.getTextFromHTMLTag(A0.n)
	break
	default:}}})
	}},isTrue:function Aa(At){return At==="true"||At===true
	},getFontFamilyItems:function AA(){if(P){return P
	}else{P=[]
	S.forEach(Q.Families.slice(1),function(At){P.push({n:At.n,id:At.n,did:At.n,preview:!At.symbolic})
	})
	return P
	}},surroundWithQuotes:function AR(At){if(!At){return""
	}return"'"+At.replace(/^['|"]+/,"").replace(/['|"]+$/,"")+"'"
	},sendToMobileDevice:function D(At){var Au=Z.walk("webkit.messageHandlers.selectionDataJSONString",window)
	if(mstrApp.isDisplayOnMobile&&Au){Au.postMessage(At)
	return true
	}return false
	},createMouseEvent:function(Au,Av){var At=function(Aw,Ay){Ay=Ay||{bubbles:false,cancelable:false}
	var Ax=document.createEvent("MouseEvent")
	Ax.initMouseEvent(Aw,Ay.bubbles,Ay.cancelable,window,0,Ay.screenX||0,Ay.screenY||0,Ay.clientX||0,Ay.clientY||0,Ay.ctrlKey||false,Ay.altKey||false,Ay.shiftKey||false,Ay.metaKey||false,Ay.button||0,Ay.relatedTarget||null)
	return Ax
	}
	At.prototype=Event.prototype
	return new At(Au,Av)
	},filterTrendlineMXByDZ:function Af(Av,At){var Au=[]
	Z.forEach(At,function(Aw){Au=Au.concat((Aw.TemplateMetric||[]).map(function(Ax){return Ax.id
	}))
	})
	return Av.filter(function(Aw){return S.includes(Au,Aw.did)
	})
	},addVisFeatureFlags:function L(Au,At){At=At||{}
	Z.forEach(Au,function(Aw,Ax){var Av=0
	Z.forEach(Aw,function(Ay){Av|=Ay
	})
	At[Ax]=Av
	})
	return At
	},changeVisFeatureFlag:function AT(Ay,Ax,Az,Au,At){Au=Au||{}
	var Av=Ay[Ax],Aw=(Av&&Av[Az])||0
	Au[Ax]=At?Au[Ax]|Aw:Au[Ax]&(~Aw)
	},addDefaultProps:function Ac(At){var Au
	Z.forEach(Ap,function(Aw,Av){Au=AX[Av]||k[Av]
	if(At[Au]===undefined){At[Au]=Aw
	}})
	},addChangeVizContextMenu:function AY(Aw,At){var Av=!this.isOnExpressMode()&&!mstrApp.isDossier&&!(mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation())&&(!mstrApp.allowWebDashboardDesign||mstrApp.allowWebDashboardDesign())&&!mstrApp.isInVFInteractMode
	if(Av&&At){var Au=(At.getDocModel&&At.getDocModel())||(At.model&&At.model.docModel)
	if(Aw.hasMenuItems()){Aw.addSeparator()
	}Aw.addMenuItem(mstrmojo.desc(13165,"Change Visualization"),"",function(){var Ax=Z.walk("mstrApp.rootCtrl.newVizGallery")
	if(Ax&&Au){Au.selectVIUnit(Z.walk("parent.id",At))
	Ax.setupConfig({modal:true,popupConfig:undefined,selectedViz:Au.getVizOfSelectedViUnit(),galleryConfig:{source:2,title:mstrApp.isInVFConfigMode?mstrmojo.desc(18406,"Visualization Filter"):mstrmojo.desc(13165,"Change Visualization")}})
	At.openPopup(Ax)
	}})
	}return Aw
	}})
	mstrmojo.VisUtility.enableInVis=true
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase","mstrmojo._IsList","mstrmojo.vi.ui.DatasetUnitMenuUtils")
	var B=mstrmojo.vi.ui.DatasetUnitMenuUtils
	mstrmojo.vi.ui.UnitList=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList],{scriptClass:"mstrmojo.vi.ui.UnitList",init:function C(D){this._super(D)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-VIUnitList")
	},getItemProps:function A(F,D){var E=this._super(F,D)
	E.addCls("unit "+B.getUnitCssClass(F))
	return E
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.models.EnumDragSources","mstrmojo.vi.ui.DatasetUnitMenuUtils")
	var A=mstrmojo.vi.ui.DatasetUnitMenuUtils
	mstrmojo.vi.ui._CanDropFromSchema=mstrmojo.provide("mstrmojo.vi.ui._CanDropFromSchema",{_mixinName:"mstrmojo.vi.ui._CanDropFromSchema",augmentDropContextForSchema:function B(E,C){var F=E.getCtxtDragData()
	if(F.src===mstrmojo.vi.models.EnumDragSources.ALL_OBJECT_LIST){var D=A.getCfgForAddUnitFromAllObject(F.items,C.datasets||{})
	F.dsid=D.dsid
	if(D.actions.length){E.actions=D.actions
	E.callback=C.getDatasetsUpdateCallback()
	}}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.vi.viz.DropZoneHelper","mstrmojo.string","mstrmojo.vi.ui.DatasetUnitMenuUtils")
	var G="mstrmojo-VIUnitList",I="icn clsx_sub",D=mstrmojo.vi.viz.DropZoneHelper.isMetricNames,C=mstrmojo.vi.ui.DatasetUnitMenuUtils,J=mstrmojo.string
	mstrmojo.vi.ui.VIDragUnit=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.vi.ui.VIDragUnit",getItemDisplayName:function F(K){return K.n
	},getUnitAvatar:function A(N,Q){var M=document.createElement("div"),P=N.getCtxtDragData(),K=P.items,L=['<div class="',[G,mstrApp.getThemeClassName()].join(" "),'">'],O=this
	K.forEach(function(S){var U=O.getItemDisplayName(S),R="item unit isAvatar "+C.getUnitCssClass(S)
	if(D(S)){U=mstrmojo.desc(3582,"Metrics")
	R+=" is-mh"
	}L.push('<div class="'+R+'"><span class="txt" unselectable="on">'+(Q?J.encodeHtmlString(U):U)+"</span></div>")
	})
	L.push("</div>")
	M.innerHTML=L.join("")
	return M.removeChild(M.firstChild)
	},getUnitDragData:function B(M,K){var L=this.setAvatarClass.bind(this)
	return{items:K,item:K[0],setAvatarClass:function N(P){L(M,P)
	},setInvalidAvatarClass:function O(){L(M,I)
	}}
	},getDragUnitOffsets:function E(){return{x:21,y:16}
	},setAvatarClass:function H(N,K){var L=N.avatar
	if(L){var M=[G,"hasOwnAvatar",mstrApp.getThemeClassName(),K||""]
	L.className=M.join(" ")
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.dom","mstrmojo.expr","mstrmojo.hash","mstrmojo.Container","mstrmojo._HasLayout","mstrmojo._HasPopup","mstrmojo.ui.ColumnWalk","mstrmojo.Button","mstrmojo.mstr.EnumNodeDimty","mstrmojo.ConditionModel","mstrmojo.rw.ConditionWalkProvider")
	var S=mstrmojo.Widget,J=mstrmojo.array,F=mstrmojo.dom,O=mstrmojo.hash,A=mstrmojo.mstr.EnumNodeDimty,K=mstrmojo.rw.ConditionWalkProvider.setTip,Q=mstrmojo.expr,I=Q.ET
	var C=mstrmojo.desc(11899,"Select a dataset object.")
	var M=J.hash([A.NodeDimtyOutputLevel])
	function E(){var Y=this.model
	if(Y){if(!Y.attachEventListener){O.make(Y,mstrmojo.ConditionModel,{})
	}Y.attachEventListener("edit",this.id,"onmodeledit")
	}}function N(Z,Y){if(Y&&Y.detachEventListener){Y.detachEventListener("edit",Z.id,"onmodeledit")
	}}function P(d,Y){var b=Y,c=[],a=[],Z=[],e=false
	O.forEach(b,function(f){c=c.concat(f.att.filter(function(g){return g.did===d
	}))
	})
	e=c[0]&&c[0].da
	c.forEach(function(f){a=a.concat(f.fs||[])
	})
	a.forEach(function(f){if((f.obf||e)&&Z.filter(function(g){return g.did===f.fid
	}).length===0){Z.push({did:f.fid,dtp:mstrmojo.expr.mapBaseFormTypeToDataType(f.bftp),n:f.fnm,t:f.t,isbf:f.isbf})
	}})
	return Z
	}function D(d,Y){var Z,b=Y,c,a=false
	if(typeof microstrategy!=="undefined"){b=b||microstrategy.bones.rwb_viewer.datasetInfos
	}O.forEach(b,function(e){Z=e.mx
	O.forEach(Z,function(f){if(f.did===d){c=e
	a=f.um||f.rdm
	return false
	}})
	return !c
	})
	return a&&c&&c.isMDX
	}mstrmojo.rw.ConditionWalk=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout,mstrmojo._HasPopup],{scriptClass:"mstrmojo.rw.ConditionWalk",markupString:'<div class="mstrmojo-rw-ConditionWalk" mstrAttach:click><div class="condition mstrmojo-ConditionNode"><div class="mstrmojo-cond-contents"></div></div><div class="walk"></div><div class="apply"></div></div>',markupSlots:{conditionNode:function(){return this.domNode.firstChild
	},walkNode:function(){return this.domNode.children[1]
	},applyNode:function(){return this.domNode.lastChild
	}},markupMethods:{onvisibleChange:function L(){S.visibleMarkupMethod.call(this)
	if(this.visible){this.initWalk()
	}},onheightChange:S.heightMarkupMethod,onwidthChange:S.widthMarkupMethod},layoutConfig:{h:{conditionNode:"auto",walkNode:"100%",applyNode:"auto"},xt:true},editor:undefined,columnWalk:undefined,tip:undefined,walkProvider:null,objectBrowsingEnabled:true,postCreate:function B(){if(this._super){this._super()
	}if(!this.walkProvider){this.walkProvider=mstrmojo.insert(mstrmojo.rw.ConditionWalkProvider)
	}},initWalk:function R(){var Y=this.columnWalk,Z=this.walkProvider
	K.call(this,C)
	Y.removeTrailingContainer(-1)
	Y.addNextColumn(Z.getTargetNodeProps())
	Y.target.updateColumnContainer()
	this.updateOkBtn()
	},updateBrowseElementsParams:function(b,a){b.attributeID=a.did
	b.otp=a.t||12
	var Z=this.editor,Y=Z&&Z.onUpdateBrowseElementsParams
	if(Y){Y.call(Z,b,a)
	}},children:[{scriptClass:"mstrmojo.ui.ColumnWalk",alias:"columnWalk",slot:"walkNode",height:"333px",width:"750px"},{alias:"cancelBtn",slot:"applyNode",scriptClass:"mstrmojo.Button",cssClass:"cancelBtn",title:mstrmojo.desc(2399,"Cancel"),ignoreLayout:true,onclick:function(){var Y=this.parent
	if(Y.close){Y.close()
	}}},{alias:"okBtn",slot:"applyNode",scriptClass:"mstrmojo.Button",cssClass:"okBtn",title:mstrmojo.desc(2397,"OK"),onclick:function(){var Y=this.parent
	if(Y.onOK){Y.onOK()
	}}},{scriptClass:"mstrmojo.Label",alias:"tip",slot:"applyNode",cssClass:"tip",text:C,ignoreLayout:true}],eb:{scriptClass:"mstrmojo.Editor",cssClass:F.isIE7?"mstrmojo-ElementsEditorIE7":"mstrmojo-ElementsEditor",title:mstrmojo.desc(6149,"Select Elements"),help:"element_browser_dialog_box.htm",children:[{scriptClass:"mstrmojo.ElementsBrowser",alias:"browser",onUpdateBrowseElementsParams:function(Z){var Y=this.parent.opener
	Y.updateBrowseElementsParams(Z,Y.model.a)
	}},{scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBox",slot:"buttonNode",children:[{scriptClass:"mstrmojo.Button",alias:"ok",text:mstrmojo.desc(1442,"OK"),cssClass:"mstrmojo-WebButton hot",cssText:"width: 66px
	",onclick:function(){var Y=this.parent.parent,Z=Y&&Y.opener
	if(Z){Z.onEBSelect()
	Z.closePopup()
	}}},{scriptClass:"mstrmojo.Button",alias:"ok",text:mstrmojo.desc(221,"Cancel"),cssClass:"mstrmojo-WebButton",cssText:"min-width: 66px
	margin-left: 11px
	",onclick:function(){var Y=this.parent.parent,Z=Y&&Y.opener
	if(Z){Z.closePopup()
	}}}]}]},ob:{scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-Editor-ObjectSelector",title:mstrmojo.desc(5298,"Select an Object"),help:"Select_Objects_dialog_box_.htm",children:[{scriptClass:"mstrmojo.ObjectBrowser",alias:"browser",fishEyeVisible:false,upButtonVisible:true,scrollableIncFetch:true,showCompletePath:false,closeable:false,closeOnSelect:false,browsableTypes:"3,4,8,10,12,256",includeObjectDesc:true,quickSearch:true,minSearchLength:1}]},_set_model:function W(b,Y){var Z=this.model,a=(Y!==Z)
	if(a){N.call(this,Z)
	Y.dimtyTypes=this.dimtyTypes||M
	this.model=Y
	E.call(this,Y)
	if(this.hasRendered&&this.visible){this.columnWalk.target.updateColumnContainer()
	}}return a
	},onmodeledit:function H(Z){var Y=Z.prop,b=Y==="c0"||Y==="c1",a=this.columnWalk[b?"c0":Y]
	if(b){a.c1Selected=Y==="c1"
	}a.updateColumnContainer()
	a.c1Selected=false
	this.updateOkBtn()
	},browse:function G(a){var c=this.parent.editorNode,b=function(e,g){var d=mstrmojo.dom.position(e,true),f=mstrmojo.dom.position(g,true)
	return{x:d.x+d.w,y:f.y}
	},Y=this.columnWalk,Z=this.walkProvider
	switch(a&&a.alias){case"target":case"dmy":Z.browseObjs(this,a,b(a.alias==="target"?Y.target.domNode:this.dmyNode,c))
	break
	case"c0":case"c1":Z.browseObjs(this,a,b(Y.c0.domNode,c))
	break
	case"es":Z.browseEs(this,a,b(Y.es.domNode,c))
	break
	}},onOBSelect:function(c){var a=this.ob.browser,e=a.target
	this.closePopup()
	var Z=this.targets,d=e.itemIdField,b=Z||[],Y=J.find(Z,d,c[d])
	if(Y===-1){b.push(c)
	this.targets=b
	this.targetsLastMod=new Date()
	this.raiseEvent({name:"updateTargets",targets:this.targets})
	}e.setSelectedItems([c],e.multiSelect)
	if(e.onObjBrowsed){e.onObjBrowsed(c)
	}},onEBSelect:function(){var Z=this.eb.browser,b=this.columnWalk.es.es
	b.set("selectedIndices",{})
	var Y=b.items,a=[]
	J.forEach(Z.selectedItems||[],function(d){if(J.find(b.items,"v",d.v)<0){a.push(d)
	}})
	var c=b.insertUnlistedValuesAt||0
	if(c<0){c=Y.length
	}b.set("items",Y.slice(0,c).concat(a).concat(Y.slice(c)))
	b.setSelectedItems(Z.selectedItems,false)
	},destroy:function U(Z){var Y=this.walkProvider
	if(Y&&Y.destroy){this.walkProvider.destroy()
	}this._super(Z)
	},updateOkBtn:function X(){var b=true,Y=this.model,Z,a=Y&&Q.fnCstCount(Y.fn,Y.fnt)
	if(!Y){return 
	}switch(Y.et){case I.AQ:case I.AL:case I.MQ:for(Z=0
	Z<a
	Z++){b=b&&!this["invalid"+Z]
	}break
	}b=b&&!!Y.completed
	this.okBtn.set("visible",b)
	this.raiseEvent({name:"conditionWalkUpdateOkBtn",valid:b})
	}})
	mstrmojo.rw.ConditionWalk.getAttForms=P
	mstrmojo.rw.ConditionWalk.isMdxDM=D
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.expr","mstrmojo.css","mstrmojo.Button","mstrmojo.Label","mstrmojo.rw.ConditionWalk","mstrmojo.ui.Pulldown","mstrmojo.ui.Checkbox","mstrmojo.ui._IsIncFetchList","mstrmojo.ui.ColumnWalk","mstrmojo.mstr.DocElementDataHelper")
	var F=mstrmojo.expr.ET.MQ,B=mstrmojo.expr.ET.MC,H=mstrmojo.css,G=mstrmojo.desc(14387,"Evaluate this condition independent of other dataset level conditions")
	var D=function(Q,S){var P=Q.et,N=this.parent&&this.parent.docModel&&this.parent.docModel.datasets,M=Q.m&&mstrmojo.rw.ConditionWalk.isMdxDM(Q.m.did,N),R=((P===F||P===B)&&!this.inRelation&&!M)?"block":"none",O=(((S===1)||P!==F)&&!M)?1:0
	H.toggleClass(this.toolNode,"unselectable",P===B)
	this.toolNode.style.display=R
	this.level.set("selectedIndex",O)
	this.includeExist.set("visible",O===1&&(P===B||P===F))
	this.includeExist.set("checked",Q.idcsi===undefined?false:Q.idcsi)
	}
	mstrmojo.vi.ui.editors.fe.ConditionWalk=mstrmojo.declare(mstrmojo.rw.ConditionWalk,[mstrmojo.ui._IsIncFetchList],{scriptClass:"mstrmojo.vi.ui.editors.fe.ConditionWalk",markupString:'<div class="mstrmojo-rw-ConditionWalk" mstrAttach:click><div class="condition mstrmojo-ConditionNode"><div class="mstrmojo-cond-contents"></div></div><div class="walk"></div><div class="tools"></div><div class="apply"></div></div>',markupSlots:mstrmojo.hash.copy({toolNode:function(){return this.domNode.childNodes[2]
	}},mstrmojo.hash.copy(mstrmojo.rw.ConditionWalk.prototype.markupSlots)),layoutConfig:{h:{conditionNode:"auto",walkNode:"100%",toolNode:"auto",applyNode:"auto"},xt:true},children:[{scriptClass:"mstrmojo.ui.ColumnWalk",alias:"columnWalk",slot:"walkNode",height:"333px",width:"800px"},{alias:"cancelBtn",slot:"applyNode",scriptClass:"mstrmojo.Button",cssClass:"cancelBtn",title:mstrmojo.desc(2399,"Cancel"),ignoreLayout:true,onclick:function(){var M=this.parent
	if(M.close){M.close()
	}}},{alias:"okBtn",slot:"applyNode",scriptClass:"mstrmojo.Button",cssClass:"okBtn",title:mstrmojo.desc(2397,"OK"),onclick:function(){var M=this.parent
	if(M.onOK){M.onOK()
	}}},{scriptClass:"mstrmojo.Label",alias:"tip",slot:"applyNode",cssClass:"tip",text:"",ignoreLayout:true}],init:function K(M){this._super(M)
	this.attachEventListener("conditionWalkUpdateOkBtn",this.id,function(N){var P=N.valid,O=this.parent
	O.toggleOkButtonStatus(P)
	})
	},postCreate:function I(){this.children=mstrmojo.hash.clone(this.children).concat([{scriptClass:"mstrmojo.Label",slot:"toolNode",text:mstrmojo.desc(13517,"Calculate on")},{scriptClass:"mstrmojo.ui.Pulldown",slot:"toolNode",alias:"level",isHostedWithin:false,items:[{n:mstrmojo.desc(13518,"Template level"),v:0},{n:mstrmojo.desc(13519,"Dataset level"),v:1}],onitemSelected:function M(N){var O=this.parent
	if(O&&O.condition&&O.visible){O.includeExist.set("visible",N.v===1)
	O.condition.level=N.v
	}}},{scriptClass:"mstrmojo.ui.Checkbox",alias:"includeExist",slot:"toolNode",postBuildRendering:function(){this.domNode.innerHTML=G
	},oncheckedChange:function(){var N=this.parent
	if(N){N.model.set("idcsi",this.checked)
	}}}])
	if(this._super){this._super()
	}},onvisibleChange:function J(M){var N=this.condition
	if(N&&this.toolNode&&this.visible){D.call(this,N.data,N.tree.level)
	}if(this._super){this._super(M)
	}},onmodeledit:function A(M){if(this._super){this._super(M)
	}if(this.toolNode){D.call(this,this.model.get(),this.model.level)
	}},getAttributeForms:function L(M){return mstrmojo.rw.ConditionWalk.getAttForms(M,this.editor.docModel.datasets)
	},getElements:function E(P,R){var Q={},N=R.complete,O=this
	this.scrollNode=this.columnWalk.es.scrollNode
	var M=this.scrollNode&&this.scrollNode.style
	if(M){M.height="100%"
	}if(!this.ifDataHelper){this.ifDataHelper=new mstrmojo.mstr.DocElementDataHelper({source:this.editor.docModel.getDataService()})
	}else{this.ifDataHelper.set("items",null)
	}this.columnWalk.es.es.allowUnlistedValues=false
	this.updateBrowseElementsParams(Q,P)
	this.ifDataHelper.browseConfig=Q
	R=mstrmojo.func.wrapMethods(R,{complete:function(S){O.initScroll()
	}})
	this.ifDataHelper.getItems(1,R)
	},postNext:function C(){this.columnWalk.es.updateList(this.ifDataHelper.items)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.rw.ConditionWalk","mstrmojo.Label","mstrmojo.ui.Pulldown","mstrmojo.ui.Checkbox","mstrmojo.expr","mstrmojo.css")
	var F=mstrmojo.expr.ET.MQ,H=mstrmojo.expr.ET.MC,C=mstrmojo.css,B=mstrmojo.desc(14387,"Evaluate this condition independent of other dataset level conditions")
	var G=function(L,N){var K=L.et,I=L.m&&mstrmojo.rw.ConditionWalk.isMdxDM(L.m.did),M=((K===F||K===H)&&!this.inRelation&&!I)?"block":"none",J=(((N===1)||K!==F)&&!I)?1:0
	C.toggleClass(this.toolNode,"unselectable",K===H)
	this.toolNode.style.display=M
	this.level.set("selectedIndex",J)
	this.includeExist.set("visible",J===1&&(K===H||K===F))
	this.includeExist.set("checked",L.idcsi===undefined?false:L.idcsi)
	}
	mstrmojo.fe.ConditionWalk=mstrmojo.declare(mstrmojo.rw.ConditionWalk,null,{scriptClass:"mstrmojo.fe.ConditionWalk",markupString:'<div class="mstrmojo-rw-ConditionWalk" mstrAttach:click><div class="condition mstrmojo-ConditionNode"><div class="mstrmojo-cond-contents"></div></div><div class="walk"></div><div class="tools"></div><div class="apply"></div></div>',markupSlots:mstrmojo.hash.copy({toolNode:function(){return this.domNode.childNodes[2]
	}},mstrmojo.hash.copy(mstrmojo.rw.ConditionWalk.prototype.markupSlots)),layoutConfig:{h:{conditionNode:"auto",walkNode:"100%",toolNode:"auto",applyNode:"auto"},xt:true},postCreate:function E(){this.children=mstrmojo.hash.clone(this.children).concat([{scriptClass:"mstrmojo.Label",slot:"toolNode",text:mstrmojo.desc(13517,"Calculate on")},{scriptClass:"mstrmojo.ui.Pulldown",slot:"toolNode",alias:"level",isHostedWithin:false,items:[{n:mstrmojo.desc(13518,"Template level"),v:0},{n:mstrmojo.desc(13519,"Dataset level"),v:1}],onitemSelected:function I(J){var K=this.parent
	if(K&&K.condition&&K.visible){K.includeExist.set("visible",J.v===1)
	K.condition.level=J.v
	}}},{scriptClass:"mstrmojo.ui.Checkbox",alias:"includeExist",slot:"toolNode",postBuildRendering:function(){this.domNode.innerHTML=B
	},oncheckedChange:function(){var J=this.parent
	if(J){J.model.set("idcsi",this.checked)
	}}}])
	if(this._super){this._super()
	}},onvisibleChange:function A(I){var J=this.condition
	if(J&&this.toolNode&&this.visible){G.call(this,J.data,J.tree.level)
	}if(this._super){this._super(I)
	}},onmodeledit:function D(I){if(this._super){this._super(I)
	}if(this.toolNode){G.call(this,this.model.get(),this.model.level)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.dom","mstrmojo.array","mstrmojo.vi.ui.theme","mstrmojo._HasOwnAvatar","mstrmojo.vi.ui.VIDragUnit","mstrmojo.hash")
	var G=mstrmojo.css,E=mstrmojo.dom,B=mstrmojo.vi.ui.theme,F=mstrmojo.array,C=mstrmojo.hash
	function D(P,Q,O){var N=false
	F.forEach(this.getSelectedItems(),function(R){if(R.itemNode===Q||R===P){N=true
	}})
	if(P&&!N){this.doItemSelect(P,O||{})
	}}var M={avatarCssClass:"mstrmojo-VIUnitList",encodeUnitAvatar:true,getDragData:function L(N){var O=N.src.node,Q=E.findAncestorByAttr(O,"idx",true,this.domNode)
	N.src.node=Q?Q.node:O
	var P=(N.dragUnitHelper=new mstrmojo.vi.ui.VIDragUnit()).getUnitDragData(N,this.getSelectedItems())
	if(this.getItemDisplayName){mstrmojo.func.override({getItemDisplayName:this.getItemDisplayName},N.dragUnitHelper)
	}P.srcId=this.id
	return P
	},createAvatar:function A(O,N){if(N.dragUnitHelper){return N.dragUnitHelper.getUnitAvatar(N,this.encodeUnitAvatar)
	}},selectDragNode:function K(N){var O=N.src
	D.call(this,this.getItemFromTarget(O.node),this.getItemNodeFromTarget(O.node),O)
	},onItemContextMenu:function J(O,N){D.call(this,O,this.getItemNodeFromTarget(N.getTarget()),N)
	if(this._super){return this._super(O,N)
	}},positionAvatar:function H(O,N){N.dragOffsets=N.dragUnitHelper.getDragUnitOffsets()
	if(this._super){this._super(O,N)
	}}},I=C.copy(M)
	I._mixinName="mstrmojo.vi.ui._HasUnitListAvatar2"
	I.getDragData=function(N){if(this.isDraggingItem&&!this.isDraggingItem(N)){if(this._super){return this._super(N)
	}}else{return M.getDragData.call(this,N)
	}}
	mstrmojo.vi.ui._HasUnitListAvatar2=mstrmojo.provide("mstrmojo.vi.ui._HasUnitListAvatar2",I)
	mstrmojo.vi.ui._HasUnitListAvatar=mstrmojo.provide("mstrmojo.vi.ui._HasUnitListAvatar",mstrmojo.mixin(M,mstrmojo.mixin(mstrmojo._HasOwnAvatar)))
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.desc","mstrmojo.Container","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo.VisUtility")
	mstrmojo.requiresClsP("mstrmojo","array","hash","Button","Box","Label","ui.Pulldown")
	var E=mstrmojo.hash,K=mstrmojo.array,A=mstrmojo.vi.ui.DatasetUnitMenuUtils,L=mstrmojo.VisUtility,D=4,M={fontSize:"12px",fontFamily:"Arial"},J=80,P=mstrmojo.desc(17384,"Select an Attribute"),G=mstrmojo.desc(17383,"Select a Metric"),H=mstrmojo.desc(16896,"Use objects to replace"),I=L.measureTextWidth(H,M)
	mstrmojo.vi.ui.AMSelectorCandidatePicker=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.vi.ui.AMSelectorCandidatePicker",markupString:'<div class="candidate-picker-curtain"><div class="candidate-picker"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	}},selector:null,rplObj:null,viUnit:null,maxSizeFromText:null,init:function O(Q){this._super(Q)
	this.initCandidateList()
	},getCandidateData:function F(){var R=E.walk("viUnit.boxContent.model.data",this),W=R&&R.gsi,Q=this.selector.isAttrSelector,S,U=[]
	if(!W){return U
	}S=K.ensureArray(W)
	K.forEach(S,function(X){U=U.concat(Q?(X.rows||[]).concat(X.cols||[]):X.mx)
	})
	if(!Q&&R.trendref){U=L.filterTrendlineMXByDZ(U,R.dz)
	}return U
	},calculatePulldownWidth:function N(){var Q,R=this.viUnit.width,S=parseInt(R)-80
	if((S<=this.maxSizeFromText)||(this.maxSizeFromText>=I)||(S<=J)){Q=Math.max(Math.min(this.maxSizeFromText,S),J)
	}return Q
	},initCandidateList:function B(){var U=this.getCandidateData(),Y=this
	E.forEach(this.selector.replaceRelation,function(c,b){if(b===Y.viUnit.k){Y.rplObj=c
	return false
	}})
	var Q=[]
	var W=[]
	var R=-1
	K.forEach(U,function(b){if(b.did!=="-1"){if(b.ru){var c=b.ru.did
	if(!K.includes(Q,c)){Q.push(c)
	W.push({n:b.ru.n,did:b.ru.did,unit:b.ru})
	if(Y.rplObj&&Y.rplObj.id===c){R=W.length-1
	}}}else{if(!b.is_pushdown&&!K.includes(Q,b.did)){Q.push(b.did)
	W.push({n:b.n,did:b.did,unit:b})
	if(Y.rplObj&&Y.rplObj.id===b.did){R=W.length-1
	}}}}})
	var S=E.walk("selector.model.datasets",Y),a=[],X
	E.forEach(S,function(b){X=Y.selector.isAttrSelector?b.att:b.mx
	a=a.concat(X)
	})
	K.forEach(W,function(b){K.forEach(a,function(c){if(c.did===b.did){b.unit=c
	return false
	}})
	})
	if(R===-1){R=0
	if(Y.rplObj){K.forEach(a,function(b){if(Y.rplObj.id===b.did){W.unshift({n:b.n,did:b.did,unit:b,hid:true})
	return false
	}})
	}else{if(W.length>1){W.unshift({n:Y.selector.isAttrSelector?P:G,hid:true})
	}}}var Z
	if(W.length){this.maxSizeFromText=W.map(function(b){if(!b.unit){return L.measureTextWidth(b.n,M)+32
	}return L.measureTextWidth(b.n,M)+50
	}).reduce(function(d,c){return Math.max(d,c)
	})
	Z=this.calculatePulldownWidth()
	}this.addChildren({scriptClass:"mstrmojo.Box",markupString:'<div id="{@id}" class="mstrmojo-Box {@cssClass}" style="{@cssText}" mstrAttach:click></div>',alias:"pickerInnerBox",slot:"containerNode",onclick:function(b){b.cancel()
	},children:[{scriptClass:"mstrmojo.Label",text:H},{scriptClass:"mstrmojo.ui.Pulldown",cssClass:"candiPickerPulldown",cssText:Z?("width: "+Z+"px
	"):"",alias:"candiPulldown",selectedIndex:R,isHostedWithin:false,items:W.map(function(b){if(b.unit){if(!b.unit.t){b.unit.t=D
	}b.cls=A.getUnitCssClass(b.unit)
	}else{b.cls="default"
	}return b
	}),onitemSelected:function(d,b){if(d.unit){if(!Y.rplObj||d.unit.did!==Y.rplObj.id){Y.rplObj={id:d.unit.did,tp:d.unit.t||D}
	Y.selector.tmp_replaceRelation[Y.viUnit.k]=E.clone(Y.rplObj)
	var c=E.walk("viUnit.parent._tgtSelections.notify",Y)
	if(c instanceof Function){c()
	}}else{if(Y.rplObj&&d.unit.did===Y.rplObj.id){Y.selector.tmp_replaceRelation[Y.viUnit.k]=E.clone(Y.rplObj)
	}}}this.selectedNode.className="mstrmojo-ui-Pulldown-text "+d.cls
	}}]})
	if(W.length===1&&!W[0].did){this.pickerInnerBox.candiPulldown.set("enabled",false)
	}},resize:function C(){if(this.maxSizeFromText){var R=this.calculatePulldownWidth(),Q=E.walk("pickerInnerBox.candiPulldown.domNode.style",this)
	if(Q){Q.width=R?(R+"px"):""
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.array","mstrmojo.color","mstrmojo.string","mstrmojo.vi.enums.EnumFeatures","mstrmojo.VisUtility")
	var d=mstrmojo,u=d.dom,AU=d.css,N=d.array,m=d.color,W=d.string,J=mstrmojo.VisUtility,O=90,AR=-90,v=180,e=-180,g=true,AB=d.vi.enums.EnumFeatures,AV="http://www.w3.org/2000/svg"
	var q
	function AT(){var AZ=navigator.userAgent.toLowerCase()
	return u.isIE||(AZ&&AZ.match(/rv:([\d.]+)\) like gecko/))
	}mstrmojo.gmaps.MapUtils=mstrmojo.provide("mstrmojo.gmaps.MapUtils",{_mixinName:"mstrmojo.gmaps.MapUtils",checkVal:function r(AZ){return this.checkDefined(AZ)&&!(isNaN(parseInt(AZ)))
	},checkVals:function S(Aa){var AZ=true
	N.forEach(Aa,function(Ab){if(!this.checkVal(Ab)){AZ=false
	return false
	}})
	return AZ
	},checkHasFunction:function f(Aa,AZ){return Aa&&Aa[AZ]&&Aa[AZ] instanceof Function
	},checkDefined:function Y(AZ){return(AZ!==undefined)&&(AZ!==null)
	},parseBoolean:function c(AZ){return AZ===true||AZ==="true"
	},isAsp:function AS(){return(window.location.pathname.indexOf("/asp/")>0)
	},trimString:function AI(AZ){return mstrmojo.string.trim(AZ)
	},log:function D(AZ){if(console&&console.log){console.log(AZ)
	}},replaceSpace:function AX(Ab,Aa){if(!this.checkDefined(Ab)){return 
	}var AZ=(this.checkDefined(Aa))?Aa:"_"
	return Ab.replace(/ /g,AZ)
	},getProtocol:function F(){return"https:"
	},createMouseEvt:function M(Aa){var AZ
	if(AT()||u.isFF){AZ=document.createEvent("MouseEvents")
	AZ.initEvent(Aa,true,false)
	}else{if(window.MouseEvent){AZ=new MouseEvent(Aa)
	}}return AZ
	},isRMClick:function w(AZ){var Aa=false
	if(AZ){if(AZ.which){Aa=AZ.which===3
	}else{if(AZ.button){Aa=AZ.button===2
	}}}return Aa
	},createNormalNode:function P(AZ){if(!!AZ){return document.createElement(AZ)
	}},createSvgNode:function AN(AZ){if(!!AZ){return document.createElementNS(AV,AZ)
	}},appendNode:function E(AZ,Aa){if(this.checkHasFunction(AZ,"appendChild")&&Aa){AZ.appendChild(Aa)
	}},appendSvgNode:function AD(AZ){if(!AZ){return 
	}var Aa=this.createSvgNode("svg")
	this.setCssStyles(Aa,{position:"absolute",width:AZ.style.width,height:AZ.style.height,top:"0px",left:"0px"})
	AZ.appendChild(Aa)
	return Aa
	},appendGNode:function o(Aa){if(!this.checkHasFunction(Aa,"appendChild")){return 
	}var AZ=this.createSvgNode("g")
	Aa.appendChild(AZ)
	return AZ
	},setNodeAttributes:function X(Aa,AZ){if(!this.checkHasFunction(Aa,"setAttribute")||!AZ){return 
	}for(var Ab in AZ){if(this.checkDefined(AZ[Ab])){Aa.setAttribute(Ab,AZ[Ab])
	}}},setCssStyles:function K(Ab,Aa){var AZ=Ab&&Ab.style,Ac
	if(!AZ||!Aa){return 
	}for(Ac in Aa){if(this.checkDefined(Aa[Ac])){AZ[Ac]=Aa[Ac]
	}}},setCssTransform:function AY(AZ,Aa){if(!Aa||!this.checkVal(Aa.x)||!this.checkVal(Aa.y)){return 
	}N.forEach(N.ensureArray(AZ),function(Ab){this.setNodeAttributes(Ab,{transform:"translate("+Aa.x+" "+Aa.y+")"})
	},this)
	},emptyDomElement:function AF(AZ){if(!this.checkHasFunction(AZ,"removeChild")){return 
	}while(AZ.firstChild){AZ.removeChild(AZ.firstChild)
	}},insertAfter:function U(Ab,Aa){var AZ=Aa&&Aa.parentNode
	if(Ab&&this.checkHasFunction(AZ,"insertBefore")){if(Aa.nextSibling){AZ.insertBefore(Ab,Aa.nextSibling)
	}else{AZ.appendChild(Ab)
	}}},insertAsFirstChild:function AP(AZ,Aa){if(AZ&&Aa){if(AZ.firstChild){AZ.insertBefore(Aa,AZ.firstChild)
	}else{AZ.appendChild(Aa)
	}}},getEvtCoordInsideNode:function b(Aa,AZ){var Ab=this.getBoundingRect(AZ)
	if(!Aa||!this.checkVal(Aa.clientX)||!this.checkVal(Aa.clientY)||!Ab||!this.checkVal(Ab.left)||!this.checkVal(Ab.top)){this.log("getEvtCoordInsideNode(): Invalid clientRect.")
	return 
	}return{x:Aa.clientX-Ab.left,y:Aa.clientY-Ab.top}
	},getBoundingRect:function AH(AZ){if(this.checkHasFunction(AZ,"getBoundingClientRect")){return AZ.getBoundingClientRect()
	}},showWait:function x(){if(this.checkHasFunction(mstrApp,"showWait")){mstrApp.showWait()
	}else{if(this.checkHasFunction(microstrategy,"showWait")){microstrategy.showWait(true)
	}}},hideWait:function AQ(AZ){if(this.checkHasFunction(mstrApp,"hideWait")){mstrApp.hideWait(AZ)
	}else{if(this.checkHasFunction(microstrategy,"showWait")){microstrategy.showWait(false)
	}}},isValidLatLng:function AK(Aa,AZ){if(!this.checkVal(Aa)||!this.checkVal(AZ)){return false
	}return parseInt(Aa)>=AR&&parseInt(Aa)<=O&&parseInt(AZ)>=e&&parseInt(AZ)<=v
	},isExpress:function AC(){return !!(mstrApp&&mstrApp.isExpress)
	},isVI:function AJ(){return mstrApp&&mstrApp.isVI
	},isOIVM:function H(){return mstrApp&&(mstrApp.isExpress||mstrApp.isVI)
	},isSingleTier:function Z(){return !!(mstrApp&&mstrApp.isSingleTier)
	},isWorkstation:function AL(){return mstrApp&&mstrApp.isWorkstation
	},isWSLiveMode:function p(){return mstrApp&&mstrApp.supportFeature(AB.SUPPORT_LIVEMODE)&&(typeof mstrApp.getWSLiveMode==="function")&&mstrApp.getWSLiveMode()
	},isWSLocalMode:function n(){return this.isSingleTier()&&!this.isWSLiveMode()
	},getEvent:function AA(AZ){if(!u.supportsTouches){return AZ
	}else{return u.firstChangedTouch(window,AZ)
	}},enableZoomLevelAndPosSaving:function Q(){return !this.isWorkstation()||g
	},isCanvasSupported:function AM(){var AZ=document.createElement("canvas")
	return !!(AZ.getContext&&AZ.getContext("2d"))
	},convertImageUrl:function j(AZ){if(mstrApp.isDossier&&AZ&&AZ.indexOf("../")===0){return d.getStyleRoot()+"/../"+AZ.substr(3)
	}return AZ
	},encode:function h(Ab,Aa){var Ad=Ab
	if(!this.checkDefined(Aa)){Aa=false
	}if(Ab&&Ab.length>0){Ad=""
	for(var Ac=0,AZ=Ab.length
	Ac<AZ
	Ac++){switch(Ab.charAt(Ac)){case"&":if((Ab.length!==(Ac+1))&&(Ab.charAt(Ac+1)==="#")){Ad+="&"
	}else{Ad+="&amp
	"
	}break
	case"<":Ad+="&lt
	"
	break
	case">":Ad+="&gt
	"
	break
	case"'":Ad+="&#039
	"
	break
	case"\n":if(!Aa){Ad+="<br />"
	}else{Ad+=Ab.charAt(Ac)
	}break
	case'"':Ad+="&quot
	"
	break
	case" ":if(Ac===0||(Ac<Ab.length-1&&Ab.charAt(Ac+1)===" ")){Ad+="&nbsp
	"
	}else{Ad+=Ab.charAt(Ac)
	}break
	default:Ad+=Ab.charAt(Ac)
	break
	}}}return Ad
	},loadCss:function AW(AZ,Ae){var Ad=document.styleSheets
	if(Ad){var Ab,Ac
	for(Ab=0
	Ab<Ad.length
	Ab++){Ac=Ad[Ab]
	if(Ac.id===AZ){return 
	}}}var Aa=document.createElement("link")
	Aa.setAttribute("rel","stylesheet")
	Aa.setAttribute("type","text/css")
	Aa.setAttribute("href",Ae)
	Aa.setAttribute("id",AZ)
	document.getElementsByTagName("head")[0].appendChild(Aa)
	},getGraphicLayerById:function B(AZ){var Aa=mstrmojo.all[AZ]
	if(!Aa){this.hideWait()
	}return Aa
	},isEmbedded:function C(){return mstrApp&&mstrApp.isEmbedded
	},_verifyProtocol:function k(AZ){if("https:"===window.location.protocol&&(-1!==AZ.search(/^http\:\/\/server\.arcgisonline\.com/i)||-1!==AZ.search(/^http\:\/\/services\.arcgisonline\.com/i)||-1!==AZ.search(/^http\:\/\/.+\.arcgis\.com/i))){AZ=AZ.replace(/http:/i,"https:")
	}return AZ
	},loadExternalScript:function L(Aa,Ad,Ab){if(!Aa){return 
	}var AZ=document.createElement("script")
	AZ.type="text/javascript"
	AZ.src=Aa
	if(Ab){AZ.onerror=Ab
	}if(AZ.addEventListener){AZ.addEventListener("load",function Ac(){AZ.removeEventListener("load",Ac)
	AZ.onerror=null
	if(Ad){Ad()
	}},false)
	}else{if(AZ.readyState){AZ.onreadystatechange=function(){if(AZ.readyState==="loaded"||AZ.readyState==="complete"){AZ.onreadystatechange=null
	AZ.onerror=null
	if(Ad){Ad()
	}}}
	}}document.getElementsByTagName("head")[0].appendChild(AZ)
	},getNoInternetMessage:function z(){var Aa,AZ
	if(mstrApp.isSingleTier){Aa="Unable to create the map. Please check your connection. You can configure an Internet proxy through your computer's #"
	AZ='<a href="" style="color:#7CC5EC" onclick="window.FormWrapper.showProxyEditor()
	return false
	">'+mstrmojo.desc(7831,"Settings")+"</a>."
	Aa=Aa.replace("#",AZ)
	}else{Aa="Unable to download the requested map. Please contact your administrator to resolve this issue."
	}return Aa
	},getThemeClass:function A(){if(mstrApp&&mstrApp.getThemeClassName){return" "+mstrApp.getThemeClassName()
	}},adjustHSV:function AE(Aj,Ab,Ad,Ai){if(!Aj||!this.checkVal(Ab)||!this.checkVal(Ad)||!this.checkVal(Ai)){return Aj
	}var Ag,Ak,Aa,AZ,Ae,Af,Ac,Ah
	if(!Aj){return Aj
	}if(Aj.length===7){Ag=parseInt(Aj.substring(1,3),16)
	Ak=parseInt(Aj.substring(3,5),16)
	Aa=parseInt(Aj.substring(5,7),16)
	}else{if(Aj.length===4){Ag=parseInt(Aj.substring(1,2)+Aj.substring(1,2),16)
	Ak=parseInt(Aj.substring(2,3)+Aj.substring(2,3),16)
	Aa=parseInt(Aj.substring(3,4)+Aj.substring(3,4),16)
	}else{return Aj
	}}AZ=m.rgb2hsv(Ag,Ak,Aa)
	AZ[0]=AZ[0]*Ab
	AZ[1]=AZ[1]*Ad
	AZ[2]=parseInt(AZ[2]*Ai>100?100:AZ[2]*Ai,10)
	Ae=m.hsv2rgb(AZ[0],AZ[1],AZ[2])
	Ag=parseInt(Ae[0],10)
	Ak=parseInt(Ae[1],10)
	Aa=parseInt(Ae[2],10)
	Af=Ag<16?"0"+Ag.toString(16):Ag.toString(16)
	Ac=Ak<16?"0"+Ak.toString(16):Ak.toString(16)
	Ah=Aa<16?"0"+Aa.toString(16):Aa.toString(16)
	Aj="#"+Af+Ac+Ah
	return Aj
	},fillColorAjustForCMSelection:function R(AZ){return this.adjustHSV(AZ,1,0.5,1.2)
	},fillColorAjustForHover:function AG(AZ){return this.adjustHSV(AZ,1,0.6,1.15)
	},setLayerNodeProps:function I(Ac,Ad,Ab,Aa,AZ){this.setNodeAttributes(Ac,{id:Ad,"class":Ab})
	this.setCssStyles(Ac,{position:"absolute",top:"0px",left:"0px"})
	if(this.checkVal(Aa)&&this.checkVal(AZ)){Aa=parseInt(Aa)
	AZ=parseInt(AZ)
	this.setCssStyles(Ac,{width:Aa+"px",height:AZ+"px"})
	}},destroyNode:function AO(AZ){if(!AZ){return 
	}try{if(AZ.parentNode){AZ.parentNode.removeChild(AZ)
	}}catch(Aa){}},destroyObj:function a(AZ){if(AZ&&AZ.destroy instanceof Function){AZ.destroy()
	}},removeHTMLTagsAndProps:function G(Aa,Ac,AZ){try{(Aa.match(/<[^>]+>/g)||[]).forEach(function(Ah){var Ak,Af,Ae,Ag,Al,Ad,Ai,Am,Aj=Ah
	Af=Aj.match(/<\/?([a-z]+\b)/i)
	if(Af&&Af.length===2){Ae=Af[1]
	if(Ac.indexOf(Ae.toLowerCase())<0){Aa=Aa.replace(Ah,"")
	return 
	}if(Aj.charAt(1)==="/"){Aj=Aj.substring(2)
	Ai="</"
	}else{Aj=Aj.substring(1)
	Ai="<"
	}Ak=Aj.length-2
	if(Aj.charAt(Ak)==="/"){Aj=Aj.substring(0,Ak)
	Am="/>"
	}else{Aj=Aj.substring(0,Aj.length-1)
	Am=">"
	}Aj=Aj.replace(Ae,"")
	Ad=""
	Al=""
	while(Aj!=Ad){Ad=Aj
	Aj=W.trim(Aj)
	Af=Aj.match(/([^=]+)=\s*('[^']*'|"[^"]*")/)
	if(Af&&Af.length===3){Ag=W.trim(Af[1]).split(/\s+/)
	if(Ag&&Ag.length>0){Ag=Ag[Ag.length-1]
	if(AZ.indexOf(Ag.toLowerCase())>=0){Al+=" "+Ag+"="+Af[2]
	}}Aj=Aj.substring(Af[0].length)
	}}Aa=Aa.replace(Ah,Ai+Ae+Al+Am)
	}})
	}catch(Ab){console.log("HTML Parse Error: "+Ab)
	}finally{return Aa
	}},addArrowNode:function t(Aa){if(Aa){var AZ=this.createNormalNode("div")
	AU.addClass(AZ,"mstrmojo-Tooltip-arrow")
	this.appendNode(Aa,AZ)
	}},getFontFamilyItems:function l(AZ){if(q){return q
	}else{q=N.filter(J.getFontFamilyItems(),function(Aa){return N.indexOf(AZ,Aa.n)===-1
	})
	return q
	}},unserializeTooltipForms:function(Aa){if(!Aa){return{}
	}try{return JSON.parse(Aa)
	}catch(AZ){return{}
	}},serializeTooltipForms:function(AZ){return JSON.stringify(AZ)
	},decodeWebJson:function(Ab,Aa){var AZ=Ab
	if(Aa){AZ=W.decodeXMLAttribute(AZ)
	AZ=W.decodeHtmlString(AZ,true)
	}AZ=AZ.replace(/&nbsp
	/g," ")
	return AZ
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ListBase","mstrmojo._IsList","mstrmojo._HasSuggestion","mstrmojo.css","mstrmojo.VisUtility","mstrmojo.hash","mstrmojo.dom")
	var K=mstrmojo.dom,E=mstrmojo.css,S="srchBoxState",C=mstrmojo.Enum_Keys,W=mstrmojo.VisUtility,l=mstrmojo.Enum_Keys,M=200,j,H=24,R={fontFamily:"Arial",fontSize:"11px"}
	var g={2147762262:mstrmojo.desc(16256,"Please enter a numeric value"),2147762227:mstrmojo.desc(16257,"Unable to perform search with the operators provided")}
	var Q={DEFAULT:1,ADDING:2,EMPTY:3,FULL:4}
	var o="mstrmojo-SimpleObjectInputBox-del"
	function F(){var u=this.inputBox,v=u&&u.value
	if(v!==""&&(v!==this._lastPattern||!this.suggestionShown)){this.showSuggestion(v)
	this._isSearching=true
	if(this.hitEnterToTest){this.inputBox.blur()
	}}this._lastPattern=v
	delete this._timerHandle
	}function D(){var u=this._timerHandle
	if(u){window.clearTimeout(u)
	delete this._timerHandle
	}}function A(){if(this.richTooltip){if(this.tooltip){this.tooltip.set("allowOtherTooltips",false)
	}this.hideTooltip()
	}}function d(u){var w=this._inputPos,v=!mstrApp.isAppStatePresentation||mstrApp.isAppStatePresentation(),x=this,z
	if(this.richTooltip){z=this.richTooltip
	if(!this.hasOpenTooltip&&!this.suggestionShown){z.top=(w.h+w.y)+"px"
	z.left=w.x+"px"
	if(!this.hitEnterToTest&&!v){window.setTimeout(function(){var AC=x.tooltip,AB=AC&&AC.contentNode,AD,AA
	AD=AB?AB.childNodes:null
	if(AD&&AD.length>1){AA=AD[1]
	AD=AA.childNodes
	if(AD&&AD.length>1){AA=AD[1]
	}else{AA=null
	}}if(x.hasOpenTooltip&&AA&&!E.hasClass(AB,"lng")){if(z.onclick){x.tooltip.onclick=z.onclick
	K.attachMarkupEvent(x.tooltip.id,AA,"click")
	}E.addClass(AB,"lng")
	}},3000)
	}this.showTooltip(u.e,u.hWin)
	this.set("allowOtherTooltips",!this.hitEnterToTest)
	}}}function G(){if(window.mstrLocalStorage===undefined){return{}
	}var u=(mstrLocalStorage.getLocalStorage()||{})[S]
	return(u&&JSON.parse(u))||{}
	}function a(u){if(window.mstrLocalStorage!==undefined){mstrLocalStorage.setItem(S,JSON.stringify(u))
	}}mstrmojo.SimpleObjectInputBox=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList,mstrmojo._HasSuggestion,mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.SimpleObjectInputBox",markupString:'<div id="{@id}" class="mstrmojo-ListBase mstrmojo-SimpleObjectInputBox {@cssClass}" style="{@cssText}" mstrAttach:click,keydown><div class="mstrmojo-SimpleObjectInputBox-container {@icnCss}" style="{@icnCssText}">{@itemsHtml}<input type="text" mstrAttach:keydown,keyup,blur,focus style="display: none
	" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" /><div class="mstrmojo-SimpleObjectInputBox-empty"><div>{@en@emptyText}</div></div></div></div>',markupSlots:{itemsContainerNode:function(){return this.domNode.firstChild
	},emptyTextNode:function(){return this.domNode.firstChild.lastChild
	},inputBox:function(){var u=this.domNode.firstChild.children
	return u[u.length-2]
	},scrollboxNode:function(){return this.domNode.firstChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onheightChange:mstrmojo.Widget.heightMarkupMethod,onwidthChange:mstrmojo.Widget.widthMarkupMethod,onmaxItemWidthChange:function f(){var u=this.maxItemWidth
	if(!isNaN(u)&&u>0){this.emptyTextNode.style.maxWidth=u+"px"
	}}},itemField:"n",emptyText:"",state:0,maxItemWidth:"none",useKeyDelay:false,hitEnterToTest:false,maxObjectCount:null,useRichTooltip:true,init:function p(u){this._super(u)
	if(mstrApp.isWorkstation){R.fontFamily="Helvetica"
	}},showTooltip:function t(v,z){var x=v.target||K.eventTarget(v.hWin,v.e),w=this.getItemFromTarget(x)
	if(w&&w.n){var AA=this.getItemNodeFromTarget(x).firstChild,u=K.position(AA)
	this.richTooltip={posType:mstrmojo.tooltip.POS_TOPCENTER,cssClass:"vi-regular vi-tooltip-A A-center",refNode:AA,content:mstrmojo.string.encodeHtmlString(w.n),top:u.h+11,left:u.w/2}
	this._super(v,z)
	}},getItemMarkup:function(u){if(!j){var v=this.itemField
	j=this._super(u).replace(">{@en@n}<",'><div class="elem">{@en@'+v+'}<div class="'+o+'"></div></div><')
	}return j
	},getItemProps:function e(z,u){var w=this._super(z,u),AA=this.itemField
	var x=this.maxItemWidth
	if(!isNaN(x)&&x>0){x=(x-H)
	}if(!mstrmojo.string.isEmpty(z[AA])){var v=z[AA]
	w[AA]=v
	if(x<W.measureTextWidth(v,R)){w.title=v
	}}w.addStyle("max-width:"+x+"px")
	return w
	},getSuggestionPos:function X(){var u=this._inputPos
	return{target:this.inputBox,left:u.x+"px",top:u.y+u.h+"px",zIndex:100}
	},updateSuggestion:function b(u){var v=G()
	if(!v.srch){if(this._super){this._super(u)
	}}this.inputBox.focus()
	A.call(this)
	},failMessage:function B(v){var w=g[v.errCode]||v.msg,u=w?[{n:w,t:-101,cls:"nomatch"}]:[]
	this.updateSuggestion(u)
	},getSearchPattern:function N(){return this.inputBox?this.inputBox.value:""
	},showInfoTooltip:function Z(x){var z=G(),u=this.parent.parent,AA=K.position(u.domNode),v=this.richTooltip,w=this
	if(!z.hasShownInfo&&!mstrmojo.SimpleObjectInputBox.HAS_SHOWN_INFO){mstrmojo.SimpleObjectInputBox.HAS_SHOWN_INFO=true
	z.hasShownInfo=true
	this.set("richTooltip",{posType:mstrmojo.tooltip.POS_BOTTOMCENTER,cssClass:"vi-regular vi-tooltip-V vi-tooltip-leftcenter",contentNodeCssClass:"srch info",top:AA.y+"px",left:AA.x+AA.w+8+"px",content:mstrmojo.desc(15909,'You can re-enable "Instant Search" from the menu.'),onClose:function(){w.set("richTooltip",v)
	}})
	this.showTooltip(window.event,window)
	if(this.tooltip){this.tooltip.set("allowOtherTooltips",false)
	}else{this.set("allowOtherTooltips",false)
	}}z.srch=x
	a(z)
	},onIncrementalFetch:function J(){this.inputBox.blur()
	},onSuggestionItemSelect:function m(u){D.call(this)
	this.set("items",this.items.concat(u))
	this._super()
	var v=this.id
	window.setTimeout(function(){var w=mstrmojo.all[v]
	if(parseInt(w.state,10)!==Q.FULL){w.set("state",Q.ADDING)
	}},0)
	},onstateChange:function Y(v){var w=v.value
	if(this.parent.defn.multi){this.emptyTextNode.style.display=(w===Q.ADDING)?"none":"block"
	}else{this.emptyTextNode.style.display=(w===Q.EMPTY)?"block":"none"
	}var u=this.inputBox,x=u.style
	if(w===Q.ADDING){x.display=""
	this.updateScrollbars()
	u.focus()
	this._inputPos=K.position(u,true)
	}else{D.call(this)
	x.display="none"
	u.value=""
	this._lastPattern=""
	this.updateScrollbars()
	if(this.parent.getFormats&&!this.parent.getFormats().height&&this.parent.parent.performCanGrowCanShrink){this.parent.parent.performCanGrowCanShrink(this.parent.parent.children)
	}}},postBuildRendering:function P(){var u,v=G()
	M=(mstrApp.getSearchAutoCompleteDelay&&mstrApp.getSearchAutoCompleteDelay())||M
	this.state=0
	this.setDefaultState()
	if(v.srch){this.inputBox.value=v.srch
	this.set("state",Q.ADDING)
	delete v.srch
	a(v)
	}u=this._super()
	return u
	},preitemsChange:function L(){this.setDefaultState()
	},onkeydown:function O(v){var x=this.parent,AC=x&&x.tabParent,AB=v.e||v,AA=v.getTarget(),u=E.hasClass(AA,o),w=AA===this.inputBox||AA===this.emptyTextNode,z=AB.keyCode
	if(x.canTab&&x.handleTab(v)){return 
	}AB.stopPropagation()
	if(z===l.SPACE&&w){return 
	}else{if((z===l.ENTER||z===l.SPACE)&&(u||w)){this.onclick(v)
	if(u&&AC&&AC.grabFocus){AC.grabFocus(true)
	}else{if(w&&x.canTab){x.toggleSearchFocus(true)
	}}}else{if(z===l.ESCAPE){if(AA.tagName==="INPUT"){this.setDefaultState()
	if(x.canTab){x.toggleSearchFocus(false)
	}}else{if(AA.loseFocus){AA.loseFocus(true)
	}if(AC&&AC.grabFocus){AC.grabFocus(true)
	}}}}}},onclick:function h(v){var z=K.eventTarget(v.hWin,v.e)
	if(z&&E.hasClass(z,o)){var x=K.findAncestorByAttr(z,"idx",true,this.domNode),u=x&&parseInt(x.value,10)
	this.hideTooltip()
	if(u!==null&&!isNaN(u)){var w=this.items.concat()
	w.splice(u,1)
	this.set("items",w)
	}return 
	}if(parseInt(this.state,10)!==Q.FULL){this.set("state",Q.ADDING)
	}},onblur:function U(){if(this._isSearching||this.tooltip){return 
	}D.call(this)
	A.call(this)
	if(!this.suggestionShown){this.setDefaultState()
	}},onfocus:function n(){this._isSearching=false
	if(this.suggestionShown){A.call(this)
	}},prekeydown:function I(v){var z=v.e
	switch(parseInt(z.keyCode||z.charCode,10)){case C.DOWN_ARROW:this.nextHighlight()
	break
	case C.UP_ARROW:this.preHighlight()
	break
	case C.TAB:case C.ENTER:K.preventDefault(v.hWin,z)
	if(this.suggestionShown){var x=this.getSelected()
	if(x){this.handleSuggestionItemSelect(x)
	}else{this.hideSuggestion()
	}}else{if(this.hitEnterToTest){A.call(this)
	F.call(this)
	}}break
	case C.ESCAPE:D.call(this)
	if(this.suggestionShown){this.hideSuggestion()
	}else{this.setDefaultState()
	}break
	case C.BACKSPACE:if(!this.getSearchPattern()&&!mstrApp.hasRequests()){K.preventDefault(v.hWin,z)
	var w=this.items&&this.items.concat()
	if(w&&w.length){w.splice(w.length-1,1)
	mstrApp.ignoreBackSpace=true
	this.set("items",w)
	var AB=this.id
	window.setTimeout(function(){mstrmojo.all[AB].set("state",Q.ADDING)
	mstrApp.ignoreBackSpace=false
	},0)
	}}break
	}var u=this.richTooltip,AA=(u&&u.contentNodeCssClass)||""
	if(AA.indexOf("srch info")>-1){A.call(this)
	}},prekeyup:function r(u){var x=u.e,v=parseInt(x.keyCode||x.charCode,10),w=this.getSearchPattern()
	if(!w||w!==this._lastPattern){K.preventDefault(u.hWin,u.e)
	this.hideSuggestion()
	}if(this.inputBox.value.length&&v!==C.ENTER&&v!==C.TAB&&!this.suggestionShown){d.call(this,u)
	}else{A.call(this)
	}if(this.hitEnterToTest){return 
	}if(this.useKeyDelay){var z=this.id
	if(!this._timerHandle){this._timerHandle=window.setTimeout(function(){F.call(mstrmojo.all[z])
	},M)
	}}else{F.call(this)
	}},widgetResized:function q(){if(this.hasRendered){var x=parseInt(this.width,10),AA=this.items.length,AB=this.itemsContainerNode.childNodes
	if(AA<=(AB&&AB.length)){var z=x-H
	for(var w=0
	w<AA
	w++){var u=AB[w],v=u.textContent
	u.style.maxWidth=z+"px"
	if(v&&z<W.measureTextWidth(v,R)){u.title=v
	}else{u.title=""
	}}}if(this.emptyTextNode){this.emptyTextNode.style.maxWidth=x+"px"
	}this.updateScrollbars()
	}},setupScrollNodes:function k(){this.scrollNode=this.scrollboxNode
	},setDefaultState:function c(){var w=this.maxObjectCount,u=(this.items&&this.items.length)||0,v=(w!==null&&w!==undefined&&u>=w)
	this.set("state",!u?Q.EMPTY:(v?Q.FULL:Q.DEFAULT))
	}})
	mstrmojo.SimpleObjectInputBox.HAS_SHOWN_INFO=false
	}())
	(function(){mstrmojo.requiresClsP("mstrmojo","Editor","HBox","Button","Label","TextBox","hash","dom","css","array","desc")
	mstrmojo.requiresCls("mstrmojo.warehouse.EnumDatabaseType","mstrmojo.ui.Checkbox","mstrmojo.ui.Pulldown","mstrmojo.VisUtility","mstrmojo.ui.CheckList")
	mstrmojo.requiresDescs(959,2056,15656,15657,15658,15659,15660,15661,2397,2399)
	var M=mstrmojo.warehouse.EnumDatabaseType,L=mstrmojo.hash,I=mstrmojo.array,R=mstrmojo.VisUtility,C=mstrmojo.dom,W=mstrmojo.css,E=mstrmojo.desc
	var O="tableLabel"
	var U=[{v:"",n:E(959,"Default")},{v:"General Number",},{v:"Standard"},{v:"Currency"},{v:"Percent"},{v:"Scientific"},{v:"General Date"},{v:"Long Date"},{v:"Short Date"},{n:E(2056,"Custom")}]
	U.forEach(function(Y){if(Y.n===undefined){Y.n=Y.v
	}})
	var N={}
	N[M.MSAS]={min:0,max:65535,maxlength:5}
	N[M.EssBase]={min:0,max:126,maxlength:3}
	N[M.KYVOSMDX]={min:0,max:65535,maxlength:5}
	N[M.KYLIGENCEMDX]={min:0,max:65535,maxlength:5}
	function B(a,c){var Z=null,b=N[c],Y=/^-?\d+$/
	if(Y.test(a)){a=parseInt(a)
	if(b&&a>=b.min&&a<=b.max||!b){Z=a
	}}return Z
	}function F(a){var Y=W.getComputedStyle(a),Z={fontFamily:Y.fontFamily,fontStyle:Y.fontStyle,fontSize:Y.fontSize,fontWeight:Y.fontWeight,lineHeight:Y.lineHeight,bonus:parseInt(Y.paddingLeft)+parseInt(Y.paddingRight)}
	return Z
	}function A(Y){var Z=/(\"|\-\-|\/\/|\/\*|\*\/)/
	return Y&&Y.length&&!Z.test(Y)
	}var K={mptf:{mptso:{pru:1,v:500},mptsim:{pru:1,v:0},mptfms:""},dbt:M.MSAS,so_dft:0,sim_dft:0}
	function X(){return L.clone(K)
	}function S(Y){switch(Y){case"so":return this.config.mptf.mptso
	case"si":return this.config.mptf.mptsim
	case"fs":return this.config.mptf.mptfms
	case"dbt":return this.config.dbt
	case"soDefault":return this.config.so_dft
	case"siDefault":return this.config.sim_dft
	}}function Q(){return{mptso:{pru:this.soBox.soDefaultCb.checked?1:0,v:parseInt(this.soBox.soTB.value)},mptsim:{pru:this.siBox.siDefaultCbBox.siDefaultCb.checked?1:0,v:this.siBox.siClBox.siCl.selectedIndex},mptfms:this.fsBox.fsTbBox.fsTb.value}
	}mstrmojo.PassThroughOptions=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.PassThroughOptions",cssClass:"mstrmojo-PassThroughOptions",title:E(15656,"Pass-through Options"),updatePopupConfig:function H(Y){if(Y){this.onOK=Y.onOK
	delete Y.onOK
	}["left","top","width","height","zIndex"].forEach(function(a){if(Y[a]!==undefined){this.set(a,Y[a])
	delete Y[a]
	}}.bind(this))
	var Z=X()
	L.forEach(Y,function(b,a){if(b===undefined){delete Y[a]
	}})
	this.config=L.copy(Y,Z)
	},adjustWidthForLabel:function G(){var b=this.editorNode
	if(!b){return 
	}var d=b.querySelectorAll(".tableLabel")
	var a=0
	I.forEach(d,function(e){if(e.offsetWidth>0&&e.offsetHeight>0){var f=F.call(this,e)
	a=Math.max(R.measureTextWidth(e.textContent,f),a)
	}})
	var Z=a+10+"px"
	I.forEach(d,function(e){e.style.width=Z
	})
	var c=b.querySelector(".mstrmojo-PassThroughOptions-siClBox td")
	if(c){c.style.paddingLeft=Z
	}var Y=b.querySelector(".mstrmojo-PassThroughOptions-fsTbBox td")
	if(Y){Y.style.paddingLeft=Z
	}},onOpen:function D(){this.soBox.set("dirty",false)
	this.soBox.set("valid",true)
	this.siBox.set("dirty",false)
	this.fsBox.set("dirty",false)
	this.fsBox.set("valid",true)
	var a=S.call(this,"dbt"),f=a===M.EssBase,Y=a===M.KYVOSMDX,h=a===M.KYLIGENCEMDX,e=!f&&!Y&&!h,b=!f&&!Y,Z=S.call(this,"so")
	W.toggleClass(this.editorNode,"hideSi",!e)
	W.toggleClass(this.editorNode,"hideFs",!b)
	this.soBox.soDefaultCb.set("checked",Z.pru)
	if(!Z.pru){this.soBox.soTB.set("value",Z.v)
	}else{this.soBox.soTB.set("value",S.call(this,"soDefault"))
	}if(e){var c=S.call(this,"si")
	this.siBox.siDefaultCbBox.siDefaultCb.set("checked",c.pru)
	if(!c.pru){this.siBox.siClBox.siCl.select(c.v)
	}else{this.siBox.siClBox.siCl.select(S.call(this,"siDefault"))
	}}if(b){var d=S.call(this,"fs"),g=I.find(U,"v",d)
	if(g<0){g=I.find(U,"v",undefined)
	}this.fsBox.fsPdBox.fsPd.set("selectedIndex",g)
	this.fsBox.fsTbBox.fsTb.set("value",d)
	}this.adjustWidthForLabel()
	},close:function J(){var Y=L.walk("fsBox.fsTbBox.fsTb",this)
	if(Y){Y.hideTooltip()
	}if(this._super){this._super()
	}},children:[{scriptClass:"mstrmojo.Box",alias:"soBox",cssClass:"mstrmojo-PassThroughOptions-soBox",processDirty:function P(){var e=this.parent,b=S.call(e,"so"),d=b.pru,Y=b.v,a=this.soDefaultCb.checked,Z=this.soTB.value,c=d!=a||(!a&&Y!=Z)
	this.set("dirty",c)
	},children:[{scriptClass:"mstrmojo.Label",cssDisplay:"inline-block",cssClass:O,text:E(15657,"Solve Order:")},{scriptClass:"mstrmojo.TextBox",alias:"soTB",cssClass:"mstrmojo-PassThroughOptions-soTB",cssDisplay:"inline-block",useRichTooltip:true,enabled:false,updateTooltipConfig:function(){var c=this.parent.parent,a=this.domNode,Y=C.position(a),b=S.call(c,"dbt"),Z=E(15658,"The value has to be between # and ##.").replace("#",N[b].min).replace("##",N[b].max)
	this.richTooltip={cssClass:"vi-regular vi-tooltip-V",posType:mstrmojo.tooltip.POS_BOTTOMLEFT,content:Z,top:Y.y,left:Y.x}
	},onvalueChange:function(){var b=this.parent.parent,a=S.call(b,"dbt"),Z=B(this.value,a),Y=(Z!=null)
	this.set("textValid",Y)
	if(!Y){this.showTooltip()
	}else{this.hideTooltip()
	}this.parent.set("valid",Y)
	this.parent.processDirty()
	}},{scriptClass:"mstrmojo.Label",cssDisplay:"inline-block",cssClass:"right",text:E(959,"Default")},{scriptClass:"mstrmojo.ui.Checkbox",alias:"soDefaultCb",cssDisplay:"inline-block",cssClass:"right",checked:true,oncheckedChange:function(Y){var b=this.parent.parent,Z=this.parent.soTB,a=this.checked
	Z.set("enabled",!a)
	if(a){Z.set("value",S.call(b,"soDefault"))
	}this.parent.processDirty()
	}}]},{scriptClass:"mstrmojo.Box",alias:"siBox",cssClass:"mstrmojo-PassThroughOptions-siBox",processDirty:function P(){var e=this.parent,d=S.call(e,"si"),c=d.pru,Y=d.v,a=this.siDefaultCbBox.siDefaultCb.checked,Z=this.siClBox.siCl.selectedIndex,b=c!=a||(!a&&Y!=Z)
	this.set("dirty",b)
	},children:[{scriptClass:"mstrmojo.HBox",alias:"siDefaultCbBox",cssClass:"mstrmojo-PassThroughOptions-siDefaultCbBox",children:[{scriptClass:"mstrmojo.Label",cssClass:O,text:E(15659,"Scope Isolation:")},{scriptClass:"mstrmojo.ui.Checkbox",alias:"siDefaultCb",checked:true,oncheckedChange:function(Y){var Z=this.parent.parent,b=Z.parent,a=Z.siClBox.siCl
	a.set("enabled",!this.checked)
	if(this.checked){a.select(S.call(b,"siDefault"))
	}Z.processDirty()
	}},{scriptClass:"mstrmojo.Label",text:E(959,"Default")}]},{scriptClass:"mstrmojo.HBox",alias:"siClBox",cssClass:"mstrmojo-PassThroughOptions-siClBox",children:[{scriptClass:"mstrmojo.ui.CheckList",alias:"siCl",multiSelect:false,orientation:"h",selectedIndex:1,items:[{n:"NONE",v:0},{n:"CUBE",v:1}],onchange:function(Y){this.parent.parent.processDirty()
	}}]}]},{scriptClass:"mstrmojo.Box",alias:"fsBox",cssClass:"mstrmojo-PassThroughOptions-fsBox",children:[{scriptClass:"mstrmojo.HBox",alias:"fsPdBox",cssClass:"mstrmojo-PassThroughOptions-fsPdBox",children:[{scriptClass:"mstrmojo.Label",cssClass:O,text:E(15660,"Format String:")},{scriptClass:"mstrmojo.ui.Pulldown",alias:"fsPd",selectedIndex:0,items:U,onselectedIndexChange:function(){var Z=this.getSelectedItem(),Y=Z&&Z.v===undefined,a=this.parent.parent.fsTbBox.fsTb
	a.set("visible",Y)
	if(Y){a.set("value","")
	}else{a.set("value",Z&&Z.v)
	}}}]},{scriptClass:"mstrmojo.HBox",alias:"fsTbBox",cssClass:"mstrmojo-PassThroughOptions-fsTbBox",children:[{scriptClass:"mstrmojo.TextBox",alias:"fsTb",updateTooltipConfig:function(){var a=this.domNode,Y=C.position(a),Z=E(15661,'Custom Format String should not be empty or contain ", //, --, /*, */.')
	this.richTooltip={cssClass:"vi-regular vi-tooltip-V",posType:mstrmojo.tooltip.POS_BOTTOMLEFT,content:Z,top:Y.y,left:Y.x}
	},onvalueChange:function(){var Y=this.parent.parent
	Y.processDirty()
	},bindings:{textValid:function(){var Y=this.parent.parent.fsPdBox.fsPd.selectedIndex,a=this.parent.parent,c=a.fsPdBox.fsPd.getSelectedItem(),Z=c&&c.v===undefined,b=!Z||A(this.value)
	a.set("valid",b)
	if(!b){this.showTooltip()
	}else{this.hideTooltip()
	}return b
	}}}]}],processDirty:function(){var Z=this.fsTbBox.fsTb.value,Y=S.call(this.parent,"fs")
	this.set("dirty",Z!==Y)
	}},{scriptClass:"mstrmojo.HBox",alias:"buttonBar",slot:"buttonNode",cssClass:"mstrmojo-Editor-buttonBar",cellCssClass:"subBox",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton hot",alias:"saveokButton",text:E(2397,"OK"),bindings:{enabled:function(){var a=this.parent.parent.soBox.dirty,Z=this.parent.parent.siBox.dirty,c=this.parent.parent.fsBox.dirty,b=this.parent.parent.soBox.valid,Y=this.parent.parent.fsBox.valid
	return(a||Z||c)&&(b&&Y)
	}},onclick:function(){if(this.enabled){var Y=this.parent.parent
	if(Y.onOK){Y.onOK(Q.call(Y))
	}Y.close()
	}}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton",text:E(2399,"Cancel"),onclick:function(){var Y=this.parent.parent
	Y.close()
	}}]}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.expr","mstrmojo.elementHelper","mstrmojo.mstr.EnumNodeProperties","mstrmojo.EnumSelectionType","mstrmojo.VisUtility")
	var u=mstrmojo.array,Z=mstrmojo.hash,W=mstrmojo.expr,p=mstrmojo.elementHelper,f=W.ET,G=W.FN,w=W.DTP,E=mstrmojo.mstr.EnumNodeProperties,k=mstrmojo.EnumSelectionType,o=mstrmojo.VisUtility
	var AR=0,H=1,Q=2,O=3,l=4,AI=5
	var x=0,AS="u
	",d="LEVEL_NUMBER",c=false,N=7
	function AQ(AU){return AU.t===47&&AU.st===12033
	}function Y(AU,AV){if(AU&&AV&&AV.t===N){return AU.parent===AV&&AU.lv===AV.lv
	}return false
	}function v(AU){if(AU&&AU.t===N){return u.filter(AU.children,function(AV){return AV.lv===AU.lv
	})
	}return[]
	}function AP(AU){return !!AU.not||AU.fn===G.NOT_IN_LIST||AU.fn===G.NOT_EQUAL
	}function AL(AU){return Z.copyProps(["did","n","t","st","ndetype"],AU)
	}function U(AX,AU){var AW=AQ(AU),AY=AW?AX.v:p.terseLong2OldShort(AX.v),AV={v:AY.replace(/\\:/g,"*:"),n:AX.n}
	if(AW){AV.t=AX.t
	AV.conid=AU.did
	}return AV
	}function X(AZ,AW){if(parseInt(AZ,10)>=0){var AY=AW.lvfs||[],AU=u.find(AY,"lv",AZ),AX=(AU!==-1?AU:AZ),AV=AY[AX]&&AY[AX].lvfn||""
	return{v:AV?AZ+"
	"+AV:AZ,dtp:AV?w.CHAR:w.INTEGER}
	}return null
	}function AF(AU){if(isNaN(AU)&&typeof AU==="string"){return parseInt(AU.split("
	")[0],10)
	}return parseInt(AU,10)
	}function z(AU,AV){return !AU||(AU.lv>(AV||0))&&!AU.parent
	}function g(AU,Ad,Ac){var AZ=Ac.item,AW=Ac.ancestorMap,Ab=Ac.descendantMap,AV=this.getItemByValue(AU.itemValue),AY=this.getItemByValue(Ad.itemValue),Aa=this.updateIdxBase(),AX=function(Ae,Af){if(AZ&&AZ===Ae&&Ab){return Ab[Af.v]
	}if(AZ&&AZ===Af&&AW){return AW[Ae.v]
	}while(Af){if(Ae===Af){return true
	}Af=Af.parent
	}return false
	}
	switch(AU.func){case k.ALL:return Ad.func===k.ALL?AR:O
	case k.ELEMENT:switch(Ad.func){case k.ALL:return Q
	case k.ELEMENT:return AV===AY?AR:Y(AV,AY)?Q:Y(AY,AV)?O:AI
	case k.BRANCH:return AX(AY,AV)?Q:Y(AY,AV)?l:z(AV,Aa)?H:AI
	case k.LEVEL:return AV.lv===Ad.level?Q:AI
	case k.BRANCH_LEVEL:return AV.lv!==Ad.level?AI:z(AV,Aa)?H:AX(AY,AV)?Q:AI
	}break
	case k.BRANCH:switch(Ad.func){case k.ALL:return Q
	case k.ELEMENT:if(this.isInFilterPanel&&AV===AY&&AV.ln){if(AU.isNot!==Ad.isNot){AV.isBranchSelected=!AV.isBranchSelected
	}return AR
	}return AX(AV,AY)?O:Y(AV,AY)?l:z(AY,Aa)?H:AI
	case k.BRANCH:return AV===AY?AR:(z(AV,Aa)||z(AY,Aa))?H:AX(AY,AV)?Q:AX(AV,AY)?O:AI
	case k.LEVEL:return AV.lv<=Ad.level?l:AI
	case k.BRANCH_LEVEL:return AV===AY?O:(z(AV,Aa)||z(AY,Aa))?H:AX(AV,AY)?O:(AX(AY,AV)&&Ad.level>=AV.lv)?l:AI
	}break
	case k.LEVEL:switch(Ad.func){case k.ALL:return Q
	case k.ELEMENT:return AY.lv===AU.level?O:AI
	case k.BRANCH:return AY.lv<=AU.level?l:AI
	case k.LEVEL:return AU.level===Ad.level?AR:AI
	case k.BRANCH_LEVEL:return AU.level===Ad.level?O:AI
	}break
	case k.BRANCH_LEVEL:switch(Ad.func){case k.ALL:return Q
	case k.ELEMENT:return AY.lv!==AU.level?AI:z(AY,Aa)?H:AX(AV,AY)?O:AI
	case k.BRANCH:return AV===AY?Q:(z(AV,Aa)||z(AY,Aa))?H:AX(AY,AV)?Q:(AX(AV,AY)&&AU.level>=AY.lv)?l:AI
	case k.LEVEL:return AU.level===Ad.level?Q:AI
	case k.BRANCH_LEVEL:return AU.level!==Ad.level?AI:AV===AY?AR:(z(AV,Aa)||z(AY,Aa))?H:AX(AY,AV)?Q:AX(AV,AY)?O:AI
	}break
	}return H
	}function F(AV,AZ,AW,Aa,AU){var AY=(AV.fs||[]).filter(function(Ab){return(Ab.n||Ab.fnm)===d
	})[0],AX=u.ensureArray(AW).map(function(Ab){return U(Ab,AV)
	})
	switch(AZ){case k.ELEMENT:if(AX.length>0){return{et:f.AE,fn:AU?G.NOT_IN_LIST:G.IN_LIST,a:AL(AV),es:AX}
	}break
	case k.BRANCH:if(AX.length>0){return{et:f.AE,fn:G.DESCENDANT,not:AU,a:AL(AV),es:AX}
	}break
	case k.LEVEL:if(AY&&parseInt(Aa,10)>=0){return{et:f.AQ,fn:G.EQUAL,not:AU,a:AL(AV),fm:{did:AY.did||AY.fid,n:d,dtp:W.mapBaseFormTypeToDataType(AY.bftp)},cs:[X(Aa,AV)]}
	}break
	case k.BRANCH_LEVEL:if(AX.length>0&&parseInt(Aa,10)>=0){return{et:f.AE,fn:G.DESCENDANT,not:AU,a:AL(AV),es:AX,cs:[X(Aa,AV),{v:18,dtp:w.INTEGER}]}
	}break
	}return null
	}function D(){var AU={}
	this.selectionList.forEach(function(AW,AV){if(AW.func===k.ELEMENT){AU[AW.itemValue]=AV
	var AX=this.getItemByValue(AW.itemValue)
	u.forEach(v(AX),function(AY){AU[AY.v]=AV
	})
	}},this)
	return AU
	}function AJ(){var AU={}
	this.selectionList.forEach(function(AW,AV){if(AW.func===k.BRANCH){AU[AW.itemValue]=AV
	}})
	return AU
	}function A(){var AU={}
	this.selectionList.forEach(function(AW,AV){if(AW.func===k.LEVEL){AU[AW.level]=AV
	}})
	return AU
	}function t(){var AU={}
	this.selectionList.forEach(function(AX,AV){if(AX.func===k.BRANCH_LEVEL){var AY=AX.itemValue,AZ=AX.level,AW=AU[AY]
	if(!AW){AW=AU[AY]={}
	}AW[AZ]=AV
	}})
	return AU
	}function b(AW){var AV=AJ.call(this),AU=x
	while(AW&&AW.v){AU=Math.max(AU,AV[AW.v]||x)
	AW=AW.parent
	}return AU
	}function AD(AW,AY){var AU=t.call(this),AX=A.call(this),AV=AY?x:b.call(this,AW),Aa=AW&&AW.lv||0,AZ={}
	if(!AY){Z.forEach(AX,function(Ac,Ab){if(Ab>=Aa&&Ac>AV){AZ[Ab]=Ac
	}})
	}while(AW&&AW.v){Z.forEach(AU[AW.v],function(Ac,Ab){if(Ab>=Aa&&Ac>AV){AZ[Ab]=Math.max(Ac,AZ[Ab]||AV)
	}})
	AW=AW.parent
	}return AZ
	}mstrmojo.ui._HierarchyListSelection=mstrmojo.provide("mstrmojo.ui._HierarchyListSelection",{_mixinName:"mstrmojo.ui._HierarchyListSelection",init:function AK(AU){this._super(AU)
	this.clearSelections()
	},getAllSelection:function M(){return !this.selectionList[x].isNot
	},setAllSelection:function q(AU){this.selectionList[x].isNot=!AU
	},clearSelections:function r(){this.selectionList=[{func:k.ALL,isNot:!c}]
	return this.selectionList
	},addSelection:function a(AU){var AY=this.selectionList,AW=this.getItemByValue(AU.itemValue),AV={item:AW,ancestorMap:AW&&this.getItemAncestorMap(AW),descendantMap:AW&&this.getItemDescendantMap(AW)},AX=true
	if(!AW&&(AU.func===k.ELEMENT||AU.func===k.BRANCH||AU.func===k.BRANCH_LEVEL)){return 
	}AY=this.selectionList=AY.filter(function(AZ){var Ab=g.call(this,AZ,AU,AV),Aa=AZ.isNot===AU.isNot
	if(Ab===O||Ab===l&&!Aa){AX=!Aa
	}return !(Ab===AR||Ab===Q)
	},this)
	if(AX){AY.push(AU)
	}},updateSiblingItemSelection:function AB(AV){var AX=this.selectionList,AU=D.call(this),AW=AJ.call(this)
	u.forEach(AV,function(Ac){var AZ=Ac.parent,AY=AZ?b.call(this,AZ):x,Aa=AZ?AD.call(this,AZ):A.call(this),Ab=Math.max(AW[Ac.v]||x,AY),Ad=Math.max(AU[Ac.v]||x,Ab,Aa[Ac.lv]||x)
	Ac.isSelected=!AX[Ad].isNot
	Ac.isBranchSelected=!AX[Ab].isNot
	},this)
	},updateItemSelection:function R(AV,Af){var Ae=this.selectionList,AW=D.call(this),Ag=AJ.call(this),Aa=A.call(this),Ab=t.call(this),AY=AV?[AV]:this.getRootItems(),AX=AY.length&&AY[0].lv||0,AZ,AU=AV?b.call(this,AV):x,Ad=AV?AD.call(this,AV,true):{}
	this.idxBase=AX
	AZ=AV?[]:this.getItems().filter(function(Ah){return Ah&&z(Ah,AX)
	})
	(AY.concat(AZ)).forEach(function Ac(Al){var Aj=AU,Ai=Z.copy(Ad)
	AU=Math.max(AU,Ag[Al.v]||x)
	Z.forEach(Ab[Al.v],function(Ao,An){Ad[An]=Math.max(Ao,Ad[An]||x)
	})
	var Am=Math.max(AW[Al.v]||x,Aa[Al.lv]||x,AU,Ad[Al.lv]||x)
	Al.isSelected=!Ae[Am].isNot
	Al.isBranchSelected=!Ae[AU].isNot
	this.updateBtnSelectionStatus(Al)
	u.forEach(Al.children,function(An){Ac.call(this,An)
	},this)
	var Ak=v(Al)
	if(Ak.length>0){var Ah=u.find(Ak,"isSelected",true)>=0
	if(Al.isSelected!==Ah){this.addSelection({func:k.ELEMENT,itemValue:Al.v,isNot:!Ah})
	Al.isSelected=Ah
	}}AU=Aj
	Ad=Ai
	},this)
	if(!Af){this.updateDescStatusForAddedItems()
	}},updateDescStatusForAddedItems:function B(){var AY=this.selectionList,AW=AJ.call(this),AV=this.getDescSelectionMap(),AU=x
	this.getRootItems().forEach(function AX(Ab){var Aa=Ab.children||[],AZ=AU
	AU=Math.max(AU,AW[Ab.v]||x)
	Ab.hcsd=AV.hasOwnProperty(Ab.v)?AV[Ab.v]:(!AY[AU].isNot&&Ab.hcd)
	AV[Ab.v]=Ab.hcsd
	u.forEach(Aa,function(Ac){AX.call(this,Ac)
	},this)
	AU=AZ
	},this)
	},initDescStatusForNonIncFetch:function AC(){var AV=this.getRootItems(),AW=this.clearDescSelection(),AU=function(AX){AX.hcsd=false
	u.forEach(AX.children,function(AY){if(AU.call(this,AY)||AY.isSelected&&!Y.call(this,AY,AY.parent)){AX.hcsd=true
	}},this)
	AW[AX.v]=AX.hcsd
	return AX.hcsd
	}
	AV.forEach(function(AX){AU.call(this,AX)
	},this)
	},updateIdxBase:function AA(){var AU=this.getRootItems()
	this.idxBase=AU.length&&AU[0].lv||0
	return this.idxBase
	},updateDescendantsStatus:function AT(){var AZ=this.selectionList,AU=this.getMaxLevel(),AX=AJ.call(this),AV=t.call(this),AW=x,Aa=A.call(this)
	this.getRootItems().forEach(function AY(Ak){var Ac=Ak.children||[],Ag=Ak.displayChildren||[],Ai=AW,Aj=Z.copy(Aa),Ad=false
	AW=Math.max(AW,AX[Ak.v]||x)
	Z.forEach(AV[Ak.v],function(Am,Al){Aa[Al]=Math.max(Am,Aa[Al]||x)
	})
	Ac.forEach(function(Al){if(AY(Al)||!Al.hid&&Al.isSelected){Ad=true
	}})
	if(Ak.hcd&&Ag.length===0){var Ae=!AZ[AW].isNot,Ah,Ab
	for(var Af=Ak.lv+1
	Af<=AU
	Af++){Ah=Aa[Af]||x
	Ab=Ah>AW&&!AZ[Ah].isNot
	if(Ab||Ae&&Ah<=AW){Ad=true
	break
	}}}Ak.hasDsctSelected=Ad
	AW=Ai
	Aa=Aj
	return Ad
	})
	},getMaxLevel:function j(){var AU=0
	this.getItems().forEach(function(AV){var AW=AV.lv
	if(AW>AU&&!AV.hid){AU=AW
	}})
	this.selectionList.forEach(function(AV){if(AV.func===k.LEVEL||AV.func===k.BRANCH_LEVEL){AU=Math.max(AU,AV.level)
	}})
	return AU
	},getLevelSelection:function I(AU){var AY=this.selectionList,AW=AU?AD.call(this,AU):A.call(this),AV=AU?AU.isBranchSelected:this.getAllSelection(),AX={}
	Z.forEach(AW,function(Ab,Aa){var AZ=!AY[Ab].isNot
	if(AZ!==AV){AX[Aa]=AZ
	}})
	return Z.copy({allLevel:AV,isLevelSelected:function(AZ){return this[AZ]||this.allLevel&&this[AZ]!==false
	}},AX)
	},buildSelectionExprJSON:function m(AW){var AY=this.getAllSelection(),AV=[],AZ=null,Aa=this.updateIdxBase(),AX={selected:[],unselected:[]},AU=function(Ab,Ac){if(!Z.isEmpty(Ac)&&(Ab.length>0||AY===AP(Ac))){Ab.push(Ac)
	}}
	this.selectionList.forEach(function(Ac){var Ae=Ac.func,Ab=Ac.isNot,Ag=Ac.level,Af=Ac.itemValue,Ad=Af?this.getItemByValue(Af):null
	if((Ad||{}).fetcher){return 
	}if(Ac.func===k.ELEMENT&&!z(Ad,Aa)){AX[Ab?"unselected":"selected"].push(Ad)
	}else{if(Ac.func!==k.ALL){AU(AV,F(AW,Ae,Ad,Ag,Ab))
	}}},this)
	AU(AV,F(AW,k.ELEMENT,AX.selected))
	AU(AV,F(AW,k.ELEMENT,AX.unselected,null,true))
	if(AV.length>0){AZ=AV[0]
	AV.forEach(function(Ae,Ab,Ad){var Ac=AP(Ae)
	if(Ab>0){if(Ac===AP(Ad[Ab-1])&&AZ.nds){AZ.nds.push(Ae)
	}else{AZ={et:f.ANDOR,fn:Ac?G.AND:G.OR,nds:[AZ,Ae]}
	}}})
	}if(AZ){if(AZ.et===f.ANDOR){AZ.node=E.CONDITION
	}else{AZ={et:f.ANDOR,fn:G.AND,nds:[AZ],node:E.CONDITION}
	}}return AZ
	},setSelectionByExprJSON:function AE(AW,AY,Ab){var AX=this.clearSelections(),AV=false,AU=this.getItems(),Aa=p.getIdPresentation(AU[0]&&AU[0].v),AZ=function(Ad,Ae){if(Z.isEmpty(Ad)){return 
	}if(Ad.et===f.ANDOR){(Ad.nds||[]).forEach(function(Af){AZ.call(this,Af,Ae)
	},this)
	}else{var Ac=AP(Ad)
	if(!AV){AV=true
	this.setAllSelection(Ac)
	}if(Ad.et===f.AQ&&Ad.fm&&Ad.fm.n===d){(Ad.cs||[]).forEach(function(Ag){var Af=AF(Ag.v)
	if(Af>=0){Ae.push({func:k.LEVEL,level:Af,isNot:Ac})
	}})
	}if(Ad.et===f.AE){(Ad.es||[]).forEach(function(Af){var Ag=o.getItemValue(Af.v,Aa,Ad.a),Ah=AF(Ad.cs&&Ad.cs[0].v)
	if(!this.getItemByValue(Ag)){this.addItems([Z.copy({v:Ag,dhid:true},Z.clone(Af))],true)
	}if(Ad.fn===G.DESCENDANT){if(Ah>=0){Ae.push({func:k.BRANCH_LEVEL,itemValue:Ag,level:Ah,isNot:Ac})
	}else{Ae.push({func:k.BRANCH,itemValue:Ag,isNot:Ac})
	}}else{Ae.push({func:k.ELEMENT,itemValue:Ag,isNot:Ac})
	}},this)
	}}}
	AZ.call(this,AW,AX)
	this.updateItemSelection(undefined,Ab&&!AY)
	},updateDescSelectionMap:function h(AU){var AV=this.getItemByValue(AU.itemValue)
	if(!AV||(AU.func===k.LEVEL||AU.func===k.BRANCH_LEVEL)){return 
	}this.updateDescendantsDescSelectionStatus(AU)
	if(!this.isHiearachyDisplay()&&AU.isNot&&!(this.docSelector&&!this.docSelector.incFetch)){return 
	}this.updateAncestorDescSelectionStatus(AU)
	},updateDescendantsDescSelectionStatus:function e(AU){var AW=this.getItemByValue(AU.itemValue)
	var AV=this.getDescSelectionMap()
	var AX=function(AZ,AY){if(AY||!AZ.ln){AZ.hcsd=!AY
	AV[AZ.v]=!AY
	(AZ.children||[]).forEach(function(Aa){AX(Aa,AY)
	})
	}}
	if(AU.func===k.BRANCH){AX(AW,AU.isNot)
	}},updateAncestorDescSelectionStatus:function J(AU){var AW=this.getItemByValue(AU.itemValue)
	var AV=this.getDescSelectionMap()
	var AX=function(AY){return(AY.children||[]).some(function(AZ){return(AZ.isSelected||AZ.hcsd)
	})
	}
	while(AW&&AW.parent){AW=AW.parent
	AW.hcsd=AU.isNot?AX(AW):true
	AV[AW.v]=AW.hcsd
	}},setDescSelectionByItemInfo:function AN(AU){var AW=this.clearDescSelection(),AV=this.itemMap
	u.forEach(AU,function(AX){AW[AX.v]=AX.hcsd
	AV[AX.v].hcsd=AX.hcsd
	})
	},setDescSelectionByMap:function K(){var AU=this.getDescSelectionMap()
	u.forEach(this.items,function(AV){AV.hcsd=!!AU[AV.v]
	})
	},clearDescSelection:function n(){this.descSelMap={}
	return this.descSelMap
	},setAllDescSelection:function AG(AV){var AU=this.getDescSelectionMap()
	this.getRootItems().forEach(function AW(AX){AX.hcsd=AV?AX.hcd:false
	AU[AX.v]=AX.hcsd
	u.forEach(AX.children,function(AY){AW.call(this,AY)
	})
	},this)
	},getDescSelectionMap:function C(){return this.descSelMap||{}
	},setAllLevelSelection:function AH(AU){u.forEach(this.items,function(AV){AV.hasLevelSelected=AU&&AV.hcd
	})
	},setSelectionByList:function P(AV,AU){var AW=[],AX=false
	u.forEach(AV,function(AY){var AZ=AY.v
	if(AZ===AS){AX=true
	return false
	}if(!this.getItemByValue(AZ)){this.addItems([AY],true)
	}AW.push({func:k.ELEMENT,itemValue:AZ,isNot:!AU})
	},this)
	this.clearSelections()
	if(!AX){this.setAllSelection(!AU)
	this.selectionList=this.selectionList.concat(AW)
	}this.updateItemSelection()
	},onSelectionChange:function S(AW,AV,AX,AY){if(AW===k.ALL){this.clearSelections()
	this.clearDescSelection()
	this.setAllSelection(AV)
	this.setAllDescSelection(AV)
	}else{var AU={func:AW,itemValue:AX&&AX.v,level:AY,isNot:!AV}
	this.addSelection(AU)
	this.updateDescSelectionMap(AU)
	}if(this.postSelectionChange){this.postSelectionChange()
	}},postAddItems:function L(AU){this.updateItemSelection()
	},postAddSiblingItems:function AO(AV,AU){this.updateSiblingItemSelection(AV)
	},postAddBranchItems:function AM(AV,AU){this.updateItemSelection(AU)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.string","mstrmojo.num","mstrmojo.VisUtility","mstrmojo.vi.viz.EnumDSSDropZones","mstrmojo.models.FormatModel","mstrmojo.models.template.Titles","mstrmojo.models.template.MetricValue","mstrmojo.models.template.Headers","mstrmojo.models.datasets.DataInterface")
	var H=mstrmojo.array,K=mstrmojo.hash,R=mstrmojo.string,W=mstrmojo.num,AG=W.UNIT,AI=mstrmojo.VisUtility,L=mstrmojo.models.datasets.DataInterface,P=mstrmojo.models.FormatModel.ENUM_PROPERTY_NAMES,Q=mstrmojo.vi.viz.EnumDSSDropZones,O=R.decodeHtmlString
	var AB=-1,x=1,AF=2,U=3
	var B=1,C=2,I=3
	var AT="0"
	var AM="root"
	var u=6
	var AC={HR:0,CT:1,FT:2}
	var q=0,AV=2,N=3
	var X=1,AR=2,AA=3
	function M(Aa){var Ab={}
	K.forEach(Aa,function(Ae,Ad){var Ac=[]
	H.forEach(Ae,function(Af){Ac.push({fillColor:Af.fillclr,text:Af.n})
	})
	Ab[Ad]=Ac
	})
	return Ab
	}function o(Ad){var An=this.getTotalRows(),Af=this.data,Ai=[],Ak=Af.gts.col[0],Ac=Ak?Ak.es:[],Am=Ac.length,Ag=0
	Ad=K.copy(Ad,{minAttribute:1,minMetric:1})
	if(An<Ad.minAttribute||Am<Ad.minMetric){throw"Error"
	}do{var Ab=this.getRowHeaders(Ag),Ae,Aa={},Aj=Ab.size()
	for(Ae=0
	Ae<Aj
	Ae++){while(Ae<Aj&&Ab.getHeader(Ae).getFormIndex()!==undefined){Ae++
	}if(Ae<Aj){var Ah=Ab.getHeader(Ae)
	Aa[Ah.t.n]=Ah.getName()
	}}for(Ae=0
	Ae<Ac.length
	Ae++){var Al=this.getMetricValue(Ag,Ae).value
	Aa[Ac[Ae].n]={v:Al.v,rv:Al.rv}
	}Ai.push(Aa)
	Ag++
	}while(Ag<An)
	return Ai
	}function AN(Ab){var Aa=[],Ac=this.data.gts.row
	H.forEach(Ac,function(Ae,Ad){H.forEach(Ab,function(Af){if(Ae.id===Af.id){Aa[Ad]=true
	}})
	})
	return Aa
	}function AH(Ab){var Aa=Number(Ab)
	return isNaN(Aa)?0:Aa
	}function t(Ae,Ap,Aj,Ag,Ai,Ao,Ab,Ad,Aa,An){var Al=Ai.getName(),Af=Ad?O(Al):Al,Ac=Ao&&(Ad?O(Ao.n):Ao.n),Ah=Ai.getElementId(),Am=Ai.getFormIndex()!==undefined
	var Ak={name:Af}
	if(Aa){Ak.tname=Ac
	}if(An){Ak.headerObj=Ai
	Ak.attributeSelector={n:Al,tid:Ab,eid:Ah,isSelectAttr:true}
	if(!Am){if(!Ae.metricSelector){Ae.metricSelector={}
	}Ae.metricSelector[Ab]=[{n:Al,id:Ah}]
	}}if(Ap&&Aj[Ag]===true){Ae.colorInfo.push(Ah)
	}Ae.headers.push(Ak)
	if(Ae.idValueMapping[Ab]){Ae.idValueMapping[Ab]+=(" "+Al)
	}else{Ae.idValueMapping[Ab]=Al
	}}function AL(Ab,Aq,Ad,Al,Aa,Ap,Ar,Am,Ao){var Ag
	if(Ab.additional){Ag=Ab.additional[Ab.additional.length-1]
	}for(var Ak=0
	Ak<Ad.length
	Ak++){var Af=Ad[Ak].oid,Ai=this.getColTitles().titles[0].es[Ak].n,Ah=Aa?O(Ai):Ai,Aj=this.getMetricValue(Al,Ak).value,An={v:Aj.v,rv:Aj.rv,id:Af}
	if(Ar){var Ae=Ap[Ak]
	var Ac=Ae&&Ae[Aj.ti]
	if(Ac){An.threshold=Ac
	}}if(Am){An.name=Ah
	}if(Ag){Ag.values.push(K.copy(An))
	Ag.idValueMapping[Af]=Aj.v
	}if(!Ao){Ab.values.push(An)
	Ab.idValueMapping[Af]=Aj.v
	}else{Ab.values[Ak].rv=AH(Ab.values[Ak].rv)+AH(An.rv)
	}}}function Y(A0){var Aj=this.getTotalRows(),A3=this.data,Ag=[],Al=A3.gts.col[0],Ae=Al?Al.es:[],Ap=Ae.length,Af,Av=0
	A0=K.copy(A0,{minAttribute:1,minMetric:1,colorByInfo:[],hasTitleName:false,hasSelection:false,needDecode:false})
	if(Aj<A0.minAttribute||Ap<A0.minMetric){throw"Error"
	}var Aa=A0.needDecode,Ax=A0.hasTitleName,Aw=A0.hasSelection,A4=A0.hasThreshold,Ao=A0.colorByInfo,Ai=A0.additionalAttrIds||[]
	var Ay=Ao.length
	var A1=A4?M(A3.th):undefined
	Af=AN.call(this,Ao)
	var Au={}
	do{var Ac=this.getRowHeaders(Av),Ad=Ac.size(),A2="",Az,At,A5,An,Ak,Ab={headers:[],values:[],colorInfo:[],idValueMapping:{}},Am,Ar
	if(Ai.length){Am={headers:[],values:[],colorInfo:[],idValueMapping:{}}
	for(Ar=0
	Ar<Ad
	Ar++){At=Ac.getHeader(Ar)
	A5=At.t
	An=A5&&A5.id
	Ak=At.getElementId()
	if(Ai.indexOf(An)===-1){A2+=Ak
	}}Az=!!Au[A2]
	}else{Az=false
	}for(Ar=0
	Ar<Ad
	Ar++){At=Ac.getHeader(Ar)
	A5=At.t
	An=A5&&A5.id
	if(Ai.indexOf(An)>-1){t.call(this,Am,Ay,Af,Ar,At,A5,An,Aa,Ax,Aw)
	}else{if(!Az){t.call(this,Ab,Ay,Af,Ar,At,A5,An,Aa,Ax,Aw)
	}}}if(Az){Ab=Au[A2]
	}else{if(Ai.length){Ab.additional=[]
	Au[A2]=Ab
	}Ag.push(Ab)
	}if(Ai.length){if(Aw){Am.metricSelector=K.copy(Ab.metricSelector,Am.metricSelector)
	}Ab.additional.push(Am)
	}AL.call(this,Ab,A3,Ae,Av,Aa,A1,A4,Ax,Az)
	Av++
	}while(Av<Aj)
	if(Ai.length){for(var Aq=0
	Aq<Ae.length
	Aq++){var Ah=Ae[Aq].oid,As=AI.getNumberFormat(A3,Aq)
	H.forEach(Ag,function(A6){A6.idValueMapping[Ah]=A6.values[Aq].v=W.formatByMask(As,A6.values[Aq].rv)
	})
	}}return Ag
	}function j(Ad,Aa){for(var Ab=0
	Ab<Aa.length
	Ab++){var Ac=Aa[Ab]
	Ad.idValueMapping[Ac.cid]=Ad.values[Ab].v=W.formatByMask(Ac.mask,Ad.values[Ab].rv)
	}}function AE(Ac,Aa){var Ab
	if(Ac.children){H.forEach(Ac.children,function(Ae){AE.call(this,Ae,Aa)
	if(Ac._eid!==AM){if(!Ac.values){Ac.values=[]
	}for(Ab=0
	Ab<Aa.length
	Ab++){var Ad=Ae.values[Ab]
	if(!Ac.values[Ab]){Ac.values[Ab]=K.copy(Ad)
	}else{Ac.values[Ab].rv=AH(Ac.values[Ab].rv)+AH(Ad.rv)
	}}}})
	if(Ac._eid!==AM){j.call(this,Ac,Aa)
	}}else{if(Ac.additional){j.call(this,Ac,Aa)
	Ac.formattedValue=Ac.values[0].v
	Ac.value=Ac.values[0].rv
	}}}function AW(A2){var A5=this.data,Ak=this.getTotalRows(),Al=A5.gts.col[0],Af=Al?Al.es:[],Ar=Af.length,As={},Au=[],Aw,Ax=0,Av
	A2=K.copy(A2,{minAttribute:1,minMetric:1,descKey:"name",childrenKey:"children",hasTitleName:false,hasSelection:false,needDecode:false,nestedLevel:undefined,colorByInfo:[]})
	if(Ak<A2.minAttribute||Ar<A2.minMetric){throw"Error"
	}var Ai=A2.descKey,Ap=A2.childrenKey,Aa=A2.needDecode,Az=A2.hasTitleName,Ay=A2.hasSelection,Ad=A2.nestedLevel||0,A4=A2.hasThreshold,Aq=A2.colorByInfo,A0=Aq.length,Aj=A2.additionalAttrIds||[]
	var A3=A4?M(A5.th):undefined
	As[Ai]="root"
	As._eid=AM
	Aw=AN.call(this,Aq)
	var An={},Ae,Ao,Ac,Am
	var A1=function(BT,A8,BH,BL,BB,BM,BO){var BU=A8.getHeader(BH),BZ=BU&&BU.t,BR=BZ&&BZ.id,BP=(BU&&BU.getName())||"",BI=A8&&A8.headers&&A8.headers.length||0,BN=BU&&BU.getElementId(),BW=H.some(Aw,function(Bb,Ba){return Bb&&((BH-Ba)%BI===0)
	})
	if(Aj.indexOf(BR)===-1){if(!BT[Ap]){BT[Ap]=[]
	An[BT._eid]={}
	}Ae=BT[Ap]
	Ao=An[BT._eid]
	Ac=Ao[BN]
	}var BX=BH+1,BD=[BP]
	while(BX<A8.size()){var BC=A8.getHeader(BX),A7=BC&&BC.t,BE=A7&&A7.id
	if(BE===BR){BH++
	if(BC&&BC.getName()){BD.push(BC.getName())
	}}else{break
	}BX++
	}BP=BD.join(" ")
	if(A0&&BW){Au.push(BN)
	}var BG=(BU!==undefined)
	var BV={headerObj:BU,attributeSelector:{n:BP,tid:BR,eid:BN,isSelectAttr:true}}
	var A6=[{n:BP,id:BN}]
	if(Aj.indexOf(BR)>-1){BO.idValueMapping[BR]=BP
	if(Ay&&BG){BO.headers.push(BV)
	BO.metricSelector[BR]=A6
	}}else{if(!Ac||(BH===Ad-1)){Ac={_eid:BN,idValueMapping:{}}
	if(BT.idValueMapping){Ac.idValueMapping=K.copy(BT.idValueMapping)
	}Ac.idValueMapping[BR]=BP
	if(BG){Ac[Ai]=Aa?O(BP):BP
	if(Az){var BY=BZ&&BZ.n
	Ac.tname=Aa?O(BY):BY
	}if(Ay){Ac=K.copy(BV,Ac)
	}}Ae.push(Ac)
	Ao[BN]=Ac
	}if(Ay&&BG){BM.push(BV)
	BB[BR]=A6
	if(BO){BO.metricSelector[BR]=A6
	}}}if(BH<A8.size()-1&&(!Ad||(BH<Ad-1))){A1.call(this,!Ac?BT:Ac,A8,BH+1,BL,BB,BM,BO)
	}else{var BK=this.getMetricValue(BL,0).value
	if(BK){Ac.value=BK.rv
	Ac.formattedValue=BK.v
	}if(A0){Ac.colorInfo=Au
	Au=[]
	}if(Aj.length){if(!Ac.additional){Ac.additional=[]
	}Ac.additional.push(BO)
	}if(!Ac.values){Ac.values=[]
	}for(Av=0
	Av<Af.length
	Av++){var BJ=Af[Av].oid,BS=this.getMetricValue(BL,Av).value,A9={v:BS.v,rv:BS.rv,id:BJ}
	if(A4){var BF=A3[Av],BA=BF&&BF[BS.ti]
	if(BA){A9.threshold=BA
	}}if(Az){var BQ=this.getColTitles().titles[0].es[Av].n
	A9[Ai]=Aa?O(BQ):BQ
	}if(BO){BO.values.push(K.copy(A9))
	BO.idValueMapping[BJ]=BS.v
	if(!Ac.values[Av]){Ac.idValueMapping[BJ]=BS.v
	Ac.values.push(A9)
	}else{Ac.values[Av].rv=AH(Ac.values[Av].rv)+AH(BS.rv)
	}}else{Ac.idValueMapping[BJ]=BS.v
	Ac.values.push(A9)
	}}if(Ay){Ac.headers=BM
	Ac.metricSelector=BB
	}}}
	do{var Ab=this.getRowHeaders(Ax)
	if(Aj.length){Am={metricSelector:{},idValueMapping:{},values:[],headers:[]}
	}Ac=undefined
	A1.call(this,As,Ab,0,Ax,{},[],Am)
	Ax++
	}while(Ax<Ak)
	var Ag=[]
	for(var At=0
	At<Af.length
	At++){var Ah=Af[At].oid
	Ag.push({cid:Ah,mask:AI.getNumberFormat(A5,At)})
	}if(Ag.length){AE.call(this,As,Ag)
	}return As
	}function A(Aa,Ab){var Ac=[]
	H.forEach((Aa.row||[]).concat(Aa.col||[]),function(Ad){if((Ad.id===Ab)&&(Ad.fs)){Ac=Ac.concat(Ad.fs)
	}})
	return Ac
	}function AO(Aa){return H.isArray(Aa)
	}mstrmojo.models.template.DataInterface=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.models.template.DataInterface",data:null,init:function(Aa){this.data=Aa
	},getRowTitles:function(){return new mstrmojo.models.template.Titles({data:this.data,isRow:true})
	},getColTitles:function(){return new mstrmojo.models.template.Titles({data:this.data,isRow:false})
	},getTotalRows:function AU(){if(this.data.eg){return 0
	}var Ac=this.data,Ab=Ac&&Ac.ghs,Aa=Ab&&Ab.rhs,Ad=Aa&&Aa.items
	return(Ad&&Ad.length)||0
	},getTotalColHeaderRows:function G(){var Aa=this.data.ghs.chs.items
	return(Aa&&Aa.length)||0
	},getTotalCols:function S(){return this.getColHeaders(0).size()
	},getRowHeaders:function k(Aa){return new mstrmojo.models.template.Headers({data:this.data,i:Aa,isRow:true})
	},getColHeaders:function b(Aa){return new mstrmojo.models.template.Headers({data:this.data,i:Aa,isRow:false})
	},getMetricValue:function AS(Ac,Aa){var Ab=this.data
	return new mstrmojo.models.template.MetricValue({data:Ab,value:Ab.gvs.items&&Ab.gvs.items[Ac].items[Aa]})
	},getColumnHeaderCount:function m(){var Aa=this.data.gvs.items
	return Aa?Aa[0].items.length:0
	},getCSSString:function v(){return this.data.cssString
	},isEmpty:function D(){var Ab=this.data.gsi,Ac=function(Ad){return !!Ad.rows.length||!!Ad.cols.length||!!Ad.mx.length
	}
	if(!Ab){return true
	}else{if(AO(Ab)){var Aa=false
	H.forEach(Ab,function(Ad){Aa=K.isEmpty(Ad)||!Ac(Ad)
	return Aa
	})
	return Aa
	}}return !Ac(Ab)
	},getAggregatePadding:function AX(Ae){var Ab=this.data.gsi&&(H.isArray(this.data.gsi)?this.data.gsi[0]:this.data.gsi).fmts,Ad=function(Ag,Af){return Ag+Af
	},Aa=function(Ag){var Af=0
	return["ch","rh","va"].map(function(Ah){var Ai=false
	return Ag.map(function(Aj){if(Ab[Ah]&&Ab[Ah].hasOwnProperty(Aj)){if(!Ai){Ai=true
	Af++
	}return Ab[Ah][Aj]
	}return 0
	}).reduce(Ad)/Ag.length
	}).reduce(Ad)/(Af||1)
	},Ac
	if(!Ab){return null
	}Ac={v:Aa(["tp","bp"]),h:Aa(["rp","lp"])}
	if(Ae){Ac.v=parseFloat(W.convertUnits(AG.PT,AG.PX,Ac.v))
	Ac.h=parseFloat(W.convertUnits(AG.PT,AG.PX,Ac.h))
	}return Ac
	},getColResizeScenario:function f(){var Aa=this.data
	if(Aa.afw){return x
	}else{if(Aa.afc===false){return U
	}else{return AF
	}}},getColResizeInfo:function AJ(Af){var Ah=this,Ag=Ah.data,Ad={v:Ah.getColResizeScenario(),widths:null}
	var Aj=Ag.gsi,Ab=Ag.gts||{},Al=[],Ae=Ag.twm||{},Ai=Ae.top||[],Ak=Ae.bottom||[],Ac=0,Aa=function(Ap,Am){var Ao=function(Ar){var As=Ar.did,At=A(Ab,As),Aq=L.getFormsByAttrId(As,Af)
	(At.length?At:[]).forEach(function(Aw,Av){var Ax=Aq[H.find(Aq,"fid",Aw.id)],Au=(Ak&&Ak[Ac])||{}
	Al.push({n:Ar.n+(Aq.length?(" - "+Ax.fnm):""),did:As,depth:Av+1,t:Ar.t||4,width:parseInt(Au.w||0,10),widthModel:{top:(Ai&&Ai[Ac])||{},bottom:Au}})
	Ac++
	})
	return !Am
	}
	if(Aj){var An=mstrmojo.models.template.DataInterface.getGSI(Aj,Ag.sortIndex)
	if(An){An[Ap].every(Ao)
	}}}
	Aa("rows",false)
	if(Al.length===0){Aa("cols",false)
	}Aa("mx",Aj.tma===1)
	Ad.widths=Al
	return Ad
	},getRowResizeScenario:function z(){return !!this.data.rh?U:AF
	},getRowResizeInfo:function c(){var Ab=this.data,Aa=Ab.rh
	return{v:this.getRowResizeScenario(),height:(Aa===undefined||Aa==="")?Ab.xrh:Aa}
	},getCellItemNumber:function Z(Al){if(!Al||Al.axis===Q.Rows||Al.tui===undefined){return -1
	}var Ae=0,Af=1,Ad=this.data,Ai=Ad.gsi,Ab=0,Ak=Ai[Ab],Ah=Ad.gts.col,Ac=Ah[0],Am=Al.tui,Aj,Aa,Ag
	while(Ae<Am){Aj=Ac.id
	if(Aj.length>0){if(!(Aj===Aa&&Ag!==undefined&&Ac.cni===Ag)){Aa=Aj
	Ag=Ac.cni
	Af+=1
	}}else{while(Ak&&!Ak.mx.length){Ak=Ai[++Ab]
	}if(Ak){Af+=Ak.mx.length
	Ak=Ai[++Ab]
	}}Ae+=1
	Ac=Ah[Ae]
	}if(Ac.id.length===0&&!!Al.idx){Af+=Al.idx
	}return Af
	},getLengthOfColumnSet:function AQ(Ac,Aa){if(!!Aa){return Ac.cols.length
	}var Ab=Ac.mx.length
	return Ac.cols.length+(Ab&&Ac.tma===Q.Columns?Ab-1:0)
	},getColumnSetIndexCellBelongsTo:function E(Aa){var Ae=this.getCellItemNumber(Aa),Ad
	if(Ae===-1){return -1
	}var Ac=this.data.gsi,Ab=0
	while(Ab<Ac.length){Ad=Ac[Ab]
	Ae-=this.getLengthOfColumnSet(Ad)
	if(Ae<=0){return Ab
	}Ab+=1
	}return -1
	},_getColumnHeaderDataFromColumnSet:function AP(Af){var Ag=this,Ac=this.data.ghs,Ad=Ac.chs,Ae=Ad.items,Aa=[]
	Ae.forEach(function(Ah){(Ah.items||[]).forEach(function(Ai){if("mix" in Ai){Aa.push(Ai)
	}})
	})
	Aa.sort(function(Ai,Ah){return Ai.o-Ah.o
	})
	var Ab=Af.length
	H.forEach(Aa,function(Ai){Ai.setIdx=Ag.getColumnSetIndexCellBelongsTo(Ai)
	var Ah=Ai._ridx=[]
	H.forEach(Aa,function(Aj,Ak){if(Ai.setIdx===Aj.setIdx&&Aj.mix===Ai.mix){Ah.push(Ab+Ak)
	}})
	Af.push(K.copyProps(["_ridx","setIdx"],Ai,K.copy(Ai._e,{})))
	})
	return Af
	},getColumnHeaderData:function p(Am){var Ai=this.data,Ap=Ai.gts,An=Ai.gts.rec,Aq=[],Ac=[],Ak=Ap.row,Ao=mstrmojo.models.template.DataInterface.getGSI(Ai.gsi),Ah=Ao.prop.rows.shw===AT&&Am
	H.forEach(Ak,function(As){var Ar=As.fs,At=As.otp===AB
	if(!Ah){if(Ar&&Ar.length>1){H.forEach(Ar,function(){Aq.push(As)
	})
	}else{Aq.push(As)
	}}if(At){Ac=As.es
	}})
	var Ag=Ap.col
	if(Ag&&Ag.length>0){if(AO(Ai.gsi)){Aq=this._getColumnHeaderDataFromColumnSet(Aq)
	}else{var Af=Ai.ghs,Ad=Af.chs,Aa=Ad.items,Ab=[],Al=Aa.length>0?Aa[Aa.length-1].items:[],Ae=function Ae(Ar){if(!Ar||!Ar.pi){return 
	}var As=Ar.pi,At=As&&As.ci,Au=As&&As.ri
	if(Ar.mix!==undefined){return Ar
	}if(Au===undefined||At===undefined){return 
	}return Ae(Aa[Au].items[At])
	}
	H.forEach(Ag,function(Ar){var As=Ar.otp===AB
	if(!Ah&&(As&&(!An||Ak.length===0))){Aq.push(Ar)
	}if(As){Ab=Ab.concat(Ar.es)
	}})
	var Aj=Aq.length
	H.forEach(Al,function(Ar){delete Ar._ridx
	})
	if(Ab.length){H.forEach(Al,function(Au){var Ar=Ae(Au)
	var Av=Ar?Ar.idx:(Au.pi?0:Au.idx),At=Ab[Av]||Ab[0]
	var As=At._ridx=At._ridx||[]
	if(As.length===0){H.forEach(Al,function(Ax,Ay){var Aw=Ae(Ax)
	if(!Ar||(Aw&&Aw.mix===Av)){As.push(Aj+Ay)
	}})
	}Aq.push(At)
	})
	}}}else{if(Ac.length>0){Aq.push(Ac[0])
	}}return Aq
	},getUnitById:function w(Ab){var Aa=null
	mstrmojo.models.template.DataInterface.forEachGSI(this.data.gsi,function(Ad,Ac){[Ad.rows,Ad.cols,Ad.mx].some(function(Ae,Af){if(Af===2){Af=-2
	}Ae.some(function(Ag,Ah){if(Ag.did===Ab){Aa={axis:Af+1,depth:Ah+1,unit:Ag,csKey:Ac}
	}return !!Aa
	})
	return !!Aa
	})
	return !Aa
	})
	return Aa
	},getRawData:function h(Aa,Ab){switch(Aa){case C:return o.call(this,Ab)
	case I:return Y.call(this,Ab)
	}return AW.call(this,Ab)
	}})
	var g=mstrmojo.models.template.DataInterface
	mstrmojo.models.template.DataInterface.getGSI=function AY(Ac,Ab){if(!H.isArray(Ac)){return Ac
	}if(typeof Ab==="undefined"||Ab===null){return Ac[0]
	}if(typeof Ab==="number"){return Ac[Math.min(Math.max(Ab,0),Ac.length-1)]
	}var Aa=H.filterOne(Ac,function(Ad){return Ad.k===Ab
	})
	return Aa||Ac[0]
	}
	mstrmojo.models.template.DataInterface.forEachGSI=function AZ(Ag,Af,Ae,Ac){if(K.isEmpty(Ag)){return 
	}if(!H.isArray(Ag)){if(Ac){Af.call(Ac,Ag,Ae)
	}else{Af(Ag,Ae)
	}}var Aa=(Ag&&Ag.length)||0,Ab
	for(Ab=0
	Ab<Aa
	Ab++){var Ad=Ab===(Aa-1)
	if(Ac){if(Af.call(Ac,Ag[Ab],Ag[Ab].k,Ab,Ag,Ad)===false){break
	}}else{if(Af(Ag[Ab],Ag[Ab].k,Ab,Ag,Ad)===false){break
	}}}}
	mstrmojo.models.template.DataInterface.inflateGridData=function(Ac){var Ad=Ac.gvs,Ab=Ac.ghs,Af=Ac.isv
	if(Ac.egt===undefined&&(Ac.eg===undefined||Ac.eg===null)&&!!Ad&&K.isEmpty(Ad)){var Aa={v:"",rv:""},Ae={items:(Ab.chs.cws||[0]).map(function(){return Aa
	})}
	Ad.items=Ab.rhs.items?Ab.rhs.items.map(function(){return Ae
	}):[]
	Ad.show=true
	if(Af){Ad.ignoreCells=true
	}}}
	mstrmojo.models.template.DataInterface.modifyGridData=function a(Ab,Ac,Ad){var Aa=false
	if(Ab&&Ac){Ab[Ac]=Ad
	Aa=true
	}return Aa
	}
	mstrmojo.models.template.DataInterface.ENUM_ROW_ARRANGEMENT=AC
	mstrmojo.models.template.DataInterface.getRowArrangement=function n(Ab){var Ad=g.getGSI(Ab.gsi),Aa=K.walk("prop.rows.mg",Ad)==="-1",Ac
	if(Aa){Ac=AC.HR
	}else{if(K.walk("fmts.rh.atw",Ad)){Ac=AC.CT
	}else{Ac=AC.FT
	}}return Ac
	}
	mstrmojo.models.template.DataInterface.getFormatsIntersection=function(Aj,Ai,Ae){var Al=Aj&&g.getGSI(Aj.gsi),Ak=Al&&Al.fmts
	var Ad={},Aa=Aj.gsi,Ab,Am,Ah=function(An){var Ao=Ak[An],Ap=Am[An]
	if(!Ao||!Ap){return 
	}K.forEach(Ap,function(Aq,Ar){var As=An+"."+Ar
	if(As in Ad){return true
	}else{if(Ar in Ao&&Ao[Ar]!==Aq){Ao[Ar]=-1
	Ad[As]=true
	}}})
	},Ag=[P.FMT_COL_HEADER,P.FMT_ROW_HEADER,P.FMT_VALUES]
	if(Ag.indexOf(Ai)>-1){Ag=[Ai]
	}Ak=K.clone(Ak)
	if(Ae){Ak=Ak[P.SUBTOTAL]
	}var Af=Aa.length||0
	for(var Ac=1
	Ac<Af
	Ac++){Ab=Aa[Ac]
	Am=Ab.fmts
	if(Ae){Am=Am[P.SUBTOTAL]
	}Ag.forEach(Ah)
	}return Ak||{}
	}
	mstrmojo.models.template.DataInterface.getShowBanding=function J(Aa,Ac){var Ab=Aa&&mstrmojo.models.template.DataInterface.getGSI(Aa.gsi,Ac)
	return !!K.walk("prop.sb",Ab)
	}
	mstrmojo.models.template.DataInterface.findSelectorControl=function d(Ab){var Aa=Ab&&Ab.sc
	if(Aa&&parseInt(Aa.ct,10)===u){return Aa
	}return undefined
	}
	mstrmojo.models.template.DataInterface.deleteSelectorControl=function AD(Aa){var Ab=Aa&&Aa.sc
	if(Ab&&parseInt(Ab.ct,10)===u){delete Aa.sc
	}}
	mstrmojo.models.template.DataInterface.isSubtotalOnTop=function F(Aa){return K.walk("gts.rowSubPos",Aa)===AV
	}
	mstrmojo.models.template.DataInterface.isSubtotalOnBottom=function e(Aa){return K.walk("gts.rowSubPos",Aa)===N
	}
	mstrmojo.models.template.DataInterface.getSubtotalPos=function AK(Aa){return K.walk("gts.rowSubPos",Aa)||q
	}
	mstrmojo.models.template.DataInterface.isLockRowHeader=function r(Aa){var Ab=Aa.lhv
	return(Ab===X||Ab===AA)
	}
	mstrmojo.models.template.DataInterface.isLockColHeader=function l(Aa){var Ab=Aa.lhv
	return(Ab===AR||Ab===AA)
	}
	mstrmojo.models.template.DataInterface.ENUM_LOCKED_HEADERS={OFF:0,ROW:X,COL:AR,BOTH:AA}
	mstrmojo.models.template.DataInterface.ENUM_GRID_RESIZE={FIT_TO_WINDOW:x,FIT_TO_CONTENTS:AF,FIXED:U}
	mstrmojo.models.template.DataInterface.ENUM_RAW_DATA_FORMAT={TREE:B,ROWS:C,ROWS_ADV:I}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.locales")
	mstrmojo.requiresCls("mstrmojo.chart.enums.EnumFontStyle")
	mstrmojo.requiresCls("mstrmojo.VisUtility")
	mstrmojo.requiresCls("mstrmojo.dom")
	mstrmojo.requiresCls("mstrmojo.num")
	mstrmojo.requiresClsP("mstrmojo.chart.common","DSSDateTime","ScalePlate")
	mstrmojo.requiresClsP("mstrmojo.chart.model.enums","EnumDSSGraphProperty","EnumDSSGraphDataTextShowType","EnumDSSGraphObject")
	var l=mstrmojo.chart,g=l.model,u=mstrmojo.VisUtility,X=mstrmojo.dom,R=l.enums,E=R.EnumFontStyle,U=g.enums,AE=U.EnumDSSGraphProperty,b=U.EnumDSSGraphDataTextShowType,AF=U.EnumDSSGraphObject,M=mstrmojo.num
	var F=mstrmojo.gm.EnumDataLabels
	var Z=[["xAxLbFntClr","yAxLbFntClr","dlFntClr","lgdFntClr"],["xAxLbFntFml","yAxLbFntFml","dlFntFml","lgdFntFml"],["xAxLbFntSz","yAxLbFntSz","dlFntSz","lgdFntSz"],["xAxLbFntStyle","yAxLbFntStyle","dlFntStyle","lgdFntFml"]]
	var v=[["majorGridLnThk","minerGridLnThk","majorGridLnThk","minerGridLnThk"],["majorGridLnClr","minerGridLnClr","majorGridLnClr","minerGridLnClr"],["majorGridLnStyle","minerGridLnStyle","majorGridLnStyle","minerGridLnStyle"]]
	var c=[["bgFillClr"],["bgFillStyle"],["bgFillTrans"]]
	function Y(AP){switch(AP){case AE.DssGraphFontColor:return 0
	case AE.DssGraphFontName:return 1
	case AE.DssGraphFontSize:return 2
	case AE.DssGraphFontStyle:return 3
	case AE.DssGraphFontSize100:return 4
	default:return -1
	}}function AA(AP){switch(AP){case AE.DssGraphAreaColor:return 0
	case AE.DssGraphFillEffect:return 1
	case AE.DssGraphAreaAlpha:return 2
	}return -1
	}function AC(AP){var AQ
	switch(AP){case AF.DssGraphX1Body:case AF.DssGraphX1Label:case AF.DssGraphX1Major:case AF.DssGraphX1Minor:case AF.DssGraphUserLabel3:case AF.DssGraphUserLine3:AQ="X1"
	break
	case AF.DssGraphX2Body:case AF.DssGraphX2Label:case AF.DssGraphX2Major:case AF.DssGraphX2Minor:case AF.DssGraphUserLabel4:case AF.DssGraphUserLine4:AQ="X2"
	break
	case AF.DssGraphY1Body:case AF.DssGraphY1Label:case AF.DssGraphY1Major:case AF.DssGraphY1Minor:case AF.DssGraphUserLabel1:case AF.DssGraphUserLine1:AQ="Y1"
	break
	case AF.DssGraphY2Body:case AF.DssGraphY2Label:case AF.DssGraphY2Major:case AF.DssGraphY2Minor:case AF.DssGraphUserLabel2:case AF.DssGraphUserLine2:AQ="Y2"
	break
	case AF.DssGraphZBody:AQ="Z"
	break
	case AF.DssGraphO1Body:case AF.DssGraph2DO1Label:case AF.DssGraphO1Major:case AF.DssGraphO1Minor:AQ="O1"
	break
	case AF.DssGraphO2Body:case AF.DssGraph2DO2Label:case AF.DssGraphO2Major:case AF.DssGraphO2Minor:AQ="O2"
	break
	default:AQ="No_Axis"
	break
	}return AQ
	}function h(AP,AQ){if(!!AP===false){return undefined
	}return undefined
	}function a(AU,AP){if(!!AU===false){return undefined
	}var AZ,AX,AW=AP.isVertical!==undefined?AP.isVertical:true,AR=AP.isGridChart||false,Aa=AP.isPieShape||false,AV={Name:0,Value:0},AS=AU.gaid,AT=AU.goid,AQ=AU.gsid,AY=AU.v
	if(!!AS===false){return undefined
	}switch(AS){case AE.DssGraphShowLBLFeeler:if(Aa){AV.Name="DataLabel"
	if((AY&b.DssGraphDataTextValue)!==0){AV.Value=F.SHOW_VALUE_ONLY
	}else{if((AY&b.DssGraphDataTextLabel)!==0){AV.Value=F.SHOW_TEXT_ONLY
	}else{AV.Value=F.HIDE
	}}}break
	case AE.DssGraphAreaColor:case AE.DssGraphFillEffect:case AE.DssGraphAreaAlpha:AX=AA.call(this,AS)
	if(AX<0){return undefined
	}if(AT===AF.DssGraphBackground){AV.Name=c[AX][0]
	if(AV.Name.search("Trans")!==-1){AV.Value=AY/255*100
	}else{AV.Value=AY
	}}break
	case AE.DssGraphShowLegendText:AV.Name="LegendVisibleness"
	AV.Value=AY===0?false:true
	break
	case AE.DssGraphSDShowDataText:AV.Name="ShowSeriesDataLabel"
	AV.Value=AY!==0
	break
	case AE.DssGraphShowDataText:if(Aa===false){AV.Name="DataLabel"
	AV.Value=F.HIDE
	if(AY&b.DssGraphDataTextValue){AV.Value=F.SHOW_VALUE_ONLY
	}else{if(AY&b.DssGraphDataTextLabel){AV.Value=F.SHOW_TEXT_ONLY
	}}}break
	case AE.DssGraphFontColor:case AE.DssGraphFontName:case AE.DssGraphFontSize100:case AE.DssGraphFontSize:case AE.DssGraphFontStyle:AV.Value=AY
	AZ=AC.call(this,AT)
	AX=Y.call(this,AS)
	if(AX<0){return undefined
	}if(AX===4){AX=3
	AV.Value/=100
	}if(AZ==="No_Axis"){if(AT===AF.DssGraphDataText){if(Aa){return undefined
	}AV.Name=Z[AX][2]
	}else{if(AT===AF.DssGraphPieFeelerLabel||AT===AF.DssGraphPieFeelerLabel){if(Aa===false){return undefined
	}AV.Name=Z[AX][2]
	}else{if(AT===AF.DssGraphLegendText){AV.Name=Z[AX][3]
	}else{return undefined
	}}}}else{if(AZ[0]==="X"){AV.Name=Z[AX][0]
	}else{if(AZ[0]==="Y"){AV.Name=Z[AX][1]
	}else{if(AZ[0]==="O"){AV.Name=AW?Z[AX][0]:Z[AX][1]
	}else{return undefined
	}}}}break
	}return AV
	}var W,n=String.fromCharCode,AI=mstrmojo.locales.datetime,AO=0,L=document.getElementById("measureText"),B={},m={}
	var r=0.03,K=0,S=0,H=0.2
	function t(AQ){var AP,AR=[],AS
	for(AP=0
	AP<=AQ
	AP++){AS=AP.toString(16)
	if(AS.length===1){AS="0"+AS
	}AR[AP]=AS
	}W=AR
	return AR
	}function AL(AP){var AQ=parseFloat(AP)
	if(isNaN(AQ)===false&&AQ!==undefined&&AQ!==null){return AQ
	}return 0
	}function D(AP){AP=AP.replace(/ddd/g,"EEE")
	AP=AP.replace(/AM\/PM/g,"a")
	AP=AP.replace(/tt/g,"a")
	AP=AP.replace(/:'/g,":")
	AP=AP.replace(/'\/'/g,"/")
	AP=AP.replace(/\\/g,"")
	var AQ,AS=true,AR=AP.length
	for(AQ=0
	AQ<AR
	AQ++){if(AP[AQ]==="h"||AP[AQ]==="H"||AP[AQ]===":"){AS=true
	}else{if(AP[AQ]===" "&&AS){AS=true
	}}if(AP[AQ]==="m"&&AS){AP=AP.substring(0,AQ)+"M"+AP.substring(AQ+1)
	}}return AP
	}mstrmojo.chart.common.Utility=mstrmojo.provide("mstrmojo.chart.common.Utility",{FIX_FRACTION_CONDENSED:2,point2D:{},rect2D:{},tripleId:{create:function N(AQ,AU,AS,AR,AT){if(AQ===null||AQ===undefined){AQ=-3
	}if(AU===null||AU===undefined){AU=-3
	}if(AS===null||AS===undefined){AS=-3
	}var AP={mObjectId:AQ,mSeriesId:AU,mGroupId:AS}
	if(AR!==undefined&&AR!==null){AP.angleByIndex=AR
	}if(AT!==undefined&&AT!==null){AP.sliceById=AT
	}return AP
	},walks:function p(AT,AR){if(!!AT===false||!!AR===false){return null
	}if(AT.length===1){return AR[AT[0]]
	}var AS=(AT&&AT.length)||0,AQ,AP=AT[AQ]
	for(AQ=0
	AQ<AS
	AQ++){if(AR[AP]===undefined){AR[AP]={}
	}AR=AR[AP]
	}return AR
	},equal:function e(AP,AQ){return(AP.mObjectId===AQ.mObjectId&&AP.mSeriesId===AQ.mSeriesId&&AP.mGroupId===AQ.mGroupId)
	},reset:function w(AR,AT,AS,AQ,AP,AU){AR.mObjectId=AT!==undefined?AT:-3
	AR.mSeriesId=AS!==undefined?AS:-3
	AR.mGroupId=AQ!==undefined?AQ:-3
	if(AP!==undefined&&AP!==null){AR.angleByIndex=AP
	}if(AU!==undefined&&AU!==null){AR.sliceById=AU
	}return AR
	}},transformProperty:function A(AP,AR,AQ){if(AR===0){return a.call(this,AP,AQ)
	}return h.call(this,AP,AQ)
	},abbreviateNumber:function f(AZ,AP){var Aa,AQ,Ab="",AS=(AZ<0),Ac=(this.isIntegar(AZ)===false)
	if(Ac){AP++
	}if(AZ<0){AP++
	}var AV=AS?-AZ:AZ
	var AW=0
	if(AV>=1e+27){AV=999
	Ab="Y"
	}else{if(AV>=1e+24){AV/=1e+24
	Ab="Y"
	}else{if(AV>=1e+21){AV/=1e+21
	Ab="Z"
	}else{if(AV>=1000000000000000000){AV/=1000000000000000000
	Ab="E"
	}else{if(AV>=1000000000000000){AV/=1000000000000000
	Ab="P"
	}else{if(AV>=1000000000000){AV/=1000000000000
	Ab="T"
	}else{if(AV>=1000000000){AV/=1000000000
	Ab="B"
	}else{if(AV>=1000000){AV/=1000000
	Ab="M"
	}else{if(AV>=1000){AV/=1000
	Ab="K"
	}else{if(AV>=1){AW++
	}else{if(AV>=0.001){AW++
	}else{if(AV>=0.000001){AW++
	}else{if(AV>=1e-9){AW++
	}else{if(AV>=1e-12){AW++
	}else{AS=false
	}}}}}}}}}}}}}}if(this.isIntegar(AV)===false){Aa=M.toLocaleString(AV.toString())
	var AR=5,AU=this.FIX_FRACTION_CONDENSED,Ad
	AQ=Aa.indexOf(M.getDecimal())
	Ad=Aa.length-AQ-1
	if(Ad>AR||(Ad>AU&&Ad>AQ)){if(Ad>AR&&AP-Ad<0){AU=Math.max(AU,Math.min(AU,AP-Ad))
	}else{AU=Math.max(1,Math.min(AU,AP-Ad))
	}AV=AV.toFixed(AU)
	}}Aa=M.toLocaleString(AV.toString())
	if(this.isIntegar(AV)===false){var AY=Aa.length-1
	AQ=Aa.indexOf(M.getDecimal())
	if(AQ!==-1){if(AQ>=AY){Aa=Aa.substring(0,AQ)
	}else{var AX,AT=true
	for(AX=AY
	AX>AQ&&AT
	--AX){if(Aa[AX]!=="0"){AT=false
	}}if(AT){Aa=Aa.substring(0,AQ)
	}}}}if(AS){Aa="-"+Aa
	}Aa+=Ab
	return Aa
	},getScalePlate:function AK(AP){AP=AP||false
	this.mScalePlate=mstrmojo.chart.common.ScalePlate
	if(AP){this.mScalePlate.clear()
	}return this.mScalePlate
	},prepareScalePlateOptions:function AH(AR,AQ,AS){var AP={mUseLogarithmicScale:AR,mAlwaysIncludeZero:!AR&&(AQ||!!(AS&1)||!!(AS&2)),mShowMinLabel:true,mShowMaxLabel:true,mDrawCustomLine:false,mAxisMinValue:0,mAxisMaxValue:0,mAxisCustomValue:0,mUseCustomMinMax:false}
	return AP
	},evaluateTextMargin:function Q(AP){this.mTextMargins=this.mTextMargins||{}
	var AQ=this.mTextMargins
	if(AQ[AP]){return AQ[AP]
	}var AR=[]
	AR[0]=Math.floor(AP*r+0.5)
	AR[1]=Math.floor(AP*K+0.5)
	AR[2]=Math.max(Math.floor(AP*S+0.5),1)
	AQ[AP]=AR
	return AR
	},AlmostZero:function AD(AP){return(Math.abs(AP)<0.000001)
	},isValidNumber:function J(AP){if(typeof AP==="number"){if(AP===0){return true
	}return !!AP
	}return false
	},isIntegar:function o(AP){return AP===+AP&&AP===(AP|0)
	},HasArrayIntersection:function P(AQ,AP){var AR
	for(AR=0
	AR<AQ.length
	AR++){if(AP.indexOf(AQ[AR])!==-1){return true
	}}return false
	},EscapeString:function C(AP){var AR='"',AQ='\\"',AS=new RegExp(AR,"g")
	return String(AP).replace(/</g,"&lt
	").replace(/>/g,"&gt
	").replace(/\\/g,"\\\\").replace(AS,AQ).replace(/\r\n/g,"<br/>").replace(/\r/g,"<br/>").replace(/\n/g,"<br/>")
	},EscapeStringForJSON:function O(AP){var AR='"',AQ='\\"',AS=new RegExp(AR,"g")
	return String(AP).replace(/\\/g,"\\\\").replace(AS,AQ).replace(/\r/g,"\\r").replace(/\n/g,"\\n")
	},TrimLastComma:function AJ(AQ){var AP
	if(!AQ.buf||AQ.len===-1){return 
	}AP=AQ.len
	var AR=String(AQ.buf[AP])
	if(AR&&AR[AR.length-1]===","){AQ.buf[AP]=AR.slice(0,-1)
	}},decodeUTF8:function k(AP){var AQ="",AS=0,AU=0,AT=0,AR=0
	while(AS<AP.length){AU=AP.charCodeAt(AS)
	if(AU<128){AQ+=n(AU)
	AS++
	}else{if((AU>191)&&(AU<224)){AT=AP.charCodeAt(AS+1)
	AQ+=n(((AU&31)<<6)|(AT&63))
	AS+=2
	}else{AT=AP.charCodeAt(AS+1)
	AR=AP.charCodeAt(AS+2)
	AQ+=n(((AU&15)<<12)|((AT&63)<<6)|(AR&63))
	AS+=3
	}}}return AQ
	},formatDateTimeValue:function j(AQ,AV){var AT=new mstrmojo.chart.common.DSSDateTime({ifTime:AV})
	var AP=""
	var AS=""
	var AW=0
	while(AW<AQ.length){var AR=1
	switch(AQ.charAt(AW)){case"[":AW++
	while(AW<AQ.length&&AQ.charAt(AW)!=="]"){AS+=AQ.charAt(AW)
	AW++
	}if(AS.length>0&&(AS[0]===">"||AS[0]==="<"||AS[0]==="=")){AS=""
	}AW++
	break
	case"y":AW++
	while(AW<AQ.length&&AQ.charAt(AW)==="y"){AR++
	AW++
	if(AR===4){break
	}}if(AR===1||AR===2){AP+=this.fillZeroToWidth(AT.mnYear%100,2)
	}else{if(AR===3){AP+=this.fillZeroToWidth(AT.mnYear%100,2)
	AW--
	}else{if(AR===4){AP+=AT.mnYear
	}}}break
	case"M":AW++
	while(AW<AQ.length&&AQ.charAt(AW)==="M"){AR++
	AW++
	}if(AR<3){AP+=this.fillZeroToWidth(AT.mnMonth,AR)
	}else{if(AR===3){AP+=AI.MONTHNAME_SHORT[AT.mnMonth]
	}else{AP+=AI.MONTHNAME_FULL[AT.mnMonth]
	}}break
	case"d":AW++
	while(AW<AQ.length&&AQ.charAt(AW)==="d"){AR++
	AW++
	}if(AR<3){AP+=this.fillZeroToWidth(AT.mnDay,AR)
	}else{if(AR===3){AP+=AI.dayShortNames[AT.mnDay]
	}else{AP+=AI.dayNames[AT.mnDay]
	}}break
	case"h":AW++
	while(AW<AQ.length&&AQ.charAt(AW)==="h"){AR++
	AW++
	}var AU=AT.mnHour
	if(AU===0){AU=12
	}if(AU>12){AU-=12
	}AP+=this.fillZeroToWidth(AU,AR)
	break
	case"H":AW++
	while(AW<AQ.length&&AQ.charAt(AW)==="H"){AR++
	AW++
	}AP+=this.fillZeroToWidth(AT.mnHour,AR)
	break
	case"m":AW++
	while(AW<AQ.length&&AQ.charAt(AW)==="m"){AR++
	AW++
	}AP+=this.fillZeroToWidth(AT.mnMinute,AR)
	break
	case"s":AW++
	while(AW<AQ.length&&AQ.charAt(AW)==="s"){AR++
	AW++
	}AP+=this.fillZeroToWidth(AT.mnSecond,AR)
	break
	case"S":AW++
	while(AW<AQ.length&&AQ.charAt(AW)==="S"){AR++
	AW++
	}AP+=this.fillZeroToWidth(AT.mnMillisecond,AR)
	break
	case"a":AU=AT.mnHour
	if(AU<12){AP+=AI.AM_NAME
	}else{AP+=AI.PM_NAME
	}AW++
	break
	default:AP+=AQ.charAt(AW++)
	break
	}}if(AS.length!==0){AP='<SPAN STYLE="COLOR: '+AS+'" >'+AP+"</SPAN>"
	}return AP
	},fillZeroToWidth:function q(AT,AR){var AQ="",AS=AQ+AT
	var AP=AS.length
	while(AP<AR){AS="0"+AS
	AP++
	}return AS
	},fillZeroRightToWidth:function AN(AU,AS){var AR="",AT=AR+AU
	var AQ=AT.indexOf(".")
	if(AQ!==-1){AT=AT.slice(0,AQ)+AT.slice(AQ+1)
	}var AP=AT.length
	while(AP<AS){AT=AT+"0"
	AP++
	}return AT
	},updateCache:function AM(AQ,AT,AU){var AS=(AT&&AT.length)||0,AR,AP,AV=AQ
	for(AR=0
	AR<AS-1
	AR++){AP=AT[AR]
	if(!AV[AP]){AV[AP]={}
	}AV=AV[AP]
	}AV[AT[AS-1]]=AU
	},measureTextHeight:function(AU,AR,AY,AV,AP){var AX,AT=AU
	if(AT===" "){AT="\u00A0"
	}AP=AP||"pt"
	if(typeof AY==="number"){AY=AY+AP
	}var AQ="none",AW="normal"
	if(AV&E.FS_ITALIC){AQ="italic"
	}if(AV&E.FS_BOLD){AW="bold"
	}var AS={fontFamily:AR,fontSize:AY,fontStyle:AQ,fontWeight:AW}
	if(m&&m.H&&m.H[AR]&&m.H[AR][AY]&&m.H[AR][AY][AV]){AX=m.H[AR][AY][AV]
	}else{AX=u.measureTextHeight("H",AS,1)
	this.updateCache(m,["H",AR,AY,AV],AX)
	}return AX
	},measureText:function AB(AX,AU,Af,AY,AR,AZ,Ab){var AQ=true,AP,Ad=Af+1,AT=false
	var AW=AX
	if(AW===" "){AW="\u00A0"
	AT=true
	}AR=AR||"pt"
	if(typeof Af==="number"){Af=Af+AR
	}if(!AZ&&!Ab&&B&&B[AW]&&B[AW][AU]&&B[AW][AU][Af]&&B[AW][AU][Af][AY]){return B[AW][AU][Af][AY]
	}if(AQ){var AS="normal",Aa="normal"
	if(AY&E.FS_ITALIC){AS="italic"
	}if(AY&E.FS_BOLD){Aa="bold"
	}var AV={fontFamily:AU,fontSize:Af,fontStyle:AS,fontWeight:Aa}
	if(m&&m.H&&m.H[AU]&&m.H[AU][Af]&&m.H[AU][Af][AY]){Ad=m.H[AU][Af][AY]
	}else{Ad=u.measureTextHeight("H",AV,true)
	this.updateCache(m,["H",AU,Af,AY],Ad)
	}if(AZ&&!Ab&&!AT){AP=u.measureTotalTextSizeSplitting(AX,AV,0).width
	}else{if(Ab&&!AT){AP=u.measureTotalTextSizeSplitting(AX,AV,0,true).width
	Ad*=2
	}else{AP=u.measureTextWidth(AX,AV,0)
	}}}else{if(!L){var Ac=document.createElement("div")
	Ac.id="measureText"
	Ac.style.position="absolute"
	Ac.style.top="0"
	Ac.style.visibility="hidden"
	Ac.style.height="auto"
	Ac.style.width="auto"
	document.body.appendChild(Ac)
	L=Ac
	}X.emptyNode(L)
	L.appendChild(document.createTextNode(AW))
	L.style.fontFamily=AU
	L.style.fontSize=Af
	L.style.fontWeight="normal"
	L.style.fontStyle="none"
	if(AY&E.FS_ITALIC){L.style.fontStyle="italic"
	}if(AY&E.FS_BOLD){L.style.fontWeight="bold"
	}AP=L.scrollWidth+1
	Ad=L.scrollHeight+1
	}var Ae={Width:AP,Height:Ad}
	this.updateCache(B,[AW,AU,Af,AY],Ae)
	return Ae
	},ReplaceDecimalPoint:function AG(AQ,AP){return AQ.replace(".",AP)
	},ReplaceMinusSign:function z(AP,AQ){return AP.replace("-",AQ)
	},insert:function G(AQ,AP,AR){if(typeof AQ==="string"&&typeof AP==="string"&&AR<=AQ.length){return AQ.substr(0,AR)+AP+AQ.substr(AR)
	}return AQ
	},InsertThousandSeparator:function x(AR,AS,AW){var AP=AW.mstrDecimalPoint
	var AQ=AR.indexOf(AP)
	if(AQ===-1){AQ=AR.length
	}var AT=0
	while(AT<AQ&&!this.chk_val(AR.charAt(AT))){AT++
	}var AV=AR
	var AU
	for(AU=AQ-3
	AU>AT
	AU-=3){AV=this.insert(AV,AS,AU)
	}return AV
	},chk_val:function I(AP){return/^\d+$/.test(AP)
	},hFormatValue:function d(Ac,AT,An,BB){var Aa=0
	var Au=0
	var Aj=Ac.length
	var BJ=false
	if(!BB){BB={}
	var As=window.navigator.userLanguage||window.navigator.language
	var BU=As.split("-")
	this.mstrLanguageCode=BU[0]
	this.mstrCountryCode=BU[1]||BU[0]
	BB.mstrThousandSeparator=mstrmojo.locales.number.THOUSANDSEPARATOR||","
	BB.mstrCurrencySymbol="$"
	BB.mstrDecimalPoint=mstrmojo.locales.number.DECIMALSEPARATOR||"."
	BB.mstrPercentSign="%"
	BB.mstrMinusSign="-"
	}while(Aa<Aj){if(Ac.charAt(Aa)==='"'){Aa++
	while(Aa<Aj&&Ac.charAt(Aa)!=='"'){Aa++
	}Aa++
	}else{if(Ac.charAt(Aa)==="["){Aa++
	var At=""
	while(Aa<Aj&&Ac.charAt(Aa)!=="]"){At+=Ac.charAt(Aa)
	Aa++
	}if(At.length>1&&(At.charAt(0)===">"||At.charAt(0)==="<"||At.charAt(0)==="=")){var AQ=-1
	var BD=0
	switch(At.charAt(0)){case">":if(At.charAt(1)>="0"&&At.charAt(1)<="9"){AQ=1
	BD=1
	}else{if(At.charAt(1)==="="&&At.length>2&&At.charAt(2)>="0"&&At.charAt(2)<="9"){AQ=2
	BD=2
	}}break
	case"=":if(At.charAt(1)>="0"&&At.charAt(1)<="9"){AQ=3
	BD=1
	}else{if(At.charAt(1)==="="&&At.length>2&&At.charAt(2)>="0"&&At.charAt(2)<="9"){AQ=3
	BD=2
	}}break
	case"<":if(At.charAt(1)>="0"&&At.charAt(1)<="9"){AQ=5
	BD=1
	}else{if(At.charAt(1)==="="&&At.length>2&&At.charAt(2)>="0"&&At.charAt(2)<="9"){AQ=4
	BD=2
	}}break
	}if(AQ>0){var Ae=At.substr(BD)
	var BM=parseFloat(Ae)
	if((AQ===1&&AT>BM)||(AQ===2&&AT>=BM)||(AQ===3&&AT===BM)||(AQ===4&&AT<=BM)||(AQ===5&&AT<BM)){BJ=true
	}return mstrmojo.num.formatByMask(Ac,AT)
	}}}else{if(Ac.charAt(Aa)==="
	"){if(BJ){Aj=Aa
	break
	}else{Au=Aa+1
	Aa++
	}}else{Aa++
	}}}}if(!BJ){Au=0
	}Aa=Au
	var Az=false
	while(Aa<Aj){if(Ac.charAt(Aa)==='"'){Aa++
	while(Aa<Aj&&Ac.charAt(Aa)!=='"'){Aa++
	}}else{if(Ac.charAt(Aa)==="["){Aa++
	while(Aa<Aj&&Ac.charAt(Aa)!=="]"){Aa++
	}}else{if(Ac.charAt(Aa)==="y"||Ac.charAt(Aa)==="M"||Ac.charAt(Aa)==="d"||Ac.charAt(Aa)==="h"||Ac.charAt(Aa)==="H"||Ac.charAt(Aa)==="m"||Ac.charAt(Aa)==="s"||Ac.charAt(Aa)==="S"){Az=true
	break
	}else{Aa++
	}}}}if(Az){var BH=""
	if(BJ){BH=Ac.substr(Au,Aj-Au)
	}else{BH=Ac
	}return mstrmojo.num.formatByMask(BH,AT)
	}var BL
	var Ar
	var Aw=false
	var AW=false
	var BG=false
	var Ai=false
	var BR=[]
	var Am=""
	var Af=0
	var BC=false
	var Ad=0
	var BS=""
	var AX=""
	var Aq=""
	var BA=""
	var Ab=0
	var BO=0
	var BN=false
	var BE=BB.mstrCurrencySymbol
	var A5=BB.mstrThousandSeparator
	var A1=BB.mstrDecimalPoint
	var BF=BB.mstrPercentSign
	var A9=BB.mstrMinusSign
	Aa=Au
	var Ap=""
	if(AT<0&&!BJ){while(Aa<Aj&&Ac.charAt(Aa)!=="
	"){if(Ac.charAt(Aa)==='"'){Aa++
	while(Aa<Aj&&Ac.charAt(Aa)!=='"'){Aa++
	}}Aa++
	}Aa++
	if(Aa>=Aj){if(AT<0){BS+="-"
	}Aa=Au
	}}var BT=false
	while(Aa<Aj){var Av=false
	switch(Ac.charAt(Aa)){case"[":Aa++
	while(Aa<Aj&&Ac.charAt(Aa)!=="]"){Aq+=Ac.charAt(Aa)
	Aa++
	}if(Aq.length>0&&(Aq.charAt(0)===">"||Aq.charAt(0)==="<"||Aq.charAt(0)==="=")){Aq=""
	}Aa++
	break
	case'"':Aa++
	while(Aa<Aj&&Ac.charAt(Aa)!=='"'){if(BT){AX+=Ac.charAt(Aa)
	}else{BS+=Ac.charAt(Aa)
	}Aa++
	}Aa++
	break
	case"#":case"0":var Ah=Ac.charAt(Aa)
	BT=true
	var Al=1
	Aa++
	while(Aa<Aj&&Ac.charAt(Aa)===Ah){Al++
	Aa++
	}if(Aa+1<Aj&&Ac.charAt(Aa)==="-"&&Ac.charAt(Aa+1)===Ah){Ai=true
	BR.push(Al)
	Aa++
	while(true){Al=0
	while(Aa<Aj&&Ac.charAt(Aa)===Ah){Al++
	Aa++
	}BR.push(Al)
	if(Aa>=Aj||Ac.charAt(Aa)!=="-"){break
	}Aa++
	}}while(Aa<Aj){if(Ac.charAt(Aa)===","){if(Aa+1<Aj&&Ac.charAt(Aa+1)===Ah){Aw=true
	}else{break
	}}else{if(Ac.charAt(Aa)!==Ah){break
	}}Aa++
	}break
	case".":BT=true
	Aa++
	Af=0
	while(Aa<Aj&&Ac.charAt(Aa)==="0"){Af++
	Aa++
	}if(Af===0){while(Aa<Aj&&Ac.charAt(Aa)==="#"){Af++
	Aa++
	}}break
	case"E":BO=6
	while(Aa<Aj&&Ac.charAt(Aa)!=="0"){if(Ac.charAt(Aa)==="+"&&Aa<Aj&&Ac.charAt(Aa+1)==="0"){AW=true
	}else{BA+=Ac.charAt(Aa)
	}Aa++
	}Ab=0
	while(Aa<Aj&&Ac.charAt(Aa)==="0"){Ab++
	Aa++
	}break
	case"%":BO=4
	Aa++
	break
	case"(":Aa++
	BS+="("
	break
	case")":Aa++
	AX+=")"
	break
	case"-":Aa++
	if(AT<0){BS+=A9
	}break
	case"?":Aa++
	break
	case"/":if(Aa>Au&&Ac.charAt(Aa-1)==="?"&&Aa+1<Aj&&Ac.charAt(Aa+1)==="?"){BO=5
	BC=false
	Ar=Aa-1
	while(Ar>Au&&Ac.charAt(Ar)==="?"){Ar--
	}while(Ar>Au&&Ac.charAt(Ar)===" "){Ar--
	}if(Ar>=Au&&(Ac.charAt(Ar)==="#"||Ac.charAt(Ar)==="0")){BC=true
	}Ad=0
	Aa++
	while(Aa<Aj&&Ac.charAt(Aa)==="?"){Ad++
	Aa++
	}}else{Aa++
	}break
	case",":if(Aa>Au&&(Ac.charAt(Aa-1)==="0"||Ac.charAt(Aa-1)==="#")){BG=true
	}Ar=Aa+1
	while(Ar<Aj){if(Ac.charAt(Ar)===","){Ar++
	continue
	}else{break
	}}if(Ar===Aj||Ac.charAt(Ar)==="."){BN=true
	}if(BN||(!BN&&Aa+1<Aj&&Ac.charAt(Aa+1)===",")){while(Aa<Aj&&Ac.charAt(Aa)===","){AT/=1000
	Aa++
	}Aa--
	}Aa++
	break
	case"
	":Av=true
	break
	case"$":if(BT){AX+=BE
	}else{BS+=BE
	}Aa++
	break
	case"_":if(BT){AX+=" "
	}else{BS+=" "
	}Aa++
	Aa++
	break
	default:if(BT){AX+=Ac.charAt(Aa)
	}else{BS+=Ac.charAt(Aa)
	}Aa++
	}if(Av){break
	}}if(AT<0){AT=-AT
	if(BS.length===0){BS=A9
	}}var A3=""
	if(Ai){var Ay=0
	for(BL=0
	BL<BR.length
	BL++){Ay+=BR[BL]
	}A3=Ap=this.fillZeroToWidth(Ay,AT.toFixed())
	for(BL=0
	BL<BR.length-1
	BL++){Ay-=BR[BL]
	var Ax=A3.length-Ay
	A3=A3.slice(0,Ax)+"-"+A3.slice(Ax)
	}}else{switch(BO){case 0:if(BG){AT/=1000
	}var A7=AT
	if(A7<0){A7=-A7
	}var AP=0
	while(A7>=10){A7/=10
	AP++
	}if(AP>=15){A3=Ap=this.fillZeroRightToWidth((A7<0?-A7:A7),15)
	A3=A3.substr(0,16)
	if(A3.charAt(15)>="5"){var AZ=14
	while(AZ>=0&&A3.charAt(AZ)==="9"){A3=A3.slice(0,AZ)+"0"+A3.slice(AZ+1)
	AZ--
	}var AU=A3.charAt(AZ)
	AU++
	if(AZ>=0){A3=A3.slice(0,AZ)+AU+A3.slice(AZ+1)
	}else{A3="1"+A3
	}}A3=A3.substr(0,15)
	var BK
	for(BK=AP-14
	BK>0
	BK--){A3+="0"
	}if(AT<0){A3=A9+A3
	}}else{Ap+=String((+(Math.round(+(String(AT).indexOf("e")>0?String(parseFloat(String(AT)).toFixed(Math.min(Af+2,20))):String(AT)+"e"+Math.min(Af,20)))+"e"+-Math.min(Af,20))).toFixed(Math.min(Af,20)))
	A3=Ap
	A3=this.ReplaceDecimalPoint(A3,A1)
	if(AT<0){A3=this.ReplaceMinusSign(A3,A9)
	}}if(Aw){A3=this.InsertThousandSeparator(A3,A5,BB)
	}if(BG){A3+=Am
	}break
	case 5:if(BG){AT/=1000
	}var Ao=10
	for(BL=1
	BL<Ad
	BL++){Ao*=10
	}var AR={numerator:0,denominator:1}
	var AY={numerator:1,denominator:1}
	var AV={numerator:1,denominator:2}
	var A2={numerator:0,denominator:1}
	var Ak=AT>=0
	var A8=Math.abs(AT)
	var A6=parseInt(A8,10)
	A8-=A6
	while(AV.denominator<Ao){if(Math.abs(AL.call(AV)-A8)<1e-15){A2=AV
	break
	}if(AL.call(AV)>A8){AY=AV
	}else{AR=AV
	}AV.denominator=AR.denominator+AY.denominator
	AV.numerator=AR.numerator+AY.numerator
	}if(AV.denominator>=Ao){if(A8-AL.call(AR)<AL.call(AY)-A8){A2=AR
	}else{A2=AY
	}}if(A6>0){A2.numerator+=A6*A2.denominator
	}if(A2.denominator===0){BC=false
	}var BI=false
	var A4=false
	var BQ=A2.numerator
	if(BC){A6=Math.floor(A2.numerator/A2.denominator)
	BQ=A2.numerator%A2.denominator
	A4=A4||(BQ!==0)
	if(A6>0){BI=true
	Ap+=A6
	if(A4){Ap+=" "
	}}}if(!A4&&!BI&&BQ===0){Ap+="0"
	}else{if(!A4&&BI&&BQ===0){AO++
	}else{Ap+=BQ
	Ap+="/"
	Ap+=A2.denominator
	}}A3=Ap
	if(!Ak){A3=A9+A3
	}if(Aw){A3=this.InsertThousandSeparator(A3,A5,BB)
	}if(BG){A3+=Am
	}break
	case 4:AT*=100
	Ap+=(AT+Math.pow(0.1,Af+6)).toFixed(Af)
	A3=Ap
	A3=this.ReplaceDecimalPoint(A3,A1)
	if(AT<0){A3=this.ReplaceMinusSign(A3,A9)
	}if(Aw){A3=this.InsertThousandSeparator(A3,A5,BB)
	}A3+=BF
	break
	case 6:var A0=AT
	var BP=0
	if(A0>1){while(A0>=10){A0/=10
	BP++
	}}else{if(A0!==0){while(A0<1){A0*=10
	BP--
	}}}Ap+=(A0+Math.pow(0.1,Af+6)).toFixed(Af)
	Ap+=BA
	if(AW&&BP>=0){Ap<<"+"
	}if(BP<0){Ap<<"-"
	BP=-BP
	}Ap+=this.fillZeroToWidth(BP,Ab)
	A3=Ap
	A3=this.ReplaceDecimalPoint(A3,A1)
	if(AT<0){A3=this.ReplaceMinusSign(A3,A9)
	}break
	}}var AS=BS+A3+AX
	var Ag=false
	if(Aq.length!==0&&Ag){AS='<SPAN STYLE="COLOR: '+Aq+'" >'+AS+"</SPAN>"
	}return AS
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.num","mstrmojo.VisEnum","mstrmojo.VisUtility","mstrmojo.gm.GMEnums","mstrmojo.color","mstrmojo.chart","mstrmojo.chart.common.Utility")
	mstrmojo.requiresClsP("mstrmojo.chart.enums","EnumGraphMajorType")
	mstrmojo.requiresClsP("mstrmojo.chart.model.enums","EnumDSSGraphObject")
	var q=mstrmojo,B=q.css,r=mstrmojo.array,Q=mstrmojo.hash,I=mstrmojo.num,H=mstrmojo.VisUtility,d=mstrmojo.chart,L=d.enums,e=L.EnumGraphMajorType,K=d.common.Utility,W=d.model,N=W.enums,AA=N.EnumDSSGraphObject,AE=mstrmojo.VisEnum.ControlType,AB=q.gm,X=mstrmojo.gm.EnumTextAlignH,u=mstrmojo.gm.EnumTextAlignV,z="
	",m=",",A="_tmsp",M=" ",b=-20,n=mstrmojo.gm.EnumSelectionOptionLevel,AG=mstrmojo.gm.EnumShape,j=mstrmojo.color,J=mstrmojo.gm.EnumIdentityType,S=0.00001,E,c=Math.pow(2,30),f=Math.pow(2,60)
	var h=["Reserved",mstrmojo.desc(2125,"Maximum"),mstrmojo.desc(2127,"Minimum"),mstrmojo.desc(2122,"Average"),mstrmojo.desc(2126,"Median"),mstrmojo.desc(17529,"First"),mstrmojo.desc(17530,"Last"),mstrmojo.desc(7194,"Constant")]
	function o(AM,AL){var AN,AK=AM.length
	if(AK!==AL.length){return false
	}for(AN=0
	AN<AK
	AN++){if(AM[AN]!==AL[AN]){return false
	}}return true
	}function AF(AN,AL,AO){var AM=false,AP=AO+A,AK=AN[AP],AQ=AL[AP]
	if(AL[AO]===undefined){AM=true
	}else{if((AQ===undefined&&AK!==undefined)||(AQ!==undefined&&AK!==undefined&&AQ<AK)){AM=true
	}}if(AM){AL[AO]=AN[AO]
	if(AQ!==undefined){AL[AP]=AK
	}}}function AJ(AL,AK){var AM
	for(AM in AL){if(AL.hasOwnProperty(AM)){AF(AL,AK,AM)
	}}return AK
	}function Z(AO){var AN={},AM,AL=[],AK
	r.forEach(AO,function(AP){if(AP!==undefined){AL.push(AP)
	}})
	AK=AL.length
	if(AK===1){return AL[0]
	}for(AM=0
	AM<AK
	AM++){AJ(AL[AM],AN)
	}return AN
	}function AD(AK){return{n:AK,s:AK.toString(),on:AK}
	}function a(AM,AK,AO){if(AK===AM){return 0
	}var AL=AK-AM,AN=1
	while(AL<1){AL*=10
	AN/=10
	}while(AL>=10){AL/=10
	AN*=10
	}if(AL<1.8){AN*=0.2
	}else{if(AL<3.1){AN*=0.4
	}else{if(AL<4.6){AN*=0.5
	}else{if(AL>=8.1){AN*=2
	}}}}if(AO){AN=Math.round(AN)
	if(AN<1){AN=1
	}}return AN
	}function C(AN,AR,AT,AL){var AP=[]
	if(AN===AR){if(AN<0){AP.push(mstrmojo.gm.GMUtility.formatNumber(AN,"nearest"))
	}AP.push({n:0,s:"0",on:0})
	if(AN>0){AP.push(mstrmojo.gm.GMUtility.formatNumber(AN,"nearest"))
	}return AP
	}var AK=AL>0?AL:a(AN,AR,AT)
	var AM=Math.ceil(AR/AK)*AK
	if(AM-AR>=AK*0.9){AM=Math.floor(AR/AK)*AK
	}var AQ=Math.floor(AN/AK)*AK
	if(AN-AQ>=AK*0.9){AQ=Math.ceil(AN/AK)*AK
	}var AS=Math.floor((AM-AQ+AK/100)/AK)+1,AO
	for(AO=0
	AO<AS
	++AO){AP.push(mstrmojo.gm.GMUtility.formatNumber(AQ+AO*AK,"nearest"))
	}return AP
	}function U(AK,AN){var AM
	AK.mMaxTick=1
	if(this.mChartContextPtr.mIsGraphMatrix){AK.mStep=this.mMinimum<0?0.2:0.1
	if(AN.mUseCustomMinMax){var AL=AN
	AK.mMaxTick=AL.mAxisMaxValue
	AK.mMinTick=AL.mAxisMinValue
	AK.mMaxTick=Math.min(1,AK.mMaxTick)
	AK.mMinTick=Math.max(-1,AK.mMinTick)
	AK.mStep=0.1
	}else{if(this.mMaximum===0&&this.mMinimum===0){AK.mStep=0.1
	AK.mMaxTick=1
	AK.mMinTick=0
	}else{if(this.mMaximum>=0.5){AK.mMaxTick=1
	AK.mMinTick=Math.floor(this.mMinimum/AK.mStep)*AK.mStep
	AK.mMinTick=(AK.mMinTick*this.mMinimum<0)?0:(AK.mMinTick>0?0:AK.mMinTick)
	if(this.mMinimum<-0.5){AK.mMinTick=-1
	}}else{if(this.mMaximum>0){AK.mMaxTick=Math.ceil(this.mMaximum/AK.mStep)*AK.mStep
	AK.mMinTick=-1
	}else{AK.mStep=0.1
	AK.mMaxTick=0
	AK.mMinTick=-1
	}}}}}else{AK.mMinTick=(this.mMinimum<0)?-1:0
	if(x.call(this,AK)){return 
	}AK.mStep=this.mMajorGrid.mUseManualGrid?this.mMajorGrid.mGridInterval:(AK.mMaxTick-AK.mMinTick)/10
	}for(AM=AK.mMinTick+AK.mStep
	AM+d.gModuleMain.mTolerance<AK.mMaxTick
	AM+=AK.mStep){AK.mTicks.push(Math.round(AM*100)/100)
	}}function P(AK,AP){var AO,AL,AR=AP,AQ=AR.mDrawCustomLine,AM=AR.mAxisCustomValue,AN
	AK.mStep=1
	if(this.mMaximum<=0){AK.mMinTick=1
	AK.mMaxTick=10
	if(AQ&&AM<=1){AR.mAxisCustomValue=AK.mMinTick
	}return 
	}if(this.mMinimum<=0){AL=this.mMaximum>1?0:-1
	AK.mMinTick=Math.pow(10,AL)
	if(AR.mUseCustomMinMax){AK.mMaxTick=this.mMaximum
	AO=Math.floor(k.call(this,this.mMaximum))
	if(k.call(this,this.mMaximum)===AO){AO--
	}}else{AO=Math.ceil(k.call(this,this.mMaximum))
	AK.mMaxTick=Math.pow(10,AO)
	}for(AN=AL+1
	AN<AO
	++AN){AK.mTicks.push(Math.pow(10,Math.floor(AN)))
	}if(AQ&&AM<=0){AR.mAxisCustomValue=Math.max(AK.mMinTick,AR.mAxisCustomValue)
	}return 
	}if(AR.mUseCustomMinMax){AO=k.call(this,this.mMaximum)
	AL=k.call(this,this.mMinimum)
	AK.mMaxTick=this.mMaximum
	AK.mMinTick=this.mMinimum
	}else{AO=Math.ceil(k.call(this,this.mMaximum))
	AL=Math.floor(k.call(this,this.mMinimum))
	AK.mMaxTick=Math.pow(10,AO)
	AK.mMinTick=Math.pow(10,AL)
	}for(AN=AL+1
	AN<AO
	++AN){AK.mTicks.push(Math.pow(10,Math.floor(AN)))
	}if(AQ&&AM<=0){AR.mAxisCustomValue=AK.mMinTick
	}}function v(AU,AP){var AM=AP,AK,AN
	AU.mStep=g.call(this,this.mMaximum,this.mMinimum,AM.mAlwaysIncludeZero)
	AU.mMaxTick=Math.ceil(this.mMaximum/AU.mStep)*AU.mStep
	AU.mMinTick=Math.floor(this.mMinimum/AU.mStep)*AU.mStep
	AU.mMaxTick=AU.mMaxTick<this.mMaximum?this.mMaximum:AU.mMaxTick
	AU.mMinTick=AU.mMinTick>this.mMinimum?this.mMinimum:AU.mMinTick
	AU.mMinTick=(AU.mMinTick*this.mMinimum<0)?0:AU.mMinTick
	if(AM.mAlwaysIncludeZero){AU.mMaxTick=(this.mMaximum<0)?0:AU.mMaxTick
	AU.mMinTick=(this.mMinimum>0)?0:AU.mMinTick
	}var AO=AU.mMaxTick-AU.mMinTick
	if(AU.mStep>=AO){return 
	}if(x.call(this,AU)){return 
	}AK=Math.floor((AU.mMaxTick-AU.mMinTick+AU.mStep/100)/AU.mStep)+1
	var AQ=this.mNumberFormat
	for(AN=1
	AN<AK-1
	++AN){var AS=AU.mMinTick+AN*AU.mStep,AT,AL,AR
	if(AU.mStep<1&&AQ.mFormatType===4&&AQ.mCustomFormat.indexOf("%")!==-1){AT=AS*100
	if(!K.isIntegar(AT)){AL=Math.round(AT)
	AR=Math.abs(AT-AL)
	if(AR<S){AS=AL/100
	}}}AU.mTicks.push(AS)
	}}function D(AU,AO){var AT=AO,AN,AK,AR,AM,AQ,AP,AL,AS
	AU.mMaxTick=AT.mAxisMaxValue
	AU.mMinTick=AT.mAxisMinValue
	if(x.call(this,AU)){return 
	}if(!Y.call(this)||this.mMajorGrid.mUseManualGrid){AU.mStep=g.call(this,AU.mMaxTick,AU.mMinTick,false)
	AN=AU.mMaxTick-AU.mMinTick
	if(AU.mStep>=AN){return 
	}AK=Math.floor(AN/AU.mStep)
	if(!(this.mChartContextPtr.mIsTimeSeriesChart)&&AN===AK*AU.mStep){for(AM=1
	AM<AK
	++AM){AU.mTicks.push(AU.mMinTick+AM*AU.mStep)
	}}else{AN=AU.mMaxTick-AU.mMinTick
	AR=10
	AQ=false
	for(AM=3
	AM<AK
	++AM){AP=AN/AM
	while(AP<1){AP*=10
	}while(AP>=10){AP/=10
	}if(AP===Math.floor(AP)){AR=AM
	AQ=true
	break
	}}if(AQ){AU.mStep=AN/AR
	for(AM=1
	AM<AR
	++AM){AU.mTicks.push(AU.mMinTick+AM*AU.mStep)
	}}else{AL=Math.ceil((AU.mMinTick+AU.mStep/100)/AU.mStep)*AU.mStep
	AS=Math.floor((AU.mMaxTick-AU.mStep/100-AL)/AU.mStep)+3
	for(AM=0
	AM<AS-2
	++AM){AU.mTicks.push(AL+AM*AU.mStep)
	}}}}else{AN=AU.mMaxTick-AU.mMinTick
	AR=10
	for(AM=6
	AM<=9
	++AM){AP=AN/AM
	while(AP<10){AP*=10
	}while(AP>=100){AP/=10
	}if(AP===Math.floor(AP)){AR=AM
	break
	}}AU.mStep=AN/AR
	for(AM=1
	AM<AR
	++AM){AU.mTicks.push(AU.mMinTick+AM*AU.mStep)
	}}}function F(AK,AO){var AN,AL,AM
	AK.mMaxTick=AO.mAxisMaxValue
	if(AK.mMaxTick<=this.mMinimum){this.mMinimum=AK.mMaxTick-1
	}AK.mStep=g.call(this,AK.mMaxTick,this.mMinimum,AO.mAlwaysIncludeZero&&(AK.mMaxTick>0))
	AN=(AO.mAlwaysIncludeZero&&(this.mMinimum>0))?0:this.mMinimum
	if(Y.call(this)){AK.mMinTick=AK.mMaxTick-Math.ceil((AK.mMaxTick-AN)/AK.mStep)*AK.mStep
	}else{AK.mMinTick=Math.floor(AN/AK.mStep)*AK.mStep
	}if(x.call(this,AK)){return 
	}AL=Math.floor((AK.mMaxTick-AK.mStep/100-AK.mMinTick)/AK.mStep)+2
	for(AM=1
	AM<AL-1
	++AM){AK.mTicks.push(AK.mMinTick+AM*AK.mStep)
	}}function l(AK,AP){var AL,AO,AM,AN
	AK.mMinTick=AP.mAxisMinValue
	if(AK.mMinTick>=this.mMaximum){this.mMaximum=AK.mMinTick+1
	}AK.mStep=g.call(this,this.mMaximum,AK.mMinTick,AP.mAlwaysIncludeZero&&(AK.mMinTick<0))
	AL=(AP.mAlwaysIncludeZero&&(this.mMaximum<0))?0:this.mMaximum
	if(Y.call(this)){AK.mMaxTick=AK.mMinTick+Math.ceil((AL-AK.mMinTick)/AK.mStep)*AK.mStep
	}else{AK.mMaxTick=Math.ceil(AL/AK.mStep)*AK.mStep
	}if(x.call(this,AK)){return 
	}AO=Math.ceil((AK.mMinTick+AK.mStep/100)/AK.mStep)*AK.mStep
	AM=Math.floor((AK.mMaxTick-AO+AK.mStep/100)/AK.mStep)+2
	for(AN=0
	AN<AM-2
	++AN){AK.mTicks.push(AO+AN*AK.mStep)
	}}function g(Aa,AU,AM){var AT,AO
	if(this.mMajorGrid.mUseManualGrid){return this.mMajorGrid.mGridInterval
	}AT=0
	if(AM){AT=Math.max(Aa,Aa-AU)
	AT=Math.max(AT,-AU)
	}else{AT=Aa-AU
	}if(AT===0){this.mIsShown=false
	return 1
	}if(AT>1&&AT<=4&&parseInt(AT)===AT){var Ab=this.PrimaryMetricIndex,AP=Ab.length
	for(var AW=0
	AW<AP
	AW++){var AS=this.mChartContextPtr.mDatasetPtr,AV=AS.dataProvider,AN=AV.getSeriesCount(),AR=AV.getGroupCount(),AL=Ab[AW],AQ,AY
	for(var AZ=0
	AZ<AN
	AZ++){AQ=AV.getMetricIndexForSeries(AZ)
	if(AQ===AL){AY=true
	for(var AX=0
	AX<AR
	AX++){var Ac=AS.GetData(AZ,AX)
	if(parseInt(Ac)!==Ac){AY=false
	break
	}}}if(AY){return 1
	}}}}var AK=AT
	AO=1
	while(AT<1){AT*=10
	AO/=10
	}while(AT>=10){AT/=10
	AO*=10
	}if(AT<1.8){AO*=2
	AO/=10
	}else{if(AT<3.1){AO*=4
	AO/=10
	}else{if(AT<4.6){AO*=5
	AO/=10
	}else{if(AT>=8.1){AO*=2
	}}}}AO=this.postProcessStep(AO,AK)
	return AO
	}function x(AK){if(this.mChartContextPtr.mIsGraphMatrix){return false
	}var AL=this.mMajorGrid
	return AL.mUseManualGrid&&(AL.mGridInterval<(AK.mMaxTick-AK.mMinTick)/30)
	}function k(AK){return Math.log(AK)/Math.log(10)
	}function Y(){return(this.mGraphMajorType===e.GMT_HISTOGRAM||this.mGraphMajorType===e.GMT_POLAR)&&this.mTripleId.mObjectId===AA.DssGraphX1Body
	}function AC(AN){var AO=this,AK=AO.id,AM=AN.metricId,AL=new q.ui.menus.MenuConfig()
	(AN.options).forEach(function(AP){if(AP!==AB.EnumRefLineModelType.CONST){AL.addMenuItem(h[AP],"xt",function(){AO.toggleRefLineEnabled(AM,AP,true)
	})
	}else{AL.addEditorMenuItem(h[AB.EnumRefLineModelType.CONST],AK,function(){return new mstrmojo.ui.menus.EditorConfig({data:{},contents:[{scriptClass:"mstrmojo.ValidationTextBox",alias:"constVal",dtp:mstrmojo.expr.DTP.FLOAT,required:true,valueChangeDelay:1000,constraints:{trigger:mstrmojo.validation.TRIGGER.ONBLUR},onEnter:function(){this.validate()
	},onvalueChange:function(){this.validate()
	},onValid:function(){this.parent.data.set("constantValid",true)
	},onInvalid:function(){this.parent.data.set("constantValid",false)
	}}],bindings:{okEnabled:"this.data.constantValid"},fnOk:function(AR,AQ){var AS=AQ.constVal
	if(AS.isValid()){AO.toggleRefLineEnabled(AM,AP,true,AS.value)
	}}})
	})
	}})
	return AL
	}function w(AM){var AN=this,AL=AM.metricId,AK=new q.ui.menus.MenuConfig()
	(AM.options).forEach(function(AQ){var AO=AQ.refType,AP=h[AO]+((AO===AB.EnumRefLineModelType.CONST)?("-["+I.toLocaleString(AQ.c)+"]"):"")
	AK.addMenuItem(AP,"xt",function(){AN.toggleRefLineEnabled(AL,AO,false,0,AQ.modix)
	})
	})
	return AK
	}function AH(AO,AK){var AN=AO.GMController,AL=AN.getForbiddenShapeForMetric(AK),AM=[]
	[{text:mstrmojo.desc(12097,"Bar"),value:AG.BAR},{text:mstrmojo.desc(2059,"Line"),value:AG.LINE},{text:mstrmojo.desc(9738,"Area"),value:AG.AREA},{text:mstrmojo.desc(12100,"Circle"),value:AG.CIRCLE},{text:mstrmojo.desc(12101,"Square"),value:AG.SQUARE},{text:mstrmojo.desc(12102,"Tick"),value:AG.TICK}].forEach(function(AP){if(AL.indexOf(AP.value)<0){AM.push(AP)
	}})
	if(AN.chartType===mstrmojo.gm.EnumGraphType.BAR||AN.chartType===mstrmojo.gm.EnumGraphType.LINE){AM=AM.filter(function(AP){return AP.value!==AG.AREA
	})
	}return AM
	}function t(AL,AK){return function(AN,AM){if(AN!==AM){AK({ctxt:{sp:AN,mid:AL}})
	}}
	}function AI(AN){var AL=AN.options,AK=this.getMenuHandler("changeShape"),AM=new mstrmojo.ui.menus.MenuConfig()
	AM.addRadioMenuGroup(AN.currValue,t(AN.metricId,AK),AL,"checkMark",undefined,true)
	return AM
	}mstrmojo.gm.GMUtility=mstrmojo.provide("mstrmojo.gm.GMUtility",{mTimers:[],mUseTimer:true,timerId:0,timerHistory:[],timerHistoryMax:50,startTimer:function R(AL){if(this.mUseTimer){var AK=this.timerId++
	this.mTimers.push({timeStamp:new Date(),timerId:AK,desc:AL.functionName+": "+AL.purpose})
	return AK
	}},endTimer:function G(AO,AQ){if(this.mUseTimer){var AL,AM=this.mTimers,AR=0
	if(AO===undefined){AL=AM.pop()
	}else{var AP,AS
	for(AP=0
	AP<AM.length
	AP++){AS=AM[AP]
	if(AS.timerId===AO){AL=AS
	AM.splice(AP,1)
	AP--
	}}}if(AL){var AK=new Date()
	var AN=(AK-AL.timeStamp)
	if(AQ){this.timerHistory[this.timerId%this.timerHistoryMax]={desc:AL.desc,duration:AN,start:AL.timeStamp.getTime(),end:AK.getTime()}
	}H.visPrint("%c"+AL.desc+": "+AN+"ms","color: blue")
	AR=new Date()-AL.timeStamp
	}return AR
	}},computeTicksForPercentchart:function(AL,AK,AM){return C(AL,AK,false,AM)
	},computeTicksForFlexMinMax:function(AL,AK,AM,AN){return C(AL,AK,AM,AN)
	},formatNumber:function(AM,AL,AK){return AD(AM,AL,AK===undefined?3:AK)
	},sizeCalculator:{sum:function(AK,AO,AP){var AM,AL=0,AN=0
	if(AP===undefined){AP=AK.length
	}AO=AO||1
	for(AM=0
	AM<AP
	AM++){if(AK[AM]>0){AN+=AK[AM]
	AL+=1
	}}if(AL>1){AN+=(AL-1)*AO
	}return AN
	},add:function(AM,AK,AL){AL=AL||1
	if(AK>0){AM+=(AK+AL)
	}return AM
	},minus:function(AM,AK,AL){if(AK>0){AM-=(AK+AL)
	}return AM
	}},replaceSpecialChars:function(AK){return AK.replace(/&/g,"&amp
	").replace(/</g,"&lt
	").replace(/>/g,"&gt
	").replace(/"/g,"&quot
	")
	},restoreSpecialChars:function(AK){if(typeof AK!=="string"){return AK
	}return AK.replace(/&nbsp
	/g," ").replace(/&lt
	/g,"<").replace(/&gt
	/g,">").replace(/&quot
	/g,'"').replace(/&#039
	/g,"'").replace(/&amp
	/g,"&")
	},removeExtraSpace:function(AK){return AK.replace(/ {2,}/g," ")
	},stringToJSON:function(AK){if(AK===undefined){return undefined
	}if(typeof AK==="string"){AK=AK.replace(/'/g,'"')
	try{return JSON.parse(AK)
	}catch(AL){return AK
	}}return AK
	},everythingToString:function(AL){if(AL===undefined){return undefined
	}var AK
	if(typeof AL==="object"){AK=JSON.stringify(AL.jsonObj||AL)
	}else{AK=AL.toString()
	}AK=AK.replace(/"/g,"'")
	return AK
	},compareElementObj:function(AO,AL){var AN=AO.tid.toString(),AK=AL.tid.toString(),AP=AO.eid,AM=AL.eid
	if(AN!==AK){return AN>AK?1:-1
	}if(AP===AM){return 0
	}return AP>AM?1:-1
	},isEqualComb:function(AL,AK){var AP=true,AO,AN=AL.length,AM=AK.length
	if(AN!==AM){return false
	}if(AL.length>1){AL.sort(this.compareElementObj)
	}if(AK.length>1){AK.sort(this.compareElementObj)
	}for(AO=0
	AO<AN
	AO++){if(this.compareElementObj(AL[AO],AK[AO])!==0){AP=false
	break
	}}return AP
	},serializeCombination:function(AL){var AK=""
	if(AL.length>1){AL.sort(this.compareElementObj)
	}r.forEach(AL,function(AM){if(AK!==""){AK+=z
	}AK+=(AM.tid+m+AM.eid)
	})
	return AK
	},deserializeCombination:function(AL){var AM=AL.split(z),AK=[]
	r.forEach(AM,function(AQ){var AN=AQ.split(m)
	var AP=AN[0]
	var AO=AN[1]
	AK.push({tid:AP,eid:AO})
	})
	return AK
	},getElementCombinationForMetric:function(AK){var AL=[]
	AL.push({tid:-1,eid:AK})
	return AL
	},getResolvedFormatsObject:function(AK){return Z(AK)
	},isDigitalArrayEqual:function(AL,AK){return o.call(this,AL,AK)
	},indexOf:function(AL,AN){var AM,AK=AL.length
	for(AM=0
	AM<AK
	AM++){if(o(AL[AM],AN)){return AM
	}}return -1
	},parseAxisScaleData:function(AO){var AM,AP,AL,AK=AO.split(","),AN=[]
	for(AM=0,AP=AK.length
	AM<AP
	AM++){AL=AK[AM].split(":")
	AN.push(AL)
	}return AN
	},parseCSSColor:function(AO,AL){var AN=AO.slice(1),AK=[],AM
	if(AN.length===6){if(AL===true){AK[0]=AN[4]
	AK[1]=AN[5]
	AK[2]=AN[2]
	AK[3]=AN[3]
	AK[4]=AN[0]
	AK[5]=AN[1]
	}else{for(AM=0
	AM<6
	AM++){AK[AM]=AN[AM]
	}}}else{if(AL===true){for(AM=2
	AM>=0
	AM--){AK.push(AN[AM])
	AK.push(AN[AM])
	}}else{for(AM=0
	AM<3
	AM++){AK.push(AN[AM])
	AK.push(AN[AM])
	}}}return parseInt("0x"+AK.join(""),16)
	},RGB_BRG_Switch:function(AL){var AN=(AL>>16)&255,AM=(AL>>8)&255,AK=(AL>>0)&255
	return(AK<<16)|(AM<<8)|(AN<<0)
	},encodeColor:function(AL){if(AL===undefined||AL===null||AL==="transparent"||AL==="default"){return AL
	}var AM=false,AK={}
	if(AM){if(typeof AL==="object"){AK.c1=this.RGB_BRG_Switch(j.encodeColor(AL.c1))
	AK.c2=this.RGB_BRG_Switch(j.encodeColor(AL.c2))
	AK.or=AL.or
	return AK
	}return this.RGB_BRG_Switch(j.encodeColor(AL))
	}if(typeof AL==="object"){AK.c1=j.encodeColor(AL.c1)
	AK.c2=j.encodeColor(AL.c2)
	AK.or=AL.or
	return AK
	}return j.encodeColor(AL)
	},checkEquality:function(AL,AK){if(typeof AL==="object"&&AL.c1!==undefined&&AK!=undefined){if(AL.c1!==AK.c1){return false
	}if(AL.c2!==AK.c2){return false
	}if(AL.or!==AK.or){return false
	}return true
	}return AL===AK
	},ptToPx:function(AK){return AK&&Math.ceil(parseInt(AK,10)/72*96)
	},decodeColor:function(AL){if(AL===undefined||AL===null||AL==="transparent"||AL==="default"){return AL
	}var AM=false,AK={}
	if(AM){if(typeof AL==="object"){AK.c1=j.decodeColor(this.RGB_BRG_Switch(AL.c1))
	AK.c2=j.decodeColor(this.RGB_BRG_Switch(AL.c2))
	AK.or=AL.or
	return AK
	}return j.decodeColor(this.RGB_BRG_Switch(AL))
	}if(typeof AL==="object"){AK.c1=j.decodeColor(AL.c1)
	AK.c2=j.decodeColor(AL.c2)
	AK.or=AL.or
	return AK
	}return j.decodeColor(AL)
	},getTrendLineToggleHandler:function(AK,AM,AL){return function(){AK.switchOnOffTrendLineForMetric(AM,AL)
	}
	},getTrendLineToggleState:function(AK,AL){return AK.queryTrendLineStatusForMetric(AL)
	},getEditTrendLineHandler:function(AK,AL){return function(){mstrApp.rootCtrl.docCtrl.selectViPanel("propertiesPanel")
	AK.raiseEventCMSelection(J.TREND_LINE,AL)
	}
	},getEditRefLineHandler:function(AK,AL){return function(){mstrApp.rootCtrl.docCtrl.selectViPanel("propertiesPanel")
	AK.raiseEventCMSelection(J.REF_LINE,AL)
	}
	},getEditAxisScaleHandler:function(AK,AL){return function(){mstrApp.rootCtrl.docCtrl.selectViPanel("propertiesPanel")
	AK.raiseEventCMSelection(J.AXIS_SCALE,AL)
	}
	},getEditAxisOriginHandler:function(AK,AL){return function(){mstrApp.rootCtrl.docCtrl.selectViPanel("propertiesPanel")
	AK.raiseEventCMSelection(J.AXIS_ORIGIN_DEFINE,AL)
	}
	},getEditLogScaleHandler:function(AK,AL,AM){return function(){mstrApp.rootCtrl.docCtrl.selectViPanel("propertiesPanel")
	AK.raiseEventCMSelection(J.LOG_SCALE,AL)
	AK.edtModel.broker.setFormatPropertyValue("AxisScale:logScale",AM)
	}
	},getEditSyncAxisScaleHandler:function(AK,AL){return function(){var AM=Q.walk("rootCtrl.docCtrl",mstrApp)
	if(AM&&AM.selectViPanel){AM.selectViPanel("propertiesPanel")
	}AK.raiseEventCMSelection(J.SYNC_AXIS_SCALE,"AllMetrics")
	AK.toggleSyncAxisScale(AL)
	}
	},getOptionObjArr:function(AK,AM,AO){if(!E){E=mstrmojo.gm.GMUtility
	}var AL={},AN
	if(AM!==undefined){AM=AM.toLowerCase()
	if(AM==="x1"){AM="x"
	}else{if(AM==="y1"){AM="y"
	}}}if(AK.length>1||(AO&&AK.length===1)){if(AM==="x"){AL.opt=mstrmojo.desc(11712,"Bottom Axis")
	AL.key="XAxis"
	}else{if(AM==="x2"){AL.opt=mstrmojo.desc(11710,"Top Axis")
	AL.key="X2Axis"
	}else{if(AM==="y"){AL.opt=mstrmojo.desc(11715,"Left Axis")
	AL.key="YAxis"
	}else{if(AM==="y2"){AL.opt=mstrmojo.desc(11713,"Right Axis")
	AL.key="Y2Axis"
	}else{if(AM==="z"){AL.opt=mstrmojo.desc(12090,"SizeBy")
	AL.key="SizeBy"
	}}}}}AL.optLvl=n.AXIS
	AL.mos=this.getMetricFormatFromIndexArray(AK)
	}else{if(AK.length===1){AN=this.getMetricFormat(AK[0])
	AL.opt=AN.n
	AL.mos=[AN]
	AL.key=AN.mId
	AL.comb=E.getElementCombinationForMetric(AN.mId)
	AL.optLvl=n.METRIC
	if(AM==="z"){AL.sizeBy=true
	}}}return AL
	},filterInValidMetricIndex:function(AL){var AK=[]
	r.forEach(AL,function(AM){if(AM!==b){AK.push(AM)
	}})
	return AK
	},fillBackgroundDiv:function(AL){var AK=document.createElement("div")
	AK.setAttribute("class","gm-bk-div")
	AK.style.backgroundColor="rgba(0,0,0,0)"
	AL.appendChild(AK)
	},getSubMenu:function(AP,AQ,AO,AN){var AM=AH(AP,AN),AK=AP.getMenuHandler("changeShape"),AL=AP.GMController.getOnTheFlyShapeForMetric(AN)
	if(AM.length>1){AQ.addSubMenuItem(mstrmojo.desc(11972,"Change Shape"),"",AP.id,AI,{currValue:AL,options:AM,metricId:AO})
	}else{AQ.addRadioMenuGroup(AL,t(AO,AK),AM,"checkMark",undefined,true)
	}},getReferenceLineSubMenu:function(AL,AP,AQ,AK){var AR=mstrmojo.gm.EnumSubtype,AO=AL.GMController.chartSubType
	if(AQ&&AO===AR.PERCENT){return 
	}var AS=AL.id,AM=AL.getAvailableRefLineTypes(AK)||[]
	if(AM.length>0){AP.addSubMenuItem(mstrmojo.desc(13021,"Add Reference Line"),"xt",AS,AC,{metricId:AK,options:AM})
	}var AN=AL.getExistingRefLineOptions(AK)||[]
	if(AN.length>0){AP.addMenuItem(mstrmojo.desc(13659,"Edit Reference Line"),"xt",E.getEditRefLineHandler(AL,AK))
	AP.addSubMenuItem(mstrmojo.desc(13022,"Remove Reference Line"),"xt",AS,w,{metricId:AK,options:AN})
	}},reverseMapping:function p(AL){var AN={},AM,AK=AL.length
	for(AM=0
	AM<AK
	AM++){AN[AL[AM]]=AM
	}return AN
	},longIntAnd:function(AL,AK){var AM
	if(AL===AK){return AL
	}if(AL>f||AK>f){throw new Error("Operand exceeds valid data range.")
	}if(AL<c&&AK<c){return AL&AK
	}if(AL>=c||AK>=c){if(AL<AK){AM=AL
	AL=AK
	AK=AM
	}}var AO=Math.floor(AL/c),AN=Math.floor(AK/c),AQ=AL-AO*c,AP=AK-AN*c
	return(AQ&AP)+(AO&AN)*c
	},longIntOr:function(AL,AK){var AM
	if(AL===AK){return AL
	}if(AL<c&&AK<c){return AL|AK
	}if(AL<AK){AM=AL
	AL=AK
	AK=AM
	}AM=this.longIntAnd(AL,AK)
	return AK-AM+AL
	},parseNumeric:function(AK){return +AK||parseFloat(AK)
	},fillImageInDiv:function(AO,AM,AL,AK){AK=AK||"gm-img"
	AO.innerType=AM
	if(AM===4){var AN=document.createElement("img")
	AN.className=AK
	AN.src=AL
	AO.appendChild(AN)
	}else{if(AM===7){AO.innerHTML=AL
	B.addClass(AO.firstChild,AK)
	}}},fillTextInDiv:function(AK,AT,AV,AL,AW,AM,AY,AO,AR){if(AL===undefined){AL=AK.offsetWidth
	}if(AW===undefined){AW=AK.offsetHeight
	}if(AO===undefined){AO=X.MIDDLE
	}if(AR===undefined){AR=u.MIDDLE
	}if(AM===undefined){AM=false
	}var AS,AU,AQ,AX=AM?"gm-text-body":"gm-text-body-nowrap",AN=false,AP
	AS=H.measureTextWidth(AV,AY,6)
	AP=H.measureTextWidth("...",AY,6)
	if(AS>AL&&AP>AL){return 
	}AQ=document.createElement("div")
	AQ.setAttribute("class",AX)
	AQ.setAttribute("type",AE.GM_TEXT_BODY)
	AQ.identity=AT
	H.applyStyles2DomNode(AQ,AY)
	AQ.textContent=AV
	AK.appendChild(AQ)
	if(AM){if(AS>AL){AU=AQ.offsetHeight
	}else{AU=H.measureTextHeight(AV,AY,4)
	}}else{AU=H.measureTextHeight(AV,AY,4)
	AN=AS>AL
	}AS=Math.min(AS,AL)
	AQ.style.width=AS+"px"
	if(AM){AN=AQ.scrollWidth>AS||AQ.scrollHeight>AU
	}if(AN){AQ.setAttribute("title",AV)
	}else{AQ.setAttribute("title","")
	}switch(AO){case X.LEFT:AQ.style.left="0px"
	AQ.style.textAlign="left"
	break
	case X.MIDDLE:AQ.style.left=((AL-AS)>>1)+"px"
	break
	case X.RIGHT:AQ.style.right="0px"
	AQ.style.textAlign="right"
	break
	}switch(AR){case u.TOP:AQ.style.top="0px"
	break
	case u.MIDDLE:AQ.style.top=((AW-AU)>>1)+"px"
	break
	case u.BOTTOM:AQ.style.bottom="0px"
	break
	}},updateTextColorAndAlignment:function(AK,AM,AN){var AO=AK.firstChild,AP=AO.style,AL=AK.clientWidth,AQ=AO.clientWidth,AS=AK.clientHeight,AR=AO.clientHeight
	AP.left="auto"
	AP.right="auto"
	switch(AM){case X.LEFT:AP.left="0px"
	break
	case X.MIDDLE:AP.left=((AL-AQ)>>1)+"px"
	break
	case X.RIGHT:AP.right="0px"
	break
	}AP.top="auto"
	AP.bottom="auto"
	switch(AN){case u.TOP:AP.top="0px"
	break
	case u.MIDDLE:AP.top=((AS-AR)>>1)+"px"
	break
	case u.BOTTOM:AP.bottom="0px"
	break
	}},toggleDisplay:function(AL,AK){if(!AL){return 
	}if(AK){AL.style.display="block"
	}else{AL.style.display="none"
	}},isTrendLineAvailableForMetric:function(AO,AP,AS){var AZ=AO&&AO.excludeData,AW=mstrmojo.gm.EnumSubtype,AR=q.gm.EnumShape,AX=AO.GMController,AT=AX.chartSubType,AY=AO.model.data.dz,AM=AY.XAxis,AK=AY.YAxis,AN=AY.BreakBy,AQ=AY.SliceBy,AU=AS,AL=AX.getChartInfo(),AV=AX.getBreakByAttrsID().length>0||(AL.isABL&&((AM.MetricNames!==undefined)||(AK.MetricNames!==undefined)||(AN.MetricNames!==undefined)||(AQ.MetricNames!==undefined)))
	if(AU===undefined){AU=AX.getOnTheFlyShapeForMetric(AP)
	}if(AL.isABL&&AT===AW.PERCENT){AZ=true
	}if(AV&&!AL.isBubbleOrScatter&&(AU===AR.BAR||AT===AW.STACKED||(AT===AW.AUTO&&AU===AR.AREA))){AZ=true
	}if(AL.isABL){if(AM.TemplateUnit&&AM.TemplateUnit.length>1){AZ=true
	}if(AK.TemplateUnit&&AK.TemplateUnit.length>1){AZ=true
	}if(AM.TemplateUnit===undefined&&AK.TemplateUnit===undefined){AZ=true
	}}AZ=AZ||this.isIgnoredMetric(AO,AP)
	return !AZ
	},isTrendLineAvailableForAnyMetric:function(AM){var AL=AM.model.data.gsi.mx,AK
	for(AK in AL){if(this.isTrendLineAvailableForMetric(AM,AK)){return true
	}}return false
	},isIgnoredMetric:function(AN,AL){var AM=AN.GMController,AO,AK
	if(AM.bubbleSeriesNum!==undefined){AO=AM.getMetricsOnYAxis()
	AK=AO.indexOf(AL)
	if(AK>=AM.bubbleSeriesNum){return true
	}AO=AM.getMetricsOnXAxis()
	AK=AO.indexOf(AL)
	if(AK>=AM.bubbleSeriesNum){return true
	}}return false
	},getAxisMetricsInfo:function(AP){var AK=AP.model.data.dz,AQ=AP.model.data.gsi.mx,AL,AM,AO=[]
	if(!AK||!AK.ColorBy||!AQ){return AQ
	}var AN=function(AR){return(AR&&AR.TemplateMetric)||[]
	}
	AL=AN(AK.YAxis).concat(AN(AK.XAxis))
	r.forEach(AQ,function(AR){AM=false
	r.forEach(AL,function(AS){if(AR.did===AS.id){AM=true
	return false
	}})
	if(AM){AO.push(AR)
	}})
	return AO
	},isInvalidTemplate:function O(AN){if(AN.eg){return false
	}var AL=AN.gts
	var AK=AL.row.length===0&&AL.col.length===0
	r.forEach(AL.row,function(AQ){if(AQ.otp===-1){AK=true
	}})
	var AP=AL.col
	if(AP.length>0){var AM,AO=AP.length-1
	for(AM=0
	AM<AO
	AM++){if(AP[AM].otp===-1){AK=true
	}}}return AK
	},isNoData:function(AK){return AK.eg!==undefined
	},getInvalidTemplateErrMsg:function(AK){return AK||mstrmojo.desc(12094,"The Graph Matrix requires:")+"\n"+mstrmojo.desc(12095,"- at least one attribute to be placed on the row or column axis")+"\n"+mstrmojo.desc(12096,"- all metrics to be placed on the column axis, below any attributes")
	},initColorPickerBtnWithGradientDir:function(AL,AM){mstrmojo.func.override({showPickerForCurrentMode:function AK(){this._super()
	if(this.pickerMode===2&&typeof this.color!=="object"){var AN=this.gradientOrientation,AO=AM.getChartInfo().dirc===mstrmojo.gm.EnumABLDirection.VERTICAL
	AN.set("selectedIndex",r.find(AN.items,"id",AO?0:1))
	}}},AL.colorPicker)
	},generateToolTipContent:function(AT,AO,AK,AP,AR,AQ,AW){var AN,AL,AM,AS,AU,AV
	for(AN=AT
	AN<AO
	AN++){AL=AP[AN]
	AS=AR[AN]
	if(AN>AT){AM=AP[AN-1]
	AU=AR[AN-1]
	if(AL.id===AM.id){if(AS===""){continue
	}if(AL.fid===AM.fid&&AS.idx===AU.idx){continue
	}if(AL.n===""){AQ[AQ.length-1].v+=M+AS.n
	continue
	}}}if(AW){AQ.push({n:AL.n,tid:AL.id,v:AS.n,bftp:AS.bftp})
	}else{AV=AK===undefined?AL.isRowAttribute:AK
	AQ.push({n:AL.n,tid:AL.id,v:AS.n,eid:AS.id,tp:AL.otp,axis:AV?1:2,tui:AL.tui,ui:AL.tui,dpt:AL.tui+1,at:AS.at,isRowAttribute:AV,dei:AS.dei,o:AS.o,bftp:AS.bftp})
	}}},getAttributeFormCnt:function(AK){var AL
	if((AK.fcnt===undefined||AK.fcnt===null)&&AK.fs){AK.fcnt=AK.fs.length||1
	}if(AK.fcnt!==undefined&&AK.fcnt!==null){AL=AK.fcnt
	}else{if(AK.t===47){AL=1
	}else{AL=AK.cs!==undefined?AK.cs:AK.rs
	}}return AL
	},isTrueForBoolValue:function(AK){return AK===true||AK==="true"
	},computeTicksForAxis:function(AN,AL){var AM=AN.mOptions,AO,AK={mTicks:[]}
	if(AL){AO=Q.copy(AM)
	Q.copy(AL,AO)
	}else{AO=AM
	}if(AN.mIsPercent){U.call(AN,AK,AO)
	return AK
	}if(AO.mUseLogarithmicScale){P.call(AN,AK,AO)
	return AK
	}if(AN.mGraphMajorType===e.GMT_BUBBLE&&AN.mTripleId.mObjectId===AA.DssGraphZBody){AK.mMinTick=AO.mUseMinValue?AO.mAxisMinValue:AN.mMinimum
	AK.mMaxTick=AO.mUseMaxValue?AO.mAxisMaxValue:AN.mMaximum
	if(AN.mMinTick>=AN.mMaxTick){AK.mMaxTick=AK.mMinTick+1
	}return AK
	}if(!AO.mUseMaxValue&&!AO.mUseMinValue){v.call(AN,AK,AO)
	}else{if(AO.mUseMaxValue&&AO.mUseMinValue){D.call(AN,AK,AO)
	}else{if(AO.mUseMaxValue){F.call(AN,AK,AO)
	}else{l.call(AN,AK,AO)
	}}}return AK
	},computeTicksForLogScale:function(AM){var AL=AM.mOptions,AK={mTicks:[]}
	P.call(AM,AK,AL)
	return AK
	},destroyDisposable:function(AK,AL){if(AL){r.removeItem(AK.disposables,AL)
	AL.destroy()
	}},handleDestroy:function(AO,AN,AL){if(!AO){return 
	}var AP,AM=0,AK=AO.disposables,AQ=(AK&&AK.length)||0
	while(AM<AQ){AP=AK[AM]
	if((!AP.scriptClass||AN.indexOf(AP.scriptClass)<0)&&r.indexOf(AL,AP.id)===-1){this.destroyDisposable(AO,AP)
	}if(AK.length<AQ){AQ=AK.length
	}else{AM++
	}}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.models.template.DataInterface","mstrmojo.models.FormatModel")
	var F=mstrmojo.array,D=mstrmojo.hash,C=mstrmojo.models.template.DataInterface,E=mstrmojo.models.FormatModel.ENUM_PROPERTY_NAMES
	mstrmojo.vi.models._GridFormats=mstrmojo.provide("mstrmojo.vi.models._GridFormats",{_mixinName:"mstrmojo.vi.models._GridFormats",getGridCellFormats:function A(P,G,H){var N=this.getHost(),J=N.gridData,M=G!==undefined?G:this.columnSetKey,L=J&&C.getGSI(J.gsi,M),K=L&&L.fmts,I=this.getMergeCellFormats&&this.getMergeCellFormats()||[],O=!P||I.indexOf(P)>-1
	if(N.hasArrayGSI&&(M===undefined||M===null)&&O){K=C.getFormatsIntersection(J,P&&this.targetFormatMap[P],H)
	}return K||{}
	},getAllGridFontsFormat:function B(J){var I=null,G=this.getGridCellFormats(),H=J?[]:G[E.SUBTOTAL]
	[E.FMT_COL_HEADER,E.FMT_ROW_HEADER,E.FMT_VALUES].forEach(function(K){[G,H].forEach(function(R){var e=R&&R[K]||{},S=E.FONT_SIZE,N=E.FONT_FAMILY,Z=E.COLOR,g=E.FONT_WEIGHT,P=E.UNDERLINE,c=E.FONT_STYLE,a=E.LINE_THROUGH,X=E.TEXT_ALIGN,U=E.VERTICAL_ALIGN,Y=E.TEXT_WRAP,Q=E.BACKGROUND_COLOR,L=E.FILL_STYLE,d=E.BORDER_BOTTOM_STYLE,b=E.BORDER_BOTTOM_COLOR,O=E.BORDER_RIGHT_STYLE,M=E.BORDER_RIGHT_COLOR,W=E.FILL_OPACITY
	if(D.isEmpty(e)){return 
	}if(!I){I=D.copy(e)
	I[S]=F.ensureArray(I[S])
	}else{I[S].push(e[S])
	if(I[N]!==e[N]){I[N]=-1
	}if(I[X]!==e[X]){I[X]=-1
	}if(I[U]!==e[U]){I[U]=-1
	}if(I[d]!==e[d]){delete I[d]
	}if(I[O]!==e[O]){delete I[O]
	}if(I[b]!==e[b]){I[b]=-1
	}if(I[M]!==e[M]){I[M]=-1
	}if(I[W]!==e[W]){delete I[W]
	}if(I[Y]!==e[Y]){I[Y]=false
	}if(I[Z]!==e[Z]){delete I[Z]
	}if(I[Q]!==e[Q]){delete I[Q]
	}if(I[L]!==e[L]){delete I[L]
	}[g,P,c,a].forEach(function(f){if(e[f]!==I[f]){I[f]=false
	}})
	}})
	})
	return I||{}
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasBuilder","mstrmojo._Formattable","mstrmojo._HasToolbar","mstrmojo.models.template.DataInterface")
	var D="\u001E",G=1,K=2,B=1,J=mstrmojo.models.template.DataInterface.ENUM_LOCKED_HEADERS,H=J.OFF
	var L={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3,vert:["height","width","top"],horiz:["width","height","left"],updateStyle:function(N){var Q=N.defn.qsm
	if(!Q){return 
	}if(N.getFormats().width){return 
	}var R=null
	if(Q==G){R=N.containerNode.firstChild
	}else{R=N.containerNode.lastChild
	}if(!R){return 
	}var O=R.clientHeight+"px"
	var M=R.clientWidth+"px"
	var P=N.domNode.style
	P.height=O
	P.width=M
	if(N.parent.updateStyle){N.parent.updateStyle(O,M)
	}},repositionChildren:function(S){if(!S.children){return 
	}var R=S.getFormats(),Q=parseInt(R.height,10),X=parseInt(R.width,10)
	var M=S.children,P=M[0].getFormats(),Z=M[1].getFormats()
	var N=(S.defn.gp<this.LEFT),W=N?Q:X,U=N?X:Q,Y=this[(N?"vert":"horiz")]
	var O=Math.round(W*(S.defn.ga/100))
	P[Y[0]]=O+"px"
	P[Y[1]]=U+"px"
	Z[Y[0]]=(W-O)+"px"
	Z[Y[1]]=U+"px"
	if((S.defn.gp%2)===0){Z[Y[2]]=O+"px"
	}else{P[Y[2]]=(W-O)+"px"
	}this.resizeChildren(M[0],M[1])
	},stackChildren:function(M){var P=M.children,Q=M.getFormats(),O
	var N
	for(N=P.length-1
	N>=0
	N--){O=P[N].getFormats()
	O.width=Q.width
	O.height=Q.height
	}this.resizeChildren(P[0],P[1])
	},resizeChildren:function(O,M){O.renderPortalState()
	var N=M.getFormats()
	M.resizeForDisplayState(parseInt(N.height,10),parseInt(N.width,10),true)
	},changeVisibility:function(O,M){var R=O.children,Q=O.defn.qsm,N=M&&(!Q||O.viewMode===G),P=M&&(!Q||O.viewMode===K)
	if(R&&R.length>0){if(R[0].visible!==N){R[0].set("visible",N)
	}if(R[1].visible!==P){R[1].set("visible",P)
	}}O.visible=M
	},setViewMode:function I(N){var O=N.children,P=N.visible
	if(N.defn.qsm&&O&&O.length>0){var M=N.viewMode
	O[0].set("visible",(M==G)&&P)
	O[1].set("visible",(M==K)&&P)
	}},clearFormatCache:function C(N){var P=N.children
	for(var O=0,M=P&&P.length||0
	O<M
	O++){P[O].clearCache()
	}}}
	mstrmojo.DocGridGraph=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasBuilder,mstrmojo._Formattable,mstrmojo._IsSelectorTarget],{scriptClass:"mstrmojo.DocGridGraph",markupString:'<div id="{@id}" k="{@k}" title="{@tooltip}" class="mstrmojo-DocGridGraph" style="{@domNodeCssText}"><div class="mstrmojo-DocGridGraph-msg"></div><div class="mstrmojo-DocGridGraph-container"></div></div>',markupSlots:{msgNode:function(){return this.domNode.firstChild
	},containerNode:function(){return this.domNode.lastChild
	}},formatHandlers:{domNode:["RW","B","background-color","fx","font"]},viewMode:null,visible:true,resize:function E(){this.clearCache()
	L.clearFormatCache(this)
	var O=this.getFormats(),M=parseInt(O.width,10),N=parseInt(O.height,10)
	if(M>0&&N>0){L.changeVisibility(this,true)
	if(!this.defn.qsm){L.repositionChildren(this)
	}else{L.stackChildren(this)
	}}else{L.changeVisibility(this,false)
	}},postBuildRendering:function A(){this._super()
	var O=this.node.data.eg
	if(O===undefined){this.msgNode.style.display="none"
	this.containerNode.style.display="block"
	}else{this.msgNode.innerHTML=O
	this.msgNode.style.display="block"
	this.containerNode.style.display="none"
	}var N=this.defn.qsm
	if(!this.viewMode&&N){this.viewMode=N
	}var M=this.node.defn
	M.attachEventListener("qsmChange",this.id,function(P){this.viewMode=P.value
	L.setViewMode(this)
	this.model.getDataService().setGridDisplayMode(this.k,this.viewMode,null,{cpmfig:{silent:true}})
	L.updateStyle(this)
	})
	L.setViewMode(this)
	L.updateStyle(this)
	if(!N&&this.defn.ds===B){this.resize()
	}},getGridWidget:function(){return this.children[0]
	},getGraphWidget:function(){return this.children[1]
	},updateGraph:function(N){var M=this.getGraphWidget()
	if(M){M.update(N)
	M.refresh()
	}},quickSwitch:function F(){var N=this.viewMode!=K
	this.defn.set("qsm",(N?K:G))
	if(!N){var M=this.getGridWidget()
	if(M.lockHeadersCase!==H){M.refresh()
	}}return true
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.Button","mstrmojo.EnumRWUnitType","mstrmojo.vi.models.VIComponentMap","mstrmojo.VisEnum","mstrmojo.gmaps.MapEnums","mstrmojo.models.template.DataInterface")
	mstrmojo.requiresDescs(15518,15519,15526)
	var G=mstrmojo.array,E=mstrmojo.hash,C=12,B=4,D="-1",I=1,H=2,J=-1,F=mstrmojo.Button.newWebButton,K=mstrmojo.vi.models.VIComponentMap.TYPES,A=mstrmojo.models.template.DataInterface
	mstrmojo.vi.models._CheckDataCards=mstrmojo.provide("mstrmojo.vi.models._CheckDataCards",{_mixinName:"mstrmojo.vi.models._CheckDataCards",CARDLIMIT:mstrmojo.VisEnum.VIS_CARDLIMIT.NON_GRID,isUnitRestrictedInViz:function(){var Q=this.getHost&&this.getHost(),P=Q&&Q.defn,M=!!(P&&P.iifp)
	if(M){return false
	}var L=this.docModel,N=[],O=L.getVIComponent(K.FILTER_PANEL),R=O&&O.parent
	N=N.concat((R&&R.getFilterDefinitions())||[])
	return N.length
	},_addInLargeItems:[],_columnCardinalityCount:1,_totalRow:0,clearCardinalityFlags:function(){this._addInLargeItems=[]
	this._columnCardinalityCount=1
	this._totalRow=0
	},existLargeOrManyItems:function(){return(!!this._addInLargeItems.length||this._columnCardinalityCount>this.CARDLIMIT)
	},existLargeRowCount:function(){return(this._totalRow>mstrmojo.vi.models.editors.XtabEditorModel.ENUM_MAX_ROWS_OUTLINE)
	},findTotalColumnCount:function(S,U,a,L){var W=this,b,N=1,R=0,X=this.getHost().gridData,Z
	W._columnCardinalityCount=1
	if(X){if(U&&U.id===I){var M=X.rw,c=M&&M.row
	W._columnCardinalityCount=(c&&c.tc)||1
	return 
	}if(typeof L==="number"&&L>=0){var Q=E.walk("gts.col",X),O,Y
	Z=E.walk("items."+L+".cols",U)
	G.forEach(Z,function(d){if(d.t===C){O=G.filterOne(Q,function(e){return e.id===d.did
	})
	Y=E.walk("es.length",O)||1
	N=N*Y
	}})
	}else{Z=U&&U.items
	var P=E.walk("ghs.chs",X)
	if(P&&P.cws){N=P.cws.length
	}}}G.forEach(a,function(d){if(d.t===C&&d.card){N=N/d.card
	}})
	G.forEach(S,function(d){if(U&&U.id===H){G.forEach(Z,function(e){if(e.t===C&&e.did===d.did&&e.card){R++
	N=N/e.card
	}})
	}b=d.cardg>0?d.cardg:d.card
	if(!b&&d.otp===C&&d.es){b=d.es.length+1
	}if(b){N=N*b
	}})
	W._columnCardinalityCount=(R===S.length)?1:N
	},findEstimatedTotalRow:function(R,N,M){var U=this,c,Y=1,O=0,b=this.getHost&&this.getHost(),W=b.gridData,a=this.docModel,S=a&&a.datasets
	M=M||[]
	U._totalRow=1
	function Q(f){var e=0
	Object.keys(S).every(function(g){return S[g].att&&S[g].att.every(function(h){if(h.did===f){e=h.card
	return false
	}return true
	})
	})
	return e
	}function P(e){return R.some(function(f){return e.did===f.did
	})||M.some(function(f){return e.did===f.did
	})
	}if(W){var L=parseInt(E.walk("rhsCP.rc",b)||0,10)
	if(L>0){Y=L
	}else{var X=W.gsi||{},d=X.rows,Z=X.mx
	G.forEach(d,function(e){if(P(e)){return 
	}if(e.t===C){Y*=Q(e.did)||1
	}else{if(e.t===B){if(e.did===D&&Z){O=Z.length
	G.forEach(Z,function(f){if(P(f)){O--
	}})
	}}}})
	}}G.forEach(R,function(e){if(e.t===B){if(N===I||N===J){if(e.did===D&&W&&W.gsi.mx){O=W.gsi.mx.length
	}else{O++
	}}}c=e.cardg>0?e.cardg:e.card
	if(!c&&e.otp===C&&e.es){c=e.es.length+1
	}if(c){if(N===I){Y=Y*c
	}}})
	Y=Y+Y*O
	U._totalRow=Y
	return Y
	},addAttributeNameAndTargetVisForAddUnits:function(S,Q,R,P,N){if(!S){return 
	}var O={data:S},L=S&&S.vp,M
	R=R||S&&S.vis&&S.vis.vn
	P=P||L&&L.gtp
	N=N||L&&L.ln
	M=R===mstrmojo.vi.viz.EnumVizStyles.GOOGLE_MAP||R===mstrmojo.vi.viz.EnumVizStyles.ESRI_MAP||R===mstrmojo.vi.viz.EnumVizStyles.MAPBOX
	G.forEach(Q,function(U){var X=U.id,W
	if(X&&!U.attributeName){W=A.prototype.getUnitById.call(O,X)
	U.attributeName=W&&W.unit&&W.unit.n
	}if(P===mstrmojo.gmaps.EnumGraphicType.Area&&M){if(!U.targetVis){U.targetVis={}
	}U.targetVis.vis=R
	U.targetVis.gtp=P
	U.targetVis.ln=N
	}else{if(U.targetVis){U.targetVis=undefined
	}}})
	},findLargeItemsForAddUnits:function(L,M,P){var O=this,Q,N={}
	if((!M&&!O.isUnitRestrictedInViz())||M){L.forEach(function(U){var R=U.cardg>0?U.cardg:U.card
	Q=!!P?P:O.CARDLIMIT
	if(U.targetVis&&U.targetVis.gtp===mstrmojo.gmaps.EnumGraphicType.Area){Q=mstrmojo.VisEnum.VIS_CARDLIMIT.AREA_MAP
	}if(R&&R>Q){var W=U.attributeName||U.n
	if(!N[W]){N[W]=true
	var S=U.targetVis&&U.targetVis.ln?(W+"("+U.targetVis.ln+") ("+R+")"):W+" ("+R+")"
	O._addInLargeItems.push(S)
	}}})
	}},warnAndExecCallBackForOutlineAddUnits:function(N,M){var L=this,M=M||mstrmojo.emptyFn
	if(this.existLargeRowCount()){mstrmojo.confirm(mstrmojo.desc(15792,"The dossier will attempt to display more than 5000 rows in outline mode. This may affect performance and stability. Do you want to continue?"),null,{id:"OutlineModeWarningDialog",title:mstrmojo.desc(11812,"Notification"),allowHTML:false,buttons:[mstrmojo.Button.newWebButton(mstrmojo.desc(212,"Continue"),N),mstrmojo.Button.newWebButton(mstrmojo.desc(3416,"Cancel"),M)],onPreClose:function(){M()
	return true
	}})
	}else{N()
	}},checkAndWarnForOutlineAddUnits:function(L,N,P,O,M){if(this.getHost().isOutlineMode){this.findEstimatedTotalRow(L,N,M)
	this.warnAndExecCallBackForOutlineAddUnits(P,O)
	}else{P()
	}},warnAndExecCallBackForAddUnits:function(S,Q,N,R){if(this.existLargeOrManyItems()&&!mstrApp.isAppStatePresentation()){var O=this._addInLargeItems,P=O.length,M
	if(P>1){M=mstrmojo.desc(15518,"The following attributes contain a large number of elements: ##. This action may impact dossier performance.").replace("##",O)
	}else{if(P===1){M=mstrmojo.desc(15519,"The attribute ## has too many elements. This action may impact dossier performance.").replace("##",O)
	}else{M=mstrmojo.desc(15526,"The dossier will attempt to display more than ### columns. This can affect performance and stability.").replace("###",this.CARDLIMIT)
	}}var L=[]
	if(P&&Q){L.push(F(mstrmojo.desc(7977,"Move to Rows"),function(){Q()
	},true))
	}L.push(F(mstrmojo.desc(212,"Continue"),function(){S()
	}))
	L.push(F(mstrmojo.desc(2140,"Cancel"),function(){if(N){if(R){R()
	}else{if(mstrApp.isWorkstation&&mstrApp.isSingleTier){window.FormWrapper.closeWindow("{}")
	}else{mstrmojo._DocToolbarActions.close.call({model:{isnew:false}})
	}}}}))
	mstrmojo.warn(M,{},{buttons:L})
	O.splice(0,O.length)
	return 
	}S()
	},checkAndWarnLargeItemsForAddUnits:function(Q,S,W,N,R,M,P,O,U,L){this.clearCardinalityFlags()
	if(!R||R.id===H){this.findLargeItemsForAddUnits(Q,M,P)
	}if(N){this.findTotalColumnCount(Q,R,U,L)
	}this.warnAndExecCallBackForAddUnits(S,W,M,O)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.GridBase","mstrmojo.Grid","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo.models.template.DataInterface","mstrmojo.chart.model.enums.EnumDSSBaseFormType","mstrmojo.elementHelper")
	mstrmojo.XtabZone=mstrmojo.declare(mstrmojo.Grid,null,{scriptClass:"mstrmojo.XtabZone",markupString:'<div id="{@id}" class="mstrmojo-XtabZone {@cssClass}" style="position:relative
	{@cssText}"></div>',markupSlots:{gridContainerNode:function(){return this.domNode
	}},init:function(A){if(mstrmojo.dom.isIE||mstrmojo.dom.isIEW3C){A.cssClass=mstrmojo.string.trim(A.cssClass||" ie")
	}this._super(A)
	}})
	}())
	(function(){var I=mstrmojo.models.template.DataInterface,U=mstrmojo.chart.model.enums.EnumDSSBaseFormType,Q=mstrmojo.mstr.EnumDSSXMLObjectTypes,F=mstrmojo.mstr.EnumDSSXMLObjectSubTypes,L=mstrmojo.hash,R=mstrmojo.elementHelper,W=1,J=2
	mstrmojo.XtabCP=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.XtabCP",base:null,lookupBase:null,colWidths:null,forceAutoRowHeight:false,startIndexInContainer:0,updatedRows:null,preServeUpdatedRows:true,init:function N(X){mstrmojo.hash.copy(X,this)
	},initContent:function S(a){this.startIndexInContainer=a||this.startIndexInContainer||0
	var Z=this.base||[],X=Z.show||this.needRC,Y=Z.items
	this.rc=X&&Y?Y.length:0
	this.colWidths=(X&&Z.cws)||[]
	this.isDownloading=false
	this.isDownloaded=true
	this.invalidData=false
	},isDataAvailable:function M(Y,X){return !this.invalidData
	},doRowRangesContainData:function G(X){return this.isDataAvailable()
	},download:function C(Z,Y,X){if(!this.isDownloaded&&!this.isDownloading&&this.dataSource){this.isDownloading=true
	this.dataSource.download(0,X)
	}},invalid:function P(){this.invalidData=true
	this.isDownloading=false
	this.isDownloaded=false
	this.preServeUpdatedRows=true
	if(this.gridData){this.oldGridData=this.gridData
	this.oldBase=this.base
	this.updatedRows={}
	}},getRowHeight:function E(){return this.gridData.rh
	},getNumAutoHeightRows:function(){return this.forceAutoRowHeight?this.rc:0
	},getAvailableRowsCount:function O(){return this.rc
	},getAvailableRowRanges:function B(){var X=this.startIndexInContainer,Y=this.getAvailableRowsCount()
	if(!this.isDataAvailable()){return[]
	}return[[X,X+Y]]
	},getUpdatedRows:function A(){return this.updatedRows
	},getRowCells:function(w,Y){var j=this.base||[],AJ=j.items||[],AD=AJ[w]||[],k=AD.items,z=this.lookupBase,c=this.interactiveCellsArray,AN=this.gridData,h=AN.css,l=I.getGSI(AN.gsi),v=l.thresholds||{},d={},AF=!!AN.stitchSectionKey,AI=l&&l.prop&&l.prop.cols&&l.prop.cols.mg,AL=null,AK,AB,AC,f,AH,o,AE,Z,t,u,AA="-1"
	L.forEach(l.mx,function(r,AO){var e=!L.isEmpty(v)&&v.hasOwnProperty(r.did)
	if(e){d[AO]=true
	}})
	if(this.oldGridData){AK=this.oldBase
	AB=AK&&AK.items
	AC=AB[w]&&AB[w].items
	}for(AH=0,f=(k&&k.length)||0
	AH<f
	AH++){o=k[AH]
	if(o){o.v=o.v||o.n
	if(z&&!o._e){AE=z[o.tui]
	Z=o.fi
	t=(AE&&AE.fs)||[]
	u=t[Z]||t[0]
	o.ts=o.ts||u&&u.bftp
	if((u&&u.n==="DYNAMICLINK")||(o.ts===U.DssBaseFormHTMLTag&&AE&&AE.ost===F.DerivedAttribute)){o.isDynamicLink=true
	}else{if(AE&&AE.otp===Q.Consolidation&&AE.ost===F.ConsolidationManaged){o.id=AE.id
	o.isNDE=true
	}}AL=AE&&AE.es[o.idx]
	if(AL){o.v=o.v||AL.n
	if(AL.rv){o.rv=AL.rv
	}if(AL.isObjHeader){o.isObjHeader=AL.isObjHeader
	}o._e=AL
	}}if(!o.css){var m=o.cni
	if(m!==undefined){o.css=h[m].n
	if(!o.isObjHeader&&(d[o.mix]||(o._e&&v.hasOwnProperty(R.getAttributeId(o._e.id))))){o.hcCss="hc-threshold"
	}}else{o.css=""
	}}if(!o._d&&AC&&this.preServeUpdatedRows){var a=AC[AH]
	if(!a||(a.rs!==o.rs)){this.preServeUpdatedRows=false
	this.updatedRows={}
	}else{if((a.v&&o.v!==a.v)){var AM={}
	if(o.v!==a.v){AM.v=a.v
	}if(o.css!==a.css){AM.css=a.css
	}o._d=AM
	this.updatedRows[this.startIndexInContainer+w]=true
	}}}o._gd=this.gridData._bidx||0
	if(c){if(!Y&&(o._ei===undefined||c[o._ei]!==o)){o._ei=c.push(o)-1
	}}if(this.axis){o.axis=this.axis
	}var n=o.pi,x=function x(AP,r,e){var AO=AP&&AP[r]
	return AO&&AO.es[e]
	},AG=function AG(AR,AO,AS,r,AQ){var AP=AR.items[AO],e=AP&&AP.items[AS]
	if(e){e.axis=e.axis||r
	if(e._e===undefined){e._e=x(AR.show?z:AQ,e.tui,e.idx)
	}}return e
	}
	if(n){if(n.ri!==undefined&&n.ci!==undefined){if(o.axis===2&&AI!==AA&&!AF){o._p=AJ[n.ri].items[AH]
	}else{o._p=AJ[n.ri].items[n.ci]
	}}else{var q=this.gridData.ghs.rhs,g=this instanceof mstrmojo.XtabOnDemandCP?this.dataSource.gridData.ghs.chs:this.gridData.ghs.chs,X=this.gridData.gts,b=n.left,p=n.top
	if(b){o._lp=AG(q,b.ri,b.ci,W,X.row)
	}if(p){o._tp=AG(g,p.ri,p.ci,J,X.col)
	}}}}}return k
	},getUnmergedCells:function D(d){var f=[],g=(this.base&&this.base.items)||[]
	if(d>g.length-1||d<0){return f
	}var Z=this.gridData.css,e=g[d].items[0],Y=e&&e.pi,X=Y&&Y.ri,b=Y&&Y.ci
	while(Y&&X>-1&&b>-1){e=e._p||g[X].items[b]
	var a={}
	mstrmojo.hash.copy(e,a)
	if(!a.css){a.css=Z[a.cni].n
	}a.rs=e.rs-d+X
	f.splice(0,0,a)
	Y=e&&e.pi
	X=Y&&Y.ri
	b=Y&&Y.ci
	}return f
	},getIndentPadding:function H(X){return X*14
	},getCell:function K(X,Y){var Z=this.base.items
	return Z[X].items[Y]
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array")
	var H=mstrmojo.array
	mstrmojo.XtabVACP=mstrmojo.declare(mstrmojo.XtabCP,null,{scriptClass:"mstrmojo.XtabVACP",cps:[],initContent:function G(O){this.startIndexInContainer=O||0
	this.rc=0
	this.type=0
	this.colWidths=[]
	var M
	for(M=0
	M<this.cps.length
	++M){var N=this.cps[M]
	N.initContent(this.startIndexInContainer+this.rc)
	this.rc+=N.rc
	this.type|=N.type
	var L=N.colWidths
	if(L&&(L.length>this.colWidths.length)){this.colWidths=L
	}}},getNumAutoHeightRows:function(){return this.cps[0].getNumAutoHeightRows()
	},getRowHeight:function E(){return this.cps[0].getRowHeight()
	},getRowCells:function(M,L){var N=0,O=this.cps[N],P
	while(M>=O.rc){M-=O.rc
	O=this.cps[++N]
	}if(this.renderingNewPage){O.updateCounter=0
	this.renderingNewPage=false
	}P=O.getRowCells(M,L)
	this.updateCounter=O.updateCounter
	return P
	},getUnmergedCells:function(L){var M=0,N=this.cps[M]
	while(L>=N.rc){L-=N.rc
	N=this.cps[++M]
	}return N.getUnmergedCells(L)
	},getCell:function(L,N){var M=0,O=this.cps[M]
	while(L>=O.rc){L-=O.rc
	O=this.cps[++M]
	}return O.getCell(L,N)
	},isDataAvailable:function B(O,N){var M=this._getCPs(O,N),L
	for(L=0
	L<M.length
	++L){if(!M[L].isDataAvailable(O,N)){return false
	}}return true
	},doRowRangesContainData:function D(M){var L=this.getAvailableRowRanges()
	return H.some(L,function(N){var O=N[0],P=N[1]
	return M>=O&&M<P
	})
	},getAvailableRowsCount:function K(){var N=0,L
	for(L=0
	L<this.cps.length
	++L){var M=this.cps[L]
	if(M.isDataAvailable()){N+=M.getAvailableRowsCount()
	}}return N
	},getAvailableRowRanges:function I(){var L=[],O=this.cps,M
	for(M=0
	M<O.length
	++M){var N=O[M]
	if(N.isDataAvailable()){L=L.concat(N.getAvailableRowRanges())
	}}return L
	},_getCPs:function C(Q,O){var M=0,P=this.cps[M],L=P&&P.startIndexInContainer,N=[]
	if(P){Q-=L
	O-=L
	}while(P&&Q>=P.rc){Q-=P.rc
	O-=P.rc
	P=this.cps[++M]
	}while(P&&O>=P.rc){O-=P.rc
	N.push(P)
	P=this.cps[++M]
	}if(P){N.push(P)
	}return N
	},invalid:function F(){var L
	for(L=0
	L<this.cps.length
	++L){var M=this.cps[L]
	M.invalid()
	}this.updatedRows={}
	},getUpdatedRows:function J(){var L={},M
	for(M=0
	M<this.cps.length
	++M){var N=this.cps[M]
	if(!N.preServeUpdatedRows){return{}
	}mstrmojo.hash.copy(N.getUpdatedRows(),L)
	}this.updatedRows=L
	return L
	},download:function A(Q,P,L){var O=this._getCPs(Q,P),M
	for(M=0
	M<O.length
	++M){var N=O[M]
	N.download(Q,P,L)
	}}})
	}())
	(function(){mstrmojo.XtabHACP=mstrmojo.declare(mstrmojo.XtabCP,null,{scriptClass:"mstrmojo.XtabHACP",cps:[],initContent:function E(L){this.startIndexInContainer=L||0
	this.type=0
	this.colWidths=[]
	var K
	for(K=0
	K<this.cps.length
	++K){this.cps[K].initContent(this.startIndexInContainer)
	this.type|=this.cps[K].type
	var J=this.cps[K].colWidths
	if(J){this.colWidths=this.colWidths.concat(J)
	}}this.rc=Math.max(this.cps[0].rc,this.cps[1].rc)
	},getNumAutoHeightRows:function(){return Math.max(this.cps[0].getNumAutoHeightRows(),this.cps[1].getNumAutoHeightRows())
	},getRowHeight:function D(){return this.cps[0].getRowHeight()
	},getRowCells:function(L,K){var P=this.cps,M=[],J=P.length,O
	for(O=0
	O<J
	O++){if(P[O].getAvailableRowsCount()>0&&P[O].rc>L){var N=P[O].getRowCells(L,K)
	if(N){M=M.concat(N)
	}}}return M
	},getUnmergedCells:function(J){return this.cps[0].getUnmergedCells(J)
	},isDataAvailable:function B(K,J){return this.cps[1].isDataAvailable(K,J)
	},doRowRangesContainData:function C(J){return this.isDataAvailable()
	},getAvailableRowsCount:function I(){return Math.max(this.cps[0].getAvailableRowsCount(),this.cps[1].getAvailableRowsCount())
	},getAvailableRowRanges:function G(){return this.cps[1].getAvailableRowRanges()
	},invalid:function F(){var K,J,L
	for(K=0,J=this.cps.length
	K<J
	++K){L=this.cps[K]
	L.invalid()
	}this.updatedRows={}
	},getUpdatedRows:function H(){var J={},K
	for(K=0
	K<this.cps.length
	++K){var L=this.cps[K]
	if(!L.preServeUpdatedRows){return{}
	}mstrmojo.hash.copy(L.getUpdatedRows(),J)
	}this.updatedRows=J
	return J
	},download:function A(M,K,J){var L=this.cps[1]
	L.download(M,K,J)
	}})
	}())
	(function(){var D=4,A=mstrmojo.mstr.EnumDSSXMLObjectTypes
	mstrmojo.XtabLevelHACP=mstrmojo.declare(mstrmojo.XtabHACP,null,{scriptClass:"mstrmojo.XtabLevelHACP",allCells:[],updateCounter:0,pageNum:0,getEmptyCell:function C(E,F,H){var G={css:E.css.replace(" hl",""),v:"",fillerCell:true}
	if(F){G.cs=this.headerCells[H].cs||1
	}return G
	},getCellDepth:function B(E){var G=E.dpt||1,F=E.ui
	if(!E.dpt){E=E._p
	while(E){if(E.dpt){G+=E.dpt
	break
	}if(E.ui!==F||this.origHeaderCells[E.tui].otp===A.Filter){F=E.ui
	G++
	}E=E._p
	}}return G
	},getUnmergedCells:function(E){return 
	},getRowCells:function(X){var P=this.cps,J=[],h=P.length,M=false,n=this.gridData,Q=(n&&n.lvlepd)||-1,U=this.outlineState,I=this.allCells,f,e,d,G,F,o,c=0,L=-10
	o=this.updateCounter
	X-=o
	if(I.length>0){return I.splice(0,1)[0]
	}var S=function(t){var u=t.gridData||(t.cps[0]&&t.cps[0].gridData),w=(u&&u.gts.row),k=(w&&w.length)||0,j=[],r=0,x="",q=0,v,p
	j[0]=0
	for(p=0
	p<k
	p++){v=w[p]
	if(x!==v.id){j[q]=r
	q++
	x=v.id
	r+=v.cs||1
	}else{r++
	}}this.columnAdjuster=j
	this.unmergedHeaderCellCount=r
	}
	var Z=function(t){var u=t.gridData||(t.cps[0]&&t.cps[0].gridData),w=(u&&u.gts.row),p=(w&&w.length)||0,v,j,r,k=false,q
	this.headerCells=v=mstrmojo.hash.clone(w)
	this.origHeaderCells=w
	for(q=0
	q<v.length
	q++){r=v[q]
	if(r.cs>1&&r.otp===A.Filter){for(e=1
	e<r.cs
	e++){j=this.getEmptyCell(r,false)
	j.otp=r.otp
	v.splice(q+1,0,j)
	}r.cs=1
	}if(r.cs>1){k=true
	}}for(q=v.length-1
	q>0
	q--){if(v[q].id&&v[q].id===v[q-1].id){v.splice(q,1)
	}}p=v.length
	this.maxLevel=u.maxLevel=p
	this.gridData=u
	return k
	}
	var H=function(r){var j,q,k,p
	for(p=r.length-1
	p>0
	p--){q=r[p-1]
	j=r[p]
	if(j.ui===q.ui&&this.origHeaderCells[j.tui].otp!==A.Filter){if(j.v&&j.v!==""){if(j.ts===D){if(j.v.indexOf("#srcstart")===0){k=j.v
	}else{k="#srcstart"+j.v+"#srcend"
	}if(q.ts!==D){k=q.v+" "+k
	}else{k="#srcstart"+q.v+"#srcend "+k
	}q.v=k
	}else{if(q.ts===D){q.v="#srcstart"+q.v+"#srcend "+j.v
	}else{q.v=(q.v?q.v:"")+" "+j.v
	}}j.v=""
	}r.splice(p,1)
	}}return r
	}
	var m=function(p){var k=this.headerCells,r=k.length,j=k[p].cs?(k[p].cs-1):0
	var q=0
	for(q=p+1
	q<k.length
	q++){j+=k[q].cs?(k[q].cs-1):0
	}return j
	}
	var E=function(q){var p=q.gridData||(q.cps[0]&&q.cps[0].gridData),j=p.gts,k=false
	if(j.col.length===0){k=true
	}else{k=j.rec
	}return k?0:1
	}
	for(f=0
	f<h
	f++){if(P[f].getAvailableRowsCount()>0&&P[f].rc>X){var K=P[f].getRowCells(X),N=mstrmojo.hash.clone(K.slice(0))
	if(P[f].type===4){if(X===0){this.hasMultiFormAttributes=Z.call(this,P[f])
	this.metricAdjuster=E(P[f])
	S.call(this,P[f])
	if(Q===-1){Q=this.gridData&&this.gridData.lvlepd
	}}if(this.hasMultiFormAttributes){N=H.call(this,N)
	}var l,g=0
	if(mstrApp.isVI){for(e=0
	e<K.length
	e++){l=K[e]
	if(l.stt&&(l.idx<0||(!l._e||l._e.n))){continue
	}g=this.getCellDepth(K[e])-1
	l.colIx=this.columnAdjuster[g]
	}}var R=N.length
	for(d=R-1
	d>=0
	d--){G=N[d]
	var b=this.getCellDepth(G)
	if(d===0){for(e=1
	e<b
	e++){N.splice(e-1,0,this.getEmptyCell(G,this.hasMultiFormAttributes,e-1))
	}}else{if(G.stt&&G.idx<0){N.splice(d,1)
	continue
	}else{if(G.stt===1&&(!G._e||G._e.n)){N.splice(d,1)
	F=N[d-1]
	if(G._e&&G.hst&&G.hst!==L&&F&&F._e&&F.v===F._e.n){F.v+=" ("+G._e.n+")"
	}continue
	}else{var W=[]
	N.splice(d,1)
	for(e=1
	e<b
	e++){W.push(this.getEmptyCell(G,this.hasMultiFormAttributes,e-1))
	}W.push(G)
	I.splice(0,0,W)
	M=true
	o++
	this.rc++
	}}}G.rs=1
	G.outLvl=b
	if(U&&U.collapseToLevel){if(b<=U.collapseToLevel){if(b<U.collapseToLevel||!U.isExpanding){delete U.collapseToLevel
	I.forEach(function(j){j.forEach(function(k){if(!k.fillerCell&&k._ei){delete U[k._ei]
	k.epd=false
	k.hidden=false
	}})
	})
	}else{if(U.isExpanding){U.hasTBodyElementsToExpand=true
	}U[G._ei]={expanded:false,hidden:true}
	}}else{U[G._ei]={expanded:false,hidden:true}
	}}if(U&&U[G._ei]!==undefined){G.epd=!(U[G._ei].expanded)
	G.hidden=U[G._ei].hidden
	}else{G.epd=Q>0&&Q<=b
	G.hidden=false
	}if(this.hasMultiFormAttributes){c=m.call(this,b-1)
	}if((c||this.metricAdjuster)&&b===this.maxLevel){G.isLeaf=true
	}G.cs=R>1?(R-d+c+this.metricAdjuster):(R+c+this.metricAdjuster)
	}this.updateCounter=o
	}else{if(mstrApp.isVI){for(e=0
	e<K.length
	e++){K[e].colIx=this.unmergedHeaderCellCount+e
	}}if(M){var Y=I.length-1,O=I[Y],a
	I[Y]=O.concat(N)
	for(e=0
	e<Y
	e++){O=I[e]
	a=O[0]
	for(d=0
	d<N.length
	d++){O.push(this.getEmptyCell(a||N[d]))
	}}a=J[J.length-1]
	for(d=0
	d<N.length
	d++){J.push(this.getEmptyCell(a||N[d]))
	}continue
	}}if(N){J=J.concat(N)
	}}}return J
	}})
	}())
	(function(){var I=-1,M=mstrmojo.mstr.EnumDSSXMLObjectTypes
	function G(S){var R=0
	for(R=0
	R<S.length
	R++){if(S[R].otp===-1){return true
	}}return false
	}function H(R){var S=[],X,W,U
	for(U=R.length-1
	U>0
	U--){X=R[U]
	W=R[U-1]
	if(X.id===W.id){R.splice(U,1)
	if(W.v===W.n){W.v+=" | "+X.v
	W.cs=(W.cs||1)+(X.cs||1)
	}}}return R
	}function C(R){return R.gts.col.length>0&&R.gts.rec===false
	}mstrmojo.XtabTitlesCP=mstrmojo.declare(mstrmojo.XtabCP,null,{scriptClass:"mstrmojo.XtabTitlesCP",init:function Q(R){this._super(R)
	},download:function A(U,S,R){},shouldClonedLastTitleCell:function P(){return(this.gridData.lhv!==0)
	},updateMetricsLabel:function D(R){if(mstrApp.isVI&&R.otp===I){var S=this.showMetricsLabel?mstrmojo.desc(3582,"Metrics"):""
	R.n=S
	if(R.v){R.v=S
	}}},initContent:function L(b){this.startIndexInContainer=0
	if(!this.cts){this.cts=mstrmojo.hash.clone(this.gridData.gts.col)
	}var S=this.gridData.gts,W=S.row||[],R=S.col||[],d=S.show,a=S.rec,k=this.cts||[],j=W.length,c=k.length,g=this.gridData.css
	this.base={items:[]}
	this.rc=(d&&k.length)||0
	if(this.rc===0&&d){this.rc=j>0?1:0
	}this.colWidths=(d&&S.cws)||[]
	if(!this.rc){this.nRowSpan=this.nColSpan=0
	return 
	}var Y={items:[]},e=0,U=1,f,h,m=this,X=m.base.items,l=function(n,o){if(m.shouldClonedLastTitleCell()&&o>1){n.rs=1
	f=mstrmojo.hash.clone(n,{})
	f.n="&nbsp
	"
	n.cni=g.push({n:(g[n.cni].n||"")+" fsbp_1"})-1
	}},Z=function(p){var n=p
	while(n-->1){if(m.shouldClonedLastTitleCell()){var o=mstrmojo.hash.clone(f,{})
	o.cni=g.push({n:(g[o.cni].n||"")+" fsbp_"+((n==1)?"3":"2")})-1
	X.push({items:[o]})
	}else{X.push({items:[]})
	}}}
	for(h=0
	h<j
	++h){this.updateMetricsLabel(W[h])
	W[h].axis=1
	W[h].ui=h
	e+=W[h].cs||1
	Y.items.push(W[h])
	}if(c>0){this.updateMetricsLabel(k[0])
	k[0].axis=2
	k[0].ui=0
	R[0].axis=2
	R[0].ui=0
	U=k[0].rs||1
	l(k[0],U)
	e+=k[0].cs||1
	Y.items.push(k[0])
	}X.push(Y)
	for(h=1
	h<c
	++h){this.updateMetricsLabel(k[h])
	if(U>1){Z(U)
	}k[h].axis=2
	k[h].ui=h
	R[h].axis=2
	R[h].ui=h
	U=k[h].rs||1
	l(k[h],U)
	X.push({items:[k[h]]})
	}this.rc=X.length
	this.nRowSpan=this.rc+U-1
	this.nColSpan=e
	if(a){this._removeExtraColumn(W,k)
	}},getAvailableRowsCount:function N(){return this.rc
	},getAvailableRowRanges:function K(){var R=this.startIndexInContainer,S=this.getAvailableRowsCount()
	if(!this.isDataAvailable()){return[]
	}return[[R,R+S]]
	},getSpanDimension:function O(){return{nRow:this.nRowSpan||0,nCol:this.nColSpan||0}
	},isDataAvailable:function B(S,R){return true
	},doRowRangesContainData:function J(R){return this.isDataAvailable()
	},getRowCells:function F(Z){var c=this._super(Z),Y=this.gridData
	if(Y.olm&&!(Y.rw&&Y.rw.row.bc>0)&&!(this.dataSource&&this.dataSource.defn.txi)){c=H(c)
	var U=0,S=0,R,b,W=1
	c=mstrmojo.hash.clone(c)
	for(U=0
	U<c.length
	U++){b=c[U]
	if(b.axis===1&&b.cs>1&&b.otp===M.Filter&&((b.rs||1)>=W)){W=b.rs||1
	for(S=1
	S<b.cs
	S++){R={}
	R.css=b.css.replace(" hl","")
	R.v="&nbsp
	"
	if(b.rs){R.rs=b.rs
	}c.splice(U+1,0,R)
	}b.cs=1
	}}var a=C(Y),X=a?c.length-1:c.length
	for(U=0
	U<X-1
	U++){c[U].expandLevel=U+1
	}}return c
	},_removeExtraColumn:function E(W,o){var m=W&&W.length,b=o&&o.length,R=this.gridData.gts,e=R.row||[],Z=R.col||[],S=e.length,k=Z.length
	if(!m||!b){if(b===1){var p=o[b-1]
	if(p.otp==-1){if(k>0){Z[k-1]._hid=true
	}this.base.items=[]
	this.nRowSpan=this.nColSpan=this.rc=0
	}}return 
	}var U=W[m-1],f=this.rc,X=this.base.items
	if(U){if(U.otp==-1){if(S>0){e[S-1]._hid=true
	}if(this.nColSpan){this.nColSpan-=U.cs||1
	}X[0].items.splice(m-1,1)
	}else{var c=f>1?f-1:0,d=X[c],n=d.items.length
	if(n>0&&k>0){Z[k-1]._hid=true
	}var Y=U.fix
	if(Y){var l
	for(l=0
	l<Y
	l++){d.items[n-1+l]=W[m-Y+l]
	}}else{d.items[n-1]=U
	}for(var h=0,g=b-1
	h<g
	h++){o[h].cs=Y?Y:U.cs
	}var a=Y?Y:1
	X[0].items.splice(m-a,a)
	if(this.nColSpan){this.nColSpan-=1
	}}}return 
	}})
	})()
	(function(){mstrmojo.MultiXtabTitlesCP=mstrmojo.declare(mstrmojo.XtabTitlesCP,null,{scriptClass:"mstrmojo.MultiXtabTitlesCP",initContent:function A(C){this.startIndexInContainer=0
	var J=this.gridData,B=J.gts,H=B.row||[],K=H.length,D=J.ghs,I=B.show||(this.needRC&&D.rhs.show),L=D.chs.items.length
	this.base={items:[]}
	this.rc=(I&&L)||0
	if(this.rc===0&&I){this.rc=K>0?1:0
	}this.colWidths=(I&&B.cws)||[]
	if(this.needRC&&this.colWidths.length===1&&!H.length){this.colWidths=[]
	}if(!this.rc){this.nRowSpan=this.nColSpan=0
	return 
	}var M={items:[]},E=0,G,F=this.base.items
	for(G=0
	G<K
	++G){this.updateMetricsLabel(H[G])
	H[G].axis=1
	H[G].ui=G
	H[G].rs=this.rc
	E+=H[G].cs||1
	M.items.push(H[G])
	}F.push(M)
	this.rc=F.length
	this.nRowSpan=Math.max(this.rc,L)
	this.nColSpan=E
	}})
	})()
	(function(){mstrmojo.XtabOnDemandCP=mstrmojo.declare(mstrmojo.XtabCP,null,{scriptClass:"mstrmojo.XtabOnDemandCP",blockNum:0,listeners:null,initContent:function G(H){if(H!==undefined){this.startIndexInContainer=H
	}this.isDownloaded=(this.base!==null)
	this.isDownloading=false
	if(this.base){this._super(this.startIndexInContainer)
	this.notifyListeners()
	}},addCPListener:function F(H){if(!this.listeners){this.listeners=[]
	}this.listeners.push(H)
	},notifyListeners:function E(){var H,J=this.listeners,I=(J&&J.length)||0
	for(H=0
	H<I
	H++){if(J[H]&&J[H].onDemandDataReady){J[H].onDemandDataReady(this)
	}}},getAvailableRowsCount:function D(){return this.isDownloaded?this.rc:0
	},getAvailableRowRanges:function A(){var H=this.startIndexInContainer,I=this.getAvailableRowsCount()
	if(!this.isDataAvailable()){return[]
	}return[[H,H+I]]
	},download:function(H){if(!this.isDownloaded&&!this.isDownloading){this.isDownloading=true
	this.dataSource.download(this.blockNum,H)
	}},invalid:function(){if(this._super){this._super()
	}this.isDownloaded=false
	this.isDownloading=false
	},isDataAvailable:function C(I,H){return this.isDownloaded
	},doRowRangesContainData:function B(H){return this.isDataAvailable()
	},})
	})()
	(function(){var d=1,h=2,q=4,Z=8,k=1,l=2,H=3,f=4,p=5,X=6,N=7,n=8,a=4,G={},C={},J=4,S=1,K={TITLE:"ig-title",GROUPING:"iggroup",BANDING:"igbanding",RIGHT_ALIGN:"rtAlign",LEFT_ALIGN:"leftAlign",TOTAL_ROW:"total"},W=mstrmojo.hash,Y=mstrmojo.array
	function c(w,u){var v=w[0],r=u.gts,t=r.cws.length
	return(u.vp.gr==="1"&&(t>1))
	}function m(t,z){var w=function(AA,AB){if(AB&&AA&&AA.css&&AA.css.indexOf(AB)<0){AA.css+=" "+AB
	}}
	var v=z.type,u=z.col,x=(u&&u.cl)||0,r=(v===h||v===d)
	if(v===h||v===Z){w(t,K.RIGHT_ALIGN)
	}else{if(v===d||v===q){w(t,K.LEFT_ALIGN)
	}}if(r){if(u&&u.tg&&x>1){if(!t._v){t._v=t.v
	t.v="<span class='toggleHeader'>"+t.v+"</span>"
	}}w(t,K.TITLE)
	}Y.forEach(z.extraCss,function(AA){w(t,AA)
	})
	}function A(r){return 0
	}function o(x){var u,w=x.cg,r=w&&w.cgc,t=1
	for(u=0
	u<r
	u++){if(w&&w[u]&&!w[u].tg&&w[u].cl>t){t=w[u].cl
	}}return t
	}function O(t,r){var u=p
	if(r===2){if(t===0){u=k
	}else{if(t===1){u=f
	}}}else{if(r>2){if(t===0){u=k
	}else{if(t===1){u=l
	}else{if(t===r-1){u=f
	}else{if(t<r-1&&t>1){u=H
	}}}}}}return u
	}function M(r,w,u,t){var z=t&&t.cols&&t.cols.cg,v,AA=0,x=0
	if(z){for(v=0
	v<w
	v++){if(r[v]){AA+=r[v].length
	}}AA+=(u+1)
	for(v=0
	v<z.cgc
	v++){x+=z[v].cl
	if(x>=AA){return v
	}}}return -1
	}function Q(AA,v,t,r){var z=[],x,u,w,AB
	for(u=0,w=AA.length
	u<w
	u++){if(AA[u].length===1){x=AA[u][0]
	x.rowType=(x.rowType!==n)?O(v,t):n
	x.singleStack=(t>1)
	x=W.copy(x)
	if(x.ts===J){if(t===1){x.rowType=p
	x.colIdx=M(AA,u,v,r)
	}else{if(!v){x.colIdx=M(AA,u,v,r)
	}else{delete x.ts
	x.v=""
	}}}else{if(v){x.v=""
	}}}else{x=AA[u][v]
	if(!x){AB=AA[u].length
	x=W.copy(AA[u][AB-1],{})
	x.v=""
	if(x.hasOwnProperty("ts")){delete x.ts
	}}else{if(x.ts===J){x.colIdx=M(AA,u,v,r)
	}}x.rowType=(x.rowType!==n)?O(v,t):n
	}z.push(x)
	}return z
	}function R(r){if(r===0){return 0
	}var t=this.sectionMap[r-1]||0
	return Math.floor((r-t)/this.stackLevels)
	}function E(z){var w,x,v=this.sectionInfo,r=v.length,u=this.srh,t=this.lastSectionIndex
	x=v[t]
	if(z>=x.rs&&z<(x.rs+u)){return x
	}if(z<x.rs){w=t-1
	if(w<=0){this.lastSectionIndex=0
	return null
	}do{x=v[w]
	if(z>x.rs&&z<=(x.rs+u)){this.lastSectionIndex=w
	return x
	}}while(z<x.rs&&--w>0)
	this.lastSectionIndex=w
	return x
	}else{w=t+1
	if(w>=r){this.lastSectionIndex=r-1
	return null
	}do{x=v[w]
	if(z>x.rs&&z<=(x.rs+u)){this.lastSectionIndex=w
	return x
	}}while(z>(x.rs+u)&&++w<r)
	this.lastSectionIndex=w-1
	return null
	}}function g(AB,u,r,AA){var z=AB[0],w,x=AB.length,t=z&&z.rowType,v={v:"",css:"empty-igcell",rowType:t}
	if(r!==undefined&&z&&(t===k||t===p||t===X)){v={v:'<div><div class="IG-ActionArrow-IMG" style="height:'+AA+"px
	top:-"+(0.5*G[t])+'px
	"></div></div>',css:"IG-ActionArrow",_ei:r}
	}for(w=x-1
	w>=x-u
	w--){z=AB&&AB[w]
	if(z){z.css+=" IG-lastdatacolumn"
	}}AB.push(v)
	}function U(AO,AJ,u){var AF=AO.cols,AG=AF.cg,r=[{w:"0px"}]
	if(AF&&AJ){var AP=AF.cws,t=[],AN=AP.length,AR=0,AB=(parseInt(AO.ar,10)===1)?(AJ/AN):-1,AE,v,AD=false,x=0,AH=AJ,AI=0,AM
	for(AM=0
	AM<AN
	AM++){v=t[AM]=AP[AM]
	AE=v.w
	if(AE===""){AD=true
	}else{if(v.xc){AR+=parseInt(AE)
	AH-=AR
	x++
	}else{AI+=parseFloat(AE,10)
	}}}if(AD||AI<100){AB=AH/(AN-x)
	}for(AM=0
	AM<AN
	AM++){v=AP[AM]
	if(v.xc){continue
	}else{if(AB===-1){AE=parseInt(v.w,10)*AH/100
	if(!AE&&AE!==0){AE=parseInt(AH/AG.cgc,10)
	}}else{AE=(parseInt(v.w,10)<0)?0:AB
	}}t[AM]={w:AE+"px"}
	}if(u){return t
	}var AC=[],AL=0
	for(AM=0
	AM<AN
	AM++){var AQ=AG[AM],AA=AQ.tg?AQ.cl:1,AK=0
	for(AK=0
	AK<AA
	AK++){var z="0px"
	if(AK===AQ.cc){z=t[AM].w
	}AC[AL+AK]={w:z}
	}AL+=AA
	}return AC.concat(r)
	}else{if(u){return null
	}else{return cp.cws.concat(r)
	}}}function D(){delete this.lastStackCols
	delete this.lastAttRow
	delete this.lastMtxRow
	}mstrmojo.InteractiveGridHACP=mstrmojo.declare(mstrmojo.XtabHACP,null,{scriptClass:"mstrmojo.InteractiveGridHACP",sectionMap:[],stackLevels:1,gridWidth:480,tdWidths:null,lastSectionIndex:0,adjustCPMaps:function P(){var AC=this.cps,AB=this.cps[0],AH=Math.max(AC[0].rc,AC[1].rc)
	if(AB.type!==d){var AM=this.gridData,AG=function(AP,AS){var AO=AP.base.items,AQ=AP.lookupBase[0].es,AR=AO[AS].items[0],AN=AQ&&AQ[AR.idx]
	return(AN&&AN.n)||((AR.pi&&AQ[AR.pi.ri||0])||"")
	},AK,AJ,r=1,z,t,AE,v=0,u=-1,AF,AL,AI=0,AD=this.groupEnabled
	for(AF=0,AK=0,AL=AB.cps?AB.cps.length:1
	AF<AL
	AF++){var x=AB.cps?AB.cps[AF]:AB,AA=x.rc
	v=u+1
	u=v+AA-1
	if(x.isDataAvailable(v,u)){if(x.lastRow){AI=x.lastRow
	t=x.lastSection
	}else{AK=AI||0
	for(AJ=0,r=this.sectionMap[AK-1]||0
	AJ<AA
	AJ++){var w=this.stackLevels
	AE=AG(x,AJ)
	if(AD&&AE!==t){t=AE
	this.sectionInfo.push({sn:AE,rs:this.srh*r+this.stackedRh*Math.floor((AK-r)/this.stackLevels)})
	this.sectionMap[AK]=++r
	AK++
	}while(w){this.sectionMap[AK]=r
	w--
	AK++
	}}AI=x.lastRow=AK
	x.lastSection=AE
	}}else{break
	}}this.rc=(this.stackLevels>1?AH*this.stackLevels:AH)+(AD?r:0)
	}},onDemandDataReady:function e(){this.adjustCPMaps()
	},initContent:function b(AC){var AB=this.cps,AN=this.gridData=AB[0].gridData||AB[0].cps[0].gridData,AJ=AN.vp=this.gridVp=this.gridVp||AN.vp,u=AJ.daf&&AJ.daf.split(":"),AD=AJ.cols,AE=AD.cg,AK=AD.cws,AA=AB[A(AE)],AH=AN.gts.row,t=AN.gts,AL=c(AB,AN),z=AA.type!==d,AG,AI,w,r,AF,x,AM,v=(typeof (mstrMobileApp)!=="undefined"&&mstrMobileApp.getDeviceDPI)?mstrMobileApp.getDeviceDPI():160
	if(v===160){G={1:33,2:22,3:20,4:30,5:53,6:40,7:27,8:53}
	C={1:11,2:11,3:1,4:16,5:16}
	}else{if(v===213){G={1:45,2:31,3:26,4:39,5:71,6:40,7:35,8:71}
	C={1:15,2:15,3:2,4:21,5:21}
	}else{if(v===240){G={1:50,2:34,3:30,4:44,5:80,6:40,7:40,8:80}
	C={1:16,2:16,3:2,4:24,5:24}
	}else{if(v===320){G={1:67,2:44,3:38,4:58,5:107,6:40,7:53,8:107}
	C={1:22,2:22,3:2,4:32,5:32}
	}else{G={1:33,2:22,3:20,4:30,5:53,6:40,7:27,8:53}
	C={1:11,2:11,3:1,4:16,5:16}
	}}}}if(z){if(AJ.dafIdx===undefined&&u){for(AG=0
	AG<AH.length
	AG++){if(AH[AG].id===u[0]&&AH[AG].fid===u[1]){AJ.dafIdx=AG
	break
	}}}}for(AG=0
	AG<AE.cgc
	AG++){if(AE[AG]&&AE[AG].tg){break
	}}if(AG===AE.cgc){AN.gts.show=false
	AN.ghs.chs.show=false
	}this._super(AC)
	this.colWidths=U(AJ,this.gridWidth)
	this.tdWidths=U(AJ,this.gridWidth,true)
	if(z){this.stackLevels=o(AD)
	if(this.stackLevels>1){this.srh=G[N]
	this.rh=G[p]
	this.mrh=G[H]
	this.stackedRh=G[k]+(this.stackLevels-2)*G[l]+G[H]
	}else{this.srh=G[N]
	this.rh=this.stackedRh=this.mrh=G[p]
	}if(AL||this.stackLevels>1){this.sectionMap=[]
	this.sectionInfo=[]
	this.groupEnabled=AL
	this.adjustCPMaps()
	r=this.cps[0].cps
	if(r){AM=this
	for(AG=0,AI=r.length
	AG<AI
	AG++){x=r[AG]
	if(x&&x.addCPListener){x.addCPListener(AM)
	}}}}}},getUnmergedCells:function(r){return 
	},getResolvedGroupHeader:function(v,x){var u=this.gridData,w=u.gts.row[x].es,t=u.ghs.rhs.items[v].items[x]
	if(t){if(!t.css){t.css=u.css[t.cni].n+" iggroup"
	t.n=w[t.idx].n
	}}else{return{css:" iggroup",n:""}
	}return t
	},getRowCells:function(AK){var AF=this.cps,x=[],AY=this.gridData,AU=AY.vp,AI=AU.cols.cg,AD=AF[A(AI)],AH=this.groupEnabled,t=AU.bn==="1",AV=[],AJ=R.call(this,AK),z,u,AL=1,AE,r,AB,AR,AQ,AT,AX,AC
	if(AH&&(this.sectionMap[AK]!==this.sectionMap[AK-1])){var v=W.copy(AD.getRowCells(AJ)[0],{})
	v.cs=this.colWidths.length
	v.rowType=N
	m(v,{col:null,type:AD.type,extraCss:[K.GROUPING]})
	return[v]
	}if(!AK){D.call(this)
	}this.lastAttRow=this.lastAttRow||(AF[0].rc?AF[0].getRowCells(AJ):[])
	this.lastMtxRow=this.lastMtxRow||(AF[1].rc?AF[1].getRowCells(AJ):[])
	AB=this.lastAttRow
	AT=AB.length
	if(AT>0&&AB[0].stt){AE=true
	for(AR=0
	AR<AT
	AR++){AX=AB[AR]
	if(AX.stt===S){r=AX
	break
	}}}if(!this.lastStackCols){Y.forEach([this.lastAttRow,this.lastMtxRow],function(AZ){for(AR=0
	AR<AZ.length
	AR++){if(AZ[AR]._ei!==undefined){if(AU.dafIdx>=0){AC=AD.getRowCells(AJ)[AU.dafIdx]
	}z=(AU.dafIdx>=0)?(AC&&AC._ei):""
	return false
	}}},this)
	var AP=function(AZ,Aa){if(AZ&&(Aa.type===d||Aa.type===h)){if(AN.tg===false){AZ.n=AZ.v=""
	}AZ.rowType=n
	}m(AZ,{col:AN,type:Aa.type,extraCss:[((Aa.type===Z||Aa.type===q)&&t&&(AJ%2===1))?K.BANDING:null,AE?K.TOTAL_ROW:null]})
	if(AZ){AZ.cs=1
	if(AZ._ei===undefined&&AU.dafIdx!==undefined){AZ._ei=z
	}}}
	this.lastRowIndex=0
	for(AQ=0
	AQ<AI.cgc
	AQ++){var AN=AI[AQ],AS=AN["mix"+AN.cc],w=AS!==undefined,AA=AF[w?1:0],AO,AM,AG,AW={n:"",stt:S,css:"xtab-td"}
	arr=[]
	if(AN.tg){for(var AR=0
	AR<AN.cl
	AR++){arr=[]
	AG=w?AN["mix"+AR]:AN.attForms[AR].idx
	var AB=w?this.lastMtxRow:this.lastAttRow
	AX=AB[AG]
	if(AE){if(!AX){AX=AW
	}else{if(AX&&AX.stt===S){AX=W.copy(r,AW)
	}else{AX=W.copy(AX,{})
	}}}else{AX=W.copy(AX,{})
	}AP(AX,AA)
	arr.push(AX)
	AV.push(arr)
	}if(AQ+1===AI.cgc){AL=AN.cl
	}}else{for(AO=0,AT=AN.cl
	AO<AT
	AO++){if(w){AM=AN["mix"+AO]
	if(AM!==undefined){AX=this.lastMtxRow[AM]
	}}else{AM=AN.attForms[AO]
	if(AM){AX=this.lastAttRow[AM.idx]
	}if(AE&&!AX){AX=AW
	}}AP(AX,AA)
	arr.push(AX)
	}AV.push(arr)
	}}this.lastStackCols=AV
	}x=Q(this.lastStackCols,this.lastRowIndex++,this.stackLevels,AU)
	if(this.lastRowIndex>=this.stackLevels){D.call(this)
	}return x
	},getRowHeight:function F(t){var r=G[p]
	return G[t]||r
	},getPadding:function L(r){return C[r]||C[a]
	},isDataAvailable:function j(t,r){if(!this.onDemandIF||!this.cps[1].cps){return true
	}else{var v=this.sectionMap.length,u
	if(!v){return this.cps[1].isDataAvailable(t,r)
	}if(r>v){if(t<v){u=R.call(this,t)
	return this.cps[1].isDataAvailable(u,u+(r-t))
	}else{return false
	}}else{return this.cps[1].isDataAvailable(R.call(this,t),R.call(this,r))
	}}},doRowRangesContainData:function B(t){var r=this.getAvailableRowRanges()
	return Y.some(r,function(u){var v=u[0],w=u[1]
	return t>=v&&t<w
	})
	},download:function I(z,v,AA){var u=R.call(this,z),r=u+Math.ceil((v-z)/this.stackLevels),w=this.cps[0],t,AB,x=!w.cps?[w]:this.cps[0]._getCPs(u,r)
	for(t=0
	t<x.length
	++t){AB=x[t]
	AB.download(u,r,AA)
	}},getRowCellInfo:function(v){var u=E.call(this,v+this.srh),r,t=this.lastSectionIndex
	if(u){r=this.sectionInfo[t-1]
	return{rowStart:u.rs,isNextRowNewSection:true,sectionName:r&&r.sn}
	}else{return{isNextRowNewSection:false,sectionName:this.sectionInfo[t].sn}
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.color","mstrmojo.hash","mstrmojo.num","mstrmojo.array","mstrmojo.date")
	mstrmojo.requiresClsP("mstrmojo.mstr")
	mstrmojo.requiresClsP("mstrmojo.models.template","DataInterface")
	var l=1,j=2,r=3,I=4,b=5,m=6,k=7,A=-1,J=-2,G=mstrmojo.color,M=mstrmojo.hash,e=mstrmojo.array,F=mstrmojo.num,O=mstrmojo.date,t=mstrmojo.models.template.DataInterface,K,a,v=mstrmojo.mstr.EnumDSSXMLObjectTypes
	function q(AE,AD){return AE.every(function(AF){return AD(AF)
	})
	}function g(AF,AE,AD){return q(AF,function(AG){return AG.ttp===AE||AG.ttp===AD
	})
	}function d(AE){var AD=AE.toFixed(2)
	return parseFloat(AD)
	}function p(AD){this.raiseEvent(M.copy(AD,{name:"modelEdit"}))
	}function w(AD){this.raiseEvent(M.copy(AD,{name:"selectedThresholdsChange"}))
	}function S(){var AD=this.basedOnId||this.metricId
	return(e.filterOne(this.gsi.mx,function(AE){return AE.did===AD
	})||{})
	}function n(AG){var AD=AG.expr.nds,AE=AD.length
	if(AE!==1){return false
	}var AF=AD[0],AP=AF.cs
	if(!AF.m||!AP){return false
	}var AO=AF.fnt,AJ=AF.fn,AN=AP[0],AL=AP[1],AI=AN&&AN.v,AH=AL&&AL.v,AM=F.parseNumeric(AI)||parseFloat(AI),AK=F.parseNumeric(AH)||parseFloat(AH)
	switch(AO){case 2:case 3:switch(AJ){case 1:case 2:AG.flr=AO===2?-Infinity:0
	AG.ceil=AM
	AG.ttp=AO===2?(AJ===1?b:I):(AJ===1?j:l)
	break
	case 3:case 4:case 5:case 13:AG.flr=AM
	AG.ceil=isNaN(AK)?(AO===2?Infinity:100):AK
	AG.ttp=AO===2?(AJ===4?b:(AJ===5?I:m)):(AJ===4?j:(AJ===5?l:r))
	break
	default:return false
	}break
	default:switch(AJ){case 11:AG.flr=-Infinity
	AG.ceil=AM
	AG.ttp=k
	break
	case 17:case 10:AG.flr=AM
	AG.ceil=isNaN(AK)?Infinity:AK
	AG.ttp=k
	break
	default:return false
	}}return true
	}mstrmojo.threshold.MetricThresholdData=null
	mstrmojo.threshold.ThresholdModel=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.threshold.ThresholdModel",data:undefined,gsi:undefined,setIdx:undefined,thresholds:undefined,orgThresholds:undefined,selectedThresholds:[],metricId:undefined,basedOnId:undefined,basedOnName:undefined,editorMode:0,init:function u(AE){this._super(AE)
	var AD=mstrApp.customization.getCustomThresholds()
	K=K||AD.color
	a=a||AD.image
	},ondataChange:function o(){var AD=this.data
	this.gsi=t.getGSI(AD.gsi,this.setIdx)
	this.thresholds=this.gsi.thresholds
	this.saveOriginalData()
	},onsetIdxChange:function x(){var AD=this.data
	this.gsi=t.getGSI(AD.gsi,this.setIdx)
	this.thresholds=this.gsi.thresholds
	this.saveOriginalData()
	},isMetricAvailable:function(AD){return e.find(this.gsi.mx,"did",AD)!==-1
	},thresholdMetricNotAvailable:function(AD){if(AD){mstrmojo.alert(mstrmojo.desc(16555,'This threshold is based on the metric "#####" which has been removed from the visualization. Please re-add this metric and try again.').replace("#####",AD))
	}else{mstrmojo.alert(mstrmojo.desc(16556,"This threshold is based on a metric which has been removed from the visualization. Please re-add this metric and try again."))
	}},isAdvanced:function E(AH){var AE=this.thresholds
	if(AE){var AK=AE[AH]||[],Aa=false,AZ,AV,AU,AR,AX="The expression is not supported by the Simple Threshold Exception Parser."
	if(AK.length===0){return false
	}if(AK.some(function(Ag){if(Ag.ttp===A){return true
	}try{if(!n(Ag)){throw AX
	}AU=Ag.expr.nds[0].m
	}catch(Af){return true
	}if(AZ&&AZ!==AU.did){return true
	}AZ=AU.did
	AV=AU.n
	var Ae=Ag.rtp
	if(Ae===3||Ae===10){return true
	}var Ab=Ag.scope
	if(Ab&&Ab!==1){return true
	}var Ad=Ag.fmt||{}
	for(var Ac in Ad){if(Ac!=="bc"&&Ac!=="bgs"){return true
	}else{Aa=true
	}}return false
	})){return true
	}if(Aa&&!q(AK,function(Ab){return Ab.fmt&&(Ab.fmt.bc||Ab.fmt.bgs)
	})){return true
	}this.basedOnId=AZ
	this.basedOnName=AV
	var AT=false,AQ=this.getSimpleThresholdType(AH),AJ=AK.length
	if(AJ>0&&AQ!==J){var AW,AM,AO
	for(AW=0
	AW<AJ-1
	AW++){AM=AK[AW]
	AO=AK[AW+1]
	if(AM.ceil!==AO.flr&&AM.flr!==AO.ceil){AT=true
	break
	}}if(!AT){var AD=AK[0],AF=AK[AJ-1],AN=AD.flr,AS=AF.ceil,AG=AD.ceil,AI=AF.flr,AL=this.getMetricsCount(),AP=this.getMetricsMinValue(),AY=this.getMetricsMaxValue()
	switch(AQ){case b:case I:AT=!(((AN===0||AN===-Infinity)&&(AS===AL||AS===Infinity))||((AG===AL||AG===Infinity)&&(AI===0||AI===-Infinity)))
	break
	case j:case l:AT=!((parseInt(AN,10)===0&&parseInt(AS,10)===100)||(parseInt(AG,10)===100&&parseInt(AI,10)===0))
	break
	case k:AT=!(((AN===AP||AN===-Infinity)&&(AS===AY||AS===Infinity))||((AG===AY||AG===Infinity)&&(AI===AP||AI===-Infinity)))
	break
	}}return AT
	}else{return true
	}}return false
	},getSimpleThresholdType:function(AE){var AF=this.thresholds&&this.thresholds[AE],AD=J
	if(AF){if(g(AF,r,j)){AD=j
	}else{if(g(AF,r,l)){AD=l
	}else{if(g(AF,m,I)){AD=I
	}else{if(g(AF,m,b)){AD=b
	}else{if(g(AF,k)){AD=k
	}}}}}}return AD
	},isImageBasedType:function N(AD){var AE=this.thresholds&&this.thresholds[AD]
	return AE&&!AE.some(function(AF){return AF.rtp!==4
	})
	},getMetricsMaxValue:function(){var AD=S.call(this).max
	return(AD===undefined)?3000000:AD
	},getMetricsMinValue:function(){var AD=S.call(this).min
	return(AD===undefined)?-3000000:AD
	},getMetricsCount:function(){var AD=S.call(this).cnt
	return AD===undefined?100:AD
	},getServerThresholdValues:function B(){var AD=this.basedOnId||this.metricId,AE=this.thresholds&&AD in this.thresholds&&this.thresholds[AD]
	if(e.isArray(AE)&&AE.length>0&&AE[0].ttp===k){AE.sort(function(AG,AF){return AG.flr-AF.flr
	})
	return{min:AE[0].ceil,max:AE[AE.length-1].flr}
	}return{min:undefined,max:undefined}
	},getFormatString:function(){var AF=this.data.nf,AE=this,AD=e.filterOne(AF,function(AG){return AG.id===AE.basedOnId
	})||{}
	return AD.nfs||""
	},getDefaultColors:function AB(){return K
	},getDefaultImages:function L(){return a
	},getNormalizedValue:function(AI,AG,AF,AK){var AE=null
	if(AG===r||AG===j||AG===l){AE=AI/100
	}else{if(AG===m||AG===b||AG===I){AE=AI/(this.getMetricsCount())
	}else{if(AG===k){var AH=this.globalMinMax(AF,AK),AD=AH.min,AJ=AH.max
	if(AK!==undefined&&AK<AJ){AJ=Math.max(AK,this.getMetricsMaxValue())
	}if(AF!==undefined&&AF>AD){AD=Math.min(AF,this.getMetricsMinValue())
	}if(AJ===AD){return 1
	}AE=(AI-AD)/(AJ-AD)
	}}}if(AE<0){AE=0
	}if(AE>1){AE=1
	}return AE
	},getRealValue:function(AH,AF,AE,AJ){if(AF===r||AF===j||AF===l){return d(AH*100)
	}if(AF===m||AF===b||AF===I){return d(AH*this.getMetricsCount())
	}if(AF===k){var AG=this.globalMinMax(AE,AJ),AD=AG.min,AI=AG.max
	if(AJ!==undefined&&AJ<AI){AI=Math.max(AJ,this.getMetricsMaxValue())
	}if(AE!==undefined&&AE>AD){AD=Math.min(AE,this.getMetricsMinValue())
	}return AD+AH*(AI-AD)
	}return null
	},globalMinMax:function f(AE,AI){var AD=(AE!==undefined&&AE!==-Infinity)?AE:Infinity,AH=(AI!==undefined&&AI!==Infinity)?AI:-Infinity,AF=this.getServerThresholdValues(),AG=AF.min,AJ=AF.max
	AG=(AG===undefined)?Infinity:AG
	AJ=(AJ===undefined)?-Infinity:AJ
	return{min:Math.min(AD,this.getMetricsMinValue(),AG),max:Math.max(AH,this.getMetricsMaxValue(),AJ)}
	},getColorScheme:function(AE){var AD="custom",AF,AG,AH
	K.forEach(function(AI){AH=AI.bands
	AG=AE.length
	if(AG!==AH.length){return 
	}for(var AJ=0
	AJ<AG
	AJ++){AF=mstrmojo.color.fixFullHexValue(AE[AJ])
	if(AH[AJ].bc!==AF&&AH[AG-AJ-1].bc!==AF){return 
	}}AD=AI.id
	})
	return AD
	},getImageSetName:function Z(AH){var AG=a[0].id,AD,AF=function(AI){return AI===AD.bands[0].url
	}
	for(var AE=0
	AE<a.length
	AE++){AD=a[AE]
	if(AH.some(AF)){AG=AD.id
	break
	}}return AG
	},getGridValueFormat:function P(){return this.gsi.fmts.va
	},isMapReversed:function Q(AF,AD,AH){var AG=(AH?a:K).filter(function(AI){return AI.id===AF
	})[0],AE=AD[0]
	if(!AH){AE=G.fixFullHexValue(AE)
	}return AG&&AG.bands[0][AH?"url":"bc"]!==AE
	},setConditionData:function U(AG,AE){var AF=AG.data,AD=AF.isNew
	M.copy(AE,M.clear(AF))
	delete AF.isNew
	AG.paint()
	AG.tree.onConditionEdit(AG,AD)
	},hasSelectedThresholds:function AA(){return this.selectedThresholds.length>0
	},isThresholdSelected:function h(AD){return this.selectedThresholds.indexOf(AD)!==-1
	},toggleThresholdSelected:function c(AD,AF){var AJ=this.selectedThresholds,AI=AJ.indexOf(AD),AE=AI!==-1,AH=this.thresholds[this.metricId],AG=AH.indexOf(AD)!==-1
	if(AG){if(AF&&!AE){AJ.push(AD)
	}else{if(!AF&&AE){AJ.splice(AI,1)
	}}w.call(this)
	}},addThresholds:function Y(AD){var AE=this.thresholds[this.metricId]
	this.thresholds[this.metricId]=(AE||[]).concat(AD)
	p.call(this)
	},duplicateThreshold:function z(AE){var AG=this.thresholds[this.metricId],AD=AG[AE],AF=M.clone(AD)
	AG.push(AF)
	if(this.isThresholdSelected(AD)){this.toggleThresholdSelected(AF,true)
	}p.call(this)
	},deleteThreshold:function AC(AD){var AF=this.thresholds[this.metricId]
	var AE=AF.indexOf(AD)
	if(AE!==-1){this.toggleThresholdSelected(AD,false)
	AF.splice(AE,1)
	}p.call(this)
	},moveThreshold:function D(AE,AG){var AF=this.thresholds[this.metricId],AD=AF.splice(AE,1)
	this.thresholds[this.metricId]=AF.slice(0,AG).concat(AD,AF.slice(AG,AF.length))
	p.call(this)
	},cleanUp:function R(){this.selectedThresholds=[]
	this.editorMode=mstrmojo.threshold.ThresholdModel.EDITOR_TYPES.AUTO
	},clearData:function X(){var AD=this.thresholds
	if(AD){AD[this.metricId]=undefined
	}},saveOriginalData:function W(){this.orgThresholds=M.clone(this.thresholds)
	},setAttIdToNDE:function C(AF){if(!(AF instanceof Array)){AF=[AF]
	}var AE,AK,AG,AD,AJ,AH=function(AL){AL.att.forEach(function(AM){if(AM.did===AJ.did){AJ.attId=AM.attId
	}})
	},AI=function(AL){AL.conid=AJ.did
	}
	for(AE=0
	AE<AF.length
	AE++){AD=AF[AE]
	for(AK in AD){AJ=AD[AK]
	if(typeof AJ==="function"||!(AJ instanceof Object)){continue
	}else{if(AK==="a"){if(AJ.t===47&&AJ.st===12033){M.forEach(this.controller.datasets,AH)
	AG=AD.fn
	if(AG===22||AG===57){(AD.es||[]).forEach(AI)
	}}}else{this.setAttIdToNDE(AD[AK])
	}}}}},showNumberFormat:function H(){var AE=S.call(this),AF=AE&&AE.min,AD=AE&&AE.max
	return(typeof (AF)==="number"||typeof (AD)==="number")||(O.isDate(AF)||O.isDate(AD))
	}})
	mstrmojo.threshold.ThresholdModel.SLIDER_MODE={COLOR_BASED:0,IMAGE_BASED:1,COLOR_TREND:1}
	mstrmojo.threshold.ThresholdModel.REPLACE_SYMBOL=[{n:"&#9679
	",v:"1"},{n:"&#9632
	",v:"2"},{n:"&#9830
	",v:"3"},{n:"&#9670
	",v:"4"},{n:"&#10070
	",v:"5"},{n:"&#9784
	",v:"6"},{n:"&#10047
	",v:"7"},{n:"&#8984
	",v:"8"},{n:"&#8680
	",v:"29"},{n:"&#8679
	",v:"30"},{n:"&#8681
	",v:"31"}]
	mstrmojo.threshold.ThresholdModel.FEATURES={SHOW_ADVANCED_EDITOR:1,SHOW_BASED_ON:2,SHOW_IMAGE:3,SHOW_VALUE_ITEM:4,SHOW_COLOR_TREND:5,SHOW_MC_ADVANCED_EDITOR:6}
	mstrmojo.threshold.ThresholdModel.EDITOR_TYPES={AUTO:0,ADVANCED_EDITOR:1,SIMPLE_EDITOR:2}
	mstrmojo.threshold.ThresholdModel.BASED_ON_TYPES={LOWEST_PERCENT:l,HIGHEST_PERCENT:j,BETWEEN_PERCENT:r,LOWEST:I,HIGHEST:b,BETWEEN:m,VALUE:k,COMPLEX:A,NONE:J}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo._DocXtabModelShared","mstrmojo.hash","mstrmojo.array","mstrmojo.string","mstrmojo.expr","mstrmojo.elementHelper","mstrmojo.vi.models.EnumDragSources","mstrmojo.fe.FilterUtils","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo.vi.enums.EnumFeatures","mstrmojo.models.template.DataInterface","mstrmojo.models.FormatModel","mstrmojo.vi.enums.EnumVisFilterType")
	var O=mstrmojo.hash,f=mstrmojo.array,R=mstrmojo.string,I=mstrmojo.expr,K=I.FN,M=I.ET,Z=mstrmojo.elementHelper,l=mstrmojo.vi.models.EnumDragSources,u=mstrmojo.fe.FilterUtils.getExprXml,C=mstrmojo.fe.FilterUtils.isExprEmpty,q=mstrmojo.vi.ui.DatasetUnitMenuUtils,Y=mstrmojo.vi.enums.EnumFeatures,r=mstrmojo.models.template.DataInterface,v=mstrmojo.models.FormatModel,n=mstrmojo.vi.enums.EnumVisFilterType,t=mstrmojo._DocXtabModelShared
	var H=4,X=12,o="-1"
	var B=3
	function F(w){return w.docModel.controller.cmdMgr
	}function h(AA){var w=[],AB="The expression is not supported by the View Filter Exception Parser.",x=function x(AF){if(Z.isNullElem(AF.id)&&R.isEmpty(AF.v)){throw AB
	}},AE=function AE(AH){var AG=null
	if([M.AE,M.ANDOR].indexOf(AH.et)>-1||(AH.et===M.AQ&&AH.fn===K.IS_NULL)){if(!AH){return true
	}var AF=AH.nds
	AG=!(AH.not||AH.fn===K.NOT||AH.fn===K.NOT_IN_LIST)
	if(AF){AF.every(function(AI){AG=AG&&AE(AI)
	})
	}}else{throw AB
	}return AG
	},AD=function AD(AH){var AG=false
	if([M.AE,M.ANDOR].indexOf(AH.et)>-1||(AH.et===M.AQ&&AH.fn===K.IS_NULL)){AG=(AH.fn===K.DESCENDANT)
	var AF=AH.nds
	if(AF){AF.every(function(AI){AG=AG||AD(AI)
	})
	}}else{throw AB
	}return AG
	},z=function z(AH,AJ,AL){var AN=AH&&AH.nds,AG=AH.fn===K.OR
	AL=AL||AJ
	if(AN&&AN.length){var AI=AJ
	AN.forEach(function(AO){if(AG){AI=[]
	}z(AO,AI,AL)
	if(AG&&AI.length>0){AJ.push(AI)
	}})
	}else{if(AH.fn===K.IS_NULL){var AM=AH.a=AH.a||{n:"Null Attribute",did:""}
	AJ.push({tn:AM.n,tid:AM.did,eid:null,v:""})
	}else{if(AH.et===M.AE){var AF=AH.es||[]
	var AK=AF.length
	if(AK===1){x(AF[0])
	AJ.push({tn:AH.a.n,tid:AH.a.did,eid:AF[0].v,v:AF[0].n})
	}else{if(AL){AF.forEach(function(AO){x(AO)
	AL.push([{tn:AH.a.n,tid:AH.a.did,eid:AO.v,v:AO.n}])
	})
	}}}}}return AJ
	}
	try{if(AA){(AA.nds||[]).forEach(function(AF){var AG=z(AF,[])
	if(AG.length>0){w.push({keepOnly:AE(AF),isBranch:AD(AF),data:AG})
	}})
	}}catch(AC){if(AC!==AB){console.error("vi.models.DocXtabModel: Encountered a problem parsing the view filter expression ("+AC+")")
	}else{return[]
	}}return w
	}mstrmojo.vi.models._DocXtabModelShared=mstrmojo.provide("mstrmojo.vi.models._DocXtabModelShared",O.copy({mixinName:"mstrmojo.vi.models._DocXtabModelShared",addEditNodeForDatasetAction:function W(z,x){this.augmentDropContextForSchema(z,this.docModel)
	var AD=z.getCtxtDragData(),AC=AD.src
	if(AC===l.DATASETS||AC===l.ALL_OBJECT_LIST){var AB=AD.dsid,AA=O.walk("xtab.gridData.datasetId",this),w=O.walk("xtab.gridData.dataSourceState",this),AE=z.actions||[]
	if(AB&&!w&&!AA){AE.push({act:"editNode",nodeKey:x,datasetId:AB})
	}z.actions=AE
	}},getSaveViewFilterAction:function N(w,x){return{act:"saveViewFilter",nodeKey:w||this.xtab.k,expr:C(x)?'<exp><nd et="14" fn="19"></nd></exp>':u(x)}
	},_clearDrillingActionsHelper:function P(AB,AA){var w=this.docModel,z=AB.model,x
	return function(AD,AC){x=w.getVfNdFromExpr(AD)||{et:14,nds:[]}
	AA.actions.push(z.getSaveViewFilterAction(AC,x))
	}
	},getClearFiltersForVisActions:function c(z,AA,w,AB){var x={actions:[],callback:AB}
	w=[].concat(w)
	if(f.includes(w,n.KEEP_ONLY)){x=this.addClearKeepOnlyActions(z,AA,x)
	}if(f.includes(w,n.ADV_QUALIFICATION)){x=this.addClearAdvQualActions(z,AA,x,w)
	}if(f.includes(w,n.DOSSIER_LINKING)){x=this.addClearDossierLinkingActions(z,AA,x)
	}if(f.includes(w,n.DRILLING)){x=this.addClearDrillingActions(z,AA,x)
	}if(f.includes(w,n.LINKING)){x=this.addClearLinkingActions(z,AA,x)
	}return x
	},getClearLinkViewFilterAction:function G(z){var w=this.docModel,x=(z&&z.k)||this.xtab.k
	return{act:"clearLinkViewFilter",nodeKey:x,partialRetrieval:{nodes:[x].concat(w.getSourceFilterKeys(x))}}
	},getClearLinkingAction:function e(x){var w=this.docModel,z=x.k
	return w.getClearLinkingActionByUnitKey(z)
	},getPivotFormAction:function U(AG,x,AC){var z=this.getCellTitleInfo(AG),AD=z.title,AA=AD.id,AB=this.getAttributeFormsInTemplate(AA),AF=(AD.fix&&AD.fix-1)||(AG.fi||0),w=AB[AF],AE
	if(x==="l"){AE=AF-1
	}else{if(x==="r"){AE=AF+1
	}}return{act:"pivot",unitPos:AE+1,attFormId:w.id,unitId:AA,unitType:AC||"",originUnitPos:AF+1}
	},addClearKeepOnlyActions:function a(z,AA,x){var w=z.model
	return w.getKeepOnlyActionsForAssociatedNodes([],x.callback,AA)
	},_clearAdvQualActionsHelper:function k(AC,AD,AB,AA){var w=this.docModel,AE=w.getDataService(),z=AC.model,x=(AD&&AD.k)||this.xtab.k
	return function(AG,AH,AF){if(AG){AB.actions.push(AE.getUpdateTemplateAction(AF,z.getRemoveMetricLimitsAction(AG),null,x))
	}if(AH){if(AA>-1){AB.actions.push(z.getSaveViewFilterAction(AF))
	return true
	}else{AB.actions.push(z.getSaveViewFilterAction(AF,w.getVfexprWithUpdatedVf(x)))
	}}return false
	}
	},addClearDossierLinkingActions:function S(z,AA,x){var w=z.model
	x.actions.push(w.getClearLinkViewFilterAction(AA))
	return x
	},addClearLinkingActions:function E(z,AA,x){var w=z.model
	x.actions=x.actions.concat(w.getClearLinkingAction(z))
	x.extras={style:{params:{treesToRender:3}}}
	return x
	},showNumberFormat:function(AG){var AH=[1,2,8,9,11],AE
	var AD
	if(AG.t===X){var x=this.xtab.node.data,w=x&&x.gts,z=new mstrmojo.models.template.DataInterface(x),AC=w&&(z.getRowTitles().titles||[]).concat(z.getColTitles().titles||[]),AF=f.filterOne(AC,function(AI){return AG.did===AI.id
	}),AB=((AF&&AF.fs)||[]).map(function(AI){return AI.id
	})
	AE=(AG.fs||[]).some(function(AI){return AH.indexOf(AI.bftp)!==-1&&AB.indexOf(AI.fid||AI.id)!==-1&&!AI.fgr
	})
	}else{if(AG.t===H){AD=mstrmojo.NumberFormat.isNumberFormatDT(AG.dt)
	}}var AA=mstrApp&&mstrApp.supportFeature&&mstrApp.supportFeature(Y.NUMBER_FORMATTING)
	return(AG.t===H&&AD&&AG.did!==o&&AA)||!!AE
	},getNumberFormatEditorCfg:function b(z){var x=z.item,AA=this.getNumberFormatData(x),w=f.find(AA,"id",x.did),AB=w===-1?{}:AA[w]
	return q.getNumberFormatEditor(z.item,AB,this.getNumberFormatEditorAcceptCallback(x))
	},hasDerivedElements:function A(w){var x=this.getObjectInfo(w)
	return !!(x&&x.de)
	},getTemplateLimit:function m(){return this.data.tpl
	},getSelectorDataFromViewFilter:function p(w){return h(w)
	},getSelectorDataFromTemplateLimit:function J(w){return this.getSelectorDataFromViewFilter(w)
	},isRecursiveAttribute:function g(w){var z=this.docModel.getDEObject(w),x=this.getFullObjectInfo(z?z.attId:w)||this.getObjectInfo(z?z.attId:w)
	return x&&x.t===12&&x.st===3076
	},isSubtotalValue:function D(w){var x=this.getCellDataUnion(w)
	return !w.stt&&x.some(function(z){return !!z.isSubtotal
	})
	},supportsDSLKViewFilter:function j(w){var x=this.getObjectInfo(w)
	return x&&!x.de&&(x.t!==1)&&(x.t!==47)
	},getDossierInfo:function(x,w){return mstrmojo.ui.editors.controls.ContextualLink.genDLAction(this.data.doslinkinfo,this.docModel,x,w)
	},getUnitNameInDataSet:function(w){return this.docModel.findUnitNameInDataSetFromUnit(w)
	},getAdvancedPropertiesAction:function d(w){return{act:"advancedProperties",props:w}
	},moveSubTotals:function Q(x,z){var AB=this,AC=AB.xtab,AD=AC.gridData.gsi,w=[],AA=AB.docModel.getDataService(),AE
	r.forEachGSI(AD,function(AG,AF){AE=AB.getMoveSubTotalAction(x.data,z,AF)
	w.push(AA.getUpdateTemplateAction(AF,AE,null,AC.k))
	},AC.k)
	AC.submitUndoRedoActionsWithCallback(w)
	},getApplyGridCellFormatToSubtotalAction:function L(AE){var AI=[],AH=this.xtab,AB=AH.model,AC=AH.controller,z=AC.dataService(),AD=AH.gridInfo,w,x,AA,AG,AF=function(AL,AK){O.forEach(AL,function(AN,AM){AG=v.getFormatPropertyInfo(AM)
	if(AG&&AG.ps!==v.ENUM_PROPERTY_SETS.FORMATTING_NUMBER){x=O.mergeHashes(x,v.getFormatUpdate(AM,(AG.pt===B)?AN:v.decodeValue(AM,AN)))
	}})
	var AJ=AB.getZoneFormatAction.call(AB,AE,x,AK,{isSubtotalFormat:true})
	AI.push(z.getUpdateTemplateAction(AK,AJ,null,AH.k))
	}
	r.forEachGSI(AD,function(AK,AJ){x={}
	w=AK.fmts
	AA=w[AE]
	AF(AA,AJ)
	},AH.k)
	return AI
	},},O.copy(t)))
	mstrmojo.vi.models._DocXtabModelShared.fnGetSelectorDataFromViewFilterExpr=h
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.StringBuffer","mstrmojo.hash","mstrmojo.array","mstrmojo.dom","mstrmojo._IsGraphDataService","mstrmojo.func","mstrmojo._ImageHelper","mstrmojo.fe.FilterUtils","mstrmojo.rw.model.RetrievalKeysConfig","mstrmojo.rw.model.UpdateKeysConfig","mstrmojo.models.template.DataInterface","mstrmojo.mstr.EnumDSSXMLObjectTypes")
	var Ah=mstrmojo.hash,AY=Ah.copy,BT=mstrmojo.array,As=mstrmojo.dom,p=mstrmojo.func,a=[mstrmojo.desc(8445,"Loading")],AK=mstrmojo.fe.FilterUtils.getExprXml,w="$GUID_135",Bj=mstrmojo.array.ensureArray,m=0,Bi=mstrmojo.models.template.DataInterface,BM=mstrmojo.mstr.EnumWebAPIErrorCodes,B=mstrmojo.mstr.EnumDSSXMLObjectTypes
	function Al(Bl){Bl=Bl||{}
	Bl.preserveUndo=true
	return Bl
	}function Ao(Bp,Bq,Bl){if(this.blockRequests){throw ("The data service is currently ignoring all requests to the server.")
	}var Bm=m++,Bo=this.getTxUpdates(Bm)
	Bl=Bl||{}
	Bl.src=Ao.caller.name
	if(!mstrmojo.string.isEmpty(Bo)){Bp.updateChanges=Bo
	}Bp.zoomFactor=this.model.getZoomFactor()
	var Bn=this.cmdMgr
	if(!Bl.preserveUndo&&Bn){Bn.onSubmitUpdates()
	}mstrApp.serverRequest(Bp,this.wrapCallback(Bq,Bm,Bl.preserveStid),Bl)
	}function BA(Bp,Bn,Bl){var Bo=Bn&&Bn.boxContent,Bm=!!Bo?Bo.getNodeKey():Bn.k
	Ah.copy({unitType:Bn.defn&&Bn.defn.t,unitKey:Bm},Bp)
	if(Bl.layoutKey){Ah.copy({toKey:Bl.layoutKey,analysisSectionType:Bl.analysisSectionType},Bp)
	}else{Ah.copy({toKey:Bl.parentKey},Bp)
	}return Bp
	}function k(Bn,Bo,Bm,Bl){Ah.copy({unitType:Bo.defn.t,treeType:1,nodeKey:Bo.nk,fieldKey:Bo.k,destTreeType:1,destNodeKey:Bm},Bn)
	if(Bl){Ah.copy({createNode:true,newNodeKey:Bl.newNodeKey,newNodeKeyParent:Bl.newNodeKeyParent},Bn)
	}return Bn
	}function Ak(Bm){Bm=Bm||{}
	if(mstrApp.optimizeFitToPage){var Bl=window.mstrMobileApp?this.model.controller.getContentDimensions():mstrApp.getContentDimensions()
	if(Bl){Bm.styleName="RWDocumentMobileStyle"
	Bm.availableWidth=Bl.w
	Bm.availableHeight=Bl.h
	}else{Bm.innerWidth=mstrmojo.dom.windowDim().w
	Bm.innerHeight=mstrmojo.dom.windowDim().h
	}}return Bm
	}function BQ(Bp){var Bo=this.updatingDocZoom,Bn=this.sendBrowserInfo
	Bp=Bp||{}
	delete this.updatingDocZoom
	delete this.sendBrowserInfo
	if(mstrApp.optimizeFitToPage&&!Bo&&mstrApp.isExpress&&(this.model.zt===1||this.model.zt===2)){if(Bn){Bp=Ak.call(this,Bp)
	}else{Bp.clientZoomFactor=this.model.getZoomFactor()
	var Bl=this.model.getCurrentLayoutDef(),Bm=(Bl&&Bl.dzf)||1
	Bp.clientDesiredZoomFactor=Bm
	}}return Bp
	}function BZ(Bm){var Bl=Bm&&Bm.style,Bn=Bl&&Bl.params
	return Bn&&Bn.treesToRender
	}function A7(Bl,Bm,Bn){return{act:"moveUnit",toKey:Bl,unitType:Bm,srd:Bn}
	}function Be(Bl){return Bl.split("\u001E")[2]
	}function AM(Bm,Bq){if(Bm!==mstrmojo.DocDataService.UNDO_KEY){return Bm
	}if(!this.undoSectionKey){var Bp=this.undoSectionKey=this.model.getNextKey(),Bn=this.undoFGKey=this.model.getNextKey()
	Bq.addActions({act:"addUndoSection",cbKey:this.cbKey,nodeKey:Bp,fgKey:Bn})
	var Bo=this
	Bq.addCallbacks({failure:function Bl(){delete Bo.undoSectionKey
	}})
	}return this.undoSectionKey
	}function A4(Bn,Bm){var Bl={dsid:Bn.dsid,formula:Bn.tokenStreamXML,isTokenStream:!mstrmojo.string.isEmpty(Bn.tokenStreamXML),name:Bn.alias,dsc:Bn.dsc,afb:Bn.afb,sfb:Bn.sfb,mft:Bn.mft}
	if(Bm){Bl.Ids=[w]
	}return this.getAddDerivedMetricToDatasetAction(Bl)
	}function AL(Bm){var Bl="USE_DEFAULT_INDICATOR"
	Bm=Bm||{}
	Bm.mptso=Bm.mptso||{pru:true}
	Bm.mptsim=Bm.mptsim||{pru:true}
	Bm.mptfms=Bm.mptfms||""
	return{MDXPassThrough:{SolveOrder:Bm.mptso.pru?Bl:Bm.mptso.v,ScopeIsolationMode:Bm.mptsim.pru?Bl:Bm.mptsim.v,FormatString:Bm.mptfms}}
	}function Au(Bl,Bm){return{act:"formatDerivedMetric",dsid:Bl.dsid||"",mid:(Bm||!Bl.did)?w:Bl.did,format:AL(Bl.mptf)}
	}function K(Bo,Br,Bm,Bs,Bl,Bn){var Bp=[this.getNodeKeyFromKeyContext(Br)]
	if(!Bn){Bp=Bj(Bs).concat(Bp)
	}var Bq={act:Bo,keyContext:Br,tgtKey:Bm,partialRetrieval:{nodes:Bp}}
	if(!Bl){Bq.partialUpdate={selectors:[Be(Br)]}
	}return Bq
	}function BJ(Bn){var Bp=false
	if(Bn===1||Bn===2){var Bm=this.model,Bl=Bm.controller,Bq=Bl.getRequiredZoomFactor&&Bl.getRequiredZoomFactor(Bn),Bo=Bm.getZoomFactor()
	if(isNaN(Bq)||parseInt(Math.abs((Bq-Bo)*100),10)<=2){Bp=false
	}else{Bp=true
	}}return Bp
	}mstrmojo.DocDataService=mstrmojo.declare(mstrmojo.Obj,[mstrmojo._IsGraphDataService,mstrmojo._ImageHelper],{scriptClass:"mstrmojo.DocDataService",defaultStyle:{params:{treesToRender:2}},cmdMgr:null,stid:-1,blockRequests:false,clientAuto:false,init:function Bg(Bl){this._super(Bl)
	this.cmdMgr=this.model.controller&&this.model.controller.cmdMgr
	},wrapCallback:function N(Bq,Bn,Bm){var Bo=this
	return p.wrapMethods({success:function Bp(Br){if(Br){Bo.model.bs=Bo.rwb=Br.bs||Bo.rwb
	Bo.msgId=Br.mid||Bo.msgId
	Bo.cbKey=Br.cbKey||Bo.cbKey
	if(Br.stid!==undefined&&!Bm){Bo.stid=Br.stid
	}if(Br.clientAuto!==undefined){Bo.clientAuto=Br.clientAuto
	}if(mstrApp.parseSecondaryDataProviders){mstrApp.parseSecondaryDataProviders(Br)
	}}Bo.clearTxUpdates(Bn)
	},failure:function Bl(){Bo.resetTxUpdates(Bn)
	}},Bq)
	},getNodeKeyFromKeyContext:function BR(Bl){return Bl.split("\u001E")[1]
	},refresh:function AP(Bn,Bo){var Bm=!!Bn.useRefreshProgress,Bl=Bm?[mstrmojo.desc(10078,"Refreshing data. Please wait.")]:a
	delete Bn.useRefreshProgress
	Bn=Ak.call(this,Bn)
	Ao.call(this,AY(Bn,{taskId:"docRefresh",rwb:this.rwb,rePrompt:false,fresh:false,regenerate:false,displayNoResErr:true,compress:1}),Bo,{showProgress:true,hideProgress:true,progressStateText:Bl,useRefreshProgress:Bm})
	},saveRW:function Ap(Bl,Bm){Ao.call(this,AY(Bl,{taskId:"saveRW",msgID:this.msgId}),Bm)
	},saveThresholds:function BX(Bm,Bn,Bl){Ao.call(this,AY(Bm,{taskId:"saveThresholds"}),Bn,Bl)
	},getThresholds:function Aw(Bm,Bn,Bl){Ao.call(this,AY(Bm,{taskId:"getThresholds"}),Bn,Bl)
	},browseElements:function t(Bm,Bn,Bl){Ao.call(this,AY(Bm,{taskId:"browseElements",styleName:"MojoAttributeStyle",blockBegin:1,blockCount:mstrApp.elementsBlockCount||30}),Bn,Bl)
	},removeUnit:function F(Bm,Bn){var Bl=AY(Bm,{act:"removeUnit"})
	this.submitTemplateUpdates(Bl.nodeKey,Bl,Bn)
	},removeLayout:function AX(Bm,Bl,Bn){this.submitUpdates({act:"removeLayout",unitKey:Bm,isCurrent:Bl},Bn)
	},moveLayout:function AE(Bn,Bl,Bm){this.submitUpdates(this.getMoveNodeAction(Bn,Bl,Bm),mstrmojo.DocDataService.EMPTY_CALLBACK,mstrmojo.DocDataService.SUPPRESS_DATA)
	},getMacroCopyNodeAction:function AC(Bm,Bl,Bo){var Bn={act:"macroCopyUnit",newKey:Bo,partialRetrieval:this.newRetrievalKeysConfig().addNode(Bo)}
	BA(Bn,Bm,Bl)
	return Bn
	},getMacroMoveNodeAction:function Ae(Bm,Bl,Bp){var Bo=this.newRetrievalKeysConfig()
	Bo.addNode(Bm.k)
	Bp&&Bp.forEach(function(Bq){Bo.addNode(Bq)
	})
	var Bn={act:"macroMoveUnit",partialRetrieval:Bo}
	BA(Bn,Bm,Bl)
	return Bn
	},getCopyFieldAction:function O(Bp,Bm,Bo,Bl){var Bn={act:"copyField",destFieldKey:Bo,fieldName:Bp.title+" copy",partialRetrieval:this.newRetrievalKeysConfig().addNode(Bm)}
	k(Bn,Bp,Bm,Bl)
	return Bn
	},getMoveFieldAction:function AB(Bo,Bm,Bl){var Bn={act:"moveField",partialRetrieval:this.newRetrievalKeysConfig().addNode(Bm)}
	k(Bn,Bo,Bm,Bl)
	return Bn
	},getMoveNodeAction:function A9(Bq,Bl,Bn,Bs){var Bp=Bq.defn,Bo=Bp?Bp.t:mstrmojo.EnumRWUnitType.LAYOUT,Br=Bq&&Bq.boxContent,Bm=!!Br?Br.getNodeKey():Bq.k
	return this.getMoveNodeActionUsingKey(Bm,Bo,Bl,Bn,Bs)
	},getMoveNodeActionUsingKey:function Bh(Bp,Bn,Bl,Bm,Bq){var Bo=A7(Bl,Bn,Bq)
	Bo.unitKey=Bp
	if(Bm!==undefined){Bo.index=Bm
	}return Bo
	},getMoveControlAction:function S(Bo,Bm,Bl){var Bn=A7(Bm,mstrmojo.EnumRWUnitType.SELECTOR)
	Bn.keyContext=Bo
	if(Bl){Bn.partialRetrieval={nodes:Bj(Bl)}
	}return Bn
	},addMoveControlAction:function BF(Bo,Bn,Bm,Bl){Bo.addActions(this.getMoveControlAction(Bn,AM.call(this,Bm,Bo),Bl))
	},getSetCtrlSourceAction:function BU(Bm,Bo,Bl,Bn){return{act:"setControlSource",keyContext:Bm,unitId:Bo,unitType:Bl,removeCGB:Bn||[],partialRetrieval:this.newRetrievalKeysConfig().addNode(this.getNodeKeyFromKeyContext(Bm)),partialUpdate:{selectors:[Be(Bm)]}}
	},getSetCandidateObjectsAction:function Ax(Bm,Bl){return{act:"setCandidateObjects",keyContext:Bm,ctlType:8,units:Bl,partialRetrieval:this.newRetrievalKeysConfig().addNode(this.getNodeKeyFromKeyContext(Bm)),partialUpdate:{selectors:[Be(Bm)]}}
	},getRemoveCtrlTargetAction:function g(Bn,Bm,Bo,Bl){return K.call(this,"removeControlTarget",Bn,Bm,Bo,Bl)
	},getClearCtrlTargetAction:function BO(Bl){return{act:"clearControlTarget",keyContext:Bl}
	},getAddCtrlTargetAction:function A2(Bp,Bm,Bq,Br,Bl,Bn){var Bo=K.call(this,"addControlTarget",Bp,Bm,Bq,Bl,Bn)
	Bo.isUC=!Br
	return Bo
	},appendRepObjParams:function AS(Bp,Bn,Bo,Bm){var Bl=Bn.getCGBMap()
	if(!Bl||!Bo){return 
	}Ah.forEach(Bo.cgb,function(Bq){if(Bl[Bq]===Bm){var Br=Bn.getTargetDefn(Bq)[Bq]
	if(Br){Bp.rplObjId=Br.replace_object
	Bp.rplObjTp=Br.replace_object_type
	}}})
	},getReplaceCtrlTargetAction:function A1(Bo,Bn,Bm,Bl){return{act:"replaceControlTarget",ctlType:8,rplObjId:Bm,rplObjTp:Bl,nodeKey:Bn,partialUpdate:{selectors:[Be(Bo)]}}
	},getAddCtrlTargetDatasetAction:function Ac(Bm,Bl){return{act:"addControlTargetDataset",keyContext:Bm,tgtDid:Bl}
	},getRemoveCtrlTargetDatasetAction:function An(Bm,Bl){return{act:"removeControlTargetDataset",keyContext:Bm,tgtDid:Bl}
	},getClearCtrlTargetDatasetAction:function Q(Bl){return{act:"clearControlTargetDataset",keyContext:Bl}
	},getChangeControlElementSource:function r(Bm,Bl){return{act:"changeControlElementSource",keyContext:Bm,ctlElementSrc:Bl}
	},getSetVLDBPropAction:function BY(Bo,Bm,Bl,Bn,Bq,Bp){return Ah.copy({act:"setVLDBProperty",prop:Bo,handler:Bm,nodeKey:Bl,value:Bn,partialRetrieval:this.newRetrievalKeysConfig().addNode(Bq||Bl)},Bp)
	},getTxUpdates:function Ba(Bm){var Bl=this.model
	return Bl&&Bl.getTransactionUpdates&&Bl.getTransactionUpdates(Bm)
	},clearTxUpdates:function L(Bm){var Bl=this.model
	if(Bl&&Bl.clearTransactionUpdates){Bl.clearTransactionUpdates(Bm)
	}},resetTxUpdates:function AW(Bm){var Bl=this.model
	if(Bl&&Bl.resetTransactionUpdates){Bl.resetTransactionUpdates(Bm)
	}},loadDocLayout:function BN(Bp,Br,Bq){var Bo={act:"setCurrentLayout",unitKey:Bp.layoutKey,disablePU:true,panelUnitKey:Bp.panelKey},Bn={style:{params:{treesToRender:3}}},Bl=this.model,Bm=!!Bq
	if(mstrApp.isVI){Br=p.wrapMethods(this.model.getUpdateLayoutDefaultPanelCallback(),Br)
	}if(!Bq){Bq=Bl.getDataService().newUpdateWithoutCmd()
	}if(mstrApp.isAppStatePause&&mstrApp.isAppStatePause()){Bl.applyBufferedSelections(Bq)
	}this.sendBrowserInfo=true
	Bq.add(Bo,Br,Bn)
	if(!Bm){this.submitUpdates(Bo,Br,Bn)
	}},checkMissingCredentials:function W(Bl,Bm){Ao.call(this,AY(Bl,{taskId:"checkMissingCredentials"}),Bm)
	},setCurrentDocLayout:function BE(Bn,Br,Bq){var Bp={act:"setCurrentLayout",unitKey:Bn},Bo={config:{silent:(Br===null)&&(!!Bq&&Object.keys(Bq.callback||{}).length===0)}},Bl=this.model,Bm=!!Bq
	Br=Br||null
	if(mstrApp.isVI){Br=p.wrapMethods(this.model.getUpdateLayoutDefaultPanelCallback(),Br)
	}if(!Bq){Bq=Bl.getDataService().newUpdateWithoutCmd()
	}if(mstrApp.isAppStatePause&&mstrApp.isAppStatePause()){Bl.applyBufferedSelections(Bq)
	}Bq.add(Bp,Br,Bo)
	if(!Bm){Bq.submit()
	}if(window.mstrMobileApp!==undefined){mstrMobileApp.clearWebViewCache(false)
	}},fetchDocPage:function BW(Bl,Bm){Ao.call(this,{taskId:"fetchDocPage",rwb:this.rwb,pos:Bl},Bm)
	},requestPanelChangeDeferred:function Aj(Br,Bq,Bl,Bm,Bo,Bp){var Bn={act:"setCurrentPanel",unitKey:Bq}
	if(Bl){Bn.partialRetrieval={nodes:Bl.split(",")}
	}if(Bm){this.sendBrowserInfo=true
	}Br.add(Bn,Bp,{config:{showProgress:Bo,hideProgress:Bo,progressStateText:a},style:{params:{treesToRender:Bm?3:0}}})
	},getGraphSelectionAction:function AQ(Bq,Bl,Bn,Bu,Bt,Bm,Bv,Bp){var Br=this.model.getCurrentLayoutDef(),Bw=(Br&&Br.dzf)||1,Bs=!mstrApp.optimizeFitToPage||mstrApp.optimizeFitToPage===2,Bo={act:"graphSelector",nodeKey:Bq,sliceID:Bn,x:Bs?Math.round(Bu/Bw):Bu,y:Bs?Math.round(Bt/Bw):Bt}
	if(Bm){Bo.usePartialUpdate="0"
	}else{Bo.partialUpdate={selectors:Bl.split("\u001E")}
	}if(Bv&&Bp){Bo.w=Bv
	Bo.h=Bp
	}return Bo
	},getSelectorElementsAction:function Ag(Bn){var Bm={act:"setSelectorElements",keyContext:Bn.ck,ctlKey:Bn.ctlKey,elemList:mstrmojo.string.decodeHtmlString(Bn.eid),isVisualization:!!Bn.isDocVis},Bl=Bn.include
	if(Bl!==undefined){Bm.include=!!Bl
	}if(Bn.tks){Bm.tks=Bn.tks
	}if(Bn.disablePU){Bm.usePartialUpdate="0"
	}else{if(Bn.ignoreTargetData){Bm.partialRetrieval=this.newRetrievalKeysConfig().addNode(this.getNodeKeyFromKeyContext(Bn.ck))
	}else{Bm.partialUpdate={selectors:Bn.ctlKey.split("\u001F")}
	}}return Bm
	},getUpdateTransactionAction:function BD(Bm){var Bl={act:"updateTransaction"}
	if(Bm){if(Bm.ctlKey){Bl.partialUpdate={selectors:[Bm.ctlKey]}
	}}return Bl
	},getSelectorFromGMAction:function AI(Bm){var Bl={act:"setSelectorFromGM",keyContext:Bm.ck,ctlKey:Bm.ctlKey,keepOnly:!!Bm.keepOnly,selectorObjects:Bm.selectorObjects,isVisualization:!!Bm.isDocVis,include:!!Bm.include}
	if(Bm.tks){Bl.tks=Bm.tks
	}if(Bm.disablePU){Bl.usePartialUpdate="0"
	}else{Bl.partialUpdate={selectors:[Bm.ctlKey]}
	}return Bl
	},getGMViewFilterAction:function Bb(Bm){var Bl={act:"keepOnlyGM",selectorObjects:Bm.selectorObjects,isVisualization:!!Bm.isDocVis,keepOnly:!!Bm.keepOnly}
	if(Bm.tks){Bl.tks=Bm.tks
	}if(Bm.disablePU){Bl.usePartialUpdate="0"
	}else{Bl.partialUpdate={selectors:[Bm.ctlKey]}
	}return Bl
	},browseControlElements:function AT(Bp,By,Bm){var Bo=Bp.searchPattern,Bv=Bp.attributeId,Br=this.model
	if(!Bo||Bo===""){return 
	}var Bs={taskId:"browseElements",styleName:"MojoAttributeStyle",attributeID:Bv,expressionXML:Bp.expressionXML||"",dataSourcesXML:Bp.dataSourcesXML||"",blockBegin:Bp.blockBegin,blockCount:Bp.blockCount,searchPattern:Bo,rawInput:Bo,browseFlags:Bp.browseFlags||0,otp:Bp.objectType}
	if(Bp.datasetId){AY({datasetID:Bp.datasetId,messageID:Br.mid,ctlKey:Bp.controlKey},Bs)
	}var Bx=Bp.searchForms
	if(Bx){var Bn="",Bq=""
	BT.forEach(Bx,function(Bz){Bn+=Bq+Bz.did
	Bq="
	"
	})
	Bs.searchForms=Bn
	if(Br.isnew||Bp.useClientForm){var Bl="",Bu="",Bt=BT.filterOne(Br.getDatasetUnits(["att"]),function(Bz){return Bz.did===Bv
	}),Bw=Bt.fs||[]
	BT.forEach(Bx,function(Bz){var B0=BT.filterOne(Bw,function(B1){return B1.fid===Bz.did
	})
	Bl+=Bu+Bz.did+":"+(B0&&B0.bftp||0)
	Bu="
	"
	})
	Bs.clientFormPatterns=Bl
	}}Ao.call(this,Bs,By,Bm)
	},setMultiDocSelectorElements:function X(Bl,Bm,Bo){var Bn={taskId:"setMultiDocSelectorElements",rwb:this.rwb,multiSelect:Bm,selectorObjects:Bl}
	Ao.call(this,Bn,Bo,{showWait:true,hideWait:true,delay:true})
	},setDocSelectorTexts:function A0(Bq,Bs,Bu,Br,Bt,Bm,Bl,Bn,Bp){var Bo={taskId:"setDocSelectorTexts",rwb:this.rwb,unitKeyContext:Bq,ctlTexts:Bs,ctlKey:Bu,zoomFactor:Bm}
	if(As.isAndroid||Bl){Bo.taskId="androidSetDocSelectorElements"
	}if(Br!==null&&Br!==undefined){Bo.include=Br
	}if(Bn!==null&&Bn!==undefined){Bo.usePartDisplay=Bn
	}if(Bp!==null&&Bp!==undefined){Bo.treesToRender=Bp
	}Ao.call(this,Bo,Bt)
	},getSelectorExpressionAction:function D(Bn){var Bm={act:"setSelectorExpression",keyContext:Bn.ck,ctlType:Bn.type,objId:Bn.srcid,objType:Bn.srct,expFunction:Bn.f,expFunctionType:Bn.ft,include:!!Bn.include,qt:Bn.qt,unset:!!Bn.unset}
	if(Bn.disablePU){Bm.usePartialUpdate="0"
	}else{Bm.partialUpdate={selectors:[Bn.ckey]}
	if(Bn.retrieveCtrlKey){Bm.partialRetrieval=this.newRetrievalKeysConfig().addNode(Bn.ctlKey)
	}}if(Bn.changeQual){Bm.changeQual=Bn.changeQual
	}var Bl=Bn.cs
	if(Bl!==null&&Bl!==undefined){Bm.expConstants=Bl
	Bm.dataType=Bn.dtp
	}if(Bn.fid){Bm.fid=Bn.fid
	}return Bm
	},getAttributeSelectorExpressionAction:function I(Bm){var Bl={act:"setAttributeSelectorExpression",keyContext:Bm.ck,ctlKey:Bm.ctlKey,ctlType:Bm.type,expr:Bm.expr,partialUpdate:{selectors:[Bm.ctlKey]}}
	if(Bm.tks){Bl.tks=Bm.tks
	}if(Bm.incFetch&&!Bm.autoApply){Bl.partialRetrieval={nodes:[Bm.ctlKey]}
	}return Bl
	},getMultiUnitSelectorAction:function AO(Bl){return{act:"multiUnitSelection",keyContext:Bl.ck,include:Bl.include!==false,cgbNodes:Bl.ifwCgbNodes,sels:Bl.selections,isBranch:Bl.isBranch,partialUpdate:{selectors:[Bl.ctlKey]}}
	},getCompoundGridMultiUnitSelectorAction:function Ay(Bo){var Bn=[],Bl,Bm
	for(Bl=0
	Bl<Bo.ck.length
	Bl++){Bm=this.getMultiUnitSelectorAction(Bo)
	Bm.keyContext=Bo.ck[Bl]
	Bm.partialUpdate.selectors=[Bo.ctlKey[Bl]]
	Bn.push(Bm)
	}return Bn
	},getRemoveCtrlAction:function l(Bm,Bl){return{act:"removeControl",key:Bm,partialUpdate:{selectors:[Bm]},partialRetrieval:{nodes:Bj(Bl)}}
	},getAddCtrlAction:function BB(Bt,Br,Bm,Bs,Bn,Bu,Bl,Bp,Bv,Bo){if(isNaN(Bv)){Bv=1
	}var Bq={act:"addControl",parentKey:Bt,nodeKey:Br,ctlKey:Bm,isUC:!!Bn,unitType:Bu||-1,unitId:Bl||"",targetKeys:Bj(Bp),ctlType:Bv,gpType:Bv===8?3:Bv,partialRetrieval:{nodes:Bj(Bs)}}
	if(!Bq.isUC||Bo){Bq.partialUpdate={selectors:[Bm]}
	}return Bq
	},getReplaceCtrlAction:function AZ(Bn,Bq,Bl,Bp,Bm,Bo){return{act:"replaceControl",nodeKey:this.getNodeKeyFromKeyContext(Bn),ctlKey:Bq,ctlType:Bl,unitId:Bp,unitType:Bm,partialUpdate:{selectors:[Bq]},partialRetrieval:{nodes:Bj(Bo)}}
	},getUseAlternateFilterTechniqueAction:function AR(Bn,Bp,Bm,Bo,Bl){return{act:"useAlternateFilterTechnique",nodeKey:this.getNodeKeyFromKeyContext(Bn),ctlKey:Bp,ctlType:Bm,pdf:Bl?1:0,partialUpdate:{selectors:[Bp]},partialRetrieval:{nodes:Bj(Bo)}}
	},getSaveGraphPropertiesAction:function Ad(Bl,Bm){return{act:"saveGraphProperties",nodeKey:Bl,properties:Bm}
	},getSelectorIncludeAction:function A(Bm){var Bl=Bm.ckey
	return{act:"setSelectorInclude",keyContext:Bm.ck,ctlKey:Bl,ctlType:Bm.type,include:Bm.include,partialUpdate:{selectors:[Bl]}}
	},getSelectorShowAllAction:function Bf(Bl){return{act:"setSelectorShowAll",keyContext:Bl.ck,ctlKey:Bl.ckey,ctlType:Bl.type,showAll:Bl.showAll,partialRetrieval:this.newRetrievalKeysConfig().addNode(this.getNodeKeyFromKeyContext(Bl.ck))}
	},getUnsetSelectorAction:function Bc(Bo){var Bn=Bo.ckey,Bl=Bo.ck,Bm={act:"unsetSelector",keyContext:Bl,ctlKey:Bn}
	if(Bo.ignoreTargetData){Bm.partialRetrieval=this.newRetrievalKeysConfig().addNode(this.getNodeKeyFromKeyContext(Bl))
	}else{Bm.partialUpdate={selectors:[Bn]}
	}if(Bo.resetSuc){Bm.resetSuc=true
	}if(Bo.retrieveCtrlKey){Bm.partialRetrieval=this.newRetrievalKeysConfig().addNode(this.getNodeKeyFromKeyContext(Bl))
	Bm.partialRetrieval=Bm.partialRetrieval.addNode(Bn)
	}return Bm
	},getDynamicSelectionAction:function A8(Bq){var Bm=Bq.ck,Bp=Bq.ctlKey,Bn=this.getNodeKeyFromKeyContext(Bm),Bl=Bq.updateKeys||[],Bo={act:"dynamicSelection",keyContext:Bm,ctlKey:Bp,nodeKey:Bn,sus:Bq.sus,suc:Bq.suc}
	if(Bq.ignoreTargetData){Bo.partialRetrieval=this.newRetrievalKeysConfig().addNode(this.getNodeKeyFromKeyContext(Bm))
	}else{Bo.partialUpdate={selectors:[Bp].concat(Bl)}
	}if(mstrApp.isDossier){Bo.partialRetrieval={nodes:[Bp]}
	}return Bo
	},getRASelectorExpandAction:function v(Bm){var Bl=Bm.ckey
	return{act:"raSelectorExpandCollapse",keyContext:Bm.ck,ctlKey:Bl,ctlType:Bm.type,elementId:Bm.elementId,isExpand:Bm.isExpand,partialRetrieval:this.newRetrievalKeysConfig().addNode(this.getNodeKeyFromKeyContext(Bm.ck))}
	},getChangeFilteringAction:function BH(Bl,Bo,Bn,Bm){return{act:"changeFiltering",nodeKey:Bl,filterMode:Bo,isUC:Bn,partialRetrieval:{nodes:(Bm?Bj(Bm):[])}}
	},getAddDerivedMetricToDatasetAction:function d(Bl){return{act:"addDerivedMetricToDataset",dsid:Bl.dsid,formula:Bl.formula,isTokenStream:Bl.isTokenStream,name:Bl.name,dsc:Bl.dsc,newObjectIds:Bl.Ids,afb:Bl.afb,sfb:Bl.sfb,mft:Bl.mft}
	},getSetMDXPassThroughOptionsForCMAction:function z(Bl){var Bm={act:"formatDerivedElement",format:AL(Bl.mptf)}
	if(Bl.cid){Bm.cid=Bl.cid
	}if(Bl.ceid){Bm.ceid=Bl.ceid
	}return Bm
	},getEditDocUnitPropAction:function j(Bl){return{act:"editDocUnitProp",dsid:Bl.dsid,formId:Bl.formId,unitId:Bl.unitId,unitType:Bl.unitType,prop:Bl.prop,value:Bl.value}
	},getRWGraphImage:function AJ(Bq,Bu){if(mstrApp.isExpress&&!mstrApp.optimizeFitToPage&&BJ.call(this,this.model.zt)){return 
	}var Bp=mstrApp,Bl=this.id,Bm={taskId:"getRWGraphImage",taskEnv:"xhr",imgType:4,messageID:this.msgId,nodeKey:Bq.k,sliceID:parseInt(Bq.sid,10),width:parseInt(Bq.w,10),height:parseInt(Bq.h,10)}
	var Bn=function(Bw){if(Bw&&Bw.code==BM.MSI_GRAPH_NO_DATA&&Bq.withinInfoWin){return true
	}return false
	}
	if(Bq.needCoordinate){Bm.needCoordinate=1
	}if(Bp.onMobileDevice()&&Bp.useBinaryFormat){window.setTimeout(function(){Ao.call(mstrmojo.all[Bl],Bm,Bu,Al())
	},0)
	}else{if(Bq.encodeImage){Bm.taskContentEncoding="base64"
	delete Bm.taskEnv
	Ao.call(this,Bm,{success:function Bv(Bw){Bu.success(Bw)
	},failure:function Bo(Bw){(Bu.failure||Bp.onerror)(Bw)
	}},Al({skipIServerError:Bn}))
	}else{var Bs=Bp.getConfiguration(),Br=Bp.getCurrentProjectId(),Bt=new mstrmojo.StringBuffer()
	Bm.__ts__=new Date().getTime()
	Bm.sessionState=Bp.getSessionState(Br)
	Ah.forEach(Bm,function(Bw,Bx){Bt.append(Bx+"="+encodeURIComponent(Bw))
	})
	Bu.success(Bs.getTaskUrlByProject(Br)+"?"+Bt.toString("&"))
	}}},getImage:function A5(Bm){var Bn=mstrApp,Bl=Bn.getConfiguration()
	if(Bl&&Bm&&Bm.indexOf("://")===-1){Bm=Bl.getHostUrlByProject(Bn.getCurrentProjectId())+Bm
	}return(mstrApp.useBinaryFormat)?String(mstrMobileApp.getImage(Bm)):Bm
	},setGridDisplayMode:function Af(Bn,Bm,Bo,Bl){Ah.copy(mstrmojo.DocDataService.RAPID_EXEC,Bl)
	this.submitUpdates({act:"setGridDisplayMode",unitKey:Bn,displayMode:Bm},Bo,Bl)
	},setDocZoom:function M(Bl,Bm){this.updatingDocZoom=true
	this.submitUpdates(AY(Bl,{act:"setDocZoom",disablePU:true}),Bm,{style:{params:{treesToRender:3}}})
	},sortGrid:function AH(Bl,Bm){this.submitTemplateUpdates(Bl.nodeKey,AY({act:"sort"},Bl),Bm)
	},getAdvSortData:function o(Bl,Bm){this.rwExecute(AY(Bl,{styleName:"RWGridStyle"}),Bm)
	},getFilterExpression:function R(Bn,Bm){var Bo=Bn&&Bn.expr,Bl=this.model
	if(Bo&&Bl&&Bl.getVfexprWithUpdatedVf){Bo=Bl.getVfexprWithUpdatedVf(Bm,Bo)
	}return AK(Bo)
	},saveViewFilter:function AF(Bq,Br){var Bp=this.msgId,Bl=Bq&&Bq.nodeKeys,Bo=this,Bn=BT.map(Bl,function(Bs){return{act:"saveViewFilter",messageID:Bp,nodeKey:Bs,expr:Bo.getFilterExpression(Bq.filterModel,Bs),partialUpdate:{nodes:[Bs]}}
	}),Bm=BT.map(Bl,function(Bs){return{act:"saveViewFilterLimit",messageID:Bp,nodeKey:Bs,limitExp:Bq.limitExp,limitToRemove:Bq.limitMdxToRemove||[]}
	})
	this.submitUpdates(Bn.concat(Bm),Br)
	},getViewFilter:function f(Bm,Bn){var Bl=this.model
	if(Bl.getViewFilter){Bl.getViewFilter(Bm,Bn)
	}else{Ao.call(this,{taskId:Bm.taskId,rwb:Bm.rwb,msgID:Bm.msgID,nodeKey:Bm.nodeKey},Bn)
	}},createEmbeddedFilter:function H(Bn,Bq){var Bl=Bn.filterId,Bo=Bn.expJson,Bp={act:"createEmbeddedFilter",messageID:this.msgId,expr:Bn.expr,filterId:Bl,filterName:Bn.filterName}
	var Bm=this.model
	p.wrapMethods({success:function(){var Br=Bm.defn.efs||[]
	Br.push({did:Bl,exp:Bo})
	Bm.defn.efs=Br
	}},Bq)
	this.submitUpdates([Bp],Bq,{style:{params:{treesToRender:mstrmojo.DocDataService.EnumTreesToRender.NONE}},params:{suppressData:true}})
	},rwExecute:function P(Bl,Bm){Ao.call(this,AY(Bl,{taskId:"RWExecute",rwb:this.rwb,messageID:this.msgId}),Bm)
	},pivot:function BI(Bl,Bm){this.submitTemplateUpdates(Bl.nodeKey,{act:"pivot",unitId:Bl.unitId,unitType:Bl.unitType,attFormId:Bl.attFormId,axis:Bl.axis,unitPos:Bl.unitPos},Bm)
	},resizeXtabColumn:function Av(Bl,Bm){this.submitUpdates([this.getUpdateTemplateAction(Bl.nodeKey,Bl),{act:"format",unitType:52,unitKey:Bl.nodeKey,formatType:1,format:{FormattingSize:{WidthMode:2}}}],Bm)
	},showTotals:function J(Bl,Bm){this.submitTemplateUpdates(Bl.nodeKey,{act:"showTotals",unitId:Bl.unitId,unitType:Bl.unitType,subtotalType:Bl.subtotalType,clearSubtotalType:Bl.clearSubtotalType},Bm)
	},drillGrid:function Aa(Bl,Bm){this.submitUpdates(this.getDrillGridAction(Bl),Bm,{config:{showProgress:true,hideProgress:true,progressStateText:a,delay:true}})
	},getDrillGridAction:function x(Bm){var Bl={act:"gridDrillWithin",messageID:this.msgId,nodeKey:Bm.nodeKey,sliceId:Bm.sliceId,drillPathIndex:Bm.drillPathIndex,drillPathKey:Bm.drillPathKey,elementList:Bm.drillElements,retainParent:Bm.retainParent,partialUpdate:{nodes:Bj(Bm.updateNodeKey||Bm.nodeKey)}}
	if(Bm.x){Bl.x=Bm.x
	Bl.y=Bm.y
	Bl.graphHeight=Bm.graphHeight
	Bl.graphWidth=Bm.graphWidth
	}return Bl
	},getShowBandingAction:function Ai(Bl){return{act:"showBanding",show:!!Bl}
	},changeDocGroupBy:function U(Bn,Bo,Bl){var Bm={act:"changeDocGroupBy",disablePU:true}
	if(Bn.flags){Bm.flags=Bn.flags
	}if(Bn.groupbyKey){Bm.gbKey=Bn.groupbyKey
	Bm.elemId=Bn.elementId
	}else{Bm.gbUnits=Bn.gbUnits
	}this.sendBrowserInfo=true
	this.submitUpdates(Bm,Bo,{config:Bl,style:{params:{treesToRender:3}}})
	},setOutlineExpanding:function Y(Bp,Bq){var Bn=[],Bo=Bp.xtab,Bm=Bo.node,Bl=function(Br){return{act:"updateTemplate",keyContext:Br,actions:[{act:"setOutlineExpanding",prs:"Template Formatting",pr:"OutlineLevelExpanding",v:Bp.outlineLevel}]}
	}
	Bi.forEachGSI(Bo.gridInfo,function(Br,Bs){Bn=Bn.concat(Bl(Bs))
	},Bm.k||Bm.data.k)
	this.submitUpdates(Bn,Bq,Ah.copy(mstrmojo.DocDataService.RAPID_EXEC,{config:{silent:true},style:{params:{treesToRender:mstrmojo.DocDataService.EnumTreesToRender.BOTH}}}))
	},retrieveServerJson:function AN(Bn,Bv,Bo){if(mstrApp.isExpress&&!mstrApp.optimizeFitToPage&&BJ.call(this,this.model.zt)){return 
	}var Bt={},Bl,Bm,Br
	var Bs=Bn.nodes
	if(Bs){Bt.partialRetrieval=Bs
	}var Bu=Bn.slices
	if(Bu){Bt.slices=Bu
	}if(Bo){Bl=Bo.style
	Bm=Bo.config
	Br=Bo.params
	}if(!Bm){Bm={showProgress:true,hideProgress:true,progressStateText:a}
	}var Bw=Bn.style=Ah.clone(this.defaultStyle),Bq=mstrApp.isAppStatePause&&mstrApp.isAppStatePause()
	AY(Bl.params,Bw.params)
	var Bp={taskId:"getServerJSONResults",styleName:"ServerJsonRWDStyle",compress:1,rwb:this.rwb,messageID:this.msgId,stateID:-1,excludeData:!!(Bq||mstrConfig.resolveOnly),params:JSON.stringify(Bt),treesToRender:Bw.params.treesToRender}
	AY(Br,Bp)
	Bm.preserveUndo=(Bo&&Bo.preserveUndo)||false
	Ao.call(this,Bp,Bv,Bm)
	},downloadGridData:function BL(Bo,Bp){var Bn={act:"gridIncrementalFetch",nodeKey:Bo.nodeKey,rowPosition:Bo.rowPosition,maxRows:Bo.maxRows,colPosition:Bo.colPosition,sliceId:Bo.sliceId,maxColumns:Bo.maxColumns,rowMode:Bo.rowMode||1,partialRetrieval:this.newRetrievalKeysConfig().addNode(Bo.nodeKey)}
	if(Bo.partialUpdate){Bn.partialUpdate=Bo.partialUpdate
	}var Bm=mstrmojo.all[Bo.xtabId],Bl=Bm&&Bm.isCustomSort
	this.submitUpdates(Bn,Bp,Ah.copy(Al(),{noUpdate:true,preserveStid:Bl,config:{silent:true}}))
	},txMarkRows:function Z(Bl,Bm){if(mstrApp&&mstrApp.isNativeAndroid){mstrMobileTransport.applyTransactionMarkRow(Bl.nodeKey,Bl.sliceId,Bl.rowOrdinal,Bl.actionType)
	}else{Ao.call(this,{taskId:"markRow",rwb:this.rwb,nodeKey:Bl.nodeKey,sliceId:Bl.sliceId,rowOrdinal:Bl.rowOrdinal,actionType:Bl.actionType},Bm)
	}},txChangeData:function AA(Bl,Bm){if(mstrApp&&mstrApp.isNativeAndroid){mstrMobileTransport.applyTransactionDataChange(Bl.nodeKey,Bl.sliceId,JSON.stringify(Bl.cells),Bl.autoRefresh)
	}else{Ao.call(this,{taskId:"changeData",rwb:this.rwb,nodeKey:Bl.nodeKey,sliceId:Bl.sliceId,cells:Bl.cells,autoRefresh:Bl.autoRefresh},Bm)
	}},sendTransactionActions:function BG(Bm,Bn){var Bl={taskId:"DocTransaction",rwb:this.rwb,keyContext:Bm.keyContext,actions:Bm.actions,messageID:this.msgId}
	if(Bm.txrcd){Bl.isPending=Bm.txrcd.pending
	Bl.timestamp=Bm.txrcd.timestamp
	}if(mstrApp.isExpress&&(this.model.zt===1||this.model.zt===2)){BQ.call(this,Bl)
	}Ao.call(this,Bl,Bn,{silent:!!Bn})
	},newUpdate:function Am(Bn,Bm){var Bl=new mstrmojo.DocDataService.Update(Bm)
	Bl.ds=this
	Bl.cmd=Bn
	return Bl
	},newUpdateWithoutCmd:function Ab(Bm){var Bl=new mstrmojo.DocDataService.Update(Bm)
	Bl.ds=this
	return Bl
	},newRetrievalKeysConfig:function b(){return new mstrmojo.rw.model.RetrievalKeysConfig()
	},newUpdateKeysConfig:function BK(){return new mstrmojo.rw.model.UpdateKeysConfig()
	},submitCmd:function BS(Bm,Bl){this.newUpdate(Bm,Bl).submit()
	},submitUpdates:function e(Bu,B0,Br){Bu=Bj(Bu)
	if(mstrApp.isVI&&!mstrApp.isDossier&&this.model.controller.isDatasetPanelRefreshAction(Bu)){B0=p.wrapMethods(this.model.getDatasetsUpdateCallback(),B0)
	}this.cleanFormatLayoutXML(Bu)
	var Bq={actions:Bu},Bl,Bo,Bx,Bn=false
	BT.forEach(Bu,function Bt(B2){if(B2.disablePU){Bn=true
	delete B2.disablePU
	}BT.forEach(B2.actions,Bt)
	return !Bn
	})
	if(!Bn){var Bm=mstrmojo.rw.model.RetrievalKeysConfig.getConsolidatedConfig(Bu),Bz=mstrmojo.rw.model.UpdateKeysConfig.getConsolidatedConfig(Bu)
	if(!Ah.isEmpty(Bm)){Bq.partialRetrieval=Bm
	}if(!Ah.isEmpty(Bz)){Bq.partialUpdate=Bz
	}}if(Br){Bl=Br.style
	Bo=Br.config
	Bx=Br.params
	}if(!Bo){Bo={showProgress:true,hideProgress:true,progressStateText:a}
	}if(!Bl){Bq.style=this.defaultStyle
	}else{var B1=Bq.style=Ah.clone(this.defaultStyle)
	AY(Bl.params,B1.params)
	}Bq.style.name=(Bl&&Bl.name)||mstrApp.styleName
	var Bs={taskId:"mojoRWManipulation",rwb:this.rwb,messageID:this.msgId,stateID:-1,params:JSON.stringify(Bq)}
	Bx=BQ.call(this,Bx)
	AY(Bx,Bs)
	Bo.preserveUndo=(Br&&Br.noUpdate)||false
	Bo.preserveStid=(Br&&Br.preserveStid)||false
	var Bw=this,By=true,Bp=p.override({success:function(B2,B3){if(B2.status===2){By=false
	Bw.submitUpdates([],B0,Br)
	}else{By=true
	return this._super(B2,B3)
	}},complete:function(){if(this._super&&By){this._super()
	}}},AY(B0))
	if(!(Br&&Br.hideCancel)){Bo.waitBoxCfg=Ah.copy({showCancel:true},Bo.waitBoxCfg)
	}if(Br&&Br.message){Bo.waitBoxCfg=Ah.copy({message:Br.message},Bo.waitBoxCfg)
	}var Bv=mstrApp.isAppStatePause&&mstrApp.isAppStatePause()
	if(Br&&Br.resolveOnly!==undefined){Bs.resolveOnly=Br.resolveOnly
	}else{if(Bv){Bs.resolveOnly=true
	}}if(Br&&Br.excludeData!==undefined){Bs.excludeData=Br.excludeData
	}else{if(Bv){Bs.excludeData=true
	}}if(Br&&Br.noDeltaXML!==undefined){Bs.noDeltaXML=Br.noDeltaXML
	}if(Bs.resolveOnly&&Bs.excludeData){mstrApp.enableUpdate=true
	}Ao.call(this,Bs,Bp,Bo)
	},submitTemplateUpdates:function C(Bl,Bn,Bo,Bm){this.submitUpdates(this.getUpdateTemplateAction(Bl,Bn),Bo,Bm)
	},getUpdateTemplateAction:function Bd(Bl,Bo,Bm,Bn){return{act:"updateTemplate",keyContext:Bl,partialRetrieval:this.newRetrievalKeysConfig().addNode(Bn||Bl,Bm),partialUpdate:{selectors:Bo.selectors},actions:Bj(Bo)}
	},addUpdateTemplateAction:function u(Bn,Bl,Bm){Bn.addActions(this.getUpdateTemplateAction(Bl,Bm))
	},applySegment:function Bk(Bm,Bl,Bn){Ao.call(this,{taskId:"applySegment",rwb:this.rwb,segmentID:Bm,nodeKey:Bl},Bn)
	},getPageByTree:function n(Bl){mstrApp.serverRequest({taskId:"getPageByTree",msgID:this.msgId},Bl)
	},getUserDICubeInfo:function BC(Bl,Bm){Ao.call(this,{taskId:"getUserDICubeInfo",cubeIds:Bl.join(",")},Bm)
	},applySorts:function AU(Bm,Bn,Bl,Bo){Ao.call(this,{taskId:"applySorts",key:Bm,sortType:Bn,sortList:Bl},Bo,mstrmojo.DocDataService.PROGRESS_CONFIG)
	},getAddNewDerivedMetricToDatasetSubmitFunc:function AV(Bm){var Bl=this
	return function(Bp){var Bq=Bl.model,Bo=Bq.controller,Bn=Ah.copy(Bp,Bm),Br=[A4.call(Bl,Bn,true)],Bs=Bq.getDatasetsUpdateCallback()
	if((Bn.mptf||{}).dirty||this.enablePTO){Br.push(Au(Bn))
	}Bo.submitUndoRedoUpdates(Br,null,Bs,{style:{params:{treesToRender:1}}})
	}
	},getAddNewDerivedMetricToXtabSubmitFunc:function BV(Bm){var Bl=this
	return function(Bq){var Bs=Bl.model,Bu=Bs.controller,Bv=Ah.copy(Bq,Bm),Bt=Bv.nodeKey,By=Bv.host.model,Bw=Bv.idx,Bp=[],Bx=p.wrapMethods(Bs.getDatasetsUpdateCallback(),Bu._getXtabCallback(Bv.host)),Br,Bo=function(Bz){Bp.push(Bl.getUpdateTemplateAction(Bz,[By.getRemoveTemplateUnitAction({did:Bv.replace.did,t:Bv.replace.t})]))
	},Bn=function(Bz){var B0=Bl.getUpdateTemplateAction(Bz,[By.getAddTemplateUnitAction({did:w,t:4},Bv.dsid,Bv.zoneid,Bw,Bv.setIdx)],null,Bv.retrieveKey)
	B0.actions.push(By.getValuesDefaultFormatGridZoneAction([{did:w}],true))
	Bp.push(B0)
	}
	Bp.push(A4.call(Bl,Bv,true))
	if((Bv.mptf||{}).dirty||this.enablePTO){Bp.push(Au(Bv,true))
	}if(Bv.replace){if(BT.isArray(Bt)){for(Br=0
	Br<Bt.length
	Br++){Bo(Bt[Br])
	}}else{Bo(Bt)
	}}else{Bw++
	}if(BT.isArray(Bt)){for(Br=0
	Br<Bt.length
	Br++){Bn(Bt[Br])
	}}else{Bn(Bt)
	}Bu.submitUndoRedoUpdates(Bp,null,Bx)
	}
	},getAddNewDerivedMetricToDropzoneSubmitFunc:function c(Bm){var Bl=this
	return function(Bs){var Bt=Bl.model,Bu=Bt.controller,Bw=Ah.copy(Bs,Bm),By=Bw.host.zonesModel,Bz=Bw.idx,Br=[],Bq,Bn=[],Bx={id:Bw.zoneid},Bv={did:w,t:4},B0=p.wrapMethods(Bt.getDatasetsUpdateCallback(),Bu._getXtabCallback(Bw.host))
	Br.push(A4.call(Bl,Bw,true))
	if((Bw.mptf||{}).dirty||this.enablePTO){Br.push(Au(Bw))
	}if(Bw.replace){var Bp={did:Bw.replace.did,t:Bw.replace.t}
	Array.prototype.push.apply(Bn,By.getRemoveDropZoneUnitActions(Bx,Bp))
	}else{Bz++
	}Bn.push(By.getAddDropZoneUnitAction(Bx,Bv,Bz,{datasetId:Bw.dsid}))
	if(Bw.extraZone){Bn.push(By.getAddDropZoneUnitAction({id:Bw.extraZone.id},Bv,Bw.extraZone.idx,{datasetId:Bw.dsid}))
	}if(!Bw.replace){var Bo=(Bm.zoneid===4)?1:2
	Bq=By.getAddMetricNameAction(Bm.host,Bo)
	if(Bq){Br.push(Bq)
	}}if(!Bw.replace&&By.gmZones){Bq=By.gmZones.getUpdateGroupInfoActionForNewMetric(Bm.zoneid,Bz,true)
	if(Bq){Br.push(Bq)
	}}By.checkAndAddThresholdAction(Bw.zoneid,Bv,Bn)
	Br.push(Bl.getUpdateTemplateAction(Bw.nodeKey,Bn))
	Bu.submitUndoRedoUpdates(Br,null,B0)
	}
	},getEditDerivedMetricSubmitFunc:function h(Bm){var Bl=this
	return function(Bo){var Bp=Bl.model,Br=Bp.controller,Bt=Ah.copy(Bo,Bm),Bq=Bm.nodeKey,Bv=Bm.retrieveKey,Bu={act:"editDM",formula:Bt.tokenStreamXML,isTokenStream:!mstrmojo.string.isEmpty(Bt.tokenStreamXML),afb:Bm.afb,sfb:Bm.sfb,mft:Bm.mft,dsid:Bt.dsid||"",did:Bt.did,dsc:Bt.dsc},Bn=[Bp.addUpdateObjects(Bu,{id:Bt.did,type:B.Metric,flag:mstrmojo.DocDataService.PARTIAL_UPDATE_FLAGS.DATA_CHANGE})],Bw=p.wrapMethods(Bp.getDatasetsUpdateCallback(),Br.getPartialUpdateCallback()),Bs=function(Bx){Bn.push(Bl.getUpdateTemplateAction(Bx,[{act:"renameUnit",id:Bt.did,type:B.Metric,name:Bt.alias,isDynamicAlias:false}],null,Bv))
	}
	if(mstrApp.isSingleTier&&Bm.originTokenStream){Bu.originFormula=Bm.originTokenStream
	Bu.originAfb=Bm.originAfb
	Bu.originSfb=Bm.originSfb
	}if((Bt.mptf||{}).dirty){Bn.push(Au(Bt))
	}if(Bq){if(BT.isArray(Bq)){BT.forEach(Bq,Bs)
	}else{Bs(Bq)
	}}else{Bu.name=Bt.alias
	}Br.submitUndoRedoUpdates(Bn,null,Bw,{style:{params:{treesToRender:mstrmojo.DocDataService.EnumTreesToRender.BOTH}}})
	}
	},resetSelections:function G(Bm,Bl,Bn){Ao.call(this,{taskId:"resetSelections",rwb:this.rwb,unitKeyContext:Bm||"",usePartDisplay:Bl?"0":"1",treesToRender:Bl?3:2},Bn)
	},setPreference:function A6(Bl,Bm){Ao.call(this,{taskId:"setPreference",prefs:Bl},Bm)
	},getObjectInfo:function BP(Bl,Bm){Ao.call(this,AY(Bl,{taskId:"getObjectInfo"}),Bm,Al())
	},addSuppressData:function Aq(Bl){if(BZ(Bl)===mstrmojo.DocDataService.EnumTreesToRender.NONE){Ah.copy({params:{suppressData:true}},Bl)
	}},uploadImageToServer:function(Bn,Bo){var Bm={taskId:"importImage",imageFieldName:"imageData",isEdit:1,fieldKey:Bn.fieldKey,fieldName:Bn.fieldName,imageName:encodeURIComponent(Bn.imageName),imageSize:Bn.imageSize,nodeKey:Bn.nodeKey,sectionKey:Bn.sectionKey,msgID:this.msgId||""}
	if(mstrApp.isSingleTier){var Bl="
	base64,"
	Bm.rwNodeKey=Bn.fieldGroupKey
	Bm.imageData=Bn.base64Str.split(Bl)[1]||Bn.base64Str
	mstrApp.serverRequest(Bm,Bo)
	}else{Bm.imageData=Bn.imageData
	mstrmojo.xhr.upload("POST",mstrConfig.taskURL,Bo,Bm)
	}},cleanFormatLayoutXML:function Az(Bl){BT.forEach(Bl,function(Bo){if(Bo.act==="format"){var Bn=Ah.walk("format.FormattingSize.LayoutXML",Bo),Bm=function(Bp){BT.forEach(Bp,function(Bq){Bm(Bq.children||[])
	Bm(Bq.floatChildren||[])
	delete Bq.id
	})
	return Bp
	}
	Bm(Bn&&Bn.children||[])
	Bm(Bn&&Bn.floatChildren||[])
	}})
	}})
	mstrmojo.DocDataService.Update=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.DocDataService.Update",actions:null,callback:null,extras:null,init:function Bg(Bl){AY(Bl,this)
	this.actions=this.actions||[]
	this.callback=this.callback||{}
	this.extras=this.extras||{}
	},addActions:function A3(Bl){this.actions=this.actions.concat(Bj(Bl))
	},addCallbacks:function Ar(Bl){this.callback=p.wrapMethods(this.callback,Bl)
	},addExtras:function AG(Bm){var Bl=BZ(Bm),Bn=BZ(this.extras)
	this.extras=AY(Bm,this.extras)
	if(Bl!==undefined&&Bn!==undefined){this.extras.style.params.treesToRender|=Bn
	}},addUpdate:function AD(Bl){this.add(Bl.actions,Bl.callback,Bl.extras)
	},setTreesToRender:function E(Bl){if(Bl){this.addExtras({style:{params:{treesToRender:Bl}}})
	}return this.extras.style.params.treesToRender
	},add:function q(Bm,Bn,Bl){if(Bm){this.addActions(Bm)
	}if(Bn){this.addCallbacks(Bn)
	}if(Bl){this.addExtras(Bl)
	}},submit:function At(){var Bm=this.actions,Bn=this.callback,Bl=this.extras
	if(this.cmd){this.cmd.submit(Bm,Bn,Bl)
	}else{this.ds.submitUpdates(Bm,Bn,Bl)
	}}})
	mstrmojo.DocDataService.PUInfoType=null
	mstrmojo.DocDataService.ExtrasType=null
	mstrmojo.DocDataService.PROGRESS_CONFIG={showProgress:true,hideProgress:true,progressStateText:a,delay:true}
	mstrmojo.DocDataService.UNDO_KEY="undo"
	mstrmojo.DocDataService.REQUEST_DEFN_DATA={style:{params:{treesToRender:3}}}
	mstrmojo.DocDataService.REQUEST_ONLY_DEFINITION={style:{params:{treesToRender:1}}}
	mstrmojo.DocDataService.REQUEST_ONLY_DATASETS={style:{params:{treesToRender:0}}}
	mstrmojo.DocDataService.SUPPRESS_DATA={params:{suppressData:true}}
	mstrmojo.DocDataService.RAPID_EXEC={params:{suppressData:true,rapidExec:true}}
	mstrmojo.DocDataService.EMPTY_CALLBACK={success:mstrmojo.emptyFn}
	mstrmojo.DocDataService.CopyMoveDestinationType=null
	mstrmojo.DocDataService.PARTIAL_UPDATE_FLAGS={FORMAT_CHANGE:1,DATA_CHANGE:2}
	mstrmojo.DocDataService.EnumTreesToRender={NONE:0,DEFN:1,DATA:2,BOTH:3}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo.models.template.DataInterface","mstrmojo.chart.model.enums.EnumDSSObjectType","mstrmojo.ui.menus.MenuConfig","mstrmojo.ui.menus.EditorConfig","mstrmojo.Button","mstrmojo.Label","mstrmojo.ui.CheckList","mstrmojo.ui.Pulldown","mstrmojo.models.datasets.DataInterface","mstrmojo.models.template.DataInterface","mstrmojo.vi.viz.EnumDSSDropZones","mstrmojo.vi.models.VIComponentMap","mstrmojo.chart.model.enums.EnumDSSAxisName","mstrmojo.chart.model.enums.EnumDSSDynamicShortcut","mstrmojo.chart.model.enums.EnumDSSXMLAxesBitMap","mstrmojo.mstr.EnumDSSXMLBaseFormType","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.ME.MetricDataService","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo.mstr.EnumDSSConsolidationType","mstrmojo.VisUtility")
	var f=mstrmojo,O=f.array,U=f.hash,Ac=mstrmojo.chart.model.enums.EnumDSSObjectType,j=f.vi.ui.DatasetUnitMenuUtils,Z=mstrmojo.models.datasets.DataInterface,u=mstrmojo.models.template.DataInterface,AX=f.vi.models.VIComponentMap,k=mstrmojo.vi.viz.EnumDSSDropZones,J=mstrmojo.ME.MetricDataService,e="\u001E",AG=mstrmojo.VisUtility,I=1,AV=2,G=3,Ae=4,Q=5,AQ=6,n=7,P=8,AF=9,Ah=10,A=11,AM=12,D="00000000000000000000000000000000",AT=-1,Ap="-1",g=mstrmojo.chart.model.enums.EnumDSSXMLAxesBitMap,AP=mstrmojo.chart.model.enums.EnumDSSAxisName,Ao=mstrmojo.chart.model.enums.EnumDSSDynamicShortcut,S=mstrmojo.mstr.EnumDSSXMLBaseFormType,X=mstrmojo.mstr.EnumDSSXMLObjectTypes,An=mstrmojo.mstr.EnumDSSXMLObjectSubTypes,H=mstrmojo.mstr.EnumDSSConsolidationType,AO={ABSOLUTE:1,NESTED:2,SORT_UNDER:3}
	function Y(Av,Aw){var Ax=this.getGSI(Aw)
	return Ax.cols.concat(Ax.rows).filter(function(Ay){return Ay.t===Av
	})
	}function AJ(Aw,Ay,Ax,Av){return{act:"updateTemplate",keyContext:Aw,partialRetrieval:{nodes:Ax?null:[Aw].concat(Av||[])},actions:Ay}
	}function Ad(Az,Aw,A0,Ax){var A4=this,A1=[],A2=[],A5={}
	if(Aw.useDropzone){Az.useDropzone=true
	A5.dropzoneId=Aw.zone.id
	if(Aw.item.ax!==undefined){A5.ax=Aw.item.ax
	}}A5.position=Aw.idx+1+(A0.offset||0)
	if(A0.replaceSourceId){Az.replaceSourceId=A0.replaceSourceId
	}if(A0.addToTooltip){A2.push({dropzoneId:AF,position:A4.gmZones.getTooltipDropzoneIdx(Aw.item)+1})
	}Az.partialRetrieval={nodes:[Az.nodeKey]}
	if(Ax){Az.partialRetrieval.nodes=Az.partialRetrieval.nodes.concat(Ax)
	}A2.push(A5)
	Az.dropzones=A2
	A1.push(Az)
	var A3="$GUID_115",Av=[],Ay=this.checkAndAddThresholdAction(Aw.zone.id,{did:A3,t:4},Av)
	if(Ay){Az.newObjectIds=[A3]
	A1.push(this.getUpdateTemplateAction(Av))
	}return A1
	}function Au(Ay){var Av=this.getHost().model.data.datasetId,Ax=O.ensureArray(Ay),Aw=O.hash(Ax)
	if(!Av){U.forEach(this.docModel.datasets,function(A1,A2){var Az=(A1.att||[]).concat(A1.mx||[]),A0=Az.some(function(A3){return Aw[A3.did]
	})
	if(A0){Av=A2
	return false
	}})
	}return Av
	}function Ai(Av,Az,Aw){var A4=this,BA=this.docModel,A2=Av.item,A8=j.getUnitFromDataset(A4.docModel.datasets,A2.did,A2.t)||A2,BB=this.getHost(),A7=A4.docModel.getDataService(),A0=Az==="edit",A6=BB.getChartStyle&&BB.getChartStyle()==="NewGraphMatrixVisualizationStyle",Ax,Ay={dsid:A0?BA.findDatasetIdFromUnit(A8.did):Au.call(A4,A8.did),alias:A8.alias||A8.n},A9=null,A3=BB.zonesModel,A1=A3.getHostKey(Av,true),A5=BB.k
	if(A8.t===X.Metric){Ay.nodeKey=A1
	Ay.retrieveKey=A5
	if(A0){Ax={metricId:A8.did,metric:A8,action:{cmd:Az,n:A8.n,alias:A2.n}}
	Ay.did=A8.did
	A9=A7.getEditDerivedMetricSubmitFunc(Ay)
	}else{Ax={metricId:"",action:{cmd:Az,refOi:{did:A8.did,n:A8.n}}}
	Ay.idx=Av.idx
	Ay.host=BB
	Ay.zoneid=Av.zone.id
	if(A6){Ay.extraZone={id:AF,idx:A4.gmZones.getTooltipDropzoneIdx(Av.item)}
	}if(Aw){Ay.replace={did:A8.did,t:A8.t}
	}if(Av.useDropzone){A9=A7.getAddNewDerivedMetricToDropzoneSubmitFunc(Ay)
	}else{A9=A7.getAddNewDerivedMetricToXtabSubmitFunc(Ay)
	}}if(A4.docModel.isFromSolrCube(A8.did)||A4.docModel.isFromMDXCube(A8.did)){Ax.disableAFB=true
	}A4.docModel.controller.openDME(BB,Ax,A9)
	}}mstrmojo.vi.models._DropZoneCommon=mstrmojo.provide("mstrmojo.vi.models._DropZoneCommon",{_mixinName:"mstrmojo.vi.models._DropZoneCommon",isMetric:function m(Av){return Av&&Av.t===X.Metric&&Av.id!==D
	},isAttribute:function AR(Av){return Av&&Av.t===X.Attribute
	},isRecursiveAttribute:function d(Av){return Av&&Av.t===X.Attribute&&Av.st===An.AttributeRecursive
	},isNewDerivedElement:function AY(Av){return Av.t===X.Consolidation&&Av.st===An.ConsolidationManaged
	},isNewDerivedRecursiveElement:function AY(Av){return Av.t===X.Consolidation&&Av.st===An.ConsolidationManaged&&Av.ndetype===H.DssRecursiveDerivedElement
	},isConsolidation:function Am(Av){return Av.t===X.Consolidation&&Av.st===An.Consolidation
	},isCustomGroup:function C(Av){return Av.t===X.Filter
	},isAttrCategory:function a(Av){return Av&&(Av.t===X.Attribute||Av.t===X.Filter||Av.t===X.Consolidation||Av.t===X.Dimension)
	},isMetricName:function Ag(Av){return Av&&(Av.id===D||Av.did===D)
	},differInType:function W(Aw,Av){return(this.isMetric(Aw)&&this.isAttrCategory(Av))||(this.isAttrCategory(Aw)&&this.isMetric(Av))
	},isDynamicLink:function K(Aw){if(this.isAttribute(Aw)){var Av=Aw.fs||Z.getFormsByAttrId(Aw.did,this.docModel.datasets)
	return Av.length===2&&Av[1].bftp===S.DssXmlBaseFormHTMLTag&&Av[1].fnm==="DYNAMICLINK"
	}return false
	},hasOldDEOverDatasets:function(Ay){var Ax=this.docModel.datasets,Aw=false,Av
	U.forEach(Ax,function(Az){Av=O.find((Az.att||[]),"did",Ay)
	if(Av!==-1&&Az.att[Av].de){Aw=true
	return false
	}})
	return Aw
	},getZoneModelByZoneId:function(Av){var Aw=this.dropZones,Ax
	if((!Aw||!Aw.length)&&typeof this.getDropZones==="function"){Aw=(this.getDropZones()||{}).zones
	}O.forEach(Aw,function(Ay){if(Ay.id===Av){Ax=Ay
	return false
	}})
	return Ax
	},hGetItemOccurrence:function(Az,A1){A1=A1||[]
	if(A1.length===0){A1=[I,AV,G,Ae,n,Q,P,AF,AQ,Ah]
	}var Ax,Av,Aw,A0=A1.length,Ay=[]
	for(Ax=0
	Ax<A0
	Ax++){Aw=this.getZoneModelByZoneId(A1[Ax])
	if(!Aw){continue
	}Av=this.getUnitIndexInZone(Aw,Az)
	if(Av!==-1){Ay.push({zoneId:A1[Ax],itemIndex:Av})
	}}return Ay
	},removeColorByItemFromBreakByIfExists:function AN(Ay,A0){var Az,Ax,Av,Aw
	Az=this.hGetItemOccurrence(Ay,[I,AV,G,Ae,Q,P,AQ])
	if((Az.length===1)&&(Az[0].zoneId===Q||Az[0].zoneId===AQ)){Ax=Az[0]
	Av=this.getZoneModelByZoneId(Ax.zoneId)
	Aw=Av.items[Ax.itemIndex]
	if(Aw.hidden){Array.prototype.push.apply(A0,this.getRemoveDropZoneUnitActions(Av,Aw))
	}}},updateBreakByAndSliceUnits:function q(){var Av=this,Ax=[I,AV,G,Ae,n,P,A,AM],Aw=this.getZoneModelByZoneId(AQ)||this.getZoneModelByZoneId(Q),Ay
	Aw.items.forEach(function(Az){if(Av.isAttrCategory(Az)||Av.isMetricName(Az)){Ay=Av.hGetItemOccurrence(Az,Ax)
	if((Ay.length===1)&&(Ay[0].zoneId===n)){Az.hidden=true
	}}})
	},getAxisSummary:function AZ(){var Av={}
	Av[G]=this.getItemCountInZone(G)
	Av[Ae]=this.getItemCountInZone(Ae)
	Av[Ah]=this.getItemCountInZone(Ah)
	return Av
	},getItemCountInZone:function(Av){var Aw=this.getZoneModelByZoneId(Av)
	if(Aw){return Aw.items.length
	}return 0
	},isOnlyMetricZone:function l(Av){var Ax,Az,Ay,Aw=this.getZoneModelByZoneId(Av)
	if(!Aw){return false
	}Ay=Aw.items
	Az=Ay.length
	if(Az===0){return false
	}for(Ax=0
	Ax<Az
	Ax++){if(!this.isMetric(Ay[Ax])){return false
	}}return true
	},isMetricZone:function AI(Av){var Ax,Az,Ay,Aw=this.getZoneModelByZoneId(Av)
	if(!Aw){return false
	}Ay=Aw.items
	Az=Ay.length
	if(Az===0){return false
	}for(Ax=0
	Ax<Az
	Ax++){if(!this.isMetric(Ay[Ax])){if(this.isMetricName(Ay[Ax])){continue
	}else{return false
	}}}return true
	},getMetricCntInZone:function(Av){var Ax=this,Aw=this.getZoneModelByZoneId(Av),Az=Aw.items,Ay=0
	O.forEach(Az,function(A0){if(Ax.isMetric(A0)){Ay++
	}})
	return Ay
	},isAttrCategoryZone:function(Av){var Ax,Az,Ay,Aw=this.getZoneModelByZoneId(Av)
	if(!Aw){return false
	}Ay=Aw.items
	Az=Ay.length
	if(Az===0){return false
	}for(Ax=0
	Ax<Az
	Ax++){if(!this.isAttrCategory(Ay[Ax])&&!this.isMetricName(Ay[Ax])){return false
	}}return true
	},getZoneSummary:function AW(Av){var Ay=this,Aw=this.getZoneModelByZoneId(Av),A0=Aw?Aw.items:[],Az=0,A1=0,Ax=false
	O.forEach(A0,function(A2){if(Ay.isMetric(A2)){Az++
	}else{if(Ay.isAttrCategory(A2)){A1++
	}else{if(Ay.isMetricName(A2)){Ax=true
	}}}})
	return{metricCount:Az,attributeCount:A1,hasMetricName:Ax}
	},isTemplateContainAttCategoryItem:function Ab(){var Ay=this,Ax=Ay.getHost(),Az=Ax.model.data.gsi,Aw=(Az.rows||[]).concat(Az.cols||[]),Av=false
	if(Aw&&Aw.length){O.forEach(Aw,function(A0){if(Ay.isAttrCategory(A0)){Av=true
	return false
	}})
	}return Av
	},showNumberFormat:function(Av){return mstrmojo.all[this.hostId].model.showNumberFormat(Av)
	},renameItem:function(Aw,Av){var Ax=this.id
	j.renameItem(Aw,Av,function(A3){var A5=mstrmojo.all[Ax],Ay=Av.setIdx,A8=A5.getHost(),A9=A8.hasArrayGSI,A2=u.getGSI(A5.getHostModel().gsi,Math.max(Ay,0)||0),Az=A9&&Ay>-1?A2.k:A8.k,A4=A3.allowTrimming?A3.text.trim():A3.text,BA=Av.t===X.Metric,A1=BA?A2.mx:A2.rows.concat(A2.cols),A7=function(){var BD=[],BC=A5.docModel.getPanel(),BE,BG
	O.forEach(BC.children,function(BH){if((BH.isAMSelector instanceof Function)&&BH.isAMSelector()){BE=U.walk("defn.tks",BH)
	BE=BE&&BE.split(e)
	BG=BE&&BE[0]
	if(BG===A8.k){BD.push(BH.k)
	}}})
	var BF=[],BB={act:"renameUnit",id:Av.did,type:Av.t,name:A4,isDynamicAlias:false}
	if(A9&&Ay===-1){u.forEachGSI(A8.gridData.gsi,function(BH,BI){BF.push(AJ(BI,[BB],false,BD))
	})
	}else{BF.push(AJ(Az,[BB],false,BD))
	}A5.submitDropZoneUpdates(BF)
	},A0=function(){A3.set("text",Av.n)
	},A6=A1.some(function(BB){return BB.did!==Av.did&&(BA||BB.t===Av.t)&&BB.n===A4
	})
	if(A6){mstrmojo.warn(mstrmojo.desc(11664,'"##" already exists in the visualization. Do you want to proceed?').replace("##",A4),{confirmBtn:{fn:A7},cancelBtn:{fn:A0}})
	}else{A7()
	}},{allowEmptyText:true,cssClass:Aw.className})
	},getPageByUnit:function Aq(){var Aw=this.getHost(),Av=Aw.builder.getLayoutVIMap(Aw.defn._lkz).getComponent(AX.TYPES.PAGEBY_PANEL)
	return Av&&Av.unit
	},shouldShowDisplayFormsMenu:function F(Ay){if(!mstrmojo.resolveFeature("set-attributeform-display")||!this.isAttribute(Ay)&&!this.isNewDerivedRecursiveElement(Ay)||this.isDynamicLink(Ay)){return false
	}var Av=Z.getFormsByAttrId(Ay.attId||Ay.did,this.docModel.datasets),Az=this.getHost().model.data,Aw=Az&&Az.gts,Ax=!!Aw&&Av.length>1
	if(Aw&&Av.length===1){var A0=false
	O.forEach((Aw.row||[]).concat(Aw.col||[]),function(A1){if(A1.id===Ay.did&&O.find(A1.fs||[],"id",Av[0].fid)>-1){A0=true
	return false
	}})
	if(!A0){Ax=true
	}}return Ax
	},getDisplayFormsMenu:function(Aw){var Av=this
	return j.getDisplayFormsMenu(Aw,Av.getHost(),Av.docModel.datasets,function(Ax){Av.submitDropZoneUpdates(Ax)
	})
	},editDerivedMetric:function(Av){Ai.call(this,Av,"edit")
	},newDerivedMetric:function(Aw){var Av=mstrmojo.all[this.hostId].zonesModel.allowInsertNewMetric(Aw.zone)
	if(Aw.zone.id===n){Av=false
	}Ai.call(this,Aw,"editNew",!Av)
	},newDerivedAttribute:function h(A1,Ax){var A2=A1.item,A0=j.getUnitFromDataset(this.docModel.datasets,A2.did,A2.t)||A2,Az=this.getHost(),Aw=Az.getChartStyle&&Az.getChartStyle()==="NewGraphMatrixVisualizationStyle",Ay=this,Av={forceRefresh:true,alias:"New Attribute",precreate:function(A6){var A5=Ay.getGSI(A1),A4=Az.k
	if(Az.hasArrayGSI){A4=A5.k
	}if(Ay.getAddItemActions){var A3=Ay.getAddItemActions(A1.zone,[{did:"$GUID_1",t:12}])
	A6.newObjectIds=["$GUID_1"]
	if(Ax){A3=Ay.getRemoveDropZoneUnitActions(A1.zone,A0).concat(A3)
	}A6=[A6,{act:"updateTemplate",keyContext:A4,actions:A3}]
	}else{A6=U.copy({act:"addDAToTemplate",nodeKey:A4,treeType:Az.defn.tt},A6)
	if(A1.useDropzone){A6.useDropzone=true
	A6.dropzones=[{dropzoneId:A1.zone.id,position:0}]
	if(A1.item.ax!==undefined){A6.dropzones[0].ax=A1.item.ax
	}if(Ax){A6.dropzones[0].replaceSourceId=A0.did
	}}else{A6.axis=A1.axis
	}if(Aw){A6.dropzones.push({dropzoneId:AF,position:Ay.getTooltipDropzoneIdx(A1.item)+1})
	}}return A6
	}}
	this.docModel.controller.openDAE(this,Av,mstrmojo.emptyFn,A0)
	},newDynamicLinkAttr:function AH(A0,Aw){var A1=A0.item,Az=j.getUnitFromDataset(this.docModel.datasets,A1.did,A1.t)||A1,Ay=this.getHost(),Ax=this,Av={forceRefresh:true,alias:"New Link",precreate:function(A5){var A4=Ax.getGSI(A0),A3=Ay.k
	if(Ay.hasArrayGSI){A3=A4.k
	}if(Ax.getAddItemActions){var A2=Ax.getAddItemActions(A0.zone,[{did:"$GUID_1",t:12}])
	A5.newObjectIds=["$GUID_1"]
	if(Aw){A2=Ax.getRemoveDropZoneUnitActions(A0.zone,Az).concat(A2)
	}A5=[A5,{act:"updateTemplate",keyContext:A3,actions:A2}]
	}else{A5=U.copy({act:"addDAToTemplate",nodeKey:A3,treeType:Ay.defn.tt},A5)
	if(A0.useDropzone){A5.useDropzone=true
	A5.dropzoneId=A0.zone.id
	if(A0.item.ax!==undefined){A5.ax=A0.item.ax
	}if(Aw){A5.replaceSourceId=Az.did
	}}else{A5.axis=A0.axis
	A5.pos=A0.idx+2
	}}return A5
	}}
	this.docModel.controller.openDynamicLinkEditor(this,Av,mstrmojo.emptyFn,Az)
	},editDerivedAttribute:function(Ay){var Ax=this.getHost(),A1=Ax.gridData&&Ax.gridData.gsi,A0=Ay.item,Aw=j.getUnitFromDataset(this.docModel.datasets,A0.did,A0.t)||A0,Az=this.docModel.findDatasetIdFromUnit(Aw.did),Av={dsid:Az,did:Aw.did,n:Aw.n,alias:A0.n,forms:Aw.fs,preupdate:function(A4){var A2=A4.name,A3=[{act:"renameUnit",id:Aw.did,type:12,name:A2}]
	A4.name=Aw.n
	A4=[A4,AJ(Ax.getTemplateKey(),A3,true)]
	if(Ax.hasArrayGSI&&A1){u.forEachGSI(A1,function(A6,A7,A5){if(A5===0){return true
	}A4.push(AJ(A7,A3,true))
	})
	}return A4
	}}
	if(this.isDynamicLink(A0)){this.docModel.controller.openDynamicLinkEditor(this,Av,mstrmojo.emptyFn)
	}else{this.docModel.controller.openDAE(this,Av,mstrmojo.emptyFn)
	}},getTemplateAttributes:function p(Av){return Y.call(this,12,Av)
	},getTemplateHierarchies:function b(Av){return Y.call(this,14,Av)
	},getTemplateDEs:function Ak(Av){var Aw=this.getGSI(Av)
	return Aw.cols.concat(Aw.rows).filter(function(Ax){return Ax.st===An.ConsolidationManaged
	})
	},getUnitInfoInTemplate:function w(Aw){var Ax={},Av=this.getHost().model.data.gts
	[{axis:I,name:"row"},{axis:AV,name:"col"}].forEach(function(Ay){O.forEach(Av[Ay.name],function(A0,Az){if(A0.id===Aw){Ax.axis=Ay.axis
	Ax.axisName=Ay.name
	Ax.tplIdx=Az
	Ax.unit=A0
	return false
	}})
	})
	return Ax
	},sortGrid:function AC(A8,A3,Av){var A9=this.getHost(),Ax=Av&&Av.breakByType,A0=Av&&Av.breakByAttribute,A2=A8.t,A6=A8.did,Aw=null,A5,BA=I,Az=null,A1=[]
	if(A2===Ac.DssTypeMetric){var A4=U.walk("model.data.gts.col",A9)||[]
	BA=O.find(A4,"otp",-1)>-1?I:AV
	Az=["","","",BA]
	if(Ax){A1.push(Ax)
	if(Ax===AO.SORT_UNDER){A1=A1.concat([A0.did,A0.t])
	}}}else{Aw=this.getUnitInfoInTemplate(A8.did)
	BA=Aw.axis
	if(A9.zonesModel.isDynamicLink(A8)){A5="45C11FA478E745FEA08D781CEA190FE5"
	}else{A5=Aw.unit.fid||(Aw.unit.fs&&Aw.unit.fs[0].id)
	}Az=[A5,"21","",BA]
	}var Ay=A9.model.data.gts[(BA===I?"row":"col")+"SubPos"],A7=(A9.hasArrayGSI&&A8.setIdx>-1)?this.getSetData(A8.setIdx).k:undefined
	A9.controller.onSort(A9,A9.model.getSortGridAction(Ay,[A2,A6].concat(Az).join("!"),BA,A3,{columnSetKey:A7,metricSortKey:A1.join("!")}))
	},addSortMenu:function c(A8,A1,BQ,Av){var A6=this,Ay=this.getHost(),BF=A8.item,BB=A8.axis,BU=Ay.model,BS=BU.data,Aw=BS.gts,A9=this.getGSI(A8),A0=A9.tma,BK=this.isMetric(BF),BE=BK?A0===I:BB===I,BJ=BE?A9.rows:A9.cols,BN=U.copy(BF),A7=BF.did,BO=O.some(A9.cols.concat(A9.rows),function(BV){return BU.isRecursiveAttribute(BV.did)
	})
	if(BF.t===Ac.DssTypeFilter){return 
	}if(BF.t===Ac.DssTypeDimension){O.forEach((Aw.row||[]).concat(Aw.col||[]),function(BV){if(BV.hid===BN.did){BN.did=BV.id
	BN.t=BV.otp
	return false
	}})
	}var BA=true,BL
	if(BK){BL=!!O.filterOne(BJ,function(BV){return BV.did!==Ap
	})
	if(BL){BA=false
	}}if(BA){var BT=BE?[]:A9.rows,BH=((BE&&BK)||(!BE&&!BK)?AV:I)-1,BP=A9.sorts&&A9.sorts.length>BH?A9.sorts[BH]:[],BG=false,Az=false,BC=false,BI=false,BD=-1,BM=O.filterOne(BP||[],function(BX,BV){var BW=BX.key.split("!")
	if(BW.length>1&&BW[1]===A7){BD=BV
	return true
	}return false
	}),A2,Ax,A3,A4
	if(BM){switch(BM.isAsc){case true:BG=true
	break
	case false:Az=true
	break
	default:BC=true
	A4=AO.NESTED
	}A2=BM.metricSortKey&&BM.metricSortKey.split("!")
	if(A2&&A2.length){A3=parseInt(A2[0],10)
	Ax=A2[1]
	BI=(A3===AO.SORT_UNDER)
	}}else{A4=AO.NESTED
	}if(Ay.isVIXtab&&BK&&!BO){A1.addMenuItem({ttp:mstrmojo.desc(7974,"Sort Ascending")},"xt btn asc"+(BG?" on":""),function(){A6.sortGrid(BN,true,{breakByType:A3||A4,breakByAttribute:(Ax?{did:Ax,t:A2[2]}:undefined)})
	})
	A1.addMenuItem({ttp:mstrmojo.desc(7975,"Sort Descending")},"xt btn desc"+(Az?" on":""),function(){A6.sortGrid(BN,false,{breakByType:A3||A4,breakByAttribute:(Ax?{did:Ax,t:A2[2]}:undefined)})
	})
	if(BM){A1.addMenuItem({ttp:mstrmojo.desc(11699,"Clear Sort")},"xt btn clr",function(){var BV=[]
	BP.splice(BD,1)
	BV[BH]=BP
	Ay.controller.onClearSort(Ay,BV)
	})
	}A1.addSeparator()
	A1.addMenuItem(mstrmojo.desc(17812,"Sort Within (Default)"),"xt"+(A3===AO.NESTED?" on":""),function(){A6.sortGrid(BN,BG,{breakByType:AO.NESTED})
	},BN)
	A1.addMenuItem(mstrmojo.desc(17813,"Sort All Values"),"xt"+(A3===AO.ABSOLUTE?" on":""),function(){A6.sortGrid(BN,BG,{breakByType:AO.ABSOLUTE})
	},BN)
	if(BT.length>1){A1.addPopupMenuItem(mstrmojo.desc(17811,"Sort Within an Attribute"),BN.id,function(){var BV=new mstrmojo.ui.menus.MenuConfig({isHostedWithin:false,alignWithAnchor:true})
	O.forEach(BT,function(BY,BX,BW,BZ){if(!BZ){BV.addMenuItem(BY.n,"xt"+(BI&&Ax===BY.did?" on":""),function(){A6.sortGrid(BN,BG,{breakByType:AO.SORT_UNDER,breakByAttribute:BY})
	},BN)
	}else{BV.addMenuItem(BY.n,"xt sort non-int disabled"+(BI&&Ax===BY.did?" on":""),mstrmojo.emptyFn)
	}})
	return BV
	})
	}if(Ay.hasSubtotal()){A1.addMenuItem(mstrmojo.desc(19388,"Sort with Subtotals"),"xt"+(BM&&!BC&&!A2?" on":""),function(){A6.sortGrid(BN,BG)
	})
	}}else{A1.addMenuItem(mstrmojo.desc(7974,"Sort Ascending"),"xt"+(BG?" on":""),function(){A6.sortGrid(BN,true)
	})
	A1.addMenuItem(mstrmojo.desc(7975,"Sort Descending"),"xt"+(Az?" on":""),function(){A6.sortGrid(BN,false)
	})
	}if(Ay.isVIXtab&&BU.isRecursiveAttribute(A7)&&mstrApp&&mstrApp.isAppStateDefault()&&!mstrApp.isDossier){A1.addMenuItem(mstrmojo.desc(15676,"Custom Sort..."),"xt"+(BC?" on":""),function(){if(Ay.customSort){Ay.customSort(O.filterOne(Aw.col.concat(Aw.row),function(BV){return BV.id===A7
	}),BB)
	}})
	}}if(BQ){if(!Ay.excludeData&&(Ay.supportAdvancedSort?Ay.supportAdvancedSort():!Ay.hasArrayGSI)){A1.addMenuItem(mstrmojo.desc(11099,"Advanced Sort..."),"xt",function(){if(BB===AT){BB=A0
	}Ay.controller.onGetAdvSortData(Ay,BB,BN.t,Av)
	})
	}}else{var A5=A9.sorts.some(function(BV){return !!BV.length
	}),BR=mstrmojo.desc(11699,"Clear Sort")
	if(A5){A1.addMenuItem(BR,"",function(){A6.submitDropZoneTemplateUpdates([{act:"clearSort"}])
	})
	}}},convertToMetric:function x(A1){var A0=this.getHost(),Av=A0.model&&A0.model.data&&A0.model.data.datasetId,Ax=A0.k,Az=A0.defn.tt,Ay=A1.item
	if(!Av){mstrmojo.hash.forEach(this.docModel.datasets,function(A3,A4){if(mstrmojo.array.find((A3.att||[]),"did",Ay.did)!==-1){Av=A4
	return false
	}})
	}var Aw=mstrmojo.mstr.EnumFunction,A2=Ad.call(this,{act:"addShortcutMetric",nodeKey:Ax,treeType:Az,funcType:Ay.formType===2?Aw.FunctionSum:Aw.FunctionCount,units:[{id:Ay.did,type:Ay.t}],prs:[{n:"UseLookupForAttributes",v:"0"}],dsid:Av,replaceSourceId:Ay.did},A1)
	this.submitActionForDatasetUpdate(A2)
	},getAddMetricNameAction:function(A4,A0){if(!this.gmZones){return null
	}var A2=this,Aw=0,A1=false,Az,Av=A2.gmZones.getZoneModelByZoneId((A0===I)?Ae:G),A3={n:"Metric Names",did:D,t:0},Ay=U.clone(A3),Ax=A2.gmZones.hGetItemOccurrence(Ay,[I,AV,G,Ae,n])
	O.forEach(Av.items,function(A5){if(A2.isMetric(A5)){Aw++
	}})
	if(Ax.length===0&&Aw<=1){A1=true
	}if(A1){Az={act:"updateTemplate",keyContext:A4.k,actions:A2.gmZones.getUpdateMetricNameUnitActions(A1,A0)}
	}return Az
	},getAggregateByMetricSubMenu:function(Ax){var A1=this,A0=Ax.item,A6=j.getUnitFromDataset(this.docModel.datasets,A0.did,A0.t)||A0,Aw=this.id,A7=this.getHost(),Az=A7.k,A3=Az,Ay=A7.defn.tt,A2=this.submitActionForDatasetUpdate,A4=A7.getChartStyle&&A7.getChartStyle()==="NewGraphMatrixVisualizationStyle",Av=this.getSetIdx(Ax)
	if(A7.hasArrayGSI&&Av>-1){var A5=this.getGSI(Ax)
	Az=A5.k
	}return j.getAggregateByMenu(A6,function(BD,BB){var BA=A1.allowInsertNewMetric(Ax.zone),BF=[]
	if(Ax.zone.id===n){BA=false
	}if(BA&&Ax.useDropzone&&A1.gmZones){var BE=A1.gmZones.getZoneModelByZoneId((Ax.zone.id===Ae)?I:AV)
	var BC=A1.getAddMetricNameAction(A7,BE.id)
	if(BC){BF.push(BC)
	}BC=A1.gmZones.getUpdateGroupInfoActionForNewMetric(Ax.zone.id,Ax.idx+1,A0.ax===0)
	if(BC){BF.push(BC)
	}}var A9=[]
	if(J.isFuncHasUseLookupForAttributeProp(BB)){A9=[{n:"UseLookupForAttributes",v:"0"}]
	}var A8=function(BG){BF=BF.concat(Ad.call(A1,{act:"addShortcutMetric",dsid:Au.call(A1,A6.did),nodeKey:BG,treeType:Ay,funcType:BB,units:[{id:BD.did,type:BD.t}],prs:A9},Ax,{offset:BA?1:0,replaceSourceId:BA?null:A6.did,addToTooltip:A4},[A3]))
	}
	if(A7.hasArrayGSI&&Av===-1){A8(A7.gridData.sortIndex)
	}else{A8(Az)
	}A2.call(mstrmojo.all[Aw],BF)
	})
	},getCalculationEditorCfg:function Af(Aw){var A1=this,A7=this.getHost(),A0=this.submitActionForDatasetUpdate.bind(this),Az=A7.k,A2=Az,A4=this.getGSI(Aw),Ax=A7.defn.tt,A6=A1.allowInsertNewMetric(Aw.zone),Ay=[],A3=A7.getChartStyle&&A7.getChartStyle()==="NewGraphMatrixVisualizationStyle"
	if(A7.hasArrayGSI){Az=A4.k
	}if(Aw.zone.id===n){A6=false
	}var Av=A4.mx
	if(U.walk("model.data.trendref",A7)){var A5=U.walk("model.data.dz",A7)
	Av=AG.filterTrendlineMXByDZ(Av,A5)
	}return j.getCalculationMetricEditor(Av,Aw.item,function(A9,A8,BD,BA){if(A6&&Aw.useDropzone&&A1.gmZones){var BC=A1.gmZones.getZoneModelByZoneId((Aw.zone.id===Ae)?I:AV)
	var BB=A1.getAddMetricNameAction(A7,BC.id)
	if(BB){Ay.push(BB)
	}BB=A1.gmZones.getUpdateGroupInfoActionForNewMetric(Aw.zone.id,Aw.idx+1,Aw.item.ax===0)
	if(BB){Ay.push(BB)
	}}A0(Ay.concat(Ad.call(A1,{act:"addShortcutMetric",dsid:Au.call(A1,Aw.item.did),nodeKey:Az,treeType:Ax,funcType:BD,funcType2:BA,units:[A9,A8]},Aw,{offset:A6?1:0,replaceSourceId:A6?null:Aw.item.did,addToTooltip:A3},[A2])))
	})
	},submitAddShortcutMetric:function(A1,BF){var BH=this,A9=BH.id,A6=this.getHost(),Aw=A6.k,Ay=A6.defn.tt,BI=BH.submitActionForDatasetUpdate,BC=BH.allowInsertNewMetric(A1.zone),A3=[],A7=A6.getChartStyle&&A6.getChartStyle()==="NewGraphMatrixVisualizationStyle"
	if(A1.zone.id===n){BC=false
	}if(BC&&A1.useDropzone&&BH.gmZones){var A0=BH.gmZones.getZoneModelByZoneId((A1.zone.id===Ae)?I:AV)
	var BB=BH.getAddMetricNameAction(A6,A0.id)
	if(BB){A3.push(BB)
	}BB=BH.gmZones.getUpdateGroupInfoActionForNewMetric(A1.zone.id,A1.idx+1,A1.item.ax===0)
	if(BB){A3.push(BB)
	}}var BD=BF.item,A4=BF.extraItem,BG=BF.funcType,Ax=BF.funcType2,A2=BF.breakBys,Av=BF.sortBys,Az=BF.prs,BA=[{id:BD.did,type:BD.t}],A8,A5=A6.k
	if(A4){BA.push(A4)
	}if(A6.hasArrayGSI){var BE=this.getGSI(A1)
	Aw=BE.k
	}A8={act:"addShortcutMetric",dsid:Au.call(BH,BD.did),nodeKey:Aw,treeType:Ay,funcType:BG,units:BA,breakBys:A2,sortBys:Av}
	if(Ax){A8.funcType2=Ax
	}if(Az){A8.prs=Az
	}if(J.isFuncHasUseLookupForAttributeProp(BG)){A8.prs=A8.prs||[]
	A8.prs.push({n:"UseLookupForAttributes",v:"0"})
	}A3=A3.concat(Ad.call(BH,A8,A1,{offset:BC?1:0,replaceSourceId:BC?null:BD.did,addToTooltip:A7},[A5]))
	BI.call(mstrmojo.all[A9],A3)
	},getDynamicBreakByAxisOptions:function r(Ax,Az){var Ay=this,A0=this.getGSI(Az),Av=[],Aw=function Aw(A1){return A1.some(function(A2){return Ay.isAttribute(A2)||Ay.isNewDerivedElement(A2)||Ay.isCustomGroup(A2)||Ay.isConsolidation(A2)
	})
	}
	if(Aw(A0.rows)){Av.push({n:Ax?mstrmojo.desc(3326,"By Columns"):mstrmojo.desc(122,"Columns"),axes_bitmap:g.DssXmlAxisRowsBit,dmy:"@cols"})
	}if(Aw(A0.cols)){Av.push({n:Ax?mstrmojo.desc(3327,"By Rows"):mstrmojo.desc(2968,"Rows"),axes_bitmap:g.DssXmlAxisColumnsBit,dmy:"@rows"})
	}return Av
	},getBreakByAxisOptions:function o(Aw,Ax){var Av=[{n:mstrmojo.desc(4531,"Automatic"),axes_bitmap:AP.DssAxisDynamicShortcutRoot+Ao.DssDynamicShortcutAuto,dmy:"@auto"},{n:Aw?mstrmojo.desc(13408,"By None"):mstrmojo.desc(2057,"None"),axes_bitmap:g.DssXmlAxisPagesBit,dmy:"@p"}]
	if(Aw){Av.splice(1,0,{isSeparator:true})
	}return Av.concat(this.getDynamicBreakByAxisOptions(Aw,Ax))
	},getBreakByAttributeOptions:function E(Aw){var Av=this,Ax=[],Az=Av.getTemplateAttributes(Aw).concat(Av.getTemplateDEs(Aw)),Ay=Av.getPageByUnit()
	Ax=Ax.concat(Az)
	if(Ay&&Ay.srcid){if(O.find(Ax,"did",Ay.srcid)===-1){Ax.push({n:Ay.n,did:Ay.srcid,t:Ay.srct})
	}}return Ax
	},getDynamicBreakByOptions:function AK(Av,Ax){var Aw=this,Ay=Aw.getBreakByAttributeOptions(Ax)
	if(Av&&Ay.length){Ay.unshift({isSeparator:true})
	}return Aw.getBreakByAxisOptions(Av,Ax).concat(Ay)
	},getDynamicLevelOptions:function v(Aw){var Av=this,Ay=Av.getBreakByAxisOptions(true,Aw),Ax=Av.getBreakByAttributeOptions(Aw)
	Ay.some(function(Az){if(Az.axes_bitmap===g.DssXmlAxisPagesBit){Az.n=mstrmojo.desc(3329,"Grand Total")
	return true
	}})
	if(Ax.length){Ax.unshift({isSeparator:true})
	}return Ay.concat(Ax)
	},getShortcutMetricSubMenu:function(Az){var Ay=this,Av=new mstrmojo.ui.menus.MenuConfig(),A0=Az.item,Ax=j.getUnitFromDataset(this.docModel.datasets,A0.did,A0.t)||A0,Aw=Ay.allowInsertNewMetric(Az.zone)
	if(Ax.t===X.Metric){Ay.addRankShortcutMenu(Az,Av)
	Ay.addPercentileShortcutMenu(Az,Av)
	Ay.addPercentToTotalShortcutMenu(Az,Av)
	Av.addSeparator()
	Ay.addPercentOfShortcutMenu(Az,Av)
	Ay.addPercentChangeShortcutMenu(Az,Av)
	Ay.addDifferenceShortcutMenu(Az,Av)
	Av.addSeparator()
	Ay.addMovingTotalShortcutMenu(Az,Av)
	Ay.addRunningTotalShortcutMenu(Az,Av)
	Ay.addPercentRunningTotalShortcutMenu(Az,Av)
	}Av.addSeparator()
	Av.addMenuItem(mstrmojo.desc(11491,"More Functions..."),"",function(){Ai.call(Ay,Az,"add",!Aw)
	},Ax)
	return Av
	},hasReplaceCandidates:function(Av){var Aw=this.getReplaceCandidates(Av.zone,Av.item)
	return Aw&&Aw.length>0
	},getReplaceSubMenu:function(Aw,Ay){var A2,A3=Aw.item,Az=Aw.zone,Ax=this.getReplaceCandidates(Az,A3),A0=this
	A2=Ay?[Ay]:[]
	A2.push({scriptClass:"mstrmojo.ui.ScrollableContainer",alias:"scrollableContainer",children:[{scriptClass:"mstrmojo.vi.ui.InteractiveUnitList",draggable:false,CLS_HAS_MENU:"",items:Ax,listHooks:{select:function A1(A5,A8){var A7=A0.getHost(),A4=Aw.cell,A6
	if(A7.hasArrayGSI){A6=A0.activeTemplateSet
	A0.activeTemplateSet=A4?A4.setIdx:A3.setIdx
	}A0.unitsDropped(Az,{src:{data:{item:A8,items:[A8],dsid:A8.dsId}},getCtxtDragData:function(){var A9=this.src
	return(A9&&A9.data)||{}
	}},{allowedItems:[A8],idx:A0.getUnitIndexInZone(Az,A3),edge:mstrmojo.vi.models.DropZonesModel.ENUM_TARGET_POSITION.ON,removeReplaced:true})
	if(A7.hasArrayGSI){A0.activeTemplateSet=A6
	}if(this.parent&&this.parent.parent&&this.parent.parent.closeAllMenus){this.parent.parent.closeAllMenus()
	}}}}]})
	return new mstrmojo.ui.menus.EditorConfig({data:{},cssClass:"replaceReference",okVisible:false,cancelVisible:false,contents:A2,onOpen:function Av(){this.scrollableContainer.updateScrollbars()
	if(this.hasAccessibility&&this.enableAccessibility){this.enableAccessibility()
	}}})
	},addRankShortcutMenu:function AB(Ay,Aw){var Ax=this,A0=this.id
	function Av(A3,A2,A1){Ax.submitAddShortcutMetric(Ay,{item:A3,funcType:mstrmojo.mstr.EnumFunction.FunctionRank,prs:[{n:"ASC",v:A2}],breakBys:A1})
	}function Az(A1){return j.getRankMetricEditor(A1.item,Ax.getDynamicBreakByOptions(false,A1),Av)
	}Aw.addActionPopupMenuItem(mstrmojo.desc(2789,"Rank"),A0,function(){Av(Ay.item,"0",[{dmy:"@auto"}])
	},Az,"",Ay)
	},addPercentileShortcutMenu:function AA(Ax,Av){var Aw=this,A0=this.id
	function Ay(A1){var A2
	if(A1.dmy){A2={dmy:A1.dmy}
	}else{A2={id:A1.did,type:A1.t}
	}Aw.submitAddShortcutMetric(Ax,{item:Ax.item,funcType:mstrmojo.mstr.EnumFunction.FunctionPercentRank,breakBys:[A2],prs:[{n:"inclusive",v:"False"}]})
	}function Az(){var A2=new mstrmojo.ui.menus.MenuConfig(),A1=Aw.getDynamicBreakByOptions(false,Ax)
	A1.forEach(function(A3){if(A3.isSeparator){A2.addSeparator()
	return 
	}A2.addMenuItem(A3.n,"",function(){Ay(A3)
	})
	})
	return A2
	}Av.addActionPopupMenuItem(mstrmojo.desc(13409,"Percentile Rank"),A0,function(){Ay({dmy:"@auto"})
	},Az,"",Ax)
	},addPercentToTotalShortcutMenu:function AS(Aw,A2){var A4=this,Av=this.id,A9=Aw.item,BA=A4.getHost(),A6=BA.getChartStyle&&BA.getChartStyle()==="NewGraphMatrixVisualizationStyle",A3=A4.submitActionForDatasetUpdate.bind(A4),A1=A4.getDynamicLevelOptions(Aw),A0=BA.k,Ax=BA.defn.tt,A8=A4.allowInsertNewMetric(Aw.zone),Az=[]
	if(Aw.zone.id===n){A8=false
	}if(BA.hasArrayGSI){var A7=this.getGSI(Aw)
	A0=A7.k
	}function A5(BB){if(A8&&Aw.useDropzone&&A4.gmZones){var BD=A4.gmZones.getZoneModelByZoneId((Aw.zone.id===Ae)?I:AV)
	var BC=A4.getAddMetricNameAction(BA,BD.id)
	if(BC){Az.push(BC)
	}BC=A4.gmZones.getUpdateGroupInfoActionForNewMetric(Aw.zone.id,Aw.idx+1,Aw.item.ax===0)
	if(BC){Az.push(BC)
	}}A3(Az.concat(Ad.call(A4,{act:"addPercentToTotalMetric",nodeKey:A0,treeType:Ax,metric_id:A9.did,axes_bitmap:BB.axes_bitmap||0,units:BB.did&&[{id:BB.did,type:BB.t}]},Aw,{offset:A8?1:0,replaceSourceId:A8?null:Aw.item.did,addToTooltip:A6})))
	}function Ay(){var BB=new mstrmojo.ui.menus.MenuConfig()
	A1.forEach(function(BC){if(BC.isSeparator){BB.addSeparator()
	return 
	}BB.addMenuItem(BC.n,"",function(){A5(BC)
	})
	})
	return BB
	}A2.addActionPopupMenuItem(mstrmojo.desc(3323,"Percent to Total"),Av,function(){A5({axes_bitmap:AP.DssAxisDynamicShortcutRoot+Ao.DssDynamicShortcutAuto})
	},Ay,"",Aw)
	},addPercentOfShortcutMenu:function N(Az,Av){var Ay=this,A0=this.id
	function Ax(A2,A3,A1){Ay.submitAddShortcutMetric(Az,{item:A2,funcType:A3,funcType2:mstrmojo.mstr.EnumFunction.FunctionDivide,breakBys:A1,sortBys:[{dmy:"@auto"}]})
	}function Aw(A1){return j.getRelativeReferenceMenu(A1.item,mstrmojo.desc(13394,"Percent of:"),Ay.getDynamicBreakByOptions(false,A1),Ax)
	}Av.addActionPopupMenuItem(mstrmojo.desc(13390,"Percent Of"),A0,function(){Ax(Az.item,mstrmojo.mstr.EnumFunction.FunctionLag,[{dmy:"@auto"}])
	},Aw,"",Az)
	},addPercentChangeShortcutMenu:function t(Ay,Aw){var Ax=this,A0=this.id
	function Az(A2,A3,A1){Ax.submitAddShortcutMetric(Ay,{item:A2,funcType:A3,funcType2:mstrmojo.mstr.EnumFunction.FunctionVar,breakBys:A1,sortBys:[{dmy:"@auto"}]})
	}function Av(A1){return j.getRelativeReferenceMenu(A1.item,mstrmojo.desc(20073,"From:"),Ax.getDynamicBreakByOptions(false,A1),Az)
	}Aw.addActionPopupMenuItem(mstrmojo.desc(13391,"Percent Change"),A0,function(){Az(Ay.item,mstrmojo.mstr.EnumFunction.FunctionLag,[{dmy:"@auto"}])
	},Av,"",Ay)
	},addDifferenceShortcutMenu:function L(Ay,Av){var Ax=this,A0=this.id
	function Aw(A2,A3,A1){Ax.submitAddShortcutMetric(Ay,{item:A2,funcType:A3,funcType2:mstrmojo.mstr.EnumFunction.FunctionMinus,breakBys:A1,sortBys:[{dmy:"@auto"}]})
	}function Az(A1){return j.getRelativeReferenceMenu(A1.item,mstrmojo.desc(20073,"From:"),Ax.getDynamicBreakByOptions(false,A1),Aw)
	}Av.addActionPopupMenuItem(mstrmojo.desc(11495,"Difference"),A0,function(){Aw(Ay.item,mstrmojo.mstr.EnumFunction.FunctionLag,[{dmy:"@auto"}])
	},Az,"",Ay)
	},addMovingTotalShortcutMenu:function AU(Ax,Av){var Aw=this,A0=this.id
	function Az(A4,A3,A2,A1){Aw.submitAddShortcutMetric(Ax,{item:A4,funcType:A3,breakBys:A1,sortBys:[{dmy:"@auto"}],prs:[{n:"OLAPWinStType",v:"3"},{n:"OLAPWinStOffset",v:A2.toString()},{n:"OLAPWinEndType",v:"2"}]})
	}function Ay(A1){return j.getMovingTotalMenu(A1.item,Aw.getDynamicBreakByOptions(false,A1),Az)
	}Av.addActionPopupMenuItem(mstrmojo.desc(13392,"Moving Average"),A0,function(){Az(Ax.item,mstrmojo.mstr.EnumFunction.FunctionOLAPAvg,1,[{dmy:"@auto"}])
	},Ay,"",Ax)
	},addRunningTotalShortcutMenu:function Al(Az,Av){var Ay=this,A0=this.id
	function Ax(A3,A2,A1){Ay.submitAddShortcutMetric(Az,{item:A3,funcType:A2,breakBys:A1,sortBys:[{dmy:"@auto"}],prs:[{n:"OLAPWinStType",v:"0"},{n:"OLAPWinEndType",v:"2"}]})
	}function Aw(A1){return j.getRunningTotalMenu(A1.item,Ay.getDynamicBreakByOptions(false,A1),Ax)
	}Av.addActionPopupMenuItem(mstrmojo.desc(11906,"Running Total"),A0,function(){Ax(Az.item,mstrmojo.mstr.EnumFunction.FunctionOLAPSum,[{dmy:"@auto"}])
	},Aw,"",Az)
	},addPercentRunningTotalShortcutMenu:function B(Ay,Aw){var Ax=this,A0=this.id
	function Av(A3,A1){var A2=[]
	A1.forEach(function(A4){if(A4.dmy){A2.push({dmy:A4.dmy})
	}else{A2.push({id:A4.did,type:A4.t})
	}})
	Ax.submitAddShortcutMetric(Ay,{item:A3,funcType:mstrmojo.mstr.EnumFunction.FunctionOLAPSum,funcType2:mstrmojo.mstr.EnumFunction.FunctionDivide,breakBys:A2,sortBys:[{dmy:"@auto"}],prs:[{n:"OLAPWinStType",v:"0"},{n:"OLAPWinEndType",v:"2"}]})
	}function Az(A3){var A2=new mstrmojo.ui.menus.MenuConfig(),A1=Ax.getDynamicLevelOptions(A3)
	A1.forEach(function(A4){if(A4.isSeparator){A2.addSeparator()
	return 
	}A2.addMenuItem(A4.n,"",function(){Av(A3.item,[A4])
	})
	})
	return A2
	}Aw.addActionPopupMenuItem(mstrmojo.desc(13393,"Percent Running Total"),A0,function(){Av(Ay.item,[{dmy:"@auto"}])
	},Az,"",Ay)
	},getMultipleMetricsCalcMenus:function AE(A2,A1,A4){var A3=this,A5=this.getHost(),A0=this.submitActionForDatasetUpdate.bind(this),Ay=A5.k,Aw=A5.defn.tt,Ax=A1.map(function(A6){return A6.did
	}),Av=A2.items.map(function(A6){return A6.did
	}),Az=-1
	Ax.forEach(function(A6){var A7=O.indexOf(Av,A6)
	if(A7>Az){Az=A7
	}})
	return j.getMultipleMetricsCalculationMenus(A1,A5.model.data.datasetId,function(A8){var A7={act:"addShortcutMetric",dsid:Au.call(A3,Ax),nodeKey:Ay,treeType:Aw,funcType:A8.funcType,funcType2:A8.funcType2,units:A8.items.map(function(BA){return{id:BA.did,type:BA.t}
	})},A9,A6
	A9=Ad.call(A3,A7,{useDropzone:A4,zone:A2,item:{ax:0},idx:Az},{offset:1})
	if(A3.gmZones){A6=A3.gmZones.getUpdateGroupInfoActionForNewMetric(A2.id,Az+1,true)
	}if(A6){A9.push(A6)
	}A0(A9)
	})
	},getCreateOrEditElementGroupFunc:function At(Aw){var Av=this
	return function(){var A0=Av.getHost(),A1=A0.model,Az=Aw.item,Ay=Az.did,Ax=Av.getUnitInfoInTemplate(Ay),A3="$GUID_1",A2=Ax.unit.ost===An.ConsolidationManaged&&A1.docModel.getDEObject(Ay)
	A0.controller.openDEEditor(A0,A2?{deObj:A2}:{dsId:A1.data.datasetId,attId:Ay,attName:Az.n,deId:A3,setIdx:Az.setIdx,getExtraSaveActions:function(A5){var A4=Aw.zone,A6=Av.getRemoveDropZoneUnitActions(A4,Az)
	A6.push(Av.getAddDropZoneUnitAction(A4,{did:A5||A3,t:Ac.DssTypeConsolidation},Aw.idx))
	return Av.getUpdateTemplateAction(A6)
	}})
	}
	},buildThresholdMenuOptions:function AD(Aw,Ax,Av){mstrmojo.all[this.hostId].model.buildThresholdMenuOptions(Aw,Ax,Av,this.canSupportImageThreshold())
	},canSupportImageThreshold:function M(){return false
	},getNumberFormatEditorCfg:function R(Av){return mstrmojo.all[this.hostId].model.getNumberFormatEditorCfg(Av)
	},submitUpdatesAndPersistWidgetXMLIfNecessary:function As(Ay,Ax,Aw){var Av=Ay.model.docModel,Az=Av.getDataService(),A1,A0
	if(!Ay.isXMLDirty()){Ay.controller.onSubmitTemplateUpdates(Ay,Ax,Aw)
	}else{A0={act:"updateTemplate",keyContext:Ay.k,actions:Ax}
	A1=Ay.getPersistAction()
	Az.submitUpdates([A0,A1],mstrmojo.func.wrapMethods(Ay.controller._getXtabCallback(Ay),Aw))
	Ay.resetXMLDirtyFlag()
	}},submitActionForDatasetUpdate:function Aa(Aw){var Av=this.docModel
	this.submitDropZoneUpdates(Aw,mstrmojo.func.wrapMethods(Av.getDatasetsUpdateCallback(),Av.controller._getXtabCallback(this.getHost())))
	},getVFNotifierBlackList:function Aj(Ax,Av){var Aw=11,Ay=12
	switch(Ax){case"XtabGrid":return[k.Rows,k.Columns]
	case"GraphMatrixVisualizationStyle":case"NewGraphMatrixVisualizationStyle":if(Av){return[k.Rows,k.Columns,k.XAxis,k.YAxis,k.BreakBy,k.SliceBy,k.Angle,Aw,Ay]
	}else{return[k.Rows,k.Columns,k.XAxis,k.YAxis,k.BreakBy,k.SliceBy,k.Angle]
	}case"VIHeatMapVisualizationStyle":return[k.Rows,k.Columns,k.XAxis,k.YAxis,k.Grouping]
	case"NetworkVisualizationStyle":return[k.Rows,k.Columns,k.XAxis,k.YAxis,k.FromItem,k.ToItem]
	case"ImageLayoutVisualizationStyle":return[k.GeoAttribute,k.Layout]
	case"GoogleMapVisualizationStyle":case"ESRIMapVisualizationStyle":case"MapboxVisualizationStyle":return[k.Rows,k.Columns,k.XAxis,k.YAxis,k.SliceBy,k.Angle,k.GeoAttribute,k.Latitude,k.Longitude]
	case"KPICardVisualizationStyle":return[k.Rows,k.Columns,k.XAxis,k.YAxis,k.Metric,k.BreakBy]
	default:return[]
	}},supportWebSort:function AL(){return !(mstrApp.isVI&&!mstrmojo.resolveFeature("web-sort"))
	},getSetIdx:function z(Ax){var Aw=Ax.item,Av=Ax.cell,Ay=Av?Av.setIdx:Aw.setIdx
	return Ay
	},getGSI:function Ar(Ax){var Aw=this.getHost(),Av=Aw.model.data,Az=Av.gsi
	if(Aw.hasArrayGSI&&Ax){var Ay=this.getSetIdx(Ax)
	if(Ay===-1||Ay===undefined){return u.getGSI(Az,Av.sortIndex)
	}return u.getGSI(Az,Ay)
	}return Az
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.dom","mstrmojo.num","mstrmojo._HasOwnAvatar","mstrmojo.models.template.DataInterface","mstrmojo.vi.viz.EnumDSSDropZones")
	var Z=mstrmojo.array,D=mstrmojo.dom,R=mstrmojo.hash,Q=mstrmojo.num,W=mstrConfig,I="px",B="xrsz",a="t",M=3,X=mstrmojo.vi.viz.EnumDSSDropZones
	function J(){var d=this.gridData.gts
	return d.row.concat(d.col)
	}function N(){var v=this.gridData,h=this.lockHeadersCase,g=v.gts,m=v.ghs,d=m.rhs||[],r=m.chs||[],q=d.cws||[],w=(g.cws||[]).concat(r.cws||[]),p=v.gvs||[],n=q.concat(p.cws||[]),u=this.zone.domNode.getElementsByTagName("tr"),t=u&&u[u.length-1],j=false,o=this.isOutlineMode
	if(t){var e=t.getElementsByTagName("td")[0]
	v.xrh=(e&&e.offsetHeight)||0
	}j=Z.some(q,function(x){return x.w===""
	})
	if(v.afw||v.afc||j){var l=this.rszmap
	if(window.neeHandlingForSvgImgs){neeHandlingForSvgImgs(this.zone.domNode)
	}var f=Math.max(w.length,n.length)
	Z.forEach(u,function(x){var AA=x.childNodes
	if(AA.length===f||o){var z=bottomIndex=0
	Z.forEach(x.getElementsByTagName("td"),function(AF,AD){var AE=D.position(AF).w
	var AC=parseInt(AF.colSpan,10),AG=AE/AC
	if(w[z]&&AF.offsetParent!==null){if(!AF.colSpan||AF.colSpan===1){w[z++].w=AE+I
	}else{for(var AB=0
	AB<AC
	AB++){if(!w[z]){w[z]={}
	}w[z].w=AG+I
	z=z+1
	}}}if(n[bottomIndex]&&AF.offsetParent!==null){if(!AF.colSpan||AF.colSpan===1){n[bottomIndex++].w=AE+I
	}else{for(var AB=0
	AB<AC
	AB++){if(!n[bottomIndex]){n[bottomIndex]={}
	}n[bottomIndex].w=AG+I
	bottomIndex=bottomIndex+1
	}}}})
	return false
	}})
	}if(n.length!==w.length){var k=J.call(this)
	Z.forEach(k,function(AC,x){var z=AC.fs,AD=(z&&z.length)||0
	if(AD>1){var AA=w[x],AB
	for(AB=0
	AB<AD-1
	AB++){w.splice(x+AB+1,0,AA)
	}}})
	if(n.length>w.length){w.push(R.clone(n[n.length-1]))
	}}return{top:w,bottom:n}
	}function S(){var m=this.gridData,f=this.isOutlineMode,g=f?2:0
	if(!m.gts.show&&f&&mstrApp.isExpress){return 
	}var l=this.rszmap=[],k=0,h=0,e=m.twm=N.call(this),o=e.bottom,p=new mstrmojo.models.template.DataInterface(m),d=p.getColumnHeaderData(true),n=d.length
	var j=0
	Z.forEach(o,function(t,q){if(q>=n){return false
	}var r=parseInt(t.w,10)
	if(isNaN(r)){return false
	}if(f&&d&&d[q]&&d[q+1]&&d[q].id===d[q+1].id&&!d[q]._ridx){j=j+r
	}else{j=j+r
	k+=j
	h+=j
	if(q===n-1){k=k-1-g
	h=h-1-g
	}l.push({left:k,offsetLeft:h})
	j=0
	}})
	Z.forEach(l,function(z,q){var u=l[q+1],t=(u&&u.left),r=(t-z.left),x=[this.zone.domNode],v=this.getColClonedZone&&this.getColClonedZone()
	if(v){x.push(v)
	}if(!u||(r>(M*2))){Z.forEach(x,function w(AB){var AD=document.createElement("div"),AA=AD.style,AC=this
	AD.setAttribute("idx",String(q))
	AD.setAttribute(a,B)
	AD.className=B+((q>0&&l[q-1].skipped)?" zero":"")
	AA.left=isNaN(z.offsetLeft)?"":((z.offsetLeft-M)+I)
	AB.appendChild(AD)
	AD.ondblclick=function(AE){AC.onHandleDblClick(AE)
	}
	},this)
	}else{z.skipped=true
	}},this)
	}function b(f){if(!f){return 
	}var d=f.getElementsByClassName(B),e=d.length-1
	for(
	e>-1
	e--){f.removeChild(d[e])
	}}function H(g,f){var d=g.getElementsByClassName(B),e=0
	for(e=0
	e<d.length
	e++){f.appendChild(d[e].cloneNode())
	}}mstrmojo.rw.xtab._XtabColResize=mstrmojo.provide("mstrmojo.rw.xtab._XtabColResize",{_mixinName:"mstrmojo.rw.xtab._XtabColResize",rszmap:undefined,onRender:function F(){if(this._super){this._super()
	}if(this.gridData.eg!==undefined){return 
	}var e=this
	var d=mstrApp&&D.isMac()&&mstrApp.getWSLiveMode&&mstrApp.getWSLiveMode()
	window.setTimeout(function(){if(!e.hasRendered){return 
	}if(!mstrApp.isExpress||mstrApp.features["grid-layout"]){S.call(e)
	}e.raiseEvent({name:"xtabColsMeasured"})
	},d?500:0)
	D.attachMarkupEvent(this.id,this.domNode,"mousedown")
	},unrender:function Y(d){D.detachEvent(this.domNode,"mousedown",mstrmojo.emptyFn)
	this._super(d)
	},refreshResizeHandlers:function G(){if(!mstrApp.isExpress||mstrApp.features["grid-layout"]){b(this.getTargetZone().domNode)
	b(this.getColClonedZone&&this.getColClonedZone())
	S.call(this)
	if(this.clonedRowHeader&&this.clonedRowHeader.domNode){b(this.clonedRowHeader.domNode.firstChild)
	H(this.getTargetZone().domNode,this.clonedRowHeader.domNode.firstChild)
	}if(this.clonedTitle&&this.clonedTitle.domNode){b(this.clonedTitle.domNode.firstChild)
	H(this.getTargetZone().domNode,this.clonedTitle.domNode.firstChild)
	}}},gridPagesRendered:function A(){this.refreshResizeHandlers()
	if(this._super){this._super()
	}},isColResizeNode:function P(d){return(d.className||"").indexOf(B)>=0
	},isDragValid:function C(d){return this.isColResizeNode(d.src.node)||(this._super&&this._super(d))||false
	},ondragstart:function c(f){if(this.isColResizeNode(f.src.node)){var d=D.position(this.domNode),k=D.findAncestorByAttr(f.src.node,"idx",true,this.domNode),n=k&&parseInt(k.value,10),j=this.rszmap,e=j[n].left-(n>0?j[n-1].left:0),o=Math.max(d.x,(f.src.pos.x-e)),r=new mstrmojo.models.template.DataInterface(this.gridData),q=this.gridData,g=this.isOutlineMode,h=this.zone.domNode.getElementsByTagName("tr")
	if(g){var m=h[0],l=m.getElementsByTagName("td"),p=0
	Z.forEach(l,function(v,u){var t=parseInt(v.colSpan,10)||1
	if(u<=n){p=u>0?p+1:p
	p=p+t-1
	}else{return false
	}})
	n=p
	}this.rszData={idx:n,originalWidth:e,min:o,max:d.x+d.w,colName:r.getColumnHeaderData(true)[n].n}
	}if(this._super){this._super(f)
	}this.ignoreHover=true
	},ondragmove:function L(f){if(this.rszData){var e=this.rszData,d=f.src.pos,g=Math.max((e.originalWidth+(f.tgt.pos.x-d.x)),0)
	this.avatar.firstChild.innerHTML=e.colName+" "+((Q.UNIT.PX==W.units)?g:parseFloat(Q.convertUnits(Q.UNIT.PX,W.units,g)).toFixed(2))+" "+W.unitsLabel
	}this._super(f)
	},ondragend:function E(h){if(this.rszData){var g=this.gridData,f=this.rszData.idx,k=(new mstrmojo.models.template.DataInterface(g)).getColumnHeaderData(true),l=k[f],e=l.fs,d=l.fix||1
	if(e&&e.length>0){d=f-Z.find(k,"id",l.id)+1
	}var j=l.oid||l.id
	this.changeColumnWidth(j,l.otp,Math.max((parseInt(N.call(this).bottom[f].w,10)+(h.tgt.pos.x-h.src.pos.x)),0),d,(j===""&&l.axis===X.Columns),null,f)
	delete this.rszData
	}this._super(h)
	this.ignoreHover=false
	},createAvatar:function O(h){var k=document.createElement("div"),e=k.style,d=D.position(h),g=D.position(this.domNode)
	if(this.isColResizeNode(h)){this.avatarCssClass=B
	e.top=g.y+I
	e.left=d.x+I
	e.height=g.h+I
	var j=document.createElement("div")
	j.className=B+"-ttp"
	var f=document.createElement("div")
	f.className=B+"-anchr"
	k.appendChild(j)
	k.appendChild(f)
	}else{delete this.avatarCssClass
	}return k
	},positionAvatar:function K(h,f){if(this.rszData){var e=this.avatar,g=e.style,d=this.rszData
	if(!this.avatar||!this.rszData){return 
	}g.left=Math.min(Math.max(h.x,d.min),d.max)+"px"
	}else{this._super(h,f)
	}},isHandleNode:function U(d){return !!d&&d.getAttribute&&d.getAttribute(a)===B
	},onHandleDblClick:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.editors.controls.ControlGroup","mstrmojo.Label","mstrmojo.num","mstrmojo.expr","mstrmojo.ui.Pulldown","mstrmojo.ui.editors.controls.TwoColumnContainer","mstrmojo.ValidationTextBox","mstrmojo.ui.editors.controls.ValidationTextBox","mstrmojo.models.template.DataInterface")
	var E="selColScenario",N="colTargetAndWidth",D="selRowScenario",G="rowHeightContainer",C=mstrmojo.num,I=mstrConfig,F=mstrmojo.expr,H=mstrmojo.models.template.DataInterface.ENUM_GRID_RESIZE,M=H.FIXED,A=mstrmojo.ui.Pulldown.newPulldown
	function B(P,O,Q){O.slot="col1Node"
	return{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",alias:P,col1Width:"100%",col2Width:"56px",children:[O,{scriptClass:"mstrmojo.Box",slot:"col2Node",value:0,enabled:true,children:[{scriptClass:"mstrmojo.ui.editors.controls.ValidationTextBox",cssText:"text-align:right
	width:36px",cssDisplay:"inline-block",bindings:{value:"this.parent.value",enabled:"this.parent.enabled"},dtp:F.DTP.NUMERIC,onValid:function(){var U,W
	if(C.UNIT.PX!==I.units){U=parseFloat(this.value).toFixed(2)
	W=U!==parseFloat(this.orignText)
	}else{U=parseInt(this.value,10)
	W=U!==parseInt(this.orignText,10)
	}if(W){var S=this.parent.parent.getControl(1),R=S.getSelectedItem&&S.getSelectedItem()
	Q(U,R)
	}}},{scriptClass:"mstrmojo.Label",cssDisplay:"inline-block",cssText:"width:16px
	padding-left:2px
	",text:C.UNIT_SYMBOL[I.units],title:I.unitsLabel}]}]}
	}function J(S,R,Q,P){var O=[{n:mstrmojo.desc(2987,"Fit to contents"),v:H.FIT_TO_CONTENTS},{n:mstrmojo.desc(2050,"Fixed"),v:M}]
	if(Q){O.unshift({n:mstrmojo.desc(13580,"Fit to container"),v:H.FIT_TO_WINDOW})
	}return A(O,function(U){var W=this.parent
	W[R].set("enabled",U.v===M)
	if(!W._sync){P(U.v,Q)
	}},undefined,{alias:S,isHostedWithin:false})
	}mstrmojo.ui.editors.controls.XtabResizeGroup=mstrmojo.declare(mstrmojo.ui.editors.controls.ControlGroup,null,{scriptClass:"mstrmojo.ui.editors.controls.XtabResizeGroup",init:function K(O){this._super(O)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-ui-XtabResize")
	var P=this
	this.addChildren([{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(159,"Columns")},J(E,N,true,O.fnScenarioChange),B(N,A([],function(X){var R=this.parent,W=X.width,Q=P.xtabInterface.getColResizeScenario()===M,U=P.xtabInterface.getColResizeInfo(P.targetXtab.model.docModel.datasets).widths||[{}]
	if(U.length){var S=U[0].width
	if(Q&&X._renderIdx!==undefined){P.targetXtab.edtModel._lsfcw=X._renderIdx
	}if(W===""){var Y=U.every(function(Z){return Z.width===S
	})
	if(Y){W=S
	}}R.parent.syncControls(function(){R.getControl(2).set("value",(Q&&W!=="")?((C.UNIT.PX===I.units)?W:parseFloat(C.convertUnits(C.UNIT.PX,I.units,W)).toFixed(2)):"")
	})
	}}),O.fnColChange),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(113,"Rows")},J(D,G,false,O.fnScenarioChange),B(G,{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(13581,"Row height:")},O.fnRowChange)])
	},targetXtab:null,xtabInterface:null,setFormatSource:function L(U){var S=this,R=S.xtabInterface=this.addDisposable(new mstrmojo.models.template.DataInterface(U.model.data)),W=R.isEmpty(),Q=U.edtModel,O=Q._lsfcw=Q._lsfcw===undefined?1:Q._lsfcw,P=!W&&!U.excludeData
	S.targetXtab=U
	S.set("enabled",P)
	if(P){this.syncControls(function(){var c=R.getColResizeInfo(U.model.docModel.datasets),X=c.widths||[]
	S[E].selectItemByField("v",c.v)
	var a=S[N],Z=a.getControl(1)
	X.unshift({n:mstrmojo.desc(2429,"All Columns"),did:"all",width:""})
	Z.set("items",X)
	Z.set("selectedIndex",c.v===M?Math.min(O,X.length-1):0)
	var d=R.getRowResizeInfo(),b=d.v,Y=d.height
	S[D].selectItemByField("v",b)
	S[G].getControl(2).set("value",b===M?((C.UNIT.PX===I.units)?Y:parseFloat(C.convertUnits(C.UNIT.PX,I.units,Y)).toFixed(2)):"")
	})
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.string","mstrmojo.array","mstrmojo.hash","mstrmojo.expr","mstrmojo.vi.viz.EnumDSSDropZones","mstrmojo.XMLBuilder","mstrmojo.models.template.DataInterface","mstrmojo.num","mstrmojo.util.XtabHelper","mstrmojo.EnumSubtotals")
	var p=mstrmojo.string,Y=mstrmojo.array,N=mstrmojo.hash,W=mstrmojo.expr.TP,l=mstrmojo.models.template.DataInterface,C=mstrmojo.util.XtabHelper,u=l.ENUM_ROW_ARRANGEMENT,E=l.ENUM_GRID_RESIZE,Z=mstrmojo.vi.viz.EnumDSSDropZones,D=mstrmojo.num,J=D.UNIT,d=l.ENUM_LOCKED_HEADERS,f=mstrmojo.EnumSubtotals.TYPES,L=f[0].v
	var K=1
	var a="%2E"
	var k=12
	var P=function P(){return 1
	}
	var M="@pLd",c={chartCfg:"chartCfg",colorTrend:"clr_trd"}
	function F(Ab,Ai,Ah,Ak){var AD=this,AJ=AD.agColumnDefs,AT=Ak.headerRowSpan,Ad=Ak.cellsToMerge,Ac=Ak.columnRowOffset,Aa=AD.headers,x=AD.headerObjects,AF=AD.treeMap,AC=AD.titleZone,AE=Ak.isColumnsOnly,AY=Ai.v,AP=Ai.rv,Af=Ai.isObjHeader,AM=Ai.axis,AO=Ai.cs,AK=Ai.hasOwnProperty("fi"),Ae=AM===Z.Columns,AU=AK&&Ae,Ag=AD.data.eg
	var AG=p.decodeHtmlString(AY,true)
	if(Af||Ae||Ai.otp===-1||AU){var AX=Ak.cellOffset,AL=AD.getNewHeader(Ai,AG,Ak,AX,Ag),AH,AV,Aj,AZ=function(v,Am){return Y.find(v,"field",Am.field)>-1||Y.some(v,function(An){return An.allFields&&An.allFields[Am.field]
	})
	},AS=AZ(AJ,AL)
	if(Ai.pi){Ai.dpt=Ai.dpt||((Ai._p&&Ai._p.dpt||0)+1)
	Ai.colIx=AX
	AV=Ak.curRow
	Aj=AV
	if(Ai.isNDE){if(AK){Ac[Ai.oi]=Ai.fi
	}else{if(Ai.rs>1){Aj+=Ai.rs-1
	Ac[Ai.oi]=Ai.rs-1
	}}}AF[Aj]=AF[Aj]||{}
	AF[Aj][Ai.oi]=AF[Aj][Ai.oi]||AL
	if(Ai.pi.hasOwnProperty("ri")&&Ai.pi.hasOwnProperty("ci")){if(Ai.isNDE&&!AK){var AB=Ac.hasOwnProperty(Ai.oi)?Ac[Ai.oi]:0
	AH=AF[Ai.pi.ri+AB][Ai.oi]||AF[Ai.pi.ri+AB][Ai._p.o]
	delete Ac[Ai.oi]
	}else{AH=AF[Ai.pi.ri][Ai.oi]||AF[Ai.pi.ri][Ai._p.o]
	}}else{if(AV>0){AH=AF[AV-1][Ai.oi]||AF[AV-1][Ai._p.o]
	}}if(AH){AD.addToHeaderGroup(AH,AL)
	}else{if(!AS){AJ.push(AL)
	}}Ak.cellOffset=Ak.cellOffsetBase+Ai.oi
	}else{AH=AC.length?AC[AC.length-1]:null
	if(Ak.curRow&&AH){AD.addToHeaderGroup(AH,AL)
	}else{if(!AS){AJ.push(AL)
	if(AO>1){var AI,AW
	for(var AR=1
	AR<AO
	AR++){AW=N.copy(Ai)
	AI=AD.getNewHeader(AW,AG,Ak,AX+AR,Ag)
	AI.headerName=""
	AI.field+="_"+AR
	AI.headerComponentParams.fi=AR
	AJ.push(AI)
	Aa[AX+AR]=AI.field
	if(!x.hasOwnProperty(AI.field)){x[AI.field]=AI
	}}}}}if(!AZ(AC,AL)){AC.push(AL)
	}Ak.cellOffset=Ak.cellOffsetBase
	Ak.cellOffsetBase+=AO||1
	}if(!x.hasOwnProperty(AL.field)){x[AL.field]=AL
	}Aa[Ak.cellOffset]=AL.field
	}else{if(AE){return false
	}var AA=AP!==undefined?AP:(AY!==undefined?AY:"")
	var w=!!Y.filterOne(Ad,function(v){if(!Ai._e||!v._e){return false
	}return Ai._e.id===v._e.id
	})
	if(w){AA=" "
	}var AN=Aa[Ak.cellOffset],z=x[AN]
	if(AN&&z){Ab[AN]=AA
	if(Ak.isOutlineMode){if(!Ab.stt){if(Ai.stt){Ab.stt=AN
	Ab.sttName=AA
	if(Ai.ui!==Ak.rowHeaderUnits-1){Ab[AN]=null
	}}}else{if(Ai.axis===K){if(Ai.ui===Ak.rowHeaderUnits-1){Ab[AN]=Ab.sttName
	}else{Ab[AN]=null
	}}}}var AQ=z.headerComponentParams
	var Al=AQ.cellIndexMap
	if(Al){Al[Ak.curRow-AT]=Ah
	}Ai.colIx=AQ.colIdx
	}else{Ai.colIx=Ak.cellOffset
	}Ak.isHeaderRow=false
	}if(Ai.rs>1||(z&&z.colSpan({data:Ab})>1)){Ak.rowsToRedraw[Ak.curRow]=true
	}Ak.cellOffset+=AO||1
	}function S(x,v,w){if("o" in x){x.oi=x.o
	if(v&&x.o===w[v-1].o){x.oi=w[v-1].oi+1
	}}}function j(w){var v={}
	Y.ensureArray(w).reduce(function(z,AA,x){v[x]=z
	return z+AA.cols.length
	},0)
	return v
	}function q(AA,z,AB){var x=l.getGSI(AA,z),v=Y.hash(AB.attrId),w=-1
	Y.forEach(x.cols,function(AD,AC){if(v[AD.did]||AD.t===W.METRIC){return false
	}w=AC
	})
	return w
	}function A(w,v){return w.ui+(w.ui<=v?("
	"+w.idx):"")
	}function h(AE,AJ,w){var x=w.col,AG=[],AF={},AL=[],z="",v={}
	function AD(AN){if(!AN.children){var AO=AN.headerComponentParams,AM=AO.ui+w.attrFormsOffset
	AG.push(AN.field)
	AL.push(AN.headerName)
	z=x[AM]&&x[AM].n
	AF[AN.field]=AO.cellIndexMap
	v[AN.field]=AO
	return 
	}Y.forEach(AN.children,function(AP){AD(AP)
	})
	}AD(AE)
	var AB=AE.headerComponentParams||AE.headerGroupComponentParams,AC=w.aggGroupHeader,AK=AJ||AE,AH=AB.ui+w.attrFormsOffset,AI=x[AH]||{},AA=AI.es&&AI.es[AB.idx]
	AC.allFields=N.copy(AE.allFields,AC.allFields)||{}
	AC.allFields[AE.field]=true
	AK.chartCfg=w.setCfg
	AK.xaxisLabel=(AK.xaxisLabel||[]).concat(AL)
	AK.xaxisTitle=z
	AK.yaxisTitle=AA&&AA.n
	AK.xaxis=(AK.xaxis||[]).concat(AG)
	AK.cellIndexMap=N.copy(AF,(AK.cellIndexMap||{}))
	AK.aggHeaderComponentParams=N.copy(v,(AK.aggHeaderComponentParams||{}))
	(AK.headerComponentParams||AK.headerGroupComponentParams).format=w.chartFormat||{}
	AE.headerName=AJ.headerName
	AE.cellRenderer=w.chartRenderer
	AE.headerComponentParams=AE.headerComponentParams||AE.headerGroupComponentParams
	delete AE.children
	delete AE.headerGroupComponentParams
	}function Q(x,w,AC,v){var AB=x.headerComponentParams||x.headerGroupComponentParams,z=A(AB,w)
	if(!AC.chdGroup){AC.chdGroup={}
	Y.forEach(AC.children,function(AH){var AG=AH.headerComponentParams||AH.headerGroupComponentParams,AF=A(AG,w)
	AC.chdGroup[AF]=AH
	})
	}var AE=AC.chdGroup[z],AA
	if(!AE){AC.children.push(x)
	AC.chdGroup[z]=x
	AA=x
	}else{var AD=AE.headerComponentParams||AE.headerGroupComponentParams
	AD.format=v.chartFormat||{}
	AA=AE
	}if(AB.ui<=w){Y.forEach(x.children,function(AF){Q(AF,w,AA,v)
	})
	}else{x.colSpan=P
	h(x,AA,v)
	}v.aggGroupHeader.allFields[x.field]=true
	}function X(z,x,w){if(!z){return 
	}Y.forEach(z.children,function(AA){X(AA,z,w)
	})
	if(!z.children&&!w.params){w.params=z.headerComponentParams
	}if(x){z.headerName=x.headerName
	if(x.headerGroupComponentParams||x.headerComponentParams){var v=(x.headerGroupComponentParams||x.headerComponentParams)
	if(z.hasOwnProperty("headerGroupComponentParams")){z.headerGroupComponentParams=v
	}else{z.headerComponentParams=v
	}}}}function B(v){Y.forEach(v,function(x,w){if(!x||x.startsWith(M)){v[w]=x
	}else{v[w]=M+x
	}})
	}function o(w,AB,z){var v=false
	for(var x=0
	x<w.length
	x++){var AC=w[x]
	if(AC.stt){if(z){if(x>0&&AC.pi&&(AC.pi.hasOwnProperty("ri")||AC.pi.hasOwnProperty("ci"))){v=true
	var AA=w[x-1]
	if(AC._e&&AC.hst&&AC.hst!==L&&AA&&AA._e&&AA.v===AA._e.n){AA.v+=" ("+AC._e.n+")"
	}}}break
	}}AB.exclude=v
	return AB
	}mstrmojo.ag.models.template.AgDataInterface=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.ag.models.template.AgDataInterface",data:null,cp:null,agColumnDefs:[],agRows:[],headers:[],headerObjects:{},treeMap:{},titleZone:[],dataCache:{},init:function n(v){this.data=v.data
	this.defn=v.defn
	this.cp=v.cp
	},nameToField:function t(v){if(!v){return v
	}var x=v.split(/\s+/)
	var w=x.map(function(AA,z){if(z===0){return AA.toLowerCase()
	}else{return AA.substr(0,1).toUpperCase()+AA.substr(1).toLowerCase()
	}}).join("")
	w=encodeURIComponent(w).replace(/\./g,a)
	return w
	},addToHeaderGroup:function g(z,AB){var x=AB.field,v=!z.allFields||!z.allFields[x],w=z.field!==AB.field,AA
	AB.field=(z.field||"")+AB.field
	if(v&&w){if("headerComponentParams" in z){z.headerGroupComponentParams=z.headerComponentParams
	delete z.headerComponentParams
	}if(!z.children){z.children=[]
	}z.children.push(AB)
	z.allFields=(z.allFields||{})
	z.allFields[x]=true
	AA=z.headerGroupComponentParams.colIdx
	AB.headerComponentParams.colIdx=AA
	AB.headerComponentParams.mergedColIdx=AA+z.children.length-1
	}},getNewHeader:function b(AE,AD,x,AC,AM){var AG=this.data,AI=AG.gsi,v=x.dataInterface.getColumnSetIndexCellBelongsTo(AE),w=x.colWidths[AC],AL=l.getGSI(AI,v),AK=AE.hasOwnProperty("mix"),AJ,AH,AA={rowArrangement:x.rowArrangement},AB=AE.axis===Z.Rows,z=AG.gts.row,AF=1
	if(AK){AJ=AE.mix
	AH=AL.mx[AJ]
	AA.mix=AJ
	AA.min=AH.min
	AA.max=AH.max
	}if(AB&&(AE.hasOwnProperty("ast")||x.hasSubtotalsInRows)){x.hasSubtotalsInRows=true
	if(AE.hasOwnProperty("fix")&&z.length>1){AF=Y.filter(z,function(AN){return AN.id===AE.id
	}).length
	}else{if((AE.hasOwnProperty("fs")&&AE.fs.length>1)){AF=AE.cs||1
	}}}w=w&&parseInt(w.w,10)
	return{headerName:AD,field:this.nameToField(AD+AE._ei),chartDataType:AK?"series":"category",minWidth:x.colScenario===E.FIXED?0:this.getMinWidth(),width:isNaN(w)?null:w,autoHeight:x.doAutoHeight,columnSpan:AE.cs||1,attrForms:AF,colSpan:function(AO){var AN=AO.data&&AO.data[this.field]
	if(this.attrForms>1&&(AN===""||Y.find(f,"n",AN)>-1)){return this.attrForms
	}return 1
	},hide:AM,cellRendererParams:AA,headerComponentParams:{ei:AE._ei,css:AE.css,cs:AE.cs||1,rs:AE.rs,fi:AE.fi,setIdx:v,ui:AE.ui,idx:AE.idx,headerRowSpan:x.headerRowSpan,cellIndexMap:[],cellsToMerge:x.cellsToMerge,did:AE.id?AE.id:AE._e.id,t:AE.otp?AE.otp:AE._e.otp,colIdx:AC,rowIdx:x.curRow}}
	},isMicroChart:function U(){return false
	},reset:function e(){this.agColumnDefs=[]
	this.agRows=[]
	this.headers=[]
	this.headerObjects={}
	this.treeMap={}
	this.titleZone=[]
	},convertData:function R(v,AM,w){var AJ=this,AR=AJ.data,AB=AJ.dataCache,AL=AR?(AR.ghs.chs.items.length||(AR.ghs.rhs.items&&AR.ghs.rhs.items.length?1:0)):0,AO=l.getGSI(AR.gsi),AC=AO.rows.length,AF=N.walk("rw.row.tc",AR),AD=AJ.cp,AQ=N.walk("data.twm.bottom",AJ)||AD.colWidths,AK=AQ&&AQ.length,AG=l.getRowArrangement(AR),AH=AG===u.CT,AS=new mstrmojo.models.template.DataInterface(AR)
	AM=Math.min(AM,v+AF+AL-1,AD.rc-1)
	var x={isColumnsOnly:w,hasMicroChart:false,isHeaderRow:true,hasSubtotalsInRows:false,headerRowSpan:AL,cellOffsetBase:0,cellOffset:0,columnRowOffset:{},rowHeaderUnits:AC,isLockRowHeader:AR.lhv===d.ROW||AR.lhv===d.BOTH,cellsToMerge:AD.getUnmergedCells(v-1),headers:[],headerObjects:{},treeMap:{},titleZone:[],dataInterface:AS,colScenario:AS.getColResizeScenario(),colWidths:AQ,rowsToRedraw:{},isOutlineMode:C.isDisplayOutline(AJ.data,AJ.defn),doAutoHeight:AH&&!AR.rh,rowArrangement:AG},AI,AE,AA=function(AT){x.cellOffset-=AT.cs||1
	},AN=l.isSubtotalOnTop(AR)
	AJ.agRows=[]
	function AP(AU,AT){F.call(AJ,AE,AU,AT,x)
	}for(AI=v
	AI<=AM
	AI++){var z=AD.getRowCells(AI)
	AB[AI]=z
	if(x.isOutlineMode){AE=N.copy(AE,{})
	AE.stt=false
	AE=o(z,AE,AN)
	}else{AE={}
	}x.curRow=AI
	x.isHeaderRow=true
	if(w){x.cellOffset=0
	}else{x.cellOffset=AK
	Y.forEach(z,AA)
	}Y.forEach(z,S)
	Y.forEach(z,AP)
	if(!x.isHeaderRow){AJ.agRows.push(AE)
	}}return N.keyarray(x.rowsToRedraw,true)
	},aggregateHeadersForMicroChart:function O(AC,AD){if(!N.isEmpty(AC)){var AE=this.data,AF=AE.gsi,x=this.agColumnDefs,AG={},AB={},z=[],AA={},w=AE.gts.col,v=0
	if(!N.isEmpty(AC)){AG=j(AF)
	}Y.forEach(AF,function(AK,AJ){var AH=0
	if(AK.cols.length!==0){var AI=AG[AJ]+v
	Y.forEach(w.slice(AI),function(AM,AL){if(AM.otp===-1){return false
	}if(AM.fix>1){AH++
	}})
	}v+=AH
	AB[AJ]=v
	})
	Y.forEach(x,function(AK){var AN=AK.headerComponentParams||AK.headerGroupComponentParams||{},AJ,AM=AN.setIdx,AI,AO,AL
	if(!AK.aggregated&&AM in AC){AO=AC[AM]
	AL=AD[AO.type].name
	if(!AA[AM]){AA[AM]=AA[AM]||{}
	}AI=q(AF,AM,AO)+(AG[AM]||0)
	AJ=A(AN,AI)
	if(!AA[AM][AJ]){AA[AM][AJ]=AK
	z.push(AK)
	}var AH=AA[AM][AJ]
	if(AH.allFields&&AH.allFields[AK.field]){return true
	}Q(AK,AI,{children:[AH],headerName:AO.name},{col:w,attrFormsOffset:AB[AM],aggGroupHeader:AH,chartRenderer:AL,chartFormat:AO.format,setCfg:AO})
	}else{if(AK.headerComponentParams){AK.headerComponentParams.rs=1
	}z.push(AK)
	}})
	Y.forEach(z,function(AJ){if(AJ.aggregated){return false
	}if(AJ.hasOwnProperty("headerGroupComponentParams")||AJ.hasOwnProperty("headerComponentParams")){var AM=AJ.headerGroupComponentParams||AJ.headerComponentParams,AL=AM.setIdx
	if(AL in AC){var AN=AC[AL],AI=AN.name,AH={}
	X(AJ,null,AH)
	var AK=AH.params||{}
	AK.rs=1
	AK.isChartHeader=true
	if(AJ.hasOwnProperty("headerGroupComponentParams")){AJ.headerGroupComponentParams=AK
	}else{if(AJ.hasOwnProperty("headerComponentParams")){AJ.headerComponentParams=AK
	}}AJ.headerName=AI
	AJ.aggregated=true
	}}})
	this.agColumnDefs=z
	}},getAggregatePadding:function H(v){return mstrmojo.models.template.DataInterface.prototype.getAggregatePadding.call(this,v)
	},getMinWidth:function G(){var w=parseInt(D.convertUnits(J.PT,J.PX,k),10),v=parseInt(D.convertUnits(J.PT,J.PX,this.getAggregatePadding().h),10)
	return(v*2)+w
	}})
	mstrmojo.ag.models.template.AgDataInterface.hasMicrocharts=function I(v){return !N.isEmpty(N.walk("vp.chartCfg",v))
	}
	mstrmojo.ag.models.template.AgDataInterface.widgetPropsToJson=function m(AB,z){var w=AB.vp,x=w&&w[z],v={}
	if(z){return x?JSON.parse(p.decodeXMLAttribute(x)):undefined
	}for(var AA in w){v[AA]=JSON.parse(p.decodeXMLAttribute(w[AA]))
	}return v
	}
	mstrmojo.ag.models.template.AgDataInterface.widgetPropsToXml=function r(w){Y.forEach(w[c.chartCfg],function(x){B(x.mid)
	B(x.aid)
	})
	var v=new mstrmojo.XMLBuilder()
	v.addChild("props")
	v.addChild("widgetProps")
	v.addChild("fmt")
	N.forEach(w,function(x,z){v.addChild(z)
	v.addAttribute("value",mstrmojo.string.encodeXMLAttribute(JSON.stringify(x)))
	v.closeElement()
	})
	v.closeElement()
	v.closeElement()
	v.closeElement()
	return v.toString()
	}
	mstrmojo.ag.models.template.AgDataInterface.WIDGET_PROPS_ENUM=c
	mstrmojo.ag.models.template.AgDataInterface.microchartColSpanFn=P
	mstrmojo.ag.models.template.AgDataInterface.__UNIT_TEST__={filterTotal:o}
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.ui.editors.controls.ControlGroup","mstrmojo.ui.Pulldown","mstrmojo.hash","mstrmojo.models.template.DataInterface")
	mstrmojo.requiresDescs(2429)
	var B=mstrmojo.models.template.DataInterface,G=mstrmojo.hash,F=-1,E=[{n:mstrmojo.desc(2429,"All Columns"),id:F,key:null}]
	function C(N,J,I,H){var K=H?[].concat(E):[],M=0,L
	B.forEachGSI(N,function(S,Q,P){L=L||J.getLayoutKeyByUnitKey(Q)
	var R=J.getLayoutUnitDefn(Q,L),O=(R&&R.ttl)||""
	K.push({n:O,id:P,key:Q})
	if(I===Q){M=K.length-1
	}})
	return{items:K,idx:M}
	}mstrmojo.ui.editors.controls.ColumnSetGroup=mstrmojo.declare(mstrmojo.ui.editors.controls.ControlGroup,null,{scriptClass:"mstrmojo.ui.editors.controls.ColumnSetGroup",includeAll:true,pulldown:null,init:function D(J){this._super(J)
	var L=J.callback||mstrmojo.emptyFn,H=C(J.gsi,J.docModel,J.value,this.includeAll),K={},I
	G.copyProps(["focusOnPopup","onitemSelected","enableAccessibility"],J,K)
	I=mstrmojo.ui.Pulldown.newPulldown(H.items,function(M,N){L(M.key,M.id)
	},H.idx,K)
	this.addChildren(I)
	this.pulldown=I
	},updatePulldownItems:function A(M,J,L,I){var H=C(M,J),K=this.pulldown
	if(K){K.set("items",H.items)
	if(typeof L==="number"){K.set("selectedIndex",L)
	}}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.expr","mstrmojo.Editor","mstrmojo.registry","mstrmojo.fe.FilterUtils","mstrmojo.models.template.DataInterface","mstrmojo.func")
	mstrmojo.requiresDescs(15544)
	var H=mstrmojo.array,G=mstrmojo.hash,E=mstrmojo.fe.FilterUtils.getExprXml,F=mstrmojo.expr,A=F.TP,C=F.STP,D=mstrmojo.models.template.DataInterface
	mstrmojo.fe._HasFilterEditor=mstrmojo.provide("mstrmojo.fe._HasFilterEditor",{filterEditorScriptClass:"mstrmojo.fe.FilterEditor",limitMdxUnitIdsHashTable:{},getLimitMdxUnitIdsHashTable:function B(J){var I=J&&J.limitExpr,L=I&&I.nds||[],M={}
	var K=function(N){H.forEach(N,function(O){if(O.mdxUnitId){M[O.mdxUnitId]=true
	}else{if(O.m&&O.m.did){M[O.m.did]=true
	}else{if(O.nds){K(O.nds)
	}}}})
	}
	K(L)
	return M
	},onShowFilterEditor:function(W){var d=this,J=this.model,a=this.getDataService?this.getDataService():J.getDataService(),P=this._getXtabCallback?this:J.controller,c={},Z=W.getNodeKeys?W.getNodeKeys():[W.k],I=d.getEditorModel&&d.getEditorModel(),Y=I&&I.getHost&&I.getHost(),Q=Y&&Y.hasArrayGSI,X=Q?D.getGSI(Y.gridData.gsi).k:null,b=Q?"sg-mfe":"mfe",L=function L(f,h){var e,g=f.nds
	if(f.ph){h[f.ph.idx]=true
	}else{if(g){for(e=0
	e<g.length
	e++){L(g[e],h)
	}}}return h
	},R=function R(g){var f=d.getLimitMdxUnitIdsHashTable(g),e=[]
	G.forEach(d.limitMdxUnitIdsHashTable,function(j,h){if(!f[h]){e=e.concat({did:h,t:4})
	}})
	a.saveViewFilter({filterModel:g,limitExp:E(g.limitExpr),nodeKeys:Z,limitMdxToRemove:e},mstrmojo.func.wrapMethods(P._getXtabCallback(W),{success:function(){var h=W.boxContent
	h&&h.raiseEvent&&h.raiseEvent({name:"regenerateToolbar"})
	}}))
	},O=function O(f){var g=b&&mstrmojo.all[b],l=g.colSetModelsCache,h=a.msgId,j=[],e=function e(n,q){var p=d.getLimitMdxUnitIdsHashTable(n),m=[],t=E(n.limitExpr),r,o
	G.forEach(d.limitMdxUnitIdsHashTable,function(v,u){if(!p[u]){m=m.concat({did:u,t:4})
	}})
	r={act:"saveViewFilter",messageID:h,nodeKey:q,expr:a.getFilterExpression(n,q),partialUpdate:{nodes:[d.k]}}
	o={act:"saveViewFilterLimit",messageID:h,nodeKey:q,limitExp:t,limitToRemove:m||[]}
	return[r,o]
	},k=mstrmojo.func.wrapMethods(P._getXtabCallback(W),{success:function(){var m=W.boxContent
	if(m&&m.raiseEvent){m.raiseEvent({name:"regenerateToolbar"})
	}}})
	G.forEach(l,function(m,n){if(m.limitExpr&&!m.limitExpr.fn){m.limitExpr.fn=F.FN.AND
	}if(m.expr&&!m.expr.fn){m.expr.fn=F.FN.AND
	}j=j.concat(e(m,n))
	})
	a.submitUpdates(j,k)
	},U=function(e){var f=b&&window.mstrmojo&&mstrmojo.all[b],g
	if(!f){f=mstrmojo.insert({id:b,scriptClass:d.filterEditorScriptClass,onUpdateBrowseElementsParams:function(k,j){var h=this.model
	k.datasetID=h.dsid
	k.messageID=h.messageID
	k.templateNodeKey=W.k
	}})
	}f.editorTitle=mstrmojo.desc(15544,"Advanced Filter Editor")
	f.set("vizTitle",W.title)
	e.targets=H.filter(e.targets,function(h){switch(h.t){case A.FILTER:return(h.st!==C.CUSTOMGROUP)
	case A.CONS:return h.st===C.NDE
	}return !h.olap
	})
	d.limitMdxUnitIdsHashTable=d.getLimitMdxUnitIdsHashTable(e)
	g=W.boxContent
	f.set("xtab",g)
	f.set("onSave",g&&g.hasArrayGSI?O:R)
	f.set("model",e)
	if(f.scriptClass==="mstrmojo.vi.ui.editors.FilterEditor"){f.set("docModel",J)
	}if(f.mainExpr.items.length>0){c=L(f.mainExpr.items[0],c)
	}f.open()
	},N={taskId:"getRWGridViewFilter",nodeKey:Z[0],colSetKey:X,rwb:J.bs,msgID:J.mid},K=J.newCallback({success:function M(f){var e=mstrmojo.insert(f)
	mstrmojo.loader.loadBundleWithCss(d.filterEditorScriptClass,"filter-editor.js",[mstrmojo.getJsRoot()+"mojo/css/filter-editor.css"],function(){U(e)
	})
	},failure:function S(e){mstrmojo.alert(e.code+": "+e.message)
	}})
	a.getViewFilter(N,K)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.dom","mstrmojo.hash","mstrmojo.express.ui.SubtotalsWidget","mstrmojo.models.template.DataInterface","mstrmojo.mstr.EnumDSSXMLDrillType","mstrmojo.ui.menus.EditorConfig","mstrmojo.vi.enums.EnumFeatures","mstrmojo.vi.viz.EnumDSSDropZones")
	var R=mstrmojo.hash,M=mstrmojo.array,N=mstrmojo.models.template.DataInterface,E=mstrmojo.vi.viz.EnumDSSDropZones,J=mstrmojo.mstr.EnumDSSXMLDrillType,U={STATIC:0,DRILLING:1,SELECTOR_CONTROL:2,HYPERLINK:4,SORT:8,PIVOT:16,EDIT:32,GROUP:64,CALCULATION:128,GROUP_EDIT:256,KEEP_ONLY:512,TOTAL_HEADER:1024},A={ABSOLUTE:1,NESTED:2,SORT_UNDER:3},L="-1",F=mstrmojo.vi.enums.EnumFeatures
	function I(d){return mstrmojo.resolveFeature("web-sort")&&!!(d&&(d.mix!==undefined&&d._e&&d._e.otp===4))
	}function Y(e){var j=new mstrmojo.ui.menus.MenuConfig(),h=e.data,d=e.cfg,g=[{n:mstrmojo.desc(1893,"Left"),btp:"l"},{n:mstrmojo.desc(1894,"Right"),btp:"r"},{n:mstrmojo.desc(13834,"To Beginning"),btp:"b"}],f=this.delegateActionToXtab
	if(!d.tabularGrid){g.push({n:mstrmojo.desc(152,"Up"),btp:"u"},{n:mstrmojo.desc(153,"Down"),btp:"d"},{n:mstrmojo.desc(1891,"To Columns"),btp:"2"},{n:mstrmojo.desc(1890,"To Rows"),btp:"1"})
	}M.forEach(g,function(k){if(e.xtab.model.isPvtButtonVisible(h,k.btp)){j.addMenuItem(k.n,"xt",function(){f(e,"pivot",[k.btp])
	})
	}})
	return j
	}function D(g,l){if(!g.onDemandDrillDynamicItems){g.onDemandDrillDynamicItems={}
	}var k="drill"+l,f=g.onDemandDrillItems,e=g.onDemandDrillDynamicItems[k]
	if((!g.onDemandDrillItems||g.shouldUpdateDrillMenus)&&!g.loadingDCM&&g.gridData.odd){g.loadingDCM=true
	delete g.shouldUpdateDrillMenus
	var j=new mstrmojo.SimpleXHR({async:false})
	j.request("POST",mstrConfig.taskURL,{success:function h(m){M.forEach(m.dynamicMenus,function(n){g.onDemandDrillDynamicItems[n.n]=n.items
	if(n.n===k){e=n.items
	}})
	f=m.menuItems
	g.onDemandDrillItems=f
	delete g.loadingDCM
	}},{taskId:"RWOnDemandDrill",styleName:"OndemandDrillContextMenusStyle",viewMode:1,usePartDisplay:1,docGridKey:g.k,rwb:g.model.docModel.bs})
	}var d=[]
	M.forEach(e,function(q){var m=q.idx,n=f[m],p=JSON.parse(n.subMenuIndices||"[]")
	if(p.length>0){var o=[]
	M.forEach(p,function(r){o.push(f[r])
	})
	n.items=o
	}d.push(n)
	})
	return d
	}function Z(e){var d=""
	switch(e){case J.DssXmlDrillToChild:d="drillDown"
	break
	case J.DssXmlDrillToParent:d="drillUp"
	break
	case J.DssXmlDrillToTemplate:d="drillTemplate"
	break
	}return d
	}function P(e){var d=M.filter(e,function(f){return[J.DssXmlDrillToChild,J.DssXmlDrillToParent].indexOf(f.dt)>-1
	})
	return d.length>0?"drill":""
	}function b(d){return d&&d.mix!==undefined&&!!d._e
	}function G(d){return d&&d.otp===12
	}mstrmojo.rw.xtab.XtabMenuConfig=mstrmojo.declare(mstrmojo.ui.menus.MenuConfig,null,{scriptClass:"mstrmojo.rw.xtab.XtabMenuConfig",xtab:undefined,data:undefined,isActionAvailable:function O(e,d){return((((e&&e.at)||0)&d)>0)
	},delegateActionToXtab:function Q(d,g,e){var f=d.xtab
	f[g].apply(f,[d.data].concat(e||[]))
	},buildXtabMenuConfig:function B(j){var o=this.xtab=j.xtab,g=o.id,h=this.selectedData=j.data=j.data||(o&&j.td&&o.getCellForNode(j.td)),l=o.model.getCellTitleInfo(h),k={xtab:o,data:h,cfg:j},n=this.delegateActionToXtab
	this.selectedNode=j.td
	if(j.onClose){this.addPopupHandlers(g,mstrmojo.emptyFn,j.onClose)
	}var p=o.model.getCellLinksInfo(h)||{},f=p.links||[],d=this.isActionAvailable(h,U.HYPERLINK)&&f.length>0&&(h.slm==undefined),e=this.isActionAvailable(h,U.DRILLING)&&(h.sdm==undefined)&&!!mstrmojo.resolveFeature(F.WEB_DRILL_AND_LINK),m=(h&&h.mix===undefined&&l.isSrcTitle&&h.otp!==-1&&h.avst>0)
	if(e){e=this.addDrillMenuItem(k)?true:false
	}if(d){f.forEach(function(r,q){this.addMenuItem(r.n||r.url||(r.target&&(r.target.n||r.target.did)),"",function(){n(k,"link",[q])
	})
	},this)
	}if(e||d){this.addSeparator()
	}if(!mstrApp.isDossier){this.addPivotMenuItem(k)
	}if(this.supportWebSort()){this.addSortMenuItem(k)
	}if(m){this.addSeparator()
	this.addShowTotalMenuItem(k)
	}if(!mstrApp.isInVFConfigMode&&!mstrApp.isInVFInteractMode&&(mstrApp.isOIVM&&mstrApp.isOIVM()&&(G(h)||b(h)))){this.addViewFilterEditor(k)
	}this.addRemoveMenuItem(k)
	},addPivotMenuItem:function K(d){if(this.isActionAvailable(d.data,U.PIVOT)){var e=Y.call(this,d)
	if(e.menus.length){this.addSubMenuItem(mstrmojo.desc(1889,"Move"),"",this.id,function(){return e
	},d)
	this.addSeparator()
	}}},addDrillMenuItem:function W(h,k){var m=h.xtab,f=h.data,l=this.delegateActionToXtab,d=function(n){n.onDemandDrillItems=null
	n.onDemandDrillDynamicItems=null
	}
	var g=k?[k]:m.model.getAllDrillPathsForCell(f),j=m.model.getCellTitleInfo(this.selectedData),e=D(m,j.title.id)
	if(g.length<1&&e.length<1){return 
	}this.addPopupMenuItem(mstrmojo.desc(145,"Drill"),this.id,function(){var n=new mstrmojo.ui.menus.MenuConfig({menuCssClass:P(g),isHostedWithin:false,supportsScroll:true,alignWithAnchor:true,maxHeight:mstrmojo.dom.windowDim().h-50})
	M.forEach(g,function(o){if(o&&o.k){if(mstrApp.isDossier&&!o.within){return 
	}n.addMenuItem(o.n||"",Z(o.dt),function(){m.shouldUpdateDrillMenus=true
	l(h,"drill",[o])
	d(m)
	})
	}})
	M.forEach(e,function(p){if(mstrApp.isDossier){var o=M.filter(p.items,function(q){return q.within
	})
	if(o.length===0){return 
	}}n.addPopupMenuItem(p.n,"",function(){var q=new mstrmojo.ui.menus.MenuConfig({supportsScroll:true,maxHeight:350,isHostedWithin:false,alignWithAnchor:true,menuCssClass:P(p.items)})
	M.forEach(p.items,function(r){if(mstrApp.isDossier&&!r.within){return 
	}q.addMenuItem(r.n,Z(r.dt),function(){m.shouldUpdateDrillMenus=true
	l(h,"drill",[r])
	d(m)
	})
	})
	return q
	})
	})
	return n
	})
	},addViewFilterEditor:function c(d){if(!mstrmojo.resolveFeature("use-view-filter-editor")){return 
	}this.addMenuItem(mstrmojo.desc(3938,"edit view filter..."),"xt",this.delegateActionToXtab.bind(this,d,"showViewFilter"),d)
	},addRemoveMenuItem:function S(e){if(!mstrmojo.resolveFeature("modify-grid-level-in-documents")){return 
	}if(e.data._e){if(e.data._e.otp!==4){return 
	}}if(e.data.otp===-1){return 
	}if(e.data._tp){var d=e.data._tp._e
	if(d){if(d.otp===4){return 
	}}}this.addSeparator()
	this.addMenuItem(mstrmojo.desc(190,"Remove"),"xt",this.delegateActionToXtab.bind(this,e,"removeUnit"),e)
	},addSortMenuItem:function a(r){var AG=r.data,AF=r.xtab,g=AG.axis,t=g===E.Rows,f=AG.mix!==undefined,AE=N.getGSI(AF.gridData.gsi,AG.setIdx),AA=((t&&f)||(!t&&!f)?E.Columns:E.Rows)-1,v=AE.sorts&&AE.sorts.length>AA?AE.sorts[AA]:[],h=t?AE.rows:AE.cols,e=false,d=-1,u,AI,z,j,p,AH=false,o=false,q=false,n=false,AC=AG.id,m=AF.model,x=M.some(AE.rows.concat(AE.cols),function(AJ){return m.isRecursiveAttribute&&m.isRecursiveAttribute(AJ.did)
	}),l=t?[]:AE.rows,AB=this.delegateActionToXtab,w=this.isActionAvailable(AG,U.SORT),k=m.isRecursiveAttribute&&m.isRecursiveAttribute(AC),AD=k&&mstrApp.isAppStateDefault&&mstrApp.isAppStateDefault()&&!mstrApp.isDossier
	if(mstrApp.isVI){w=w&&mstrmojo.resolveFeature("web-sort")
	}else{if(mstrApp.isOIVM&&mstrApp.isOIVM()){e=true
	}}if(f&&(h.length>(M.find(h,"did",L)+1))){w=false
	}if(w){u=M.filterOne(v||[],function(AM,AJ){var AL=AM.key.split("!"),AK=AL[4],AN=R.walk("_p._e.id",AG)
	if(AL.length>1&&AL[1]===AC){if(!f||(!!AK&&AK===AN)||(!AK&&!AN)){d=AJ
	return true
	}}return false
	})
	if(u){switch(u.isAsc){case true:AH=true
	break
	case false:o=true
	break
	default:q=true
	p=A.NESTED
	}AI=u.metricSortKey&&u.metricSortKey.split("!")
	if(AI&&AI.length){j=parseInt(AI[0],10)
	z=AI[1]
	n=(j===A.SORT_UNDER)
	}}else{p=A.NESTED
	}if(!e&&f&&!x){this.addMenuItem({ttp:mstrmojo.desc(7974,"Sort Ascending")},"xt btn asc"+(AH?" on":""),function(){AB(r,"sort",[true,j||p,z?{did:z,t:AI[2]}:undefined])
	},r)
	this.addMenuItem({ttp:mstrmojo.desc(7975,"Sort Descending")},"xt btn desc"+(o?" on":""),function(){AB(r,"sort",[false,j||p,z?{did:z,t:AI[2]}:undefined])
	},r)
	if(u){this.addMenuItem({ttp:mstrmojo.desc(11699,"Clear Sort")},"xt btn clr",function(){var AJ=[]
	v.splice(d,1)
	AJ[AA]=m.convertCurrentSortAxisIntoActionSort(v)
	AB(r,"clearSort",[AJ])
	},r)
	}this.addSeparator()
	this.addMenuItem(mstrmojo.desc(17812,"Sort Within (Default)"),"xt"+(j===A.NESTED?" on":""),function(){AB(r,"sort",[AH,A.NESTED])
	},r)
	this.addMenuItem(mstrmojo.desc(17813,"Sort All Values"),"xt"+(j===A.ABSOLUTE?" on":""),function(){AB(r,"sort",[AH,A.ABSOLUTE])
	},r)
	if(l.length>1){this.addPopupMenuItem(mstrmojo.desc(17811,"Sort Within an Attribute"),this.id,function(){var AJ=new mstrmojo.ui.menus.MenuConfig({isHostedWithin:false,alignWithAnchor:true})
	M.forEach(l,function(AM,AL,AK,AN){if(!AN){AJ.addMenuItem(AM.n,"xt"+(n&&z===AM.did?" on":""),function(){AB(r,"sort",[AH,A.SORT_UNDER,AM])
	},r)
	}else{AJ.addMenuItem(AM.n,"xt sort non-int disabled"+(n&&z===AM.did?" on":""),mstrmojo.emptyFn)
	}})
	return AJ
	})
	}if(AF.hasSubtotal()){this.addMenuItem(mstrmojo.desc(19388,"Sort with Subtotals"),"xt"+(u&&!q&&!AI?" on":""),function(){AB(r,"sort",[AH])
	},r)
	}}else{this.addMenuItem(mstrmojo.desc(7974,"Sort Ascending"),"xt"+(AH?" on":""),function(){AB(r,"sort",[true])
	},r)
	this.addMenuItem(mstrmojo.desc(7975,"Sort Descending"),"xt"+(o?" on":""),function(){AB(r,"sort",[false])
	},r)
	}if(AD){this.addMenuItem(mstrmojo.desc(15676,"Custom Sort..."),"xt"+(q?" on":""),function(){AB(r,"customSort",[AG.axis])
	},r)
	}}if(!r.cfg.hideAdvancedSort&&(w||I(AG))&&(AF.supportAdvancedSort?AF.supportAdvancedSort():!mstrApp.isDossier&&!AF.hasArrayGSI)){this.addMenuItem(mstrmojo.desc(11099,"Advanced Sort..."),"xt",function(){AB(r,"advSort",[AG.axis,r.ndeInfo])
	},r)
	}},addShowTotalMenuItem:function H(d){this.addEditorMenuItem(mstrmojo.desc(6193,"Show Totals"),this.id,this.getSubtotalEditorConfig,R.copy(d,{isTotals:true}))
	},getSubtotalEditorConfig:function X(e){var f=e.data,h=e.xtab,d=h.getBasicSubtotalEditorConfig(f.ast)
	d.fnOk=function g(){var k=d.contents.getSubtotalTypes(),j=h.model
	h.controller.onShowTotals(h,j.getShowTotalsUnitAction(f.id,f.otp,k[0],k[1]))
	}
	return d
	},supportWebSort:function C(){return !(mstrApp.isVI&&!mstrmojo.resolveFeature("web-sort"))
	}})
	mstrmojo.rw.xtab.XtabMenuConfig.ACTION_TYPES=U
	mstrmojo.rw.xtab.XtabCellMenuItemContextType=null
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.HierarchyCheckList","mstrmojo.ui._HierarchyListSelection","mstrmojo.EnumSelectionType","mstrmojo.hash","mstrmojo.array","mstrmojo._HasTooltip","mstrmojo.dom","mstrmojo.css")
	var P=mstrmojo.hash,b=mstrmojo.css,J=mstrmojo.array,G=mstrmojo.dom,W=mstrmojo._HasTooltip,A=mstrmojo.EnumSelectionType
	var a="dynamic",X="hasLevelSelected",U="vi-regular vi-tooltip-A hierarchyTooltip",L="fullSelected",N="hcsd"
	var f=7
	function c(j){var g=false
	if((j.hcsd)&&j.isSelected&&j.isBranchSelected){var h=this
	g=J.some(this.selectionList,function(l){if(l.isNot===true){var k=h.getItemByValue(l.itemValue)
	while(k){if(k===j){return true
	}k=k.parent
	}}})
	}return g
	}function I(l,g,j){var m=[],k=0,h={}
	J.forEach(l,function(o){var n=o.v
	if(n>=j){m.push(o)
	if(g.isLevelSelected(n)){h[m.length-1]=true
	k++
	}}})
	return{items:m,selectedIndices:h,count:k}
	}mstrmojo.vi.ui.HierarchyCheckList=mstrmojo.declare(mstrmojo.ui.HierarchyCheckList,[mstrmojo.ui._HierarchyListSelection],{scriptClass:"mstrmojo.vi.ui.HierarchyCheckList",getItemMarkup:function E(h,g){return'<{@tag} class="item {@cls}" idx="{@idx}" style="{@style}" title="{@tt}"><div class="right"><span class="refresh"></span><span class="branch"></span><span class="level"></span></div><div class="content"><span class="indent" style="padding-left: {@indent}px
	"></span><span class="triangle"></span><span class="checkbox"></span><span class="text">{@en@n}</span></div></{@tag}>'
	},useRichTooltip:true,getItemProps:function d(j,g){var h=this._super(j,g)
	if(j.isBranchSelected){h.addCls(a)
	}if(this.isInFilterPanel){if(j.hasLevelSelected){h.addCls(X)
	}if(j.hcsd){h.addCls(N)
	}var k=c.call(this,j)
	if((j.hcsd||j.ln)&&j.isSelected&&j.isBranchSelected&&!k){h.addCls(L)
	}}return h
	},onclick:function e(g){var j=g.getTarget(),k=this.getItemNodeFromTarget(j),h=this.getItemFromTarget(j)
	if(h){if(b.hasClass(j,"triangle")){if(h.hcd){this.doExpandCollapse(k,h)
	}}else{if(b.hasClass(j,"branch")){this.doElementSelect(k,h,!h.isSelected)
	}else{if(b.hasClass(j,"level")){this.openLevelPopup(k,h,j)
	}else{if(!b.hasClass(j,"indent")&&!b.hasClass(j,"refresh")){this.doBranchSelect(k,h,!h.isSelected)
	}}}}g.cancel()
	}},showTooltip:function D(g,m){var l=g.target||G.eventTarget(g.hWin,g.e),j=this.getItemFromTarget(l)
	if(j){var k=G.position(l),h=""
	this.tooltipOpenDelay=mstrmojo._HasTooltip.TOOLTIP_OPEN_DELAY
	if(b.hasClass(l,"branch")||b.hasClass(l,"level")||b.hasClass(l,"refresh")){if(b.hasClass(l,"branch")){h=j.isSelected?mstrmojo.desc(16756,"The element is single selected. Click to deselect"):mstrmojo.desc(16757,"Click to single select the element")
	}else{if(b.hasClass(l,"level")){h=mstrmojo.desc(15919,"Level Select")
	}else{h=mstrmojo.desc(15251,"Dynamic")
	}}this.richTooltip={cssClass:U,content:h,refNode:l,top:k.h+6,left:-k.w/2}
	this._super(g,m)
	return true
	}}},onSelectionChange:function K(j,g,k,l){if(j===A.ALL){this.setAllLevelSelection(g)
	var h=this.levelBtn
	if(h){b.toggleClass(h.domNode,X,false)
	}}if(j===A.ALL&&g){this.clearSelections()
	this.clearDescSelection()
	(this.raad?this.getInitialDisplayRoots():this.getRootItems()).forEach(function(m){if(m.v){this.selectionList.push({func:A.BRANCH,itemValue:m.v,isNot:false})
	}},this)
	if(this.postSelectionChange){this.postSelectionChange()
	}}else{this._super(j,g,k,l)
	}},updateItemNodesStatus:function Q(){var g=this.itemsContainerNode&&this.itemsContainerNode.childNodes
	this._super()
	if(!this.isInFilterPanel){return 
	}J.forEach(g,function(k){var h=this.getItemFromTarget(k)
	if(h){b.toggleClass(k,N,h.hcsd)
	b.toggleClass(k,X,h.hasLevelSelected)
	var j=c.call(this,h)
	b.toggleClass(k,L,(h.hcsd||h.ln)&&h.isSelected&&h.isBranchSelected&&!j)
	}},this)
	},getSummaryText:function M(){return""
	},getLevels:function F(){return[]
	},getLevelItems:function B(h){var k=this.getLevels(),l=h?[{v:-1,n:mstrmojo.desc(15824,"All Levels")}]:[]
	if(k.length>0){return l.concat(k)
	}var g=this.getMaxLevel()
	for(var j=0
	j<=g
	j++){l.push({v:j,n:mstrmojo.desc(493,"Level")+" "+(j+1)})
	}return l
	},postBuildRendering:function Z(){var j=this.levelPopup,h=this.domNode
	if(!j){var g=this.getLevelPopupConfig(),k=P.walk(g.scriptClass,window)
	delete g.scriptClass
	j=this.levelPopup=new k(g)
	this.addDisposable(j)
	}j.placeholder=h.insertBefore(document.createElement("div"),h.firstChild)
	j.render()
	return this._super()
	},unrender:function Y(g){var h=this.levelPopup
	if(h){h.unrender(g)
	}return this._super(g)
	},onScrollEnd:function C(){var h=this.levelPopup,g=h&&h.getPopupWidget()
	if(g&&g.visible){h.closePopup()
	}this.hideTooltip()
	},openLevelPopup:function S(o,k,j){var m=this.levelPopup,h=m.getPopupWidget()
	if(m&&k.hcd&&this.isHiearachyDisplay()){m.openPopup(h,{branch:k,branchNode:o})
	if(j){var g=h.domNode
	var n=G.position(g)
	var l=G.windowDim()
	g.style.left=Math.min(j.offsetLeft,l.w-n.w-G.position(g.offsetParent).x-10)+"px"
	g.style.top=j.offsetTop+j.offsetHeight-this.scrollNode.scrollTop+"px"
	}}},getLevelPopupConfig:function R(g){return P.copy(g,{scriptClass:"mstrmojo.ui.PopupButton",markupString:'<div id="{@id}" class="level-popup-btn" mstrAttach:click></div>',isHostedWithin:false,useRichTooltip:true,parent:this,widget:this,richTooltip:null,children:{scriptClass:"mstrmojo.ui.PopupWidget",alias:"levelPopup",visible:false,children:[{scriptClass:"mstrmojo.ui.CheckList",alias:"checklist",doItemSelect:function l(u,r){var q=this.parent,v=q.opener.widget,t=!this.selectedIndices[u._renderIdx]
	if(q.branch&&q.branchNode){v.doBranchLevelSelect(q.branchNode,q.branch,u.v,t)
	}else{v.doLevelSelect(u.v,t)
	}mstrmojo._IsList.doItemSelect.call(this,u,r)
	},onclick:function p(q){if(!b.hasClass(q.getTarget(),"refresh")){mstrmojo._IsList.onclick.call(this,q)
	}},getItemMarkup:function o(q){return mstrmojo.ui.CheckList.prototype.getItemMarkup.call(this,q).replace('<span class="text">{@en@n}</span>','<span class="refresh"></span><span class="text">{@en@n}</span>')
	}}],onOpen:function h(){var t=this.opener.widget,q=this.branch,r=I(t.getLevelItems(),t.getLevelSelection(q),q&&q.lv+1||0)
	this.checklist.set("items",r.items)
	this.checklist.set("selectedIndices",r.selectedIndices)
	}},getPopupWidget:function j(){return this.levelPopup
	},onPopupWidgetOpened:function k(){b.addClass(this.levelPopup.branchNode,"level-popup-open")
	},onPopupWidgetClosed:function m(){b.removeClass(this.levelPopup.branchNode,"level-popup-open")
	},showTooltip:function n(q,v){var u=q.target||G.eventTarget(q.hWin,q.e),t=G.position(u),r=mstrmojo.desc(16758,"Select elements by level")
	this.tooltipOpenDelay=mstrmojo._HasTooltip.TOOLTIP_OPEN_DELAY
	this.richTooltip={cssClass:U,content:r,refNode:u,top:t.h,left:-t.w/2}
	W.showTooltip.call(this,q,v)
	}})
	},updateBtnSelectionStatus:function O(j){if(j){if(j.hcd){var k=I(this.getLevelItems(),this.getLevelSelection(j),j.lv+1)
	j.hasLevelSelected=k.count>0
	}}else{var k=I(this.getLevelItems(),this.getLevelSelection(),0),g=this.items,h=this.levelBtn
	if(h){b.toggleClass(h.domNode,X,k.count>0)
	}J.forEach(g,function(l){this.updateBtnSelectionStatus(l)
	},this)
	}},getAllButtonConfig:function H(h,g){return P.copy(g,h?{scriptClass:"mstrmojo.Button",text:mstrmojo.desc(3474,"Select All"),alias:"selectAllBtn",cssClass:"selectAll",widget:this,onclick:function(){this.widget.doAllSelect(true)
	}}:{scriptClass:"mstrmojo.Button",text:mstrmojo.desc(1763,"Clear All"),alias:"clearAllBtn",cssClass:"clearAll",widget:this,onclick:function(){this.widget.doAllSelect(false)
	}})
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.expr","mstrmojo.string","mstrmojo.form","mstrmojo._FormatDefinition","mstrmojo.ME.Enum","mstrmojo.ME.MetricDataService","mstrmojo.ME.MetricEditBox","mstrmojo.ME.OptionDialog","mstrmojo.mstr.EnumDataType","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo.PassThroughOptions","mstrmojo.ui.Checkbox","mstrmojo.vi.enums.EnumFeatures","mstrmojo.TextArea","mstrmojo.Widget")
	mstrmojo.requiresDescs(218,219,221,531,628,945,1154,1442,1918,2102,2116,2154,2213,2919,5298,5424,5728,5891,7558,7984,7987,11566,13249,15656,20254)
	var v=mstrmojo.array,F=mstrmojo.string,AA=mstrmojo.mstr.EnumDataType,H=mstrmojo.vi.enums.EnumFeatures,A=mstrmojo.ME.MetricDataService,z=mstrmojo.mstr.EnumDSSXMLObjectTypes,Z=mstrmojo.mstr.EnumDSSXMLObjectSubTypes,N=mstrmojo.Button,q="#999",I=mstrmojo.hash
	function Y(AH){var AE=AH.items,S=AE.length,AG="",AF
	for(AF=0
	AF<S
	AF++){AG+=AE[AF].v
	}return AG
	}var M=mstrmojo.dom,E=mstrmojo.string,W=mstrmojo._FormatDefinition,t=mstrmojo.ME.MetricEditBox.VALIDATION_STATUS,C=mstrmojo.ME.Enum.METRIC_EDIT_TYPES
	var b=function(S){if(!S){return t.VALID
	}return{"-2147214845":t.ERROR,"-2147214846":t.AMBIGUITY}[S]||t.ERROR
	},a=function(AK){var AH=AK.items,AE=AH.length,AJ=AH[AH.length-1],AG,AI,AF=[],S=""
	if(AH[0]&&AH[0].tp!==38){AF.push({v:"&",tp:38,lv:4,sta:2})
	}for(AG=0,AE=AH.length
	AG<AE
	AG++){AI=AH[AG]
	if(AI.isNew&&!AI.oi&&AI.tp!==283){S+=AI.v
	}else{if(!E.isEmpty(S)){AF.push({v:S,tp:2,lv:1})
	S=""
	}AF.push(AI)
	}}if(!E.isEmpty(S)){AF.push({v:S,tp:2,lv:1})
	S=""
	}if(AJ&&AJ.tp!==-1){AF.push({v:"",tp:-1,lv:4,sta:2})
	}return{items:AF}
	},R=function(AF){var AG=a(AF.tks)
	var AE={items:true,v:true,tp:true,lv:true,oi:true,n:true,did:true,t:true,st:true,exv:true,extp:true,asc:true},S={getArrItemName:function(AJ,AH,AI){return"tkn"
	},isSerializable:function(AJ,AI,AH){return(AE[AJ])?true:false
	}}
	return E.json2xml("tknstrm",AG,S)
	},r=function(AG){var AE=AG.items,S=AE.length,AF=AE[AE.length-1]
	if(AF&&AF.tp===-1){AE.pop()
	}if(AE[0]&&AE[0].tp===38){AE.splice(0,1)
	}},w=function(S){return""
	},o=function(S,AF){var AE=[]
	S.oi.tks.items=AE
	AF.clearTokens(AE)
	},O=function(AI,AH){var AG=[]
	AG.push("<mt>")
	if(AI.fmt&&!AH){var S={getArrItemName:function(AL,AJ,AK){return AL.substr(0,AL.length-1)
	},isSerializable:function(AQ,AO,AN){if(mstrmojo.array.indexOf(["header_format","grid_format"],AQ)>-1){var AR=AO[AN][AQ]
	if(!AR){return{}
	}var AL="<"+AQ+">",AP
	for(AP in AR){AL+="<prs n='"+AP+"'>"
	var AK=AR[AP],AJ
	for(AJ in AK){var AM=AK[AJ]
	AL+="<pr n='"+AJ+"' v='"+(AM==="pru"?"":AM)+"'"
	AL+=AM==="pru"?' pru="1"':""
	AL+="/>"
	}AL+="</prs>"
	}AL+="</"+AQ+">"
	return{child:AL}
	}return true
	},skipNull:true}
	AG.push(E.json2xml("fmt",AI.fmt,S))
	}if(AI.prss&&!AH){var AF={getArrItemName:function(AL,AJ,AK){return AL.substr(0,AL.length-1)
	},isSerializable:function(AQ,AN,AL){if(mstrmojo.array.indexOf(["AnalyticalEngineProperties","DatamartProperties","VLDBSelect","VLDBFunction","VLDBReport"],AQ)>-1){var AM=AN[AL][AQ]
	if(!AM){return{}
	}var AK=[],AO=[],AP
	AK.push("<prs n='"+AQ+"' ")
	for(AP in AM){var AJ=AM[AP]
	if(AJ!=null){if(typeof AJ==="object"){AO.push(E.json2xml("pr",AJ,{skipNull:true,convertBoolean:true,isSerializable:function(AT,AS,AR){return true
	}}))
	}else{AK.push(AP+"='"+AJ+"' ")
	}}}AK.push(">")
	AK.push(AO.join(""))
	AK.push("</prs>")
	return{child:AK.join("")}
	}return true
	},skipNull:true}
	AG.push(E.json2xml("prss",AI.prss,AF))
	}if(AI.mps){AG.push(E.json2xml("mps",AI.mps,{skipNull:true,convertBoolean:true,isSerializable:function(AL,AK,AJ){return true
	}}))
	}if(AI.datp&&!AH){AG.push(E.json2xml("datp",AI.datp,{skipNull:true,convertBoolean:true,isSerializable:function(AL,AK,AJ){return true
	}}))
	}if(AI.sbs&&!AH){var AE={getArrItemName:function(AL,AJ,AK){return(AL==="avs")?"sb":AL.substr(0,AL.length-1)
	},isSerializable:function(AL,AK,AJ){return true
	},skipNull:true}
	AG.push(E.json2xml("sbs",AI.sbs,AE))
	}AG.push("</mt>")
	return AG.join("")
	},G=function(AE,S){AE.set("enabled",!S)
	var AF="mstrmojo-InlineWaitIcon"
	if(AE.iconClass){AE.set("iconClass",AE.iconClass.replace(new RegExp(AF),"")+" "+(S?AF:""))
	}else{mstrmojo.css.toggleClass(AE.domNode,AF,S)
	}},J=function(AE,S){var AF={taskId:"saveMetricDefinition",tokenStreamXML:R(AE),localSymbolFolderXML:w(AE),metricXML:O(AE),metricId:AE.did||"",outputFlags:327695,description:AE.desc||"",name:AE.n||"",saveAs:S,mft:(AE.ahj&&AE.ahj.mft)||0}
	if(E.isEmpty(AE.metricId)){AF.isNew=true
	}return AF
	},Q=function(AF){var AE=function(AG){var AI=this.parent
	var AH=mstrmojo.desc(7987,"The ## '###' has been saved successfully.").replace("##","Object").replace("'###'","")
	if(AI){AI.ob.refreshContent()
	AI.onObjectSaved({name:AI.name,did:AG.did,desc:AI.desc})
	AH=mstrmojo.desc(7987,"The ## '###' has been saved successfully.").replace("##",AI.typeDesc||"Object").replace("###",AI.name)
	}mstrmojo.alert(AH,AF.onSaved,mstrmojo.desc(7984,"Object Saved"))
	if(AI){AI.close()
	}AF.dirty=false
	},S={success:AE,failure:mstrmojo.SaveAsEditor.SAVEAS_CALLBACK.failure}
	return S
	},L=function L(AK){var AG=AK.items,S
	for(var AF=0
	AF<AG.length
	AF++){var AL=AG[AF]
	if(AL&&AL.oi&&A.hasLookupForAttributesProps(AL.oi.did)){var AJ=AG[AF+1]
	if(AJ.v==="<"){var AH=false
	for(var AI=AF+2
	AI<AG.length&&AG[AI].v!==">"
	AI++){var AE=AG[AI]
	if(AE&&AE.v==="UseLookupForAttributes"){AH=true
	break
	}}if(!AH){S=AF+2
	AG.splice(S,0,{v:"UseLookupForAttributes"},{v:"="},{v:"False"},{v:","})
	AF=AF+5
	}}else{S=AF+1
	AG.splice(S,0,{v:"<"},{v:"UseLookupForAttributes"},{v:"="},{v:"False"},{v:">"})
	AF=AF+5
	}}}},P=function(AK,AH){var AF=this
	G(AF,true)
	var AL=mstrmojo.ME._MetricEditorHelper.oi=AK.oi,AG=R(AL),AI=w(AL),AJ=O(AL,true),AM=function(AP){if(AP&&AP.tks){var AR=AP.tks
	r(AR)
	var AO=AR.items
	if(mstrApp&&mstrApp.isVI){AL.conditions=[]
	var AN=mstrApp&&mstrApp.getRootController().docCtrl.model
	v.forEach(AO,function(AU){var AV=AU.oi,AW=AV&&AV.t,AS=AV&&AV.st,AT=AV&&AV.did
	if(AW===z.Filter&&AS===Z.Filter){var AX=AN.getEmbeddedFilter(AT)
	if(AX){AV.isEmbedded=true
	AL.conditions.push(AX)
	}}})
	}AL.tks=AR
	if(AK.clientSideValidation){AK.clientSideValidation(AR)
	}AK.checkEditorFallback(AK.ide.candidates.items,AL)
	AR.vs=b(AR.rjec)
	AK.set("vStatus",AR.vs)
	AK.set("iStatus",AR.rjed||"")
	var AQ=false
	if(AK.handleValidation){AK.handleValidation(AR)
	if(mstrApp.isWorkstationPlugin){AQ=true
	if(AR.vs!==t.VALID){mstrApp.setFormulaToggleOn&&mstrApp.setFormulaToggleOn(false)
	}if(AR.met===C.ADVANCED){mstrApp.setFormulaToggleOn&&mstrApp.setFormulaToggleOn(false)
	}if(AK.hasPromptInTokens(AR.items)){mstrApp.setFormulaToggleOn&&mstrApp.setFormulaToggleOn(false)
	}mstrApp.finishSavingMetric&&mstrApp.finishSavingMetric(true)
	}}if(AH&&(AR.vs===t.VALID)){switch(AH){case"save":case"saveAs":L(AR)
	if(AK.isDME){AK.handleDerivedMetricAction(AH,AL)
	}else{AK.handleMetricAction(AH,AL)
	}break
	case"switch":if(AK.cbSwtichEditor&&(!mstrApp.isWorkstationPlugin||!AK.hasPromptInTokens(AR.items))){AK.cbSwtichEditor(AK)
	}if(mstrApp.isWorkstationPlugin){mstrApp.setFormulaToggleOn&&mstrApp.setFormulaToggleOn(true)
	}break
	}}else{if(AH&&AR.vs===t.ERROR&&!AQ){if(mstrApp.isWorkstationPlugin){mstrApp.finishSavingMetric&&mstrApp.finishSavingMetric(false)
	mstrmojo.alert(mstrmojo.desc(9826,"The metric definition has an error. Please correct before proceeding.")+"\n"+AR.rjed,null,mstrmojo.desc(9571,"Syntax Error!"))
	}else{mstrmojo.alert(mstrmojo.desc(9826,"The metric definition has an error. Please correct before proceeding."),null,mstrmojo.desc(9571,"Syntax Error!"))
	}}}}},AE=function(AN){mstrmojo.alert(AN.message||AN.getResponseHeader("X-MSTR-TaskFailureMsg"))
	},S=function(AN){G(AF,false)
	}
	A.validateMetric({tokenStreamXML:AG,localSymbolFolderXML:AI,metricXML:AJ,metricId:AL.did,isNew:E.isEmpty(AL.did),msgID:AK.ide.isDME?mstrApp.getMsgID():null},{success:AM,failure:AE,complete:S})
	},D=function(AE,AG){var AH=AG,S=AH.oi.fmt,AF=W.MetricFormatTarget
	G(AE,true)
	window.setTimeout(function(){if(!S){S=AH.oi.fmt={}
	var AK
	for(AK=0
	AK<AF.length
	AK++){S[AF[AK].p]={}
	}}var AL=M.position(AE.domNode,true)
	var AI=mstrApp.isWorkstationPlugin?(window.innerWidth-AH.formatPopupRef.width)/2:Math.max(0,(AL.x-(AH.formatPopupRef.width||565)))
	var AJ=mstrApp.isWorkstationPlugin?(window.innerHeight-AH.formatPopupRef.height)/2:AL.y
	AH.openPopup("formatPopupRef",{zIndex:AH.zIndex+10,model:S,left:AI+"px",top:AJ+"px"})
	G(AE,false)
	},50)
	},m=function(AF,AG){var AH=AG,S=AH.oi,AE=function(){var AK=M.position(AF.domNode,true)
	var AI=mstrApp.isWorkstationPlugin?(window.innerWidth-AH.formatPopupRef.width)/2:Math.max(0,(AK.x-(AH.optionPopupRef.width||565)))
	var AJ=mstrApp.isWorkstationPlugin?(window.innerHeight-AH.formatPopupRef.height)/2:AK.y
	AH.openPopup(mstrmojo.all.mstrMEOptionsDialog||"optionPopupRef",{zIndex:AH.zIndex+10,model:S,funcs:AH.funcs,left:AI+"px",top:AJ+"px"})
	}
	if(!AH.isDME&&!AH.funcs){G(AF,true)
	A.getSubtotalFunctions(null,{success:function(AI){if(AI.items){AH.funcs=AI.items
	AE()
	G(AF,false)
	}},failure:function(AI){mstrmojo.alert(AI.message||AI.getResponseHeader("X-MSTR-TaskFailureMsg"))
	G(AF,false)
	}})
	}else{AE()
	}},AB=function(AE,AF){var AH=M.position(AE.domNode,true),AG=I.any(AF.ide.datasets),S={zIndex:AF.zIndex+10,left:Math.max(0,(AH.x-(AF.ptoPopupRef.width||333)+AH.w/2))+"px",top:AH.y+"px",mptf:AF.mptf||_getMptfFromDataset(AF),dbt:AG.tables[0].dbt,so_dft:AG.so_dft,sim_dft:AG.sim_dft,onOK:function(AJ){AF.mptf=AJ
	var AI=_getMptfFromDataset(AF)
	if(!I.equals(AI,AJ)){AJ.dirty=true
	}}}
	AF.openPopup("ptoPopupRef",S)
	}
	_getMptfFromDataset=function(AF){var S=mstrApp&&mstrApp.getRootController().docCtrl.model,AH=AF.oi.did,AG=S.findUnitInDataSet(AH),AE
	if(AG){AE=I.clone(AG.mptf)
	}else{AE={mptso:{pru:1,v:0},mptsim:{pru:1,v:0},mptfms:""}
	}return AE
	}
	mstrmojo.ME._MetricEditorHelper=mstrmojo.provide("mstrmojo.ME._MetricEditorHelper",{noCache:true,useKeyDelay:true,tbBrowsable:true,functionNameRef:{scriptClass:"mstrmojo.Label",alias:"fnLabel",cssClass:"mstrmojo-ME-fct-name",bindings:{visible:function(){return !this.parent.insertMode
	},text:function(){return mstrmojo.desc(5424,"Function:")+" "+this.parent.fctName
	}}},nameEditBoxRef:{scriptClass:"mstrmojo.Box",alias:"nameEditBox",cssClass:"mstrmojo-ME-nameEditBox",cssDisplay:"inline-block",visible:false,bindings:{visible:function(){return !this.parent.insertMode&&this.parent.visible
	}},onvisibleChange:function(S){if(S.value==false){return 
	}var AE=this
	if(!AE.tmr){AE.tmr=window.setInterval(function(){if(AE.domNode){window.clearInterval(AE.tmr)
	delete AE.tmr
	AE.nameInput.inputNode.select()
	}},50)
	}},children:[{alias:"nameInput",scriptClass:"mstrmojo.TextBoxWithLabel",inputNodeCssClass:"mstrmojo-ME-nameInput",value:mstrmojo.desc(2213,"New metric"),size:20,maxLength:250,useRichTooltip:true,showErrTooltip:function AC(){var AE=M.position(this.domNode),S=E.isEmpty(this.value)?mstrmojo.desc(9122,"Name cannot be empty"):mstrmojo.desc(11569,"Input contains invalid character")
	this.richTooltip={contentNodeCssClass:"me-tooltip-content left me-err",content:'<div class="content"><span>'+S+"</span></div>",top:AE.y-5,left:AE.x+AE.w+10}
	this.hasOpenTooltip=false
	this.showTooltip()
	},hideErrTooltip:function u(){delete this.richTooltip
	this.hideTooltip()
	},bindings:{value:function(){var S=this.parent.visible
	return this.parent.parent.oi.alias||this.parent.parent.oi.n
	},label:function(){var AE=this.parent.parent.ide||{},S=AE.nameLabel||mstrmojo.desc(11566,"Metric Name:")
	if(mstrApp.isWorkstationPlugin){return mstrmojo.desc(945,"Name")
	}return this.parent.parent.oi.alias?mstrmojo.desc(13249,"Display Name:"):S
	}},onvalueChange:function(AF){var S=this.parent.parent.ide.action.alias,AJ=function(AK){return !E.isEmpty(AK)&&(S?true:!/[\[\]\"\\]/g.test(AK))
	},AI=AJ(this.value)
	if(AI){this.hideErrTooltip()
	}else{this.showErrTooltip()
	}mstrmojo.css.toggleClass(this.parent.domNode,"err",!AI)
	var AG=this.parent.parent
	AG.set("cValid",AI)
	var AH=AG.oi
	if(AH){var AE={n:AH.n,alias:AH.alias}
	AH.n=this.value
	AH.alias=this.value
	if(AH.n!==AE.n&&AH.alias!==AE.alias){AG.dirty=true
	}}}}]},descriptionEditBoxRef:{scriptClass:"mstrmojo.Box",alias:"descriptionEditBox",cssClass:"mstrmojo-ME-descriptionEditBox",cssDisplay:"inline-block",visible:false,bindings:{visible:function(){return !this.parent.insertMode&&this.parent.visible
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-ME-descriptionLabel",cssDisplay:"inline-block",text:mstrmojo.desc(1154,"Description:")},{scriptClass:"mstrmojo.TextArea",alias:"descriptionInput",cssClass:"mstrmojo-ME-descriptionInput",maxLength:250,bindings:{value:function(){return this.parent.parent.oi.dsc
	}},onvalueChange:function(S){var AE=this.parent.parent,AF=AE.oi
	if(!AF.dsc||AF.dsc!==this.value){if(!mstrApp.isWorkstationPlugin){AE.dirty=true
	}AF.dsc=this.value
	}}}]},enableHTMLCheckBoxRef:{scriptClass:"mstrmojo.Box",alias:"enableHTMLBox",cssClass:"mstrmojo-ME-enableHTMLBox",cssDisplay:"inline-block",visible:false,bindings:{visible:function(){return mstrmojo.resolveFeature(H.SERVER_CAN_RESTRICT_HTML_CONTENT)&&mstrmojo.resolveFeature(H.CREATE_HTML_CONTAINER)
	},enabled:function(){return !mstrmojo.resolveFeature(H.ENCODE_HTML_CONTENT)
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},children:[{scriptClass:"mstrmojo.ui.Checkbox",alias:"enableHTMLCheckBox",cssDisplay:"inline-block",bindings:{checked:function(){var AE=this.parent.parent.oi,AF=AE.ahj,S=AE.mps
	if(AF&&AF.dirty){return AF.mft>0
	}return !!(S&&S.mft>0)
	}},oncheckedChange:function(S){var AE=this.parent.parent.oi
	if(!AE.ahj){AE.ahj={}
	}var AH=AE.ahj,AF=this.checked?1:0,AG=I.walk("mps.mft",AE)
	AH.mft=AF
	AH.dirty=AF!==AG
	}},{scriptClass:"mstrmojo.Label",cssDisplay:"inline-block",text:mstrmojo.desc(20515,"Set as HTML content")}]},saveasRef:{scriptClass:"mstrmojo.SaveAsEditor",typeDesc:"Metric",browsableTypes:"4,8",onObjectSaved:function(AF){var AE=this.opener,S=AE&&AE.oi
	if(AE&&S){S.did=AF.did
	S.n=AF.name
	S.desc=AF.desc
	AE.set("title",mstrmojo.desc(2154,"Metric:")+" "+AF.name)
	}}},optionPopupRef:{id:"mstrMEOptionsDialog",scriptClass:"mstrmojo.ME.OptionDialog",title:mstrmojo.desc(9572,"Advanced Metric Options"),help:"Advanced_Metric_Options_dialog_box.htm",height:340,postCreate:function(){if(mstrApp.isWorkstationPlugin){this.height=378
	}}},ptoPopupRef:{scriptClass:"mstrmojo.PassThroughOptions",help:"create_derived_metric_mdx_hierarchy_reports.htm",width:333},formatPopupRef:{scriptClass:"mstrmojo.ME.MetricFormatEditor",contentNodeCssClass:"mstrmojo-balloon",alias:"formatEditor",title:mstrmojo.desc(2116,"Format"),left:"100px",top:"100px",useAnimate:false,height:360,width:565,help:"Format_Metric_dialog_box.htm",locksHover:true,postCreate:function(){if(mstrApp.isWorkstationPlugin){height=386
	}}},ob:{scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-Editor-ObjectSelector",title:mstrmojo.desc(5298,"Select an Object"),help:"Select_Objects_dialog_box_.htm",children:[{scriptClass:"mstrmojo.ObjectBrowser",alias:"browser",cssText:"width:200px
	",fishEyeVisible:false,closeable:false,closeOnSelect:false}]},switchRef:{scriptClass:"mstrmojo.Button",slot:"buttonNode",alias:"switchToMetricEdtior",cssClass:"mstrmojo-ME-switch mstrmojo-Editor-button mstrmojo-WebButton switch-to-formula",text:mstrmojo.desc(9563,"Switch to Formula Editor"),closeAfterSwitch:true,bindings:{visible:function(){return !this.parent.insertMode
	}},getEditor:function(){return this.parent
	},getFormulaEditorId:function(){var S=this.getEditor()
	return(S.ide&&S.ide.formulaEditorId)||"mstrME"
	},onclick:function(){var AF=this.getEditor(),AE=this.getFormulaEditorId()
	AF.oi.tks.items=AF.getMetricDefAsTokens()
	var S={vStatus:mstrmojo.ME.MetricEditBox.VALIDATION_STATUS.UNKNOWN,oi:AF.oi,did:AF.oi.did,cValid:true}
	if(AF.dirty){S.dirty=AF.dirty
	}if(AF.mptf){S.mptf=AF.mptf
	}AF.switch2Editor(AE,S)
	if(AF.ide){AF.ide.set("showLeftPanel",true)
	AF.set("simple",false)
	}}},formatAndOptionsBarRef:{scriptClass:"mstrmojo.HBox",alias:"formatbar",cssClass:"mstrmojo-ME-formatbar",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-ME-link format",alias:"formatButton",text:mstrmojo.desc(1918,"Format"),bindings:{visible:function(){return this.parent.parent.tbFormatable&&!this.parent.parent.insertMode
	}},onclick:function(){D(this,this.parent.parent)
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-ME-link property",alias:"optButton",text:mstrmojo.desc(13035,"Metric Options"),bindings:{visible:function(){var S=this.parent.parent
	return !S.insertMode&&!S.ide.disableAFB
	}},onclick:function(){m(this,this.parent.parent)
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-ME-link property",alias:"ptoButton",text:mstrmojo.desc(15656,"Pass-through Options"),bindings:{visible:function(){var S=this.parent.parent
	return !S.insertMode&&S.ide.enablePTO&&(S.id===((S.ide&&S.ide.formulaEditorId)||"mstrME"))
	}},onclick:function(){AB(this,this.parent.parent)
	}}]},saveLabel:mstrmojo.desc(5891,"Save"),saveAsLabel:mstrmojo.desc(628,"Save As"),closeLabel:mstrmojo.desc(221,"Cancel"),saveAsEnabled:true,cValid:true,buttonBarRef:{scriptClass:"mstrmojo.HBox",alias:"buttonBar",slot:"buttonNode",cssClass:"mstrmojo-ME-buttonBox",cellCssClass:"subBox",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton hot me-save-button",alias:"saveokButton",text:"",bindings:{enabled:function(){return this.parent.parent.cValid
	},text:function(){return this.parent.parent.insertMode?mstrmojo.desc(531,"Add"):this.parent.parent.saveLabel
	}},onclick:function(){var AE=this.parent.parent
	if(!AE.insertMode&&AE.isDirty&&!AE.isDirty()&&!mstrApp.isWorkstationPlugin){AE.close()
	AE.onCancel()
	return 
	}if(!AE.cValid){return 
	}if(AE.insertMode){AE.insertOnFinish(AE.getMetricDefAsTokens())
	AE.close()
	}else{if(AE.getMetricDefAsTokens){AE.oi.tks.items=AE.getMetricDefAsTokens()
	}var S=this
	if(AE.validateAndSave){G(S,true)
	AE.validateAndSave(AE.oi,function(){G(S,false)
	})
	}else{if(AE.ide&&AE.ide.validateAndSave){G(S,true)
	AE.ide.validateAndSave(AE.oi,function(){G(S,false)
	})
	}else{AE.tbValidate=this
	P.call(this,AE,"save")
	}}}}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton me-saveas-button",alias:"btnSaveAs",text:mstrmojo.desc(628,"Save As"),bindings:{visible:function(){var S=mstrmojo.resolveFeature(H.CREATE_APP_OBJ)&&!this.parent.parent.insertMode&&(!this.parent.parent.isDME||mstrApp.isWorkstationPlugin)
	if(S&&mstrApp.isWorkstationPlugin){mstrApp.enabledMEToolbar&&mstrApp.enabledMEToolbar()
	}return S
	},text:function(){return this.parent.parent.saveAsLabel
	}},onclick:function(){var S=this.parent.parent
	if(S.getMetricDefAsTokens){S.oi.tks.items=S.getMetricDefAsTokens()
	}S.tbValidate=this
	P.call(this,this.parent.parent,"saveAs")
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton me-cancel-button",bindings:{text:function(){return this.parent.parent.closeLabel
	}},onclick:function(){var S=this.parent.parent
	if(S.onPreClose()){S.close()
	if(!S.insertMode){S.onCancel()
	}}}}]},wait:G,validateSyntax:function B(S){P.call(S,this)
	},validateSyntaxAndSwitch:function f(S){P.call(S,this,"switch")
	},preprocessTokenStram:function X(S){r(S)
	},isDirty:function n(){if(this.insertMode){return false
	}return this.dirty||this.oi.dirty||(this.oi.ahj||{}).dirty||(this.oi.fmt||{}).dirty||(this.oi.mps||{}).dirty||(this.mptf||{}).dirty
	},onmetricModify:function l(){this.dirty=true
	if(mstrApp.isWorkstationPlugin&&mstrApp.enabledMEToolbar){mstrApp.enabledMEToolbar()
	}},save:function U(){if(mstrApp.isWorkstationPlugin){this.buttonBar.saveokButton.onclick()
	}else{this.buttonBar.btnSaveAs.onclick()
	}},prompt2saveRef:{scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-Editor-savePopup",cssText:"width:350px
	",title:mstrmojo.desc(5728,"Confirm save"),children:[{scriptClass:"mstrmojo.Label",cssText:"margin:5px 5px 20px
	",allowHTML:true,bindings:{text:function(){return mstrmojo.desc(9573,"Do you want to save changes made to #?").replace("#","<b>"+mstrmojo.string.encodeHtmlString(this.parent.opener.oi.n)+"</b>")
	}}},{scriptClass:"mstrmojo.HBox",alias:"buttonBar",slot:"buttonNode",cssClass:"mstrmojo-ME-buttonBox",cellCssClass:"subBox",children:[{scriptClass:"mstrmojo.HBox",cssClass:"left",cssText:"width:10px
	"},{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(219,"Yes"),onclick:function(){var S=this.parent.parent
	S.opener.save()
	S.close()
	}},{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(218,"No"),onclick:function(){var S=this.parent.parent
	S.opener.close()
	if(S.opener.onCancel){S.opener.onCancel()
	}S.close()
	}},{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(221,"Cancel"),onclick:function(){var S=this.parent.parent
	S.close()
	}}],postCreate:function(){this.children=[{scriptClass:"mstrmojo.HBox",cssClass:"left",cssText:"width:10px
	"},new N.newInteractiveButton(mstrmojo.desc(219),function(){var S=this.parent.parent
	S.opener.save()
	S.close()
	},q,{alias:"btnOk",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton hot"}),new N.newInteractiveButton(mstrmojo.desc(218),function(){var S=this.parent.parent
	S.opener.close()
	if(S.opener.onCancel){S.opener.onCancel()
	}S.close()
	if(mstrApp.isWorkstationPlugin){workstation.window&&workstation.window.close&&workstation.window.close()
	}},q,{alias:"btnCancel",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton"}),new N.newInteractiveButton(mstrmojo.desc(221),function(){var S=this.parent.parent
	S.close()
	},q,{alias:"btnCancel",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton"})]
	}}]},prompt2save:function(){if(this.getMetricDefAsTokens){this.oi.tks.items=this.getMetricDefAsTokens()
	}this.openPopup("prompt2saveRef",{zIndex:this.zIndex+1})
	},handleMetricAction:function j(AG,AE){var S=this
	function AF(AK,AJ,AL){mstrApp.hideWait&&mstrApp.hideWait(true)
	if(mstrApp.isWorkstationPlugin){if(AK){workstation.selectedObject.refreshObject({id:AJ.did,name:AJ.n,type:AJ.t,subtype:AJ.st}).then(function(AM){if(AL){workstation.window.close()
	}})
	mstrApp.finishSavingMetric&&mstrApp.finishSavingMetric(true)
	}else{console.error(AJ.message)
	mstrmojo.alert(AJ.message)
	mstrApp.finishSavingMetric&&mstrApp.finishSavingMetric(false)
	}}}function AH(AK,AJ){mstrApp.workstationDataFetchTaskProc&&mstrApp.workstationDataFetchTaskProc(AK).then(function(AL){window.setTimeout(function(){AF(true,AL,AJ)
	},0)
	S.dirty=false
	},function(AL){window.setTimeout(function(){AF(false,AL,AJ)
	},0)
	})
	}var AI=J(AE,false)
	if((AG==="save")&&AE.did){if(mstrApp.isWorkstationPlugin){AH(AI,false)
	}else{mstrmojo.xhr.request("POST",mstrConfig.taskURL,Q(S),AI)
	}}else{if(((AG==="save")&&E.isEmpty(AE.did))||AG==="saveAs"){AI.saveAs=true
	if(mstrApp.isWorkstationPlugin){mstrApp.workstationSaveNative&&mstrApp.workstationSaveNative(AI.name).then(function(AJ){if(AJ){AI.name=AJ.name
	AI.folderID=AJ.folderID
	AH(AI,true)
	}else{return 
	}})
	}else{S.openPopup("saveasRef",{zIndex:S.zIndex+10,folderLinksContextId:17,name:AE.n||AE.name||(S.name&&S.name.value)||mstrmojo.desc(2213,"New Metric"),saveParams:AI,saveAsCallback:function(){var AJ=Q(S)
	if(AJ.success){var AK=AJ.success
	AJ.success=function(AL){AK.call(this,AL)
	if(S.ide.noRefresh!==true){var AM=mstrApp
	mstrmojo.form.send({evt:5005,src:AM.name+"."+AM.pageName+".5005"})
	}}
	}return AJ
	}})
	}}}},handleDerivedMetricAction:function k(AH,AG){AG=AG||this.oi
	if(AH==="save"){var S={tokenStreamXML:R(AG),alias:AG.n,dsc:AG.dsc||""}
	var AE=AG.mps||{}
	if(AE.dirty){if(AE.fbf===0){AE.afb=AE.sfb=-1
	}S.afb=AE.afb
	S.sfb=AE.sfb
	}if(this.originTks){S.originTokenStream=R({tks:{items:this.originTks}})
	S.originAfb=this.originAfb
	S.originSfb=this.originSfb
	}var AJ=AG.ahj||{}
	S.mft=AJ&&AJ.dirty?AJ.mft:AE.mft
	var AI=mstrmojo.all.mstrMetricIDE,AF=AI.disableAFB
	if(AF){S.afb=0
	S.sfb=1
	}if((this.mptf||{}).dirty){S.mptf=this.mptf
	}AI.onApplyMetricCallback(S)
	AI.close()
	}},onPreClose:function(){var S=this
	if(S.isDirty&&S.isDirty()&&!this.isDME){S.prompt2save()
	return false
	}return true
	},onClose:function d(){this.dirty=false
	delete this.mptf
	if(this.onPostClose){this.onPostClose()
	}},init:function x(AF){if(this._super){this._super(AF)
	}var AG=mstrApp,S=AG&&AG.useQuickSearch&&AG.useQuickSearch(),AE=S?((AG&&AG.searchAutoCompleteDelay&&AG.searchAutoCompleteDelay())||0):0
	this.suggestDelay=AE||200
	this.noCache=this.noCache&&S&&!this.isDME
	this.ob.children[0].quickSearch=S
	A.suggestDelay=this.suggestDelay
	A.noCache=this.noCache
	},_setupCandidatesCache:function p(S){if(this.candidates&&S){S.candidates=null
	S.set("candidates",this.candidates)
	}},item2textCss:function K(S){return"mstrmojo-ME-icon t"+S.t+(S.st?" st"+S.st:(S.um||S.da?"d":""))
	},getSpecialFunctionEditorId:function h(S,AG){var AF=S&&S.did,AE
	if(AF){if(A.isBasicAggMap(AF)){AE="mstrSME"
	}else{if(A.isRank(AF)){AE="mstrRFE"
	}else{if(A.isOLAPAgg(AF)){AE="mstrOFE"
	}else{AE="mstrFE"
	}}}if(AE){AE+=AG?"_1":""
	}}return AE
	},isDimty:function(AE,S){return(/^@[a-z]{1,}(\s*[+-]\s*\d{1,})?$/i).test(F.trim(AE))
	},validateByDataType:function g(AE,S){var AF=false
	switch(AE){case AA.DataTypeInteger:AF=/^(-)?\d+$/.test(S)
	break
	case AA.DataTypeNumeric:case AA.DataTypeReal:case AA.DataTypeDouble:AF=mstrmojo.num.isNumeric(S)
	break
	case AA.DataTypeChar:case AA.DataTypeVarChar:AF=true
	break
	case AA.DataTypeDate:case AA.DataTypeTimeStamp:AF=true
	break
	default:AF=true
	}return AF
	},getRootFunction:function e(AF){var AE,S=AF&&AF.tks&&AF.tks.met
	if(S!==C.ADVANCED){var AG=AF.tks.items[0]
	AE=AG&&AG.oi
	}return AE
	},checkEditorFallback:function c(S,AG){var AE=this.getRootFunction(AG),AF=mstrmojo.array.find(S,"did",AE&&AE.did)===-1
	if(AF&&AG&&AG.tks&&AG.tks.items&&AG.tks.items.length>0){AG.tks.met=C.ADVANCED
	}return AF
	},hasPromptInTokens:function AD(AE){if(AE&&AE.length){var S,AI,AJ
	for(var AG=AE.length-1
	AG>-1
	AG--){var AH=AE[AG].v
	if(AH==="?"){S=AG
	AI=AE[AG+1].v==="{"||AE[AG-1].v==="{"
	break
	}}for(var AF=S
	AF<AE.length-1
	AF++){var AH=AE[AF].v
	if(AH===")"){AJ=true
	break
	}}return AI&&!AJ
	}return false
	},})
	mstrmojo.ME._MetricEditorHelper.getTokenStreamXML=R
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo.RaErrorHandler","mstrmojo.string","mstrmojo.elementHelper","mstrmojo.SimpleObjectInputBox","mstrmojo._HasTooltip","mstrmojo.mstr.EnumDSSXMLObjectTypes")
	var Q=mstrmojo.array,f=mstrmojo.css,N=mstrmojo.RaErrorHandler,H=mstrmojo.dom,C=mstrmojo.Enum_Keys,U=mstrmojo.hash,j=mstrmojo.mstr.EnumDSSXMLObjectTypes,W=mstrConfig.thousandsSep
	if(W===undefined){W=","
	}var L=2147762227,c=2147762262,I=2147762269,S=2147754499,O=140,R=118,d=350,K=-100,b=-101,B=64
	var a
	mstrmojo.SearchBoxSelectorList=mstrmojo.declare(mstrmojo.SuggestionList,null,{postBuildRendering:function Z(){var m=this._super(),k=this.parent,o=k.id
	if(!this.onScroll){this.onScroll=function l(){var p=mstrmojo.all[o],q=p.domNode
	if(!p.isFetching&&Math.ceil(q.offsetHeight+q.scrollTop)>=q.scrollHeight){p.isFetching=true
	p.opener.getCandidatesThroughTaskCall({isIncFetch:true},{})
	}}
	}var n=k.domNode
	if(k.supportsIncFetch){H.attachEvent(n,"scroll",this.onScroll)
	}else{H.detachEvent(n,"scroll",this.onScroll)
	}return m
	},getItemMarkup:function(l,k){if(!a){a=this._super(l,k).replace(">{@"+this.itemField+"}<",">{@"+this.itemField+"}{@weight}<")
	}return a
	},getItemProps:function h(m,k){var l=this._super(m,k),n=m.wt
	l.weight=n?"<em>("+mstrmojo.num.addSeparators(n,W)+" "+this.parent.opener.wtStr+")</em>":""
	return l
	},onmouseover:function(l,m){var k=l.e.srcElement
	if(k.scrollWidth<=k.offsetWidth){k.title=""
	}},onclick:function(l){var o=this.parent.opener.suggestionItems,k=o.length
	this._super(l)
	if(k<=1){return 
	}var m=Q.find(o,"t",K),n=this.getItemFromTarget(l.getTarget())
	if(n&&n.t&&n.t===K){Q.forEach(o,function(p,q){if(!this.selectedIndices[q]){this.doItemSelect(p,{})
	}},this)
	}else{if(this.selectedIndices[m]){this.doItemSelect(o[m],{})
	}}}})
	mstrmojo.SearchBoxSelector=mstrmojo.declare(mstrmojo.SimpleObjectInputBox,[mstrmojo._HasTooltip],{scriptClass:"mstrmojo.SearchBoxSelector",cssClass:"mstrmojo-SearchBoxSelector",srcid:null,srct:j.Attribute,dataSourcesXML:null,useClientForm:false,maxItemWidth:"",wtStr:"likes",suggestionListClass:"mstrmojo.SearchBoxSelectorList",useRichTooltip:false,postCreate:function A(){var k=U.clone(this.suggestionPopup)
	k.cssClass="mstrmojo-SearchBoxSelector-suggest"
	k.nudge=function(){var w=this.domNode,o=this.containerNode
	if(!w){return 
	}var t=Math.min(o&&o.offsetHeight||O,(mstrApp&&mstrApp.MAX_SUGGESTION_POPUP_HEIGHT)||O),l=w.offsetWidth,m=H.windowDim(),n=parseInt(this.left,10),q=parseInt(this.top,10)
	if(q+t>=m.h){q=Math.max(q-t-(this.target?this.target.offsetHeight:0),0)
	if(q+t>=m.h){q=5
	t=H.getMaxScrollHeight()
	}}if(n+l>=m.w){n=Math.max(n-l,0)
	}var v=w.style
	v.top=q+"px"
	v.left=n+"px"
	v.maxHeight=t+"px"
	if(v.maxWidth===""){v.maxWidth=f.getComputedStyle(w).maxWidth
	}var r=this.opener,u=r&&r.width,p=H.position(w).w
	if(u!==undefined&&p<parseInt(u,10)&&parseInt(v.maxWidth,10)<parseInt(u,10)){v.maxWidth=u
	this.nudge()
	}}
	this.suggestionPopup=k
	},preBuildRendering:function D(){var k=this.parent.contentNode.offsetWidth||this.parent.width
	this.set("maxItemWidth",parseInt(k,10))
	this._super()
	},postBuildRendering:function Z(){var k=this.parent.defn.fmts
	if(!k.height){this.domNode.style.height="auto"
	}return this._super()
	},filterCandidates:function g(l,o,k){var p=l,m=this.suggestCount
	if(!this.noCache){k=k||m
	if(o==="*"){o=""
	}else{o=mstrmojo.string.regEscape(o)
	}var q=this.itemField,n=new RegExp(o,"i")
	p=Q.filter(l,function(r){return n.test(r[q])
	},{max:k})
	}if(p.length){Q.forEach(this.items,function(t){var r=Q.find(p,"v",t.v)
	if(r>-1){p.splice(r,1)
	}})
	}return p
	},getCandidatesThroughTaskCall:function G(AF,AJ){var z=this.id,q=this.getSuggestionTarget(),v=AF.pattern||"",u=v,r=this.parent,AB=this.srcid,w=AF.isIncFetch,t=this._last_hit,AH=this,AD=false,p
	if(w){v=AF.pattern=t.pattern
	}if(v===""||v.trim()==="%"){return 
	}if(AB){var AI={taskId:"browseElements",styleName:"MojoAttributeStyle",attributeID:AB,dataSourcesXML:this.dsrc||"",blockBegin:w?t.loadedCount:1,blockCount:this.items.length+this.suggestCount,searchPattern:v,rawInput:u,browseFlags:1,otp:this.srct},x=null
	var m=r.defn
	if(m.dsid){x={}
	x.datasetID=m.dsid
	x.messageID=r.model.mid
	x.ctlKey=r.ckey
	}if(this.srct===j.Consolidation){AI.browseFlags=B
	}var AE=m.fs||m.sfs
	if(AE){var AC="",o=""
	Q.forEach(AE,function(AK){AC+=o+AK.did
	o="
	"
	})
	AI.searchForms=AC
	if(r.model.isnew||this.useClientForm){var AG="",k="",n=r.model,AA=Q.filterOne(n.getDatasetUnits(["att"]),function(AK){return AK.did===AB
	}),l=AA.fs||[]
	Q.forEach(AE,function(AK){var AL=Q.filterOne(l,function(AM){return AM.fid===AK.did
	})
	AG+=k+AK.did+":"+(AL&&AL.bftp||0)
	k="
	"
	})
	AI.clientFormPatterns=AG
	}}AJ.success=function(AS){var AO=mstrmojo.all[z],AM=AO&&AO.suggestionPopup,AR,AQ,AU,AT,AL=AF.pattern,AK=AO&&AO._searchQueue,AN=!AK||AK.length<=(w?0:1)||!AO.stifleIntermediateSearch
	if(AO){if(AS&&AS.es){AR=AO.getSuggestionTarget()
	AQ=AS.es.length
	if(!AS||!AR||(q!==AR)){return 
	}AU=AR.getSearchPattern()
	AT=AS.es
	if(AB){AT=mstrmojo.elementHelper.buildElemsTerseID(AT,AB,true)
	}AO._last_hit={items:AT,pattern:AL,loadedCount:AS.bb+AQ}
	AM.isFetching=false
	if(AN){AM.supportsIncFetch=(AS.bb+AS.bc)<AS.sz
	if(AU&&AU.indexOf(AL)>-1){var AP=AO.filterCandidates(AT,AU)
	if(AO.parent){AO.parent.checkAndParseHTMLTags(AP)
	}AO.updateSuggestion(w?AO.suggestionItems.concat(AP):AP)
	}if(AO.inputBox){AO.inputBox.focus()
	}if(!AO._ListenerProc){AO._ListenerProc=function(){var AV=AO.suggestionPopup
	if(AV.visibile){AV.nudge()
	}}
	H.attachEvent(window,"resize",AO._ListenerProc)
	}}}else{if(AN){AO.updateSuggestion([])
	}}}}
	AJ.failure=function(AM){var AO=mstrmojo.all[z],AL=parseInt(AM.code,10)+4294967296,AN=(AL===L||AL===c||AL===I),AK=(AL===S)
	if(AK){AO.hideTooltip()
	return 
	}N.handleRAPopUpError(AM)
	if(AO&&AO.failMessage){AO.failMessage(AN?{errCode:AL,msg:AM.message}:{})
	}}
	AJ.complete=function(){var AL=AH._searchQueue,AK=AL&&AL.pop()
	mstrApp.hideWait()
	if(AL&&AL.length&&AH.showSuggestion){AH._searchQueue=[]
	AH.showSuggestion(AK)
	}}
	if(this.hitEnterToTest){if(w&&this.onIncrementalFetch){this.onIncrementalFetch()
	}mstrApp.showWait({message:mstrmojo.desc(15823,'Searching "#"...').replace("#",v)})
	}else{if(!w){p=this._searchQueue
	AD=p&&p.length
	if(!p){this._searchQueue=[]
	}this._searchQueue.push(v)
	}}if(!AD){mstrmojo.elementHelper.browseElements(AJ,AI,x)
	}}},destroy:function e(k){if(this._ListenerProc){H.detachEvent(window,"resize",this._ListenerProc)
	delete this._ListenerProc
	}this._super(k)
	},onsuggestionItemsChange:function F(){var o=this.suggestionItems,l=this.suggestionPopup,n=l.editorNode,t=o&&(o.length>8),r="",p=""
	if(t){r=(mstrApp&&mstrApp.MAX_SUGGESTION_POPUP_HEIGHT)||O
	p="px"
	}if(n){n.style.maxHeight=r+p
	}else{if(t){p+="
	"
	l.cssText=(l.cssText||"")+"max-height:"+r+p
	}}if(mstrApp.isExpress){var m=this.parent.contentNode.offsetWidth,k=(m===null||R<m)?R:m,q=(m===null||d>m)?d:m
	l.cssText=(l.cssText||"")+"min-width:"+k+"px
	max-width:"+q+"px
	"
	}},getSuggestionPos:function X(){var k=this._super()
	if(k){k.lockIW=this
	}return k
	},updateSuggestion:function Y(l){var k=l&&l.length
	this.autoSelect=true
	this.set("disableClick",false)
	if(this.parent.defn.multi&&k&&k>1){l=Q.filter(l,function(n){return(n.v!=="u
	"&&n.t!==14)&&(n.t!==K)
	})
	l.unshift({n:mstrmojo.desc(13976,"(All search results)"),t:K})
	this.autoSelect=false
	}if(!k){l=[{n:mstrmojo.desc(13779,"No elements match your search"),t:b,cls:"nomatch"}]
	}if(l.length===1&&l[0].t===b){this.autoSelect=false
	this.set("disableClick",true)
	}this._super(l)
	var m=this
	m.mw=m.mw||function(q){var n=m._lastOpened
	if(!n||!n.visible){H.detachEvent(document,H.isFF?"DOMMouseScroll":"mousewheel",m.mw)
	return 
	}var p=H.eventTarget(self,q)
	var o=n.domNode
	if(!H.contains(o,p,true,document.body)){n.close()
	H.detachEvent(document,H.isFF?"DOMMouseScroll":"mousewheel",m.mw)
	}}
	H.attachEvent(document,H.isFF?"DOMMouseScroll":"mousewheel",m.mw)
	},onSuggestionItemSelect:function J(k){var l=this.parent,m=l&&l.tabParent
	this._super(k)
	if(l&&l.canTab){if(l.multi){l.buildNavList()
	l.tabIndex=l.navList.length-2
	}else{l.resetTabNav()
	if(m&&m.grabFocus){m.grabFocus(true)
	}}}},handleSuggestionItemSelect:function P(l,m){if(Q.isArray(l)||l.t===K){l=Q.ensureArray(l)
	var k=Q.filter(l,function(n){return n.t!==K
	})
	if(k.length<l.length){k=Q.filter(this.suggestionItems,function(n){return n.t!==K
	})
	}this.onSuggestionItemSelect(k)
	}else{this._super(l,m)
	}},prekeydown:function E(t){if(!this.srcid){return 
	}this._super(t)
	var p=t.e,u=(mstrApp&&mstrApp.MAX_SUGGESTION_POPUP_HEIGHT)||O,n=8,l=u/n
	var m=this.getSelected()
	if(m){var o=m._renderIdx,k=(o-n+1)*l,r=(o-1)*l,q=this.suggestionPopup.domNode.scrollTop
	switch(parseInt(p.keyCode||p.charCode,10)){case C.DOWN_ARROW:if(q<=k){this.suggestionPopup.domNode.scrollTop=k
	}else{if(q>r){this.suggestionPopup.domNode.scrollTop=r
	}}break
	case C.UP_ARROW:if(q<=k||q>r){this.suggestionPopup.domNode.scrollTop=r
	}break
	}}},prekeyup:function M(k){if(!this.srcid){return 
	}this._super(k)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.string","mstrmojo.dom","mstrmojo.SimpleObjectInputBox")
	var D=mstrmojo.array,B=mstrmojo.dom,E=mstrmojo.Enum_Keys,A=mstrConfig.thousandsSep
	var H={DEFAULT:1,ADDING:2,EMPTY:3,FULL:4}
	if(A===undefined){A=","
	}var I
	mstrmojo.TextBoxSelector=mstrmojo.declare(mstrmojo.SimpleObjectInputBox,null,{cssClass:"mstrmojo-TextBoxSelector",srcid:null,dataSourcesXML:null,maxItemWidth:"",preBuildRendering:function G(){this.set("maxItemWidth",parseInt(this.parent.contentNode.style.width,10))
	this._super()
	},prekeydown:function C(J){var L=J.e
	switch(parseInt(L.keyCode||L.charCode,10)){case E.TAB:case E.ENTER:B.preventDefault(J.hWin,L)
	var M=this.inputBox.value
	if(M){if(D.find(this.items,"v",M)===-1){this.onSuggestionItemSelect({n:M,v:M})
	}else{this.setDefaultState()
	}}break
	case E.ESCAPE:this.setDefaultState()
	break
	case E.BACKSPACE:if(!this.getSearchPattern()){B.preventDefault(J.hWin,L)
	var K=this.items&&this.items.concat()
	if(K&&K.length){K.splice(K.length-1,1)
	this.set("items",K)
	var N=this.id
	window.setTimeout(function(){mstrmojo.all[N].set("state",H.ADDING)
	},0)
	}}break
	}},prekeyup:function F(J){}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.vi.viz.EnumDSSDropZones","mstrmojo.vi.viz.DropZoneHelper","mstrmojo.gmaps.MapEnums","mstrmojo.gm.GMEnums","mstrmojo.VisEnum","mstrmojo.gmaps.MapUtils")
	var o=mstrmojo,p=o.array,r=o.vi.viz.EnumDSSDropZones,X=o.hash,R=o.gmaps,z=mstrmojo.VisEnum,AG=z.LegendPropertyTag,v=z.MAPS_PROPERTIES,M=R.EnumPropertyType,g=R.EnumZoomBehavior,u=R.EnumGraphicType,f=R.EnumClusterMode,x=R.EnumGeographicRole,H=R.EnumBaseMapType,d=R.EnumLanguageType,F=R.EnumDefaultShapeFormatStyle,w=R.MapboxKeyStyles,O=z.EnumLegendMode,G=mstrmojo.gm.EnumLegendSlot,AC=z.EnumSingleLegendMode,k=new RegExp(".{32}","g"),AE,K=R.CustomShapeId,E=mstrmojo.gmaps.MapUtils
	var C={ga:"geoAttribute",lat:"latitude",lng:"longitude",slc:"sliceBy",amt:"angle",cmt:"colorBy",smt:"sizeBy",gmt:"geometry",tooltip:"tooltips",pmbo:1,ttpmf:1}
	var t="@pLd",e=new RegExp(t,"g")
	mstrmojo.vi.viz.MapHelper=mstrmojo.declare(mstrmojo.vi.viz.DropZoneHelper,null,{scriptClass:"mstrmojo.vi.viz.MapHelper",widget:null,data:null,vp:null,geoAttribute:null,latitude:null,longitude:null,geometry:null,slice:[],angle:null,colorBy:null,sizeBy:null,tooltip:null,markerType:null,useAttributeForm:null,defaultView:null,init:function AD(AJ){this._super(AJ)
	this.tooltip=[]
	this.data=this.data||{}
	this.vp=this.data.vp||{}
	},setWidget:function U(AJ){if(!AJ){return 
	}var AM=AJ.fnGetWidget(),AL=AJ.k,AK=AJ.node&&AJ.node.data&&AJ.node.data.vp
	this.widget=AJ
	this.geoAttribute=P(AJ,r.GeoAttribute)
	this.latitude=P(AJ,r.Latitude)
	this.longitude=P(AJ,r.Longitude)
	this.geometry=P(AJ,r.Geometry)
	this.angle=P(AJ,r.Angle)
	this.colorBy=P(AJ,r.ColorBy)
	this.sizeBy=P(AJ,r.SizeBy)
	this.tooltip=AM.getDropZoneItems(r.AdditionalMetrics,AL).map(function(AN){return AN.id
	})
	this.slice=AM.getDropZoneItems(r.SliceBy,AL).map(function(AN){return AN.id
	})
	if(AK){this.markerType=AK.mtp
	this.useAttributeForm=AK[M.useAttributeForm]
	this.defaultView=AK.dv
	}},getGeoUnit:function J(){return AA(this.widget,r.GeoAttribute)
	},getLatitudeUnit:function L(){return AA(this.widget,r.Latitude)
	},getLongitudeUnit:function m(){return AA(this.widget,r.Longitude)
	},getGeometryUnit:function Z(){return AA(this.widget,r.Geometry)
	},getAngleUnit:function A(){return AA(this.widget,r.Angle)
	},getColorByUnit:function W(){return AA(this.widget,r.ColorBy)
	},getSizeByUnit:function q(){return AA(this.widget,r.SizeBy)
	},getSliceByUnits:function D(){var AJ=this.widget.fnGetWidget()
	return AJ.getDropZoneItems(r.SliceBy,this.widget.k)
	},getTooltipUnits:function j(){var AJ=this.widget.fnGetWidget()
	return AJ.getDropZoneItems(r.AdditionalMetrics,this.widget.k)
	},setMapType:function(AJ){this.vp.gtp=AJ
	},setBorderStyle:function(AJ){this.vp.shapeLineStyle=AJ
	this.vp.shapeLineClr=F.BORDER_COLOR
	},getMapType:function(){return this.vp.gtp
	},getLayerName:function(){return this.vp.ln
	},setShapeFile:function(AJ){this.vp.lid=AJ
	},setUseAttributeForm:function h(AJ){this.useAttributeForm=AJ?AE.USE_ATTRIBUTE_FORM:AE.USE_ATTRIBUTE
	},getXml:function Q(){var AJ=this.vp,AL=this.tooltip,AK=this.useAttributeForm
	AJ[AG.LEGEND_MODE]=AJ[AG.LEGEND_MODE]||O.RESTORED.toString()
	AJ[AG.LEGEND_POSITION]=AJ[AG.LEGEND_POSITION]||G.RIGHT_MIDDLE.toString()
	AJ[v.SHOW_LEGEND]=AJ[v.SHOW_LEGEND]||"false"
	AJ[M.collapseLegend]=AJ[M.collapseLegend]||AC.RESTORE.toString()
	AJ[M.legendSwitch]=AJ[M.legendSwitch]||"false"
	AJ[M.baseMapType]=AJ[M.baseMapType]||H.Reserved
	AJ[M.layerIdx]=AJ[M.layerIdx]||0
	AJ[M.layerName]=AJ[M.layerName]||mstrmojo.desc(14750,"Layer")+" 1"
	AJ[M.isHidden]=AJ[M.isHidden]||"0"
	AJ[M.zoomSetting]=AJ[M.zoomSetting]||g.Automatic
	AJ[M.clusterRadius]=AJ[M.clusterRadius]||50
	AJ[M.clusterMaxZoom]=AJ[M.clusterMaxZoom]||22
	AJ[M.languageType]=AJ[M.languageType]||d.English
	AJ[M.tooltipSwitch]=AJ[M.tooltipSwitch]||"true"
	if(this.isMapbox){AJ[M.mapStyle]=w.V8_DEFAULT
	}AJ.ga=this.geoAttribute||""
	AJ.gmt=this.geometry||""
	AJ.lat=this.latitude||""
	AJ.lng=this.longitude||""
	AJ.cmt=this.colorBy||""
	AJ.smt=this.sizeBy||""
	AJ.slc=(this.slice||[]).join("")
	AJ.amt=this.angle||""
	if(AK){AJ[M.useAttributeForm]=AK
	}AJ.tooltip=""
	if(AL){AL.forEach(function(AM){AJ.tooltip+=AM
	})
	}return AE.getXmlFromJson(this.vp)
	},showColorByZone:function(AJ){return AE.canShowColorByZone(AJ)
	},showSizeByZone:function(AJ){return !!AJ&&AJ[M.graphicType]===u.Bubble
	},showSliceZone:function(AJ){return !!AJ&&AJ[M.graphicType]===u.Bubble
	},showAngleZone:function(AJ){return !!AJ&&AJ[M.graphicType]===u.Bubble||((AJ[M.graphicType]===u.Marker)&&AJ[M.clusterMode]===f.PIE)
	}})
	AE=mstrmojo.vi.viz.MapHelper
	AE.zonesCfg=[{n:mstrmojo.desc(11661,"Geo Attribute"),id:r.GeoAttribute,prm:true,allowSingle:true,show:function(){return true
	},v:function(AJ){return B(AJ,M.geoAttribute)
	},onDel:function(AJ,AK){if(!!AJ){AJ[M.geoAttribute]=(AK&&X.walk("zone.items.1.id",AK))||""
	if(AJ[M.shapeFile]!==K){AJ[M.shapeFile]=""
	}}},onAdd:function(AJ,AK){if(!!AJ){AJ[M.geoAttribute]=AK.item.did
	AJ[M.useAttributeForm]=AE.USE_ATTRIBUTE_FORM
	if(AJ[M.shapeFile]!==K){AJ[M.shapeFile]=""
	}else{AJ[M.useAttributeForm]=AE.USE_ATTRIBUTE
	}}}},{n:mstrmojo.desc(7696,"Latitude"),id:r.Latitude,prm:true,allowSingle:true,show:function(AJ){if(!!AJ){return(AJ[M.graphicType]!==u.Area)
	}},v:function(AJ){return B(AJ,M.latitude)
	},onDel:function(AJ){if(!!AJ){AJ[M.latitude]=""
	}},onAdd:function(AJ,AK){var AL=AK.item
	if(!!AJ){AJ[M.latitude]=AL.did
	AJ[M.useAttributeForm]=AL.t===21?AE.USE_ATTRIBUTE_FORM:AE.USE_ATTRIBUTE
	}}},{n:mstrmojo.desc(7697,"Longitude"),id:r.Longitude,prm:true,allowSingle:true,show:function(AJ){if(!!AJ){return(AJ[M.graphicType]!==u.Area)
	}},v:function(AJ){return B(AJ,M.longitute)
	},onDel:function(AJ){if(!!AJ){AJ[M.longitute]=""
	}},onAdd:function(AJ,AK){var AL=AK.item
	if(!!AJ&&!!AL){AJ[M.longitute]=AL.did
	AJ[M.useAttributeForm]=AL.t===21?AE.USE_ATTRIBUTE_FORM:AE.USE_ATTRIBUTE
	}}},{n:mstrmojo.desc(16630,"Geometry"),id:r.Geometry,prm:true,allowSingle:true,show:function(AJ){if(!!AJ){return(AJ[M.graphicType]===u.Area&&AJ[M.shapeFile]===K)
	}return false
	},v:function(AJ){return B(AJ,M.geometry)
	},onDel:function(AJ){if(!!AJ){AJ[M.geometry]=""
	}},onAdd:function(AJ,AK){var AL=AK.item
	if(!!AJ){AJ[M.geometry]=AL.did
	AJ[M.useAttributeForm]=AL.t===21?AE.USE_ATTRIBUTE_FORM:AE.USE_ATTRIBUTE
	}}},{n:mstrmojo.desc(6188,"Slice"),id:r.SliceBy,prm:true,allowSingle:false,show:function(AJ){if(!!AJ){return AE.showSliceZone(AJ)
	}},v:function(AJ){if(!!AJ){var AK=AJ[M.slice]
	return AK&&AK.match(k)
	}},onDel:function(AJ,AK){var AL=AK&&AK.item
	if(!!AJ&&AL&&AL.id&&AJ[M.slice]){AJ[M.slice]=AJ[M.slice].replace(AL.did,"")
	}},onAdd:function(AJ,AK){var AN=M.slice,AM=AK&&AK.item
	if(!!AJ&&AM){var AL=AJ[AN]?AJ[AN].match(k):[]
	AL.splice(AK.idx,0,AM.did)
	AJ[AN]=AL.join("")
	}}},{n:mstrmojo.desc(14294,"Angle"),id:r.Angle,prm:true,allowSingle:true,show:function(AJ){if(!!AJ){return AE.showAngleZone(AJ)
	}},v:function(AJ){return B(AJ,M.angle)
	},onDel:function(AJ){if(!!AJ){AJ[M.angle]=""
	}},onAdd:function(AJ,AK){I(AJ,AK,M.angle)
	}},{n:mstrmojo.desc(11662,"Color By"),id:r.ColorBy,prm:true,allowSingle:true,show:function(AJ){return AE.canShowColorByZone(AJ)
	},v:function(AJ){return B(AJ,M.colorby)
	},onDel:function(AJ){if(!!AJ){AJ[M.colorby]=""
	}},onAdd:function(AJ,AK){I(AJ,AK,M.colorby)
	}},{n:mstrmojo.desc(11663,"Size By"),id:r.SizeBy,prm:true,allowSingle:true,show:function(AJ){if(!!AJ){return AE.canShowSizeByZone(AJ)
	}},v:function(AJ){return B(AJ,M.sizeby)
	},onDel:function(AJ){if(!!AJ){AJ[M.sizeby]=""
	}},onAdd:function(AJ,AK){I(AJ,AK,M.sizeby)
	}},{n:mstrmojo.desc(2962,"Tooltip"),id:r.AdditionalMetrics,prm:false,allowSingle:false,show:function(){return true
	},v:function(AJ){if(!!AJ){var AK=AJ[M.tooltip]
	return AK&&AK.match(k)
	}},onDel:function(AJ,AK){if(AJ&&AJ[M.tooltip]){AJ[M.tooltip]=AJ[M.tooltip].replace(AK.item.did,"")
	}},onAdd:function(AJ,AK){var AM=M.tooltip
	if(!!AJ){var AL=AJ[AM]?AJ[AM].match(k):[]
	AL.splice(AK.idx,0,AK.item.did)
	AJ[AM]=AL.join("")
	}}}]
	AE.USE_ATTRIBUTE="0"
	AE.USE_ATTRIBUTE_FORM="1"
	AE.canShowColorByZone=function(AJ){return !!AJ&&(AJ[M.graphicType]!==undefined)&&AJ[M.graphicType]!==u.Density
	}
	AE.canShowSizeByZone=function(AJ){return !!AJ&&AJ[M.graphicType]===u.Bubble
	}
	AE.showAngleZone=function(AJ){if(!AJ){return false
	}return AJ[M.graphicType]===u.Bubble||((AJ[M.graphicType]===u.Marker)&&AJ[M.clusterMode]===f.PIE)
	}
	AE.showSliceZone=function(AJ){return !!AJ&&AJ[M.graphicType]===u.Bubble
	}
	AE.supportImageThreshold=function(AJ){return !!AJ&&AJ[M.graphicType]===u.Marker
	}
	AE.isLatitude=function c(AK,AJ){return AJ===5||(AK&&AK.toLowerCase().indexOf("latitude")>-1)
	}
	AE.isLongitude=function AB(AK,AJ){return AJ===6||(AK&&AK.toLowerCase().indexOf("longitude")>-1)
	}
	AE.isGeometry=function n(AJ){return AJ===11
	}
	AE.isAxisAttribute=function AI(AK){var AJ=AK&&AK.fs,AL
	if(AJ&&AJ.length===1){AL=AJ[0]
	return !!AL&&(AL.fgr===5||AL.fgr===6||AL.fgr===11)
	}return false
	}
	AE.convertToReferenceFormat=function a(AK,AM){if(!!AK&&C[AM]){if(AM==="tooltip"||AM==="slc"){return AK.replace(/(.{32})/g,t+"$1")
	}else{if(AM==="ttpmf"){var AL=E.unserializeTooltipForms(AK)
	var AJ={}
	X.forEach(AL,function(AN,AO){var AP=t+AO
	AJ[AP]={}
	X.forEach(AN,function(AQ,AR){AJ[AP][t+AR]=1
	})
	})
	return E.serializeTooltipForms(AJ)
	}else{return t+AK
	}}}else{return AK
	}}
	AE.convertFromReferenceFormat=function(AK,AJ){if(!AJ||!C[AK]){return AJ
	}return AJ.replace(e,"")
	}
	AE.getXmlFromJson=function Y(AJ){var AK=new mstrmojo.XMLBuilder()
	AK.addChild("widgetProps")
	AK.addChild("fmt")
	X.forEach(AJ,function(AL,AM){AK.addChild(AM)
	AK.addAttribute("value",AE.convertToReferenceFormat(AL,AM))
	AK.closeElement()
	})
	AK.closeElement()
	AK.closeElement()
	return AK.toString()
	}
	AE.isGeoRoleSupportArea=function N(AJ){AJ=AJ&&AJ.toString()
	return AJ===x.EnumGeographicRoleCity||AJ===x.EnumGeographicRoleState||AJ===x.EnumGeographicRoleCountry||AJ===x.EnumGeographicRoleOther||AJ===x.EnumGeographicRoleZipCode||AJ===x.EnumGeographicRoleCounty
	}
	AE.getGeoForm=function AF(AM,AK){var AJ=AM&&AM.fs,AL=null
	if(!AK){AK=function(){return true
	}
	}if((AM.otp===12||AM.t===12)&&AJ){p.forEach(AJ,function(AN){if(AK(AN)){AL=AN
	return false
	}})
	}return AL
	}
	AE.getLatitudeForm=function AH(AJ){return AE.getGeoForm(AJ,function(AK){return AE.isLatitude(AK.fnm,AK.fgr)&&AK.obf
	})
	}
	AE.getLongitudeForm=function b(AJ){return AE.getGeoForm(AJ,function(AK){return AE.isLongitude(AK.fnm,AK.fgr)&&AK.obf
	})
	}
	AE.getGeometryForm=function S(AJ){return AE.getGeoForm(AJ,function(AK){return AE.isGeometry(AK.fgr)&&AK.obf
	})
	}
	AE.zonesNeedSyncToTooltipZone=[r.GeoAttribute,r.SliceBy,r.Angle,r.SizeBy,r.ColorBy]
	AE.xmlNodeToConvert=C
	AE.shouldSyncItemToTooltipZone=function l(AL,AJ,AK){AK=p.ensureArray(AK)
	return AE.zonesNeedSyncToTooltipZone.indexOf(AJ)>-1&&AK.indexOf(AL)<0
	}
	function AA(AK,AJ){var AN=AK.fnGetWidget(),AM=AK.k,AL=AN.getDropZoneItems(AJ,AM)
	return AL[0]
	}function P(AK,AJ,AL){var AM=AA(AK,AJ,AL)
	return AM?AM.id:""
	}function B(AK,AJ){if(!!AK){return AK[AJ]?[AK[AJ]]:[]
	}}function I(AK,AL,AJ){var AM=AL.item
	if(!!AK||!!AM){AK[AJ]=AM.did
	}return AK
	}}())
	(function(){mstrmojo.requiresCls("mstrmojo.gmaps.MapUtils","mstrmojo.gmaps.MapEnums","mstrmojo.vi.enums.EnumFeatures")
	var R=mstrmojo.gmaps,J=R.MapUtils,N=R.EnumGeographicRole,F=R.EnumBaseMapType,L=R.EnumPolygonSource,I=R.EnumThresholdType,Q="4-s",G=R.CustomShapeId
	function D(S){return !!(S&&S.custom&&(S.custom==="true"||S.custom===true))
	}mstrmojo.gmaps._AreaMapHelper=mstrmojo.provide("mstrmojo.gmaps._AreaMapHelper",{_mixinName:"mstrmojo.gmaps._AreaMapHelper",getAvailableShapes:function C(S,b,Z,a){var X=[],W,Y,U
	if(!S||Z==undefined){return X
	}if(a===F.Mapbox){return this.getShapesForMapbox(S,b)
	}for(Y=0,U=S.length
	Y<U
	Y++){W=S[Y]
	if(J.isWSLocalMode()&&D(W)){continue
	}if(a!==F.Esri&&!D(W)){continue
	}if(this.isMapBoxShapeConfig(W,b)){continue
	}if(Z===N.EnumGeographicRoleNone||Z===N.EnumGeographicRoleGeometry||Z===N.EnumGeographicRoleOther&&D(W)||Z==W.roleId){X.push(W)
	}}return X
	},getShapesForMapbox:function E(S,Z){var X=[],W,Y,U,a=mstrApp&&mstrApp.supportFeature&&mstrApp.supportFeature(mstrmojo.vi.enums.EnumFeatures.M2020_VERSION)
	for(Y=0,U=S.length
	Y<U
	Y++){W=S[Y]
	if(W.id===G&&!a){continue
	}if(this.isMapBoxShapeConfig(W,Z)){W.supportedGeoRoles=[W.roleId]
	if(W.roleId===N.EnumGeographicRoleCity){W.supportedGeoRoles.push(N.EnumGeographicRoleCounty)
	}X.push(W)
	}}return X
	},getPolygonSource:function B(S,U,W,Z){var X=S&&S.data,a=X&&X.vp,b=a&&a.lid,Y,c
	if(!a){return L.Cloud
	}if(!!b){Y=this.getMatchingShape(U,b,null)
	}else{c=this.getShapeAttributeGeoRole(X,S.dropZones.geoAttribute)
	U=this.getAvailableShapes(U,W,c,Z)
	Y=this.getMatchingShape(U,null,c)
	}if(!!Y){if(!b){a.lid=Y.id
	}if(D(Y)){if(this.isMapBoxShapeConfig(Y,W)){if(Y.id===G){return L.MapboxCustomShape
	}return L.MapBoxPolygon
	}return L.Custom
	}}return L.Cloud
	},isMapBoxShapeConfig:function P(S,Y){var W,U,X=(Y&&Y.length)||0
	for(W=0
	W<X
	W++){U=Y[W]
	if(S.layerId===U.id){return parseInt(U.scope)===parseInt(F.Mapbox)
	}}return false
	},isMapboxStatisticalShape:function O(S,Y){var W,U,X=(Y&&Y.length)||0
	for(W=0
	W<X
	W++){U=Y[W]
	if(S&&S.layerId===U.id){return U.scope===Q
	}}return false
	},getShapeAttributeGeoRole:function H(Y,a){var U=Y.gts,f=U&&U.row,S,e,d,Z,c,W,X,b=false
	if(!f||!f.length){return 
	}c=f.length
	if(!!a){for(Z=0
	Z<c
	Z++){d=f[Z]
	if(d.id!==a){continue
	}S=d.fs||[]
	for(W=0,X=S.length
	W<X
	W++){e=S[W].fgr
	if(e==undefined){continue
	}e=e.toString()
	if(e!==N.EnumGeographicRoleNone&&e!==N.EnumGeographicRoleLatitiude&&e!==N.EnumGeographicRoleLongitude){b=true
	break
	}}if(b){break
	}}}else{for(Z=0
	Z<c
	Z++){d=f[Z]
	S=d.fs||[]
	for(W=0,X=S.length
	W<X
	W++){e=S[W].fgr
	if(e!==N.EnumGeographicRoleNone&&e!==N.EnumGeographicRoleLatitiude&&e!==N.EnumGeographicRoleLongitude){break
	}}}}return e
	},getMatchingShape:function K(U,Z,c){var X,Y,b,S,W,a
	if(!U){return null
	}if(c===N.EnumGeographicRoleNone){c=null
	}if(!!Z){for(W=0,a=U.length
	W<a
	W++){if(U[W].id==Z){X=U[W]
	break
	}}}else{if(!!c){for(W=0,a=U.length
	W<a
	W++){S=U[W]
	if(D(S)&&(S.roleId==c||(S.supportedGeoRoles&&S.supportedGeoRoles.indexOf(c)>-1))){if(!Y){Y=S
	}if(!!S["default"]&&(S["default"]+"").toLowerCase()==="true"){X=S
	break
	}}else{if(!b&&S.roleId==c&&!!S["default"]&&(S["default"]+"").toLowerCase()==="true"){b=S
	}}}if(!X){if(!!Y){X=Y
	}else{if(!!b){X=b
	}}}}}return X
	},getShape4MapboxSecondGeoAttr:function A(U,W,a,d){var S,Y,X,b,c,Z
	U=this.getAvailableShapes(U,W,N.EnumGeographicRoleOther,F.Mapbox)
	b=(U&&U.length)||0
	Y=this.getMatchingShape(U,a,null)
	for(X=0
	X<b
	X++){S=U[X]
	if(S.roleId==d||(S.supportedGeoRoles&&S.supportedGeoRoles.indexOf(d)>-1)){if(d==N.EnumGeographicRoleCountry){return S
	}c=this.isMapboxStatisticalShape(Y,W)
	Z=this.isMapboxStatisticalShape(S,W)
	if(c===Z){return S
	}}}return null
	},populateColorBy:function M(a,S,c,W){if(!!S&&S.length===1&&S[0].otp===-1){var Z=a[c].items,U=S[0].es
	for(var X=0,e=Z.length
	X<e
	X++){var b=Z[X],f=U[X].n,g=b.v,d=b.ty
	if(!d||d===I.Number){W[J.replaceSpace(f)]=g
	}else{W[J.replaceSpace(f)]=Z[X].rv
	}}}if(this.isColorByAttr===true){this.populateColorInfo(W)
	}var Y=this.getThresholdInfo(c,this.colorMetricIdx)
	if(!!Y){W.threshold=Y
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.hash","mstrmojo.desc","mstrmojo.Container","mstrmojo.vi.ui.AMSelectorCandidatePicker")
	var D=mstrmojo.css,H=mstrmojo.hash,E=mstrmojo.dom
	var C={posType:mstrmojo.tooltip.POS_TOPLEFT,cssClass:"vi-regular vi-tooltip-A tgt-tt",topOffset:15,leftOffset:-15}
	mstrmojo.vi.ui.TargetMask=mstrmojo.declare(mstrmojo.Container,[],{scriptClass:"mstrmojo.vi.ui.TargetMask",markupString:'<div class="mstrmojo-hasTgt" mstrAttach:contextmenu><div class="tgt"><div></div>'+mstrmojo.desc(4787,"Target")+'</div><div class="src"><div></div>'+mstrmojo.desc(4283,"Source")+"</div></div>",useRichTooltip:true,isDynamicTooltip:true,tooltipContent:mstrmojo.desc(15275,"This container cannot be selected as target"),allowFilters:false,init:function G(I){if(this._super){this._super(I)
	}},setMaskClass:function(O,N){var K=this.parent,I=K instanceof mstrmojo.vi.ui.rw.PanelStackBox,M=K instanceof mstrmojo.vi.ui.rw.VizBox,J=K instanceof mstrmojo.vi.ui.rw.FilterBox,L=H.walk("mstrmojo.vi.ui.rw.SurveyBox")&&(K instanceof mstrmojo.vi.ui.rw.SurveyBox)
	if(this.domNode){if(K.id===O){D.addClass(this.domNode,"sourced")
	}else{if(!I&&!M&&!(J&&this.allowFilters)&&!L){D.addClass(this.domNode,"disabled")
	}else{if(N){D.addClass(this.domNode,N)
	}else{D.addClass(K.domNode,"targeted")
	}}}this.domNode.style.display="block"
	return true
	}return false
	},clearMaskClass:function(){var I=this.parent
	D.removeClass(this.domNode,"sourced")
	D.removeClass(this.domNode,"disabled")
	D.removeClass(I.domNode,"targeted")
	this.domNode.style.display="none"
	},moveTooltip:function F(J,M){var L=this,I={x:J.clientX-10,y:J.y},K=L.AMSelectorSpecificTooltipConfig
	this.richTooltip={posType:C.posType,cssClass:C.cssClass,content:this.tooltipContent,top:J.clientY+C.topOffset,left:J.clientX+C.leftOffset}
	if(K){this.richTooltip.cssClass=K.cssClass
	this.richTooltip.content=K.tooltipContent
	this.richTooltip.top=J.clientY+K.topOffset
	this.richTooltip.left=J.clientX+K.leftOffset
	this.richTooltip.updatePosition=function(){K.updatePosition.call(this,I,I,K.cssClassPrefix)
	}
	this.tooltipOpenDelay=K.tooltipOpenDelay
	}this._super(J,M)
	},oncontextmenu:function(J,I){E.preventDefault(I,J)
	},addCandidatePicker:function B(J,I){this.addChildren([{scriptClass:"mstrmojo.vi.ui.AMSelectorCandidatePicker",alias:"candidatePicker",slot:"domNode",selector:J,viUnit:I}])
	},removeCandidatePicker:function A(){if(this.candidatePicker){this.removeChildren(this.candidatePicker)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo.dom","mstrmojo.expr","mstrmojo.hash","mstrmojo.Box","mstrmojo.Button","mstrmojo.Dial","mstrmojo.Editor","mstrmojo.FilterExpr","mstrmojo.HBox","mstrmojo.Label","mstrmojo.Obj","mstrmojo.CheckBox","mstrmojo.mstr.EnumNodeProperties","mstrmojo.warehouse.EnumObjectTypes","mstrmojo.fe.FilterExprTree","mstrmojo.fe.RelationFilterExprTree","mstrmojo.fe.CreateSetEditor","mstrmojo.fe.ConditionWalk","mstrmojo.ui.Pulldown","mstrmojo.ui.StatusButton","mstrmojo.url")
	var c=mstrmojo.expr,I=c.ET,O=c.BRANCH_FNS,a=mstrmojo.Obj,Z=mstrmojo.dom,d=mstrmojo.array,U=mstrmojo.hash,g=mstrmojo.css,F=mstrmojo.mstr.EnumNodeProperties,C=mstrmojo.warehouse.EnumObjectTypes,K={TEMPLATE:0,DATASET:1},Q=mstrmojo.url,E=mstrmojo.mstr.EnumNodeDimty,R=d.hash([E.NodeDimtyUnspecified,E.NodeDimtyNone]),M=200,H=mstrmojo.ui.PopupConfig.ENUM_CORNERS
	function b(){var k=this.avatar
	if(k){k.parentNode.removeChild(k)
	delete this.avatar
	g.removeClass(k,[this.avatarCssClass])
	}}mstrmojo.fe.FilterEditorBase=mstrmojo.declare(mstrmojo.Editor,null,{onSave:null,onCancel:null,title:mstrmojo.desc(12032,"View Filter Editor"),help:"view_filter_editor_for_report_services_documents.htm",cssClass:"mstrmojo-charcoalboxe mstrmojo-FE",showLimits:true,objectBrowsingEnabled:false,children:null,showCondWalk:false,isNewCond:false,vizTitle:"",init:function W(k){this.children=[{alias:"feContent",scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-FE-content",postCreate:function(){this.children=[{scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-FE-exprTool",children:[{scriptClass:"mstrmojo.ui.StatusButton",cssClass:"mstrmojo-FE-addCondition",postCreate:function l(){this.editor=this.parent.parent.parent
	this.statusList=this.editor.getAddConditionList()
	this.status=this.statusList[0]
	},onButtonClick:function(m){if(m){m.handler.apply(this.editor)
	}}}]},this.parent.getExpressionContainerCfg()]
	}},this.getConditionWalkConfig(),{alias:"buttonBar",scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBar",slot:"buttonNode",toggleBtnStatus:function(l){this.children[0].btnSave.set("enabled",l)
	this.children[0].btnCancel.set("enabled",l)
	},children:[{scriptClass:"mstrmojo.HBox",cssText:"float:right
	border-collapse: separate",cellSpacing:3,children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton hot",text:mstrmojo.desc(118,"Save"),alias:"btnSave",onclick:function(){var l=this.editor
	l.save()
	l.close()
	},bindings:{enabled:function(){return !this.editor.readOnly
	},editor:"this.parent.parent.parent"}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton",alias:"btnCancel",text:mstrmojo.desc(221,"Cancel"),onclick:function(){var l=this.editor
	if(l.onCancel){l.onCancel(l.model)
	}l.close()
	},bindings:{editor:"this.parent.parent.parent"}}]}]}]
	this._super(k)
	this.model=this.model||new a()
	},save:function Y(){var k=this.model
	if(this.colSetModelsCache){this.colSetModelsCache[this.colSetTabs[this.tabIdx].k]=U.clone(k)
	U.forEach(this.colSetModelsCache,function(l){l.expr=h(l.exprForest)
	l.limitExpr=h(e(l.limitExprForest))
	})
	}else{k.expr=h(k.exprForest)
	k.limitExpr=h(e(k.limitExprForest))
	}this.onSave(k)
	},getExpressionContainerCfg:function(){var k=this
	return{alias:"feExpr",scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-FE-expr-list",postCreate:function(){this.children=k.getExpressionContentsConfig()
	},onRender:function(){Z.attachMarkupEvent(this.id,this.domNode,"mousedown")
	},onmousedown:function(l){var m=Z.eventTarget(l.hWin,l.e)
	if(this.isBlankArea(m)){this.clearSelect()
	}},isBlankArea:function(l){return l===this.domNode
	},clearSelect:function(){}}
	},getExpressionContentsConfig:function(){return[]
	},getConditionWalkConfig:function(){var l=this
	return{scriptClass:"mstrmojo.rw.ConditionWalk",width:"750px",objectBrowsingEnabled:false,dimtyTypes:R,alias:"walk",visible:false,onOK:function k(){var n=this.condition
	l.feContent.set("visible",true)
	this.set("visible",false)
	l.onConditionEdit(n,this.model.get())
	l.toggleButtonStatus(true)
	l.set("showCondWalk",false)
	},close:function m(){l.feContent.set("visible",true)
	this.set("visible",false)
	var n=this.condition
	if(n&&n.isEmpty()){n.del()
	}l.toggleButtonStatus(true)
	l.set("showCondWalk",false)
	},targets:null,targetsLastMod:null,ets:null,condition:null,bindings:{disableElementsBrowsing:"this.parent.disableElementsBrowsing"}}
	},onConditionEdit:function(l,k){l.tree.modifyConditionNode(l,k)
	},getAddConditionList:function f(){return[{n:mstrmojo.desc(1994,"Add Condition"),handler:function(){this.mainExpr.newCondition(null,true)
	}}]
	},toggleButtonStatus:function B(k){this.buttonBar.toggleBtnStatus(k)
	},andOrPopupRef:{scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-FE-andOrPopup mstrmojo-CGE-andOrPopup mstrmojo-ConditionWalk",contentNodeCssClass:"mstrmojo-balloon",slot:"containerNode",modal:false,autoClose:true,showTitle:false,draggable:false,openEffect:null,closeEffect:null,onOpen:function(){var k=this.condition,n=k&&k.data&&k.data.not,o=k&&k.parent,l=o&&o.data,m=(l&&l.fn)+(n?21:0)
	this.list.opening=true
	this.list.set("selectedItem",isNaN(m)?null:{did:m})
	this.list.opening=false
	},children:[{scriptClass:"mstrmojo.Dial",cssClass:"mstrmojo-CGE-andOrDial",alias:"list",itemMarkup:'<div class="dial-item {@css}">{@n}</div>',itemIdField:"did",renderOnScroll:false,items:[{did:19,n:O[19]},{did:20,n:O[20]},{did:19+21,n:O["19_21"]},{did:20+21,n:O["20_21"]}],onchange:function(){if(this.opening){return 
	}var l=this.parent,k=l.condition,q=this.selectedItem,p=q&&q.did,o=p>21?true:null,n=p-(o?21:0)
	l.close()
	var m=k&&k.parent
	if(m&&m.data&&m.data.et===I.ANDOR){m.edit(k,n,o)
	}else{var r=k&&k.data
	if(r&&(r.not!==o)){r.not=o
	k.paint()
	}}}}]},createSetPopupRef:{scriptClass:"mstrmojo.fe.CreateSetEditor",contentNodeCssClass:"",cssClass:"CreateSet-Editor",title:mstrmojo.desc(12034,"Create a Set"),slot:"containerNode"},_set_busy:function(l,k){if(k){this.set("enabled",false)
	this.set("iconClass","mstrmojo-WaitIcon")
	}else{this.set("enabled",true)
	this.set("iconClass","")
	}},_set_model:function(p,l){var m=this.model,o=m!==l
	if(o){this.model=l
	this.modelLastSet=new Date()
	var k=function(n){return P(J(n))
	}
	l.exprForest=k(l.expr)
	l.limitExprForest=k(l.limitExpr)
	if(this.feContent&&this.feContent.feExpr.ve){this.feContent.feExpr.ve.nameFactory.clear()
	}}return o
	},onUpdateBrowseElementsParams:mstrmojo.emptyFn,openWalk:function(t,u,z,AA){var w=this,l=Z.delta(u.domNode,w.containerNode)
	l.y+=(z==="andor"?16:parseInt(u.domNode.offsetHeight,10))
	var x={condition:u,zIndex:w.zIndex+10,left:l.x+"px",top:l.y+"px"},k
	switch(z){case"andor":if(w.skipAndOrPopup){return 
	}k="andOrPopupRef"
	break
	case"createSet":case"createSetOpt":if(AA&&AA.e&&AA.e.target){var p=AA&&AA.e&&AA.e.target,r=Z.delta(p,w.containerNode)
	x.left=r.x+"px"
	x.top=r.y+parseInt(p.offsetHeight,10)+"px"
	}var v=w.model.targets
	k="createSetPopupRef"
	x.type=z
	x.model={attrs:d.filter(v,function(n){return n.t===C.ATTRIBUTE
	}),metrics:d.filter(v,function(n){return n.t===C.METRIC
	})}
	if(z==="createSetOpt"){x.condition=u.parent
	x.model.childIdx=u.childIndex()
	}break
	case"condition":var q=w.walk,m=u.textNode.cloneNode(true),o=q.conditionNode.firstChild
	g.removeClass(m,"editable")
	g.addClass(q.conditionNode,"mstrmojo-ConditionNode")
	if(o.firstChild){o.removeChild(o.firstChild)
	}o.appendChild(m)
	q.set("objectBrowsingEnabled",w.objectBrowsingEnabled)
	q.set("targets",w.model.targets)
	q.set("targetsLastMod",w.modelLastSet)
	q.set("ets",u.tree.validExprTypes||w.validExprTypes)
	q.set("condition",u)
	q.set("model",U.clone(t))
	q.set("hasPrompt",w.model.hasPrompt)
	q.set("disableElementsBrowsing",w.disableElementsBrowsing||q.disableElementsBrowsing)
	q.set("editor",w)
	q.set("inRelation",u.inRelation)
	w.feContent.set("visible",false)
	q.set("visible",true)
	q.columnWalk.target.updateScrollbars()
	w.toggleButtonStatus(false)
	w.set("showCondWalk",true)
	w.set("isNewCond",!!t.isNew)
	return 
	}w.openPopup(k,x)
	}})
	mstrmojo.fe._isReportFilterEditor=mstrmojo.provide("mstrmojo.fe._isReportFilterEditor",{_mixinName:"mstrmojo.fe._isReportFilterEditor",getExpressionContainerCfg:function(){var k=this._super()
	return mstrmojo.mixin({clearSelect:function(){this.re.clearTreeSelect()
	}},k)
	},getExpressionContentsConfig:function(){return[{alias:"re",scriptClass:"mstrmojo.fe.ReportFilterExprTree",level:K.DATASET,bindings:{items:"this.editor.model.exprForest || []"},postApplyProperties:function(){this.editor=this.parent.parent.parent
	this.editor.set("mainExpr",this)
	}}]
	}})
	mstrmojo.fe.ReportFilterEditor=mstrmojo.declare(mstrmojo.fe.FilterEditorBase,[mstrmojo.fe._isReportFilterEditor],{scriptClass:"mstrmojo.fe.ReportFilterEditor"})
	mstrmojo.fe.ReportFilterExprTree=mstrmojo.declare(mstrmojo.fe.FilterExprTree,null,{scriptClass:"mstrmojo.fe.ReportFilterExprTree",cssClass:"mstrmojo-expr mstrmojo-FE-datasetExpr",onNew:function(k){k.data.isNew=true
	this.editor.openWalk(k.data,k.widget.ctxtBuilder.itemWidgets[k.index],"condition")
	},onnodeclick:function A(k){var l=k.editor||this.tree.editor
	l.openWalk(this.data,this,k&&k.part,k)
	},allowDrop:function G(k){var m=k&&k.src,o=m&&m.data,n=o&&o.et,l=m&&m.widget&&m.widget.tree
	return n&&this!==l
	}})
	mstrmojo.fe.FilterEditor=mstrmojo.declare(mstrmojo.fe.FilterEditorBase,null,{getExpressionContainerCfg:function(){var k=this._super()
	return mstrmojo.mixin({isBlankArea:function(l){if(this._super(l)){return true
	}return !d.filterOne([this.ve,this.vle,this.re],function(m){if(m&&Z.contains(m.domNode,l,true)){return true
	}})
	},clearSelect:function(){this.ve.clearTreeSelect()
	this.vle.clearTreeSelect()
	}},k)
	},getExpressionContentsConfig:function(){return[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(11746,"Dataset Level Conditions"),cssClass:"mstrmojo-FE-expr-header dl",bindings:{visible:"true || this.parent.parent.parent.showLimits"}},{alias:"ve",scriptClass:"mstrmojo.fe.RWViewFilterExprTree",level:K.DATASET,bindings:{items:"this.editor.model.exprForest || []"},onBlankClick:function(k){this.parent.clearSelect(k)
	},supportRelation:true,postApplyProperties:function(){this.editor=this.parent.parent.parent
	this.editor.set("mainExpr",this)
	}},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(11747,"Template Level Conditions"),cssClass:"mstrmojo-FE-expr-header tl",bindings:{visible:"this.parent.parent.parent.showLimits"}},{alias:"vle",scriptClass:"mstrmojo.fe.RWViewLimitExprTree",level:K.TEMPLATE,bindings:{visible:"this.editor.showLimits",items:"this.editor.model.limitExprForest || []"},onBlankClick:function(k){this.parent.clearSelect(k)
	},postApplyProperties:function(){this.editor=this.parent.parent.parent
	this.editor.set("limitExpr",this)
	}}]
	},getConditionWalkConfig:function(){var k=this._super()
	U.copy({scriptClass:"mstrmojo.fe.ConditionWalk"},k)
	return k
	},getAddConditionList:function f(){var k=this._super()
	k.push({n:mstrmojo.desc(12055,"Add Dynamic Condition"),handler:function(){this.mainExpr.newCondition({et:I.XML,idc:1,ph:{}},true)
	}})
	return k
	},onConditionEdit:function(m,l){if(m.tree.level===m.level||m.tree.level===undefined){this._super(m,l)
	}else{m.parent.remove(m.data)
	var k=K.TEMPLATE===m.level?this.limitExpr:this.mainExpr
	k.addSingleCondition(l)
	}}})
	mstrmojo.fe.RWViewFilterExprTree=mstrmojo.declare(mstrmojo.fe.RelationFilterExprTree,null,{scriptClass:"mstrmojo.fe.RWViewFilterExprTree",cssClass:"mstrmojo-expr mstrmojo-FE-datasetExpr",levelSwitchValidTypes:[I.MQ],onNew:function(k){k.data.isNew=true
	if(!k.data.ph){this.editor.openWalk(k.data,k.widget.ctxtBuilder.itemWidgets[k.index],"condition")
	}},onnodeclick:function A(l){var k=this.tree,n=l.editor||k.editor
	this.level=k.level
	var m=this.data&&typeof (n.disableElementsBrowsing)==="function"&&n.disableElementsBrowsing(this.data.a)
	if(m&&this.data.et===I.AE){return 
	}n.openWalk(this.data,this,l&&l.part,l)
	},ondragend:function N(m){var l=m&&m.tgt,k=l&&l.widget
	if(this.tree&&k&&k.tree&&k.tree!==this.tree){b.call(this)
	return 
	}this._super(m)
	},getItemConfig:function(m,k,n){var l=this._super(m,k,n)
	return U.copy({getConditionTextPostfix:function(){if(this.data.et!==I.MQ){return""
	}return'<img class="mstrmojo-moveToViewLimit" src="'+Q.getPlaceholderImageURL()+'" title="'+mstrmojo.desc(4978,"Move to view limit")+'" mstreventmark="todoRefactorNode" mstrevent="click" onclick="var w = mstrmojo.all[\''+this.id+"']
	w.tree.moveMQNodeToViewLimit(w)
	return false
	\" />"
	}},l)
	},moveMQNodeToViewLimit:function(m){if(d.indexOf(this.levelSwitchValidTypes,m.data.et)===-1){return 
	}var l=U.copy(m.data)
	m.parent.remove(m.data)
	var k=this.editor.limitExpr
	k.addSingleCondition(l)
	},allowDrop:function G(k){var m=k&&k.src,p=m&&m.data,o=p&&p.et,n=this.tree,l=m&&m.widget&&m.widget.tree
	return o&&(this===n?(l!==n):true)
	}})
	mstrmojo.fe.RWViewLimitExprTree=mstrmojo.declare(mstrmojo.fe.FilterExprTree,null,{scriptClass:"mstrmojo.fe.RWViewLimitExprTree",cssClass:"mstrmojo-expr mstrmojo-FE-limitExpr",validExprTypes:d.hash([I.MQ]),levelSwitchValidTypes:[I.MQ],onnodeclick:function A(l){var k=this.tree,m=k.editor
	this.level=k.level
	m.openWalk(this.data,this,l&&l.part,l)
	},onConditionEdit:function(l,k){this._super(l,k)
	l.data.mdxUnitId=l.data.m.did
	X(l)
	},addSingleCondition:function(l){var k=this._super(l)
	X(k)
	},allowDrop:function(k){var n=k&&k.src,p=n&&n.data,o=p&&p.et,m=this.tree,l=n&&n.widget&&n.widget.tree
	if(m===l){return this!==l&&this.data&&(this===n.parent||this.data.mdxUnitId===(p&&p.mdxUnitId))
	}return !(d.indexOf(this.levelSwitchValidTypes,o)===-1)
	},ondrop:function L(l){var o=l&&l.src,k=o&&o.widget
	if(k&&k.tree!==this.tree){var n=o&&o.data
	if(n&&n.index!==null){var m=k.ctxtBuilder.itemWidgets[n.index]
	m.tree.moveMQNodeToViewLimit(m)
	}o.data=null
	}this._super(l)
	},isEditable:function(k){return k.mdxUnitId&&this._super(k)
	},ondragend:function S(k){var n=k&&k.tgt,l=n&&n.widget
	if(l&&l.tree!==this.tree){var m=k.src&&k.src.data
	if(m&&(m.indices||(m.index!==null))){this.remove(m.indices||m.index)
	}b.call(this)
	}else{this._super(k)
	}},moveMQNodeToViewFilter:function(l){var k=this.editor.mainExpr
	l.parent.remove(l.data)
	k.addSingleCondition(l.data)
	},getItemConfig:function(m,k,n){m.mdxUnitId=D(m)
	var l=this._super(m,k,n)
	return U.copy({cssClass:j(m,k,n)?"per-metric-limit":"",forbidRelation:true,getConditionTextPostfix:function(){if(this.data.et!==I.MQ||mstrmojo.rw.ConditionWalk.isMdxDM(this.data.m.did)){return""
	}return'<img class="mstrmojo-moveToViewFilter" src="'+Q.getPlaceholderImageURL()+'" title="'+mstrmojo.desc(9746,"Move to view filter")+'" mstreventmark="todoRefactorNode" mstrevent="click" onclick="var w = mstrmojo.all[\''+this.id+"']
	w.tree.moveMQNodeToViewFilter(w)
	return false
	\" />"
	}},l)
	}})
	function P(l){var k=[]
	d.forEach(l,function(m){if(!m){return 
	}if(m.et===I.ANDOR&&!(m.node&F.CONDITION)){m.nds=P(m.nds)
	if(m.nds.length===0){return 
	}else{if(m.nds.length===1){var n=m.nds[0]
	if(m.not){n.not=!n.not
	}k.push(n)
	return 
	}}}k.push(m)
	})
	return k
	}function J(k){return k?[k]:[]
	}function h(k){return k&&k.length===1?k[0]:null
	}function e(m){var l=P(m),k
	if(!l[0]||l[0].mdxUnitId){k={et:I.ANDOR,fn:c.FN.AND,nds:l}
	}else{k=l[0]
	}return[k]
	}function j(l,k,m){return(m===m.tree||m.parent===m.tree)&&!!l.mdxUnitId
	}function D(l){if(!("mdxUnitId" in l)){var k
	switch(l.et){case I.MQ:case I.MC:k=l.m.did||null
	break
	case I.ANDOR:d.forEach(l.nds,function(n){var m=D(n)
	if(k===undefined){k=m
	}else{if(k!==m){k=null
	return false
	}}return true
	})
	break
	default:k=undefined
	break
	}l.mdxUnitId=k
	}return l.mdxUnitId
	}function X(p){var r=p.tree,q=r.ctxtBuilder.itemWidgets[0],v=p.parent,t=d.indexOf(v.items,p.data),n=v.items[t],l=n.mdxUnitId
	if(v===r){return 
	}if(v.data.mdxUnitId===l){return 
	}if(q.data.mdxUnitId){var m={et:I.ANDOR,fn:c.FN.AND,nds:[q.data,n]}
	r.remove(0)
	r.add([m])
	r.ctxtBuilder.itemWidgets[0].ctxtBuilder.itemWidgets[0].remove(n)
	}else{var o=q,k
	d.forEach(q.data.nds,function(x,w){if(x.mdxUnitId===n.mdxUnitId&&q.items[w]!==n){o=q.ctxtBuilder.itemWidgets[w]
	k=w
	return false
	}})
	if(o===v){return 
	}if(o.data.et!==I.ANDOR){var u={et:I.ANDOR,fn:c.FN.AND,nds:[o.data,n]}
	q.add([u],k+1)
	q.remove(o.data)
	}else{o.add([n])
	}v.remove(n)
	}}}())
	(function(){mstrmojo.requiresCls("mstrmojo.expr","mstrmojo.hash","mstrmojo.fe.FilterEditor","mstrmojo.fe.AndOrNode","mstrmojo.fe.DynamicNode","mstrmojo.fe.ConditionNode","mstrmojo.ui._HasScroller","mstrmojo.vi.ui.editors.fe.RelationNode")
	var C=mstrmojo.hash,B=mstrmojo.expr,A=B.ET
	mstrmojo.vi.ui.editors.fe.RWViewFilterExprTree=mstrmojo.declare(mstrmojo.fe.RWViewFilterExprTree,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.vi.ui.editors.fe.RWViewFilterExprTree",markupString:'<div id="{@id}"><div class="mstrmojo-ListBase2 {@cssClass}" style="position:relative
	{@cssText}" mstrAttach:keyup,keypress,mousedown,mouseup,dblclick><div class="mstrmojo-ListBase2-itemsContainer" style="position:relative
	{@itemsContainerCssText}">{@itemsHtml}</div><div class="mstrmojo-ListBase2-dropCue {@cssClass}"><div class="mstrmojo-ListBase2-dropCue-inner"></div></div></div></div>',markupSlots:{scrollboxNode:function(){return this.domNode.firstChild
	},itemsContainerNode:function(){return this.domNode.firstChild.firstChild
	},dropCueNode:function(){return this.domNode.firstChild.lastChild
	}},nodeClassMap:{14:mstrmojo.fe.AndOrNode,15:mstrmojo.vi.ui.editors.fe.RelationNode,ph:mstrmojo.fe.DynamicNode,"*":mstrmojo.fe.ConditionNode},levelSwitchValidTypes:[A.MQ,A.MC],setupScrollNodes:function(){this.scrollNode=this.scrollboxNode
	},getItemConfig:function(F,D,G){var E=this._super(F,D,G)
	return C.copy({getConditionTextPostfix:function(){return""
	}},E)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.expr","mstrmojo.hash","mstrmojo.fe.FilterEditor","mstrmojo.ui._HasScroller")
	var C=mstrmojo.hash,B=mstrmojo.expr,A=B.ET
	mstrmojo.vi.ui.editors.fe.RWViewLimitExprTree=mstrmojo.declare(mstrmojo.fe.RWViewLimitExprTree,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.vi.ui.editors.fe.RWViewLimitExprTree",markupString:'<div id="{@id}"><div class="mstrmojo-ListBase2 {@cssClass}" style="position:relative
	{@cssText}" mstrAttach:keyup,keypress,mousedown,mouseup,dblclick><div class="mstrmojo-ListBase2-itemsContainer" style="position:relative
	{@itemsContainerCssText}">{@itemsHtml}</div><div class="mstrmojo-ListBase2-dropCue {@cssClass}"><div class="mstrmojo-ListBase2-dropCue-inner"></div></div></div></div>',markupSlots:{scrollboxNode:function(){return this.domNode.firstChild
	},itemsContainerNode:function(){return this.domNode.firstChild.firstChild
	},dropCueNode:function(){return this.domNode.firstChild.lastChild
	}},levelSwitchValidTypes:[A.MQ,A.MC],getItemConfig:function(F,D,G){var E=this._super(F,D,G)
	return C.copy({getConditionTextPostfix:function(){return""
	}},E)
	},setupScrollNodes:function(){this.scrollNode=this.scrollboxNode
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.TargetMask","mstrmojo.css","mstrmojo.desc","mstrmojo.hash")
	var B="targetMask"
	mstrmojo.vi.ui._HasTargets=mstrmojo.provide("mstrmojo.vi.ui._HasTargets",{_mixinName:"mstrmojo.vi.ui._HasTargets",init:function C(D){if(this._super){this._super(D)
	}this.addChildren([{scriptClass:"mstrmojo.vi.ui.TargetMask",alias:B,slot:"domNode",tooltipContent:this.maskTooltip,allowFilters:this.allowFilters}])
	},setMaskClass:function(E,D){if(this[B].setMaskClass(E,D)){this._originalContextMenu=this.shouldShowCustomizeContextMenu
	this.shouldShowCustomizeContextMenu=function(){return false
	}
	this._originalIsDraggable=this.draggable
	this.draggable=false
	}},clearMaskClass:function(){this.shouldShowCustomizeContextMenu=this._originalContextMenu
	delete this._originalContextMenu
	this.draggable=this._originalIsDraggable
	delete this._originalIsDraggable
	this[B].clearMaskClass()
	},widgetResized:function A(){this._super()
	if(this.targetMask&&this.targetMask.candidatePicker){this.targetMask.candidatePicker.resize()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._Formattable","mstrmojo.MetricSlider","mstrmojo.MetricQualification","mstrmojo.SearchBoxSelector","mstrmojo.TextBoxSelector","mstrmojo.css","mstrmojo.dom","mstrmojo.expr","mstrmojo.array","mstrmojo.hash","mstrmojo.DocDataService","mstrmojo.func","mstrmojo.string","mstrmojo._IsSelectorTarget","mstrmojo.elementHelper","mstrmojo.MetricSelectorUtility","mstrmojo.RaErrorHandler","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo.vi._MonitorsAppState","mstrmojo.mstr.EnumDSSXMLBaseFormType","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.EnumRWUnitType","mstrmojo.mstr.EnumDSSConsolidationType","mstrmojo.vi.models.VIComponentMap.TYPES","mstrmojo.vi.enums.EnumFeatures","mstrmojo.vi.ui.rw._SupportTabNav","mstrmojo.mstr.EnumWebAPIErrorCodes")
	mstrmojo.requiresDescs(4729,4730,4732,4733,4734,4735,5225,5443,6738,8967,12297)
	var BX=mstrmojo.array,AU=mstrmojo.hash,Ap=mstrmojo.dom,u=mstrmojo.expr,Aw=mstrmojo.RaErrorHandler.embeddedErrStr,A1=u.TP,Af=u.STP,BG=mstrmojo.css,l=mstrmojo.func,BO=mstrmojo.EnumRWUnitType,BP=mstrmojo.mstr.EnumWebAPIErrorCodes,BZ=mstrmojo.MetricSelectorUtility,AZ=mstrmojo.vi.ui.DatasetUnitMenuUtils,Ai=mstrmojo.vi.models.VIComponentMap.TYPES,BF=mstrmojo.DocDataService,Bp=BF.REQUEST_DEFN_DATA,j=mstrmojo.vi.enums.EnumFeatures,BW=0,L=1,D=2,BK=3,BC=4,Aj=5,AT=6,R=7,Bn=8,A0=9,x=10,e=11,E=12,BB=mstrmojo.elementHelper,BI=BB.ELEM_ALL_ID,AW=l.wrapMethods,t=mstrmojo.string.escapeIllegalXML,n=mstrmojo.mstr,A3=n.EnumDSSXMLBaseFormType.DssXmlBaseFormHTMLTag,Aq=n.EnumDSSConsolidationType,Au=n.EnumDSSXMLObjectTypes,Az=A1.FILTER,N=A1.METRIC,Y=A1.ATTR,AB=A1.CONS,BA=0,AI="u
	",AS=Af.NDE,BT=3076,Ax=3077,BL=Af.CUSTOMGROUP,Bc=BB.ELEM_ALL,AJ=338,Ah="RA_LIMIT_ERR",P="\u001E"
	mstrmojo.DocSelectorEvtType=null
	var Bq={}
	Bq[R]="MetricSlider"
	Bq[Bn]="MetricQualification"
	Bq[A0]="SearchBoxSelector"
	Bq[x]="TextBoxSelector"
	var BQ=2
	var Bb=[{n:mstrmojo.desc(4735,"Link Bar"),v:AT},{n:mstrmojo.desc(4734,"Button Bar"),v:Aj},{n:mstrmojo.desc(6738,"List Box"),v:D},{n:mstrmojo.desc(4732,"Radio Buttons"),v:BK},{n:mstrmojo.desc(4729,"Drop-down"),v:BW}]
	var Ao=[{n:mstrmojo.desc(4735,"Link Bar"),v:AT},{n:mstrmojo.desc(4729,"Drop-down"),v:BW}]
	var X=function X(){var Br={type:parseInt(this.type,10),src:this.k,ck:this.ck,ctlKey:this.ckey,tks:this.tks,include:this.include,isUConDS:!!this.defn.dsTks}
	if(this.style===Bn||this.style===R){mstrmojo.hash.copy(Br,{srcid:this.srcid,srct:this.type,f:this.f,ft:this.ft,qt:this.qt,unset:!!this.unset,cs:this.cs})
	}return Br
	},AY=function AY(){var Bs=this.node,Bu=Bs&&Bs.data,Br=Bs&&Bs.defn,Bt=Br&&Br.srct
	return((mstrApp.isAppStatePause&&mstrApp.isAppStatePause())||mstrConfig.resolveOnly)&&this.style!==A0&&Bt&&this.hasAttrData()&&!Bu[w.ELMSREADY]&&!Bu[w.ELMSREQUEST]&&parseInt(Br.ds,10)===BA&&!Bu[w.DISABLED]
	},M=function M(Bt,Bz){var Bw=this.node.defn,Bs=this.node.data,By=mstrApp.isAppStatePause&&mstrApp.isAppStatePause()||mstrConfig.resolveOnly,Bu={taskId:"browseElements",styleName:"MojoAttributeStyle",attributeID:Bw.srcid||"",dataSourcesXML:Bw.dsrc||"",browseFlags:1},Br=By||Bz
	if(!Bw.srcid){return 
	}var B0=function(B4){var B1=this.model,B3=B1.datasets,B2=Object.keys(B3),B6=[],B5
	BX.forEach(B2,function(B7){B6=B3[B7].att
	BX.forEach(B6,function(B8){if(B8&&B8.did===B4){B5=B7
	return false
	}})
	if(!!B5){return false
	}})
	return B5
	}
	if(!Bt){Bu.datasetID=Bw.dsid||B0.call(this,Bw.srcid)
	Bu.messageID=this.model.mid
	if(!Bu.datasetID){return 
	}}var Bx=this,Bv={success:function(B1){Bx.bGetElems=true
	Bx.set("wait",false)
	if(B1&&B1.es){Bs.elms=(Bw.srcid)?BB.buildElemsTerseID(B1.es,Bw.srcid,true):B1.es
	if(By){Bx.toggleDisplayAll(Bw.showall)
	}var B2=Bx.parent,B3=B2&&B2.parent
	if(Bw.sec&&Bs.ces&&Bs.elms&&Bs.elms.length>0&&B2){B2.set("count",BB.buildElemsCountStr(Bs.ces,Bs.elms,Bx.isSelectionExcluded()))
	}if(Bx.isInvalid){Bx.isInvalid=false
	}if(Bx.hasRendered){if(Bz&&Bz.onSuccess){Bz.onSuccess()
	}else{Bx.refresh()
	if(By&&B2){BG.toggleClass(B2&&B2.domNode,"invalid",false)
	if(B3){B3.rebuildChild(B2)
	}}if(Bx.isInFilterPanel()){if(B2&&B2.defn&&B2.defn.ttl){B2.updateContentHeight()
	}if(B3&&B3.refreshFP){B3.refreshFP()
	}}}}}},failure:function(B1){if(Br){Bx.model.setDataReady(Bx.k,Bx.id,w.DISABLED,true)
	var B2=Bx.parent
	Bx.isInvalid=true
	BG.toggleClass(B2&&B2.domNode,"invalid",true)
	if(Bx.isInFilterPanel()){if(B2){B2.canCollapse=false
	if(B2.titleBar){B2.titleBar.canCollapse=false
	}B2.generateToolbar()
	}}else{if(B2.hasRendered&&B2.showInvalidMessage){B2.showInvalidMessage()
	}}return 
	}mstrmojo.alert(B1.getResponseHeader("X-MSTR-TaskFailureMsg"))
	},complete:function(){if(Br){Bx.node.data[w.ELMSREQUEST]=false
	Bx.model.setDataReady(Bx.k,Bx.id,w.ELMSREQUEST,false)
	if(!mstrApp.isSingleTier){mstrApp.hideWait()
	}}}}
	this.set("wait",true)
	if(Br){Bs[w.ELMSREQUEST]=true
	this.model.setDataReady(this.k,this.id,w.ELMSREQUEST,true)
	}if(mstrApp.isSingleTier&&Br){mstrApp.serverRequest(Bu,Bv,{hideFailureErr:true})
	}else{if(By){mstrApp.showWait()
	}mstrmojo.xhr.request("POST",mstrConfig.taskURL,Bv,Bu,false,null,true)
	}},m={getWidgetClass:function Bg(Bu,Bt,Bs){var Br=Bq[Bt]
	if(Br&&Br.constructor===Array){Br=Br[Bs?0:1]
	}return Br
	},allowHTML:function Q(){return false
	},getWidgetConfig:function AF(Bx,Bt,Bv,Br){var By=Bt===2?false:Bv.horiz,Bw=Bx.getFormats(),Bz=Bw&&Bw.height,Bu={scriptClass:this.getWidgetClass(Bx,Bt,By),docSelector:Bx,enabled:this.enabled,multiSelect:Bv.multi,isHoriz:By,include:Bv.include,itemWidthMode:Bv.iwm,allIdx:BX.find(Br,"v",mstrmojo.elementHelper.ELEM_ALL_ID),noneIdx:Bv.include?-1:BX.find(Br,"v",mstrmojo.elementHelper.ELEM_ALL_ID),renderAllItems:!Bz,allowHTML:this.allowHTML(),allowHTMLOnSelector:this.allowHTML(),onchange:function Bs(){if(!Bx._inSyncPhase){Bx.selectorControlChange(this)
	}}}
	if(Bu.noneIdx!==-1){Bu.allIdx=-1
	}if(Bw&&Bt===mstrmojo.DocSelector.STYLES.PULLDOWN){if(Bw.color){Bu.itemCssText="color: "+Bw.color+"
	"
	}if(Bw.font){Bu.itemCssText=(Bu.itemCssText||" ")+"font:"+Bw.font
	}if(mstrApp.isExpress){Bu.cssTextClass="express"
	}}return Bu
	},expandOrEditToFetchElements:function Bk(){var Br=this.node&&this.node.data
	if(Br&&Br[w.DISABLED]){Br[w.DISABLED]=false
	}this.model.setDataReady(this.k,this.id,w.disabled,false)
	this.checkAndFetchAllElemsForDelayed()
	},checkAndFetchAllElemsForDelayed:function AQ(Br){if(Br||AY.call(this)){M.call(this)
	}},newSelectorWidget:function W(B2){var By=B2.style,Bt=B2.node,B1=Bt.defn,Bw=Bt.data,Br=Bw.elms||[],Bx=B2.isInFilterPanel(),Bs,B0=this.getWidgetConfig(B2,By,B1,Br),Bv=B0.scriptClass,Bz=function(B5){var B3=this.getPopupList(),B4=this.items
	if(B3.items.length!==B4.length){this.selectedIndex=BX.find(B4,"v",B5.v)
	}if(B5){this.set("text",B5.n||mstrmojo.desc(14561,"(null)"))
	}else{this.set("text","")
	}}
	if(!Bv){Bs=new mstrmojo.Label({cssClass:"unsupported",text:"This selector is not supported."})
	}else{if(By===BW){if(mstrApp&&mstrApp.isVI){B0.useDarkTheme=!Bx&&mstrApp.getRootController().isDarkThemeSelected()
	B0.scrollNodeMaxHeight=AJ
	B0.focusOnPopup=true
	B0.allowCustomText=true
	B0.allowEmptyText=true
	B0.onitemSelected=B0.onitemSelected?mstrmojo.func.composite([Bz,B0.onitemSelected]):Bz
	B0.customizeSearchResult=function(B5){var B8,B6=this.allIdx,B4=this.multiSelect,B3=B5.length,B7={v:AI,n:mstrmojo.desc(13976,"(All search results)"),t:Au.Dimension,_renderIdx:B6}
	if(B3!==this.items.length){if(B6>=0){B8=BX.find(B5,"v",AI)
	if(B8>-1){if(B4&&B3>1){B5.splice(B8,1,B7)
	}else{B5.splice(B8,1)
	}}else{if(B4&&B3>0){B5.splice(B6,0,B7)
	}}}}}
	B0.setDefaultListAndIndex=function(B4){var B3=this.getPopupList()
	B3.set("items",B4)
	if(!this.multiSelect){B3.set("selectedIndex",this.selectedIndex)
	this.set("text",B4[this.selectedIndex].n||mstrmojo.desc(14561,"(null)"))
	}else{this.set("selectedIndices",this.selectedIndices)
	}}
	B0.onclearSelection=function(){var B4=this.getSelectedItem(),B3=this.getPopupList()
	if(B4){B3.set("selectedIndex",BX.find(B3.items,"v",B4.v))
	}}
	}}delete B0.scriptClass
	var Bu=AU.walk(Bv,mstrmojo)
	Bs=new Bu(B0)
	}return Bs
	},getCekEvtListener:function Ba(Bs,Br){return function(Bt){var Bw=[],Bu=this.node.data.elms,Bv={}
	BX.forEach(Bu,function(By,Bx){Bv[By.v]=Bx
	})
	BX.forEach(Bt.value,function(By){var Bx=Bv[By]
	if(Bx>-1){Bw.push(Bx)
	}})
	this.handleActionInSyncPhase(function(){if(Br&&Br.select){Br.select(Bw)
	}})
	}
	},newAndInitWidget:function I(Bv){var Bx,Bt=Bv._cekEvtListener,Bs=Bv.node,Br=Bs.defn,Bu=Bv.id,Bw
	if(Bt){Br.detachEventListener(Bt)
	delete Bv._cekEvtListener
	}Bx=this.newSelectorWidget(Bv)
	if(Bx){Bw=this.getCekEvtListener(Bv,Bx)
	}Bu=Bw.cekContextId||Bu
	Bw=Bw.cekEvtListener||Bw
	if(Bw){Bv._cekEvtListener=Br.attachEventListener("cekChange",Bu,Bw)
	}Bv.addChildren(Bx)
	if(this.isRecursiveAttributeSelector()){Bv.addChildren({scriptClass:"mstrmojo.Box",cssClass:Ah,alias:"ctrlOverlay",slot:"containerNode",visible:false,markupString:Aw,})
	}return Bx
	},updateWidget:function BS(Bs){var Br=Bs.children,Bt=Br&&Br[0]
	if(!Bt){Bt=this.newAndInitWidget(Bs)
	}else{Bt.set("enabled",this.enabled)
	}return Bt
	}}
	function Am(Br){return Br.some(function(Bs){return this.style===Bs
	},this)
	}function F(){var Br=this
	return Br.model.getDatasetUnits(["mx"],function(Bs){return Bs.did===Br.defn.srcid
	})[0]||{}
	}function Av(Br,Bv,Bw,By,B1,Bu,Bs){if(!Br){return[]
	}var B0=0,Bx,Bz=Br.length-(Bu?1:0)-(Bv?1:0),Bt=[]
	if(Bs){if(Bw&&Bv){B0++
	}else{if(By){B0=(Br.length-1)
	if(Bu){B0--
	}}}for(Bx=0
	Bx<B1
	Bx++){if(Bw){if(B0<=Bz&&Br[B0]){Bt.push(Br[B0++])
	}}else{if(By){if(B0>=(Bv?1:0)){Bt.push(Br[B0--])
	}}}}}else{if(Bw){B0=B1
	if(Bu){B0--
	}}else{if(By){B0=0
	if(Bv){B0++
	}}}for(Bx=B1+1
	Bx<=Bz
	Bx++){if(B0<=Bz){Bt.push(Br[B0++])
	}}}return Bt
	}function AX(Br,Bu,Bz){Br=BX.filter(Br,function(B0){return B0.v!==AI
	})
	var Bx=Bu===Ab.FIRST,Bt=Br.length,Bs=Bx?0:Math.max(Bt-Bz,0),Bw=Bx?Math.min(Bz,Bt):Bt,By=[],Bv=[]
	Br=Br.splice(Bs,Bw)
	BX.forEach(Br,function(B0){By.push(B0.v)
	Bv.push({n:B0.n,t:B0.t,v:B0.v})
	})
	return{ces:Bv,cek:By}
	}function BD(Br){if(BX.find(Br.ces,"v",AI)>-1){Br.ces=[]
	return 
	}Br.ces=BX.difference(Br.elms,Br.ces,function(Bt,Bs){return Bt.v===Bs.v
	})
	Br.ces=BX.filter(Br.ces,function(Bs){return Bs.v!==AI
	})
	}mstrmojo.DocSelector=mstrmojo.declare(mstrmojo.Container,[mstrmojo._Formattable,mstrmojo._IsSelectorTarget,m,mstrmojo.vi._MonitorsAppState,mstrmojo.vi.ui.rw._SupportTabNav],{scriptClass:"mstrmojo.DocSelector",markupString:'<div id="{@id}" k="{@k}" class="mstrmojo-DocSelector {@cssClass} {@extCls}" nm="{@en@n}" title="{@tooltip}" style="{@domNodeCssText}"  mstrAttach:keydown><div class="filter" style="{@filterNodeCssText}"></div><div class="wait" style="display:none
	z-index:100
	position:absolute
	top:0
	left:0
	width:100%
	height:100%"></div><div class="content" style="{@contentNodeCssText}"></div></div>',markupSlots:{filterNode:function(){return this.domNode.firstChild
	},contentNode:function(){return this.domNode.lastChild
	},dimNode:function(){return this.domNode.lastChild
	},containerNode:function(){return this.domNode.lastChild
	},scrollboxNode:function(){return this.domNode.lastChild
	},wIconNode:function(){return this.domNode.childNodes[1]
	}},markupMethods:{onvisibleChange:l.composite([function(){var Br=this.children,Bs=Br&&Br[0]
	if(Bs&&Bs.updateScrollbars&&this.visible){setTimeout(function(){Bs.updateScrollbars()
	},25)
	}},mstrmojo.Widget.visibleMarkupMethod]),onheightChange:mstrmojo.Widget.heightMarkupMethod,onwidthChange:mstrmojo.Widget.widthMarkupMethod,onenableChange:mstrmojo.Widget.enabledMarkupMethod,onincludeChange:function(){BG.toggleClass(this.domNode,"strikeout",!this.include)
	},onwaitChange:function(){BG.toggleClass(this.domNode,"wait",!!this.wait)
	this.wIconNode.style.display=((this.wait)?"block":"none")
	}},_ieformatHandlers:{domNode:["F","text-align","vertical-align","line-height","z-index","top","left"],contentNode:["width","B","P"],filterNode:["height","width","B","P","fx","background-color"],item:["color","font","text-decoration","text-align","line-height"]},formatHandlers:{domNode:["F","text-align","vertical-align","line-height","z-index","top","left"],contentNode:["height","width","B","P","fx","background-color"],item:["color","font","text-decoration","text-align","line-height"]},ckey:null,ck:null,tks:null,style:0,selIdx:null,extCls:"",min:-1,max:-1,bGetElems:false,n:"",_inSyncPhase:false,ctrlOverlay:null,toggleDisplayAll:function Be(Br){var Bv=this.node,Bw=Bv.data,Bu=Bv.defn,Bt=BX.filterOne(Bw.elms,function(Bx){return Bx.t===14
	})
	if(Br&&!Bt){Bt=Bc
	Bw.elms=BX.insert(Bw.elms,0,[Bt])
	}if(!Br&&Bt){Bw.elms=BX.filter(Bw.elms,function(Bx){return Bx.t!==14
	})
	}if(this.children&&this.children[0]){var Bs=BX.find(Bw.elms,"v",mstrmojo.elementHelper.ELEM_ALL_ID)
	this.children[0].items=Bw.elms
	this.children[0].allIdx=Bs
	this.children[0].noneIdx=Bu.include?-1:Bs
	}Bw[w.ELMSREADY]=true
	this.model.setDataReady(this.k,this.id,w.ELMSREADY,true,"elms",Bw.elms)
	},init:function Bj(Bt){this._super(Bt)
	if(mstrmojo.dom.isIE){this.formatHandlers=this._ieformatHandlers
	}var Bs=Bt.node.defn,Bu=Bt.node.data,Br=Bs.style
	if(Bu.iin!==undefined&&Bu.iin!==Bs.include){BD(Bu)
	}this.n=Bs.n
	this.showBFAMenu=AU.walk("model.prefs.pdfbfa",Bt)
	if(mstrApp.showSelectAllMenuOptionForSelector===1&&Bs.multi){switch(Br){case D:case BC:case Aj:case AT:this.spm=true
	break
	}}},_fetchOnInit4UCOnDS:function G(Bt){var Br=!this.bGetElems&&parseInt(this.node.defn.subTp,10)===BQ,Bs=this.node.data
	if(Br||AY.call(this)){M.call(this,Br)
	Bt=Bs.elms
	}return Bt
	},initControlInfo:function AK(){var B6=this.node,CB=B6.data,Bt=B6.defn,B4=CB.elms,CA=CB.ces
	var By=["include","ckey","ck","tks","style","multi","iase","showall"]
	B4=this._fetchOnInit4UCOnDS(B4,CB)
	this.type=Bt.ct
	var B3=Bt.fmts
	if(B3){var B1=B3.width
	if(!B1||parseInt(B1,10)<=0){B3.width="95px"
	}}AU.copyProps(By,Bt,this)
	var Bx=this.selIdx={},Bv=false,B5=Bt.multi
	if((Bt.style===L)||B5){if(!this.oces&&(CA!==undefined)){this.oces=AU.cloneArray(CA)
	Bv=true
	}var Bs=Bt.showall,B9=(BX.find(CA,"v",mstrmojo.elementHelper.ELEM_ALL_ID)>-1),B8=(parseInt(Bt.dfm,10)===1),Bu=(CB.unset===true),B7=(!B8&&Bu&&(CA&&CA.length===0)),Br=(Bs&&B9)||(B9&&!B8&&Bu)||(Bs&&B8&&Bu&&CA&&CA.length===0)
	if(Br){CA=B4
	}else{if(B7){if(!Bv&&(Bt.sus!==1)){var B2=Bt.htot,Bz=(Bt.sus===2),B0=(Bt.sus===4),CC=Bt.suc||1
	CA=Av(B4,Bs,Bz,B0,CC,B2,this.include)
	}else{if(this.oces){CA=this.oces
	}}}}}if(CA){var Bw={}
	BX.forEach(CA,function(CD){Bw[t(CD.v)]=true
	})
	BX.forEach(B4,function(CE,CD){if(Bw[t(CE.v)]){Bx[CD]=true
	}})
	}if(Bt.min>=0){this.min=Bt.min
	}if(Bt.max>=0){this.max=Bt.max
	}if(this.isRecursiveAttributeSelector()){this.levelForms=CB.lvfs||[]
	}},resetFormatHandlers:function K(){this.formatHandlers={contentNode:["RW"]}
	},_getSelectionCount:function BE(Br){return AU.keyarray(Br.selectedIndices).length
	},getDynamicSelectionItemsString:function BH(){var Bv=this.defn,Bs=Bv.sus,Bw=Bv.suc,Bu=Bv.include,Br=Bu?mstrmojo.desc(17758,"First ##"):mstrmojo.desc(18429,"Not First ##"),Bx=Bu?mstrmojo.desc(17760,"Last ##"):mstrmojo.desc(18430,"Not Last ##"),Bt=(Bs===Ab.FIRST?Br:Bx).replace("##",Bw)
	return Bt
	},canApply:function BV(Bv){var Bu=this.defn,Bw=Bu.multi,Bt=this.min,Br=Bw?this.max:1,Bs=this._getSelectionCount(Bv||this.content)
	return(Bt>=0&&Br>=0&&Bt>Br)||((Bt<0||Bt<=Bs)&&(Br<0||Br>=Bs))
	},_buildEvent:mstrmojo.emptyFn,buildPromptAnswerInfo:mstrmojo.emptyFn,selectorControlChange:function AE(B1){var Bx=this.node,Bu=Bx.data,By=Bx.defn,Bt=this.hasDynamicSelection(true),B4=mstrApp.isAppStatePause&&mstrApp.isAppStatePause()
	if(B4&&Bu[w.DISABLED]&&Bt&&!Bu[w.ELMSREQUEST]){M.call(this,undefined,{onSuccess:function(){this.configDynamicSelection(By.sus,By.suc,true)
	this.selectorControlChange(B1)
	}.bind(this)})
	return 
	}var Bv=X.call(this),B6=this.isInFilterPanel()&&this.getFilterPanel(),B2=(B6&&B6.isAutoApply()),Bw=mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation(),Bs=By.style
	this._buildEvent(Bv,B1)
	if(!this.canApply(B1)){var Br=this.getPanelContainer()
	if(this.isInSearchBoxPanel(Br)){Br.set("canApplySbp",false)
	}if(B2){this.set("err",true)
	mstrmojo.alert(mstrmojo.desc(12297,"One or more selectors are incorrectly set. Please review the selector(s) and try again."))
	}if(B6){B6.set("applyEnabled",false)
	}return 
	}if(B2){this.set("err",false)
	}if(mstrApp.isExpress&&Bs===BW){this.handleExpressPulldown()
	}if(Bt){Bv.updateDSIcon=true
	}if(Bv.requireToggle){this.deferredEvt=Bv
	this.set("include",Bv.include)
	this.deferredEvt=undefined
	}else{this.slice(Bv)
	}if(Bu.unset===true){Bu.unset=null
	}if(By.unset){By.unset=null
	}if(Bt||(Bw&&Bs===A0)){this.refresh()
	}var B0=this.model,Bz=B0&&B0.controller,B5=Bz&&Bz.view,B3=this.k,B7=this.defn&&this.defn._lkz
	BX.forEach(B5&&B5.children,function(CC){var CB=CC.defn,B9=CB&&CB.loaded,B8=CB&&CB.units
	if(B9&&CC.k!==B7){for(var CA in B8){if(CA===B3){if(B8[CA].tsk!==""){CB.loaded=false
	}break
	}}}})
	},showInfoWin:function J(Bw){var Bz=this.node&&this.node.defn,Bt=Bz&&Bz.ifw,Bs=this.model,Bu=[].concat(Bs.getTargetInfoWin(Bt)).concat(Bs.getTargetInfoWin(this.tks))
	if(Bu&&Bu.length){var B1=this.defn.horiz,Br=Bw||this.contentNode,By=Ap.position(Br),B0=Ap.position(this.contentNode),Bx=(B1||parseInt(this.defn.style,10)===L)?null:{x:B0.x,y:By.y,w:B0.w,h:By.h},Bv
	for(Bv=0
	Bv<Bu.length
	Bv++){Bs.showInfoWin(Bu[Bv],Br,B1?"v":"h",false,AU.copy(Bx))
	}}},unrender:function U(Br){delete this.formatHandlers
	this._super(Br)
	},postBuildRendering:function Aa(){if(mstrmojo.dom.isIE){this.formatHandlers=this._ieformatHandlers
	}var Bt=this.node.defn.style,Bv=this.filterNode.style,Br=this.contentNode,Bs=this.node.defn
	if(this.isInFilterPanel()&&!this.isHorizFP()){this.domNode.style.width=this.contentNode.style.width="100%"
	if(this.formatHandlers.filterNode){this.filterNode.style.width=this.contentNode.style.width="100%"
	}this.set("visible",parseInt(Bs.ds,10)===BA)
	}this.handleActionInSyncPhase(this._super,this)
	if(mstrApp.isExpress&&Bt===BW){this.handleExpressPulldown()
	}if(this.isInFilterPanel()&&this.parent.adjustFP){this.parent.adjustFP()
	}if(this.formatHandlers.filterNode){var Bu=this.getFormats()
	if(!Bu.width){Bv.width=Br.clientWidth+"px"
	}if(!Bu.height){Bv.height=Br.clientHeight+"px"
	}}else{Bv.display="none"
	}this.model.attachEventListener("CGBMapChange",this.id,"onCGBMapChange")
	if(Ap.isAndroid&&Bt===L){Br.style.overflow="visible"
	}BG.toggleClass(this.parent.domNode,"invalid",this.isInvalid)
	this.updateAriaLabel()
	return true
	},getSelectedItemAria:function BR(){return""
	},getStyleSpecificAria:function AD(){return""
	},updateAriaLabel:function BJ(){if(this.isPanelSelector()){return 
	}var Bu=this.parent,Bs=Bu.domNode,Br=Bs.getAttribute("aria-live"),Bt
	if(Bu){if(Br!=="polite"){Bs.setAttribute("aria-live","assertive")
	Bs.setAttribute("aria-relevant","text")
	}Bt=Bu.title+", "+this.getSelectedItemAria()+this.getStyleSpecificAria()
	if(Bt!==Bu.ariaLabel){Bu.set("ariaLabel",Bt)
	}}},updateHeight:function Bi(){this.contentNode.style.height=this.filterNode.style.height=this.content.getClientHeight()+"px"
	var Br=this.parent
	if(Br&&(Br.defn.ttl!==undefined)&&Br.updateContentHeight){Br.updateContentHeight()
	}},handleExpressPulldown:function A2(){var Bv=this.contentNode.firstChild.firstChild
	if(this.defn.optStyle){Bv.style.paddingTop="0"
	Bv.style.paddingBottom="0"
	Bv.style.overflowY="auto"
	Bv.style.height="auto"
	Bv.style.lineHeight="normal"
	var Bx=Bv.innerHTML
	if(Bx===""){Bv.innerHTML="a"
	}var Bw=parseInt(window.getComputedStyle(Bv).height,10)||0
	var Bu=parseInt(window.getComputedStyle(this.contentNode).height,10)||0
	if(Bx===""){Bv.innerHTML=Bx
	}Bv.style.height=Bv.style.lineHeight=(Bw===0?Bu:Math.min(Bu,Bw)+2)+"px"
	}else{var Bt=this.model.getZoomFactor()
	if(Bt!==1){var Bw=parseInt(window.getComputedStyle(Bv).height,10),Br=Bw*Bt+"px"
	Bv.style.height=Br
	Bv.style.lineHeight=Br
	}}var Bs=document.createElement("DIV")
	Bs.setAttribute("class","mstrmojo-ui-Pulldown-arrow")
	Bs.setAttribute("src","#")
	this.content.selectedNode.appendChild(Bs)
	},handleActionInSyncPhase:function Bo(Bt,Bs){var Br=this._inSyncPhase
	this._inSyncPhase=true
	try{if(Bs){Bt.call(Bs)
	}else{Bt()
	}}catch(Bu){throw ("There was an error handling the selector action in sync phase.")
	}this._inSyncPhase=Br
	},onCGBMapChange:function Bl(Bs){var Br=Bs.cgbMap
	if(!Br){return 
	}var Bt=this.tks
	AU.forEach(this.defn.cgb,function(Bv){var Bu=Br[Bv]
	if(Bu&&Bt.indexOf(Bu)<0){Bt+=P+Bu
	}})
	this.tks=Bt
	},onAppStateChange:function AV(B0){var Bz=mstrmojo.vi.VisualInsightApp.APP_STATES,B7=Bz.PAUSE,Bw=mstrApp.isAppStatePause&&mstrApp.isAppStatePause(),Bu=this.model,B2=this.node,B9=B2&&B2.data,Bt=B2.defn,By=Bu.updateCSKeysforPause,B3=this.k,B1=this.id
	var B4=B0.valueWas&B7,Br=Bz.PRESENTATION,Bx=B0.value&Br,B8=(B0.valueWas&Br),Bv=mstrApp&&mstrApp.supportFeature(j.DYNAMIC_SEL_AND_SORT)
	if(B9){if(Bw&&!B4){if(this.hasAttrData()){var B5=(BX.indexOf(By,this.ckey)===-1)&&B9.elms&&(B9.elms.length>0),Bs=this.style===A0,B6=B5&&!Bs
	B9[w.ELMSREADY]=B6
	B9[w.CESREADY]=B5
	B9[w.DISABLED]=!B5&&!Bs
	Bu.setDataReady(B3,B1,w.ELMSREADY,B6)
	Bu.setDataReady(B3,B1,w.CESREADY,B5)
	Bu.setDataReady(B3,B1,w.DISABLED,!B5&&!Bs)
	if(!B6&&this.shouldDisableGdde()){this.isInvalid=true
	}}else{if(this.hasQualData()){B9[w.METRICVALUES]=!mstrConfig.resolveOnly
	Bu.setDataReady(B3,B1,w.METRICVALUES,!mstrConfig.resolveOnly)
	B9[w.CSREADY]=true
	if(this.isAttrQualSelector()&&this.children&&this.children.length){Bu.setDataReady(B3,B1,w.CSREADY,true,"cs",this.children[0].cs)
	}else{Bu.setDataReady(B3,B1,w.CSREADY,true)
	}}}}if(!Bw&&B4){if(this.hasAttrData()){B9[w.ELMSREADY]=B9[w.CESREADY]=B9[w.ELMSREQUEST]=B9[w.DISABLED]=false
	Bu.setDataReady(B3,B1,w.DISABLED,false)
	Bu.setDataReady(B3,B1,w.ELMSREADY,false)
	Bu.setDataReady(B3,B1,w.CESREADY,false)
	Bu.setDataReady(B3,B1,w.ELMSREQUEST,false)
	}else{if(this.hasQualData()){B9[w.METRICVALUES]=B9[w.CSREADY]=false
	Bu.setDataReady(B3,B1,w.METRICVALUES,false)
	Bu.setDataReady(B3,B1,w.CSREADY,false)
	}}}if(Bv){if(Bx){if(this.hasDynamicSelection(true)){this._dynamicSelDefn={sus:Bt.sus,suc:Bt.suc}
	}}else{if(B8){delete this._dynamicSelDefn
	}}}}},update:function h(CA){this._super(CA)
	var B3=mstrApp.isAppStatePause&&mstrApp.isAppStatePause()||mstrConfig.resolveOnly,Br=this.node&&this.node.data,Bw=CA.defn,Bx=this.model,Bs=this.hasDynamicSelection(true)
	if(Br){if(Br.em&&Br.pfec===BP.XJOIN_ERROR){mstrmojo.error({shortDesc:Br.em.replace("%1","")})
	}else{if(B3){if(!CA.data){CA.data={}
	}var CB=CA.data,CF=Br.ces||[],Bu=CF.length,B0=Br[w.ELMSREADY]
	if(Bs&&B0&&(Bu===0||Bu!==Bw.suc)){Br.ces=AX(Br.elms,Bw.sus,Bw.suc).ces
	Br[w.CESREADY]=true
	}if(Br[w.CESREADY]){CB.ces=Br.ces
	CB[w.CESREADY]=Br[w.CESREADY]
	}else{if(!this.hasQualData()){CB.ces=CA.defn&&CA.defn.ces
	CB[w.CESREADY]=true
	Bx.setDataReady(this.k,this.id,w.CESREADY,true,"ces",CB.ces)
	}}if(B0){CB[w.ELMSREADY]=B0
	CB.elms=Br.elms
	}if(Br[w.DISABLED]){CB[w.DISABLED]=Br[w.DISABLED]
	}if(Br[w.METRICVALUES]){CB[w.METRICVALUES]=Br[w.METRICVALUES]
	BZ.restoreMetricSelectorProps(CB,Br)
	}if(Br[w.CSREADY]){CB[w.CSREADY]=Br[w.CSREADY]
	BZ.restoreMetricSelectorSelections(CB,Br)
	}}}}this.node=CA
	var CK=this.node.data,CE=Bw.style,B7=CK.elms,B5=this.parent,B8=(CE===L),Bv=(CE===A0),B9=this.isDynamicAttributeSelector()
	if(B3){if(CK&&Bw){if(this.hasAttrData()){Bx.setDataReady(this.k,this.id,w.CESREADY,true)
	if(Bv){CK.elms=CK.ces
	CK[w.ELMSREADY]=false
	CK[w.DISABLED]=(Bs&&!B0)?true:false
	Bx.setDataReady(this.k,this.id,w.ELMSREADY,CK[w.ELMSREADY])
	Bx.setDataReady(this.k,this.id,w.DISABLED,CK[w.DISABLED])
	}else{Bx.setDataReady(this.k,this.id,w.DISABLED,!Br[w.ELMSREADY])
	}if(!CK[w.ELMSREADY]&&this.shouldDisableGdde()){this.isInvalid=true
	}}else{if(this.hasQualData()){Bx.setDataReady(this.k,this.id,w.CSREADY,true)
	}}}}this.checkAndParseHTMLTags(B7)
	if(B8&&Bw.multi){var B4=BX.find(B7,"v",mstrmojo.elementHelper.ELEM_ALL_ID)
	if(B4>-1){CK.del={idx:B4,elem:B7[B4]}
	BX.removeIndices(B7,B4,1)
	}}var CD=[].concat(CA.data.ces||[]),CI=this.defn.cek,CL=Bw.include,Bz=this.isUnset(),CC=this.getFilterPanel(),CH=CC&&!CC.isAutoApply(),B6=this.lockSelection&&CH&&!B3
	if(Bw.sec&&!B6){if(B5&&(B5.count!==null&&B5.count!==undefined)){if((B8&&!Bs)||B9){B5.set("count","")
	}else{if((CD&&B7&&B7.length)||Bw.sos){if(!CL){var CJ=BX.find(CD,"v",mstrmojo.elementHelper.ELEM_ALL_ID)
	if(CJ>=0){BX.removeIndices(CD,CJ,1)
	}}var B1={}
	BX.forEach(B7,function(CM){B1[CM.v]=true
	})
	CD=BX.filter(CD,function(CM){return B1[CM.v]
	})
	var Bt=CD,B2
	if(!Bv){if(!Bw.multi){Bt=B7
	}B2=B7
	}if(Bz){if(Bs){B5.set("count",this.getDynamicSelectionItemsString())
	}else{B5.set("count",BB.buildElemsCountStr(B2,B2))
	}}else{B5.set("count",BB.buildElemsCountStr(Bt,B2,this.isSelectionExcluded()))
	}}}}}if(this.content){this.content.allIdx=BX.find(this.node.data.elms,"v",BI)
	}this.initControlInfo()
	var By=this.content=this.updateWidget(this)
	if(Bv&&mstrApp&&mstrApp.isVI&&!Bx.findDatasetIdFromUnit(By.srcid)){By.srcid=null
	By.richTooltip=null
	}if(!By){this.set("visible",false)
	}else{if(B6){if(!B9){var CG=this._prevSelection
	if(CG){if(CG.unset){this.clearSelector(!CH)
	}else{this.configDynamicSelection(CG.sus,CG.suc)
	}delete this._prevSelection
	}else{if(CI){this.updateSelectionsByStyle(CI)
	}}}this.lockSelection=false
	}}this.toggleControlOverlay(CK)
	this.clearCache()
	if(parseInt(AU.walk("defn.t",B5),10)===BO.SELECTOR){B5.defn=this.node.defn
	}this.defn=this.node.defn
	},updateSelectionsByStyle:function B(Bs){var Bv=mstrmojo.DocSelector.STYLES,Bu=this.content,Br=this.style,Bt=this.node.data.elms,Bw={}
	if(Br===Bv.SEARCH_BOX){Bu.set("items",Bs)
	}else{BX.forEach(Bs,function(By){var Bx=BX.find(Bt,"v",By.v||By)
	if(Bx>-1){Bw[Bx]=true
	}})
	if(Br===Bv.PULLDOWN||Br===Bv.SCROLLER){if(Bs.length===1&&!Bs[0].v&&Bs[0]===BI){Bu.selectedIndex=-1
	}Bu.selectedIndices=AU.clone(Bw)
	Bu.onchange()
	}else{Bu.set("selectedIndices",Bw)
	}}},checkAndParseHTMLTags:function d(Bv){var Bt=this.defn,Bw=Bt.srcid,Bs=this.model
	if(Bt.srct===Y&&Bw&&Bs.getBrowseFormTypes&&Bs.getBrowseFormTypes(Bw).indexOf(A3)>-1){var Br=document.implementation.createHTMLDocument("New"),Bx=Br.body,Bu
	BX.forEach(Bv,function(By){Bx.innerHTML=By.n
	Bu=Bx.firstChild
	By.n=Bu&&(Bu.text||Bu.alt)||By.n||""
	})
	Bu=null
	Bx=null
	Br=null
	return true
	}return false
	},toggleControlOverlay:function BM(Bs){var Br=this.ctrlOverlay
	if(!Br){return 
	}Br.set("visible",!!(Bs.em&&Bs.pfec===BP.MDX_LIMIT_ERROR))
	},refresh:function AL(){var Bu=this.parent,Bt=this.node&&this.node.defn,Bv=Bu&&Bu.dynamicSelIcon,Br=Bu&&Bu.dossierLevelIcon,Bs=mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation()
	if(Bu&&Bu.generateToolbar){Bu.set((this.isInFilterPanel()?"baseTitle":"title"),Bt.ttl)
	Bu.generateToolbar()
	}if(Bu&&Bu.refreshFilterSummaryBar){Bu.refreshFilterSummaryBar()
	}if(Bv&&!Bs){Bv.set("visible",this.isDsIconVisible(true))
	Bv.set("mode",this.isUnset())
	}if(Br&&!Bs){Br.set("visible",Bt.sync)
	}this._super()
	if(Bu&&Bu.fc&&Bu.updateContentHeight){Bu.updateContentHeight()
	}this.checkWhetherRestoreFocus()
	},checkWhetherRestoreFocus:function A5(){var Bu=false
	if(this.isPanelSelector()){var Br=AU.walk("parent.parent",this)
	if(Br){if(this.tks){var Bs=Br.getUnitByKey(this.tks),Bt=Bs&&Bs.boxContent
	if(Bt&&Bt.selectedPanelKey===this.k){Bu=true
	}}}}if(this.isAMSelector()&&this.selectByKey){Bu=true
	this.selectByKey=false
	}if(Bu){this.buildNavList()
	this.restoreFocus()
	}},onselectAllChange:function Bh(B0){var Bs=this.children&&this.children[0],By=Bs.items,Br=Bs.allIdx,Bu=Bs.selectedIndices,Bz,Bx=[]
	if(B0.value){if(Bu[Br]){Bs.removeSelect(Br,true)
	var Bw=Bs.itemRenderer,Bv=Bw&&Bw.unselect
	if(Bv){var Bt=Bs._getItemNode(Br)
	if(Bt){Bv(Bt,By[Br],Br,Bs)
	}}}for(Bz=0
	Bz<By.length
	Bz++){if(Bz!==Br&&!Bu[Bz]){Bx.push(Bz)
	}}Bs.addSelect(Bx)
	}else{for(Bz in Bu){Bx.push(parseInt(Bz,10))
	}Bs.removeSelect(Bx)
	}},changeFilterTechnique:function o(){var Bz=this.node.defn,B0=this.k,Br=Bz.pdf=!Bz.pdf,Bx=this.model,Bs=this.isInFilterPanel()&&this.getFilterPanel(),Bv=Bz.tks?Bz.tks.split(P):[],Bu=[B0].concat(Bv),Bt=Bx.getDataService(),Bw=Bt.getUseAlternateFilterTechniqueAction(Bz.ck,Bz.ckey,Bz.ct,Bu,Br),By=Bt.newUpdate(Bs)
	if(Bs&&Bs._bufferedSlices){Bs.applyBufferedSlices(true,By)
	}this.model.controller.submitUndoRedoUpdates((By.actions||[]).concat(Bw),null,{success:function(B2){var B1=Bu.join(P)
	Bx.partialUpdate(B2.data,Bx.getTargetDefn(B1),B2.defn,[B0])
	}},Bp)
	},onincludeChange:function Bm(B1){var Bt=this.node.defn,Br=B1.value,Bu=this.model,Bs=this.isInFilterPanel()&&this.getFilterPanel(),By=Bu.getDataService().newUpdate(Bs),B6=Bs&&Bs._bufferedSlices
	Bt.include=this.include=Br
	if(B6){Bs.applyBufferedSlices(true,By)
	}if(this.style!==R&&this.style!==e){var B7=X.call(this),B5=this.ckey
	B7.ckey=B5
	B7.changeInclude=true
	if(Bt.srct===Y||Bt.srct===AB){var B8=this,B3=this.model,B4=this.node.k,B2=B3.getDataService(),B0=B3.getSliceCallback(B7),Bw=this.isDynamicAttributeSelector(),Bz=[B2.getSelectorShowAllAction({ck:Bt.ck,ckey:Bt.ckey,type:Bt.type,showAll:Br}),B2.getSelectorIncludeAction({ck:Bt.ck,ckey:Bt.ckey,type:Bt.type,include:Br})],Bv=AW(B0,{success:function(CA){B8.set("wait",false)
	if(mstrApp.isAppStatePause&&mstrApp.isAppStatePause()){B8.toggleDisplayAll(Br)
	}if(!Bw){var CB=B3.getTargetDefn(B4),B9=CB[B4]
	B9.include=Br
	B9.showall=Br
	B3.partialUpdate(CA.data,CB)
	}if(!B8.isInFilterPanel()&&B8.parent){B8.parent.selectVIUnit(true)
	}}})
	this.showall=this.defn.showall=Br
	var Bx=this.deferredEvt
	if(!!Bx){B3.sliceDeferred(By,Bx)
	}Bz=!!Bx?Bz.concat(By.actions):(By.actions||[]).concat(Bz)
	this.set("wait",true)
	B3.controller.cmdMgr.execute({execute:function(){this.submit(Bz,Bv)
	},urInfo:{extraPuKeys:Bt.ck.split(P).slice(1),treesToRender:3}})
	}else{this.slice(B7)
	}}},getSelectorStyleList:function f(){var Bt=[],Bw=this.defn.srct,Bs=this.node,Br=Bs&&Bs.defn,Bv=Bs&&Bs.data
	if(Br.ct==="8"){return Bb
	}if(mstrApp.isVI&&Br.ct==="3"){return Ao
	}if(this.useAttrStyle()){var Bx=!this.isInFilterPanel()
	if(this.isRecursiveAttributeSelector()){return[{n:mstrmojo.desc(4733,"Check Boxes"),v:BC},{n:mstrmojo.desc(8967,"Search Box"),v:A0},{n:mstrmojo.desc(4729,"Drop-down"),v:BW}]
	}Bt=[{n:mstrmojo.desc(4733,"Check Boxes"),v:BC},{n:mstrmojo.desc(4730,"Slider"),v:L}]
	if(Bw===Y){Bt.push({n:mstrmojo.desc(8967,"Search Box"),v:A0})
	}if(Bx){Bt=Bt.concat([{n:mstrmojo.desc(4735,"Link Bar"),v:AT},{n:mstrmojo.desc(4734,"Button Bar"),v:Aj}])
	}Bt=Bt.concat([{n:mstrmojo.desc(4732,"Radio Buttons"),v:BK},{n:mstrmojo.desc(4729,"Drop-down"),v:BW}])
	if(Bx){Bt=Bt.concat([{n:mstrmojo.desc(6738,"List Box"),v:D}])
	}var Bu=AZ.getUnitFromDataset(this.model.datasets,this.defn.srcid,12)
	if(Bv.fid&&(Bu&&!Bu.de)){Bt.push({n:mstrmojo.desc(5443,"Calendar"),v:e})
	}}else{if(Bw===N){if((mstrApp.isAppStatePause&&mstrApp.isAppStatePause()||mstrConfig.resolveOnly)&&Br&&Br.style!==R&&!(Bv&&Bv.max&&Bv.min)){Bt=[{n:mstrmojo.desc(5225,"Qualification"),v:Bn}]
	}else{Bt=[{n:mstrmojo.desc(4730,"Slider"),v:R},{n:mstrmojo.desc(5225,"Qualification"),v:Bn}]
	}}}return Bt
	},supportsInclude:function H(){var Br=this.defn
	if(this.isRecursiveAttributeSelector()){return !this.isDynamicAttributeSelector()
	}return((Br.srct===Y&&!this.hasDE)||(Br.srct===N&&Br.style===R))&&!this.isSolrSelector()&&!mstrApp.isInVFConfigMode
	},isSelectionExcluded:function AA(){return this.isDynamicAttributeSelector()&&!this.defn.include
	},isSolrSelector:function A9(){return this.model.isFromSolrCube(this.defn.srcid)
	},isMetricSelector:function S(){return this.defn.srct===N
	},isRankMetricSelector:function C(){var Br=F.call(this).f
	return Br&&typeof Br==="string"&&Br.search(/rank/i)===0
	},isNumericMetricSelector:function Al(){var Br=F.call(this).dt
	return this.model.isNumericDataType(Br)
	},isAttributeSelector:function Ak(){return this.defn.srct===Y
	},supportsShowAllToggle:function g(){return this.defn.srct===Y||this.defn.srct===AB||(this.defn.srct===Az&&this.defn.srcst===BL)
	},useAttrStyle:function v(){var Br=this.defn.srct
	return Br===Az||Br===Y||Br===AB
	},hasAttrData:function Ae(){return this.useAttrStyle()&&!this.isAttrQualSelector()
	},hasQualData:function b(){return this.isAttrQualSelector()||this.isMetricSelector()
	},isDerivedAttributeSelector:function a(){return this.defn.srct===Y&&this.defn.srcst===Ax
	},isNewDerivedElementSelector:function Z(){return this.isConsolidationSelector()&&this.defn.srcst===AS
	},isNewDerivedRecursiveElementSelector:function A7(){return this.isNewDerivedElementSelector()&&this.defn.ndetype===Aq.DssRecursiveDerivedElement
	},isAttrQualSelector:function q(){return this.defn.srct===Y&&this.defn.style===e
	},isRecursiveAttributeSelector:function At(){var Br=this.defn
	return Br.srct===Y&&Br.srcst===BT||this.isNewDerivedRecursiveElementSelector()
	},isDynamicAttributeSelector:function BN(){return this.isRecursiveAttributeSelector()&&this.isInFilterPanel()&&this.defn.style===BC
	},allowsOrientationChange:function Ay(){return !this.isAttrQualSelector()&&!Am.call(this,[A0,D,BW,L,R,Bn])
	},isSearchBox:function BY(){return Am.call(this,[A0])
	},isVisFilter:function Bf(){return Am.call(this,[E])
	},isAttrElemListSelector:function As(){return this.defn.srct===Y&&this.defn.style!==e
	},isCGSelector:function Ac(){return this.defn.srcst===BL
	},isConsolidationSelector:function Bd(){return this.defn.srct===AB
	},isSlicingSelector:function A(){return this.isCGSelector()||this.isConsolidationSelector()
	},isGeoSelector:function AH(){var Br=AZ.getUnitFromDataset(this.model.datasets,this.defn.srcid,12)
	return !!Br&&AZ.isGeoAttr(Br)
	},isUnset:function c(){return !!(this.node.data.unset||this.defn.unset)
	},hasDynamicSelection:function AP(Br){return(this.defn.sus>Ab.UNSET)&&(!Br||this.isUnset())
	},shouldDisableGdde:function AM(){return this.isCGSelector()||this.isGeoSelector()
	},getInvalidTooltip:function z(){var Bs=mstrmojo.desc(15787,"Unable to retrieve the list of elements for this filter")+mstrmojo.desc(1006,"."),Br=" "+mstrmojo.desc(15931,"Please resume data retrieval to use this filter.")
	if(this.isCGSelector()){Bs=mstrmojo.desc(15924,"This Filter is based on a Custom Group, which is not supported when data retrieval is paused.")+Br
	}else{if(this.isGeoSelector()){Bs=mstrmojo.desc(15932,"This filter is based on a Geo Attribute, which is not supported when data retrieval is paused.")+Br
	}}return Bs
	},slice:function k(Bu){var Br=this.model
	if(Bu&&Bu.eid){Bu.eid=t(Bu.eid)
	}if(Br.closeSelWarnFlag){Br.closeSelWarnFlag(this.k)
	}if(this.isInFilterPanel()){var Bs=this.getFilterPanel()
	if(Bs&&!Bs.isAutoApply()){Bs.bufferSlice(Bu)
	return 
	}}var Bv=this.getPanelContainer()
	if(this.isInSearchBoxPanel(Bv)){Bv.parent.bufferSlice(Bu)
	Bv.set("canApplySbp",Bv.canApplySearchBoxPanel())
	return 
	}var Bt=Bv&&Bv.parent
	if(Bt&&Bt.bufferSlice&&Bt.hasDisabledSelectionApply&&Bt.hasDisabledSelectionApply()&&Bu&&!Bu.forceApply){Bt.bufferSlice(Bu)
	return 
	}Br.slice(Bu)
	},isInFilterPanel:function A6(){var Br=this.parent
	return(Br&&Br.isInFilterPanel&&Br.isInFilterPanel())||false
	},isHorizFP:function AG(){var Br=this.parent
	return(Br&&Br.isHorizFP&&Br.isHorizFP())||false
	},getFilterPanel:function O(){var Br=this.parent
	return(Br&&Br.getFilterPanel&&Br.getFilterPanel())||null
	},isInSearchBoxPanel:function(Br){var Bs=Br||this.getPanelContainer()
	return Bs&&(Bs.isSbp||(Bs._isSearchBoxPanel&&Bs._isSearchBoxPanel()))
	},getPanelContainer:function(){var Br=BO,Bs
	for(Bs=this.parent
	Bs&&Bs.defn
	Bs=Bs.parent){if(parseInt(Bs.defn.t,10)===Br.PANEL){return Bs
	}}return null
	},clearSelector:function A8(Br){var B4=X.call(this),Bz=[BI],B3=this.node.data.elms||[],B8=this.style,Bs=this.defn.include,Bu=this.isFilterNothing&&this.isFilterNothing(),Bw=this.node.defn,CA=Bw.srcst===257||(Bw.srct===47&&Bw.srcst!==12033),CD=mstrApp&&mstrApp.getSelectAllForUnsetForVI&&mstrApp.getSelectAllForUnsetForVI(),B7=[Bc],Bv=w.CESREADY,Bx="ces",B5=[],B1=mstrApp.isAppStatePause&&mstrApp.isAppStatePause(),B2=this.parent
	if(B8===A0){if(CD){B4.eid=Bz.join(P)
	B5=B7
	}else{B4.ckey=this.ckey
	B4.unset=true
	}this.defn.set("cek",[])
	}else{if(B8===R||B8===Bn){B4.cs=""
	B4.ckey=this.ckey
	B4.unset=true
	Bw.set("cek",{cs:null,qua:this.qua,include:Bs,f:null,ft:null})
	Bv=w.CSREADY
	Bx=["f","ft","cs"]
	B5=[null,null,""]
	}else{if(B8===e){B4.unset=true
	B4.ckey=this.ckey
	var B0=[{v:""},{v:""}]
	Bw.set("cek",{cs:B0})
	Bv=w.CSREADY
	Bx="cs"
	B5=B0
	}else{if(CD){B4.eid=Bz.join(P)
	B5=B7
	}else{B4.ckey=this.ckey
	B4.unset=true
	}var CC
	if((Bs||B8===L)&&this.multi){BX.forEach(B3,function(CF){var CE=CF.v
	if(Bz[0]!==CE){Bz.push(CE)
	if(!CC){CC=[CF]
	}}})
	}var By=Bs||B8===L
	if(!CA){Bw.set("cek",By?Bz:[])
	B5=By?B7:[]
	if(!By&&this.content&&this.content.text){this.content.text=""
	}}else{if(B1){Bw.set("cek",(By&&Bz.length>1)?[Bz[1]]:[])
	}B5=CC||[]
	}Bx="ces"
	}}}if(Bw.sec){B2.set("count",(B8===A0||B8===L)?"":BB.buildElemsCountStr(Bz,B3,this.isSelectionExcluded()))
	}B4[Br?"forceApply":"forceBuffer"]=true
	if((Bu&&!CA)||B1){B4.ignoreTargetData=true
	}B4.retrieveCtrlKey=CA
	if(B1){var B9=this.model,CB=B9.getCurrentLayoutDef(),B6=CB&&CB.units,Bt=this.k
	if(B6&&B6[Bt]){B6[Bt].cesChange=false
	}B9.setDataReady(Bt,this.id,Bv,true,Bx,B5)
	}if(this.hasDynamicSelection()){delete Bw.sus
	delete Bw.suc
	this.node.data.unset=true
	B4.resetSuc=true
	B4.updateDSIcon=true
	if(!Br||B1){this.refresh()
	}}this.slice(B4)
	},configDynamicSelection:function AN(B9,Bt,Bs){var Bv=this.defn,CB=this.node.data,Bz=CB.elms||[],B0=X.call(this),B4=this.isInFilterPanel()&&this.getFilterPanel(),Bx=mstrApp.isAppStatePause&&mstrApp.isAppStatePause(),Bw=B4&&!B4.isAutoApply(),Bu=this.style===mstrmojo.DocSelector.STYLES.SEARCH_BOX,By=this.parent,B8=this.model,B7=[],B6={}
	B0.dynamicSelection=true
	B0.sus=B9
	B0.suc=Bt
	B0.refreshDefn=true
	B0.updateDSIcon=true
	if(Bw||Bx){Bv.sus=B9
	Bv.suc=Bt
	CB.unset=true
	if(((Bu&&!this.lockSelection)||(Bx&&!CB[w.ELMSREADY]))&&!CB[w.ELMSREQUEST]){M.call(this,undefined,Bu&&!Bx?{onSuccess:this.configDynamicSelection.bind(this,B9,Bt,true)}:undefined)
	}else{B6=AX(Bz,B9,Bt)
	Bv.set("cek",Bu?B6.ces:B6.cek)
	this.selIdx=this.content.selectedIndices
	if(Bv.sec){By.set("count",this.getDynamicSelectionItemsString())
	}this.refresh()
	}if(Bx){var CA=B8.getCurrentLayoutDef(),B5=CA&&CA.units,Br=this.k,B3=B4?B4:B8.getVIComponent(Ai.VIZ_CONTENT)
	if(B5&&B5[Br]){B0.forceApply=true
	B5[Br].cesChange=false
	B3.clearSingleBuffSlice(Br)
	}B8.setDataReady(Br,this.id,w.CESREADY,true,"ces",B6.ces)
	B0.ignoreTargetData=true
	}}if(!Bx){var CC=B8.getCurrentLayoutSelectorDefn(),B2=B4?CC.filterPanelSelectors:CC.canvasSelectors,B1=function(CE){var CD=CE?CE.split(P):[]
	BX.forEach(CD,function(CF){var CG=B2[CF],CH
	if(CG&&CG.sus){CH=B8.getDataNode(CF)
	if(CH&&CH.unset&&(B7.indexOf(CF)===-1)){B7.push(CF)
	B1(CG.tks)
	}}})
	}
	if(Object.keys(B2).length>2){B1(Bv.tks)
	}B0.updateKeys=B7
	}if(!Bs){this.slice(B0)
	}},isDsIconVisible:function BU(Br){return this.hasDynamicSelection()&&!this.hasQualData()&&(Br?this.isInFilterPanel():true)
	},createDynamicSelectionIcon:function AC(){var Bs=this,Br=this.defn,Bt=this.isUnset()
	var Bu=new mstrmojo.Widget({visible:this.isDsIconVisible(true),mode:Bt,markupString:'<div class="'+(Bt?"on":"off")+'" mstrAttach:click></div>',useRichTooltip:true,tooltipOpenDelay:100,updateTooltipConfig:function(){var Bv=this.mode?mstrmojo.desc(17767,"Dynamic Filter On"):mstrmojo.desc(17759,"Dynamic Filter Off")
	this.richTooltip={cssClass:"vi-regular A-center vi-tooltip-A",content:Bv,refNode:this.domNode,top:30,left:10,posType:mstrmojo.tooltip.POS_TOPCENTER,}
	},onclick:function(){if(BG.hasClass(this.domNode,"off")){var Bv=Br.multi?Br.suc:1
	Bs.configDynamicSelection(Br.sus,Bv)
	}else{Bs.selectorControlChange(Bs.content)
	}},markupMethods:{onvisibleChange:function(){BG.toggleClass(this.domNode,"dynamicSelection",this.visible)
	},onmodeChange:function(){BG.toggleClass(this.domNode,"off",!this.mode)
	BG.toggleClass(this.domNode,"on",this.mode)
	}}})
	return Bu
	},enterUnit:function(){this.resetTabNav()
	this.grabFocus()
	this.navigateToFirstValidTarget()
	},allowsTogglingMultiSelect:function An(){return !this.isPanelSelector()&&Am.call(this,[BW,Aj,AT,A0,L,D])
	},allowsTogglingAutoSearch:function AO(){return !this.isRecursiveAttributeSelector()&&Am.call(this,[A0])
	},allowsSameSizeItems:function Ad(){return !this.isPanelSelector()&&Am.call(this,[BC,BK,Aj,AT])&&!this.isRecursiveAttributeSelector()
	},supportsSetTarget:function p(){var Br=this.defn
	return this.isAttrElemListSelector()||this.isSlicingSelector()
	},supportSelectionColor:function AR(){return Am.call(this,[D,AT])
	},isAMSelector:function r(){return !(mstrApp&&mstrApp.isExpress)&&this.defn.ct==="8"
	},isPanelSelector:function Ag(){return !(mstrApp&&mstrApp.isExpress)&&this.defn.ct==="3"
	},isLinkBar:function Ar(){return this.style===AT
	},hideTitleCtrl:function A4(){return this.isPanelSelector()
	},})
	mstrmojo.DocSelector.UC_ON_DS=BQ
	mstrmojo.DocSelector.STYLES={PULLDOWN:BW,SCROLLER:L,LIST:D,RADIO:BK,CHECKBOX:BC,BUTTON:Aj,LINK:AT,METRIC_SLIDER:R,METRIC_QUAL:Bn,SEARCH_BOX:A0,TEXT_BOX:x,ATTR_QUAL:e,VISUALIZATION:E}
	mstrmojo.DocSelector.DATAPARAMS={CESREADY:"cesReady",ELMSREADY:"elmsReady",ELMSREQUEST:"elemsRequest",METRICVALUES:"metricValues",CSREADY:"csReady",DISABLED:"disabled"}
	mstrmojo.DocSelector.UNSET_STATUS={UNSET:1,FIRST:2,LAST:4}
	mstrmojo.DocSelector.SYNC_STATUS={UNSYNC:0,SYNC:1}
	var w=mstrmojo.DocSelector.DATAPARAMS,Ab=mstrmojo.DocSelector.UNSET_STATUS
	mstrmojo.DocSelector.UnitTest_API={getDynamicSelSelectedItems:AX}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Label","mstrmojo.Pulldown","mstrmojo.array","mstrmojo.ObjectInputBox","mstrmojo.ME.MetricDataService","mstrmojo.ME._MetricEditorHelper","mstrmojo.ui.ScrollableSuggestionList","mstrmojo.url")
	var K=mstrmojo.expr,S=mstrmojo.Enum_OIB_States,L=mstrmojo.ME._MetricEditorHelper,X=mstrmojo.dom,Q=mstrmojo.url,I=mstrmojo.array
	var R=21
	mstrmojo.ME.ObjectInputBox=mstrmojo.declare(mstrmojo.ObjectInputBox,null,{cssClass:"",autoSelect:false,suggestionListClass:"mstrmojo.ui.ScrollableSuggestionList",suggestionPopupCssClss:"mstrmojo-ME-ObjectInputBox-suggest",blockCount:mstrmojo.ME.MetricDataService.blockCount,suggestCount:mstrmojo.ME.MetricDataService.suggestCount,useKeyDelay:true,showDesc:true,showPath:true,showFunctionSyntaxAsPath:true,emptyText:"Search for an object",showEmptyItem:false,noEditButton:true,browseItemVisible:true,click2edit:true,showSuggestionOnEdit:false,tabNavigable:true,obCfg:{},dynamicVerify:true,init:function U(E){this._super(E)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-ME-ObjectInputBox")
	if(this.isDME){this.browseItemVisible=!this.isDME
	this.suggestCount=this.isDME?1000:mstrmojo.ME.MetricDataService.suggestCount
	this.REQUEST_THRESHOLD=1000
	this.dynamicVerify=false
	}},item2textCss:function G(c){if(this.isDME){return mstrmojo.ME._MetricEditorHelper.item2textCss(c)
	}var E=this._super(c)||{1:"f",4:"m",12:"a",13:"fc",43:"tr","-1":"rl","-99":"br"}[c.t]||""
	return E?" icn "+E:""
	},itemFunction:function C(e,E,d,f){e[d.itemIdField]=d.nextId()
	var g=f||mstrmojo.ME.ObjectItem,h=new g({parent:d,itemField:d.itemField,cssClass:d.item2textCss(e),data:e,bindings:{isFull:"this.parent.isFull"},onisFullChange:function(){if(this.hasRendered){this.updateButtonsVisibility()
	}}})
	d.attachEventListener4ItemWidget(h,d)
	return h
	},getActiveItem:function O(){var E=this.editingIdx,d,c
	if(E>-1){d=this.ctxtBuilder.itemWidgets[E]
	c=d&&d.data
	}return c
	},showObjectBrowser:function(E){this.set("suggestTarget",E)
	this.handleSuggestionItemSelect({t:-99},this.obCfg)
	},hideItemWidgetBrowseButton:function Y(){return false
	},hidePulldownButton:function H(){return true
	},hideDelButton:function B(){return false
	},dtp:0,verifyObject:function D(c,E){if(!this.dynamicVerify){return S.VALID
	}var e=E.data
	var d=parseInt(this.dtp,10)
	switch(d){case -1:case -2:case -4:case -5:case -6:if(e.t===-1||L.isDimty(c,d===-1)){return S.VALID
	}if(this.dynamicVerify){return this._super(c,E)
	}return e.did?S.VALID:S.INVALID
	case 1:case 2:case 3:case 4:case 5:case 6:case 7:if(e.t<0){return S.VALID
	}if(/^\d{1,}$/.test(mstrmojo.string.trim(c))||e.did){return S.VALID
	}if(this.dynamicVerify){return this._super(c,E)
	}return S.INVALID
	default:return S.VALID
	}},getItemsToFilterOut:function P(){return this.items
	},updateSuggestion:function W(E){var d=this.getActiveItem()
	var c=this.getItemsToFilterOut()
	E=I.filter(E,function(h){var g=h.did,e=false,k
	var j=function(f){I.forEach(c,function(l){if(l!==d&&l.did===f){e=true
	return false
	}})
	}
	j(g)
	if(!e){k=h
	}return k
	})
	if(this._super){this._super(E)
	}},nudge:function J(c){c.domNode.style.minWidth=this.suggestTarget.domNode.offsetWidth+(this.isDME&&!(mstrApp&&mstrApp.isWSStyling)?13:0)+"px"
	var d=X.position(c.domNode),e=X.position(this.suggestTarget.domNode),E=X.windowDim()
	if(d.y+d.h>E.h){c.domNode.style.top=(e.y-d.h-5)+"px"
	}},getSelectedObjects:function A(){var E=this._super(),c=this.candidates&&this.candidates.items||[]
	I.forEach(E,function(d){I.forEach(c,function(e){if(d.t===R&&!d.fnm&&d.did===e.did&&e.fnm){d.fnm=e.fnm
	return false
	}})
	})
	return E
	}})
	mstrmojo.ME.ObjectItem=mstrmojo.declare(mstrmojo.ObjectItem,[mstrmojo._HasPopup],{markupString:'<div id={@id} class="mstrmojo-ObjectItem" style="{@cssText}"><div class="mstrmojo-ObjectItem-displayNode" tabindex="0" mstrAttach:click,focus><span class="mstrmojo-ObjectItem-text {@cssClass}"></span></div><div class="mstrmojo-ObjectItem-editNode"><input type="text" class="mstrmojo-ObjectItem-input" placeholder="{@placeholderText}" mstrAttach:keyup,keydown,focus/></div><div class="mstrmojo-ObjectItem-icons"><div class="mstrmojo-ObjectItem-down" mstreventmark="downNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].showSuggestion(\'\')"></div><img class="mstrmojo-ObjectItem-browse" src="'+Q.getPlaceholderImageURL()+'" title="'+mstrmojo.desc(1825,"Browse")+'" mstreventmark="browseNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].browse()"/><div class="mstrmojo-ObjectItem-opts" title="'+mstrmojo.desc(9598,"Level options")+'" mstreventmark="optsNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].options(arguments[0])" style="display:none
	"></div><img class="mstrmojo-ObjectItem-edit" src="'+Q.getPlaceholderImageURL()+'" title="'+mstrmojo.desc(1088,"Edit")+'" mstreventmark="editNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].edit()"/><img class="mstrmojo-ObjectItem-del" src="'+Q.getPlaceholderImageURL()+'" title="'+mstrmojo.desc(629,"Delete")+'" mstreventmark="delNode" mstrevent="click" onclick="mstrmojo.all[\'{@id}\'].del(arguments[0])" style="display:none
	"/></div></div>',eventHandlerMap:{downNode:{click:{requiredParams:["id"],handlerFn:function(E){return function(){mstrmojo.all[E.id].showSuggestion("")
	}
	}}},browseNode:{click:{requiredParams:["id"],handlerFn:function(E){return function(){mstrmojo.all[E.id].browse()
	}
	}}},optsNode:{click:{requiredParams:["id"],handlerFn:function(E){return function(){mstrmojo.all[E.id].options(arguments[0])
	}
	}}},editNode:{click:{requiredParams:["id"],handlerFn:function(E){return function(){mstrmojo.all[E.id].edit()
	}
	}}},delNode:{click:{requiredParams:["id"],handlerFn:function(E){return function(){mstrmojo.all[E.id].del(arguments[0])
	}
	}}}},markupSlots:{displayNode:function(){return this.domNode.firstChild
	},editNode:function(){return this.domNode.childNodes[1]
	},textNode:function(){return this.domNode.firstChild.firstChild
	},pulldownButtonNode:function(){return this.domNode.lastChild.childNodes[0]
	},browseButtonNode:function(){return this.domNode.lastChild.childNodes[1]
	},optionButtonNode:function(){return this.domNode.lastChild.childNodes[2]
	},editButtonNode:function(){return this.domNode.lastChild.childNodes[3]
	},delButtonNode:function(){return this.domNode.lastChild.lastChild
	},inputNode:function(){return this.domNode.childNodes[1].firstChild
	}},init:function U(E){this._super(E)
	this.placeholderText=this.parent.emptyText
	},initState:function Z(){var c=this.parent,e=this.data,E=e.state
	if(c.dynamicVerify){return this._super()
	}if(typeof E==="undefined"){E=c.verifyObject(e[this.itemField],this)
	e.state=E
	}return E
	},reduceWidth:function(){},updateButtonsVisibility:function F(){if(this._super){this._super()
	}if(this.parent.hidePulldownButton()){this.pulldownButtonNode.style.display="none"
	}if(this.parent.hideItemWidgetBrowseButton()){this.browseButtonNode.style.display="none"
	}this.optionButtonNode.style.display=this.data.state!==S.ADDING&&this.optionButtonVisible?"":"none"
	this.delButtonNode.style.display=this.data.state!==S.ADDING&&!this.parent.hideDelButton()&&!this.isFull?"":"none"
	},browse:function N(){this.set("state",this.data.state===S.ADDING?S.ADDING:S.EDITING)
	this.parent.showObjectBrowser(this)
	},click2edit:function M(){if(this.parent.click2edit){this.edit()
	}},onclick:function b(){this.click2edit()
	},onfocus:function a(E){if(E.getTarget()===this.inputNode){this._super()
	}else{this.click2edit()
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.expr","mstrmojo.Button","mstrmojo.Editor","mstrmojo.ME.MetricDataService","mstrmojo.ME._MetricEditorHelper")
	mstrmojo.requiresDescs(12852)
	var J=mstrmojo.expr,A=mstrmojo.array,G=mstrmojo.hash,M=mstrmojo.ME._MetricEditorHelper,B=mstrmojo.ME.Enum.DYNAMIC_DIMTY,L=mstrmojo.ME.Enum.UI_DATA_TYPE,I=mstrmojo.ME.Enum.UI_OBJECT_TYPE,F=mstrmojo.ME.MetricToken.brackets
	var K
	function Q(){var E=mstrmojo.all[K]
	if(E&&E.onmetricModify){E.onmetricModify()
	}}function C(){var E=mstrmojo.all[K]
	if(E&&E.updateScrollbars){E.updateScrollbars()
	}}mstrmojo.ME.SortByInputList=mstrmojo.declare(mstrmojo.WidgetList,null,{makeObservable:true,isNewDef:true,isDME:false,init:function R(E){this._super(E)
	mstrmojo.css.addWidgetCssClass(this,"mstrmojo-ME-sortby")
	},preBuildRendering:function(){var E=this.items||[]
	if(this.isNewDef&&this.isDME){E.push(B.getAutomaticDimtyObject())
	}E.push({n:""})
	this.items=E
	if(this._super){this._super()
	}},getTokens:function(){var Y=this.items,E=Y.length-1,X,c=[]
	if(E>0){c.push({v:"SortBy"})
	c.push({v:"=",isDelimiter:true})
	c.push({v:"(",isDelimiter:true})
	for(X=0
	X<E
	X++){var a=Y[X],b=a.selFrm,W,Z=false
	if(M.isDimty(a.n)){W={v:a.n}
	Z=true
	}else{if(/^@/.test(a.did)){W={v:a.did}
	Z=true
	}else{W={v:F(a.n),oi:a}
	}}if(b&&(a.t===J.TP.ATTR||(a.t===J.TP.CONS&&a.st===J.STP.NDE))){G.copy({v:F(a.n)+"@"+F(b.n),exv:b.dssid,extp:8},W)
	}c.push(W)
	if(!Z){if(!!a.asc){c.push({v:"Desc",tp:259})
	}}if(X!==(E-1)){c.push({v:",",isDelimiter:true})
	}}c.push({v:")",isDelimiter:true})
	}return c
	},itemFunction:function(Z,E,W){return new mstrmojo.Box({cssClass:"mstrmojo-ME-sortby-item",alias:"sortByItem",parent:W,children:[{scriptClass:"mstrmojo.ME.ObjectInputBox",alias:"sortByInput",cssClass:"mstrmojo-ME-ObjectInputBox-sortby",emptyText:mstrmojo.desc(12179,"Search for #").replace("#",mstrmojo.desc(3377,"Object").toLowerCase()),isDME:W.isDME,dtp:L.Sortby,maxObjectCount:1,folderLinksContextId:16,browsableTypes:[J.TP.ATTR,J.TP.METRIC,J.TP.FOLDER].join(","),getCandidatesThroughTaskCall:function b(e,d){e.objectType=J.TP.ATTR+","+J.TP.METRIC
	e.rootFolderType=39
	e.blockCount=e.blockCount||this.blockCount
	mstrmojo.ME.MetricDataService.getMetricComponents(e,d)
	},obCfg:{folderLinksContextId:16,browsableTypes:[J.TP.ATTR,J.TP.METRIC,J.TP.FOLDER].join(",")},bindings:{candidates:"this.parent.parent.candidates"},postCreate:function(d){if(!d){this.set("items",Z.did||Z.dimty?[Z]:null)
	}},onitemchange:function(){var f=this.getSelectedObjects()[0]
	if(!f||!f.did&&!f.n){return 
	}Z.selFrm=null
	mstrmojo.hash.copy(f,Z)
	var e=this.parent.formsPulldown
	if(e){e.updateForms(f)
	}var d=this.parent.ascPulldown
	if(d){d.set("visible",Z.t===4||Z.st===J.STP.NDE)
	}Q()
	},onadd:function X(){if(this.getSelectedObjects().length===0){return 
	}if(this.parent===W.ctxtBuilder.itemWidgets[W.items.length-1]){W.add([{n:""}])
	this.parent.del.set("visible",true)
	}},hidePulldownButton:function(){return !W.isDME
	},hideDelButton:function(){return true
	},hideItemWidgetBrowseButton:function(){return W.isDME
	},getItemsToFilterOut:function(){return W.items
	}},{scriptClass:"mstrmojo.Pulldown",alias:"formsPulldown",cssClass:"mstrmojo-ME-sortby-forms mstrmojo-ME-Pulldown",popupCssClass:"mstrmojo-ME-Pulldown-Popup",defaultSelection:-1,bindings:{visible:function(){return this.items&&this.items.length>0
	}},popupToBody:true,popupZIndex:100,postCreate:function(){this.retrieveDssForms(Z)
	},retrieveDssForms:function Y(f){var e=this,d=function(){var n=function(o){f.dssforms=o
	e.set("items",f.dssforms)
	e.selectedIndex=-1
	e.selectedItem=null
	e.value=null
	e.set("value",f.selFrm)
	}
	var l=e.parent.sortByInput.candidates,g=l&&l.items
	if(f.did&&g){var k=A.find(g,"did",f.did)
	if(k>-1){var j=mstrmojo.hash.clone(g[k].fs)
	if(j){A.forEach(j,function(o){o[e.itemIdField]=o.fid
	o[e.itemField]=o.fnm
	})
	n(j)
	return 
	}}}var m=function(o){if(o){var p=o.container
	if(p&&p.dssforms){f.dssforms=p.dssforms
	n(f.dssforms)
	}}},h=function(o){mstrmojo.alert(o.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}
	mstrmojo.ME.MetricDataService.getAttributeForms({attributeID:f.did,displayedForms:0},{success:m,failure:h})
	}
	switch(f.t){case J.TP.ATTR:d()
	break
	case J.TP.CONS:if(f.st===J.STP.NDE){e.set("visible",false)
	}break
	case J.TP.METRIC:e.set("visible",false)
	break
	case I.Dimty:e.set("visible",false)
	break
	}},updateForms:function a(d){this.retrieveDssForms(d)
	},onvalueChange:function c(){if(this.selectedItem){Z.selFrm=this.selectedItem
	}if(this.hasRendered){Q()
	}}},{scriptClass:"mstrmojo.Pulldown",alias:"ascPulldown",cssClass:"mstrmojo-ME-sortby-asc mstrmojo-ME-Pulldown",popupCssClass:"mstrmojo-ME-Pulldown-Popup",items:[{n:"Ascending",v:0},{n:"Descending",v:1}],itemIdField:"v",popupToBody:true,popupZIndex:100,visible:false,bindings:{value:function(){return this.parent.parent.items[E].asc
	},visible:function(){var d=this.parent.sortByInput.getSelectedObjects()[0]
	return(this.parent.formsPulldown.visible&&this.parent.formsPulldown.value)||((!mstrApp.isWorkstationPlugin||d)&&(d.t===J.TP.METRIC||d.st===J.STP.NDE))
	}},onvalueChange:function(d){Z.asc=this.value
	if(this.hasRendered){Q()
	}}},{scriptClass:"mstrmojo.Button",alias:"del",cssClass:"mstrmojo-ACLEditor-delete",text:"&nbsp",title:mstrmojo.desc(629,"Delete"),bindings:{visible:function(){var d=W.itemIndex(Z)
	return this.parent.parent.items[d].did
	}},onclick:function(){W.remove(W.items[W.itemIndex(Z)])
	Q()
	}}]})
	},onadd:function H(){C()
	},onremove:function S(){C()
	}})
	mstrmojo.ME._HasSortBy=mstrmojo.provide("mstrmojo.ME._HasSortBy",{_mixinName:"mstrmojo.ME._HasSortBy",ios:false,oniosChange:function P(E){this.sortByContainer.set("visible",E.value)
	},onOpen:function(){if(this._super){this._super()
	}K=this.id
	var W=this.oi.tks,X=!W.met
	var E=this.sortByContainer&&this.sortByContainer.sortByWidgetList
	if(E){E.set("isNewDef",X)
	E.set("isDME",this.isDME)
	E.set("candidates",this.getCandidates4Sortby())
	E.set("items",this.getSortByDefFromTokens().items||[])
	}},getCandidates4Sortby:function U(){var W=this.candidates,E
	if(W&&!this.noCache){E=A.filter(W.items,function(X){return X.t===J.TP.ATTR||X.t===J.TP.METRIC||X.st===J.STP.NDE
	})
	if(this.isDME){E=B.getItems("sortby").concat(E)
	}}return{items:E||[],isComplete:W&&W.isComplete}
	},getSortByWidget:function D(E){var Y=this,X=[{scriptClass:"mstrmojo.ME.SortByInputList",alias:"sortByWidgetList",cssClass:"sortBy mstrmojo-ME-sortby",cssDisplay:"table-cell"}],W={scriptClass:"mstrmojo.Label",alias:"sortByLabel",cssClass:"mstrmojo-ME-SortBy-label",cssDisplay:"table-cell",text:mstrmojo.desc(12852,"Sort By")}
	if(E){X.unshift(W)
	}return{scriptClass:"mstrmojo.Box",alias:"sortByContainer",cssClass:"mstrmojo-ME-SortBy-Container",cssDisplay:"table-row",visible:Y.ios,postCreate:function(){Y.sortByContainer=this
	this.editor=Y
	},getTokens:function(){return this.sortByWidgetList.getTokens()
	},children:X}
	},getSortByDefFromTokens:function N(){var c=this.oi.tks.items,Y=c.length,d,a,W,X,Z={}
	for(X=0
	X<Y
	X++){d=c[X]
	a=d.tp
	W=d.sctt
	if(mstrmojo.ME.MetricToken.isDelimiter(d.v)&&(d.v!=="("&&d.v!==")")||d.v==="&gt
	"||d.v==="&lt
	"){continue
	}switch(W){case 131072:if(a===302){d=c[++X]
	while(d){if(d.tp!==282){if(d.oi){d.oi.selFrm=d.exv
	var b=c[X+1]
	if(b.v==="Desc"&&b.tp===259){d.oi.asc=1
	X++
	}Z.items=Z.items||[]
	Z.items.push(d.oi)
	}else{if(d.tp===64){Z.items=Z.items||[]
	var E=d.v+c[++X].v
	d=c[X+1]
	if(d.tp===43||d.tp===45){E+=c[++X].v
	E+=c[++X].v
	}Z.items.push(B.getDimtyObject(E,this.isDME))
	}}}if((d=c[++X])["v"]===")"){break
	}}}}}return Z
	},getSortByDefAsTokens:function O(){return this.sortByContainer.getTokens()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.vi.ui.HierarchyCheckList","mstrmojo.ui._IsIncFetchHierarchyList")
	var A=mstrmojo.css
	mstrmojo.vi.ui.IncHierarchyCheckList=mstrmojo.declare(mstrmojo.vi.ui.HierarchyCheckList,[mstrmojo.ui._IsIncFetchHierarchyList],{scriptClass:"mstrmojo.vi.ui.IncHierarchyCheckList",cssClass:"elementsList"})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo._HasPopup","mstrmojo.rw.xtab.XtabMenuConfig","mstrmojo.dom","mstrmojo.hash")
	var G=mstrmojo.dom
	function B(I,H){if(H){H.opener=this
	}this.openPopup(I,H)
	}mstrmojo.express.ui._IsDocumentView=mstrmojo.provide("mstrmojo.express.ui._IsDocumentView",mstrmojo.hash.copy(mstrmojo._HasPopup,{_mixinName:"mstrmojo.express.ui._IsDocumentView",openXtabCellMenu:function A(H){var J=H&&H.xtab&&H.xtab.getXtabCellMenuConfig?H.xtab.getXtabCellMenuConfig:this.getXtabCellMenuConfig,I=J({isHostedWithin:false,position:H.cmPos||G.position(H.btn.domNode),hostId:this.id})
	I.buildXtabMenuConfig(H)
	if(I.hasMenuItems()){B.call(this,I.newInstance(),H)
	}},openXtabCellMenuWithSelectionStyleControl:function D(H){var J=null,K=H&&H.xtab&&H.xtab.getXtabCellMenuConfig?H.xtab.getXtabCellMenuConfig:this.getXtabCellMenuConfig,I=K({isHostedWithin:false,position:H.cmPos||G.position(H.btn.domNode),hostId:this.id})
	I.buildXtabMenuConfig(H)
	if(I.hasMenuItems()){J=I.newInstance()
	B.call(this,J,H)
	}return J
	},getXtabCellMenuConfig:function(H){return new mstrmojo.rw.xtab.XtabMenuConfig(H)
	},drillLinkMenuRef:"mstrmojo.DrillLinkMenu",openDrillLinkMenu:function E(H){B.call(this,"drillLinkMenuRef",H)
	},goToLink:function C(H){if(H){mstrmojo.form.sendLink(H.url,H.target||"_self")
	}},openPopupMenu:function F(I,H){B.call(this,I,H)
	}}))
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.Button","mstrmojo.Label","mstrmojo.Box","mstrmojo.ui.CheckList","mstrmojo.DataGrid","mstrmojo.hash","mstrmojo.models.FormatModel","mstrmojo.ui.editors.controls.TwoColumnContainer","mstrmojo.ui.editors.controls.ValidationTextBox","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo.func","mstrmojo.array","mstrmojo.dom","mstrmojo.models.template.DataInterface","mstrmojo.DocDataService","mstrmojo.ui.editors.controls.ColumnSetGroup","mstrmojo.NumStepperContentProvider")
	var M=mstrmojo.hash,q=mstrmojo.array,C=mstrmojo.css,d=mstrmojo.Button.newWebButton,AA=mstrmojo.ui.Pulldown.newPulldown,u=mstrmojo.models.FormatModel.getFormatUpdate,k=mstrmojo.models.FormatModel.ENUM_PROPERTY_NAMES,o=mstrmojo.vi.ui.DatasetUnitMenuUtils,K,L=mstrmojo.dom,w=mstrmojo.models.template.DataInterface,AB="VLDB Select",Z="Outer Join To Lookup Table",U="Metric Join Type",AC="Allow Cartesian Join"
	var B=1,v=2,I=3,E="480px",r="visfilter"
	var F=[{n:mstrmojo.desc(6031,"Off"),v:"0"},{n:mstrmojo.desc(6030,"On"),v:"1"},{n:mstrmojo.desc(8504,"Form name only"),v:"2"},{n:mstrmojo.desc(8505,"Show attribute name once"),v:"3"},{n:mstrmojo.desc(4531,"Automatic"),v:"4"}],n=[{n:mstrmojo.desc(18365,"Above the children"),v:0},{n:mstrmojo.desc(18363,"Below the children"),v:1}],h=[{n:mstrmojo.desc(13786,"Show both nulls and zeros"),v:"-1"},{n:mstrmojo.desc(13787," Hide both nulls and zeros"),v:"2"},{n:mstrmojo.desc(9845,"Hide nulls only"),v:"0"},{n:mstrmojo.desc(9846,"Hide zeros only"),v:"1"}],D=[{n:mstrmojo.desc(17608,"Use inherited value"),v:undefined},{n:mstrmojo.desc(17607,"Cancel Execution"),v:"1"},{n:mstrmojo.desc(17605,"Execute Cartesian Join"),v:"2"}],R=[{n:mstrmojo.desc(13544,"Last selection only"),v:0},{n:mstrmojo.desc(13545,"Intersection of all selections"),v:1}],t=[{n:mstrmojo.desc(959,"Default"),v:"-1",title:mstrmojo.desc(959,"Default")},{n:mstrmojo.desc(9640,"Inner Join"),v:"0",title:mstrmojo.desc(9640,"Inner Join")},{n:mstrmojo.desc(9641,"Outer Join"),v:"1",title:mstrmojo.desc(9641,"Outer Join")}],Q=[{n:mstrmojo.desc(959,"Default"),v:"-1",title:mstrmojo.desc(959,"Default")},{n:mstrmojo.desc(13177,"Inner Join"),v:"0",title:mstrmojo.desc(13178,"Results displaying only those attribute elements that have metric value")},{n:mstrmojo.desc(13179,"Outer Join - Ignore Filter"),v:"2",title:mstrmojo.desc(13180,"Outer join to attribute's look up table without considering the filter on template")},{n:mstrmojo.desc(13181,"Outer Join - Preserve Filter"),v:"3",title:mstrmojo.desc(13182,"Outer join to attribute's look up table after considering the filter on template")}]
	var l={"-1":mstrmojo.desc(959,"Default"),"0":mstrmojo.desc(9640,"Inner Join"),"2":mstrmojo.desc(13179,"Outer Join - Ignore Filter"),"3":mstrmojo.desc(13181,"Outer Join - Preserve Filter")},e={"-1":mstrmojo.desc(959,"Default"),"0":mstrmojo.desc(9640,"Inner Join"),"1":mstrmojo.desc(9641,"Outer Join")}
	var c
	var p=false
	function W(AK,AH,AG,AJ){var AI={scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",col1Width:AK,col2Width:AH,children:AG}
	return M.copy(AJ,AI)
	}function X(AH,AI,AG){return M.copy(AG,{scriptClass:"mstrmojo.Label",slot:AI,text:AH})
	}function G(AJ,AG){return[X(AJ,"col1Node",{cssClass:"subTitle"}),{scriptClass:"mstrmojo.ui.CheckList",orientation:"h",slot:"col2Node",preBuildRendering:function AH(){var AN=mstrmojo.all[K].data[AG],AK=this.items,AM=this.selectedIndices
	if(AN){q.forEach(AK,function(AP,AO){AM[AO]=AN[AP.id]==="-1"
	})
	}var AL=mstrmojo.all[K].olm
	if(!!AL&&AG==="rows"){this.items[1].css="disabled"
	}else{this.items[1].css=""
	}},postselectionChange:function AI(AK){var AM=this.items,AL=[AK.added,AK.removed]
	AL.forEach(function(AO,AN){if(AO&&AO.length>0){u(AG+AM[AO[0]].id,AN===0?"-1":"0",mstrmojo.all[K].newData)
	}})
	},items:[{n:mstrmojo.desc(2969,"Show"),id:k.SHOW_HEADER},{n:mstrmojo.desc(1095,"Merge"),id:k.MERGE_HEADER,css:""},{n:mstrmojo.desc(2970,"Lock"),id:k.LOCK_HEADER}]}]
	}function a(){var AH=K.split("-"),AG=AH.length
	if(!mstrApp.isInVFConfigMode&&AH[AG-1]===r){AH.splice(AH.length-1,1)
	}else{if(mstrApp.isInVFConfigMode&&AH[AG-1]!==r){AH.splice(AH.length,1,r)
	}}K=AH.join("-")
	}function f(AH){a()
	var AG=mstrmojo.all[K]
	if(AH){AG.update=AG.update.actions?AG.update:{actions:[]}
	AG.update.actions=AG.update.actions.concat(mstrmojo.hash.valarray(AG.joinActions))
	AG.update.callback=mstrmojo.func.wrapMethods(AG.update.callback,AG.host.parent.model.getRebuildCallback())
	if(AG.SelectionLimitSection&&AG.limitVal){AG.host.writeGlobalProperty("slctnLmt",AG.limitVal)
	}if(AG.showIncrementalFetchSection){AG.update.actions=AG.update.actions.concat(AG.host.getXtabIncrementalFetchActions(AG.ifChecked,AG.ifMaxRows))
	}AG.submitAction(AG.newData,AG.update.actions,AG.update.callback,AG.update.extras)
	}AG.newData=AG.update={}
	AG.joinActions={}
	AG.close()
	}function H(AI){var AG=M.walk("model.docModel",AI),AL=AI.k,AH=[]
	if(AI.hasArrayGSI){q.forEach(AI.gridData.gsi,function(AM){AH.push(AM.k)
	})
	}else{if(AI.isVisMap){AH=AI.getAllLayerKeys(true)
	}else{if(AG&&AG.isMapLayerNode(AL)){AL=AG.getHostKeyByNodeKey(AL)||AL
	var AJ=AG.getVisualizationByKey(AL),AK=(AJ&&AJ.boxContent)||AI
	AH=AK.getAllLayerKeys&&AK.getAllLayerKeys(true)
	}else{AH.push(AL)
	}}}return{nodeKeys:AH,hostKey:AL}
	}function S(AH){var AK=AH.parent,AM=AK.data,AI=mstrmojo.all[K],AJ=AI.host,AL=AJ.controller,AG=hostKey=AJ.k,AN=new mstrmojo.ui.menus.MenuConfig()
	AI.joinActions=AI.joinActions||{}
	if(AJ.hasArrayGSI){AG=AK.dataGrid.columnSetKey
	}if(AM.did==="AllAttr"){Q.forEach(function(AO){AN.addMenuItem(AO.n,"",function(){AH.parent.jtValue.set("text",AO.n)
	AM.v=AO.v
	AM.dv=AO.n
	AI.joinActions.AllAttr=AL.dataService().getSetVLDBPropAction(Z,"attributeJoin",AG,AO.v,hostKey)
	})
	})
	}else{t.forEach(function(AO){AN.addMenuItem(AO.n,"",function(){AH.parent.jtValue.set("text",AO.n)
	AM.v=AO.v
	AM.dv=AO.n
	var AP={unitId:AM.did,dataType:AM.dt,unitType:AM.t}
	AI.joinActions[AM.did]=AL.dataService().getSetVLDBPropAction(U,"metricJoin",AG,AO.v,hostKey,AP)
	})
	})
	}AN.hostId=K
	AN.isHostedWithin=false
	AN.hostElement=AH.domNode
	AN.menuCssClass="joinbehavior"
	AN.setAlignment(3,2)
	AI.openPopup(AN.newInstance())
	}function J(AG,AH){if(AH){AG.set("visible",true)
	window.setTimeout(function(){AG.showTooltip()
	AG._autoHideTimeout=window.setTimeout(function(){AG.hideTooltip()
	},3000)
	},0)
	}else{AG.hideTooltip()
	AG.set("visible",false)
	}}mstrmojo.vi.ui.editors.MoreOptionsEditor=mstrmojo.declare(mstrmojo.Editor,[mstrmojo.ui.menus._HasMenuPopup],{scriptClass:"mstrmojo.vi.ui.editors.MoreOptionsEditor",host:undefined,showHeadersSection:false,showSelectionLimitSection:false,showIncrementalFetchSection:false,data:undefined,lockHeadersCase:undefined,update:undefined,newData:undefined,joinActions:undefined,cssClass:"mstrmojo-MoreOptions-Editor",title:mstrmojo.desc(9126,"More options"),help:"more_options_dialog_box.htm",submitAction:mstrmojo.emptyFn,supportCartesianJoin:false,init:function x(AG){this._super(AG)
	if(mstrApp.isInVFConfigMode){this.children.splice(2,1)
	}K=this.id
	this.newData=this.update={}
	this.joinActions={}
	this.onshowHeadersSectionChange(this.showHeadersSection)
	this.onshowSelectionLimitSectionChange(this.showSelectionLimitSection)
	this.onshowIncrementalFetchSectionChange(this.showIncrementalFetchSection)
	},onOpen:function Y(){a()
	var AP=this.host,AI=AP&&AP.gridData,AG=M.walk("rw.row.bc",AI),AO=AI&&AI.olm&&!(AI.rw&&AI.rw.row.bc>0)
	this.olm=!!AO
	if(this.JoinBehaviorSection){var AJ=this.JoinBehaviorSection.joinUnits,AH=AJ.dataGrid,AN=AJ.columnSetPD
	if(AP.hasArrayGSI){var AK=w.getGSI(AI.gsi,0),AM=AP.model.docModel
	if(!AN){AN=new mstrmojo.ui.editors.controls.ColumnSetGroup({value:AK.k,gsi:AI.gsi,docModel:AM,cssClass:"columnSets-pd",alias:"columnSetPD",includeAll:false,width:"181px",callback:function(AQ){AH.columnSetKey=AQ
	AH.updateUnits(AQ)
	AJ.refresh()
	},})
	AJ.addChildren(AN,0)
	}else{AN.updatePulldownItems(AI.gsi,AM,0,AK.k)
	}AH.columnSetKey=AK.k
	}else{if(AN){AJ.removeChildren(AN)
	AH.columnSetKey=null
	}}}if(this.showIncrementalFetchSection){this.initIncrementalFetchSectionStatus(AG,this.olm)
	}if(this.showSelectionLimitSection){var AL=this.SelectionLimitSection.children[1].children[1].provider
	AL.curVal=AP.readGlobalProperty("slctnLmt")
	this.limitVal=undefined
	}this.refresh()
	},onifCheckedChange:function(){var AG=this.IncrementalFetchSection.gridIfTwoColumnContainer.gridIfTextBox
	AG.set("enabled",this.ifChecked)
	},_set_lockHeadersCase:function g(AJ,AG){this.lockHeadersCase=AG
	var AH=this.data,AI=this.lockHeadersCase
	if(!AH){AH=this.data={rows:{},cols:{}}
	}else{AH.rows=AH.rows||{}
	AH.cols=AH.cols||{}
	}AH.rows.lhv=(AI===I||AI===B)?"-1":"0"
	AH.cols.lhv=(AI===I||AI===v)?"-1":"0"
	},onshowHeadersSectionChange:function N(AG){this.showSectionChange(AG,"headersSection")
	},onshowSelectionLimitSectionChange:function j(AG){this.showSectionChange(AG,"SelectionLimitSection")
	},onshowIncrementalFetchSectionChange:function AE(AG){this.showSectionChange(AG,"IncrementalFetchSection")
	},showSectionChange:function P(AG,AK){var AJ=AG.value,AH=this[AK],AI="_orphaned"+AK
	if(!AJ&&AH){this[AI]=AH
	this.removeChildren(AH)
	}else{if(AJ&&!AH){this.addChildren(this[AI])
	this.children.sort(function(AM,AL){return AM.canonicalPosition-AL.canonicalPosition
	})
	}}},initIncrementalFetchSectionStatus:function AD(AJ,AG){var AI=this.IncrementalFetchSection.gridIfCheckBox,AH=this.IncrementalFetchSection.gridIfTwoColumnContainer.gridIfTextBox
	AH.set("enabled",AJ!==-1)
	AI.set("enabled",!AG)
	AI.checked=AJ!==-1
	AH.value=AJ===-1?"":AJ
	this.ifChecked=AI.checked
	this.ifMaxRows=AJ
	},children:[W("26%","74%",[X(mstrmojo.desc(2967,"Headers"),"col1Node",{cssClass:"title"}),W("20%","80%",G(mstrmojo.desc(2968,"Rows"),"rows"),{slot:"col2Node"}),W("20%","80%",G(mstrmojo.desc(122,"Columns"),"cols"),{slot:"col2Node"})],{alias:"headersSection",canonicalPosition:0,cssClass:"headers",width:E}),W("26%","74%",[X(mstrmojo.desc(4083,"Display"),"col1Node",{cssClass:"title"}),{scriptClass:"mstrmojo.Box",slot:"col2Node",cssClass:"row0",children:[X(mstrmojo.desc(18955,"Position of the parent elements")+":","containerNode",null),AA(n,function(AG){u(k.PARENT_POSITION,AG.v,mstrmojo.all[K]?mstrmojo.all[K].newData:null)
	},0,{width:"151px",preBuildRendering:function A(){var AG=mstrmojo.all[K]?this.items.map(function(AH){return AH.v
	}).indexOf(mstrmojo.all[K].data[k.PARENT_POSITION]):0
	this.selectedIndex=Math.max(AG,0)
	},postBuildRendering:function O(){var AH=mstrmojo.all[K]?mstrmojo.all[K].data[k.PARENT_POSITION]>-1:false
	var AG=this.parent.children[0]
	this.set("visible",AH)
	AG.set("visible",AH)
	this.constructor.prototype.postBuildRendering.call(this)
	}},true)]},{scriptClass:"mstrmojo.Box",slot:"col2Node",cssClass:"row1",children:[X(mstrmojo.desc(8503,"Show attribute form names:"),"containerNode",null),AA(F,function(AG){u(k.LONG_NAME,AG.v,mstrmojo.all[K].newData)
	},0,{width:"151px",preBuildRendering:function A(){var AG=this.items.map(function(AH){return AH.v
	}).indexOf(mstrmojo.all[K].data[k.LONG_NAME])
	this.selectedIndex=Math.max(AG,0)
	}},true)]},{scriptClass:"mstrmojo.Box",slot:"col2Node",cssClass:"row2",children:[X(mstrmojo.desc(13200,"Hide metric nulls and zeros"),"containerNode",null),AA(h,function(AH){var AG=AH.v,AI=AG==="-1"?"-1":"0"
	if(AG!=="-1"){u(k.HIDE_NULL,AG,mstrmojo.all[K].newData)
	}u(k.SHOW_ALL_ROWS,AI,mstrmojo.all[K].newData)
	},0,{width:"181px",preBuildRendering:function A(){var AH=mstrmojo.all[K].data,AG=AH[k.SHOW_ALL_ROWS]==="-1"?0:this.items.map(function(AI){return AI.v
	}).indexOf(AH[k.HIDE_NULL])
	this.selectedIndex=Math.max(AG,0)
	}},true)]}],{alias:"viewSection",canonicalPosition:1,cssClass:"view",width:E}),W("26%","74%",[X(mstrmojo.desc(13546,"Filtering"),"col1Node",{cssClass:"title"}),{scriptClass:"mstrmojo.Box",slot:"col2Node",cssClass:"row1",children:[X(mstrmojo.desc(13547,"When this visualization is filtered by multiple other visualizations, filter by:"),"containerNode",{cssClass:"dropdownLabel"}),AA(R,function(AG){var AH=mstrmojo.all[K],AI=AH.host
	if(AI.switchFilterType){AH.update=AI.switchFilterType(AG.v)
	}},0,{width:"181px",preBuildRendering:function A(){var AG=mstrmojo.all[K].host
	if(AG.getFilterType){this.selectedIndex=AG.getFilterType()
	}}},true)]}],{alias:"filteringSection",canonicalPosition:2,cssClass:"filtering",width:E}),W("26%","74%",[X(mstrmojo.desc(5618,"Incremental Fetch"),"col1Node",{cssClass:"title"}),{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(6115,"Enable incremental fetch in Grid"),alias:"gridIfCheckBox",slot:"col2Node",cssText:"line-height: 26px",oncheckedChange:function(){var AG=mstrmojo.all[K]
	AG.set("ifChecked",this.checked)
	}},{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",slot:"col2Node",col1Width:"25%",col2Width:"15%",formatGroup:"overall",alias:"gridIfTwoColumnContainer",children:[X(mstrmojo.desc(8797,"Rows per page"),"col1Node",null),{scriptClass:"mstrmojo.ui.editors.controls.ValidationTextBox",slot:"col2Node",dtp:1,alias:"gridIfTextBox",constraints:{min:1,max:1000000},onValid:function(){var AG=mstrmojo.all[K]
	AG.ifMaxRows=parseInt(this.value,10)
	}}]}],{alias:"IncrementalFetchSection",canonicalPosition:3,cssClass:"incrementalfetch",width:E}),W("26%","73%",[X(mstrmojo.desc(16265,"Selection Data Limit"),"col1Node",{cssClass:"title"}),{scriptClass:"mstrmojo.Box",slot:"col2Node",cssClass:"row1",children:[X(mstrmojo.desc(16264,"Set a limit for the maximum quantity of data points that a user can select on this visualization."),"containerNode",{cssClass:"stepperLabel"}),{scriptClass:"mstrmojo.ui.editors.controls.Stepper",width:"75px",preBuildRendering:function A(){C.addWidgetCssClass(this,"selection")
	mstrmojo.ui.editors.controls.Stepper.prototype.preBuildRendering.call(this)
	},provider:new mstrmojo.NumStepperContentProvider({item:{interval:1},min:1,max:200000,onTraverse:function(){var AG=mstrmojo.all[K]
	AG.limitVal=this.item.value
	}})},X(mstrmojo.desc(16263,"(Max quantity should be no more than 200K.)"),"containerNode",{cssClass:"stepperLabel"})]}],{alias:"SelectionLimitSection",canonicalPosition:4,cssClass:"filtering",width:E}),W("26%","74%",[X(mstrmojo.desc(17612,"Data Join"),"col1Node",{cssClass:"title"}),{scriptClass:"mstrmojo.Box",slot:"col2Node",cssClass:"row1",alias:"joinOptions",children:[{scriptClass:"mstrmojo.Box",slot:"containerNode",alias:"labelRow",cssText:"overflow: hidden",children:[{scriptClass:"mstrmojo.Label",cssClass:"joinLabel",text:mstrmojo.desc(17606,"Cartesian Join Governing"),postBuildRendering:function(){var AG=mstrmojo.all[K]
	this.set("enabled",AG.supportCartesianJoin)
	this.constructor.prototype.postBuildRendering.call(this)
	}},{scriptClass:"mstrmojo.Button",cssClass:"warningTooltipBtn",alias:"warningBtn",visible:false,useRichTooltip:true,tooltipOpenDelay:0,richTooltip:{cssClass:"vi-warning vi-tooltip-C A-center disabled-cartesian",posType:mstrmojo.tooltip.POS_TOPLEFT,enableHover:true},showTooltip:function AF(){window.clearTimeout(this._autoHideTimeout)
	this._autoHideTimeout=undefined
	if(this.hasOpenTooltip){this.hideTooltip()
	}this.constructor.prototype.showTooltip.call(this)
	},updateTooltipConfig:function z(){var AH=this.richTooltip,AG=L.position(this.domNode)
	AH.left=AG.x+AG.w+12
	AH.top=AG.y-9
	AH.content=mstrmojo.desc(17609,"Executing cartesian joins is not a recommended option.")
	},onvisibleChange:function(){J(this,this.visible)
	}}]},AA(D,function(AH){var AI=mstrmojo.all[K],AK=AI.host,AL=AK.controller,AJ=H(AK),AG=AJ.nodeKeys,AM=AJ.hostKey
	q.forEach(AG,function(AN){AI.joinActions["Cartesian"+AN]=AL.dataService().getSetVLDBPropAction(AC,"cartesianJoin",AN,AH.v,AM)
	})
	this.parent.labelRow.warningBtn.set("visible",parseInt(AH.v,10)===2)
	},0,{alias:"cartesianPulldown",width:"181px",postBuildRendering:function O(){var AJ=mstrmojo.all[K],AK=AJ.host,AM=AK.hasArrayGSI?w.getGSI(AK.gridInfo,0).k+".":"",AH=M.walk(AM+AB,AK.tmsProps.tpltProp),AI=q.filterOne(AH,function(AN){return AN.n===AC
	})||{},AL=AI&&AI.v||undefined,AG=this.items.map(function(AN){return AN.v
	}).indexOf(AL)
	this.selectedIndex=Math.max(AG,0)
	this.set("enabled",AJ.supportCartesianJoin)
	this.parent.labelRow.warningBtn.set("visible",parseInt(AL,10)===2)
	this.constructor.prototype.postBuildRendering.call(this)
	}},true)],useRichTooltip:false,richTooltip:{cssClass:"vi-warning vi-tooltip-C A-center disabled-cartesian",posType:mstrmojo.tooltip.POS_TOPLEFT,enableHover:true},updateTooltipConfig:function z(){var AH=this.richTooltip,AG=L.position(this.cartesianPulldown.domNode)
	AH.left=AG.x+AG.w+12
	AH.top=AG.y-7
	},onenabledChange:function(){this.useRichTooltip=!this.enabled
	},buildRendering:function m(){var AH=mstrmojo.all[K],AG=mstrApp.isCartesianJoinSupported&&mstrApp.isCartesianJoinSupported(),AI=AG?"":mstrApp.getCartesianJoinTtp&&mstrApp.getCartesianJoinTtp()
	this.set("enabled",AG)
	AH.supportCartesianJoin=AG
	this.richTooltip.content=AI
	this.constructor.prototype.buildRendering.call(this)
	}},{scriptClass:"mstrmojo.Box",slot:"col2Node",cssClass:"row2",alias:"joinUnits",children:[X(mstrmojo.desc(4571,"Join Behavior"),"containerNode",{cssClass:"joinLabel"}),{scriptClass:"mstrmojo.DataGridWithTooltip",cssClass:"jointype",banding:false,lockHeader:true,alias:"dataGrid",columns:[{headerText:mstrmojo.desc(5467,"Objects"),dataField:"n",headerCss:"objects-hd",tooltip:false,itemTooltipField:"tf",itemCSSField:"itemCss",colWidth:115,colHeight:24},{headerText:mstrmojo.desc(13176,"Join Type"),headerCss:"jointype-hd",dataWidget:{scriptClass:"mstrmojo.Box",cssClass:"jt-col",children:[{scriptClass:"mstrmojo.Label",cssClass:"jt-value",alias:"jtValue",bindings:{text:"this.parent.data.dv"}},{scriptClass:"mstrmojo.Button",cssClass:"jt-menu",alias:"jtBtn",onclick:function(){var AG=mstrmojo.all[K]
	S.call(AG,this)
	}}]}}],items:[],columnSetKey:null,itemFunction:function(){var AG=mstrmojo.DataGridWithTooltip.prototype.itemFunction.apply(this,arguments)
	AG.themeClassName=!!mstrApp.isWSStyling?"":"mojo-theme-dark"
	return AG
	},updateUnits:function b(AJ){var AU=mstrmojo.all[K].host,AT=AU.model&&AU.model.docModel,AQ=AU.tmsProps,AM=M.walk((AU.hasArrayGSI?AJ+".":"")+AB,AQ.tpltProp),AO=[],AK=w.getGSI(AU.gridInfo,AJ)||{},AV=AK.rows||[],AR=AK.cols||[],AS=AK.mx||[],AN=AK.dmx||[],AP=[].concat(AQ.mxProp),AL=0,AI=[]
	var AG=q.filterOne(AM,function(AW){return AW.n===Z
	})||{},AH=AG&&AG.v
	AH=(AH&&AH.length)?AH:"-1"
	(AV.concat(AR)).some(function(AW){if(AW.t===12){AO.push({did:"AllAttr",n:mstrmojo.desc(13185,"All Attributes"),v:AH,dv:l[AH],itemCss:"jt-allattr"})
	return true
	}return false
	})
	AS=q.filter(AS,function(AX){var AY=o.getUnitFromDataset(AT.datasets,AX.did,4),AW=AX.isSmart&&AX.decomposable===2
	return AY&&(!AY.um||AX.afb||!AX.isSmart||AW)
	})
	if(AU.hasArrayGSI){w.forEachGSI(AU.gridInfo,function(AY,AX){var AW=AY&&AY.mx||[]
	AW.forEach(function(AZ){if(AJ===AX&&AP[AL]&&AP[AL][AZ.did]){AI.push(AP[AL])
	}AL++
	})
	},AJ)
	}else{AI=AP
	}AN.forEach(function(AX){var AW={}
	AW[AX.did]=AX.prop
	AI.push(AW)
	})
	(AS||[]).forEach(function(AX){var AW={v:"-1"}
	(AI||[]).forEach(function(AY){if(AY[AX.did]){(AY[AX.did]["VLDB Select"]||[]).forEach(function(AZ){if(AZ.n==="Metric Join Type"){AW=AZ
	}})
	}})
	AO.push({did:AX.did,n:AX.n,dt:AW.dt,t:4,v:AW.v,dv:e[AW.v],itemCss:"jt-metric"})
	})
	this.items=AO
	mstrmojo.DataGridWithTooltip.prototype.preBuildRendering.apply(this,arguments)
	},preBuildRendering:function A(){var AG=mstrmojo.all[K].host,AH=this.columnSetKey||w.getGSI(AG.gridInfo,0).k||AG.k
	this.updateUnits(AH)
	},postBuildRendering:function O(){mstrmojo.DataGridWithTooltip.prototype.postBuildRendering.apply(this,arguments)
	this.domNode.style.overflow="hidden"
	}}]}],{alias:"JoinBehaviorSection",canonicalPosition:5,cssClass:"joinbehavior",width:E}),{alias:"buttonBar",canonicalPosition:6,scriptClass:"mstrmojo.Box",slot:"buttonNode",children:[d(mstrmojo.desc(221,"Cancel"),function(){f(false)
	}),d(mstrmojo.desc(118,"Save"),function(){f(true)
	},true)]}]})
	mstrmojo.DataGridWithTooltip=mstrmojo.declare(mstrmojo.DataGrid,[mstrmojo._HasTooltip],{scriptClass:"mstrmojo.DataGridWithTooltip",tooltip:"",useRichTooltip:true,itemFunction:function(AI,AG,AH){var AJ=new mstrmojo.DataRow({columns:AH.columns,data:AI,idx:AG,dataGrid:AH,parent:AH})
	AH.dataTextCSSClass=AJ.dataTextCSSClass
	return AJ
	},updateTooltipConfig:function z(AH){var AI=AH.target||L.eventTarget(AH.hWin,AH.e),AG=L.position(AI)
	this.richTooltip={posType:mstrmojo.tooltip.POS_BOTTOMRIGHT,content:this.getTooltipContent(AH),top:AG.y+1.5*AG.h,left:AG.x,cssClass:"vi-regular vi-tooltip-D"}
	},getTooltipContent:function(AG){return mstrmojo.string.regEscape(AG.target.innerText)
	},showTooltip:function AF(AG,AH){if(AG.target.className===this.dataTextCSSClass){this._super(AG,AH)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.XtabModel","mstrmojo._DocXtabModelShared","mstrmojo.array","mstrmojo.func","mstrmojo.hash","mstrmojo.elementHelper","mstrmojo.DocDataService","mstrmojo.models.template.DataInterface","mstrmojo.models.datasets.DataInterface","mstrmojo.string")
	var m="Metrics",F=2,W=mstrmojo.array,H=mstrmojo.hash,h=mstrmojo.func,g=mstrmojo.DocDataService,A="\u001E"
	function P(q){if(!q){return false
	}var r=this.scm,t,w,v,u,p,o=false
	for(w in r){v=r[w]
	u=v.cgb
	for(t in u){p=q[u[t]]
	if(p){if(!v.tks){v.tks=p
	o=true
	}else{if(v.tks&&(v.tks.indexOf(p)<0)){v.tks+=A+p
	o=true
	}}}}}return o
	}function a(){var p=this.data,o=p.gts
	if(!o){return 
	}var q
	W.forEach([o.row,o.col],function(r){W.forEach(r,function(t){if(t.sc){q=q||{}
	q[t.id||m]=t.sc
	if(t.fid){q[t.id+"_"+t.fid]=t.sc
	}}})
	})
	this.scm=q
	P.call(this,this.docModel.getCGBMap())
	}function n(o,p){var q=this.getDataService()
	q[o].apply(q,p)
	}mstrmojo.DocXtabModel=mstrmojo.declare(mstrmojo.XtabModel,[mstrmojo._DocXtabModelShared],{scriptClass:"mstrmojo.DocXtabModel",docModel:null,allowMetricHeaderSelection:false,init:function j(o){this._super(o)
	var p=this
	this.docModel.attachEventListener("CGBMapChange",this.id,function(q){if(p.xtab.onCGBMapChange){p.xtab.onCGBMapChange(q)
	}})
	},ondataChange:function d(){a.call(this)
	},getMessageId:function G(){return this.docModel.mid
	},getAction:function U(AE,t,z){var AC=AE[0],p=AC&&AC.at
	var r
	if(p){if((p&F)>0){var q=this.getCellTitleInfo(AC),AA=q&&q.title,o=AA&&AA.id,AB=this.scm
	this.sti={titleId:o||m}
	var x=(o&&AB[o])||AB[m],w=function(){var AF=[]
	W.forEach(AE,function(AG){if(AG._e&&AG._e.id){AF.push(AG._e.id)
	}})
	return AF.join(A)
	}
	if(x){var AD=this.xtab,u=(AD.allowToggleSelections&&x.all&&z),v=(q.isSrcTitle||u)
	this.sti.deselectCurrent=u
	r={h:"onGridSelector",a:{type:mstrmojo.EnumRWUnitType.GRID,anchor:t,ck:x.ck,tks:x.tks,eid:v?"OA:(All)":w(),ctlKey:x.ckey,sliceId:AD.sid,isUConDS:x.isUConDS,ifw:x.ifw}}
	}}}if(!r){r=this._super(AE)
	}if(r&&r.a){r.a.sliceId=this.xtab.sid
	}return r
	},getDownloadAction:function f(q,v,t,r,w,p,u,x){var o=this._super(q,v,t,r,w,u,p)
	o.sliceId=this.xtab.sid
	if(x&&x.name==="TransactionUpdates"){if(o.partialUpdate){if(o.partialUpdate.selectors){o.partialUpdate.selectors.push(x.ctlKey)
	}else{o.partialUpdate.selectors=[x.ctlKey]
	}}else{o.partialUpdate={selectors:[x.ctlKey]}
	}}return o
	},getDrillAction:function c(p,r){var q=this._super(p,r),o=this.getCellTitleInfo(p[0])
	if(q){if(q.isWithin){q.attrObj=o.title
	}q.srcMsgId=this.docModel.mid
	}return q
	},sort:function l(p,q){var o=this.xtab
	p.stp=p.stp||this.getSubTotalsPos()
	p.subTotalsPos=p.stp
	p.nodeKey=o.k
	p.treeType=o.treeType||1
	if(o.gridData.ctlTPKeys){p.selectors=o.gridData.ctlTPKeys.split(A)
	}n.call(this,"sortGrid",[p,q])
	},pivot:function I(o,p){n.call(this,"pivot",[o,p])
	},removeUnit:function N(o,p){n.call(this,"removeUnit",[o,p])
	},showTotals:function C(o,p){n.call(this,"showTotals",[o,p])
	},drillGrid:function S(o,p){n.call(this,"drillGrid",[o,p])
	},downloadGridData:function Z(o,p){n.call(this,"downloadGridData",[o,p])
	},loadLayout:function X(o){this.docModel.loadLayout(o)
	},resizeXtabColumn:function K(o,p){n.call(this,"resizeXtabColumn",[o,p])
	},submitTemplateActions:function k(o,p,q){n.call(this,"submitTemplateUpdates",[o,p,q])
	},getDerivedMetricAction:function e(o,p){return{did:o._e.oid,um:o.um,alias:o._e.n,n:o._e.n,v:o.um?o.formula:o._e.v,mix:o.mix,cmd:p,model:this}
	},getAddTemplateUnitAction:function D(t,v,q,o){var p=t.t,u=this.data.gsi,r={act:"addUnit",unitId:t.did,unitType:p,unitPos:++o,dsId:v,isFirst:!u||(u.cols.length===0&&u.rows.length===0)}
	if(p!==4||!u||!u.mx.length){r.axis=q
	}return r
	},doesNameExistOnTemplate:function B(q,v,t,p){var u=q.node.data.gsi,o=t===4,r=o?u.mx:u.rows.concat(u.cols)
	return r.some(function(w){return w.did!==v&&(o||w.t===t)&&w.n===p
	})
	},getPivotUnitAction:function M(r,o,w,q,v,u){o++
	var t=parseInt(v,10),p=parseInt(u,10)
	return H.copy(isNaN(t)||isNaN(p)?{}:{originAxis:t,originUnitPos:++p},{act:"pivot",unitId:String(w||""),unitType:q||"",axis:r,unitPos:o})
	},getLinkedAttributes:function b(o){var p
	if(this.docModel.populateAttributeIdLinkInfo){this.docModel.populateAttributeIdLinkInfo()
	}p=this.docModel.als&&this.docModel.als.idLinks||{}
	return p[o]
	},getObjectInfo:function E(o){var p
	W.forEach((this.data.gsi.cols||[]).concat(this.data.gsi.rows||[]),function(q){if(q.did===o){p=q
	}})
	return p
	},supportsViewFilterActions:function J(o){if(this.data&&this.data.gsi){var p=this.getObjectInfo(o)
	return p&&!p.de&&(p.t!==1)&&(p.t!==47||p.st===12033)
	}return false
	},submitDEAction:function Q(p,v){var q=this.docModel,o=q.controller,u=q.getDataService(),t
	o._addNodeKeyToAction(p,v)
	t=u.getUpdateTemplateAction(p.k,v)
	q.addUpdateObjects(t,{id:v.oId,type:47,flag:mstrmojo.DocDataService.PARTIAL_UPDATE_FLAGS.DATA_CHANGE})
	var r=function(x){var w=[t]
	return function(){if(x){w=o.model.wrapUnsetVisualizationFilterAction(w)
	}o.submitUndoRedoUpdates(w,{},h.wrapMethods(q.getRebuildCallback(),q.getDatasetsUpdateCallback(),q.getUpdateHiddenLayoutsCallback()),g.REQUEST_DEFN_DATA)
	}
	}
	q.checkAndNotifyVFChangeOnGroupUpdate({actions:t},r(true),r(false))
	},submitDEHierachyOptionsActions:function R(o,p){this.submitDEAction(o,p)
	},submitQuickDECalculationActions:function O(o,p){this.submitDEAction(o,p)
	},submitQuickDECalculationNumberFormatActions:function L(o,p){this.submitDEAction(o,p)
	},submitRemoveQuickDEActions:function Y(o,p){this.submitDEAction(o,p)
	},})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.func","mstrmojo.DocDataService","mstrmojo.mstr.EnumWebAPIErrorCodes")
	var G=mstrmojo.hash.copy,S=mstrmojo.func,Y=S.wrapMethods,Z=mstrmojo.mstr.EnumWebAPIErrorCodes
	var K=1,E=2,A=3
	var P={FIRST:1,MIDDLE:2,LAST:3}
	var O={BUSY:1,INTERIM:2,DONE:3,SILENT:4,CANCELED:5}
	var F=G(mstrmojo.DocDataService.SUPPRESS_DATA,{preserveUndo:true,config:{silent:true}})
	function B(a,c,b){if(c.stid==="undefined"){b.submission=function(g,d,e){var h=e.params,f=JSON.parse(h.params)
	f.actions[0].stid=a.action===K?a.undoStateId:a.redoStateId
	h.params=JSON.stringify(f)
	}
	}return b
	}function H(b,f){var c=b.mgr
	f.disablePU=true
	var e=B(b,f,{success:function d(){b.state=O.DONE
	},failure:function a(){c.onFailure()
	}})
	b.state=O.SILENT
	c.dataService.submitUpdates(f,e,F)
	c.onSuccess(b)
	}function X(l,f){var k=l.urInfo,j=k.puKeys,q=k.puObjs,g=k.puFilters,m=l.mgr,h=m.model,n=m.dataService
	if(j||q){if(j){f.partialRetrieval={nodes:j,filters:g}
	}if(q){h.addUpdateObjects(f,q)
	}}else{f.disablePU=true
	}var d=B(l,f,{success:function p(){l.state=O.DONE
	m.onSuccess(l)
	if(l.skipUIState){return 
	}h.restoreUIState(l.action===K?l.undoUIState:l.redoUIState)
	},failure:function c(){m.onFailure()
	},complete:function b(){m.resetState()
	}}),a=k.callback||h.getRebuildCallback(),o=Y(a,d),e=G(k.extras)
	if(f.act==="undo"&&e!==undefined){e.hideCancel=true
	if(f.killJob){e.message=mstrmojo.desc(14586,"Canceling...")
	}}l.state=O.BUSY
	n.submitUpdates(f,o,e)
	}function M(d){var a=d.urInfo,b=d.mgr.model
	if(!a.extras){var c=(a.treesToRender!==undefined)?a.treesToRender:d._treesFromRes
	if(!a.disablePU&&!d._hasFullUpdate&&(!a.puKeys||!a.puKeys.length)){c=0
	a.callback=Y(b.getDatasetsUpdateCallback(),a.callback)
	}a.extras={style:{params:{treesToRender:c}}}
	}}mstrmojo.vi.controllers.UICmd=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.vi.controllers.UICmd",mgr:null,redoStateId:null,undoStateId:null,execute:mstrmojo.getMissingFn(),discard:mstrmojo.emptyFn,isUntracked:false,action:null,state:O.INTERIM,urInfo:null,getStateValue:function W(b,a){return this.action===K?a:b
	},init:function Q(a){G(a,this)
	this._treesFromRes=0
	this.urInfo=this.urInfo||{}
	this.submitCount=0
	},undoRedo:function I(g){var c=this,e,b=this.urInfo,a=b.silent,h,d=this.mgr,f=d.dataService
	if(c.action===A){e={act:"redo",stid:c.redoStateId}
	h=b.redo
	}else{if(c.action===K){e={act:"undo",stid:c.undoStateId,killJob:g}
	h=b.undo
	}else{d.handleError()
	}}if(h){f.blockRequests=true
	try{a=!!h.call(c)||a
	}finally{f.blockRequests=false
	}}if(a){H(c,e)
	}else{X(c,e)
	}},submitUpdate:function J(b,a){this.submit(b.actions,b.callback,b.extras,a)
	},submit:function L(e,p,d,n){var k=this,l=k.mgr,g=l.model,m=l.dataService,j=mstrmojo.array.ensureArray(e)
	p=p?G(p):g.getRebuildCallback()
	k.state=O.BUSY
	function f(q,r){return !(q&&q[r]&&q[r].length)
	}if(k._hasFullUpdate||j.some(function(q){return q.disablePU
	})||j.every(function(r){var t=r.partialRetrieval,q=r.partialUpdate
	return f(t,"nodes")&&f(q,"nodes")&&f(q,"selectors")&&f(q,"objects")
	})){k._hasFullUpdate=true
	}S.override({submission:function c(){if(k.submitCount===0){k.undoStateId=m.stid
	}k.submitCount++
	},success:function o(v,w){if(k.action!==E){l.handleError()
	}k.redoStateId=v.stid
	var u=!n||n===P.LAST
	if(u){k.state=O.DONE
	}else{k.state=O.INTERIM
	}var t=k.urInfo
	if(!t.disablePU){var q=t.puKeys||[],x=v.pukeys&&v.pukeys.split("\u001E")
	if(x&&x.length){q=q.concat(x)
	var r=t.extraPuKeys
	if(r){q=q.concat(r)
	delete t.extraPuKeys
	}}if(q.length){t.puKeys=q
	}}k._treesFromRes|=(v.defn?1:0)|(v.data?2:0)
	if(this._super){this._super(v,w)
	}if(u){k.completeSubmit()
	}},failure:function b(q,u){var t=(d&&d.skipUICmdMgrOnFailure)||[],r=parseInt(q.code||(q.getResponseHeader&&q.getResponseHeader("X-MSTR-TaskErrorCode")||Z.UICMD_DEFAULT_ERROR),10)
	if(t.indexOf(r)===-1&&t.indexOf(mstrmojo.mstr.EnumWebAPIErrorCodes.E_UNUSED)===-1){l.onFailure()
	}if(this._super){this._super(q,u)
	}},canceled:function h(q){if(this._super){this._super(q)
	}window.setTimeout(function(){k.cancel(true)
	},0)
	},complete:function a(){if(!n||n===P.LAST){l.resetState()
	}if(this._super){this._super()
	}}},p)
	m.submitUpdates(e,p,d)
	},submitInterim:function R(b,c,a){this.submit(b,c,a,P.MIDDLE)
	},resetCmdMgrOnComplete:function C(){this._resetMgr=true
	},completeSubmit:function N(){var b=this,c=b.mgr,a=c.model
	if(!b.completed){b.completed=true
	b.state=O.DONE
	c.onSuccess(b)
	M(b)
	b.redoUIState=a.getUIState()
	if(b.isUntracked){c.untrackLastCmd()
	}else{if(b._resetMgr){c.reset()
	}}}},cancel:function D(a){this.state=O.CANCELED
	if(this._hasFullUpdate){this._treesFromRes=3
	}M(this)
	this.mgr.onCancel(this,a)
	},submitSilent:function U(c){var e=this,f=e.mgr,d=f.model,g=f.dataService
	e.state=O.SILENT
	f.onSuccess(e)
	e.redoUIState=d.getUIState()
	var h={submission:function b(){e.undoStateId=g.stid
	e.submitCount++
	},success:function j(k){e.state=O.DONE
	e.redoStateId=k.stid
	},failure:function a(){f.onFailure()
	}}
	g.submitUpdates(c,h,F)
	}})
	mstrmojo.vi.controllers.UICmd.CMD_PHASE=P
	mstrmojo.vi.controllers.UICmd.CMD_STATE=O
	mstrmojo.vi.controllers.UICmd.CMD_ACT_TYPE={UNDO:K,EXEC:E,REDO:A}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.boxmodel","mstrmojo.DocDataService")
	mstrmojo.vi.models.PanelFormatSaver=mstrmojo.provide("mstrmojo.vi.models.PanelFormatSaver",{getPanelSaver:function A(C,B,D){return{saveProperty:function E(G,H){var J=B[G]
	if(J){if(J.convert){H=mstrmojo.boxmodel.px2Inches(C.getZoomProps(),H)
	}var I={},F=I[J.set]={}
	F[J.name]=H
	C.updateUnitFormat(D||C.getRootNode(),1,I,undefined,mstrmojo.DocDataService.RAPID_EXEC)
	}}}
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocDataService")
	mstrmojo.OIVMViewFactory=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.OIVMViewFactory",newDocDataService:function A(B){return new mstrmojo.DocDataService(B)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.threshold.ThresholdModel","mstrmojo.chart.model.enums.EnumDSSObjectType","mstrmojo.models.FormatModel","mstrmojo.hash","mstrmojo.EnumRWUnitType")
	var M=mstrmojo,D=mstrmojo.hash,B=mstrmojo.EnumRWUnitType,H=mstrmojo.chart.model.enums.EnumDSSObjectType,G=mstrmojo.vi.viz.EnumVisualizationTemplates,J=1,F=["#ec7b75","#f6db7f","#84c87b"],K=[0.35,0.65],C=M.models.FormatModel,L=C.ENUM_PROPERTY_NAMES
	function E(Q,P,R,S){P.reverse().forEach(function(U){S.push(Q.getClearThresholdAction(R.did,R.t||H.DssTypeMetric,U.tid))
	})
	}mstrmojo.vi.util.ThresholdUtils=mstrmojo.provide("mstrmojo.vi.util.ThresholdUtils",{addClearAllThresholdsActions:function N(P,R,X){var W=R.data.gsi,Q=W.mx,S=W.thresholds,U
	if(S){Q.forEach(function(Y){U=S[Y.did]
	if(U){E(P,U,Y,X)
	}})
	W.thresholds={}
	}},addThresholds:function A(Z,f,S,Y,W,P,Q,U){var X,c=[],b=new mstrmojo.threshold.ThresholdModel({})
	b.set("data",S.data)
	var d=D.walk("gsi.thresholds",b),R=d&&d[Y.did],a=D.walk("defn.t",S)===B.GRID
	W=W||[]
	if(R&&b.isAdvanced(Y.did)&&!a){R=false
	}if(!R||U){P=P||F
	Q=Q||K
	for(X=0
	X<P.length
	X++){var e={}
	e.fmt=C.getFormatUpdate(L.BACKGROUND_COLOR,P[X])
	C.getFormatUpdate(L.FILL_STYLE,0,e.fmt)
	if(X>0){e.flr=b.getRealValue(Q[X-1],J)
	}if(X<Q.length){e.ceil=b.getRealValue(Q[X],J)
	}c.push(e)
	}W.push(Z.getClearThresholdAction(Y.did,H.DssTypeMetric,-1))
	W.push(Z.getCreateSimpleThresholdAction(c,f.k,Y.did,J,null,4))
	}b.destroy()
	return W
	},getDefaultMapThreshold:function O(){return{colors:["#abcffa","#7ca8de","#4570af","#224b8f","#0e3270"],ranges:[0.2,0.4,0.6,0.8]}
	},getDefaultGMThreshold:function I(R){var Q,P
	switch(R){case G.GRAPHMATRIXHORIZONTALBARCLUSTERED:case G.GRAPHMATRIXHORIZONTALBARSTACKED:case G.GRAPHMATRIXHORIZONTALBARPERCENT:case G.GRAPHMATRIXVERTICALBARCLUSTERED:case G.GRAPHMATRIXVERTICALBARSTACKED:case G.GRAPHMATRIXVERTICALBARPERCENT:case G.GRAPHMATRIXVERTICALBARAUTOMATIC:case G.GRAPHMATRIXGRIDCHART:case G.GRAPHMATRIXPIE:Q=["#d2e0e8","#a4cbe6","#80add9","#558dcc","#2e78bb"]
	P=[0.2,0.4,0.6,0.8]
	break
	case G.GRAPHMATRIXVERTICALLINECLUSTERED:case G.GRAPHMATRIXVERTICALLINESTACKED:case G.GRAPHMATRIXVERTICALLINEPERCENT:case G.GRAPHMATRIXVERTICALLINEAUTOMATIC:case G.GRAPHMATRIXHORIZONTALLINECLUSTERED:case G.GRAPHMATRIXHORIZONTALLINESTACKED:case G.GRAPHMATRIXHORIZONTALLINEPERCENT:case G.GRAPHMATRIXHORIZONTALLINEAUTOMATIC:case G.GRAPHMATRIXVERTICALAREACLUSTERED:case G.GRAPHMATRIXVERTICALAREASTACKED:case G.GRAPHMATRIXVERTICALAREAPERCENT:case G.GRAPHMATRIXVERTICALAREAAUTOMATIC:case G.GRAPHMATRIXHORIZONTALAREACLUSTERED:case G.GRAPHMATRIXHORIZONTALAREASTACKED:case G.GRAPHMATRIXHORIZONTALAREAPERCENT:case G.GRAPHMATRIXHORIZONTALAREAAUTOMATIC:Q=["#ec7b75","#f6db7f","#84c87b"]
	P=[0.35,0.65]
	break
	case G.GRAPHMATRIXBUBBLECIRCLEMM:case G.GRAPHMATRIXBUBBLEGRIDCIRCLEAA:case G.GRAPHMATRIXBUBBLEGRIDSQUAREAA:case G.GRAPHMATRIXBUBBLESQUAREAM:case G.GRAPHMATRIXBUBBLESQUAREMM:Q=["#abcffa","#7ca8de","#4570af","#224b8f","#0e3270"]
	P=[0.2,0.4,0.6,0.8]
	break
	default:break
	}return{colors:Q,ranges:P}
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Button","mstrmojo.XtabZone","mstrmojo.DICFactory","mstrmojo.DynamicClassFactory")
	var AS=102,S=1,K=2,F=1,AO=4,t=mstrmojo.css,q=mstrmojo.dom,l=mstrmojo.hash,x=mstrmojo.array,g=mstrmojo.DynamicClassFactory.newComponent,L=1,AU=2,I=4,Q=1,h=2,Z=1,C=2,AP=1,H=2,AC=1,AA=2,f=2,m=1,AW=6,AF=7,J=function(AY){if(AY){return AY.tui>=0?("h_"+AY.tui+"_"+AY.fi+"_"+AY.axis):("m_"+AY.mix)
	}return""
	}
	function AB(Ae,Aa,Ab){var Ad=this.nm[Aa],AZ=Ab.v,Ac=Ab.dv
	Ae.rv=AZ
	Ae.v=Ac
	Ae.mdf=1
	if(Ae._src){Ae._src.rv=AZ
	Ae._src.v=Ac
	Ae._src.mdf=1
	}var AY=this.dicGroupMap[J(Ae)].widgetsMap[Ae._ei]
	if(!AY.showByDefault){if(AY.hasPreview){AY.renderPreview()
	}else{if(q.isIE7&&mstrmojo.string.isEmpty(AZ)){AZ=" "
	}Ad[Ad.innerText!==undefined?"innerText":"textContent"]=(!AZ?"\u00a0":AZ)
	}}return Ad
	}function d(Ab,Ac,AY){if(AY[Ac]===0){return true
	}if(Ab&&AY[Ac]===undefined){try{var AZ=Ab.getRowCells(Ac),Ad=AZ&&AZ[0]
	if(Ad&&Ad.o===Ac){if(Ad.sst){AY[Ac]=0
	}return !!Ad.stt
	}if(Ad&&Ad.o){return d(Ab,Ac+Ac-Ad.o,AY)
	}return false
	}catch(Aa){return false
	}}else{return false
	}}function M(AZ,AY){x.forEach(AZ,function(Aa){AY[Aa.o]=1
	})
	}function AT(AY){if(AY.mgh&&(AY.mgh&S)){this.mghMarks={}
	}}function AD(Aa,Ac){var AZ=Ac.bb-1,AY=Math.min(AZ+Ac.bc,Ac.tc),Ab
	l.forEach(Aa,function(Ae,Ad){Ab=Number(Ad)
	if(!isNaN(Ab)&&Ab>=AZ&&Ab<AY){delete Aa[Ad]
	}})
	}function AI(Ab,Aa){var AY=this.editing?1:(Ab.rs||1),AZ
	for(AZ=0
	AZ<AY
	AZ++){this.dirtyRows[Aa+AZ]=1
	}}function AX(AY){return AY&&parseInt(AY.ipt,10)===f
	}function AR(AY){var AZ
	this.delegateGridAction(function(Aa){if(!AZ&&Aa.posMap&&Aa.posMap[AY._ei]){AZ=Aa
	}},"getRowIndex")
	return AZ.getRowIdxByCell(AY)
	}function n(AY){var Ae=AY.thPosMap,Ag=AY.slot,Ad=Ae&&Ae.length||0,Ai=this.lastHeaderIndexs[Ag]||0,Ac=[AY.tableNode],Af,Aa,Ah,Ab
	if(this.getStickedTableNodes){Ac=Ac.concat(this.getStickedTableNodes())
	}for(Ab=Ai
	Ab<Ad
	++Ab){Af=Ae[Ab],Ah=Af.obj
	if(this.isEditableHeader(Ah)){for(var AZ in Ac){AN(Ac[AZ],Af)
	}}}this.lastHeaderIndexs[Ag]=Ab
	}function AN(AY,Aa){var AZ=AY.tBodies[Aa.page].rows[Aa.row].cells[Aa.cell]
	AZ.innerHTML='<div class="editable-column">'+AZ.innerHTML+"</div>"
	}function o(Aa){var Ac=true,AZ=Aa||[]
	for(var Ab=0,AY=AZ.length
	Ab<AY
	Ab++){if(AZ[Ab]&&(AZ[Ab].w==="")){Ac=false
	break
	}}return Ac?"40px":""
	}function w(AY){return !AY.tav||!(AY.tav&F)
	}function AL(Ac,Aa,Ae,Al){var Af=false
	for(var Ad=0
	Ad<Ac.length
	Ad++){var Ai=Ac[Ad],AZ=Ai.style,Ab=parseFloat(t.getStyleValue(Ai,"padding-left"))||0,AY=parseFloat(t.getStyleValue(Ai,"padding-right"))||0,Ak=parseFloat(t.getStyleValue(Ai,"padding-top"))||0,Ag=parseFloat(t.getStyleValue(Ai,"padding-bottom"))||0
	var Aj=Ai.getElementsByClassName("tableLayoutList")[0]
	var Ah=Ai.getElementsByClassName("mstrmojo-TableLayoutList")[0]
	if(Aj&&Ah){if(Aj.clientWidth>Aa[Ad]){AZ.width=Aj.clientWidth+"px"
	Ah.style.width="auto"
	Af=true
	}else{AZ.width=Aa[Ad]-Ab-AY+"px"
	}if(Aj.clientHeight>Ae[Ad]){AZ.height=Aj.clientHeight+"px"
	Ah.style.height="auto"
	Af=true
	}else{AZ.height=Ae[Ad]-Ak-Ag+"px"
	}}else{AZ.width=Aa[Ad]-Ab-AY+"px"
	AZ.height=Ae[Ad]-Ak-Ag+"px"
	}}if(Af){Al.style.width="auto"
	}}mstrmojo._IsEditableGridCP={_mixinName:"mstrmojo._IsEditableGridCP",initContent:function AK(Ab){this._super(Ab)
	var Ah=this.gridData,AZ=Ah&&Ah.vp,Af,Ae,Ag,Aj,AY,Ai,Aa,Ad
	if(((this.type===L)||(this.type===I))&&AZ&&AZ.cols&&!AZ._adjusted){AY=AZ.cols.cg
	Aa=AZ.cols.cws
	if(AY&&AY.cgc>0){for(Af=AY.cgc
	Af>0
	Af--){AY[Af]=l.copy(AY[Af-1],{})
	Ai=AY[Af]
	var Ac=Ai.attForms
	if(Ac){for(Ae=0,Aj=Ac.length
	Ae<Aj
	Ae++){Ag=Ac[Ae]
	Ag.idx+=1
	}}}AY[0]={tg:false,cc:0,cl:1,attForms:[{n:"",idx:0}]}
	AY.cgc+=1
	}if(Aa){Aa.splice(0,0,{w:"60px",xc:true})
	}if(AZ.dafIdx!==undefined){AZ.dafIdx+=1
	}Ad=Ah.gts.row
	for(Af=0,Aj=Ad.length
	Af<Aj
	Af++){Ad[Af].ci=Af+1
	}AZ._adjusted=true
	}this.colWidths=[{w:o(this.colWidths)}].concat(this.colWidths)
	this.unmergedCells=[]
	},getUnmergedCells:function c(){return null
	},getRowCells:function AG(Ai){var Aa=this._super(Ai),AY=Aa[0],Am=(AY&&AY.o)||0,Aj=(this.tp===L),Ad=this.interactiveCellsArray,Al={css:"",v:""},Ap=[],AZ=[],Aq,Ar
	if(!Aj){var Af=this.base.items,Ao=this.lookupBase,An=this.gridData.css,Au=AY&&AY.pi,Ak=Au&&Au.ri,At=Au&&Au.ci,Ag=AY.stt>0
	while(Au&&Ak>-1&&At>-1){AY=AY._p||Af[Ak].items[At]
	var Ab=l.copy(AY,{})
	Ab._src=AY
	if(!Ab.css){Ab.css=An[Ab.cni].n
	}var Ah=Ao[AY.tui],As=Ah&&Ah.es[AY.idx]
	if(As){Ab.v=AY.v||As.n
	Ab._e=As
	}Ab.rs=1
	if(Ag){Ab.at&=~32
	}if(Am>-1){Ab.o=Am
	}if(!Ab.axis&&this.axis){Ab.axis=this.axis
	}Ab._ei=Ad.push(Ab)-1
	Ap.splice(0,0,Ab)
	Au=AY&&AY.pi
	Ak=Au&&Au.ri
	At=Au&&Au.ci
	}for(Aq=0,Ar=Aa.length
	Aq<Ar
	Aq++){var Ac=Aa[Aq]
	if(Ac.rs>1){var Ae=l.copy(Ac,{})
	Ae.rs=1
	Ac=Ae
	}AZ.push(Ac)
	}}else{AZ=Aa
	if(Ai>0){return Aa
	}}if(AZ[0]){Al=l.copy(AZ[0],{})
	Al.rv=Al.v=""
	if(this.tp===L){Al.n=Al.v=""
	Al.markAll=true
	}else{Al.n=""
	}Al._ei=Ad.push(Al)-1
	Al.at=32
	Al.cs=1
	Al.mark=true
	Al.mix="x"
	Al.css=(Ap[0]&&Ap[0].css)||Al.css
	delete Al.ui
	delete Al.tui
	delete Al.fs
	delete Al.mdf
	}return[Al].concat(Ap.concat(AZ))
	}}
	mstrmojo._IsEditableXtab=mstrmojo.provide("mstrmojo._IsEditableXtab",{_mixinName:"mstrmojo._IsEditableXtab",update:function AE(Aa){var AY,AZ=Aa.data
	if(this._super){this._super(Aa)
	}this.kc={}
	this.rs={}
	this.rsDelta={}
	AT.call(this,AZ)
	if(AZ.eg!==undefined){return 
	}AY=Aa.data.marked
	if(AY){M(AY,this.rs)
	}if(!AZ.rw){var Ab=AZ.gvs.items.length
	AZ.rw={row:{bb:1,bc:Ab,tc:Ab},col:{bb:-1,bc:-1,tc:0}}
	}},initCP:function E(Aa,AZ,Af,Ac,Ae,Ab,Ad){var AY={gridData:Aa,type:Af,interactiveCellsArray:AZ}
	AY.base=Ac||AY.base
	AY.lookupBase=Ae||AY.lookupBase
	AY.axis=Ab||AY.axis
	AY.dataSource=this
	if(!Ad){if(this.tca===K&&this.editing){if(Af===L){mstrmojo.EditableXtabTitlesCP=g(mstrmojo.XtabTitlesCP,[mstrmojo._IsEditableGridCP],{scriptClass:"mstrmojo.EditableXtabTitlesCP",tp:L})
	Ad=new mstrmojo.EditableXtabTitlesCP(AY)
	}else{if(Af===I){mstrmojo.EditableXtabCP=g(mstrmojo.XtabCP,[mstrmojo._IsEditableGridCP],{scriptClass:"mstrmojo.EditableXtabCP"})
	Ad=new mstrmojo.EditableXtabCP(AY)
	}else{Ad=new mstrmojo.XtabCP(AY)
	}}}else{if(Af===L){Ad=new mstrmojo.XtabTitlesCP(AY)
	}else{Ad=new mstrmojo.XtabCP(AY)
	}}}else{l.copy(AY,Ad)
	}return Ad
	},createOnDemandCP:function r(AZ,Aa,AY){var Ab
	if(this.tca===K&&this.editing&&AY===I){mstrmojo.EditableXtabOnDemandCP=g(mstrmojo.XtabOnDemandCP,[mstrmojo._IsEditableGridCP],{scriptClass:"mstrmojo.EditableXtabOnDemandCP"})
	Ab=new mstrmojo.EditableXtabOnDemandCP()
	}else{Ab=new mstrmojo.XtabOnDemandCP()
	}Ab.dataSource=this
	Ab.blockNum=AZ
	Ab.rc=Aa
	return Ab
	},preBuildRendering:function B(){var AY=this.defn.txi
	if(this._super){this._super()
	}this.txar=AY.txar
	this.sci=AY.sci
	this.tca=AY.tca
	if(this.tca!==K){this.editing=false
	}else{if(mstrApp.isMobile){this.editing=this.alwaysEditing=true
	}}this.nm={}
	this.ko={}
	this.dirtyRows={}
	this.requiredCellsMap={}
	this.dicGroupMap={}
	this.lastIndex=0
	this.lastHeaderIndexs={}
	this.columnNames={}
	},postBuildRendering:function b(){if(this._super){this._super()
	}if(this.tca===K&&this.gridData.eg===undefined){var Aa=Math.max(-16,-this.domNode.offsetTop),Ab=this
	if(!this.alwaysEditing){var AY=mstrmojo.Button.newIconButton(mstrmojo.desc(8324,"Mark rows"),"mstrmojo-EditButton",function(){if(!Ab.recalculating){Ab.editing=!Ab.editing
	Ab.refresh()
	}}),AZ=new mstrmojo.Button(mstrmojo.hash.copy({cssText:"top:"+Aa+"px
	"},AY))
	AZ.render()
	this.domNode.appendChild(AZ.domNode)
	if(this.editing){this.domNode.style.zIndex=1000
	t.addClass(AZ.domNode,"close")
	}else{t.removeClass(AZ.domNode,"close")
	}}}},dataDownloadErr:function N(AZ){if(this.txar&&this.recalculating){this.delegateGridAction(function(Ab){Ab.isDownloading=false
	},"isDownloading")
	this.rhsCP.initContent()
	this.valuesCP.initContent()
	t.removeClass(this.maskNode,"wait")
	this.recalculating=false
	if(AZ){var Aa=this
	var AY=function(Ad,Ac){var Ab=window.mstrConfig&&!window.mstrConfig.simpleDialog
	if(Ab){mstrmojo.alert(Ad,Ac,null,null,null,{allowHTML:true})
	}else{mstrmojo.alert(Ad)
	Ac()
	}}
	AY(mstrmojo.desc(16652,"The task cannot be completed due to a malformed request. Please try again."),function(){if(!mstrApp.useBinaryMode){var Ab={model:Aa.model.docModel}
	Aa.controller.onReExecute(Ab,true)
	}})
	}}},dataDownloaded:function X(Ab,AZ){var Aa=Ab.data
	if(this.txar){var AY=AZ.blockNum,Ac
	if(this.recalculating){AZ.recalculating=true
	this.interactiveCellsArray=[]
	this.requiredCellsMap={}
	this.dirtyRows={}
	this.lastIndex=0
	this.lastHeaderIndexs={}
	this.kc={}
	this.nm={}
	this.updatedCellsMap={}
	this.recalculating=false
	this.destroyDICs()
	}else{AZ.recalculating=false
	}if(AY===0){this.gridData=Aa
	}if(Aa.eg){this.refresh()
	return 
	}Ac=this.interactiveCellsArray
	this.initCP(Aa,Ac,L,null,null,null,this.titlesCP)
	this.initCP(Aa,Ac,AU,Aa.ghs.chs,Aa.gts.col,h,this.chsCP)
	this.titlesCP.initContent()
	this.chsCP.initContent()
	this.delegateGridAction(function(Ad){if(Ac&&Ac.length===0){Ad.refresh()
	}},"refreshOnDataDownloaded")
	}if(this._super){this._super(Ab,AZ)
	}AT.call(this,Aa)
	AD(this.rs,Aa.rw.row)
	if(Aa.marked){M(Aa.marked,this.rs)
	this.rsDelta={}
	}},closeDownloadStatus:function a(){if(this._super){this._super()
	}mstrmojo.css.removeClass(this._STATUS,"recalculate")
	},kc:null,ko:null,nm:null,rs:null,dicGroupMap:null,lastIndex:0,lastHeaderIndexs:{},columnNames:null,getDataInputInfo:function k(AY,Ab){var Ag=AY._ei,Af,Aa=this.node.defn,Ao=this.gridData
	if(AY.mark){Af=AY.o
	if(AY.stt){this.rs[Af]=0
	return 
	}this.ko[Af]=Ag
	AY.rv=AY.v=this.rs[Af]||-1
	this.kc[Ag]={rowop:true}
	return{key:Ag,t:AS,vls:[{v:-1},{v:1}],wm:1,w:22,hm:1,h:16,dm:1}
	}var Aj=this.model.getCellTitleInfo(AY,this.dataBlocks[AY._gd]),Ap=Aj&&Aj.title,Al=Ap&&Ap.es,Ae=(AY.mti!==undefined)?AY.mti:AY.mix,Ac=(AY.mix!==undefined),Am=Aa.txi.dic,Ai
	Ai=l.copy(!Ac?Am.att&&Ap&&Am.att[Ap.id]&&Am.att[Ap.id][Ap.fs[AY.fi].id]:Am.mtx&&Am.mtx[Al[Ae].oid],{})
	if(!Ai){return null
	}if(this.columnNames[Ab]===undefined){this.columnNames[Ab]=!Ac?Ap.n:Al[Ae].n
	}if(AX(Ai)){Ai.vls=(Ao.dcv&&Ao.dcv[Ai.k])||[]
	}if(Ao.tcs&&Ao.tcs[Ai.k]){var Ah=Ao.tcs[Ai.k]
	if(Ah&F){Ai.disabled=true
	}if(Ah&AO){Ai.req=1
	}}if(Ag>=0&&!this.kc[Ag]){var An=!AY.axis,Ad={isMv:An}
	if(An){var Ak=AY.pi,AZ=Ak&&Ak.top
	Ad.co=(AZ&&AZ.ci)||0
	Ad.metric_id=Al[Ae].oid
	AY.o=Ad.o=(AY._lp&&AY._lp.o)||0
	Ad.tp=C
	}else{Ad.ax=AY.axis
	Ad.atid=Ap.id
	Ad.form_id=Ap.fs[AY.fi].id
	Ad.o=AY.o
	Ad.tp=Z
	Ad.fi=AY.fi
	Ad.ui=AY.ui
	Ad.tui=AY.tui
	Ad.rs=AY.rs
	}Ad.dt=Ai.dt
	if(AX(Ai)){Ad.vls=Ai.vls
	Ad.k=Ai.k
	}this.kc[Ag]=Ad
	}Ai.key=Ag
	if(Ai.dm){Ai.dm=parseInt(Ai.dm,10)
	}return Ai
	},isEditableHeader:function G(AY){var AZ=this.node.defn,Aa=AZ.txi.dic
	if(AY.sst||!Aa){return false
	}if(AY.id!==undefined&&Aa.att){return !!(Aa.att[AY.id]&&(AY.fix?Aa.att[AY.id][AY.fid]:Aa.att[AY.id]))
	}if(AY.tui!==undefined&&AY.mix!==undefined&&Aa.mtx){return !!(Aa.mtx[AY._e.oid])
	}return false
	},dataChanged:function R(Aa,Ab,AZ,Ac,AY){if(!this.recalculating){if(Ac){this.nm[Aa]=Ac
	}if(this._super){this._super(Aa,Ab,AZ,Ac,AY)
	}}},updateValue:function j(Ab,AZ){if(this._super){this._super(Ab,AZ)
	}var Af=this.interactiveCellsArray[Ab],Aj=AZ.v,Ak,AY=AR.call(this,Af)
	this.lmr=null
	Ak=AB.call(this,Af,Ab,AZ)
	this.updateDirtyUnits()
	if(Af.r!==Aj){if(!Af.mark){Af.mdf=1
	mstrmojo.css.removeClass(Ak,"required")
	AI.apply(this,[Af,AY])
	this.flagDirtyUnit(Ak)
	}}else{this.clearDirtyUnit(Ak)
	}if(this.onCellUpdated){this.onCellUpdated(Af,Ak)
	}if(this.tca===K){if(Af.mark){var Ad=Af.markAll?-1:Af.o,Ah=this.rsDelta
	this.rs[Ad]=Aj
	this.lmr={r:Ad,v:Aj}
	if(Af.markAll){Ah=this.rsDelta={}
	Ah[Ad]=Aj
	this.mghMarks={}
	}else{if(Ah[Ad]&&Ah[Ad]!==Aj){delete Ah[Ad]
	}else{if(Ah[-1]!==Aj){Ah[Ad]=Aj
	}}}}else{if(this.rs[Af.o]!==0){this.rs[Af.o]=1
	}if(!this.editing&&this.mghMarks&&(Af.mix===undefined)){if(!this.mghMarks[Af.o]||this.mghMarks[Af.o].rs<Af.rs){this.mghMarks[Af.o]={o:Af.o,rs:Af.rs,k:Ab}
	}var Ac,Ag,Ae=this
	l.forEach(this.rsDelta,function(Al,Am){Ac=parseInt(Am,10)
	Ag=parseInt(Af.o,10)
	if(Ac>=Ag&&Ac<=(Ag+Af.rs)){delete Ae.rsDelta[Am]
	}})
	}else{this.rsDelta[Af.o]=1
	}if(!this.editing&&Af.rs>1){var Aa=Af.o+1
	while(Aa-Af.o<Af.rs){if(!d(this.rhsCP,Aa,this.rs)){this.rs[Aa]=1
	}Aa+=1
	}}if(this.editing){var Ai=this.dicGroupMap.m_x.widgetsMap[this.ko[Af.o]]
	if(Ai){Ai.set("checked",true)
	}}}}if(this.txar&&!Af.mark){return true
	}return false
	},autoRefresh:function AH(AY){this.delegateGridAction(function(AZ){AZ.invalidAllPages()
	},"invalidAllPages")
	this.rhsCP.invalid()
	this.valuesCP.invalid()
	t.addClass(this._STATUS,"recalculate")
	this.delegateGridAction(function(AZ){var Aa=AZ.parent
	if(Aa&&!AZ.connectedScrollbox){Aa.connectScrollbox(AZ)
	AZ.connectedScrollbox=true
	}AZ.onscroll(true,AY)
	},"scrollOnAutoRefresh")
	this.recalculating=true
	},getKeyContext:function P(AY){return this.kc[AY]
	},getUpdateObject:function U(){var Ad=[],Ab,Ae,Af,AZ=this.lmr,Aa,Ac={}
	if(AZ){this.lmr=null
	return{manipulation:AP,actionType:(AZ.v===-1)?AC:AA,rowOrdinal:AZ.r,nodeKey:this.k,sliceId:this.sid}
	}Ae=this.getUpdatedValues()
	for(Ab=0
	Ab<(Ae&&Ae.length)
	Ab++){if(!Ae[Ab].rowop){Af=Ae[Ab]
	break
	}}if(Af){Aa=mstrmojo.string.encodeXMLAttribute(String(Af.v))
	if(Af.k!==undefined&&Af.vls){var AY=x.find(Af.vls,"v",Af.v)
	if(AY!==-1){Ac={controlKey:Af.k,elementId:Af.vls[AY].eid}
	}}if(!!Af.isMv){Ad.push(l.copy(Ac,{rowOrdinal:Af.o,colOrdinal:Af.co,newValue:Aa,dataType:Af.dt}))
	}else{Ad.push(l.copy(Ac,{rowOrdinal:Af.o,attId:Af.atid,formId:Af.form_id,unitIndex:Af.tui||Af.ui,newValue:Aa,dataType:Af.dt}))
	}}return{manipulation:H,nodeKey:this.k,sliceId:this.sid,cells:Ad,autoRefresh:this.txar}
	},getUpdates:function W(){var Ai=this,Ad,Ae,AY=Ai.getUpdatedValues(),Ab=this.rsDelta,Ac=[],Ah=[],Af=false,Aa=""
	Ac.push('<gr rw_tree_type="'+Ai.treeType+'" rw_node_key="'+Ai.k+'" slice_id="'+Ai.sid+'">')
	for(Ad in AY){if(AY.hasOwnProperty(Ad)){Ae=AY[Ad]
	if(!Ae.rowop){var Aj=mstrmojo.string.encodeXMLAttribute(String(Ae.v)),AZ=x.find(Ae.vls,"v",Ae.v)
	if(Ae.k&&Ae.vls&&AZ===-1){if(!!Ae.isMv){Ah.push('<cli cordinal="'+Ae.co+'" metric_id="'+Ae.metric_id+'"><updt types="'+AF+'" rordinal="'+Ae.o+'" rw_control_key="'+Ae.k+'"/></cli>')
	}else{Ah.push('<cli ax="'+Ae.ax+'" attribute_id="'+Ae.atid+'" form_id="'+Ae.form_id+'"><updt types="'+AW+'" ordinal="'+Ae.o+'" rw_control_key="'+Ae.k+'" flags="1"/></cli>')
	}}else{if(Ae.k&&Ae.vls&&AZ!==-1){Aa='rw_control_key="'+Ae.k+'" element_id="'+mstrmojo.string.encodeXMLAttribute(String(Ae.vls[AZ].eid))+'" '
	}if(!!Ae.isMv){Ah.push('<cli cordinal="'+Ae.co+'" metric_id="'+Ae.metric_id+'"><updt types="'+Ae.tp+'" rordinal="'+Ae.o+'" '+Aa+'value="'+Aj+'" dt="'+Ae.dt+'"/></cli>')
	}else{Ah.push('<cli ax="'+Ae.ax+'" attribute_id="'+Ae.atid+'" form_id="'+Ae.form_id+'"><updt types="'+Ae.tp+'" ordinal="'+Ae.o+'" '+Aa+'value="'+Aj+'" dt="'+Ae.dt+'"'+(this.mghMarks?' flags="1"':"")+"/></cli>")
	}}Af=true
	}}}if(!l.isEmpty(this.mghMarks)){var Ag=this
	l.forEach(this.mghMarks,function(Ak,Al){Aa=Ag.getKeyContext(Ak.k)
	Ah.push('<mark rordinal="'+Al+'" types="4" flags="1" attribute_id="'+Aa.atid+'" form_id="'+Aa.form_id+'"/>')
	})
	}if(Ab&&!l.isEmpty(Ab)){Af=true
	x.forEach(l.keyarray(Ab).sort(),function(Ak){if(Ab[Ak]===1){Ah.push('<mark rordinal="'+Ak+'" types="4"/>')
	}else{Ah.push('<mark rordinal="'+Ak+'" types="5"/>')
	}})
	}Ac.push(Ah.join(""))
	Ac.push("</gr>")
	if(!Af){Ac=[]
	}return Ac.join("")
	},flagDirtyUnit:function e(AZ){if(AZ&&this.sci){if(this._super){this._super(AZ)
	return 
	}var AY=document.createElement("div"),Ad,Aa=false,Ac=t.getStyleValue(this.domNode,q.CSS3_TRANSFORM),Ab
	AY.className="flag-container"
	AY.innerHTML='<div class="dirty-cell"/>'
	if(AZ.insertBefore){AZ.insertBefore(AY,AZ.firstChild)
	Ab=(AY.offsetParent===AZ)
	}Aa=mstrmojo.string.isEmpty(Ac)||Ac==="none"
	Ad=AY.firstChild
	Ad.style.top=((!Aa||Ab)?(-AY.offsetTop):(AZ.offsetTop-AY.offsetTop))+"px"
	Ad.style.left=(AZ.clientWidth+((!Aa||Ab)?(-AY.offsetLeft):(AZ.offsetLeft-AY.offsetLeft))-8)+"px"
	}},updateDirtyUnits:function AQ(){var AY=this.domNode,Aa=AY.getElementsByClassName("dirty-cell"),Ac=t.getStyleValue(AY,q.CSS3_TRANSFORM),AZ=mstrmojo.string.isEmpty(Ac)||Ac==="none",Ab
	x.forEach(Aa,function(Af){var Ad=Af.parentNode,Ae=Ad&&Ad.parentNode
	Ab=Ae.insertBefore?Ad.offsetParent===Ae:false
	Af.style.top=((!AZ||Ab)?(-Ad.offsetTop):(Ae.offsetTop-Ad.offsetTop))+"px"
	Af.style.left=(Ae.clientWidth+((!AZ||Ab)?(-Ad.offsetLeft):(Ae.offsetLeft-Ad.offsetLeft))-8)+"px"
	})
	},clearDirtyUnit:function AV(AY){if(this._super){this._super(AY)
	return 
	}var AZ=AY.firstChild
	if(AY){if(AZ&&AZ.className&&AZ.className==="flag-container"){AY.removeChild(AZ)
	}}},onvisibleChange:function v(){if(this.visible===true){var AY=this
	setTimeout(function(){AY.configureActions()
	},10)
	}},configureActions:function Y(){if(this.visible===false){return 
	}this.configureCellsAction()
	this.lastIndex=this.interactiveCellsArray.length
	var AY=this
	this.delegateGridAction(function(AZ){n.call(AY,AZ)
	},"markEditableColHeaders")
	this.registerTxWidget()
	if(this._super){this._super()
	}},configureCellsAction:function AJ(Aa,Ak,A5,Ac){var Ai=this,Ay=this.getTargetZone(),A5=A5||Ay.posMap,Ag=Aa||this.interactiveCellsArray,Ak=(Ak===undefined?this.lastIndex:Ak),BA=this.dicGroupMap,Ar=[],A8,Aj,A6,A4,An,Ao,Ap,A0,A9,Ae,Aw,Af,A2,Am=function(){var BB=[]
	this.delegateGridAction(function(BC){BB.push(BC)
	},"configureActions")
	return BB
	},Aq=Am.call(this),As=(Aq.length>1),Ah=function(BB){var BD=BB.length,BC
	for(BC=0
	BC<BD
	BC++){Ai.flagDirtyUnit(BB[BC])
	}}
	for(A8=Ak,Aj=Ag.length
	Ag[A8]&&A8<Aj
	A8++){An=Ag[A8]
	Ao=A5&&A5[A8]
	if(!Ao&&As){Ay=(Aq[0]===Ay)?Aq[1]:Aq[0]
	A5=Ay&&Ay.posMap
	Ao=A5&&A5[A8]
	}if(Ao&&((An.at&32)>0)){An.at=32
	if(An.rv==null){An.rv=isNaN(An.mix)?An._e.n:An.v
	}A0=J(An)
	Aw=this.getDataInputInfo(An,A0)
	Af=BA[A0]
	if((An.axis===h||An.axis===Q&&An.o===undefined)&&this.clonedColHeader&&this.clonedColHeader.isRendered()){A2=this.clonedColHeader.getTableNode()
	}else{if(An.axis===Q&&this.clonedRowHeader){if(this.clonedRowHeader.isRendered()){A2=this.clonedRowHeader.getTableNode()
	}else{A2=Ay.tableNode
	if(Aw&&!Af){this.clonedRowHeader.addGroupKey(A0)
	}this.clonedRowHeader.addTempDICInfo(An,Ao)
	}}else{A2=Ay.tableNode
	}}Ap=A2.tBodies[Ao.page].rows[Ao.row].cells[Ao.cell]
	if(Aw){if(!Af){Af=BA[A0]=mstrmojo.DICFactory.createDICGroup({gk:A0,dic:Aw,owner:this,openerType:m})
	}var Ax=!w(An)||Aw.disabled
	var Al={value:(An.rv===undefined)?(An.v||An.n):(typeof An.rv==="string"?mstrmojo.string.decodeHtmlString(An.rv):An.rv),dv:An.v||An.n,ts:An.ts,markAll:An.markAll,openerNode:Ap,k:An._ei,ownerCell:An,enabled:!Ax,popupTitle:this.columnNames[A0]},Ab=Ay.cp.stackedRh
	if(Ab&&An.singleStack&&(mstrmojo.DICConfig.showDICByDefault(Aw,1)||mstrmojo.DICConfig.hasDICPreview(Aw,1))){var A3=Ap.offsetHeight
	Ap.className+=" igDIC"
	Ap.style.cssText="height:"+A3+"px
	"
	if(Af.showByDefault){Ap.className+=" sbd"
	}mstrmojo.hash.copy({inlineExtraCssText:"position:absolute
	top:"+parseInt(Ab/2-A3/2+1,10)+"px
	"},Al)
	}Af.addDIC(An._ei,Al)
	A9=Ao.page*Ay.rowsPerPage+Ao.row
	if(Aw.req){for(A4=0
	A4<(this.editing?1:(An.rs||1))
	A4++){Ae=this.requiredCellsMap[A9+A4]
	if(!Ae){this.requiredCellsMap[A9+A4]=Ae=[]
	}Ae.push(An)
	}}if(An.mdf&&!Ac){Ar.push(Ap)
	AI.apply(this,[An,A9])
	}if(Ax&&!mstrmojo.DICConfig.showDICByDefault(Aw,1)){var Au=document.createElement("div"),Av=document.createElement("span"),Az=Ap.currentStyle||document.defaultView.getComputedStyle(Ap,null),AY={marginLeft:"-"+Az.paddingLeft,paddingLeft:Az.paddingLeft,marginRight:"-"+Az.paddingRight,paddingRight:Az.paddingRight,marginTop:"-"+Az.paddingTop,paddingTop:Az.paddingTop,marginBottom:"-"+Az.paddingBottom,paddingBottom:Az.paddingBottom}
	Au.className="xtab-dic-disabled"
	l.copy(AY,Au.style)
	Av.appendChild(Ap.firstChild)
	Au.appendChild(Av)
	Ap.appendChild(Au)
	}}}}this.lastIndex=A8
	var A7=Ay.tableNode.rows,At=A7&&A7.length>=2,Ad,AZ=[],A1=[]
	if(At){Ad=A7[1].children
	x.forEach(Ad,function(BB){AZ.push(BB.clientWidth)
	A1.push(BB.clientHeight)
	})
	}for(A0 in BA){BA[A0].render()
	}if(At){AL(Ad,AZ,A1,Ay.tableNode)
	}setTimeout(function(){Ah(Ar)
	},25)
	},destroyDICGroup:function u(AZ){var Aa=this.dicGroupMap,AY,Ab,Ac
	if(Aa&&(AZ instanceof Array)){for(AY in AZ){Ab=AZ[AY]
	Ac=Aa[Ab]
	if(Ac){Ac.destroy()
	delete Aa[Ab]
	}}}},showPopupDIC:function A(Ab){var AZ=Ab&&q.findAncestorByAttr(Ab,"ei",true,this.viewport)
	if(AZ){var Ac=AZ.node,AY=this.getCellForNode(Ac),Aa=this.dicGroupMap[J(AY)]
	if(Aa&&!Aa.dic.disabled&&!(AY.tav&&(AY.tav&F))){Aa.showPopupDIC(AY._ei)
	return true
	}}return false
	},onclick:function AM(AZ){var AY=mstrmojo.dom.eventTarget(window,AZ.e)
	if(!this.showPopupDIC(AY)&&this._super){this._super(AZ)
	}},unrender:function D(){if(this._super){this._super()
	}this.destroyDICs()
	},destroyDICs:function z(){var AY=this.dicGroupMap
	this.dicGroupMap={}
	setTimeout(function(){var AZ
	for(AZ in AY){AY[AZ].destroy()
	}},10)
	},checkRequiredObjects:function O(){if(this.hasRendered&&!(this.isInteractiveGrid&&this.isInteractiveGrid())&&!this.gridData.eg){var Aa=this.getTargetZone()
	if(!Aa){return true
	}var Ac=Aa.posMap,Ae,Ab=this,AZ=this.rs,AY=true,Ad=function(Ak,Ag){var Aj=true,Ah=Ab.requiredCellsMap[Ak],Af=(Ah&&Ah.length)||0,Ai
	for(Ai=0
	Ai<Af
	Ai++){if(!Ah[Ai].mdf){t.toggleClass(Aa.getNodeByPosition(Ac[Ah[Ai]._ei]),"required",Ag)
	Aj=!Ag
	}}return Aj
	}
	if(this.tca===K){for(Ae in AZ){AY=Ad(parseInt(Ae,10)+1,AZ[Ae]>0)&&AY
	}}else{for(Ae in this.dirtyRows){AY=Ad(Ae,true)&&AY
	}}return AY
	}return true
	},editNext:function p(Aa){if(this.recalculating){return false
	}var Ab=this.interactiveCellsArray,AY=Ab.length,Ac=Aa+1,Ad,AZ
	do{if(Ac>=AY){Ac%=AY
	}if(Ac===Aa){return false
	}Ad=Ab[Ac]
	var Ae=this.dicGroupMap[J(Ad)]
	if(Ae&&!Ae.dic.disabled&&w(Ad)){if(mstrmojo.DICConfig.isKeyNavigable(Ae.dic)){if(!Ae.showByDefault){Ae.showPopupDIC(Ac)
	}else{AZ=Ae.widgetsMap[Ac]
	AZ.focus()
	}return true
	}}Ac++
	}while(true)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.XtabZone")
	var G=1,F=2,H=4,P=8,Z=1,L=2,K=-1,I=mstrmojo.array,M=mstrmojo.hash
	function X(a){var b=null
	if(a&&a.length>1){b=new mstrmojo.XtabVACP()
	b.cps=a
	}return b
	}function O(c){if(!c||this._onDemandCP){return null
	}var m=c.bc,k=c.tc,d=c.tbc,n=c.rm===2,b=n?this.gridData.ghs.rhs.items.length:m,e=k-b,f=n?d-m:k-b,l=Math.ceil(f/m),h=[],j=[],g
	if(n){m=Math.floor(e/l)
	}for(g=0
	g<l
	++g){if(n&&l===(g+1)&&e>m){m=e
	}var a=Math.min(e,m)
	h.push(this.createOnDemandCP(g+1,a,H))
	j.push(this.createOnDemandCP(g+1,a,P))
	e-=m
	}this._onDemandCP={rhs:h,vls:j}
	return this._onDemandCP
	}function Q(b,d){var a=(b&&b.items)||[]
	if(d&&!b.ignoreCells&&a.length){var c=[]
	a[0].items.forEach(function(){c.push({items:[]})
	})
	a.forEach(function(e){e.items.forEach(function(g,f){c[f].items.push(g)
	})
	})
	b.items=c
	}return b
	}mstrmojo.XtabTitlesCP.prototype.shouldClonedLastTitleCell=function(){return false
	}
	mstrmojo._HasContentProvider=mstrmojo.provide("mstrmojo._HasContentProvider",{titlesCP:null,chsCP:null,rhsCP:null,valuesCP:null,dataBlocks:null,onDemandIF:true,initDataBlocks:function Y(a){if(!this.dataBlocks){this.dataBlocks=[]
	}this.dataBlocks[0]=a
	},prepareCP:function W(){var a=this.gridData,c=this.rw=a.rw,b=this.rhsCP
	if(b&&c&&c.row.tc===0&&c.col.tc===0){b.rc=0
	}this._onDemandCP=null
	},_setupCP:function E(g){var d=this.titlesCP=this.getTitleCP(g),f=this.chsCP=this.getColumnHeadersCP(g),b=this.rhsCP=this.getRowHeadersCP(g),c=this.valuesCP=this.getValuesCP(g)
	d.forceAutoRowHeight=f.forceAutoRowHeight=g.rh
	var k=new mstrmojo.XtabVACP()
	var a=this.getHACP()
	a.cps=[d,f]
	k.cps=[a]
	var h=this.getHACP(this.useLevelHACP())
	h.cps=[b,c]
	k.cps.push(h)
	var j=g.gmh&&g.gmh.gmrh,e=g.rw&&g.rw.row
	if(j&&e){k.gsmh={}
	k.gemh={}
	k.gsmh[e.bb]=j.gsmh
	k.gemh[e.bb+e.bc-1]=j.gemh
	}this.zone.cp=k
	},useLevelHACP:function B(){return !!this.isOutlineMode
	},getTitleCP:function D(a){return this.initCP(a,this.interactiveCellsArray,G)
	},initCP:function N(c,b,h,e,g,d,f){var a={gridData:c,type:h,interactiveCellsArray:b,defn:this.defn}
	a.base=e||a.base
	a.lookupBase=g||a.lookupBase
	a.axis=d||a.axis
	if(!f){if(h===G){a.showMetricsLabel=c.gridProps&&c.gridProps.sml
	if(c.stitchSectionKey){f=new mstrmojo.MultiXtabTitlesCP(a)
	}else{f=new mstrmojo.XtabTitlesCP(a)
	}}else{f=new mstrmojo.XtabCP(a)
	}}else{M.copy(a,f)
	}if(this.needRCForHeaders){f.needRC=(h===G||h===L)
	}return f
	},getColumnHeadersCP:function J(j){var c=j.gts&&j.gts.col
	c.some(function(q){if(q.otp===K){q.n=mstrmojo.desc(3582,"Metrics")
	return true
	}})
	var b=j.ghs&&j.ghs.chs,f=b&&b.items
	if(j.isv&&c.length>0){var k=0,e=f.length,p,d,n=[],h=[],m=[],o,l,g=c[0].cni,a=0
	I.forEach(c,function(q){if(q.cni!==g){k=Math.max(a,k)
	a=0
	}a+=q.rs||1
	g=q.cni
	})
	k=Math.max(a,k)
	f.forEach(function(){m.push(1)
	h.push(0)
	})
	for(p=0
	p<k
	p++){o=[]
	for(d=0
	d<e
	){l=f[d].items[h[d]]||{rs:1,cs:0,isDummy:true}
	if(!l.rs||(l.rs===1&&!l.isDummy)){o.push(l)
	h[d]+=1
	}else{if(l.rs===m[d]){m[d]=1
	h[d]+=1
	}else{if(m[d]===1){o.push(l)
	}m[d]+=1
	}}d+=l.cs||1
	}if(o.length){n.push({items:o})
	}}b.items=n
	if(this.onColHeadersRotated){this.onColHeadersRotated(b)
	}}return this.initCP(j,this.interactiveCellsArray,F,b,c,L)
	},getRowHeadersCP:function A(a){var d=a.gts&&a.gts.row,b
	d.some(function(e){if(e.otp===K){e.n=mstrmojo.desc(3582,"Metrics")
	return true
	}})
	if(!a.stitchSectionKey||d.length>0){b=a.ghs&&a.ghs.rhs
	}var c=this.initCP(a,this.interactiveCellsArray,H,b,d,Z)
	if(this.onDemandIF&&this.rw){if(!this._onDemandCP){O.call(this,this.rw.row)
	}this.rhsCPList=[c].concat(this._onDemandCP.rhs)
	return X(this.rhsCPList)||c
	}return c
	},getValuesCP:function S(c){var a=Q(c.gvs,c.isv),b=this.initCP(c,this.interactiveCellsArray,P,a,c.gts&&c.gts.col)
	c.isv=false
	if(this.onDemandIF&&this.rw){if(!this._onDemandCP){O.call(this,this.rw.row)
	}this.valuesCPList=[b].concat(this._onDemandCP.vls)
	return X(this.valuesCPList)||b
	}return b
	},getHACP:function C(b){var a
	if(b){a=new mstrmojo.XtabLevelHACP()
	if(this.outlineState){a.outlineState=this.outlineState
	}}else{a=(this._super&&this._super())||new mstrmojo.XtabHACP()
	}return a
	},createOnDemandCP:function U(a,b){var c=new mstrmojo.XtabOnDemandCP()
	c.dataSource=this
	c.blockNum=a
	c.rc=b
	return c
	},dataDownloaded:function R(b,h){var k=h.blockNum,a=this.rhsCPList[k],c=this.valuesCPList[k],j=b.data,f=this.gridData
	j._bidx=k
	this.dataBlocks[k]=j
	if(!a||!c){return 
	}var l=Q(j.gvs,j.isv)
	j.isv=false
	this.initCP(j,this.interactiveCellsArray,H,j.ghs&&j.ghs.rhs,j.gts&&j.gts.row,Z,a)
	this.initCP(j,this.interactiveCellsArray,P,l,f.gts&&f.gts.col,null,c)
	a.initContent()
	c.initContent()
	this.numRowsDownloaded+=parseInt(a.rc,10)
	if(this.updateStatus){this.updateStatus(mstrmojo.desc(8301,"Retrieving Data ..."),this.numRowsDownloaded*100/this.numRowsToDownload)
	}var e=this.zone
	if(e){var g=e.cp
	if(g){var m=j.gmh&&j.gmh.gmrh,d=j.rw&&j.rw.row
	if(m&&d){g.gsmh[d.bb]=m.gsmh
	g.gemh[d.bb+d.bc-1]=m.gemh
	}}e.dataDownloaded()
	}}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.XtabZone","mstrmojo.css","mstrmojo.hash","mstrmojo.dom","mstrmojo.array")
	var g=0,A=1,AG=2,K=3,p={1:"_BL",2:"_TR",3:"_TL"},AO=1,AC=2,v={position:"absolute",overflow:"hidden",width:"auto"},z={position:"absolute",top:0,left:0},F=mstrmojo.css,j=mstrmojo.hash,n=mstrmojo.dom,q=mstrmojo.array
	function M(AS,AR,AP,AQ){if(AQ){AS.replaceChild(AR,AS.tBodies[AP])
	}else{AS.appendChild(AR)
	}}function J(AP){AP.offsetCellNode=null
	AP.fstValueCellValidation=null
	}function W(){var AV={x:0,y:0}
	if(this.lockHeadersCase&&!this.offsetCellNode&&!this.fstValueCellValidation){var AW=this.titlesCP.getSpanDimension(),AP=AW.nRow,AT=AW.nCol,Ae=this.scrollboxNode.firstChild.firstChild,Aa=Ae&&Ae.rows[AP]
	if(AP===0||AT===0){this.lockHeadersCase=g
	return null
	}if(!Ae.rows.length){return null
	}if(!Aa){this.fstValueCellValidation|=AO
	this.lockHeadersCase&=AO
	Aa=Ae.rows[0]
	}var Ad=Aa&&Aa.cells,AZ=(Ad&&Ad.length)||0,AR,AX,AY
	for(AX=AY=0
	AX<AZ&&AY<AT
	AX++){AY+=Ad[AX].colSpan||1
	}AR=Ad&&Ad[AX]
	if(!AR){this.fstValueCellValidation|=AC
	this.lockHeadersCase&=AC
	this.offsetCellNode=Ad&&Ad[0]
	}else{this.offsetCellNode=AR
	}var Ac=this
	var AS=function(){Ac._adjustClipSize()
	}
	var AU=function(Aj,Am){var Ah,Ag,Af,Ak,Ai,Al
	Am=Math.min(Aj.rows.length,Am)
	for(Ah=0
	Ah<Am
	Ah++){Af=Aj.rows[Ah].getElementsByTagName("img")
	for(Ag=0
	Ag<Af.length
	Ag++){Ak=Af[Ag]
	Ai=Ak.onload
	Al=Ai?function(){Ai.call(this)
	AS()
	}:AS
	Ak.onload=Al
	Ak.onerror=Al
	}}}
	AU(Ae,AP||0)
	}if(this.lockHeadersCase){var Ab=n.position(this.offsetCellNode),AQ=n.position(this.scrollboxNode.firstChild)
	AV.x=Ab.x-AQ.x
	AV.y=Ab.y-AQ.y
	}return AV
	}function P(AR,AP,AQ,AV){if(this.parent.isAutoTableLayout()&&this.isRendered()){if(!this.fragment){this.fragment=document.createDocumentFragment()
	}if(AV){var AS=AR.cloneNode(true)
	if(!this.renderedPages){x.call(this)
	}if(AQ&&this.renderedPages[AP]){var AU=this.renderedPages[AP],AT=this.getTableNode()
	if(AU.parentNode===AT){AT.replaceChild(AS,AU)
	}else{this.fragment.replaceChild(AS,AU)
	}}else{this.fragment.appendChild(AS)
	}this.renderedPages[AP]=AS
	}}}function AJ(AQ,AP){for(var AR in AQ){if(AQ[AR]!=AP[AR]){return false
	}}return true
	}function AA(){var AQ=this.fragment,AP,AT,AR
	if(AQ&&AQ.childNodes.length>0&&this.isRendered()){var AS=this.getTableNode()
	if(this.parent.isOutlineMode){while(AQ.childNodes.length>0){AP=AQ.childNodes[0]
	AT=parseInt(AP.getAttribute("n"),10)
	if(AS.tBodies[AT]){AS.replaceChild(AP,AS.tBodies[AT])
	}else{AS.appendChild(AP)
	}}}else{AS.appendChild(AQ)
	}}}function w(){var AQ=this.xtabClonedNodes,AU=this.cellHoverMgr,AS,AT,AP,AR
	if(!AU){return 
	}for(AP in AQ){AS=AQ[AP]
	AR=AS.getID()
	AT=AS.isRendered()
	if(!this.zones[AR]&&AT){this.zones[AR]={tableNode:AS.getTableNode()}
	if(typeof (AU)!="string"){AU.addMgrElement(AR)
	}}}}function O(AQ,AP){var AR=this.parent,AS=AR&&AR.zone
	if(AP&&AS&&AS.addCoverTable){AS.addCoverTable(AQ,AP)
	}if(AR.hasAccessibility){F.addClass(AP.parentElement,"gridAccessible")
	AP.tabIndex="-1"
	}}function t(AQ,AP,AR){AQ.width=((AR&&AR.width<AP.right)?AR.width:AP.right)+"px"
	AQ.height=((AR&&AR.height<AP.bottom)?AR.height:AP.bottom)+"px"
	}function x(){this.renderedPages={}
	var AU=this.getTableNode(),AQ=AU.tBodies,AR=this.fragment,AW=AR&&AR.children,AT=this.renderedPages,AP,AS,AV=function(AX){var AY=AX.getAttribute("n")||0
	AT[AY]=AX
	}
	for(AS=0,AP=AQ.length
	AS<AP
	++AS){AV(AQ[AS])
	}for(AS=0,AP=(AW&&AW.length)||0
	AS<AP
	++AS){AV(AW[AS])
	}}function L(AT,AP,AQ){var AR=AP&&AP.rows[AT.row],AS=AR&&AR.cells[AT.cell]
	if(AS&&AQ!==AS){AR.replaceChild(AQ.cloneNode(true),AS)
	}}function S(AQ,AP){if(this.isRendered()){if(!this.renderedPages){x.call(this)
	}L(AQ,this.renderedPages[AQ.page||0],AP)
	}}function D(AQ,AS){var AP=AQ&&AQ.tBodies[AS.page||0],AR=AP&&AP.rows[AS.row]
	return AR&&AR.cells[AS.cell]
	}mstrmojo.XtabZoneWithClonedCover=mstrmojo.declare(mstrmojo.XtabZone,null,{scriptClass:"mstrmojo.XtabZoneWithClonedCover",isAutoTBLayout:null,addCoverTable:function N(AP,AQ){if(!this.coverTableNodes){this.coverTableNodes={}
	}this.coverTableNodes[p[AP]]=AQ
	},getClonedNodesByPositions:function R(AW){var AV=this.coverTableNodes,AQ=AV&&AV[p[K]],AY=AV&&AV[p[AG]],AS=AV&&AV[p[A]],AR=[AQ,AY,AS],AP,AZ,AU=[]
	for(var AT in AW){AP=AW[AT]
	if(AP.page&&AS){AZ=D(AS,AP)
	if(AZ){AU.push(AZ)
	}}else{for(var AX in AR){if(AR[AX]){AZ=D(AR[AX],AP)
	if(AZ){AU.push(AZ)
	}}}}}return AU
	},getSpecClonedNodesByPositions:function b(AU){var AP,AW=[],AR,AT,AS=this,AX=this.coverTableNodes&&this.coverTableNodes[p[A]],AV=this.coverTableNodes&&this.coverTableNodes[p[AG]],AQ=function(AY,AZ){q.forEach(AZ,function(Aa){AP=D(AY,Aa)
	if(AP){AW.push(AP)
	}})
	}
	q.forEach(AU,function(AY){AR=AY._ei
	AT=AS.eiMap[AR]||(AS.posMap[AR]&&[AS.posMap[AR]])||[]
	if(AY.axis===1){AQ(AX,AT)
	}else{AQ(AV,AT)
	}})
	return AW
	},setHilites:function X(AZ,AT){var AU=AT.getAttribute("ei"),AY=this.eiMap[AU]||(this.posMap[AU]&&[this.posMap[AU]])||[],AW=this.hiliteCellsMap,AS=this.parent,AQ=this.getNodesByPositions(AY),AP=function(Aa){F.addClass(Aa,"sc_"+AS.k)
	}
	if(!AW[AZ]){AW[AZ]={pos:[],nodes:[]}
	}if(!AQ.length){AP(AT)
	AW[AZ].nodes.push(AT)
	}else{if(AY.length!==0){var AR=this.getClonedNodesByPositions(AY),AX=AW[AZ].pos
	AQ=AR.concat(AQ)
	for(var AV in AQ){AP(AQ[AV])
	}AW[AZ].pos=AX.concat(AY)
	}}},clearHilites:function C(AQ){var AT=this.hiliteCellsMap[AQ],AR=AT&&AT.nodes,AU=(AR&&AR.length===0&&AT.pos)||[],AS=this.parent
	if(AU.length!==0){AR=this.getNodesByPositions(AU)
	AR=AR.concat(this.getClonedNodesByPositions(AU))
	}for(var AP in AR){F.removeClass(AR[AP],"sc_"+AS.k)
	}this.hiliteCellsMap[AQ]={nodes:[],pos:[]}
	},isAutoTableLayout:function AH(){if(this.isAutoTBLayout===null&&this.tableNode){this.isAutoTBLayout=(this.tableNode.style.tableLayout!=="fixed")
	}return this.isAutoTBLayout
	},unrender:function B(AP){this.coverTableNodes={}
	this.isAutoTBLayout=null
	this._super(AP)
	}})
	mstrmojo.XtabClonedNode=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.XtabClonedNode",domNode:null,left:0,top:0,lockType:g,scrollDM:mstrmojo.emptyFn,refreshNode:mstrmojo.emptyFn,createDomNode:function f(){var AP=this._getClonedFragment()
	this.containerNode.appendChild(AP)
	O.call(this,this.lockType,this.getTableNode())
	},getID:function Y(){return this.id
	},getTableSize:function d(){var AQ=this.parent.zone.tableNode,AP=this.parent.hasCustomScrollbar?"offset":"client"
	return{width:AQ[AP+"Width"],height:AQ[AP+"Height"]}
	},isRendered:function I(){return !!this.domNode
	},getTableNode:function AM(){return this.isRendered()?this.domNode.firstChild.firstChild:null
	},destroy:function AD(AP){if(this.isRendered()){this.unrender(true)
	}this._super(AP)
	},unrender:function B(AP){this.domNode=null
	this.lastClipRect=null
	this._super&&this._super(AP)
	},insertPage:function AN(AR,AP,AQ,AS){if(this.isRendered()){M(this.getTableNode(),AR.cloneNode(true),AP,AQ)
	}},_getClipStr:function e(AP){this.lastClipRect=AP
	return"rect("+AP.top+"px, "+AP.right+"px, "+AP.bottom+"px, "+AP.left+"px)"
	},adjustClip:function h(AR){var AP=this._getClipRect&&this._getClipRect(AR)
	if(this.isRendered()){if(this.getTableNode().offsetHeight>this.domNode.offsetHeight){this.domNode.style.height=this.getTableNode().offsetHeight+"px"
	}if(AP&&!(this.lastClipRect&&AJ(AP,this.lastClipRect))){this.domNode.style.clip=this._getClipStr(AP)
	var AQ={}
	t(AQ,AP,this.getTableSize())
	j.copy(AQ,this.curtainNode.style)
	}}this.offset=AR
	}})
	mstrmojo.XtabClonedRowHeader=mstrmojo.declare(mstrmojo.XtabClonedNode,null,{scriptClass:"mstrmojo.XtabClonedRowHeader",lockType:A,interactiveCellsArray:[],interactivePosArray:[],dicGroupKey:[],init:function AK(AP){this._super(AP)
	if((this.lockHeadersCase&A)&&this.left){this.createDomNode()
	}},_getClipRect:function E(AQ){var AP=this.parent.hasCustomScrollbar?"offset":"client"
	AQ=AQ||this.offset
	return{top:0,right:AQ.x||0,bottom:this.toCloneNode[AP+"Height"],left:0}
	},_clearLocalData:function H(){this.interactiveCellsArray=[]
	this.interactivePosArray=[]
	this.dicGroupKey=[]
	},_getClonedFragment:function c(){var AV=document.createDocumentFragment(),AQ=this.toCloneNode.cloneNode(true),AU=document.createElement("div"),AW=j.clone(v),AP=j.clone(z),AT=this._getClipRect()
	AW.clip=this._getClipStr(AT)
	AW.zIndex=2
	if(this.parent.zone&&this.parent.zone.autoFitWindow){AW.width="100%"
	}AW.overflowY="hidden"
	AQ.id=this.getID()
	j.copy(AW,AQ.style)
	j.copy({top:-this.top+"px"},AQ.firstChild.style)
	this.domNode=AQ
	t(AP,AT,this.getTableSize())
	AP.zIndex=1
	j.copy(AP,AU.style)
	this.curtainNode=AU
	AV.appendChild(AQ)
	AV.appendChild(AU)
	var AS=this.parent.scrollboxNode,AX=mstrmojo.dom.isFF?"DOMMouseScroll":"wheel",AR=function(AY){var Ab=AS.scrollTop,AZ=Math.floor((AS.scrollHeight-AS.clientHeight)-Ab),Aa=Math.max(-1,Math.min(1,(AY.wheelDelta||-AY.detail||-AY.deltaY)))*60
	if(Ab===0&&Aa>0){return 
	}else{if(Aa<0&&AZ===0){return 
	}}AY.preventDefault()
	AY.stopPropagation()
	AS.scrollTop-=Aa
	}
	AQ.addEventListener(AX,AR,false)
	return AV
	},scrollDM:function l(AQ,AW,AY){var AR=this.parent.shouldClipLockableXtab,AS
	if(this.lockHeadersCase&A){if(!this.isRendered()){this.top=AW
	this.createDomNode()
	this.domNode.style.width="100%"
	this.domNode.style.height="100%"
	var AV=this
	setTimeout(function(){AV._updateDICGroup()
	if(AV.parent){AV.parent.updateSelectionsForCopy(AV.getTableNode())
	}},10)
	}else{var AX=this.domNode.firstChild,AP=AX.style
	AP.top=-AW+"px"
	this.top=AW
	if(AR){if(AP.position!=="absolute"){AP.position="absolute"
	AP.width="100%"
	}if(this.lockHeadersCase&AG){AS={top:this.offset.y+AW,right:this.offset.x,bottom:AX.offsetHeight,left:0}
	AP.clip=this._getClipStr(AS)
	}}}if(AR&&this.isRendered()){var Aa=this.getTableNode()
	AS={top:0,right:Math.max(Aa.offsetWidth,AY.offsetWidth),bottom:Math.max(Aa.offsetHeight,AY.offsetHeight),left:this.offset.x+AQ}
	var AU=AY.style,AT=AY.parentNode,AZ=AT.style
	if(AU.position!=="absolute"){if(isNaN(parseInt(AZ.width,10))){AZ.width=AT.offsetWidth+"px"
	}if(isNaN(parseInt(AZ.height,10))){AZ.height=AT.offsetHeight+"px"
	}AU.position="absolute"
	AU.width="100%"
	if(isNaN(parseInt(AZ.width,10))){AZ.width=AS.right+"px"
	}}AU.clip=this._getClipStr(AS)
	}}},_updateDICGroup:function o(){var AP=this.parent
	if(this.interactivePosArray.length&&this.interactiveCellsArray.length){AP.destroyDICGroup(this.dicGroupKey)
	AP.configureCellsAction(this.interactiveCellsArray,0,this.interactivePosArray,true)
	}this._clearLocalData()
	},addTempDICInfo:function AI(AP,AQ){if(!this.isRendered()){this.interactiveCellsArray.push(AP)
	this.interactivePosArray.push(AQ)
	}},addGroupKey:function AL(AP){if(!this.isRendered()){this.dicGroupKey.push(AP)
	}},onCellUpdated:function AB(AU,AR){if(this.isRendered()){var AP=this.getTableNode(),AQ=AP&&AP.tBodies[AU.page||0],AS=AQ&&AQ.rows[AU.row],AT=AS&&AS.cells[AU.cell]
	if(AT&&AR!==AT){AS.replaceChild(AR.cloneNode(true),AT)
	}}},unrender:function B(AP){this._clearLocalData()
	this._super&&this._super(AP)
	}})
	mstrmojo.XtabClonedColHeader=mstrmojo.declare(mstrmojo.XtabClonedNode,null,{scriptClass:"mstrmojo.XtabClonedColHeader",lockType:AG,init:function AK(AP){this._super(AP)
	if(this.lockHeadersCase&AG){this.createDomNode()
	}},_getClipRect:function E(AQ){var AP=this.parent.hasCustomScrollbar?"offset":"client"
	AQ=AQ||this.offset
	return{top:0,right:this.toCloneNode[AP+"Width"],bottom:AQ.y||0,left:0}
	},_getClonedFragment:function c(){var AP=document.createDocumentFragment(),AT=this.toCloneNode.cloneNode(true),AS=document.createElement("div"),AR=j.clone(v),AU=j.clone(z),AQ=this._getClipRect()
	AR.clip=this._getClipStr(AQ)
	AR.zIndex=4
	if(this.parent.zone&&this.parent.zone.autoFitWindow){AR.width="100%"
	}AT.id=this.getID()
	j.copy(AR,AT.style)
	j.copy({left:-this.left+"px"},AT.firstChild.style)
	this.domNode=AT
	t(AU,AQ,this.getTableSize())
	AU.zIndex=3
	j.copy(AU,AS.style)
	this.curtainNode=AS
	AP.appendChild(AT)
	AP.appendChild(AS)
	return AP
	},scrollDM:function l(AQ,AV,AX){var AR=this.parent.shouldClipLockableXtab,AS
	if(this.lockHeadersCase&AG){if(!this.isRendered()){this.left=AQ
	this.createDomNode()
	this.domNode.style.width="100%"
	this.domNode.style.height="100%"
	}else{var AZ=this.getTableNode()
	var AW=this.domNode.firstChild,AP=AW.style
	this.domNode.style.width="100%"
	this.domNode.style.height="100%"
	AP.left=-AQ+"px"
	this.left=AQ
	if(AR){if(AP.position!=="absolute"){AP.position="absolute"
	AP.width="100%"
	}if(this.lockHeadersCase&A){AS=this._getClipRect()
	AS.left=AQ+this.offset.x
	AS.right=Math.max(AW.offsetWidth,AZ.offsetWidth)
	AP.clip=this._getClipStr(AS)
	}}}if(AR){var AU=AX.style,AT=AX.parentNode,AY=AT.style
	AS={top:this.offset.y+AT.scrollTop,right:Math.max(AZ.offsetWidth,AX.offsetWidth),bottom:Math.max(AZ.offsetHeight,AX.offsetHeight,AT.clientHeight),left:0}
	if(this.lockHeadersCase&A){AS.left=this.offset.x+AQ
	}if(AU.position!=="absolute"){if(isNaN(parseInt(AY.width,10))){AY.width=AT.offsetWidth+"px"
	}if(isNaN(parseInt(AY.height,10))){AY.height=AT.offsetHeight+"px"
	}AU.position="absolute"
	AU.width="100%"
	if(isNaN(parseInt(AY.width,10))){AY.width=AZ.offsetWidth+"px"
	}}AU.clip=this._getClipStr(AS)
	}}},insertPage:P,refreshNode:AA,onCellUpdated:S,unrender:function B(AP){this._super(AP)
	this.fragment=null
	this.renderedPages=null
	}})
	mstrmojo.XtabClonedTitle=mstrmojo.declare(mstrmojo.XtabClonedNode,null,{scriptClass:"mstrmojo.XtabClonedTitle",_getClipRect:function E(AP){AP=AP||this.offset
	return{top:0,right:AP.x||0,bottom:AP.y||0,left:0}
	},init:function AK(AP){this._super(AP)
	if(this.lockHeadersCase===K&&this.left){this.createDomNode()
	}},_getClonedFragment:function c(){var AP=document.createDocumentFragment(),AT=this.toCloneNode.cloneNode(true),AS=document.createElement("div"),AR=j.clone(v),AU=j.copy(z),AQ=this._getClipRect()
	AR.clip=this._getClipStr(AQ)
	AR.zIndex=6
	if(this.parent.zone&&this.parent.zone.autoFitWindow){AR.width="100%"
	}j.copy(AR,AT.style)
	AT.firstChild.style.left=0
	AT.id=this.getID()
	this.domNode=AT
	t(AU,AQ,this.getTableSize())
	AU.zIndex=5
	j.copy(AU,AS.style)
	this.curtainNode=AS
	AP.appendChild(AT)
	AP.appendChild(AS)
	return AP
	},scrollDM:function l(AS,AR,AQ){if(this.lockHeadersCase===K&&!this.isRendered()){this.createDomNode()
	this.domNode.style.width="100%"
	this.domNode.style.height="100%"
	}if(this.parent.shouldClipLockableXtab&&this.isRendered()){var AP=this.domNode.firstChild.style
	if(AP.position!=="absolute"){AP.position="absolute"
	AP.width="100%"
	}AP.clip=this._getClipStr(this._getClipRect())
	}},insertPage:P,refreshNode:AA,onCellUpdated:S,unrender:function B(AP){this._super(AP)
	this.fragment=null
	this.renderedPages=null
	}})
	mstrmojo._IsLockableXtab={_mixinName:"mstrmojo._IsLockableXtab",initLock:function AF(AX){var AT=W.call(this),AW=this.scrollboxNode
	if(this.lockHeadersCase&&AW&&AT){var AV=document.createElement("div"),AP=j.copy(AX,{containerNode:AV,toCloneNode:AW,offset:AT,lockHeadersCase:this.lockHeadersCase,parent:this})
	if(!this.xtabClonedNodes){this.xtabClonedNodes=[]
	}if(this.lockHeadersCase&A){if(!this.clonedRowHeader){this.clonedRowHeader=this.addDisposable(new mstrmojo.XtabClonedRowHeader(AP))
	this.xtabClonedNodes.push(this.clonedRowHeader)
	}}if(this.lockHeadersCase&AG){if(!this.clonedColHeader){this.clonedColHeader=this.addDisposable(new mstrmojo.XtabClonedColHeader(AP))
	this.xtabClonedNodes.push(this.clonedColHeader)
	}}if(this.lockHeadersCase===K){if(!this.clonedTitle){var AR=this.clonedColHeader,AU=AR.domNode,AQ=AR.fragment
	AP.toCloneNode=AU||AP.toCloneNode
	AP.fragment=AQ&&AQ.cloneNode()
	this.clonedTitle=this.addDisposable(new mstrmojo.XtabClonedTitle(AP))
	this.xtabClonedNodes.push(this.clonedTitle)
	}}var AS=this.hasCustomScrollbar?"offset":"client",AZ=(n.isChrome&&!this.hasCustomScrollbar&&window.devicePixelRatio!==1&&this.gridData.afw)?0.5:0,AY={top:0,left:0,position:"absolute",overflow:"hidden",width:AW[AS+"Width"]+AZ+"px",height:AW[AS+"Height"]+"px"}
	j.copy(AY,AV.style)
	this.tableContainerNode.appendChild(AV)
	this.lockFragment=AV
	w.call(this)
	}},getColClonedZone:function G(){return this.clonedColHeader&&this.clonedColHeader.domNode.firstChild
	},createZone:function u(AP){return new mstrmojo.XtabZoneWithClonedCover(AP||{})
	},getStickedTableNodes:function a(){var AQ=this.xtabClonedNodes,AR=[]
	if(AQ instanceof Array){for(var AP in AQ){var AS=AQ[AP]
	if(AS.isRendered()){AR.push(AS.getTableNode())
	}}}return AR
	},_adjustClipSize:function m(){if(this.lockHeadersCase){var AR=this.xtabClonedNodes
	if(AR&&AR.length){var AS=W.call(this),AQ=(n.isChrome&&!this.hasCustomScrollbar&&window.devicePixelRatio!==1&&this.gridData.afw)?0.5:0
	this.lockFragment.style.width=(this.hasCustomScrollbar?parseInt(this.scrollboxNode.style.width,10):this.scrollboxNode.clientWidth)+AQ+"px"
	this.lockFragment.style.height=this.scrollboxNode.clientHeight+"px"
	for(var AP in AR){AR[AP].adjustClip(AS)
	}}}},getValueCellOffset:function U(){return W.call(this)
	},_refreshClonedNodes:function Z(){var AS=this.xtabClonedNodes,AY=this.scrollboxNode.firstChild.firstChild,AP=this.titlesCP.getSpanDimension().nRow,AX=AY&&(AY.rows[AP]||AY.rows[0]),AW=AX&&AX.cells,AQ=AW&&AW.length,AT=[],AV=!this.lastCellsRBOffsetLeft,AU
	for(AU=0
	AU<AQ
	++AU){var AR=AW[AU].offsetWidth
	AT.push(AR)
	if(!AV){AV=(this.lastCellsRBOffsetLeft[AU]!=AR)
	}}this.lastCellsRBOffsetLeft=AT
	if(AV){for(AU in AS){AS[AU].refreshNode()
	}this._adjustClipSize()
	this.alignLockNodes(this.scrollboxLeft,this.scrollboxTop)
	}else{this._adjustClipSize()
	}},alignLockNodes:function AE(AS,AR){var AQ=this.xtabClonedNodes
	if(AQ&&AQ.length){for(var AP in AQ){AQ[AP].scrollDM(AS,AR,this.scrollboxNode.firstChild)
	}w.call(this)
	}},isAutoTableLayout:function AH(){return this.zone.isAutoTableLayout()
	},onPageRendered:function Q(AS,AP,AQ,AU){this._super&&this._super(AS,AP,AQ,AU)
	if(AQ&&AP===0){J(this)
	}var AR=this.xtabClonedNodes
	if(AR&&AR.length){for(var AT in AR){AR[AT].insertPage(AS,AP,AQ,AU)
	}}},resetColgroupNodes:function r(AS){var AQ=this.xtabClonedNodes,AP,AR
	if(AQ&&AQ.length){for(AP in AQ){AR=AQ[AP].getTableNode()
	if(AR&&AR.firstChild&&AR.firstChild.tagName==="COLGROUP"){AR.replaceChild(AS.cloneNode(true),AR.firstChild)
	}}}},gridPagesRendered:function k(){this._super&&this._super()
	if(!this.lockHeadersCase){return 
	}if(!this.xtabClonedNodes){this.initLock()
	}else{if(this.isAutoTableLayout()){this._refreshClonedNodes()
	}}},onCellUpdated:function AB(AP,AS){var AT=this.zone,AU=AT.posMap[AP._ei],AQ=AT.tableNode.tBodies[AU.page||0],AR=this.xtabClonedNodes
	L(AU,AQ,AS)
	for(idx in AR){AR[idx].onCellUpdated(AU,AS)
	}if(this.isAutoTableLayout()){this._refreshClonedNodes()
	}},unrender:function B(AR){var AQ=this.xtabClonedNodes,AP
	if(AQ&&AQ.length){for(AP in AQ){AQ[AP].unrender(true)
	}}this.zones=null
	J(this)
	this.lockFragment=null
	this.xtabClonedNodes=null
	this.clonedColHeader=null
	this.clonedRowHeader=null
	this.clonedTitle=null
	this.lastCellsRBOffsetLeft=null
	this._super(AR)
	}}
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.array","mstrmojo.string","mstrmojo.gm.GMEnums","mstrmojo.gm.GMUtility","mstrmojo.chart.enums.EnumFontStyle","mstrmojo.vi.enums.EnumThemeProperties","mstrmojo.vi.viz.EnumVisualizationTemplates")
	var AK=mstrmojo.gm,x=mstrmojo.array,Y=mstrmojo.hash,E=mstrmojo.css,K=AK.GMUtility,H=mstrmojo.chart.enums.EnumFontStyle,u=AK.WidgetPropertyTag,X=AK.FormatingPropertyTag,e=AK.ShapeFillType,AG=mstrmojo.vi.viz.EnumVisualizationTemplates,C=AK.EnumContainerFitModes,g=AK.EnumFitTo,L=AK.EnumAxisScale,P=AK.EnumShape,AH=AK.EnumSubtype,O=AK.EnumDataLabels,AQ=AK.EnumDataLabelPlacements,n=AK.EnumLabelRotation,Z=AK.EnumLegend,B=AK.EnumLegendMode,j=AK.EnumTextAlignH,z=AK.EnumTextAlignV,o=AK.EnumMaxSizeType,k=AK.EnumMinSizeType,AI=AK.EnumAxes,AP=AK.EnumMatrixLines,AC=AK.EnumGridLines,G=AK.EnumLegendSlot,t=AK.EnumGraphType,I=mstrmojo.vi.enums.EnumThemeProperties.ENUM_LAYOUT_THEME
	var q={Content:1,Window:2,Compact:3,Manual:4},AT={Global:0,PerRC:1,Local:2,Custom:3,Different:4},w={Area:0,Bar:1,Line:2,Circle:4,Square:6,Tick:7,Pie:10,Ring:11},AS={Automatic:1,Absolute:2,Stacked:3,Clustered:4,Percent:5},AF={Hide:1,"Show only values":2,"Show only text":4,"Show both text value":6,"Show only percent":8,"Show both value percent":10,"Show both text percent":12,"Show text value percent":14},R={Automatic:1,Generic:2,Reserved:3},AD={Automatic:1,Manual:2,"Auto fit":3},AB={Automatic:1,Manual:2,Proportional:3},r={"Show Both":1,"Show None":2,"Show Only X":3,"Show Only Y":4},W={"Show All":1,"Show None":2,"Show Only Horizontal":3,"Show Only Vertical":4},M={Automatic:1,Show:2,Hide:3}
	var AJ=[null,"Content","Window","Compact"],p=["Global","PerRC","Local","Custom","Different"],d=["Area","Bar","Line","StepLine","Circle","Rectangle","Square","Tick","PieSlice","Polygon","Pie","Ring"],U=[null,"Automatic","Absolute","Stacked","Clustered","Percent"],a=[null,"Hide","Show only values",null,"Show only text",null,"Show both text value",null,"Show only percent",null,"Show both value percent",null,"Show both text percent",null,"Show text value percent"],AN=[null,"Automatic","Generic","Reserved"],AM=[null,"Automatic","Manual","Auto fit"],AE=[null,"Automatic","Manual","Proportional"],A=[null,"Show Both","Show None","Show Only X","Show Only Y"],AR=[null,"Show All","Show None","Show Only Horizontal","Show Only Vertical"],m=[null,"Automatic","Show","Hide"]
	var S={allAxLnShw:"xAxLnShw:yAxLnShw",allAxLnClr:"xAxLnClr:yAxLnClr",allAxLnStyle:"xAxLnStyle:yAxLnStyle",allAxLnCmbStyle:"xAxLnCmbStyle:yAxLnCmbStyle",allAxLnThk:"xAxLnThk:yAxLnThk",allAxTtShw:"xAxTtShw:yAxTtShw",allAxTtCtt:"xAxTtCtt:yAxTtCtt",allAxTtFntClr:"xAxTtFntClr:yAxTtFntClr",allAxTtFntFml:"xAxTtFntFml:yAxTtFntFml",allAxTtFntStyle:"xAxTtFntStyle:yAxTtFntStyle",allAxTtFntSz:"xAxTtFntSz:yAxTtFntSz",allAxLbFntClr:"xAxLbFntClr:yAxLbFntClr",allAxLbFntSz:"xAxLbFntSz:yAxLbFntSz",allAxLbFntFml:"xAxLbFntFml:yAxLbFntFml",allAxLbFntStyle:"xAxLbFntStyle:yAxLbFntStyle",allAxLbRtt:"xAxLbRtt:yAxLbRtt",allAxLbShw:"xAxLbShw:yAxLbShw",allMatrixLnShw:"vMatrixLnShw:hMatrixLnShw",allMatrixLnClr:"vMatrixLnClr:hMatrixLnClr",allMatrixLnThk:"vMatrixLnThk:hMatrixLnThk",allMatrixLnStyle:"vMatrixLnStyle:hMatrixLnStyle",allMatrixLnCmbStyle:"vMatrixLnCmbStyle:hMatrixLnCmbStyle",allNGMGridLnShw:"xGridLnShw:yGridLnShw",allGridLnShw:"majorGridLnShw:minerGridLnShw",allGridLnClr:"majorGridLnClr:minerGridLnClr",allGridLnThk:"majorGridLnThk:minerGridLnThk",allGridLnStyle:"majorGridLnStyle:minerGridLnStyle",allGridLnCmbStyle:"majorGridLnCmbStyle:minerGridLnCmbStyle",allRwColShw:"rwHdrShw:colHdrShw:rwVlShw:colVlShw",allLnShw:"xAxLnShw:yAxLnShw:xAxOriLnShw:yAxOriLnShw",allLnClr:"xAxLnClr:yAxLnClr:xAxOriLnClr:yAxOriLnClr",allLnStyle:"xAxLnStyle:yAxLnStyle:xAxOriLnStyle:yAxOriLnStyle",allLnCmbStyle:"xAxLnCmbStyle:yAxLnCmbStyle:xAxOriLnCmbStyle:yAxOriLnCmbStyle",allLnThk:"xAxLnThk:yAxLnThk:xAxOriLnThk:yAxOriLnThk",allTxtFntClr:"rwHdrTxtFntClr:colHdrTxtFntClr:rwVlTxtFntClr:colVlTxtFntClr:lgdFntClr:dlFntClr:rfLnFntClr:xAxTtFntClr:xAxLbFntClr:yAxTtFntClr:yAxLbFntClr",allTxtFntSz:"rwHdrTxtFntSz:colHdrTxtFntSz:rwVlTxtFntSz:colVlTxtFntSz:lgdFntSz:dlFntSz:rfLnFntSz:xAxTtFntSz:xAxLbFntSz:yAxTtFntSz:yAxLbFntSz",allTxtFntFml:"rwHdrTxtFntFml:colHdrTxtFntFml:rwVlTxtFntFml:colVlTxtFntFml:lgdFntFml:dlFntFml:rfLnFntFml:xAxTtFntFml:xAxLbFntFml:yAxTtFntFml:yAxLbFntFml",allTxtFntStyle:"rwHdrTxtFntStyle:colHdrTxtFntStyle:rwVlTxtFntStyle:colVlTxtFntStyle:lgdFntStyle:dlFntStyle:rfLnFntStyle:xAxTtFntStyle:xAxLbFntStyle:yAxTtFntStyle:yAxLbFntStyle",allRwColTxtFntClr:"rwHdrTxtFntClr:colHdrTxtFntClr:rwVlTxtFntClr:colVlTxtFntClr",allRwColTxtFntSz:"rwHdrTxtFntSz:colHdrTxtFntSz:rwVlTxtFntSz:colVlTxtFntSz",allRwColTxtFntFml:"rwHdrTxtFntFml:colHdrTxtFntFml:rwVlTxtFntFml:colVlTxtFntFml",allRwColTxtFntStyle:"rwHdrTxtFntStyle:colHdrTxtFntStyle:rwVlTxtFntStyle:colVlTxtFntStyle",allRwColTxtAlignH:"rwHdrTxtAlignH:colHdrTxtAlignH:rwVlTxtAlignH:colVlTxtAlignH",allRwColTxtAlignV:"rwHdrTxtAlignV:colHdrTxtAlignV:rwVlTxtAlignV:colVlTxtAlignV",outBdrShw:"OutSideBorder",allFillClr:"bgFillClr:rwHdrFillClr:colHdrFillClr",allFillTrans:"bgFillTrans:rwHdrFillTrans:colHdrFillTrans",colTxtShw:"colHdrShw:colVlShw",rwTxtShw:"rwHdrShw:rwVlShw",rwTxtTxtFntClr:"rwHdrTxtFntClr:rwVlTxtFntClr",rwTxtTxtFntSz:"rwHdrTxtFntSz:rwVlTxtFntSz",rwTxtTxtFntFml:"rwHdrTxtFntFml:rwVlTxtFntFml",rwTxtTxtFntStyle:"rwHdrTxtFntStyle:rwVlTxtFntStyle",rwTxtTxtAlignH:"rwHdrTxtAlignH:rwVlTxtAlignH",rwTxtTxtAlignV:"rwHdrTxtAlignV:rwVlTxtAlignV",colTxtTxtFntClr:"colHdrTxtFntClr:colVlTxtFntClr",colTxtTxtFntSz:"colHdrTxtFntSz:colVlTxtFntSz",colTxtTxtFntFml:"colHdrTxtFntFml:colVlTxtFntFml",colTxtTxtFntStyle:"colHdrTxtFntStyle:colVlTxtFntStyle",colTxtTxtAlignH:"colHdrTxtAlignH:colVlTxtAlignH",colTxtTxtAlignV:"colHdrTxtAlignV:colVlTxtAlignV",axOriLnShw:"xAxOriLnShw:yAxOriLnShw",axOriLnClr:"xAxOriLnClr:yAxOriLnClr",axOriLnStyle:"xAxOriLnStyle:yAxOriLnStyle",axOriLnCmbStyle:"xAxOriLnCmbStyle:yAxOriLnCmbStyle",axOriLnThk:"xAxOriLnThk:yAxOriLnThk",autoGridLnClr:"majorGridLnClr",autoGridLnCmbStyle:"majorGridLnCmbStyle",autoGridLnThk:"majorGridLnThk",autoGridLnStyle:"majorGridLnStyle"}
	var D={metricShapes:1,mtcLvlDataLabel:1,axisOrigin:1,AxisScale:1,fmtOnComb:1,yr:1,xr:1,y2r:1,x2r:1,rvr:1,chr:1,groupInfo:1}
	var AO=/[{}\[\],"'_:
	\s]/i
	var AA="@pLd"
	var J=/@pLd/g
	function l(AU){var AV=new window.DOMParser()
	return AV.parseFromString(AU,"text/xml")
	}function AL(){var AU=this.xmlData,AV=this.xmlDoc
	if(!AV&&AU){this.xmlDoc=AV=l(AU)
	}return AV
	}function c(AV,AU){if(!D[AV]){return AU
	}return AU.replace(J,"")
	}function h(AZ,AU){if(!D[AZ]){return AU
	}var Aa="",AY=0,AX,AW,AV,Ab=this.templateObjectMapping
	if(!AU||AU.length===0){return AU
	}AX=AU.search(AO)
	while(AX!==-1){if(AX!==AY){AW=AU.substring(AY,AX)
	if(AW.length===32){AV=Ab[AW]
	if(AV!==undefined){Aa+=AA+AW
	}}else{Aa+=AW
	}}Aa+=AU[AX]
	AU=AU.substring(AX+1)
	AX=AU.search(AO)
	}Aa+=AU
	return Aa
	}function Q(AV){var AU=new XMLSerializer()
	return AU.serializeToString(AV)
	}function F(AV,AX){var AU,AW="",AY=AX.length
	for(AU=0
	AU<AY
	AU++){if(AU!==0){AW+=","
	}AW+=AV[AU]+":"+AX[AU]
	}return AW
	}function N(AY){AY=AY||""
	var AW,AV,AU=AY.split(","),AZ=AU.length,AX={}
	for(AW=0
	AW<AZ
	AW++){AV=AU[AW].split(":")
	if(AV.length===2){AX[AV[0]]=parseFloat(AV[1])
	}}return AX
	}function b(AW){AW=AW||""
	var AU=AW.split(":"),AV={}
	if(AU.length===2){AV[AU[0]]=parseFloat(AU[1])||1
	}return AV
	}function v(AV){AV=AV||""
	var AU=AV.split(",")
	return{first:parseInt(AU[0],10),second:parseInt(AU[1],10)}
	}mstrmojo.gm.GMProperty=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.gm.GMProperty",scales:null,generalProps:null,xmlDoc:null,xmlData:null,xmlDirty:false,jsonData:null,controller:null,rhIds:null,chIds:null,yIds:null,xIds:null,y2Ids:null,x2Ids:null,templateObjectMapping:null,isItemCached:null,readItemCache:null,init:function(AU){if(this._super){this._super(AU)
	}this.resetScales()
	this.resetGeneralProps()
	this.rhIds=[]
	this.chIds=[]
	if(!mstrmojo.gm.GMProperty.propertyMap){this.generatePropertyMap()
	}this.isItemCached={}
	this.readItemCache={}
	this.gm="OGM"
	},generatePropertyMap:function(){var AV,AX=mstrmojo.gm.GMProperty.propertyMap={}
	function AU(AY,AZ){if(!AX[AY]){AX[AY]=[AZ]
	}else{if(AX[AY].indexOf(AZ)<0){AX[AY].push(AZ)
	}}}function AW(AY){return function(AZ){AU(AZ,AY)
	}
	}for(AV in S){if(S.hasOwnProperty(AV)){AX[AV]=S[AV].split(":")
	x.forEach(AX[AV],AW(AV))
	}}},updateDefaults:function(AY,AV){var AU=AV[X.MODIFIED_DEF_FILL_COLOR],AW
	if(AU){if(AU==="transparent"){AW=AU
	}else{if(AU==="default"){AW=undefined
	}else{if(!isNaN(AU)){AW=parseInt(AV[X.MODIFIED_DEF_FILL_COLOR],10)
	}else{try{AW=JSON.parse(AU.replace(/'/g,'"'))
	}catch(AX){AW=undefined
	}}}}}if(AW!==undefined){AY[X.SHAPE_FILL_COLOR]=AW
	AY[X.SHAPE_FILL_COLOR_DEFAULT]=false
	}else{AY[X.SHAPE_FILL_COLOR_DEFAULT]=true
	}this.defaultsObj=Y.clone(AY)
	},updateDefaultProp:function(AU,AV){if(this.defaultsObj&&this.defaultsObj[AU]!==AV){this.defaultsObj[AU]=AV
	}},updateDataLabelValue:function(AU){if(AU&&(AU[u.DATA_LABEL]===3||AU[u.DATA_LABEL]===4)){AU[u.DATA_LABEL]=O.SHOW_TEXT_ONLY
	}},resetScales:function(){this.scales={rh:[],ch:[],y:1,y2:1,x:1,x2:1,lgd:1,ctw:1,cth:1}
	},updateChartProps:function(AY){var AZ=this,AX=this.jsonData,AW,AU=AZ.host&&AZ.host.supportFeature("ftFgGrpA","DataLabelMultiInfo")
	AW=mstrApp.getThemeProps(this.gm)
	AW=Y.mergeHashes(AW.GENERAL_PROPS.ALL,AW.GENERAL_PROPS[AY])
	Y.keyarray(AW).forEach(function(Aa){if(AU&&Aa==="dataLabels"&&AY===t.PIE){return 
	}AZ.generalProps[Aa]=AW[Aa]
	})
	var AV={legendShow:u.LEGEND_VISIBLE,FitTo:u.FIT_TO,cntrFitMode:X.CONTAINER_FIT_MODE,dataLabels:u.DATA_LABEL}
	Y.keyarray(AV).forEach(function(Aa){if(AX[AV[Aa]]){AZ.initItem(AV[Aa])
	}})
	},resetGeneralProps:function(){var AU={}
	AU.fitTo=g.NONE
	AU.axisScale=L.GLOBAL
	AU.shape=P.LINE
	AU.subtype=AH.AUTO
	AU.dataLabels=O.HIDE
	AU.dataLabelPlacements=AQ.AUTOMATIC
	AU.dataLabelRotate=n.AUTOMATIC
	AU.banding=true
	AU.legend=Z.SHOW
	AU.legendMode=B.RESTORED
	AU.legendShow=true
	AU.colAlign=j.CENTER
	AU.rowAlignH=j.CENTER
	AU.rowAlignV=z.CENTER
	AU.maxSizeType=o.AUTO
	AU.minSizeType=k.AUTO
	AU.maxSizeValue=0.9
	AU.minSizeValue=0.2
	AU.outBorder=true
	AU.axes=AI.SHOW_BOTH
	AU.matrixLine=AP.SHOW_ALL
	AU.gridLine=AC.AUTO
	AU.legendSlot=G.RIGHT_MIDDLE
	this.generalProps=AU
	},getXMLString:function(){return this.xmlData
	},isXMLDirty:function(){return this.xmlDirty
	},resetXMLDirtyFlag:function(){this.xmlDirty=false
	},initFromXML:function(AX){if(AX){if(this.xmlData&&this.xmlData!==AX){this.xmlDoc=null
	}this.xmlData=AX
	}var AV,AY,AU=[u.FIT_TO,u.AXIS_SCALE,u.SHAPE,u.SUB_TYPE,u.DATA_LABEL,u.DATA_LABELS_PLACEMENT,u.BANDING,u.LEGEND_VISIBLE,u.DATA_LABELS_ROTATE,u.COL_ALIGNMENT,u.ROW_ALIGNMENT,u.MAX_SIZE_TYPE,u.MAX_SIZE_VALUE,u.MIN_SIZE_TYPE,u.MIN_SIZE_VALUE,u.SELECTION_TYPE,u.SELECTIONS,u.OUTSIDE_BORDER,u.AXES,u.MATRIX_LINES,u.GRID_LINES,u.LEGEND_MODE,u.LEGEND_POSITION,u.SCALE_LEGEND_WIDTH,u.SCALE_CHART_WIDTH,u.SCALE_CHART_HEIGHT,u.METRIC_SHAPES,u.AXIS_ORIGIN,u.LOG_SCALE,u.TREND_LINE_DEF,u.TREND_BUBBLE_FORE_DEF,u.REF_LINE_DEF,X.FORMATS_ON_COMBINATION,X.ALL_SHAPE_FORMAT,X.V_MATRIX_LINES_SHOW,X.V_MATRIX_LINES_COLOR,X.V_MATRIX_LINES_THICKNESS,X.V_MATRIX_LINES_STYLE,X.H_MATRIX_LINES_SHOW,X.H_MATRIX_LINES_COLOR,X.H_MATRIX_LINES_THICKNESS,X.H_MATRIX_LINES_STYLE]
	for(AV=0,AY=AU.length
	AV<AY
	AV++){this.initItem(AU[AV])
	}var AW=this.generalProps
	if(AW.legendShow){AW.legend=(AW.legendMode===B.MINIMIZED)?Z.MINIMIZED:Z.SHOW
	}else{AW.legend=Z.HIDE
	}},reInitItem:function(AX,AV){var AU=this.generalProps
	var AW=this.hGetPropValue(AX)
	switch(AX){case u.FIT_TO:AU.fitTo=q[AW]||AV
	break
	case X.CONTAINER_FIT_MODE:AU[X.CONTAINER_FIT_MODE]=AW===undefined?AV:AW
	break
	default:break
	}},initItem:function(Ad){var Al,Ah,Ab,Aa,Ak,Aj,Ac,AW,An,AZ,Ao,AU,Ag,AX,Am=this.rhIds,Ae=this.chIds,Af=this.controller,AY=this.scales,AV=this.generalProps,Ai
	Ai=this.hGetPropValue(Ad)
	switch(Ad){case X.CONTAINER_FIT_MODE:AV.cntrFitMode=Ai||C.AUTOMATIC
	break
	case u.FIT_TO:AV.fitTo=q[Ai]||g.AUTOMATIC
	break
	case u.AXIS_SCALE:AV.axisScale=AT[Ai]||L.GLOBAL
	break
	case u.SHAPE:Ab=w[Ai]
	AV.shape=isNaN(Ab)?P.LINE:Ab
	break
	case u.METRIC_SHAPES:case u.METRIC_LEVEL_DATA_LABEL:case u.AXIS_ORIGIN:case u.LOG_SCALE:case u.TREND_LINE_DEF:case u.TREND_BUBBLE_FORE_DEF:case u.REF_LINE_DEF:case u.FORMATS_ON_COMBINATION:case X.ALL_SHAPE_FORMAT:AV[Ad]=K.stringToJSON(Ai)
	break
	case u.SUB_TYPE:AV.subtype=AS[Ai]||AH.AUTO
	break
	case u.DATA_LABEL:if(this.host&&this.host.supportFeature("ftFgGrpA","DataLabelMultiInfo")&&Ai===undefined){Ai="Show both text percent"
	}AV.dataLabels=AF[Ai]
	break
	case u.DATA_LABELS_PLACEMENT:AV.dataLabelPlacements=R[Ai]
	break
	case u.DATA_LABELS_ROTATE:AV.dataLabelRotate=Ai===undefined?n.AUTOMATIC:Number(Ai)
	break
	case u.BANDING:AV.banding=Ai==="true"
	break
	case u.LEGEND_VISIBLE:if(this.host&&this.host.supportFeature("ftFgGrpA","HideGMLegendByDefault")){AV.legendShow=Ai===undefined?false:Ai!=="Hide"
	}else{AV.legendShow=Ai!=="Hide"
	}break
	case u.COL_ALIGNMENT:if(Ai!==undefined){Ab=parseInt(Ai,10)
	if(!isNaN(Ab)&&Ab>=0&&Ab<=2){this.updateItem(X.COLUMN_HEADER_TEXT_ALIGNMENT_HORIZONTAL,Ab)
	this.updateItem(X.COLUMN_VAVLUE_TEXT_ALIGNMENT_HORIZONTAL,Ab)
	}}break
	case u.ROW_ALIGNMENT:if(Ai!==undefined){Ab=v(Ai).first
	if(!isNaN(Ab)&&Ab>=0&&Ab<=2){this.updateItem(X.ROW_HEADER_TEXT_ALIGNMENT_HORIZONTAL,Ab)
	this.updateItem(X.ROW_VAVLUE_TEXT_ALIGNMENT_HORIZONTAL,Ab)
	}Ab=v(Ai).second
	if(!isNaN(Ab)&&Ab>=0&&Ab<=2){this.updateItem(X.ROW_HEADER_TEXT_ALIGNMENT_VERTICAL,Ab)
	this.updateItem(X.ROW_VAVLUE_TEXT_ALIGNMENT_VERTICAL,Ab)
	}}break
	case u.MAX_SIZE_TYPE:AV.maxSizeType=AD[Ai]||o.AUTO
	break
	case u.MAX_SIZE_VALUE:Ab=parseFloat(Ai)
	AV.maxSizeValue=isNaN(Ab)?0.9:Ab
	break
	case u.MIN_SIZE_TYPE:AV.minSizeType=AB[Ai]||(mstrApp.getThemeProps("THEME_STYLE")===I.DEFAULT?k.AUTO:k.PROPORTIONAL)
	break
	case u.MIN_SIZE_VALUE:Ab=parseFloat(Ai)
	AV.minSizeValue=isNaN(Ab)?0.2:Ab
	break
	case u.OUTSIDE_BORDER:AV.outBorder=Ai!=="Hide"
	break
	case u.AXES:if(Ai!==undefined){AV.axes=r[Ai]||AI.SHOW_BOTH
	if(AV.axes===AI.SHOW_BOTH){Ak=Aj=true
	}else{if(AV.axes===AI.SHOW_X){Ak=true
	Aj=false
	}else{if(AV.axes===AI.SHOW_Y){Ak=false
	Aj=true
	}else{Ak=Aj=false
	}}}this.updateItem(X.X_AXIS_LINE_SHOW,Ak)
	this.updateItem(X.Y_AXIS_LINE_SHOW,Aj)
	}break
	case u.MATRIX_LINES:if(Ai!==undefined){AV.matrixLine=W[Ai]||AP.SHOW_ALL
	if(AV.matrixLine===AP.SHOW_ALL){Ak=Aj=true
	}else{if(AV.matrixLine===AP.SHOW_HORIZONTAL){Ak=false
	Aj=true
	}else{if(AV.matrixLine===AP.SHOW_VERTICAL){Ak=true
	Aj=false
	}else{Ak=Aj=false
	}}}this.updateItem(X.V_MATRIX_LINES_SHOW,Ak)
	this.updateItem(X.H_MATRIX_LINES_SHOW,Aj)
	}break
	case u.GRID_LINES:AV.gridLine=M[Ai]||AC.AUTO
	break
	case u.LEGEND_MODE:AV.legendMode=parseInt(Ai,10)
	break
	case u.LEGEND_POSITION:AX=parseInt(Ai,10)
	if(AX===G.LEFT){AX=G.LEFT_MIDDLE
	}else{if(AX===G.RIGHT){AX=G.RIGHT_MIDDLE
	}}AV.legendSlot=AX||G.RIGHT_MIDDLE
	break
	case u.SCALE_LEGEND_WIDTH:AY.lgd=parseFloat(Ai)||undefined
	break
	case u.SCALE_CHART_WIDTH:AY.ctw=parseFloat(Ai)||1
	break
	case u.SCALE_CHART_HEIGHT:AY.cth=parseFloat(Ai)||1
	break
	case u.SCALE_ROW_HEADERS:Am.length=0
	An=N(Ai)
	AW=Af.getRowTitleInfo(true)
	Ah=AW.items.length
	for(Al=0
	Al<Ah
	Al++){Ac=AW.items[Al].id
	if(An.hasOwnProperty(Ac)){AY.rh[Al]=An[Ac]||1
	}else{AY.rh[Al]=1
	}Am.push(Ac)
	}break
	case u.SCALE_COL_HEADERS:Ae.length=0
	Ao=N(Ai)
	AZ=Af.getColTitleInfo(true)
	Ah=AZ.items.length
	for(Al=0
	Al<Ah
	Al++){Ac=AZ.items[Al].id
	if(Ao.hasOwnProperty(Ac)){AY.ch[Al]=Ao[Ac]||1
	}else{AY.ch[Al]=1
	}Ae.push(Ac)
	}break
	case u.SCALE_Y:case u.SCALE_X:case u.SCALE_Y2:case u.SCALE_X2:if(Ad===u.SCALE_Y){AU=Af.getYAxisInfo(undefined,undefined,true,false)
	Aa="y"
	}else{if(Ad===u.SCALE_X){AU=Af.getXAxisInfo(undefined,undefined,true,false)
	Aa="x"
	}else{if(Ad===u.SCALE_Y2){AU=Af.getYAxisInfo(undefined,undefined,false,false)
	Aa="y2"
	}else{if(Ad===u.SCALE_X2){AU=Af.getXAxisInfo(undefined,undefined,false,false)
	Aa="x2"
	}}}}Ag=b(Ai)
	Ah=AU.ids.length
	Ac=""
	for(Al=0
	Al<Ah
	Al++){if(Al!==0){Ac+=","
	}Ac+=AU.ids[Al]
	}this[Aa+"Ids"]=Ac
	AY[Aa]=Ag[Ac]||1
	break
	}},resetDataLabelDefaultAngel:function(AV){var AU=this.defaultsObj
	if(AU){AU.DataLabelTextAngle=AV
	}},readItem:function(AW,AU){var AY=this.generalProps,AX=this.scales,AZ,AV
	switch(AW){case u.FIT_TO:if(AX.ctw!==1||AX.cth!==1){AV=g.MANUAL
	}else{AV=AY.fitTo
	}break
	case X.CONTAINER_FIT_MODE:AV=AY[X.CONTAINER_FIT_MODE]
	break
	case u.AXIS_SCALE:AV=AY.axisScale
	break
	case u.SHAPE:AV=AY.shape
	break
	case u.SUB_TYPE:AV=AY.subtype
	break
	case u.DATA_LABEL:AV=AY.dataLabels
	break
	case u.DATA_LABELS_PLACEMENT:AV=AY.dataLabelPlacements
	break
	case u.DATA_LABELS_ROTATE:AV=AY.dataLabelRotate
	break
	case u.BANDING:AV=AY.banding
	break
	case u.LEGEND_VISIBLE:AV=AY.legendShow
	break
	case u.COL_ALIGNMENT:AV=AY.colAlign
	break
	case u.ROW_ALIGNMENT:AV={}
	AV.h=AY.rowAlignH
	AV.v=AY.rowAlignV
	break
	case u.MAX_SIZE_TYPE:AV=AY.maxSizeType
	break
	case u.MAX_SIZE_VALUE:AV=AY.maxSizeValue
	break
	case u.MIN_SIZE_TYPE:AV=AY.minSizeType
	break
	case u.MIN_SIZE_VALUE:AV=AY.minSizeValue
	break
	case u.OUTSIDE_BORDER:AV=AY.outBorder
	break
	case u.AXES:AV=AY.axes
	break
	case u.MATRIX_LINES:AV=AY.matrixLine
	break
	case u.GRID_LINES:AV=AY.gridLine
	break
	case u.LEGEND_MODE:AV=AY.legendMode
	break
	case u.LEGEND_POSITION:AV=AY.legendSlot
	break
	case u.SCALE_LEGEND_WIDTH:AV=AX.lgd
	break
	case u.SCALE_CHART_WIDTH:AV=AX.ctw
	break
	case u.SCALE_CHART_HEIGHT:AV=AX.cth
	break
	case u.SCALE_ROW_HEADERS:AV=AX.rh
	break
	case u.SCALE_COL_HEADERS:AV=AX.ch
	break
	case u.SCALE_Y:AV=AX.y
	break
	case u.SCALE_X:AV=AX.x
	break
	case u.SCALE_Y2:AV=AX.y2
	break
	case u.SCALE_X2:AV=AX.x2
	break
	case u.SCALE_ALL:AV=AX
	break
	default:AV=this.hGetPropValue(AW)
	break
	}AZ=AV
	switch(AW){case X.LINE_MARKER_SHOW:case X.LEGEND_BORDER_SHOW:case X.X_AXIS_ORIGIN_LINE_SHOW:case X.Y_AXIS_ORIGIN_LINE_SHOW:case X.X_AXIS_LINE_SHOW:case X.X_AXIS_TITLE_SHOW:case X.X_AXIS_LABELS_SHOW:case X.Y_AXIS_LINE_SHOW:case X.Y_AXIS_TITLE_SHOW:case X.Y_AXIS_LABELS_SHOW:case X.V_MATRIX_LINES_SHOW:case X.H_MATRIX_LINES_SHOW:case X.ALL_ROW_COLUMN_SHOW:case X.COLUMN_HEADER_SHOW:case X.ROW_HEADER_SHOW:case X.COLUMN_VALUES_SHOW:case X.ROW_VALUES_SHOW:case X.GRID_LINE_AUTO:case u.SORT_ORDER:case X.TOTAL_SHOW:case X.INT_SUM_SHOW:case X.INT_SUM_FULL:case X.SHOW_MODEBAR:case u.AXIS_SCALE_SYNC_MODE:case X.X_AXIS_LABELS_WRAP_TEXT:case X.X_AXIS_NESTED_LABEL:if(AZ){AV=(AZ==="true"||AZ===true)
	}break
	case u.SHOW_ALL_LABELS:if(!this.host||!this.host.isOrdinalXAxisLabelRotationEnabled()){AV=false
	}else{if(AZ===undefined){var Aa=this.host&&this.host.GMController
	AV=Aa&&!Aa.hasDateTimeAttr("x")&&!Aa.hasDateTimeAttr("y")
	}else{AV=(AZ==="true"||AZ===true)
	}}break
	case X.MAJOR_GRID_LINES_SHOW:if(AZ===undefined){AZ=AY.gridLine
	}AV=parseInt(AZ,10)
	break
	case X.MINOR_GRID_LINES_SHOW:if(AZ===undefined){AZ=AY.gridLine
	if(AZ===2){AZ=AC.HIDE
	}}AV=parseInt(AZ,10)
	break
	case X.X_AXIS_LABELS_ROTATION:case X.CONNECTION_LINE_STYLE:if(AZ){AV=parseInt(AZ,10)
	}break
	case u.SORT_INDEX:if(AZ){AV={}
	AV.row=v(AZ).first
	AV.col=v(AZ).second
	}break
	case u.AXIS_SCALE_DATA:if(AZ){AV=K.parseAxisScaleData(AZ)
	}break
	case u.METRIC_SHAPES:case u.METRIC_LEVEL_DATA_LABEL:case u.AXIS_ORIGIN:case u.LOG_SCALE:case u.TREND_LINE_DEF:case u.TREND_BUBBLE_FORE_DEF:case u.REF_LINE_DEF:case u.SELECTIONS:case u.FORMATS_ON_COMBINATION:case X.ALL_SHAPE_FORMAT:var Ac=this.isItemCached
	var Ab=this.readItemCache
	if(!Ac[AW]){Ab[AW]=K.stringToJSON(AV)
	Ac[AW]=true
	}AV=Ab[AW]
	break
	case u.SCALE_V_EXTRA_LINE:AV=parseFloat(AV)||1
	break
	case u.MAX_SIZE_VALUE:case u.MIN_SIZE_VALUE:if(AZ){AV=parseFloat(AZ)
	}break
	case X.REF_LABELS_FONT_FAMILY:case X.REF_LABELS_FONT_SIZE:case X.REF_LABELS_FONT_STYLE:case X.REF_LABELS_FONT_COLOR:if(AZ&&typeof AZ==="string"&&AZ.indexOf("{")>=0){AV=K.stringToJSON(AZ)
	}break
	case X.POINT_SIZE:case X.POINT_POS:case X.JITTER:case X.JTR_TYPE:case X.PTSZ_TYPE:case X.PTPOS_TYPE:if(AZ){AV=parseFloat(AZ)
	}break
	case X.XBINS_START:case X.XBINS_END:case X.XBINS_SIZE:if(AZ){AV=parseFloat(AZ)
	}case X.POSITIVE_COLOR:case X.NEGATIVE_COLOR:case X.TOTAL_COLOR:case X.INT_SUM_COLOR:case X.START_COLOR:if(AV==="default"){AV=undefined
	}default:break
	}if(AV===undefined){if(!AU){AV=this.defaultsObj&&this.defaultsObj[AW]
	}}else{if(AW.slice(-3)==="Clr"&&typeof AV==="string"){if(AV!=="transparent"){if(isNaN(AV)){AV=K.stringToJSON(AV)
	}else{AV=parseInt(AV,10)
	}}}}if(typeof AV==="string"&&!isNaN(AV)){AV=parseInt(AV,10)
	}return AV
	},clearReadItemCache:function(){this.isItemCached={}
	},updateItem:function(AW,AV){var AY=this.scales,AU=this.generalProps,AX=K.everythingToString(AV)
	this.clearReadItemCache()
	switch(AW){case u.FIT_TO:AV=AV===q.Manual?AU.fitTo:AV
	AU.fitTo=AV
	AX=AJ[AV===q.Manual?AU.fitTo:AV]
	break
	case u.AXIS_SCALE:AU.axisScale=AV
	AX=p[AV]
	break
	case u.SHAPE:AU.shape=AV
	AX=d[AV]
	break
	case u.SUB_TYPE:AU.subtype=AV
	AX=U[AV]
	if(!AX){AX=AV
	}break
	case u.DATA_LABEL:AU.dataLabels=AV
	AX=a[AV]
	break
	case u.DATA_LABELS_PLACEMENT:if(typeof AV==="boolean"){AU.dataLabelPlacements=AV?1:2
	}else{AU.dataLabelPlacements=AV
	}AX=AN[AU.dataLabelPlacements]
	break
	case u.DATA_LABELS_ROTATE:AU.dataLabelRotate=AV
	break
	case u.BANDING:AU.banding=AV
	break
	case u.LEGEND_VISIBLE:AU.legendShow=AV
	AX=AV?"Show":"Hide"
	break
	case u.ROW_ALIGNMENT:AU.rowAlignH=AV.h
	AU.rowAlignV=AV.v
	AX=AV.h+","+AV.v
	break
	case u.COL_ALIGNMENT:AU.colAlign=AV
	break
	case u.MAX_SIZE_TYPE:AU.maxSizeType=AV
	AX=AM[AV]
	break
	case u.MAX_SIZE_VALUE:AU.maxSizeValue=AV
	break
	case u.MIN_SIZE_TYPE:AU.minSizeType=AV
	AX=AE[AV]
	break
	case u.MIN_SIZE_VALUE:AU.minSizeValue=AV
	break
	case u.OUTSIDE_BORDER:AU.outBorder=AV
	AX=AV?"Show":"Hide"
	break
	case u.AXES:AU.axes=AV
	AX=A[AV]
	break
	case u.MATRIX_LINES:AU.matrixLine=AV
	AX=AR[AV]
	break
	case u.GRID_LINES:AU.gridLine=AV
	AX=m[AV]
	break
	case u.LEGEND_MODE:AU.legendMode=AV
	break
	case u.LEGEND_POSITION:AU.legendSlot=AV
	break
	case u.SCALE_LEGEND_WIDTH:AY.lgd=AV
	break
	case u.SCALE_CHART_WIDTH:AY.ctw=parseFloat(AV)||1
	break
	case u.SCALE_CHART_HEIGHT:AY.cth=parseFloat(AV)||1
	break
	case u.SCALE_ROW_HEADERS:AY.rh=AV
	AX=F(this.rhIds,AY.rh)
	break
	case u.SCALE_COL_HEADERS:AY.ch=AV
	AX=F(this.chIds,AY.ch)
	break
	case u.SCALE_Y:AY.y=AV
	AX=this.yIds+":"+AY.y
	break
	case u.SCALE_X:AY.x=AV
	AX=this.xIds+":"+AY.x
	break
	case u.SCALE_Y2:AY.y2=AV
	AX=this.y2Ids+":"+AY.y2
	break
	case u.SCALE_X2:AY.x2=AV
	AX=this.x2Ids+":"+AY.x2
	break
	case u.SORT_INDEX:AX=AV.row+","+AV.col
	break
	default:break
	}this.hSetPropValue(AW,AX)
	},removeItem:function(AU){this.hRemoveProp(AU)
	},updateItems:function(AX,AU){var AV,AW=AX.length
	for(AV=0
	AV<AW
	AV++){this.updateItem(AX[AV],AU[AV])
	}},setController:function(AU){this.controller=AU
	this.initItem(u.SCALE_ROW_HEADERS)
	this.initItem(u.SCALE_COL_HEADERS)
	this.initItem(u.SCALE_Y)
	this.initItem(u.SCALE_X)
	this.initItem(u.SCALE_Y2)
	this.initItem(u.SCALE_X2)
	},initHTML5Props:function(AW){var Ab=this.readItem,Aj=AW.LEGEND={},Ap=AW.BK={},Am=AW.RH_BK={},Ag=AW.CH_BK={},Ae=AW.RH_TITLE={},Ac=AW.RH={},Af=AW.CH_TITLE={},AY=AW.CH={},Ai=AW.AXIS_LABEL_X={},Ah=AW.AXIS_LABEL_Y={},Ao=AW.AXIS_TITLE_X={},An=AW.AXIS_TITLE_Y={},AZ=AW.AXIS_LINE_X={},AX=AW.AXIS_LINE_Y={},Al=AW.MATRIX_LINE_H={},Aa=AW.MATRIX_LINE_V={},AV=AW.GRID_LINE_MAJOR={},Ad=AW.GRID_LINE_MINOR={},AU=AW.OUTSIDE_BORDER={},Ar=function(Av,As,At){if(As===e.Gradient){At=K.decodeColor(At)
	var Au=E.buildGradient(At.or,At.c1,At.c2)
	if(Au){Av[Au.n]=Au.v
	}}else{Av.backgroundColor=K.decodeColor(At)
	}},Aq=function(At,As){At.fontWeight=(As&H.FS_BOLD?"bold":"normal")
	At.fontStyle=(As&H.FS_ITALIC?"italic":"normal")
	if((As&H.FS_STRIKETHROUGH)&&(As&H.FS_UNDERLINE)){At.textDecoration="line-through underline"
	}else{if(As&H.FS_STRIKETHROUGH){At.textDecoration="line-through"
	}else{if(As&H.FS_UNDERLINE){At.textDecoration="underline"
	}else{At.textDecoration="none"
	}}}},Ak=function(As){var At=["solid","dashed","dotted"]
	return At[As]||"none"
	}
	Aj.fontFamily=Ab.call(this,X.LEGEND_FONT_FAMILY)
	Aj.fontSize=Ab.call(this,X.LEGEND_FONT_SIZE)
	Aq(Aj,Ab.call(this,X.LEGEND_FONT_STYLE))
	Aj.color=K.decodeColor(Ab.call(this,X.LEGEND_FONT_COLOR))
	Ar(Aj,Ab.call(this,X.LEGEND_BG_FILL_STYLE),Ab.call(this,X.LEGEND_BG_COLOR))
	Aj.opacity=Ab.call(this,X.LEGEND_BG_FILL_TRANSPARENCY)/100
	if(Ab.call(this,X.LEGEND_BORDER_SHOW)){Aj.borderWidth=parseInt(Ab.call(this,X.LEGEND_BORDER_THICKNESS),10)+"px"
	Aj.borderStyle=Ak(Ab.call(this,X.LEGEND_BORDER_LINE_STYLE))
	Aj.borderColor=K.decodeColor(Ab.call(this,X.LEGEND_BORDER_COLOR))
	}Ar(Ap,Ab.call(this,X.BG_FILL_STYLE),Ab.call(this,X.BG_COLOR))
	Ap.opacity=Ab.call(this,X.BG_FILL_TRANSPARENCY)/100
	Ar(Am,Ab.call(this,X.ROW_HEADER_FILL_STYLE),Ab.call(this,X.ROW_HEADER_FILL_COLOR))
	Am.opacity=Ab.call(this,X.ROW_HEADER_FILL_TRANSPARENCY)/100
	Ar(Ag,Ab.call(this,X.COLUMN_HEADER_FILL_STYLE),Ab.call(this,X.COLUMN_HEADER_FILL_COLOR))
	Ag.opacity=Ab.call(this,X.COLUMN_HEADER_FILL_TRANSPARENCY)/100
	Ae.fontFamily=Ab.call(this,X.ROW_HEADER_TEXT_FONT_FAMILY)
	Ae.fontSize=Ab.call(this,X.ROW_HEADER_TEXT_FONT_SIZE)
	Aq(Ae,Ab.call(this,X.ROW_HEADER_TEXT_FONT_STYLE))
	Ae.color=K.decodeColor(Ab.call(this,X.ROW_HEADER_TEXT_FONT_COLOR))
	Af.fontFamily=Ab.call(this,X.COLUMN_HEADER_TEXT_FONT_FAMILY)
	Af.fontSize=Ab.call(this,X.COLUMN_HEADER_TEXT_FONT_SIZE)
	Aq(Af,Ab.call(this,X.COLUMN_HEADER_TEXT_FONT_STYLE))
	Af.color=K.decodeColor(Ab.call(this,X.COLUMN_HEADER_TEXT_FONT_COLOR))
	Ac.fontFamily=Ab.call(this,X.ROW_VAVLUE_TEXT_FONT_FAMILY)
	Ac.fontSize=Ab.call(this,X.ROW_VAVLUE_TEXT_FONT_SIZE)
	Aq(Ac,Ab.call(this,X.ROW_VAVLUE_TEXT_FONT_STYLE))
	Ac.color=K.decodeColor(Ab.call(this,X.ROW_VAVLUE_TEXT_FONT_COLOR))
	AY.fontFamily=Ab.call(this,X.COLUMN_VAVLUE_TEXT_FONT_FAMILY)
	AY.fontSize=Ab.call(this,X.COLUMN_VAVLUE_TEXT_FONT_SIZE)
	Aq(AY,Ab.call(this,X.COLUMN_VAVLUE_TEXT_FONT_STYLE))
	AY.color=K.decodeColor(Ab.call(this,X.COLUMN_VAVLUE_TEXT_FONT_COLOR))
	Ah.fontFamily=Ab.call(this,X.Y_AXIS_LABELS_FONT_FAMILY)
	Ah.fontSize=Ab.call(this,X.Y_AXIS_LABELS_FONT_SIZE)
	Aq(Ah,Ab.call(this,X.Y_AXIS_LABELS_FONT_STYLE))
	Ah.color=K.decodeColor(Ab.call(this,X.Y_AXIS_LABELS_FONT_COLOR))
	Ai.fontFamily=Ab.call(this,X.X_AXIS_LABELS_FONT_FAMILY)
	Ai.fontSize=Ab.call(this,X.X_AXIS_LABELS_FONT_SIZE)
	Aq(Ai,Ab.call(this,X.X_AXIS_LABELS_FONT_STYLE))
	Ai.color=K.decodeColor(Ab.call(this,X.X_AXIS_LABELS_FONT_COLOR))
	An.fontFamily=Ab.call(this,X.Y_AXIS_TITLE_FONT_FAMILY)
	An.fontSize=Ab.call(this,X.Y_AXIS_TITLE_FONT_SIZE)
	Aq(An,Ab.call(this,X.Y_AXIS_TITLE_FONT_STYLE))
	An.color=K.decodeColor(Ab.call(this,X.Y_AXIS_TITLE_FONT_COLOR))
	Ao.fontFamily=Ab.call(this,X.X_AXIS_TITLE_FONT_FAMILY)
	Ao.fontSize=Ab.call(this,X.X_AXIS_TITLE_FONT_SIZE)
	Aq(Ao,Ab.call(this,X.X_AXIS_TITLE_FONT_STYLE))
	Ao.color=K.decodeColor(Ab.call(this,X.X_AXIS_TITLE_FONT_COLOR))
	AZ.borderWidth=parseInt(Ab.call(this,X.X_AXIS_LINE_THICKNESS),10)+"px"
	AZ.borderColor=K.decodeColor(Ab.call(this,X.X_AXIS_LINE_COLOR))
	AZ.borderTopStyle=Ak(Ab.call(this,X.X_AXIS_LINE_STYLE))
	AX.borderWidth=parseInt(Ab.call(this,X.Y_AXIS_LINE_THICKNESS),10)+"px"
	AX.borderColor=K.decodeColor(Ab.call(this,X.Y_AXIS_LINE_COLOR))
	AX.borderLeftStyle=Ak(Ab.call(this,X.Y_AXIS_LINE_STYLE))
	Al.borderWidth=parseInt(Ab.call(this,X.H_MATRIX_LINES_THICKNESS),10)+"px"
	Al.borderColor=K.decodeColor(Ab.call(this,X.H_MATRIX_LINES_COLOR))
	Al.borderTopStyle=Ak(Ab.call(this,X.H_MATRIX_LINES_STYLE))
	Aa.borderWidth=parseInt(Ab.call(this,X.V_MATRIX_LINES_THICKNESS),10)+"px"
	Aa.borderColor=K.decodeColor(Ab.call(this,X.V_MATRIX_LINES_COLOR))
	Aa.borderLeftStyle=Ak(Ab.call(this,X.V_MATRIX_LINES_STYLE))
	AV.borderWidth=parseInt(Ab.call(this,X.MAJOR_GRID_LINES_THICKNESS),10)+"px"
	AV.borderColor=K.decodeColor(Ab.call(this,X.MAJOR_GRID_LINES_COLOR))
	AV.borderTopStyle=Ak(Ab.call(this,X.MAJOR_GRID_LINES_STYLE))
	AV.borderLeftStyle=AV.borderTopStyle
	Ad.borderWidth=parseInt(Ab.call(this,X.MINER_GRID_LINES_THICKNESS),10)+"px"
	Ad.borderColor=K.decodeColor(Ab.call(this,X.MINER_GRID_LINES_COLOR))
	Ad.borderTopStyle=Ak(Ab.call(this,X.MINER_GRID_LINES_STYLE))
	Ad.borderLeftStyle=Ad.borderTopStyle
	AU.borderWidth=parseInt(Ab.call(this,X.OUTSIDE_BORDER_THICKNESS),10)+"px"
	AU.borderColor=K.decodeColor(Ab.call(this,X.OUTSIDE_BORDER_COLOR))
	AU.borderLeftStyle=Ak(Ab.call(this,X.OUTSIDE_BORDER_STYLE))
	AU.borderTopStyle=Ak(Ab.call(this,X.OUTSIDE_BORDER_STYLE))
	},readItemDefault:function(AZ,AX){var AY,AV={CIRCLE:0.7,Bar:0.7,AREA:0.7,PIE:0.8,RING:0.8},AW={CIRCLE:2,Bar:1,AREA:2,PIE:1,RING:1},AU={1:AS.Stacked,2:AS.Automatic,0:AS.Automatic}
	switch(AZ){case X.X_AXIS_TITLE_SHOW:case X.Y_AXIS_TITLE_SHOW:AY=AX.isMetric?true:false
	break
	case X.SHAPE_FILL_TRANSPARENCY:AY=AV[AX.shapeType]
	break
	case X.SHAPE_BORDER_THICKNESS:AY=AW[AX.shapeType]
	break
	case u.SUB_TYPE:AY=AU[AX.shapeType]
	break
	}return AY
	},consumeJsonFmt:function(AV){var AX,AW=[],AU=[]
	for(AX in AV){if(AV.hasOwnProperty(AX)){AW.push(AX)
	AV[AX]=c(AX,AV[AX],this.templateObjectMapping)
	AU.push(AV[AX])
	}}this.xmlData=this.makeDefaultPropXML(AW,AU)
	this.jsonData=AV
	},hSyncWithJson:function(AW,AV,AX){var AU=this.jsonData
	if(AU){if(AX){delete AU[AW]
	}else{AU[AW]=AV
	}}},hGetPropValue:function(AY){var AX,AV=this.jsonData,AW
	if(AV){return AV[AY]
	}else{AX=AL.call(this)
	if(AX){var AU=AX.getElementsByTagName("fmt")[0],AZ=AU.getElementsByTagName(AY)[0]
	if(AZ){AW=AZ.getAttribute("value")
	return c(AY,AW,this.templateObjectMapping)
	}}}return undefined
	},hRemoveProp:function(AW){this.hSyncWithJson(AW,"",true)
	var AV=AL.call(this),AU=AV.getElementsByTagName("fmt")[0],AX=AU.getElementsByTagName(AW)[0]
	if(AX){AX.parentNode.removeChild(AX)
	this.xmlData=Q(AV)
	this.xmlDirty=true
	}return this.xmlData
	},hSetPropValue:function(AX,AW){if(typeof AW==="undefined"){return this.hRemoveProp(AX)
	}if((typeof AW)!=="string"){AW=AW.toString()
	}this.hSyncWithJson(AX,AW)
	var AV=AL.call(this),AU=AV.getElementsByTagName("fmt")[0],AY=AU.getElementsByTagName(AX)[0]
	if(!AY){AY=AV.createElement(AX)
	AU.appendChild(AY)
	}AY.setAttribute("value",h.call(this,AX,AW))
	this.xmlData=Q(AV)
	this.xmlDirty=true
	return this.xmlData
	},hSetPropValues:function(Ab,Aa){var AY,AX,AU,AZ,AV=Ab.length,Ac=AL.call(this),AW=Ac.getElementsByTagName("fmt")[0]
	for(AY=0
	AY<AV
	AY++){AU=Ab[AY]
	AZ=Aa[AY]
	this.hSyncWithJson(AU,AZ)
	AX=AW.getElementsByTagName(AU)[0]
	if(!AX){AX=Ac.createElement(AU)
	AW.appendChild(AX)
	}AX.setAttribute("value",h.call(this,AU,AZ))
	}this.xmlData=Q(Ac)
	this.xmlDirty=true
	return this.xmlData
	},clearCachedXMLDoc:function(){if(this.xmlDoc){delete this.xmlDoc
	}},setTemplateObjectMapping:function(AU){this.templateObjectMapping=AU
	},makeDefaultPropXML:function f(Aa,Ab){var AX,AW,AU=Aa.length,AZ=new window.DOMParser(),AY="<props><widgetProps><fmt></fmt></widgetProps></props>",Ac=AZ.parseFromString(AY,"text/xml"),AV=Ac.getElementsByTagName("fmt")[0]
	for(AX=0
	AX<AU
	AX++){AW=Ac.createElement(Aa[AX])
	AW.setAttribute("value",h.call(this,Aa[AX],Ab[AX]))
	AV.appendChild(AW)
	}return Q(Ac)
	}})
	mstrmojo.gm.GMProperty.getUnderlyingPropertyNameWithAll=function(AU){return(S[AU]||AU).split(":")
	}
	mstrmojo.gm.GMProperty.convertToReferenceFormat=h
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Base","mstrmojo.hash")
	mstrmojo.requiresClsP("mstrmojo.gm","GMUtility","GMEnums")
	var D=mstrmojo.gm.EnumAxisScale,A=mstrmojo.gm.GMUtility,C=mstrmojo.hash
	var B=mstrmojo.gm.GMAxisScale=mstrmojo.declare(mstrmojo.Base,null,{scriptClass:"mstrmojo.gm.GMAxisScale",axKey:undefined,rMin:undefined,rMax:undefined,mMin:undefined,mMax:undefined,logScale:false,scaleType:undefined,minMax:undefined,isCust:false,autoMin:false,autoMax:false,init:function(E){this._super(E)
	if(this.mMin===undefined){this.mMin=this.rMin
	}if(this.mMax===undefined){this.mMax=this.rMax
	}if(E.minMax!==undefined&&E.minMax!==D.CUSTOM){this.scaleType=E.minMax
	}},absorbInfo:function(E){var F
	if(this.axKey!==E.axKey){return 
	}this.logScale=E.logScale
	this.scaleType=E.scaleType
	F=this.isCust=E.isCust
	if(F===false){return 
	}this.mMin=E.mMin
	this.mMax=E.mMax
	this.autoMin=E.autoMin
	this.autoMax=E.autoMax
	},serialize2String:function(){return[this.axKey,this.scaleType,this.mMin,this.mMax,this.rMin,this.rMax,this.logScale,this.autoMin,this.autoMax].join(":")
	}})
	mstrmojo.gm.GMAxisScale.createAxisScaleFromArr=function(E){var F={axKey:E[0],scaleType:parseInt(E[1],10),mMin:parseFloat(E[2]),mMax:parseFloat(E[3]),rMin:parseFloat(E[4]),rMax:parseFloat(E[5]),logScale:E[6]===""?undefined:A.isTrueForBoolValue(E[6]),autoMin:A.isTrueForBoolValue(E[7]),autoMax:A.isTrueForBoolValue(E[8])}
	F.isCust=(F.mMin!==F.rMin||F.mMax!==F.rMax)||F.scaleType===D.CUSTOM
	return new B(F)
	}
	mstrmojo.gm.GMAxisScale.createAxisScaleCollectionFromArrays=function(F,E){E=E||{}
	F.forEach(function(G){E[G[0]]=mstrmojo.gm.GMAxisScale.createAxisScaleFromArr(G)
	})
	return E
	}
	mstrmojo.gm.GMAxisScale.createAllMetricsAxObj=function(E,O){var N,J={axKey:"AllMetrics"},G=[],I=[],K,F=true,M=true,H=true
	if(E.AllMetrics!==undefined){return 
	}for(N in E){if(N!=="AllMetrics"&&E.hasOwnProperty(N)){K=E[N]
	if(J.rMin===undefined){J.rMin=K.rMin
	}else{J.rMin=Math.min(J.rMin,K.rMin)
	}G.push(K.mMin)
	if(J.mMin===undefined){J.mMin=K.mMin
	}else{J.mMin=Math.min(J.mMin,K.mMin)
	}if(J.rMax===undefined){J.rMax=K.rMax
	}else{J.rMax=Math.max(J.rMax,K.rMax)
	}I.push(K.mMax)
	if(J.mMax===undefined){J.mMax=K.mMax
	}else{J.mMax=Math.max(J.mMax,K.mMax)
	}if(J.logScale===undefined){J.logScale=K.logScale
	}else{if(J.logScale!==K.logScale){F=false
	}}if(J.scaleType===undefined){J.scaleType=K.scaleType
	}else{if(J.scaleType!==K.scaleType){J.scaleType=D.DIFFERENT
	}}if(J.autoMin===undefined){J.autoMin=K.autoMin
	}else{if(J.autoMin!==K.autoMin){J.autoMin=false
	M=false
	}}if(J.autoMax===undefined){J.autoMax=K.autoMax
	}else{if(J.autoMax!==K.autoMax){J.autoMax=false
	H=false
	}}}}if(O&&C.keyarray(E).length===0){J.scaleType=D.CUSTOM
	J.autoMin=true
	J.autoMax=true
	}if(!F){J.logScale=undefined
	}J.isCust=(J.mMin!==J.rMin||J.mMax!==J.rMax)||J.scaleType===D.CUSTOM
	if(J.scaleType===D.CUSTOM){var L=false
	I.forEach(function(P){if(P!==J.mMax){L=true
	}})
	G.forEach(function(P){if(P!==J.mMin){L=true
	}})
	if(!M||!H){L=true
	}if(L){J.scaleType=D.DIFFERENT
	}}E.AllMetrics=new B(J)
	return E.AllMetrics
	}
	mstrmojo.gm.GMAxisScale.serializeCollection2String=function(I,E){var G,H=I.AllMetrics,F=[]
	if(H===undefined){H=mstrmojo.gm.GMAxisScale.createAllMetricsAxObj(I,E)
	}F.push(H.serialize2String())
	for(G in I){if(G!=="AllMetrics"&&I.hasOwnProperty(G)){F.push(I[G].serialize2String())
	}}return F.join(",")
	}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.vi.viz.DropZoneHelper","mstrmojo.vi.viz.EnumDSSDropZones","mstrmojo.XMLBuilder","mstrmojo.gm.GMEnums","mstrmojo.gm.GMAxisScale","mstrmojo.VisUtility","mstrmojo.gm.GMProperty")
	var U=mstrmojo,J=U.hash,H=U.array,S=U.vi.viz,P=S.EnumDSSDropZones,M=1,G=0,K=S.DropZoneHelper.METRIC_NAMES_ID,I,X=mstrmojo.gm.DualAxisSubAxisBit,W=mstrmojo.gm.EnumFeatureFlags,A=mstrmojo.gm.GMProperty,C=mstrmojo.vi.viz.EnumVisualizationTemplates,B=mstrmojo.gm.GMAxisScale,F=X.PRIMARY,Q=mstrmojo.VisUtility
	function O(Y){if(this.AxisScaleSyncMode){Y.AxisScaleSyncMode=this.AxisScaleSyncMode
	Y.MinMax="Custom"
	Y.AxisScale=B.serializeCollection2String([],true)
	}switch(this.visType){case C.VERTICALCLUSTEREDSYNCHRONIZEDAXISBAR:Y.userVisType=C.GRAPHMATRIXVERTICALBARCLUSTERED
	break
	case C.VERTICALSYNCHRONIZEDAXISBAR:case C.HORIZONTALSYNCHRONIZEDAXISBAR:break
	default:Y.userVisType=this.visType
	break
	}}mstrmojo.vi.viz.GraphMatrixHelper=mstrmojo.declare(mstrmojo.vi.viz.DropZoneHelper,null,{scriptClass:"mstrmojo.vi.viz.GraphMatrixHelper",handled:false,rowObjects:null,columnObjects:null,xAxisObjects:null,yAxisObjects:null,angleObjects:null,sliceObjects:null,breakByObjects:null,colorByObjects:null,currentXML:"",sizeByObjects:null,tooltipMetrics:null,data:null,metricsDropZone:"",secondaryMetricsDropZone:"",shape:"",subtype:"",metricShapes:null,visType:-1,init:function N(Y){this.rowObjects=[]
	this.columnObjects=[]
	this.xAxisObjects=[]
	this.yAxisObjects=[]
	this.angleObjects=[]
	this.sliceObjects=[]
	this.breakByObjects=[]
	this.colorByObjects=[]
	this.sizeByObjects=[]
	this.tooltipMetrics=[]
	this.currentXML=""
	this.metricsDropZone=""
	this.secondaryMetricsDropZone=""
	this.shape=""
	this.subtype=""
	this.metricShapes="{}"
	this._super(Y)
	},clone:function R(Z){var Y=this
	Y.rowObjects=Z.rowObjects.concat()
	Y.columnObjects=Z.columnObjects.concat()
	Y.xAxisObjects=Z.xAxisObjects.concat()
	Y.yAxisObjects=Z.yAxisObjects.concat()
	Y.angleObjects=Z.angleObjects.concat()
	Y.sliceObjects=Z.sliceObjects.concat()
	Y.breakByObjects=Z.breakByObjects.concat()
	Y.colorByObjects=Z.colorByObjects.concat()
	Y.sizeByObjects=Z.sizeByObjects.concat()
	Y.tooltipMetrics=Z.tooltipMetrics.concat()
	Y.currentXML=Z.currentXML
	Y.metricsDropZone=Z.metricsDropZone
	Y.secondaryMetricsDropZone=Z.secondaryMetricsDropZone
	Y.shape=Z.shape
	Y.subtype=Z.subtype
	Y.metricShapes=Z.metricShapes
	},exists:function(a,Y){var b=this[Y],Z=false
	H.forEach(b,function(c){Z=(c.did===a.did)
	if(Z){return false
	}})
	return Z
	},removeAngleMetricFromOthers:function(Y){["xAxisObjects","yAxisObjects","tooltipMetrics"].every(function(b){var a=this[b],Z=H.find(a,"did",Y.did)
	if(Z>-1){a.splice(Z,1)
	return false
	}})
	},getXml:function L(c){var Y=this.data.dz,b=A.convertToReferenceFormat,d,Z=Y?J.copy(Y.visProp&&Y.visProp.fmt,{}):{},a=new mstrmojo.XMLBuilder()
	if(c&&J.walk("property.scriptClass",c)==="mstrmojo.gm.GMProperty"){d=c.property
	}if(this.data.visName===mstrmojo.vi.viz.EnumVizStyles.MAPBOX){delete Z.cr
	}if(this.visStyle){Z.visStyle=this.visStyle
	}if(this.shape){Z.Shape=this.shape
	}if(this.subtype){Z.Subtype=this.subtype
	}if(this.metricShapes){Z.metricShapes=this.metricShapes
	}if(this.groupInfo){Z.groupInfo=this.groupInfo
	}Z.visType=this.visType
	O.call(this,Z)
	Q.addDefaultProps(Z)
	Q.addVisFeatureFlags(W,Z)
	a.addChild("props")
	a.addChild("widgetProps")
	a.addChild("fmt")
	J.forEach(Z,function(e,f){a.addChild(f)
	a.addAttribute("value",d?b.call(d,f,e):e)
	a.closeElement()
	})
	a.closeElement()
	a.closeElement()
	a.closeElement()
	return a.toString()
	},setData:function D(b){if(!b){return 
	}var Z=this,a=function(d,e){if(d){var c=(d.TemplateUnit||[]).concat(d.TemplateMetric||[])
	if(c){c.forEach(function(f){var g=J.copy(f)
	if(!g.did){g.did=g.id
	}e.push(g)
	})
	}}}
	a(b[I.PROP_ROWS],this.rowObjects)
	a(b[I.PROP_COLUMNS],this.columnObjects)
	a(b[I.PROP_XAXIS],this.xAxisObjects)
	a(b[I.PROP_YAXIS],this.yAxisObjects)
	a(b[I.PROP_BREAKBY],this.breakByObjects)
	a(b[I.PROP_COLORBY],this.colorByObjects)
	a(b[I.PROP_SIZEBY],this.sizeByObjects)
	a(b[I.PROP_SLICE],this.sliceObjects)
	a(b[I.PROP_ANGLE],this.angleObjects)
	a(b[I.PROP_TOOLTIPMETRICS],this.tooltipMetrics)
	var Y=b.visProp.fmt
	this.shape=Y[I.PROP_SHAPE]
	this.subtype=Y[I.PROP_SUBTYPE]
	},setMetricsDropZone:function E(Y){if(!Y){return 
	}var Z=this
	[I.PROP_ROWS,I.PROP_COLUMNS,I.PROP_XAXIS,I.PROP_YAXIS,I.PROP_BREAKBY,I.PROP_SLICE,I.PROP_COLORBY].forEach(function(a){if(Y[a]&&Y[a].hasOwnProperty("MetricNames")){if(Z.metricsDropZone){Z.secondaryMetricsDropZone=a
	}else{Z.metricsDropZone=a
	}}})
	},getAddDropZonesAction:function(){var c=this,Z=this.metricsDropZone,Y=this.secondaryMetricsDropZone,a={act:"updateTemplate",keyContext:this.data.k,actions:[]},b=function(d){a.actions.push({act:"addDropZoneUnit",zoneId:P[d],unitId:K,unitType:G})
	}
	[{p:"rowObjects",v:"Rows"},{p:"columnObjects",v:"Columns"},{p:"xAxisObjects",v:"XAxis"},{p:"yAxisObjects",v:"YAxis"},{p:"breakByObjects",v:"BreakBy"},{p:"colorByObjects",v:"ColorBy"},{p:"sizeByObjects",v:"SizeBy"},{p:"angleObjects",v:"Angle"},{p:"sliceObjects",v:"SliceBy"},{p:"tooltipMetrics",v:"AdditionalMetrics"}].forEach(function(f){var d=c[f.p],g=P[f.v]
	d.forEach(function(h){if(h){a.actions.push({act:"addDropZoneUnit",zoneId:g,unitId:h.did,unitType:h.t,ax:h.ax||F})
	}})
	if(Z===f.v){var e=function(h){return(h&&(h.length>M)&&c.isMetricZone(h))
	}
	if(e(c.xAxisObjects)||e(c.yAxisObjects)||e(c.angleObjects)){b(Z)
	}}})
	if(Y==="ColorBy"){b(Y)
	}return a
	}})
	I=mstrmojo.vi.viz.GraphMatrixHelper
	I.PROP_ROWS="Rows"
	I.PROP_COLUMNS="Columns"
	I.PROP_HORIZONTAL_AXIS="HorizontalAxis"
	I.PROP_VERTICAL_AXIS="VerticalAxis"
	I.PROP_XAXIS="XAxis"
	I.PROP_YAXIS="YAxis"
	I.PROP_SLICE="SliceBy"
	I.PROP_ANGLE="AngleBy"
	I.PROP_BREAKBY="BreakBy"
	I.PROP_COLORBY="ColorBy"
	I.PROP_SIZEBY="SizeBy"
	I.PROP_TOOLTIPMETRICS="AdditionalMetrics"
	I.PROP_SHAPE="Shape"
	I.PROP_SUBTYPE="Subtype"
	I.PROP_METRICSHAPES="metricShapes"
	I.PROP_SHAPE_AREA="Area"
	I.PROP_SHAPE_LINE="Line"
	I.PROP_SHAPE_BAR="Bar"
	I.PROP_SHAPE_CIRCLE="Circle"
	I.PROP_SHAPE_SQUARE="Square"
	I.PROP_SHAPE_PIE="Pie"
	I.PROP_SHAPE_RING="Ring"
	I.PROP_SHAPE_TICK="Tick"
	I.PROP_SUBTYPE_CLUSTERED="Clustered"
	I.PROP_SUBTYPE_AUTOMATIC="Automatic"
	I.PROP_SUBTYPE_STACKED="Stacked"
	I.PROP_SUBTYPE_ABSOLUTE="Absolute"
	I.PROP_SUBTYPE_PERCENT="Percent"
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.Container","mstrmojo.locales","mstrmojo.models.template.DataInterface","mstrmojo.DocDataService","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo._HasContentProvider")
	var J=mstrmojo.array,L=mstrmojo.hash,S=mstrmojo.models.template.DataInterface,K=S.ENUM_GRID_RESIZE,O=K.FIXED,B=K.FIT_TO_WINDOW,U=K.FIT_TO_CONTENTS,X=mstrmojo.mstr.EnumDSSXMLObjectTypes,M=mstrmojo.mstr.EnumDSSXMLObjectSubTypes,H="px"
	function a(b){return b&&b.otp===X.Consolidation&&b.ost===M.ConsolidationManaged
	}mstrmojo.SharedXtabBase=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasContentProvider],{scriptClass:"mstrmojo.SharedXtabBase",isRTL:false,rtlHTML:"",init:function P(b){if(this._super){this._super(b)
	}if(mstrmojo.locales.isRTL(mstrApp&&mstrApp.whLocaleId)){this.isRTL=true
	this.rtlHTML="dir='rtl'"
	}},getCellUnitIndex:function D(b){if(b.lo!==undefined){return b.lo
	}else{if(b.o!==undefined){return b.o
	}}return b._ei
	},getTargetZone:function N(){return this.zone
	},sort:function Y(c,d,e,b){this.controller.onSort(this,this.model.getSortAction(c,d,e,b))
	},advSort:function W(b,c,d){this.controller.onGetAdvSortData(this,c,b._e&&b._e.otp,d)
	},clearSort:function R(b,c){this.controller.onClearSort(this,c)
	},hasHiddenSubtotal:function Q(){var c=this.gridData.gsi,b=c&&c.hidesb
	return !!b
	},setAllXtabWidths:function Z(e){var d=this.gridData.twm||{},b=d.top,c=d.bottom,f=e?(e+H):e
	(c||[]).forEach(function(g,h){b[h]=b[h]||{}
	b[h].w=g.w=f
	})
	},updateScenario:function G(d,b){var c=this.gridData
	c.afc=d===U
	c.afw=d===B
	if(d!==O){this.setAllXtabWidths("")
	}if(b){b()
	}else{this.refresh()
	}},updateRelatedColWidths:function E(c){if(this.isCustomSort&&this.getActionMgr().isCurrentActionSilent()){return 
	}var h=(new mstrmojo.models.template.DataInterface(this.gridData)).getColumnHeaderData(true),f=this.gridData.twm||{},e=f.bottom,b=f.top,d=this.getTargetZone(),g
	(c||[]).forEach(function(l){var k=l.colIndex,m=h[k],j=m._ridx||[]
	g=l.value
	if(b&&e){if(j.length>1){j.forEach(function(n){b[n]=b[n]||{}
	b[n].w=e[n].w=g
	})
	}else{b[k]=b[k]||{}
	b[k].w=e[k].w=g
	}}if(d){d.autoFitWindow=false
	d.autoFitContent=false
	}})
	this.refresh()
	},changeRowScenario:function C(b,d,c){b=b||0
	d=d||O
	c=!!c
	var e=this,f=[]
	S.forEachGSI(e.gridData.gsi,function(g,h){f=f.concat(e.model.getDataService().getUpdateTemplateAction(h,{act:"changeXtabRowHeightScenario",value:d,height:b},null,e.k))
	},e.k)
	if(!c){e.submitUndoRedoActionsWithCallback(f)
	}},changeRowHeight:function I(b){this.changeRowScenario(b)
	},getBasicSubtotalEditorConfig:function A(d,e){var b=new mstrmojo.ui.menus.EditorConfig({contents:new mstrmojo.express.ui.SubtotalsWidget({onchange:function c(){var f=this.getSubtotalTypes(),g=f[0].length>0||f[1].length>0
	b.set("okEnabled",g)
	}}),data:{},okEnabled:false})
	if(!this.hasHiddenSubtotal(e)){b.contents.set("selectedItems",d||[])
	}return b
	},getNdeInfosOfGrid:function(){var b=[]
	var e=this
	var d=this.model,c=this.interactiveCellsArray
	J.forEach(c,function(n){if(n.isObjHeader){var l=n,h=l.otp,g=l.ost,m=e.getDEInfo(l),k=m&&m.deObject,o={did:l.id||(k&&k.did),t:h||(k&&k.t),st:g||(k&&k.st),attId:k&&k.attId,ndetype:k&&k.ndetype},j=o.attId&&a(l)&&d.getNDEFormsFromDataset(o.attId),f={n:l.n,did:l.id,t:o.t,st:o.st,ndeForms:j}
	b.push(f)
	}})
	return b
	},shouldEncodeHtmlContent:function F(){var b=L.walk("controller.model",this),c=(b&&b.shouldEncodeHtmlContent())&&!this.isViewOnly
	return c
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.vi.models.PanelFormatSaver")
	mstrmojo.vi.ui._IsViPanel=mstrmojo.provide("mstrmojo.vi.ui._IsViPanel",{_mixinName:"mstrmojo.vi.ui._IsViPanel",getPanelSaver:function A(){return null
	},setOpenStatus:function D(F,E,I,H){if(this.visible!==F){this.set("visible",F)
	if(!H){this.resetLayout(H)
	}if(!E){var G=this.getPanelSaver()
	if(G){G.saveProperty("visible",F)
	}}mstrApp.rootCtrl.generateToolbar()
	}},getOpenStatus:function C(){return !!this.visible
	},resetLayout:function B(){this.height=this.width="1px"
	this.parent.doLayout()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.DocDataService","mstrmojo.vi.controllers.UICmd")
	var H=mstrmojo.hash.copy,X=mstrmojo.array.forEach,F=mstrmojo.vi.controllers.UICmd
	var P=2,E=1,O=F.CMD_ACT_TYPE.UNDO,G=F.CMD_ACT_TYPE.EXEC,A=F.CMD_ACT_TYPE.REDO
	var Y=F.CMD_PHASE
	var W=F.CMD_STATE
	function U(){X(this._delayRemovedCmds,function(g){g.discard()
	})
	this._delayRemovedCmds=null
	}function L(){this.cmds=this.cmds.concat(this._delayRemovedCmds)
	this._delayRemovedCmds=null
	}function N(h){var g=this.cmds,j=this.pos
	this._delayRemovedCmds=g.splice(j+1)
	if(j>=this.size-1){g.shift().discard()
	}g.push(h)
	this.pos=g.length-1
	}mstrmojo.vi.controllers.UICmdMgr=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.vi.controllers.UICmdMgr",cmds:null,pos:-1,size:20,_delayRemovedCmds:null,controller:null,dataService:null,model:null,state:E,CMD_PHASE:Y,init:function Z(g){H(g,this)
	this.cmds=[]
	},execute:function J(j){if(this.state===P){this.handleError()
	}try{j=H(j,{mgr:this,undoUIState:this.model.getUIState(),action:G})
	var g=this.curCmd=new F(j)
	N.call(this,g)
	this.state=P
	g.execute()
	}catch(h){this.reset()
	throw h
	}},getInterimCmd:function S(){if(this.state===P){var g=this.cmds[this.pos]
	if(g&&g.state===W.INTERIM){return g
	}}return null
	},combineMultipleCMDs:function D(n,m,o){var l=this.cmds.length,j=m-n
	if(j<=0||n<0||m>=l){return false
	}var h=this.cmds[n],g=this.cmds[m]
	g.undoStateId=h.undoStateId
	g.undoUIState=h.undoUIState
	var k
	for(k=n
	k<m
	k++){this.cmds[k].discard()
	}this.cmds.splice(n,j)
	if(this.pos>=m){this.pos-=j
	}this.controller.onCmdMgrChanged()
	if(o){H(o,this.cmds[n])
	}},undo:function e(j){if(this.canUndo()){this.state=P
	try{var g=this.curCmd=this.cmds[this.pos--]
	g.action=O
	if(!g.skipUIState){this.model.setVizContentComponentByUIState(g.undoUIState)
	}g.redoUIState=this.model.getUIState()
	g.undoRedo(j)
	}catch(h){this.reset()
	throw h
	}}},redo:function Q(){if(this.canRedo()){this.state=P
	try{var g=this.curCmd=this.cmds[++this.pos]
	g.action=A
	if(!g.skipUIState){this.model.setVizContentComponentByUIState(g.redoUIState)
	}g.undoUIState=this.model.getUIState()
	g.undoRedo()
	}catch(h){this.reset()
	throw h
	}}},clearDelayRemovedCmds:function B(){U.call(this)
	},onSuccess:function I(g){if(this.state===E){this.handleError()
	}if(g!==this.curCmd){this.handleError("Wrong command")
	}this.state=E
	U.call(this)
	this.controller.onCmdMgrChanged()
	},onFailure:function b(){U.call(this)
	this.reset()
	},onCancel:function M(h,j){this.state=E
	var g=!!h.submitCount
	if(g){this.undo(j)
	}else{this.pos--
	}this.cmds.pop()
	h.discard()
	if(g){U.call(this)
	}else{L.call(this)
	}this.controller.onCmdMgrChanged()
	},untrackLastCmd:function d(){var g=this.cmds.pop()
	g.discard()
	this.pos--
	this.controller.onCmdMgrChanged()
	},reset:function d(){X(this.cmds,function(g){g.discard()
	})
	this.cmds.length=0
	this.pos=-1
	this.state=E
	this.controller.onCmdMgrChanged()
	},resetState:function a(){this.state=E
	},canUndo:function f(){return this.state===E&&this.pos>=0
	},canRedo:function R(){return this.state===E&&this.pos<this.cmds.length-1
	},onSubmitUpdates:function c(){if(this.state===E){this.cmds.splice(this.pos+1)
	this.controller.onCmdMgrChanged()
	}},isUndoRedo:function C(){var g=this.curCmd||{}
	return(this.state===P&&(g.action===O||g.action===A))
	},handleError:function K(g){this.reset()
	throw new Error(g||"Invalid state.")
	}})
	mstrmojo.vi.controllers.UICmdMgr.STATES={BUSY:P,IDLE:E}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.func","mstrmojo.array","mstrmojo.vi.models.editors.ControlsViewFactory","mstrmojo.Label","mstrmojo.EnumRWUnitType","mstrmojo.vi.ui.TextAlignButtonBar","mstrmojo.vi.ui.editors.EditorGroup","mstrmojo.ui.editors.controls.CharacterGroup","mstrmojo.ui.editors.controls.ContainerGroup","mstrmojo.vi.ui.editors.MoreOptionsEditor","mstrmojo.models.template.DataInterface")
	var I=mstrmojo.array,O=mstrmojo.hash,K=mstrmojo.EnumRWUnitType,L=mstrmojo.ui.editors.controls.ContainerGroup.CTRL_FLAGS,W="mstrmojo-more-options-editor",G="mstrmojo-more-options-editor-visfilter",J=mstrmojo.models.template.DataInterface
	mstrmojo.vi.models.editors.EditorModel=mstrmojo.declare(mstrmojo.vi.models.editors.ControlsViewFactory,null,{scriptClass:"mstrmojo.vi.models.editors.EditorModel",hostId:"",help:"",getHost:function C(){return mstrmojo.all[this.hostId]
	},docModel:null,getEditorContents:mstrmojo.emptyFn,getGroupTitle:function E(Y){return new mstrmojo.Label({cssClass:"edt-title",text:Y})
	},getShowTitleCheckbox:function P(){var Y=this.getHost()
	return this.getCheckboxAndLabel(Y.parent.getTitleBarVisibility(),mstrmojo.desc(13599,"Show titlebar"),function(Z){Y.parent.toggleTitleBar(!!Z)
	})
	},getTextAlign:function H(a,b,Z){var Y=new mstrmojo.vi.ui.TextAlignButtonBar(!Z?null:{itemsValueMap:Z})
	Y.singleSelect(I.find(Y.items,"id",a))
	Y.onValueChange=b
	return Y
	},getWrapText:function U(Z,Y){return this.getCheckboxAndLabel(Z,mstrmojo.desc(13577,"Wrap text"),Y)
	},getChangeFormatPropertyFn:function A(Y,Z){var a=this.id
	return function(d,b){var c=mstrmojo.all[a]
	c.docModel.changeUnitFormatProperty(c.getHost().parent,[{formatType:Z||1,propertyName:Y,newValue:d,oldValue:b}])
	}
	},getChangeGroupLayoutFn:function N(){var Y=this.docModel
	return function(Z,c,a){var b=["left","top","width","height"].indexOf(Z)>-1,d={}
	if(b){d[Z]=c
	Y.changeUnitBoxLayout(d)
	}}
	},getChangeGroupPropertyFn:function X(Y){var Z=this.id
	return function(a,c,b){(mstrmojo.all[Z].getChangeFormatPropertyFn(a,Y))(c,b)
	}
	},getCharacterGroup:function B(b,Y,Z){var c={onGroupValueChange:b}
	if(Z){c.visibleControls=Z
	}var a=new mstrmojo.ui.editors.controls.CharacterGroup(c)
	a.setFormatSource(Y)
	return a
	},isContainerPositionSizeEnabled:function D(){var b=this.getHost(),a,Y=false,Z=this.docModel,c=O.walk("defn.t",b)===K.PANEL,d=function(e){return O.walk("parent.defn.ifp",e)
	}
	if(!c&&Z){a=Z.getOwningPanel(b)
	if(a&&!d(a)){Y=a.isManualMode()
	}}return Y
	},getContainerGroup:function S(Y,c,Z,b){var a=this.docModel,e=this.isContainerPositionSizeEnabled(),d=L.FILL_COLOR+L.BORDER+(e?L.SIZE_POSITION:0),f=new mstrmojo.ui.editors.controls.ContainerGroup(O.copy(b,{onGroupValueChange:c||this.getChangeGroupPropertyFn(),onGroupLayoutChange:this.getChangeGroupLayoutFn(),visibleControls:Z||d}))
	f.setFormatSource(Y)
	if(e){a.attachEventListener("setPositionAndSize",this.id,function(g){f.setPositionAndSize(g)
	})
	}a.raiseSetPositionSizeEvent()
	return f
	},getMoreOptionsEditorLink:function Q(a,Z,b,Y){return new mstrmojo.Label({text:mstrmojo.desc(9126,"More options"),cssClass:"edt-link",onclick:function(){this.openMoreOptionsEditor(a,Z,b,Y)
	}.bind(this)})
	},openMoreOptionsEditor:function R(d,Z,e,Y){var c=this.getHost(),b
	var a=function(p,l,n,h){var o=this.host,f=o.controller,m=f.dataService(),j=[],k=o.model,g=o.k
	if(!O.isEmpty(p)){n=mstrmojo.func.wrapMethods(f._getXtabCallback(o),n)
	J.forEachGSI(o.gridInfo,function(r,q){j=j.concat([m.getUpdateTemplateAction(q,[k.getAdvancedPropertiesAction(p)],null,g)])
	},g)
	}j=j.concat(l||[])
	if(!O.isEmpty(j)){f.submitUndoRedoUpdates(j,null,n,h)
	}}
	if(mstrApp.isInVFConfigMode){b=mstrmojo.all[G]||new mstrmojo.vi.ui.editors.MoreOptionsEditor({id:G,submitAction:a})
	}else{b=mstrmojo.all[W]||new mstrmojo.vi.ui.editors.MoreOptionsEditor({id:W,submitAction:a})
	}b.set("data",d)
	b.set("showHeadersSection",!!Z)
	b.set("showSelectionLimitSection",!!c.GMController)
	b.set("showIncrementalFetchSection",!!Y)
	b.set("lockHeadersCase",e)
	b.set("host",c)
	b.open()
	return b
	},replaceChildControls:function M(a,Z){var Y=[].concat(a.children||[])
	a.removeChildren()
	Y.forEach(function(b){b.destroy()
	})
	a.addChildren(Z)
	a.doLayout()
	},getHelpUrl:function F(){return this.help
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.StackContainer","mstrmojo._IsRwDocument","mstrmojo._HasBuilder","mstrmojo._HasLayout","mstrmojo.express.ui._IsDocumentView","mstrmojo.array")
	mstrmojo.Doc=mstrmojo.declare(mstrmojo.StackContainer,[mstrmojo._HasBuilder,mstrmojo._IsRwDocument,mstrmojo._HasLayout,mstrmojo.express.ui._IsDocumentView],{scriptClass:"mstrmojo.Doc",cssClass:"mstrmojo-Doc",markupSlots:{containerNode:function(){return this.domNode
	},popupNode:function(){return this.domNode
	},drillLinkMenuNode:function(){return this.domNode
	}},layoutConfig:{h:{containerNode:"100%"},w:{containerNode:"100%"}},getLayouts:function(){return mstrmojo.array.filter(this.children,function(G){return !!G.layoutConfig
	})
	},buildChildren:function D(H){if(this._super(false)){var G=this.model.getSelectedKey(this.node),I=(G!==null)?mstrmojo.array.find(this.children,"k",G):-1,J=(I>-1)?this.children[I]:null
	if(J){this.set("selected",J)
	}return true
	}return false
	},restoreLayoutState:function B(H){this._super(H)
	var G=H.defn.zf
	if((this.zf!==G||this.model.getZoomFactor()!==G)&&this.updateZoom){this.zf=G
	this.updateZoom()
	}},_set_selected:function F(K,I){if(!this.selected){return this._super(K,I)
	}if(I){var H=this,G=this._super,J=I.k
	this.getNewLayout({layoutKey:J},this.children,(J!==this.model.currlaykey),{success:function(P){var L=H.selected
	G.call(H,K,P)
	H.raiseEvent({name:"selectedChange",prop:"selected",value:P,valueWas:L})
	if(!mstrApp.optimizeFitToPage){var O=H.model.zt
	if(O===1||O===2){var S=mstrApp.docModel.controller,R=S.zoom,N=S.view.zoomValue,M=N&&N.dssid,Q=(M&&String(M).split(":"))||[]
	if(R&&O===parseInt(Q[0],10)){R.call(S,N&&N.dssid)
	}}}}})
	}return true
	},onLayoutRebuilt:function E(G){this._set_selected("selected",G)
	},replaceLayout:function C(I,H){var G=this.removeChildren(I)
	I.destroy()
	var J=this.builder.build([H],this.model)
	this.addChildren(J,G)
	return J[0]
	},getSelectedLayoutWidget:function A(){return this.selected
	},selectorMenuRef:"mstrmojo.SelectorMenu",fpMenuRef:"mstrmojo.FilterPanelMenu"})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.HBox","mstrmojo.TextBox","mstrmojo.Button","mstrmojo.css","mstrmojo.vi.ui.ElementsBrowser","mstrmojo.vi.ui.IncHierarchyCheckList","mstrmojo.mstr.EnumDSSXMLObjectTypes")
	var G=mstrmojo.css,A=mstrmojo.mstr.EnumDSSXMLObjectTypes
	var E="36px"
	mstrmojo.vi.ui.HierarchyElementsCheckListBrowser=mstrmojo.declare(mstrmojo.vi.ui.ElementsBrowser,null,{scriptClass:"mstrmojo.vi.ui.HierarchyElementsCheckListBrowser",children:[{scriptClass:"mstrmojo.HBox",slot:"searchBoxNode",alias:"util",cssClass:"elemsBrowser-utils-bar",children:[{scriptClass:"mstrmojo.Box",cssClass:"eb-box-search",alias:"box",children:[{scriptClass:"mstrmojo.TextBox",alias:"searchBox",hint:"Search",cssClass:"eb-searchBox",onEnter:function B(){var O=this.value,M=this.parent.parent.parent,N=!M.searchPattern&&!O
	if(!N){M.set("searchPattern",O)
	}this.blur()
	}},{scriptClass:"mstrmojo.Button",cssClass:"eb-searchBox-clear",text:"",onclick:function(){var M=this.parent.searchBox
	M.set("value","")
	M.cleanUp()
	M.focus()
	M.onEnter()
	},bindings:{visible:"(this.parent.searchBox.value || '').length > 0"}},{scriptClass:"mstrmojo.Button",cssClass:"eb-searchBox-search",text:"",onclick:function(){var M=this.parent.searchBox
	M.focus()
	M.onEnter()
	}}]}]},{scriptClass:"mstrmojo.HBox",slot:"buttonPanelNode",alias:"buttonPanel",cssClass:"elemsBrowser-button-panel"},{scriptClass:"mstrmojo.vi.ui.IncHierarchyCheckList",alias:"elementList",slot:"elementListNode",allowUnlistedValues:false,bindings:{disableLevel:"this.parent.disableLevel"},getDataHelper:function(){return this.parent.ifDataHelper
	},getAttribute:function(){return this.parent.attribute
	},isHiearachyDisplay:function F(){var M=this.parent
	return !M.searchPattern||M.searchPattern===""
	},setSelectedItems:function J(M){if(typeof M==="object"){this.setSelectionByExprJSON(M)
	}},postSelectionChange:function I(){var M=this.getAttribute()
	if(M){this.parent.onItemsSelectionChange(this.buildSelectionExprJSON(M))
	}}}],init:function L(M){this._super(M)
	G.addWidgetCssClass(this,"hierarchy")
	if(this.disableLevel){G.addWidgetCssClass(this,"disable-level")
	}},postCreateChildren:function D(){var M=this.elementList
	this.util.addChildren(M.getLevelPopupConfig())
	this.buttonPanel.addChildren([M.getAllButtonConfig(true),M.getAllButtonConfig(false)])
	},onattributeChange:function H(M){var N=this.elementList
	N.clearItems()
	this._super(M)
	},onsearchPatternChange:function C(){var N=this.elementList,M=N.isHiearachyDisplay()
	this._super()
	this.buttonPanel.set("visible",M)
	this.layoutConfig.h.buttonPanelNode=M?E:"0px"
	this.doLayout()
	},isObjSearchable:function K(M){return true
	},onElementsListchange:mstrmojo.emptyFn,updateClearAllBtnState:mstrmojo.emptyFn,_set_selectedItems:null})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ME.ObjectInputBox")
	var B=mstrmojo.expr
	mstrmojo.ME.TransformInputBox=mstrmojo.declare(mstrmojo.ME.ObjectInputBox,null,{cssClass:"mstrmojo-ME-ObjectInputBox-transform",items:[],noEditButton:true,folderLinksContextId:26,browsableTypes:[B.TP.FOLDER,B.TP.ROLE].join(","),getCandidatesThroughTaskCall:function A(E,D){mstrmojo.ME.MetricDataService.getTransformations(E,D)
	},hideItemWidgetBrowseButton:function C(){return this.isDME
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ME.ObjectInputBox")
	var B=mstrmojo.expr
	mstrmojo.ME.ConditionInputBox=mstrmojo.declare(mstrmojo.ME.ObjectInputBox,null,{cssClass:"mstrmojo-ME-ObjectInputBox-condition",folderLinksContextId:10,browsableTypes:[B.TP.FOLDER,B.TP.FILTER,B.STP.PROMPT_OBJECTS].join(","),noEditButton:true,maxObjectCount:1,getCandidatesThroughTaskCall:function A(D,C){D.rootFolderType=39
	D.blockCount=this.blockCount
	mstrmojo.ME.MetricDataService.getFilters(D,C)
	},hideItemWidgetBrowseButton:function(){return this.isDME
	}})
	})()
	(function(){mstrmojo.requiresCls("mstrmojo.Label","mstrmojo.Pulldown","mstrmojo.ME.ObjectInputBox","mstrmojo.ME.MetricDataService","mstrmojo.ME.Enum")
	mstrmojo.requiresDescs(1107,12178)
	var J=mstrmojo.expr,D=mstrmojo.ME.Enum.DYNAMIC_DIMTY
	mstrmojo.ME.LevelInputBox=mstrmojo.declare(mstrmojo.ME.ObjectInputBox,null,{cssClass:"mstrmojo-ME-ObjectInputBox-level",oncandidatesChange:function F(E){this.candidates.items=D.getItems("level").concat(this.candidates.items)
	},hidePulldownButton:function(){return !this.isDME
	},hideItemWidgetBrowseButton:function(){return this.isDME
	},folderLinksContextId:16,browsableTypes:[J.TP.FOLDER,J.TP.ATTR,J.TP.DIM].join(","),getCandidatesThroughTaskCall:function K(L,E){L.rootFolderType=39
	L.blockCount=this.blockCount
	mstrmojo.ME.MetricDataService.getAttributes(L,E)
	},itemFunction:function B(M,E,L){M.filtering=M.filtering||1
	M.grouping=M.grouping||1
	var N=this._super(M,E,L,mstrmojo.ME.LevelObjectItem)
	N.optionButtonVisible=true
	return N
	},updateSuggestion:function C(E){E=[{n:this.isDME?mstrmojo.desc(12178,"Visualization level"):mstrmojo.desc(1107,"Report Level"),did:-1,t:-1,state:0}].concat(E)
	if(this._super){this._super(E)
	}},add:function H(L,E){var N=true,M=this.items
	mstrmojo.array.forEach(L,function(O){mstrmojo.array.forEach(M,function(P){if(P.did&&P.did===O.did){N=false
	return false
	}})
	})
	if(N){this._super(L,E)
	}}})
	mstrmojo.ME.LevelObjectItem=mstrmojo.declare(mstrmojo.ME.ObjectItem,[mstrmojo._HasPopup],{optsRef:{scriptClass:"mstrmojo.Editor",title:mstrmojo.desc(9598,"Level Options"),cssText:"width: 450px
	",onOpen:function A(){var E=this.opener.data
	this.filterOption.set("value",E.filtering)
	this.groupOption.set("value",E.grouping)
	},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(9599,"Relationship with Report Filter:")},{scriptClass:"mstrmojo.Pulldown",alias:"filterOption",itemField:"n",itemIdField:"did",items:[{n:mstrmojo.desc(9600,"Standard - Metric calculates only for elements found in the filter"),did:1},{n:mstrmojo.desc(9601,"Absolute - Raises the calculation to the selected level, if possible"),did:2},{n:mstrmojo.desc(9602,"Ignore - Omit filtering criteria based on selected level and its related attributes"),did:3},{n:mstrmojo.desc(9603,"None - Unspecified - the selected level and group components define the filter"),did:4}]},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(9604,"Metric Aggregations:")},{scriptClass:"mstrmojo.Pulldown",alias:"groupOption",itemField:"n",itemIdField:"did",items:[{n:mstrmojo.desc(9605,"Standard - Metric calculates at the selected level, if possible"),did:1},{n:mstrmojo.desc(9606,"None - Exclude the selected level and children from the GROUP BY clause in the SQL"),did:2},{n:mstrmojo.desc(9607,"Beginning lookup - Use the first value of the lookup table"),did:3},{n:mstrmojo.desc(9608,"Ending lookup - Use the last value of the lookup table"),did:4},{n:mstrmojo.desc(9609,"Beginning fact - Use the first value of the fact table"),did:5},{n:mstrmojo.desc(9610,"Ending fact - Use the last value of the fact table"),did:6}]},{scriptClass:"mstrmojo.HBox",slot:"buttonNode",cssText:"float:right
	margin: 5px 0px
	",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton hot",text:mstrmojo.desc(1442,"OK"),onclick:function(){var E=this.parent.parent,L=E.opener
	if(L.saveOnClose){L.saveOnClose(E.filterOption.value,E.groupOption.value)
	}E.close()
	}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton",text:mstrmojo.desc(221,"Cancel"),onclick:function(){var E=this.parent.parent
	E.close()
	}}]}]},saveOnClose:function G(E,M){var L=this.data
	L.filtering=E
	L.grouping=M
	if(this.parent.onSaveOnClose){this.parent.onSaveOnClose()
	}},options:function I(){this.openPopup("optsRef",{title:'"'+this.data[this.itemField]+'" '+mstrmojo.desc(9598,"Level Options"),zIndex:40})
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._Formattable","mstrmojo.DocSelector","mstrmojo._IsSelectorTarget","mstrmojo.Serializer","mstrmojo._IsPanelStack","mstrmojo._HasBuilder","mstrmojo.array","mstrmojo.css","mstrmojo.hash")
	var H=mstrmojo.array
	function E(O,N){var M=H.find(O.node.data.panels,"k",O.selectedKey)
	M+=(N||0)
	O.set("selectedIdx",M)
	}function I(M){M.set("hasNextPanel",(M.selectedIdx<(M.node.data.panels.length-1)))
	M.set("hasPreviousPanel",(M.selectedIdx>0))
	}mstrmojo.DocPanelStack=mstrmojo.declare(mstrmojo.Container,[mstrmojo._Formattable,mstrmojo._IsSelectorTarget,mstrmojo._HasBuilder,mstrmojo._IsPanelStack],{scriptClass:"mstrmojo.DocPanelStack",markupString:'<div id="{@id}" k="{@k}" title="{@tooltip}" nm="{@n}" class="mstrmojo-DocPanelStack {@cssClass}" style="{@domNodeCssText}"><div></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild
	}},formatHandlers:{domNode:["RW","B","overflow"]},model:null,hasNextPanel:false,hasPreviousPanel:false,applyEnabled:false,clearEnabled:true,renderMode:"onshow",n:"",node:null,selectedIdx:undefined,selectedKey:"",init:function L(M){this._super(M)
	E(this)
	this.node.sw=(this.node.data.panels.length>1&&this.defn.sw)
	this.n=M.node.defn.n
	},onselectedKeyChange:function J(N){var O=this._super(N),M=O.on
	if(M._delayRefresh){if(!M.defn.dirtyKeys){M.refresh()
	}delete M._delayRefresh
	}E(this)
	},updateSelectedIdx:function B(M){E(this,M)
	},onselectedIdxChange:function G(){I(this)
	},_bufferedSlices:null,canApply:function A(){var O,N,M,P
	for(O in this.children){M=this.children[O]
	if(!M.children){continue
	}for(N in M.children){P=M.children[N]
	if(P.defn&&P.defn.ttl!==undefined){P=P.children[1]
	}if(P&&P.canApply&&!P.canApply()){return false
	}}}return true
	},bufferSlice:function F(N){var M=this._bufferedSlices=this._bufferedSlices||[]
	M.push(N)
	this.set("applyEnabled",this.canApply())
	},applyBufferedSlices:function D(){var N=this._bufferedSlices
	if(!N){return 
	}var M=function(S){var R=[],Q,P=String.fromCharCode(30)
	mstrmojo.hash.forEach(S,function(W){Q=W.tks
	if(Q){var U=H.isArray(Q)?Q:Q.split(P)
	R=R.concat(U)
	}})
	return R
	}
	var O=function(R){var P=false
	for(var Q=0
	Q<R.length
	Q++){if(R[Q].isUConDS){P=true
	break
	}}return P
	}
	this.model.slice({bufferedSlices:true,tks:M(N),events:N,isUConDS:O(N)})
	this.clearBuffSlices()
	},clearBuffSlices:function(){this._bufferedSlices=null
	this.set("applyEnabled",false)
	},_isFPS:function K(){return !!this.defn.ifp
	},clearAllFilter:function C(){var R=mstrmojo.DocSelector.STYLES,M=this
	if(!M._isFPS()){return 
	}if(!(M.children&&M.children.length)){return 
	}var Q,O,X,Z,W,N,S
	for(Q in M.children){X=M.children[Q]
	if(!X.children){continue
	}for(O in X.children){Z=X.children[O]
	if(Z.defn.ttl!=="undefined"){Z=Z.children[1]
	}if(Z.model){W={tks:Z.tks,ck:Z.ck,ckey:Z.ckey,unset:true}
	M.bufferSlice(W)
	var U=Z.node.defn,P=Z.node.data
	var Y=H.filterOne(P.elms,function(a){return a.t===14
	})
	if(U.showall&&Y){P.ces=[Y]
	U.cek=[Y.v]
	}else{P.ces=[]
	U.cek=null
	}P.unset=true
	if(U.sus){delete U.sus
	delete U.suc
	}P.cs=[]
	N=Z.content
	if(parseInt(U.style,10)===R.SCROLLER){N.min=0
	S=N.items&&N.items.length
	N.max=S?S-1:0
	}Z.update(Z.node)
	Z.refresh()
	}}}},update:function(O){if(this._super){this._super(O)
	}var M=O.data&&O.data.selKey
	if(M&&M!==this.selectedKey){this.defn.newSelKey=M
	}var N=function(P){return P.data&&P.data.panels&&P.data.panels.length
	}
	if(this.children&&(this.children.length!==N(O))){this.rebuildPanels()
	}},rebuildPanels:function(){this.destroyChildren(false)
	this.buildChildren(false)
	},postBuildRendering:function(){this._super()
	if(this.defn.itb){mstrmojo.css.addClass(this.domNode,"tableControl")
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocSelector","mstrmojo.MetricSelectorUtility","mstrmojo.hash","mstrmojo.array","mstrmojo.css","mstrmojo.expr")
	var L=mstrmojo.hash,J=mstrmojo.array,Q=mstrmojo.css,N=mstrmojo.DocSelector.DATAPARAMS
	mstrmojo.MetricQualDocSelector=mstrmojo.declare(mstrmojo.DocSelector,null,{scriptClass:"mstrmojo.MetricQualDocSelector",_ieformatHandlers:{domNode:["F","text-align","vertical-align","line-height","z-index","top","left"],contentNode:["width","B","P","height"],filterNode:["height","width","B","P","fx","background-color"],item:["color","font","text-decoration","text-align","line-height"]},formatHandlers:{domNode:["F","text-align","vertical-align","line-height","z-index","top","left"],contentNode:["height","width","B","P","fx","background-color"],item:["color","font","text-decoration","text-align","line-height"]},init:function P(W){this._super(W)
	this.spm=true
	},initControlInfo:function F(){this._super()
	var X=mstrmojo.MetricSelectorUtility,Z=this.node,a=Z.data,Y=Z.defn
	L.copyProps(["srcid","srct"],Y,this)
	this.qua=a.qt
	this.dt=a.dt
	var W=X.getOpIdxByfunc(a.f,a.ft)
	if(W!==-1){this.include=X.getIncludeByOp(W)
	}},canApply:function B(W){return true
	},onquaChange:function O(W){this.node.data.qt=W.value
	},_buildEvent:function H(Y,Z){var a=[]
	var X=false
	J.forEach(Z.cs,function(f){a.push(f.v)
	if(Y.dtp===undefined){Y.dtp=f.dtp
	}if(f.dtp===mstrmojo.expr.DTP.BIGDECIMAL){X=true
	}})
	if(X){Y.dtp=mstrmojo.expr.DTP.BIGDECIMAL
	}if(a.length){Y.cs=a.join(mstrmojo.elementHelper.ELEM_SEPARATOR)
	}var d=mstrmojo.MetricSelectorUtility.getFuncInfo(Z.opId,Z.qua)
	Y.f=Z.f=d.f
	Y.ft=Z.ft=d.ft
	Y.include=this.defn.include=this.include=Z.include
	Y.ckey=this.ckey
	Y.srcid=this.srcid
	Y.srct=this.srct
	if(Z.forceUnset){Y.retrieveCtrlKey=true
	}Y.unset=Z.unSet||Z.forceUnset
	Y.onlyInclude=Z.onlyInclude
	if(Z.changeInclude){Y.changeInclude=Z.changeInclude
	Y.forceApply=true
	Z.changeInclude=false
	}if(Z.changeQual){Y.changeQual=Z.changeQual
	Z.changeQual=false
	}Y.qt=Z.qua
	if(mstrApp.isAppStatePause&&mstrApp.isAppStatePause()){var e=this.model,b=e.getCurrentLayoutDef(),c=b&&b.units,W=this.k
	if(c[W]){c[W].cesChange=true
	}e.setDataReady(this.k,this.id,N.CSREADY,true,["f","ft","cs"],[Z.f,Z.ft,Z.cs])
	}this.node.defn.set("cek",{id:this.id,f:Z.f,ft:Z.ft,cs:Z.cs,qua:Z.qua,include:Z.include})
	},preBuildRendering:function A(){var W=this._super()
	if(this.isInFilterPanel()&&!this.isHorizFP()){this.children[0].width=this.parent.parent.contentWidth
	}return W
	},postBuildRendering:function R(){this._super()
	if(this.formatHandlers.filterNode){var W=this.getFormats()
	if(!W.height){this.updateHeight()
	}}},getCekEvtListener:function U(X,W){return function(Y){X.handleActionInSyncPhase(function(){X.set("qua",Y.value.qua)
	if(X.id!==Y.value.id){W.updateExpr(Y.value)
	if(X.style===mstrmojo.DocSelector.STYLES.METRIC_SLIDER){X.set("include",Y.value.include)
	}}})
	}
	},updateWidget:function M(a){var b=this._super(a),X=a.node,W=a.selIdx,Z=X.data,Y=Z.elms
	if(b.updateData){b.numFmts=a.defn.numFmts
	a.handleActionInSyncPhase(function(){b.updateData({low:Z.min,high:Z.max,cnt:Z.cnt,nov:Z.nov},{cs:Z.cs,f:Z.f,ft:Z.ft,qua:Z.qt})
	})
	}b.items=Y
	b.selectedIndices=W
	return b
	},newAndInitWidget:function S(W){var X=this._super(W)
	W.attachEventListener("quaChange",X.id,function(Y){this.set("qua",Y.value)
	})
	return X
	},getWidgetConfig:function D(b,Z,Y,a){var X=b.getFormats(),W=this._super(b,Z,Y,a)
	L.copyProps(["height","width","font"],X,W)
	L.copyProps(["cs","ft"],Y,W)
	W.fmts=Y.f
	W.dt=b.dt
	W.qua=b.qua
	W.numFmts=Y.numFmts
	return W
	},isSelectAll:function E(){var Y=mstrmojo.MetricSelectorUtility.OP,X=this.children&&this.children[0],W=X&&(Y._IS_NULL===X.opId||Y._IS_NOT_NULL===X.opId)
	return X===undefined?true:(!X.cs||X.cs.length===0)&&!W
	},isFilterNothing:function K(){return false
	},getSelectedItemAria:function I(){var Y=L.walk("content.func.value",this)||"",Z=L.walk("content.leftText.value",this)||"",X=L.walk("content.rightText.value",this)||"",W=""
	W+=Y?Y+" ":""
	W+=Z
	W+=X?" "+X:""
	return W+", "
	},getStyleSpecificAria:function G(){return mstrmojo.desc(5225,"Qualification")
	},buildNavList:function C(){if(!this.hasRendered){return 
	}var g=this.content,e,d,j,Y,k=g.func,f="menu",h=g.leftText,X="textbox",c="type, type box",b=g.rightText,l="textbox",a="type, type box",Z=L.walk("parent.menuBtnInfo.btn",this),W=[]
	J.forEach([[k,k.selectedNode,f,""],[h,h.inputNode,X,c],[b,b.inputNode,l,a]],function(m){e=m[0]
	d=m[1]
	j=m[2]
	Y=m[3]
	if(Q.getStyleValue(e.domNode,"display")!=="none"){if(d&&j&&(d.getAttribute("role")!==j)){d.setAttribute("role",j)
	}if(d&&Y&&(d.getAttribute("aria-label")!==Y)){d.setAttribute("aria-label",Y)
	}if(d.getAttribute("tabindex")!=="-1"){d.setAttribute("tabindex","-1")
	}W.push(e)
	}})
	if(Z){W.push(Z)
	}this.navList=W
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.vi.util.A11yUtility","mstrmojo.dom","mstrmojo.elementHelper","mstrmojo.DocSelector","mstrmojo.ui.MultiSelectPulldown","mstrmojo.ui.MultiSelectSearchablePulldown","mstrmojo.ui.Pulldown","mstrmojo.ui.SearchablePulldown")
	var R=mstrmojo.hash,N=mstrmojo.array,D=mstrmojo.dom,W=mstrmojo.elementHelper,U=mstrmojo.DocSelector.DATAPARAMS,Y=mstrmojo.DocSelector.STYLES
	var Q=0,B=1,C=2,J=4,K=1000
	function P(h){var g=null,c=null,f=0,e,d
	for(e in h){d=Number(e)
	f++
	g=(g===null||g>d)?d:g
	c=(c===null||c<d)?d:c
	}return f===0||c-g===f-1
	}mstrmojo.ListDocSelector=mstrmojo.declare(mstrmojo.DocSelector,null,{scriptClass:"mstrmojo.ListDocSelector",formatHandlers:{domNode:["F","text-align","vertical-align","line-height","z-index","top","left"],contentNode:["height","width","B","P","fx","background-color"],item:["color","font","text-decoration","text-align","line-height"]},_ieformatHandlers:{domNode:["F","text-align","vertical-align","line-height","z-index","top","left"],contentNode:["width","B","P","height"],filterNode:["height","width","B","P","fx","background-color"],item:["color","font","text-decoration","text-align","line-height"]},_buildEvent:function L(AD,g){var u=this.node,f=this.defn,q=u.data.elms,h=[],x=[],AF=g.multiSelect,j=g.selectedIndices,n=g.allIdx,l=!!j[n],z,t,AB=[],m=this.include,o=function(){var AG=this.isInFilterPanel()&&this.getFilterPanel()
	return AG&&AG.isAutoApply()
	}.bind(this)
	if(!AF){var c=q[g.selectedIndex]||W.ELEM_ALL,p=c&&c.v
	h=[p]
	AB=[p+"
	"+c.n]
	x=[c]
	}else{if(l){t=q[n].v
	h=[t]
	AB=[t]
	x=[q[n]]
	}else{if(j[n]){j[n]=false
	}var AA=R.keyarray(j,true).sort(N.numSorter),r={}
	for(z in AA){r[AA[z]]=j[AA[z]]
	}j=r
	R.forEach(j,function(AH,AG){if(AH&&!q[AG].hid){h.push(q[AG].v)
	AB.push(q[AG].v+"
	"+q[AG].n)
	x.push(q[AG])
	}})
	}}this.defn.set("cek",h)
	if(h.length>0||!f.nsb||f.nsb===Q){if(mstrApp&&mstrApp.isVI&&parseInt(this.style,10)===J&&q&&q.length>K&&h.length>q.length/2&&(o()||!this.isInFilterPanel())){AD.include=!m
	AD.forceBuffer=true
	AD.requireToggle=true
	g.include=!m
	var w=[],e=[]
	N.forEach(q,function(AH,AG){if(AG!==n&&!j[AG]){w.push(AH.v)
	e.push(AH.v+"
	"+AH.n)
	}})
	this.defn.set("cek",w)
	AD.eid=((parseInt(AD.type,10)===1)?e:w).join(W.ELEM_SEPARATOR)
	}else{AD.eid=((parseInt(AD.type,10)===1)?AB:h).join(W.ELEM_SEPARATOR)
	}}else{if(f.nsb===B||!f.showall){AD.unset=true
	}else{if(f.nsb===C){AD.eid=W.ELEM_ALL_ID
	x=[q[n]]
	}}}if(mstrApp.isAppStatePause&&mstrApp.isAppStatePause()){var AC=this.model,AE=AC.getCurrentLayoutDef(),v=AE&&AE.units,d=this.k
	if(v&&v[d]){v[d].cesChange=true
	}u.data.ces=x
	u.data[U.CESREADY]=true
	this.model.setDataReady(this.k,this.id,U.CESREADY,true,"ces",x)
	}var k=D.position(g.domNode,true)
	if(k){AD.left=k.x
	AD.top=k.y
	}if(l&&this.multi&&m){N.forEach(q,function(AH){var AG=AH.v
	if(h[0]!==AG){h.push(AG)
	}})
	}if(f.sec){this.parent.set("count",f.style===mstrmojo.DocSelector.STYLES.SCROLLER?"":W.buildElemsCountStr(f.multi?h:q,q,this.isSelectionExcluded()))
	}},getCekEvtListener:function b(e,d){var c=e.defn.style
	if(c===Y.PULLDOWN||c===Y.SCROLLER){return function(f){var k=d.items,l={}
	if(!d.multiSelect){var g=d.selectedIndex=N.find(k,"v",f.value[0])
	if(g>-1){l[g]=true
	}}else{var j=d.allIdx,h
	if(j>-1&&N.indexOf(f.value,k[j].v)>-1){for(h=0
	h<k.length
	h++){l[h]=true
	}}else{N.forEach(f.value,function(n){var m=N.find(k,"v",n)
	if(m>-1){l[m]=true
	}})
	}}e.selIdx=d.selectedIndices=l
	e.handleActionInSyncPhase(function(){d.refresh()
	})
	}
	}return this._super(e,d)
	},preBuildRendering:function A(){var e=this.node.defn.style,d=R.clone(this.formatHandlers),c=d.contentNode
	if(c){if((e===Y.RADIO||e===Y.CHECKBOX)&&d.filterNode){c.push("fx")
	c.push("background-color")
	delete d.filterNode
	}if(e===Y.LIST){delete c.height
	}}this.formatHandlers=d
	return this._super()
	},getWidgetClass:function Z(e,d,c){if(d===Y.PULLDOWN){if(mstrApp.isVI&&!D.isMobile){return e.multi?"ui.MultiSelectSearchablePulldown":"ui.SearchablePulldown"
	}return e.multi?"ui.MultiSelectPulldown":"ui.Pulldown"
	}return this._super(e,d,c)
	},getWidgetConfig:function G(h,f,e,g){var d=h.getFormats(),c=this._super(h,f,e,g)
	if(f===Y.SCROLLER){h.extCls="extSlider"
	if(mstrApp&&mstrApp.isVI){c.isHoriz=true
	}R.copyProps(["height","width"],d,c)
	}if(f===Y.PULLDOWN&&!e.multi){c.isHostedWithin=false
	c.onitemSelected=c.onchange
	c.focusOnPopup=mstrmojo.App&&mstrmojo.App.isOIVM()
	}if(this.isRecursiveAttributeSelector()){c.getlevelNames=function(){var j={}
	N.forEach(h.levelForms,function(k){j[k.lv]=k.lvfn
	})
	return j
	}
	}return c
	},updateWidget:function S(f){var g=this._super(f),c=f.selIdx
	var d=g.items=f.node.data.elms
	g.selectedIndices=c
	g.include=f.defn.include
	if(!g.multiSelect&&d&&d.length){var e=R.keyarray(c)
	if(e.length===1){g.selectedIndex=Number(e[0])
	}else{g.selectedIndices={}
	g.selectedIndex=-1
	}}return g
	},getSelectedItemAria:function M(){var g=this.defn.style,j,d,f="",c=this.defn.style===2?false:this.defn.horiz,h="mstrmojo."+this.getWidgetClass(this,this.defn.style,c),e=this.content&&this.content.scriptClass
	if(h!==e||!this.enableAccessibility){return""
	}switch(g){case Y.PULLDOWN:j=this.content.text
	return(j&&j+", ")||""
	case Y.RADIO:case Y.CHECKBOX:case Y.BUTTON:case Y.LINK:case Y.LIST:d=this.content.getSelectedItems()
	N.forEach(d,function(k){f+=(k.n+", ")
	})
	return f
	case Y.SCROLLER:f=R.walk("content.summary.text",this)||""
	if(f){f+=", "
	}return f
	default:return""
	}},getStyleSpecificAria:function I(){var c=this.defn.style
	switch(c){case Y.PULLDOWN:return"collapsed, pop up button"
	case Y.RADIO:return mstrmojo.desc(13636,"Radio Buttons")
	case Y.CHECKBOX:return mstrmojo.desc(4733,"Check Boxes")
	case Y.BUTTON:return mstrmojo.desc(4734,"Button Bar")
	case Y.LINK:return mstrmojo.desc(4735,"Link Bar")
	case Y.LIST:return mstrmojo.desc(6738,"List Box")
	case Y.SCROLLER:return mstrmojo.desc(4730,"Slider")
	}},updateNavList:function H(c){this.navList=c
	},buildNavList:function F(){if(!this.hasRendered){return 
	}if(this.content.getNavList){this.navList=this.content.getNavList()
	}else{this.navList=[]
	}},isSelectAll:function E(){var f=this.node.data.elms,e=this.children&&this.children[0],g=e.selectedIndices,d=e.allIdx,c=!!g[d],h=(f[d]&&f[d].v)||W.ELEM_ALL_ID
	if(this.include){return c||N.filter(f,function(j){return j.v!==h
	}).length===R.keyarray(g).length
	}else{return R.isEmpty(g)
	}},isFilterNothing:function O(){var e=this.children&&this.children[0],f=e.selectedIndices,d=e.allIdx,c=!!f[d]
	return c
	},destroy:function a(){var c=this.node.data
	this._super()
	if(c.del){N.insert(c.elms,c.del.idx,c.del.elem)
	delete c.del
	}},isValidSelection:function X(){var g=this.node,h=g.data,e=g.defn,k=h.ces,d=h.elms,c=this.model,j=e.multi,f=!this.allowsTogglingMultiSelect()
	if(!j&&k&&k.length>1&&!f){return false
	}if(e.style===mstrmojo.DocSelector.STYLES.SCROLLER&&!P(this.selIdx)){return false
	}if(c.isSelWarnFlagOn(this.k)&&k&&k.length===0&&d.length>0){return this.children[0].noneIdx&&this.children[0].noneIdx>-1
	}return true
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocSelector","mstrmojo.Button","mstrmojo.form")
	var W=8,P=16,X=4,S=1,K=2,D=4,R=8,B=16,N=268435456,J=536870912,A=1073741824,I=window.mstrConfig&&!window.mstrConfig.simpleDialog,M=2147755235,L=2147755236
	var C="mstrmojo-oivmSprite "
	function E(b,a,Z){if(I){mstrmojo.confirm(b,{confirmBtn:{fn:a},cancelBtn:{fn:Z}})
	}else{if(mstrmojo.confirm(b)){if(a){a()
	}}else{if(Z){Z()
	}}}}function Y(a,Z){if(I){mstrmojo.alert(a,Z,null,null,null,{allowHTML:true})
	}else{mstrmojo.alert(a)
	Z()
	}}function O(Z){var a=mstrmojo.findAncestor(this,"scriptClass","mstrmojo.DocInfoWindow")
	if(!!a){a[Z?"registerLock":"releaseLock"](this)
	}}mstrmojo._DocActionSelector=mstrmojo.provide("mstrmojo._DocActionSelector",{_mixinName:"mstrmojo._DocActionSelector",extCls:"mstrmojo-ActionSelector",type:W,targets:null,initControlInfo:function G(){var Z=this.node.defn
	this.aa=parseInt(Z.aa,10)
	this.dpTxt=Z.dpTxt||{8:mstrmojo.desc(5369),4:mstrmojo.desc(8233),16:mstrmojo.desc(8232)}[this.aa]||""
	this.dpCfm=Z.dpCfm
	this.sac=parseInt(Z.sac,10)
	this.msg=Z.msg
	this.rsid=Z.rsid
	this.rst=Z.rst
	this.node.data.elms=[{n:this.dpTxt,v:this.dpTxt}]
	if(this._super){this._super()
	}},selectorControlChange:function(Z){if(Z.selectedIndex!==0){return 
	}this.executeAction()
	Z.select([])
	},executeAction:function(){var a=this.aa,Z=this,b=function(){O.call(Z,false)
	}
	O.call(Z,true)
	if(a===W){if(this.dpCfm){E(mstrmojo.desc(8313),function(){Z.onCommit()
	},b)
	}else{Z.onCommit()
	}}else{if(a===X){if(this.dpCfm){E(mstrmojo.desc(8322),function(){Z.onDiscard()
	},b)
	}else{Z.onDiscard()
	}}else{this.onRecalculate()
	}}},postBuildRendering:function(){this._super()
	this.domNode.ontouchstart=function(Z){mstrmojo.css.addClass(Z.target,"glow")
	}
	this.domNode.ontouchend=function(Z){mstrmojo.css.removeClass(Z.target,"glow")
	}
	},onCommit:function(){var c=this,d=this.model,a=c.controller,Z=mstrApp.useBinaryFormat
	O.call(this,false)
	if(!this.checkValidationStatus()){Y(mstrmojo.desc(9205))
	return 
	}if(!Z&&!this.validateRequiredObjects()){Y(mstrmojo.desc(9200))
	return 
	}var b=function(e){if((c.sac&J)>0){a.invalidClientCache()
	}if((c.sac&B)>0){var f={did:c.rsid,objType:c.rst,forceExec:(c.sac&N)>0}
	if((c.sac&A)>0){f.linkAnswers='<hl mid="'+d.mid+'" srct="2" aopam="1"><prms></prms></hl>'
	}if(!mstrApp.isDossier){mstrmojo.mask.show("Running")
	}a.onExecuteNewObject(c,f)
	}else{if((c.sac&R)>0){if(!mstrApp.isDossier){mstrmojo.mask.show("Running")
	}mstrApp.pauseServerRequest()
	a.onReExecute(c)
	}else{if(mstrApp.isMobile){a.generateActionToolbar()
	}d.transactionUpdate(e)
	}}}
	d.sendTransactionActions(this.ck,W,d.newCallback({success:function(e){if(d.txrcd||e.offln){a.offlineTransactionsSubmitted(c.ck)
	}if(e.offln){if(Z&&!c.networkToastShowed){c.networkToastShowed=true
	mstrmojo.toast(mstrmojo.desc(9258,"No Network Connectivity")+". "+mstrmojo.desc(9259,"Transaction will be submitted when connectivity is resumed."))
	}d.transactionUpdate(e)
	}else{if((c.sac&S)>0&&c.msg){var f=(typeof e==="object")?c.msg:mstrmojo.desc(8781,"Request Timeout")
	if(Z){mstrmojo.toast(f)
	window.setTimeout(function(){b(e)
	},100)
	}else{Y(f,function(){b(e)
	})
	}}else{b(e)
	}}},failure:function(g){var e=mstrmojo.all.mojoAlertx9
	if(e){e.destroy()
	}if(d.txrcd){a.offlineTransactionsSubmitted(c.ck)
	}var f=4294967296+parseInt(g.code,10)
	if(f===M){if(Z){c.validateRequiredObjects()
	}Y(mstrmojo.desc(9200,"You have some required inputs that are not modified."))
	}else{if(f===L){var h=mstrmojo.desc(9201,"You haven't made any changes to submit.")
	if(Z){mstrmojo.toast(h)
	}else{Y(h)
	}}else{Y(mstrmojo.base64.decodeHttpHeader(g.message),function(){if(!Z){c.controller.onReExecute(c,true)
	}})
	}}}}))
	},onDiscard:function F(){var a=this,b=this.model,Z=a.controller
	O.call(this,false)
	b.txDiscardTargets=this.getTxTargets()
	b.sendTransactionActions(this.ck,X,{success:function(c){b.transactionUpdate(c)
	Z.transactionDiscarded(a.ck)
	},complete:function(){delete b.txDiscardTargets
	if(mstrApp.isMobile){Z.generateActionToolbar()
	}}})
	},onRecalculate:function(){O.call(this,false)
	this.model.sendTransactionActions(this.ck,P)
	},getTxTargets:function U(){var f=this.tks.split("\u001E"),e,Z,d,g,a,b,c={}
	for(e=0,Z=f.length
	e<Z
	e++){d=f[e]
	g=1
	do{a=this.model.getUnitInstance(d,g++)
	if(a&&a.checkRequiredObjects){if(a.isPanelStack){for(b in a.txWidgets){c[a.txWidgets[b].id]=1
	}}else{c[a.id]=1
	}}else{break
	}}while(true)
	}return c
	},validateRequiredObjects:function Q(){var Z=true,a
	for(a in this.getTxTargets()){Z=mstrmojo.all[a].checkRequiredObjects()&&Z
	}return Z
	},checkValidationStatus:function H(){var Z
	for(Z in this.getTxTargets()){if(mstrmojo.all[Z].checkValidationStatus&&!mstrmojo.all[Z].checkValidationStatus()){return false
	}}return true
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocSelector","mstrmojo.vi.ui.rw.selectors.AttrQualInputBox","mstrmojo.array","mstrmojo.string","mstrmojo.hash","mstrmojo.expr","mstrmojo.date","mstrmojo.VisChartUtils","mstrmojo.locales","mstrmojo.elementHelper","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo.vi.util.A11yUtility")
	var Q=mstrmojo.expr,R=Q.BFTP,A=mstrmojo.string,J=mstrmojo.date,a=mstrmojo.VisChartUtils,K=mstrmojo.array,N=mstrmojo.hash,C=mstrmojo.vi.ui.DatasetUnitMenuUtils,c=mstrmojo.locales,S=mstrmojo.DocSelector.DATAPARAMS,M=mstrmojo.vi.util.A11yUtility,U=mstrmojo.elementHelper.ELEM_SEPARATOR
	function P(e,g,f){if(!e){return 
	}var h=J.getDateJson(new Date(a.convertRawValueToMilliseconds(e))),d=J.formatDateInfo(h,c.datetime.DATEOUTPUTFORMAT)
	if(g===Q.DTP.TIMESTAMP){if(f){h.hour=23
	h.min=59
	h.sec=59
	}d+=" "+J.formatTimeInfo(h,c.datetime.TIMEOUTPUTFORMAT)
	}return d
	}function D(g,h){if(g&&g.visible){var e=g[h+"Picker"],f=e&&e.inputNode,d=e&&e.iconNode
	if(f&&d){return[f,d]
	}}return[]
	}mstrmojo.AttrQualDocSelector=mstrmojo.declare(mstrmojo.DocSelector,null,{scriptClass:"mstrmojo.AttrQualDocSelector",getWidgetClass:function Z(f,e,d){return"vi.ui.rw.selectors.AttrQualInputBox"
	},newAndInitWidget:function W(d){var e=this._super(d)
	d.attachEventListener("includeChange",e.id,function(f){this.set("include",f.value)
	})
	return e
	},_buildEvent:function I(l,k){l.f=k.f
	l.ft=k.ft
	l.fid=k.fid
	l.ckey=this.ckey
	l.srcid=k.srcid
	l.srct=k.srct
	var j=k.dt,h=[]
	K.forEach(k.cs,function(m){if(!mstrmojo.string.isEmpty(m.v)){h.push(m.v)
	}})
	if(h.length){l.cs=h.join(U)
	}l.dtp=j
	l.unset=k.unset
	if(l.unset||mstrmojo.string.isEmpty(l.cs)){delete l.fid
	}if(mstrApp.isAppStatePause&&mstrApp.isAppStatePause()){var e=this.model,g=e.getCurrentLayoutDef(),f=g&&g.units,d=this.k
	if(f[d]){f[d].cesChange=true
	}e.setDataReady(this.k,this.id,S.CSREADY,true,["f","ft","cs"],[k.f,k.ft,k.cs])
	}},buildPromptAnswerInfo:function B(){var h=this.content,d,e,f,g
	if(!h){return{}
	}d=h.cs
	g=h.f
	f=[]
	if(!d||d.length===0){e=h.buildConstants4Prompt()
	d=e.cs
	if(e.funcVal!==undefined){g=e.funcVal
	}}K.forEach(d,function(l){var k=l.v,j
	if(typeof k==="string"&&!A.isEmpty(k)){if(k.indexOf("isDyn")>=0){j=k.split("::")
	if(j&&j[8]){k=j[8]
	}}f.push(k)
	}})
	if(f.length){f=f.join(U)
	}return{keyContext:this.ck,objId:h.srcid,objType:h.srct,expFunction:g,expFunctionType:h.ft,include:!!this.include,formId:h.fid,expConstants:f,dataType:h.dt}
	},getCekEvtListener:function b(e,d){return function(f){e.handleActionInSyncPhase(function(){d.update(f.value)
	})
	}
	},updateWidget:function O(g){var h=this._super(g),e=g.node,f=e.data
	if(h.update){var d={cs:f.cs,f:f.f,ft:f.ft,fid:f.fid,min:P(f.min,f.dt),max:P(f.max,f.dt,true)}
	h.update(d)
	}return h
	},getWidgetConfig:function G(r,k,o,d){var l=r.model,p=r.getFormats(),j=r.node.data,n=this._super(r,k,o,d)
	n={scriptClass:n.scriptClass,cssText:p.height?"height: "+p.height:"",srcid:o.srcid||"",srct:o.srct||"",cs:j.cs,min:P(j.min,j.dt),max:P(j.max,j.dt,true),showAdvanced:true,canSelectDisabledDate:true,f:j.f,ft:j.ft||1,fid:j.fid,dt:j.dt,onchange:function(){if(!r._inSyncPhase){r.selectorControlChange(this)
	r.updateAriaLabel()
	}}}
	if(!n.fid||!n.dt){var h=C.getUnitFromDataset(l.datasets,o.srcid,12),m=(h&&h.fs)||[],q=m[0],g,f=function(t){if(!n.fid){n.fid=t.fid
	}if(!n.dt){switch(t.bftp){case R.TEXT:n.dt=Q.DTP.CHAR
	break
	case R.DATE:n.dt=Q.DTP.DATE
	break
	case R.DATETIME:n.dt=Q.DTP.TIMESTAMP
	break
	default:n.dt=Q.DTP.CHAR
	}}}
	for(g=0
	g<m.length
	g++){if(m[g].iidx){q=m[g]
	break
	}if(m[g].idf){q=m[g]
	}}if(q){f(q)
	}}var e=n.dt
	if(n.f===undefined){if(e===Q.DTP.CHAR){n.f=Q.FN.SEARCH
	}else{if(e===Q.DTP.DATE||e===Q.DTP.TIMESTAMP){n.f=o.include?Q.FN.BETWEEN:Q.FN.NOT_BETWEEN
	}}}if(!((mstrApp.isOIVM&&mstrApp.isOIVM())||o.iifp)){n.supportScrollbar=true
	}return n
	},isValidSelection:function Y(){var e=this.node.data,d=this.model
	return !d.isSelWarnFlagOn(this.k)||(e.cs&&e.cs.length)
	},isSelectAll:function F(){var k=this.children&&this.children[0]
	if(k===undefined){return true
	}if(this.hasDynamicSelection()&&k.unset!==false){return false
	}var e=c.datetime.DATEOUTPUTFORMAT,g=c.datetime.TIMEOUTPUTFORMAT,h=J.parseDateAndOrTime
	var d=h.call(J,k.min,e,g),l=h.call(J,k.fromBox.fromPicker.value),m=J.compareDate(l&&l.date,d&&d.date)
	if(m>0){return false
	}if(m===0){if(J.compareTime(l&&l.time,d&&d.time)>0){return false
	}}var n=h.call(J,k.max,e,g),j=h.call(J,k.toBox.toPicker.value),f=J.compareDate(j&&j.date,n&&n.date)
	if(f<0){return false
	}if(f===0){if(J.compareTime(j&&j.time,n&&n.time)<0){return false
	}}return true
	},isFilterNothing:function L(){return this.isSelectAll()
	},onkeydown:function H(e){var j=e.e||e,g=j.key,k=j.target
	var h=K.indexOf(this.navList,k)
	if(h>-1){this.tabIndex=h
	}if(this.handleTab(e)){return 
	}if(g==="Escape"){j.preventDefault()
	j.stopPropagation()
	this.navigateToParent(true)
	}if(k.tagName==="INPUT"){j.stopPropagation()
	return 
	}if(g==="Enter"||g===" "){j.preventDefault()
	j.stopPropagation()
	var f=[N.walk("content.fromBox.fromPicker",this),N.walk("content.toBox.toPicker",this)],d=K.find(f,"iconNode",k)
	if(d>-1){k.loseFocus(true)
	f[d].actionByKeyboard=true
	k.click(e)
	f[d].actionByKeyboard=false
	}}},updateAriaLabel:function X(){var f=this.parent
	if(f){var d=N.walk("content.fromBox.fromPicker.inputNode.value",this),g=N.walk("content.toBox.toPicker.inputNode.value",this),e=mstrmojo.desc(4804,"From ## to ###").replace("##",d).replace("###",g)
	if(!this.include){e=mstrmojo.desc(13232,"Not ##").replace("##",e)
	}e=e+", "+mstrmojo.desc(5443,"Calendar")
	if(e!==f.ariaLabel){f.set("ariaLabel",e)
	}}},buildNavList:function E(){this.navList=[]
	var e=N.walk("parent.menuBtnInfo.btn",this),d=N.walk("content.fromBox",this),f=N.walk("content.toBox",this)
	this.navList=this.navList.concat(D(d,"from"))
	this.navList=this.navList.concat(D(f,"to"))
	K.forEach(this.navList,function(g){M.enableAccessibility({domNode:g})
	})
	if(e){this.navList.push(e)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocSelector","mstrmojo.fe.FilterUtils","mstrmojo.func","mstrmojo.array","mstrmojo.hash","mstrmojo.expr","mstrmojo.DocDataService")
	var W=mstrmojo.fe.FilterUtils,M=mstrmojo.array,O=mstrmojo.hash,R=mstrmojo.func,Q=mstrmojo.expr
	var K="LEVEL_NUMBER",G=mstrmojo.DocDataService.SUPPRESS_DATA
	var H=16,L=1
	function C(Y){return Y.t===47&&Y.st===12033
	}function B(){return{type:parseInt(this.type,10),src:this.k,ck:this.ck,ctlKey:this.ckey,ckey:this.ckey,tks:this.tks}
	}mstrmojo.DynamicListDocSelector=mstrmojo.declare(mstrmojo.DocSelector,null,{scriptClass:"mstrmojo.DynamicListDocSelector",_ieformatHandlers:{domNode:["F","text-align","vertical-align","line-height","z-index","top","left"],contentNode:["width","B","P","height"],filterNode:["height","width","B","P","fx","background-color"],item:["color","font","text-decoration","text-align","line-height"]},formatHandlers:{domNode:["F","text-align","vertical-align","line-height","z-index","top","left"],contentNode:["height","width","B","P","fx","background-color"],item:["color","font","text-decoration","text-align","line-height"]},_buildEvent:function J(c,b){var a=this.node,d=this.getAttrInfo(),Z
	Z=b.buildSelectionExprJSON(d)
	a.defn.set("cek",{expr:Z,disablePU:true})
	c.expr=W.getExprXml(Z)
	if(this.incFetch){c.prKey=this.k
	c.incFetch=this.incFetch
	}if(this.isInFilterPanel()){var Y=this.getFilterPanel()
	c.autoApply=Y&&Y.autoApply&&!b.isHiearachyDisplay()
	}},initControlInfo:function F(){var Y=this.node.data
	this._super()
	O.copy({incFetch:Y.inc!==false,levelForms:Y.lvfs||[]},this)
	},getCekEvtListener:function X(Z,Y){return function(a){var b=a.value
	if(b.hasOwnProperty("expr")){Z.expr=b.expr
	if(!b.disablePU){Z.handleActionInSyncPhase(function(){Y.setSelectionByExprJSON(b.expr)
	Y.refresh()
	})
	}}}
	},updateWidget:function P(c){var d=this._super(c),Y=c.getAttrInfo(),a=c.node,b=a.data,Z=a.defn
	d.updateItems(b.elms,b.p_relation)
	if(c.lockSelection){d.setSelectionByExprJSON(c.expr,c.lockPartialSelection,c.incFetch)
	}else{if(b.unset){d.setSelectionByExprJSON()
	}else{if(b.exp){d.setSelectionByExprJSON(b.exp)
	}else{if(b.ces){d.setSelectionByList(b.ces,Z.include)
	}}}c.expr=d.buildSelectionExprJSON(this.getAttrInfo())
	c.initialExpr=c.expr
	if(!c.incFetch){d.initDescStatusForNonIncFetch()
	}}if(c.lockPartialSelection){d.setDescSelectionByMap()
	c.lockPartialSelection=false
	}else{if(c.incFetch){d.setDescSelectionByItemInfo(b.elms)
	}}d.browseFlags=H+(C(Y)?0:L)
	return d
	},clearSelector:function S(Z){var Y=B.call(this)
	var a=this.children,b=a&&a[0]
	if(b&&b.clearDescSelection){b.clearDescSelection()
	}this.node.defn.set("cek",{expr:null})
	Y.unset=true
	Y[Z?"forceApply":"forceBuffer"]=true
	this.lockPartialSelection=true
	this.slice(Y)
	},getWidgetConfig:function E(d,a,Z,b){var c=d.levelForms,Y=this._super(d,a,Z,b)
	if(c.length>0){Y.getMaxLevel=function(){return d.getMaxLevel()
	}
	Y.getLevels=function(){return d.getLevels()
	}
	}Y.getLevelExpression=function(f){var e=d.getAttrInfo()
	return d.getLevelExpression(e,f)
	}
	Y.delegateExpandCollapse=function(e,f){return d.onExpandCollapse(e,f,!d.incFetch)
	}
	return Y
	},onExpandCollapse:function U(e,l,Y){var k=this,b=this.isInFilterPanel()&&this.getFilterPanel(),c=this.node,j=c.defn,g=this.model,Z=(this.initialExpr!==this.expr),a=g.getDataService(),f=[a.getRASelectorExpandAction({ck:j.ck,ckey:j.ckey,elementId:e.elementId,isExpand:e.isExpand?1:0})],h=Y?l:R.wrapMethods({success:function(n){var m
	if(b){m=b.getBufferedSlice(j.ckey)
	}k.lockSelection=Z
	k.lockPartialSelection=Z
	g.partialUpdate(n.data,g.getTargetDefn(c.k))
	k.lockSelection=false
	k.lockPartialSelection=false
	if(b&&m){b.bufferSlice(m)
	}}},l),d=Y?G:{}
	g.controller.cmdMgr.execute({execute:function(){this.submit(f,h,d)
	},urInfo:{extraPuKeys:j.ck.split("\u001E").slice(1),treesToRender:3}})
	return !Y
	},getMaxLevel:function A(){var Y=0
	M.forEach(this.levelForms,function(Z){if(Z.lv>0){Y=Math.max(Y,Z.lv)
	}})
	return Y
	},getLevels:function D(){return M.map(this.levelForms,function(Y){return{v:Y.lv,n:Y.lvfn}
	})
	},getLevelExpression:function I(d,e){var a=(d.fs||[]).filter(function(g){return(g.n||g.fnm)===K
	})[0],c=d.lvfs||[],Y=M.find(c,"lv",e),b=(Y!==-1?Y:e),Z=c[b]&&c[b].lvfn||""
	dataset=this.model.datasets[d.datasetId],isSAPHANAMDX=this.model.isSAPHANAMDXDataset(dataset)
	if(a&&parseInt(e,10)>=0){return{et:Q.ET.AQ,fn:Q.FN.EQUAL,a:O.copyProps(["did","n","t","st"],d),fm:{did:a.did||a.fid,n:K,dtp:Q.DTP.INTEGER},cs:[{v:isSAPHANAMDX&&Z?e+"
	"+Z:e,dtp:isSAPHANAMDX&&Z?Q.DTP.CHAR:Q.DTP.INTEGER}]}
	}return null
	},getAttrInfo:function N(Y){var b=this.node.defn,a=this.model.datasets,Z
	Y=Y||b.srcid
	O.forEach(a,function(d){Z=d.att.filter(function(e){return e.did===Y
	})[0]
	if(Z){return false
	}})
	if(Z&&C(Z)){var c=this.getAttrInfo(Z.attId)
	Z.fs=c.fs
	Z.lvfs=c.lvfs
	}return Z?Z:{}
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocSelector","mstrmojo.array","mstrmojo.elementHelper")
	var I=mstrmojo.array,F=mstrmojo.DocSelector.ELEM_ALL_ID,H=mstrmojo.elementHelper
	var C=0,K=1,J=2
	var B=1,M=3
	function A(O){I.forEach(O,function(P){P.n=P.v
	})
	return O
	}mstrmojo.TextBoxDocSelector=mstrmojo.declare(mstrmojo.DocSelector,null,{scriptClass:"mstrmojo.TextBoxDocSelector",_ieformatHandlers:{domNode:["font","text-align","vertical-align","line-height","z-index","top","left"],contentNode:["width","B","P"],filterNode:["height","width","B","P","fx","background-color"],item:["color","font","text-decoration","text-align","line-height"]},formatHandlers:{domNode:["font","text-align","vertical-align","line-height","z-index","top","left"],contentNode:["height","width","B","P","fx","background-color"],item:["color","font","text-decoration","text-align","line-height"]},_fetchOnInit4UCOnDS:function G(){},_getSelectionCount:function L(P){var O=P.items
	return O?O.length:0
	},_buildEvent:function D(R,Q){var O=[],P=this.defn
	I.forEach(Q.items,function(S){O.push(S.v)
	})
	if(O.length>0||P.nsb===C){R.eid=O.join(mstrmojo.elementHelper.ELEM_SEPARATOR)
	}else{R.eid=""
	}if(P.sec){this.parent.set("count",H.buildElemsCountStrByNum(O.length,0))
	}},updateWidget:function N(Q){var R=this._super(Q),O=Q.node,P=O.data
	R.items=P.vs?A(P.vs.concat()):[]
	return R
	},getWidgetConfig:function E(W,R,Q,U){var P=W.getFormats(),S=W.node.data,O=this._super(W,R,Q,U)
	O={scriptClass:O.scriptClass,cssText:P.height?"height: "+P.height:"",emptyText:mstrmojo.desc(4325,"Search")+" "+(Q.ttl||""),items:S.vs?A(S.vs.concat()):[],srcid:Q.srcid||"",dsrc:Q.dsrc||"",onitemsChange:function(){if(!W._inSyncPhase){W.selectorControlChange(this)
	}}}
	if(!Q.multi){O.maxObjectCount=1
	}return O
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Label","mstrmojo.Box","mstrmojo.Editor","mstrmojo.StackContainer","mstrmojo.ui.editors.controls.TwoColumnContainer","mstrmojo.ui.editors.controls.LinkGroup","mstrmojo.TextBox","mstrmojo.array","mstrmojo.hash","mstrmojo.XMLBuilder","mstrmojo.ui.Checkbox","mstrmojo.vi.enums.EnumFeatures","mstrmojo.ui.editors.controls.PromptAndAnswerList","mstrmojo.vi.enums.EnumPromptType","mstrmojo.EnumRWUnitType","mstrmojo.DocSelector","mstrmojo.vi.models.VIComponentMap")
	var P=mstrmojo.array,S=mstrmojo.hash,d=mstrmojo.DocSelector,C=mstrmojo.EnumRWUnitType,Q=mstrmojo.vi.models.VIComponentMap.TYPES,E=d.STYLES,c=mstrmojo.ui.editors.controls.PromptAndAnswerList,G=mstrmojo.vi.enums.EnumPromptType,W=mstrmojo.ui.editors.controls.LinkGroup.getFileBrowser,B=mstrmojo.ui.editors.controls.LinkGroup.getCtrlBtns,M=mstrmojo.ui.editors.controls.LinkGroup.getPageSelector,e=mstrmojo.ui.editors.controls.LinkGroup.genDLXML,F=mstrmojo.ui.editors.controls.LinkGroup.getInfoOfDossier
	var D={THIS_DOSSIER:0,ANOTHER_DOSSIER:1}
	var I=2
	var R=[{n:mstrmojo.desc(16999,"Select a page in the dossier"),idx:0}]
	var J=function(g){return mstrmojo.desc(16991,"Go to Dossier: #").replace("#",g||"...")
	}
	var O=function(g){return g.dtxt?g.dtxt:J(g.tnm)
	}
	var b=function(h,g){var j=P.filterOne(g,function(k){return k.navPage===h
	})||{}
	return j.idx
	}
	var L=function(j,h){var k={},g=S.clone(h)||[]
	P.forEach(j,function(l){k[l.id]=l
	})
	return g.map(function(l){return S.copy(k[l.id],l)
	})
	}
	var Z=function(k,h){var j=function(m){return(m||[]).map(function(n){return{id:n.id,am:n.am}
	})
	}
	var l=S.clone(k)
	var g=S.clone(h)
	l.prms=j(l.prms)
	g.prms=j(g.prms)
	return S.equals(l,g)
	}
	var K=function(j,g){var k={},h
	P.forEach(j,function(l){var m=l.d
	P.forEach(m,function(n){if(n.id===g){var o=n.v
	P.forEach(n.elems,function(q,p){if(!k[q]){k[q]={ei:q,emt:1,disp_n:o[p]}
	}})
	return false
	}})
	})
	k=S.valarray(k)
	if(k.length>0){h={es:k}
	}return h
	}
	function A(g){return g&&(g.sections||g.subsections||g.objects||g.panels)
	}function U(j,g,k){var h=j&&k&&j[k.k],l
	if(h&&h.t===C.SELECTOR&&h.srcid===g){return{data:k,defn:h}
	}P.forEach(A(k),function(m){l=U(j,g,m)
	if(l){return false
	}})
	return l
	}var Y=function(g){var h=P.ensureArray(g.ces)
	if(h.length===1&&h[0].t===14){return{promptUser:false}
	}if(h.length>1000){return{promptUser:true}
	}h=h.map(function(j){return{ei:j.v,emt:j.t!==undefined?j.t:1,disp_n:j.n}
	})
	return{promptUser:false,answer:{es:h}}
	}
	var f=function(o,l){if(!o){return{promptUser:true}
	}var g=o.getCurrentLayoutKey(),j=S.walk("data.layouts",o),p=S.walk("defn.layouts",o),k=P.filterOne(j,function(t){return t.k===g
	}),n=P.filterOne(p,function(t){return t.k===g
	}),r=n&&n.units,h=U(r,l,k),m=h&&h.data,q=h&&h.defn
	if(m&&q){if(!q.include){return{promptUser:true}
	}if(q.style!==E.ATTR_QUAL){return Y(m)
	}}return{promptUser:true}
	}
	var X=function(h,g){if(!h){return{promptUser:true}
	}var j=h.getVIComponent(Q.FILTER_STACK),l=j&&j.getFilterBySrcId(g),m=l&&l.defn,k
	if(m&&m.style===E.ATTR_QUAL){k=l.buildPromptAnswerInfo()
	if(!S.isEmpty(k)){return{promptUser:false,answer:{exp:k}}
	}}return{promptUser:true}
	}
	var N=function(h,k){var g={}
	P.forEach(h,function(l){var m=l.d
	P.forEach(m,function(n){g[n.id]=true
	})
	if(Object.keys(g).length>1){return false
	}})
	var j=Object.keys(g)
	return j.length===1&&k[j[0]]
	}
	var a=function(q,k,h){var o=new mstrmojo.ResSetLink({mid:q&&q.mid,srct:k.ttp||55,aopam:k.aopam}),l=k.prms,j=!!h,m=false,g={},n,p
	if(l&&l.length>0){o.prms=[]
	n=o.prms
	}P.forEach(l,function(t){var r={}
	S.copyProps(["id","nm","am","pt","orid","ortp"],t,r)
	switch(t.am){case o.DYNAMIC:if(t.pt===G.ATTRIBUTE_LELMENT_LSIT&&t.orid){p=K(h,t.orid)
	if(p){r.pa=p
	m=true
	g[t.orid]=true
	}}break
	case o.USE_FILTER_PANEL_SELECTIONS:if(t.pt===G.ATTRIBUTE_LELMENT_LSIT&&t.orid){r.am=o.DYNAMIC
	p=f(q,t.orid)
	if(p.promptUser){r.am=o.DO_NOT_ANSWER
	}else{if(p.answer){r.pa=p.answer
	}}}else{if(t.pt===G.EXPRESSION&&t.orid){if(!mstrApp.isDossier){p=X(q,t.orid)
	if(p.promptUser){r.am=o.DO_NOT_ANSWER
	}else{if(p.answer){r.pa=p.answer
	}}}}else{r.am=o.DO_NOT_ANSWER
	}}break
	case o.DO_NOT_ANSWER:case o.CLOSE:case o.USE_DEFAULT_ANSWER:case o.SAME_PROMPT:default:break
	}n.push(r)
	})
	if(m&&N(h,g)){j=false
	}return{hyperLink:o,passSelection:j}
	}
	var H=function(j,g,l,h){var n=a(g,j,l),m=n.hyperLink,k=n.passSelection,o=j.linkTarget
	j.so=2
	if(!o){if(j.onw===undefined){o=(mstrApp&&mstrApp.isDossier)?"_self":"_blank"
	}else{o=j.onw===0?"_self":"_blank"
	}}return{linkInfo:j,isDossierLink:true,linkTarget:o,evt:3140,objectID:j.tid,srcMsgId:g&&g.mid,link:m,passFilter:j.psf,targetPageKey:j.navpage,vizSelection:JSON.stringify({sels:k?l:[],isBranch:!!h})}
	}
	mstrmojo.ui.editors.controls.ContextualLink=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.ui.editors.controls.ContextualLink",cssClass:"link-editor contextual-link-editor mojo-theme-light",showTitle:true,title:mstrmojo.desc(17513,"Contextual Link"),autoClose:true,top:"100px",zIndex:8,onSelectThisDossier:mstrmojo.emptyFn,onLinkUpdated:mstrmojo.emptyFn,btns:undefined,dossierTextBox:undefined,pageTextBox:undefined,tooltipTextBox:undefined,passFilterCheckbox:undefined,openNewWCheckbox:undefined,promptWrapper:undefined,linkData:undefined,canSave:true,requesting:false,init:function(g){this._super(g)
	this.resetData()
	this.addChildren([this.createConfigContainer()])
	},suppressClose:function(){return true
	},fieldChange:function(j,h){this.setData(j,h)
	var g=!Z(this.linkData,this.originalLinkData)&&this.linkData.tid&&this.linkData.navpage
	this.set("canSave",g)
	},setSaveBtnState:function(){this.btns.rtBtns.saveBtn.set("enabled",this.canSave&&!this.requesting)
	},oncanSaveChange:function(){this.setSaveBtnState()
	},onrequestingChange:function(){this.setSaveBtnState()
	},resetUI:function(){var k=this,j=this.host,h=j.getDocModel(),g=j.boxContent.hasDossierLink()
	if(g){F(this.linkData.tid,this.linkData.ttp,h,function(l){k.pageTextBox.set("enabled",true)
	k.pageTextBox.set("items",l.pages)
	k.pageTextBox.set("selectedIndex",b(k.linkData.navpage,l.pages)||0)
	k.fieldChange("prms",L(k.linkData.prms,l.prms))
	k.setStateOfPrompts()
	})
	}else{this.pageTextBox.set("enabled",false)
	this.pageTextBox.set("items",R)
	this.pageTextBox.set("selectedIndex",0)
	this.setStateOfPrompts()
	}this.dossierTextBox.text.set("value",this.linkData.tnm)
	this.tooltipTextBox.set("value",this.linkData.dtxt)
	this.passFilterCheckbox.set("checked",this.linkData.psf)
	this.openNewWCheckbox.set("checked",this.linkData.onw)
	this.btns.rmvBtn.set("enabled",g)
	this.set("canSave",false)
	this.set("requesting",false)
	},setStateOfPrompts:function(){this.promptWrapper.set("visible",this.linkData.prms.length>0)
	this.promptWrapper.set("prompts",this.linkData.prms)
	this.promptWrapper.set("aopam",this.linkData.aopam)
	},setData:function(h,g){if(typeof h==="string"){this.linkData[h]=g
	}else{if(typeof h==="object"){S.copy(h,this.linkData)
	}}},resetData:function(){var h=this.host,g=h.boxContent.hasDossierLink()?h.boxContent.model.data.doslinkinfo:{}
	this.originalLinkData=S.copy(g,{tid:"",tnm:"",navpage:"",navpagenm:"",dtxt:"",psf:1,onw:1,aopam:2,prms:[]})
	this.linkData=S.clone(this.originalLinkData)
	},writeData:function(h,j){var g=mstrmojo.all[h]
	if(S.walk("model.data",g)){g.model.data.doslinkinfo=j
	this.onLinkUpdated(g)
	}},submit:function(g,h){var r=this,o=this.host.model,l=this.host.boxContent,q=l.id,j=S.clone(S.walk("boxContent.model.data.doslinkinfo",this.host)),v=g?undefined:S.clone(this.linkData),n=g?"":e(this.linkData,S.walk("linkData.onw",this)),m=function(){r.set("canSave",true)
	},u=function(){r.writeData(q,g?undefined:r.linkData)
	},k=function(){r.set("requesting",false)
	},t=this.writeData.bind(this,q,j),p=this.writeData.bind(this,q,v)
	n={Hyperlinks:n}
	if(h){return{actions:l.hasArrayGSI?o.getCompoundGridLinkAction(l,n):o.getLinkAction(l,n),callbacks:{success:u},undo:t,redo:p}
	}this.set("requesting",true)
	o.editLink(l,n,{failure:m,success:u,complete:k,undo:t,redo:p},mstrmojo.DocDataService.SUPPRESS_DATA)
	return{}
	},createConfigContainer:function(){var j=this,g=this.host.getDocModel(),h=new mstrmojo.Box({cssClass:"link-config-container",children:[{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",children:[{scriptClass:"mstrmojo.Label",slot:"col1Node",text:mstrmojo.desc(15463,"Dossier")},this.dossierTextBox=W(this.linkData.tnm,function(l){j.fieldChange({tid:l.did,tnm:l.n,ttp:l.t,vwm:l.dvm})
	F(l.did,l.t,g,function(m){j.pageTextBox.set("enabled",true)
	j.pageTextBox.set("items",m.pages)
	j.pageTextBox.set("selectedIndex",I)
	j.fieldChange("prms",m.prms)
	j.setStateOfPrompts()
	})
	},{slot:"col2Node",placeholder:mstrmojo.desc(17004,"Choose a dossier to link to"),noReport:true,folderLinksContextId:30,browsableViewMedias:"2048,8192",parentFolderId:g&&g.pfid})]},{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",children:[{scriptClass:"mstrmojo.Label",slot:"col1Node",text:mstrmojo.desc(3687,"Page")},this.pageTextBox=M(this.linkData.navpage,R,function(){return null
	},function(l){j.fieldChange({navpage:l.navPage,navpagenm:l.n})
	},{slot:"col2Node"})]},{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",children:[{scriptClass:"mstrmojo.Label",slot:"col1Node",text:mstrmojo.desc(15698,"Tooltip")},this.tooltipTextBox=new mstrmojo.TextBox({alias:"text",slot:"col2Node",valueChangeDelay:1000,value:this.linkData.dtxt,onfocus:function(){if(!this.value){this.set("value",J(j.linkData.tnm))
	}},onkeydown:function(l){if(l.e.keyCode===13){this.blur()
	}},onvalueChange:function k(){j.fieldChange("dtxt",this.value.trim())
	}})]},{scriptClass:"mstrmojo.Box",cssClass:"should-pass-filter",children:[this.passFilterCheckbox=new mstrmojo.ui.Checkbox({cssDisplay:"inline-block",checked:this.linkData.psf,oncheckedChange:function(){j.fieldChange("psf",Number(this.checked))
	}}),new mstrmojo.Label({cssDisplay:"inline-block",text:mstrmojo.desc(17003,"Pass the filter conditions to the target page"),onclick:function(){this.parent.children[0].onclick()
	}})]},{scriptClass:"mstrmojo.Box",cssClass:"open-in-new-tab",children:[this.openNewWCheckbox=new mstrmojo.ui.Checkbox({cssDisplay:"inline-block",checked:this.linkData.onw,oncheckedChange:function(){j.fieldChange("onw",Number(this.checked))
	}}),new mstrmojo.Label({cssDisplay:"inline-block",text:mstrmojo.desc(18451,"Open in new tab"),onclick:function(){this.parent.children[0].onclick()
	}}),new mstrmojo.Label({cssDisplay:"inline-block",cssClass:"desc-text",text:mstrmojo.desc(18449,"(Web only)"),onclick:function(){this.parent.children[0].onclick()
	}})]},this.promptWrapper=new c({fromVis:true,prompts:this.linkData.prms,aopam:this.linkData.aopam,onAnswerChange:function(m,l){j.fieldChange(m?"aopam":"prms",l)
	}}),this.btns=B(function(){j.submit(true)
	j.close()
	},function(){if(j.host.boxContent.hasSelectTarget()){j.host.clearTargets(j.submit(false,true))
	}else{j.submit()
	}j.close()
	},function(){j.close()
	})]})
	return h
	},onOpen:function(){mstrmojo.ui.PopupConfig.directionCfg.setDirection(false)
	this.resetData()
	this.resetUI()
	}})
	mstrmojo.ui.editors.controls.ContextualLink.LINK_TYPE=D
	mstrmojo.ui.editors.controls.ContextualLink.getLinkTooltip=O
	mstrmojo.ui.editors.controls.ContextualLink.genDLAction=H
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ui.menus.MenuConfig","mstrmojo.ui.menus.EditorConfig","mstrmojo.Box","mstrmojo.Label","mstrmojo.ui.CheckList","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo.models.datasets.DataInterface","mstrmojo.expr","mstrmojo.array","mstrmojo.VisUtility","mstrmojo.vi.util.DIUtils","mstrmojo.ui.menus.EditorConfig","mstrmojo.ui.menus.MenuConfig","mstrmojo.vi.enums.EnumFeatures","mstrmojo.num","mstrmojo.string","mstrmojo.DocSelector","mstrmojo.elementHelper")
	mstrmojo.requiresDescs(2031,3945,3946,11505,11571,13629,13630,13860,14595,15952)
	var m=mstrmojo.vi.ui.DatasetUnitMenuUtils,U=mstrmojo.models.datasets.DataInterface,Y=mstrmojo.expr.DTP,X=mstrmojo.array,E=mstrmojo.num,j=mstrmojo.string,k=mstrmojo.VisUtility,a=mstrmojo.vi.util.DIUtils,d=a.DIConstants,F=mstrmojo.vi.enums.EnumFeatures,Q=mstrmojo.DocSelector.UNSET_STATUS,D=mstrmojo.DocSelector.STYLES,Z=mstrmojo.elementHelper
	function L(v){var t=350,n={fontFamily:"Arial",fontSize:"12px"},r=k.measureTextWidth(v,n)
	if(r>t){var q,o,p=v.indexOf(" "),u=p
	while(p>-1){q=v.substring(0,p)
	o=k.measureTextWidth(q,n)
	if(o>=t){break
	}u=p
	p=v.indexOf(" ",p+1)
	}if(p>-1){v=v.substring(0,u)+"\n"+v.substring(u)
	}}return v
	}function O(n){var r,q=n.selector,t=n.fn(),u=t.keys,o=t.items,v=o.reduce(function(x,z){if(z.fgk!==undefined){x.push(o.indexOf(z))
	}return x
	},[]),w=new mstrmojo.ui.CheckList({alias:"unitCheckList",cssClass:"units",items:o.map(function(x){x.css=m.getUnitCssClass(x.src||{})
	return x
	}),onchange:function(x){var z=x.added||x.removed
	if(r&&z.length===1){r.set("okEnabled",true)
	if(v.length>1&&w.items[z[0]].fgk){w[x.added?"addSelect":"removeSelect"](v)
	}}}}),p=L(n.title)
	w.setSelectedItems(o.filter(function(x){return u.indexOf(x.id)>-1
	}))
	r=new mstrmojo.ui.menus.EditorConfig({contents:new mstrmojo.Box({cssClass:"mstrmojo-vi-FilterBox-content",children:[{scriptClass:"mstrmojo.Label",text:p},w]}),okEnabled:false,data:{},onOpen:function(){w.updateScrollbars()
	},cssClass:"mstrmojo-vi-FilterBox-targets",okBtnText:mstrmojo.desc(2031,"Apply"),fnOk:function(){q.model.changeFilterTargets(q,u,w.getSelectedItems().map(function(x){return x.id
	}),q.isInFilterPanel())
	}})
	return r
	}function e(n,o){return function(p,q){var r=p!==q
	if(r){n.set(o,p)
	}return r
	}
	}mstrmojo.vi.ui.rw.selectors._HasFilterContextMenu=mstrmojo.provide("mstrmojo.vi.ui.rw.selectors._HasFilterContextMenu",{_mixinName:"mstrmojo.vi.ui.rw.selectors._HasFilterContextMenu",addModeMenuItems:function K(o,n,p){if(!n.supportsInclude()){return false
	}var q=function(u,r){var t=n.include===r
	o.addMenuItem(u,t?"on":"",function(){if(!t){n.set("include",r)
	this.generateToolbar()
	if(p){p()
	}}return !t
	}.bind(this))
	}.bind(this)
	q(mstrmojo.desc(3945,"Include"),true)
	q(mstrmojo.desc(3946,"Exclude"),false)
	o.hasToggleItem=true
	o.addSeparator()
	return true
	},addShowAllMenuItem:function H(o,n){if(!n.supportsShowAllToggle()||n.isAttrQualSelector()||n.isRecursiveAttributeSelector()||n.isSearchBox()||mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation()){return false
	}var q=mstrmojo.desc(4741,"Show Option for All")
	if(!n.include){o.addNonInteractiveMenuItem(q,"",true)
	return true
	}var p=function(){var u=!n.defn.showall,r=n.model,t=r.getSelectorPropsChangeAction(n,{showAll:u}),v=t.concat(r.getCtrlActionsByStyleForToggleShowAll(n,u))
	r.submitToggleShowAllActions(n,v)
	}
	o.addToggleMenuItem(q,"",p,p,this.id,n.defn.showall)
	return true
	},addClearFilterMenuItem:function I(o,n,p){if(mstrApp.isAppStatePresentation()&&(n.hasDynamicSelection(true)||(n._dynamicSelDefn&&!n.isUnset()))){return false
	}o.addMenuItem(n.isAMSelector()?mstrmojo.desc(16876,"Unset Selector"):mstrmojo.desc(14595,"Unset Filter"),"",function(){var t=mstrApp.isAppStatePause(),q=true,r
	if(n.isInFilterPanel()&&!t){r=n.getFilterPanel()
	q=r&&r.isAutoApply()
	}n.clearSelector(q)
	if(p){p()
	}})
	return true
	},addResetToDynamicItem:function C(p,o,q){var t=q.sus,n=q.suc,r=t===Q.FIRST?mstrmojo.desc(17762,"Reset to First ##"):mstrmojo.desc(19389,"Reset to Last ##")
	r=r.replace("##",n)
	p.addMenuItem(r,"",function(){o.configDynamicSelection(t,n)
	})
	},addDynamicSelConsumptionItems:function J(o,n){var q=n.style,u=n.node.data,t=n._dynamicSelDefn,r=n.content,p=r&&r.items
	if(q===D.SEARCH_BOX){if(p.length){o.addMenuItem(mstrmojo.desc(2119,"Clear All"),"",function(){n.updateSelectionsByStyle([])
	})
	}}else{if(n.useAttrStyle()&&!n.showall&&n.include){o.addMenuItem(mstrmojo.desc(3474,"Select All"),"",function(){n.updateSelectionsByStyle(n.multi?u.elms:[Z.ELEM_ALL_ID])
	})
	}}if(t&&!u.unset){this.addResetToDynamicItem(o,n,t)
	}},addDynamicSelectionMenuItem:function g(w,r){var u=mstrApp&&mstrApp.supportFeature(F.DYNAMIC_SEL_AND_SORT),p=mstrApp&&mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation(),o=r.node.data.dt
	if(!u||p||(!r.isAttributeSelector()&&!r.isSlicingSelector())||r.isRecursiveAttributeSelector()||(r.isAttrQualSelector()&&(o===Y.DATE||o===Y.TIMESTAMP))){return false
	}var x=r.defn,AB=1,n=2000000000,v=999,q={1:0,2:1,4:2},t={selectedIndex:q[x.sus||1],count:x.suc||AB},AA=!r.multi,z=[{n:'<div style="opacity:0.45">'+mstrmojo.desc(11722,"Unset")+"</div>",v:1,hid:t.selectedIndex>0},{n:AA?mstrmojo.desc(17765,"First Element"):mstrmojo.desc(17577,"First N Elements"),v:2},{n:AA?mstrmojo.desc(17770,"Last Element"):mstrmojo.desc(17578,"Last N Elements"),v:4}]
	w.addPopupMenuItem(mstrmojo.desc(17768,"Dynamic Selection"),this.id,function(){return new mstrmojo.ui.menus.EditorConfig({cssClass:"dynamicSelection",data:mstrmojo.hash.clone(t),bindings:{okEnabled:function(){var AE=this.data.selectedIndex,AF=this.data.count,AG=!isNaN(AF)
	return(AE!==t.selectedIndex||AF!==t.count)&&AG
	}},contents:[{alias:"dynamicStates",scriptClass:"mstrmojo.ui.Pulldown",selectedIndex:t.selectedIndex,isHostedWithin:false,items:z,allowHTML:true,onitemSelected:function(AE){if(!this.hasRendered){return 
	}if(AE.v>1&&!AA){this.parent.quantity.set("visible",true)
	}else{this.parent.quantity.set("visible",false)
	}this.parent.data.set("selectedIndex",AE._renderIdx)
	}},{scriptClass:"mstrmojo.ui.editors.controls.TwoColumnContainer",alias:"quantity",width:"140px",cssText:"padding-top:10px
	",col1Width:"90px",col2Width:"50px",visible:t.selectedIndex>0&&!AA,children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(17769,"Quantity"),slot:"col1Node",},{scriptClass:"mstrmojo.TextBox",alias:"value",slot:"col2Node",value:t.count,lastValidValue:t.count,onvalueChange:function(){var AE=this.value,AH=E.parseInteger(this.value),AG=j.isEmpty(AE)
	if(!AG&&E.inNumericRange(AH,AB,n)!==0){var AF=AH>n
	r.set("validation",{invalid:true,errorCode:AF?"maxValueVIWarning":"minValueVIWarning",args:AF?undefined:[0],refNode:this.domNode,offsetAlgo:true,position:4})
	AH=NaN
	}else{if(AH>v){r.set("validation",{invalid:true,errorCode:"largeSelectionVIWarning",refNode:this.domNode,offsetAlgo:true,position:4})
	}else{if(r.hideWarning){r.hideWarning()
	}}if(!AG){this.lastValidValue=AH
	}}this.parent.parent.data.set("count",AH)
	},onblur:function(){var AE=this.value,AF=E.parseInteger(this.value)
	if(AE.length===0||isNaN(AF)||AF>n){this.set("value",this.lastValidValue)
	}else{if(AF<AB){this.set("value",AB)
	}}}}]}],fnOk:function AD(AF){var AE=z[AF.selectedIndex].v
	if(r.warning&&r.warning.visible&&r.hideWarning){r.hideWarning()
	}r.configDynamicSelection(AE,AA?1:AF.count)
	},fnCancel:function AC(){if(r.warning&&r.warning.visible&&r.hideWarning){r.hideWarning()
	}}})
	})
	return true
	},isSortingAllowed:function R(o){var q=mstrApp&&mstrApp.supportFeature(F.DYNAMIC_SEL_AND_SORT),p=mstrApp&&mstrApp.isAppStatePresentation(),n=[mstrmojo.DocSelector.STYLES.CHECKBOX,mstrmojo.DocSelector.STYLES.PULLDOWN,mstrmojo.DocSelector.STYLES.RADIO,mstrmojo.DocSelector.STYLES.LINK,mstrmojo.DocSelector.STYLES.BUTTON,mstrmojo.DocSelector.STYLES.SEARCH_BOX,mstrmojo.DocSelector.STYLES.SCROLLER,mstrmojo.DocSelector.STYLES.LIST],r=o.node.data.dt
	if(!q||p||(!o.isAttributeSelector()&&!o.isConsolidationSelector())||(o.isAttrQualSelector()&&(r===Y.DATE||r===Y.TIMESTAMP))){return false
	}return n.indexOf(o.style)!==-1
	},addAttributeSortMenuItem:function A(t,AC,AH){if(mstrmojo.resolveFeature("set-attributeform-display")){var p=AC.defn,z=p.sorts&&p.sorts[0]||{},x=(z.key||"").split("!"),AA=x.length&&x[2],AE=z.isAsc===AH,q=AC.model,u=q.datasets,n=p.srcid,AD=AC.isNewDerivedElementSelector(),AB=AD&&m.getUnitFromDataset(u,n,p.srct),r=U.getFormsByAttrId(AD?AB.attId:n,u),w=r.length>1,v,AG,o
	if(w){v=AH?mstrmojo.desc(17761,"Sort Ascending By"):mstrmojo.desc(17766,"Sort Descending By")
	}else{v=AH?mstrmojo.desc(7974,"Sort Ascending"):mstrmojo.desc(7975,"Sort Descending")
	}t.addMenuItem(v,AE?"on":"attrSort",function(){if(w){AG=new mstrmojo.ui.menus.MenuConfig({menuCssClass:"hasToggleItem sortAttributeForm"})
	if(AC.isRecursiveAttributeSelector()){r=X.filter(r,function(AJ){return AJ.fid!=="A9BFF03B4D72CC4F457ACBB4B185E91D"&&AJ.fnm!=="LEVEL_NUMBER"
	})
	}AG.addDisabledMenuItem(mstrmojo.desc(17763,"Attribute Form"),"label")
	AG.addSeparator()
	r.forEach(function(AJ){var AL=AJ.fid,AK=AA===AL&&AE
	AG.addMenuItem(AJ.fnm,AK?"on":"",q.sortSelectorByAttrForm.bind(q,AC,false,AH,AL))
	},this)
	return AG
	}else{o=r.length===1?r[0].fid:undefined
	q.sortSelectorByAttrForm(AC,false,AH,o)
	}})
	if(w){var AI=t.getMenuItems(),AF=AI.length-1
	AI[AF].pop=true
	AI[AF].scope=this.id
	}return true
	}},addClearSortMenuItem:function K(o,n){var p=n.model
	o.addMenuItem(mstrmojo.desc(17764,"Clear Sort..."),"",p.sortSelectorByAttrForm.bind(p,n,true))
	return true
	},addDossierLevelFilterMenuItem:function M(r,o){var w=mstrApp&&mstrApp.supportFeature(F.DOSSIER_LEVEL_FILTER),n=mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation(),q=o.model,p=o.n,t=(q.datasetsSettings&&q.datasetsSettings.units)||{},u=t[p]&&t[p].completeHide
	if(!w||n||o.isVisFilter()||u){return false
	}var v=[{n:mstrmojo.desc(18465,"This Chapter Only"),v:false},{n:mstrmojo.desc(18463,"All Chapters Containing This Filter"),v:true}]
	r.addPopupMenuItem(mstrmojo.desc(18464,"Apply Selections To"),this.id,function(){var z=o.defn.sync,AA=new mstrmojo.ui.menus.MenuConfig(),x=function(AB){return function(){if(z!==AB){q.synchronizeSelector(o,AB)
	}}
	}
	v.forEach(function(AB){AA.addMenuItem(AB.n,z===AB.v?"on":"",x(AB.v))
	},this)
	AA.hasToggleItem=true
	return AA
	})
	return true
	},addMenuItemIfSelectTargetsValid:function l(o,n,p){if(!mstrApp.isAppStatePresentation()){var q=this.getTargetInfo()
	if(q.items.length){o.addEditorMenuItem(mstrmojo.desc(13629,"Select Targets"),this.id,O,{selector:n,fn:this.getTargetInfo.bind(this),title:p})
	}}},addSelectorTargetsMenuItem:function W(o,n){if(!mstrApp.isAppStatePresentation()){o.addMenuItem(!!n.tks?mstrmojo.desc(16874,"Edit Targets"):mstrmojo.desc(13629,"Select Targets"),"uaf",function(){mstrApp.rootCtrl.view.openInlineDialog({scriptClass:"mstrmojo.vi.ui.FilterBoxInlineDialog",vis:n.parent})
	})
	}},addFilterStyleMenuItem:function S(o,n){if(mstrApp.isAppStatePresentation()||n.isSolrSelector()){return false
	}var p=n.getSelectorStyleList()
	if(!p.length){return false
	}o.addSubMenuItem(mstrmojo.desc(11505,"Display Style"),"",this.id,function(){var r=n.defn.style,q=function(u){return function(){if(u!==r){var v=mstrmojo.DocSelector.STYLES.ATTR_QUAL
	if(u===v||r===v){n.model.openSelWarnFlag(n.k)
	}n.model.changeFilterStyle(n,u)
	}}
	}
	var t=new mstrmojo.ui.menus.MenuConfig()
	if(n.isDynamicAttributeSelector()&&n.expr){t.useTooltip=true
	p.forEach(function(v){var u=v.n
	if(r!==v.v){u=typeof u==="object"?u.n:u
	t.addDisabledMenuItem({n:u,ttp:mstrmojo.desc(15952,"Please unset filter selections before switching to the # display style").replace("#",u)})
	}else{t.addMenuItem(u,"on",mstrmojo.emptyFn)
	}})
	}else{p.forEach(function(u){var v=u.v
	t.addMenuItem(u.n,r===v?"on":"",q(v))
	},this)
	}t.hasToggleItem=true
	return t
	})
	return true
	},addMultiSelectMenuItem:function f(o,n){if(!n.allowsTogglingMultiSelect()||mstrApp.isAppStatePresentation()){return false
	}if(n.isAMSelector()&&!n.parent.isAllGrid){return false
	}o.addMenuItem(mstrmojo.desc(13860,"Allow Multiple Selections"),n.multi?"on":"",function(){n.model.changeFilterStyle(n,n.style,!n.multi,n.iase)
	})
	o.hasToggleItem=true
	return true
	},addAutoSearchMenuItem:function c(o,n){if(!n.allowsTogglingAutoSearch()||mstrApp.isAppStatePresentation()){return false
	}o.addMenuItem(mstrmojo.desc(15913,"Allow Instant Search"),n.iase?"on":"",function(){n.model.changeFilterStyle(n,n.style,n.multi,!n.iase)
	})
	o.hasToggleItem=true
	return true
	},addConfigVisSelectorMenu:function B(o,n){var p=this
	o.addMenuItem(mstrmojo.desc(3224,"Edit..."),"",function(){p.closeVisSelectorPanel()
	var r=n.model,q=n.k
	r.checkLargeItemsForVisFilter(q,function(){var t=r.addVisFilterContainer(),v=r.getSelectedViUnit(),u
	r.oldSelectedVizBoxId=v?v.id:null
	mstrApp.isInVFConfigMode=true
	mstrApp.restoreVFKey=q
	r.beforeEnterVFConfigMode()
	u=r.insertVizBox(q,t,{})
	r.controller.rootCtrl.initPanelStautsInConfigMode()
	r.selectVIUnit(u.id,true,{isAddAction:true})
	mstrApp.getRootController().enterVizFilterConfigMode(n.parent.baseTitle,true)
	})
	})
	},addQualMenuItems:function P(o,n){if(n.isSolrSelector()||!n.isMetricSelector()||n.isRankMetricSelector()||!n.isNumericMetricSelector()){return false
	}o.addRadioMenuGroup(n.qua>0?1:0,e(n,"qua"),[{value:0,text:mstrmojo.desc(11571,"Qualify on Value")},{value:1,text:mstrmojo.desc(13630,"Qualify on Rank")}],"",undefined,true)
	o.addSeparator()
	return true
	},addBFAMenuItem:function G(o,n){if(n.isRecursiveAttributeSelector()&&n.showBFAMenu&&!mstrApp.isDossier&&!mstrApp.isAppStatePresentation()){o.addMenuItem(mstrmojo.desc(17314,"Use Alternate Filter Technique"),n.defn.pdf?"on":"",function(){n.changeFilterTechnique()
	})
	o.hasToggleItem=true
	}},addSetDisplayFormsMenuItem:function h(w,r){var p=r.node.data.dt
	if(!r.isAttributeSelector()&&!r.isNewDerivedRecursiveElementSelector()||(r.isAttrQualSelector()&&(p===Y.DATE||p===Y.TIMESTAMP))){return false
	}var u=r.model,x=r.defn,q=[],AC=m.getUnitFromDataset(u.datasets,x.srcid,x.srct),AA=AC&&AC.attId,n=U.getFormsByAttrId(AA||x.srcid,u.datasets),t=u.datasets[x.dsid]
	if(r.isRecursiveAttributeSelector()){n=X.filter(n,function(AD){return AD.fid!=="A9BFF03B4D72CC4F457ACBB4B185E91D"&&AD.fnm!=="LEVEL_NUMBER"
	})
	}if(n.length<2){return false
	}var z=x.fs||x.sfs
	if(!z){var v=[],AB=u.getDatasetUnits(["att","mx"],function(AD){return AD.did===(AA||x.srcid)
	})[0]||{}
	(AB.fs||[]).forEach(function(AD){if(AD.isbf){v.push({did:AD.fid})
	}})
	if(v.length){z=v
	}}if(t&&t.xdaType===d.xdaType.customFreeFormSQL&&!!x.sfs){var o=!!x.fs?x.fs.concat(x.sfs):x.sfs
	n=X.filter(n,function(AD){return X.find(o,"did",AD.fid)!==-1||AD.fnm==="ID"
	})
	}n=X.map(n,function(AE,AD){var AF=AE.fid
	if(X.find(z,"did",AF)!==-1){q[AD]=true
	}return{id:AF,n:AE.fnm}
	})
	if(mstrmojo.resolveFeature("set-attributeform-display")&&!mstrApp.isAppStatePresentation()){w.addPopupMenuItem(mstrmojo.desc(11908,"Display Attribute Forms"),this.id,function(){return new mstrmojo.ui.menus.EditorConfig({cssClass:"displayForms",data:{defn:x,oldSelectedIndices:q.slice()},contents:[{alias:"formCheckList",scriptClass:"mstrmojo.ui.CheckList",minimumSelectCnt:1,items:n,selectedIndices:q.slice()}],fnOk:function AE(AM,AP){var AI=[],AQ=[],AN=AP.formCheckList,AR=AN.items,AF=AN.selectedIndices,AL=AM.defn.fs||AM.defn.sfs,AK=false,AH,AJ
	for(AJ=0
	AJ<AR.length
	AJ++){var AG=!!AM.oldSelectedIndices[AJ],AO=!!AF[AJ]
	if(AG!==AO){AK=true
	break
	}}if(!AK){return 
	}X.forEach(AF,function(AS,AT){if(AS){AI.push(AR[AT])
	}})
	X.forEach(AL,function(AS){AH=X.filterOne(AI,function(AT){return AT.id===AS.did
	})
	if(AH){AQ.push(AH)
	X.removeItem(AI,AH)
	}})
	AQ=AQ.concat(AI)
	u.setFilterDisplayForms(r,AQ)
	},onOpen:function AD(){this.formCheckList.updateScrollbars()
	}})
	})
	}},addReplaceWithMenuItem:function b(o,n){var p=n.getSelectorReplaceUnitList()
	if(p.length===0){return false
	}o.addEditorMenuItem(mstrmojo.desc(14003,"Replace with"),"",function(){return new mstrmojo.ui.menus.EditorConfig({data:{},cssClass:"replaceReference",okVisible:false,cancelVisible:false,contents:[{scriptClass:"mstrmojo.ui.ScrollableContainer",children:[{scriptClass:"mstrmojo.vi.ui.InteractiveUnitList",draggable:false,CLS_HAS_MENU:"",items:n.getSelectorReplaceUnitList(),listHooks:{select:function q(r,t){if(n.isInFilterPanel()){n.model.replaceFilterStackSelectors(n.defn,t)
	}else{n.model.replaceFilter(n,t)
	}}}}]}]})
	})
	return true
	},getTargetInfo:function N(){this.throwAbstractMethodError("getTargetInfo")
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocXtabModel","mstrmojo.vi.ui.rw.xtab._SupportXtabThresholds","mstrmojo.vi.ui._CanDropFromSchema","mstrmojo.models.template.DataInterface","mstrmojo.vi.models.EnumDragSources","mstrmojo.array","mstrmojo.expr","mstrmojo.func","mstrmojo.hash","mstrmojo.DocDataService","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo.fe.FilterUtils","mstrmojo.vi.enums.EnumVisFilterType","mstrmojo.EnumRWUnitType","mstrmojo.models.FormatModel","mstrmojo.warehouse.EnumObjectTypes","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo.ui.editors.controls.ContextualLink","mstrmojo.NumberFormat","mstrmojo.vi.models._DocXtabModelShared")
	var P=mstrmojo.hash,c=mstrmojo.array,X=mstrmojo.array,q=mstrmojo.models.FormatModel,K=q.ENUM_PROPERTY_NAMES,f=mstrmojo.vi.enums.EnumVisFilterType,O=mstrmojo.EnumRWUnitType,o=mstrmojo.models.template.DataInterface,w=o.ENUM_GRID_RESIZE.FIT_TO_CONTENTS,D=mstrmojo.mstr.EnumDSSXMLObjectTypes,e=mstrmojo.mstr.EnumDSSXMLObjectSubTypes,B=mstrmojo.models.template.DataInterface.getGSI
	var I=4
	var A=3
	var R=[K.GRID_VERTICAL_PADDING,K.GRID_HORIZONTAL_PADDING],a={},U="tp",N="lp"
	a[K.GRID_VERTICAL_PADDING]=U
	a[K.GRID_HORIZONTAL_PADDING]=N
	function G(x){return x.docModel.controller.cmdMgr
	}function d(AB,AD){var AE=AB.xtab.k,AA=AB.docModel,z=AA.getSelectedViUnit(),x=z&&z.boxContent,AC=!(x&&x.isInFilterPanel&&x.isInFilterPanel())
	return[AE].concat(AC?AA.getSourceFilterKeys(AE,true):[])
	}mstrmojo.vi.models.DocXtabModel=mstrmojo.declare(mstrmojo.DocXtabModel,[mstrmojo.vi.ui._CanDropFromSchema,mstrmojo.vi.ui.rw.xtab._SupportXtabThresholds,mstrmojo.vi.models._DocXtabModelShared],{scriptClass:"mstrmojo.vi.models.DocXtabModel",getGridInfo:function l(x){var AA=this.xtab,z=AA&&AA.gridInfo
	return B(z,x)
	},getUnHiddenDrillPathsForCell:function j(x,AC){var AA=this.getAllDrillPathsForCell(x,AC),AB=this.docModel.datasets,z=function(AD,AG){var AE=X.find(AD,"did",AG.id),AF=AD[AE]
	if(AF&&!AF.hide){AG.n=AF.n
	return true
	}return false
	}
	return X.filter(AA,function(AF){var AD
	for(AD in AB){var AE=AB[AD]
	if(z(AE.att,AF)){return true
	}}return false
	})
	},getAllDrillWithinPathsForCell:function Y(x,AB,AA){var z=AA?this.getUnHiddenDrillPathsForCell(x,AB):this.getAllDrillPathsForCell(x,AB)
	return z.filter(function(AC){return !!AC.within
	})
	},sort:function r(AA,AB){var x=this
	G(this).execute({execute:function z(){var AE=x.xtab,AD=AE.k,AG=x.docModel.getDataService(),AC=[{act:"sort",sorts:AA.sorts,nodeKey:AD,subTotalsPos:AA.stp||x.getSubTotalsPos(),stt:AA.stt||-1}],AF=[]
	AF.push(AG.getUpdateTemplateAction(AD,AC,null,AD))
	this.submit(AF,AB)
	}})
	},customSort:function t(AC,AD,z){var AA=this,x=P.clone(AC)
	G(this).execute({execute:function AB(){var AE=AA.xtab.k
	this.submit(AA.docModel.getDataService().getUpdateTemplateAction(AE,x),AD,z)
	}})
	},drillGrid:function b(AA,AB){var x=this
	G(this).execute({execute:function z(){this.submit(x.docModel.getDataService().getDrillGridAction(AA),AB)
	}})
	},getZoneFormatAction:function J(AJ,AL,AG,AC){var AE=AC&&AC.skipSubtotals,AA=AC&&AC.isSubtotalFormat,AI=AC&&AC.isSubtotalUseGridFormatting,AH=[],AB=[],AF="h",x="g",AK="sh",AD="sg",z=function(AM,AN){AB.push({axis:AM,regions:AN})
	}
	if(AA){switch(AJ){case"ch":z(2,[AK])
	break
	case"rh":z(1,[AK])
	break
	case"va":z(1,[AD])
	z(2,[AD])
	break
	}}else{switch(AJ){case"ch":z(1,[AF])
	z(2,!AE&&AI?[AF,x,AK]:[AF,x])
	break
	case"rh":z(1,!AE&&AI?[x,AK]:[x])
	break
	case"va":this.data.gsi.mx.forEach(function(AM){AH.push({unitId:AM.did,unitType:4,regions:[x]})
	})
	if(!AE&&AI){z(1,[AD])
	z(2,[AD])
	}break
	}}return{act:"formatGridZone",nodeKey:AG,props:AL,units:AH,axis:AB}
	},getRemoveMetricLimitsAction:function m(x){var AA=[],AB=[],z=function z(AD,AE){if(!AD){return 
	}var AC=AD.nds
	if(AC){AC.forEach(function(AG){var AF=AG.m
	if(AF!==undefined){AE.push(AF.did)
	}else{z(AG,AE)
	}})
	}}
	if(x){z(x,AA)
	AA.forEach(function(AC){AB.push({act:"removeMetricLimits",unitId:AC})
	})
	}return AB
	},getAddTemplateUnitAction:function C(AC,AD,AA,x){var AB=this._super(AC,AD,AA,x),z=d(this,AB)
	if(z.length>0){AB.partialRetrieval={nodes:z}
	}return AB
	},getRemoveTemplateUnitAction:function n(AA){var z=this._super(AA),x=d(this,z)
	if(AA.axis!==undefined&&AA.unitPos!==undefined){z.axis=AA.axis
	z.unitPos=AA.unitPos
	}if(x.length>0){z.partialRetrieval={nodes:x}
	}return z
	},canShowCellMenu:function g(x){return true
	},getKeepOnlyActionsForAssociatedNodes:function h(z,AF,AB){var x=this.docModel,AE=[x.getKeepOnlyOrExcludeAction(this.xtab.k,z,this.xtab.k)],AA=!!AB?AB:this.xtab,AD=!mstrApp.isInVFConfigMode?(AA.getAssociatedNodes&&AA.getAssociatedNodes()||[]):[]
	AF=mstrmojo.func.wrapMethods(AF,{success:function AC(){X.forEach(AD,function(AH){var AG=x.getPanel().getUnitByKey(AH.k)
	if(AG&&AG.boxContent){AG.boxContent.raiseEvent({name:"regenerateToolbar"})
	}})
	}})
	X.forEach(AD,function(AG){AE.push(x.getKeepOnlyOrExcludeAction(AG.k,z))
	})
	return{actions:AE,callback:AF}
	},addClearAdvQualActions:function p(AI,AH,AG,AA){var AD=(AH&&AH.k)||this.xtab.k,AC=AI.gridData||AI.model.data||AI.node.data,x=AC.vfexpr,AE=AC.vlexpr,z=AA.indexOf(f.DRILLING),AF=this._clearAdvQualActionsHelper(AI,AH,AG,z),AB=AF(AE,x,AD)
	if(z>-1&&AB){AA.splice(z,1)
	}return AG
	},addClearDrillingActions:function S(AB,AD,AA){var x=(AD&&AD.k)||this.xtab.k,AC=AB.gridData||AB.model.data||AB.node.data,AE=AC.vfexpr,z=this._clearDrillingActionsHelper(AB,AA)
	z(AE,x)
	return AA
	},getObjectInfo:function E(x){var AB=this.xtab.zonesModel,AA=null,z=function(AC){if(AC.did===x){AA=AC
	return true
	}}
	if(AB){(AB.getDropZones().zones||[]).some(function(AC){return !!AC.items.some(function(AD){if(!AD.cols){return z(AD)
	}else{return !!AD.cols.some(z)
	}})
	})
	}else{AA=this._super(x)
	}return AA
	},hasRecursiveAttribute:function k(x){var z=this,AA=(x||this.data).gsi||{}
	return(AA.rows||[]).concat(AA.cols||[]).some(function(AB){return z.isRecursiveAttribute(AB.did)
	})
	},hasSameRecursiveAttributeGroup:function Z(AC,AA,z){var x=this.docModel,AE=AC.did,AB=x.getDEObject(AE),AD=(AA||this.data).gsi||{}
	if(this.isRecursiveAttribute(AE)){return X.filterOne((AD.rows||[]).concat(AD.cols||[]),function(AH){var AF=AH.did,AG=x.getDEObject(AF)
	return X.find(X.ensureArray(z),"did",AF)<0&&(AF!==AE)&&(AB?AB.attId:AE)===(AG?AG.attId:AF)
	})
	}return false
	},supportsViewFilterActions:function Q(x){var z=this.getObjectInfo(x)
	return z&&!z.de&&(z.t!==1)&&(z.t!==47||z.st===12033)
	},getCurrentUnitAxisAndPosition:function u(x){return new mstrmojo.models.template.DataInterface(this.data).getUnitById(x)
	},getNumberFormatData:function H(){var x=this,z=x.data
	return(z.gnf||[]).concat(z.gnfu)
	},getNumberFormatEditorAcceptCallback:function M(z){var x=this,AA=x.xtab
	return function(AF){var AD=x.docModel.getNumberFormatAction(z.did,z.t,AF),AC=!!AD.partialRetrieval,AE,AB,AI=[]
	if(AC){AE=mstrmojo.DocDataService.REQUEST_DEFN_DATA
	AB={treesToRender:3}
	}var AG=AA.k,AH=AA.controller.dataService()
	AI.push(AH.getUpdateTemplateAction(AG,AD))
	AA.controller.submitUndoRedoTemplateWithCallback(AA,AI,x.docModel.controller._getXtabCallback(AA,undefined,AC),AE,AB)
	}
	},getAttributeFormsInTemplate:function(AA){var x=this.data.gts,z=[]
	(x.row||[]).concat(x.col||[]).forEach(function(AB){if(AB.id===AA&&AB.fs){z=z.concat(AB.fs)
	}})
	return z
	},getValuesDefaultFormatGridZoneAction:function L(AF,AC){var AA={},AM,AK=this.xtab,AD=AK&&AK.gridInfo,z=AD&&AD.fmts,AE=[],AJ,AB={}
	P.forEach(AF,function(AN){AE.push({unitId:AN.did,unitType:I,regions:["g"]})
	})
	if(z){var AG=z.va,AI=z.rh,x=z.ch
	P.forEach(z.va,function(AO,AN){AJ=q.getFormatPropertyInfo(AN)
	if(AJ&&AJ.ps!==q.ENUM_PROPERTY_SETS.FORMATTING_NUMBER){AA=P.mergeHashes(AA,q.getFormatUpdate(AN,(AJ.pt==A)?AO:q.decodeValue(AN,AO)))
	}})
	var AL=AG[U]?AG:(AI[U]?AI:x),AH
	c.forEach(R,function(AN){AJ=q.getFormatPropertyInfo(AN)
	if(AJ){AH=AL[a[AN]]
	AA=P.mergeHashes(AA,q.getFormatUpdate(AN,q.decodeValue(AN,AH)))
	}})
	}AB.skipSubtotals=AC
	AM=AK.model.getZoneFormatAction.call(AK.model,"va",AA,AK.k,AB)
	AM.units=[].concat(AE)
	return AM
	},getRAExpandAction:function F(z,AE,AB){var AD=this.getCellTitleInfo(z).title.id,AC=this.docModel.getDEObject(AD),x={act:"raExpandCollapse",sliceId:AE,depth:z.dpt,ordinal:(z.o!==undefined)?z.o:z._ei,id:z._e&&z._e.id,isExpand:AB?1:(z.epd?0:1)},AA=d(this)
	if(AB){x.expand_dsts=1
	}x[AC?"deId":"attId"]=AD
	if(AA.length>0){x.partialRetrieval={nodes:AA}
	}return x
	},getRAExpandAllAction:function v(AC,AB){var AA=this.docModel.getDEObject(AC),x={act:"raExpandCollapseAll",isExpandAll:AB?1:0},z=d(this)
	x[AA?"deId":"attId"]=AC
	if(z.length>0){x.partialRetrieval={nodes:z}
	}return x
	},getCreateCSVizActions:function W(z,AA,AQ,x){var AG=[],AF=[],AN=this.docModel,AK=AN.getDataService(),AH=AN.getVizContentPanel(),AE=AH.k,AU=this.xtab,AD=AU.k,AC=AU.parent
	AG.push({act:"macroCopyUnit",newKey:AQ,unitType:O.GRID,unitKey:AD,toKey:AE,partialRetrieval:{nodes:[AQ]}})
	var AO=AN.clearVisAsFilterAction(AC),AL=AO&&AO.actions
	c.forEach(AL,function(AV){if(!AV.controlKey){AV.nodeKey=AQ
	AG.push(AV)
	}})
	var AJ=AC.parent.children,AI,AB=AU.getFilterType()===1
	c.forEach(AJ,function(AX){if(c.find(AX.defn&&AX.defn.an,"k",AD)!==-1){AG.push({act:"associateNodes",nodeKey:AX.k,targetKeys:[AQ]})
	var AW=AX.boxContent.selectorControl
	if(AW){var AV=AY===undefined||AB,AY=AV?AN.getNextKey():AY
	AG.push({act:"addVisToFilter",parentKey:AD,targetKey:AQ,ctrlKey:AW.ckey,newCGB:AV,cgbKey:AY})
	}}})
	c.forEach(AJ,function(AW){var AV=AW.defn,AX=(AV&&AV.tks||"").split("\u001E")
	c.forEach(AX,function(AY){if(AY===AD){var Ac=AV.ck,Ab=AV.srct,AZ=AV.srcst,Ad=(Ab===D.Consolidation&&AZ!==e.ConsolidationManaged)||Ab===D.Filter
	if(AW.isAMSelector&&AW.isAMSelector()){return 
	}var Aa=AK.getAddCtrlTargetAction(Ac,AQ,AQ,Ad)
	AG.push(Aa)
	}})
	})
	var AP=this.data,AR=AP.gsi,AS=this,AM=function(AV,AW){c.forEach(AV,function(AY,AX){if(AY.did==="-1"){c.forEach(AR.mx,function(Ac,Aa){var Ab=P.copy(Ac)
	Ab.axis=-1
	Ab.unitPos=Aa+1
	AF.push(AS.getRemoveTemplateUnitAction(Ab))
	})
	}else{if(AY.did!==z.id){var AZ=P.copy(AY)
	AZ.axis=AW
	AZ.unitPos=AX+1
	AF.push(AS.getRemoveTemplateUnitAction(AZ))
	}}})
	}
	AM(AR.rows,1)
	AM(AR.cols,2)
	if(AA===2){AF.push(this.getPivotUnitAction(1,0,z.id,12,2,0))
	}AF.push({act:"advancedProperties",props:{"Template Formatting":{ShowColumnHeaders:"-1",LockColumnHeaders:"-1"}}})
	var AT=new o(AP)
	if(AT.getColResizeScenario()!==w){AF.push({act:"changeXtabColWidthScenario",value:w})
	}if(x){AF=AF.concat(x)
	}c.forEach(AF,function(AV){delete AV.partialRetrieval
	})
	AG.push(AK.getUpdateTemplateAction(AQ,AF))
	return AG
	},})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.func","mstrmojo.ui.editors.controls.ContextualLink","mstrmojo.vi.enums.EnumFeatures")
	var G=mstrmojo.hash,H=mstrmojo.array,D=mstrmojo.func,F=mstrmojo.ui.editors.controls.ContextualLink.LINK_TYPE,E=mstrmojo.vi.enums.EnumFeatures
	mstrmojo._HasContextualLink=mstrmojo.provide("mstrmojo._HasContextualLink",{genGotoTargetMenuConfig:function A(L,K){var I=this.getLinkType(),J,M
	if(I===undefined){return{}
	}if(I===F.ANOTHER_DOSSIER&&(K?K():true)&&!(mstrApp.isWSLocalMode&&mstrApp.isWSLocalMode())){M=mstrmojo.desc(16991,"Go to Dossier: #").replace("#",this.getTargetDossierName())
	J=this.goToDocument.bind(this,true)
	}else{if(I===F.THIS_DOSSIER&&this.isLinkedFilterEnabled&&this.isLinkedFilterEnabled()&&(L?L():true)){M=mstrmojo.desc(16992,"Go to Page: #").replace("#",this.getTargetPageName())
	J=this.handleContextMenuSelectionData.bind(this,true)
	}}return{menuText:M,handler:J}
	},genGotoOneClickConfig:function B(M,K){var I=this.getLinkType(),J,N,L
	if(I===undefined){return{}
	}if(I===F.ANOTHER_DOSSIER&&(K?K():true)&&!(mstrApp.isWSLocalMode&&mstrApp.isWSLocalMode())){N=mstrmojo.desc(16991,"Go to Dossier: #").replace("#",this.getTargetDossierName())
	L=this.getLinkTooltip()
	J=this.goToDocument.bind(this,false)
	}else{if(I===F.THIS_DOSSIER&&this.isLinkedFilterEnabled&&this.isLinkedFilterEnabled()&&(M?M():true)){N=mstrmojo.desc(16992,"Go to Page: #").replace("#",this.getTargetPageName())
	J=this.handleContextMenuSelectionData.bind(this,true)
	}}return{menuText:N,tooltip:L,handler:J}
	},hasLink:function(J){var I=this.getLinkType()
	if(J===undefined){return I!==undefined
	}return I===J
	},hasDossierLink:function(){return this.hasLink(1)
	},hasSelectTarget:function(){return this.hasLink(0)
	},hasLinkTooltip:function(){return this.hasDossierLink()&&G.walk("model.data.doslinkinfo.dtxt",this)
	},getLinkType:function(){var J=this,L=J.selectorControl||J.findSelectorControl(),I=J.model.data.doslinkinfo,K=D.safeCall("parent.isTargetOnlyIfw",J)(L)
	if((!G.isEmpty(L)&&!K)||J.hasAssociatedNodes()){return F.THIS_DOSSIER
	}if(!G.isEmpty(I)&&I.tnm&&(I.isAvailable!==false)&&!mstrApp.isExpress&&!(mstrApp.isWSLocalMode&&mstrApp.isWSLocalMode())){return F.ANOTHER_DOSSIER
	}return undefined
	},getPageName:function(K,J){var I=""
	H.forEach(K,function(L){H.forEach(L.pages,function(M){var N=M.key.split("--")[0]
	if(N===J){I=M.name
	return false
	}})
	if(I!==""){return false
	}})
	return I
	},getTargetPageName:function(){var L=this,I=L.model.docModel,M=L.selectorControl||L.findSelectorControl(),J=M&&M.navPage,K
	if(I&&J){K=I.getLayoutUnitDefn(J,I.getLayoutKeyByUnitKey(J))
	}return K?K.ttl:this.getPageName(I.toc,J)
	},getTargetDossierName:function(){return G.walk("model.data.doslinkinfo.tnm",this)||""
	},getLinkTooltip:function C(){return G.walk("model.data.doslinkinfo.dtxt",this)
	},getSelection4Linking:function(J){var O=J?"getContextMenuSelectionHash":"getSelectionHash",M=J?this.getContextMenuSelectionType():undefined
	if(this.isVisMap){var I=this,K=this.mapViewer,L=[],N
	if(K&&typeof K.forEachGraphicLayer==="function"){K.forEachGraphicLayer(function(P){N=P[O]()
	L=L.concat(I.getSelectionDataTree(N,M,true,P))
	})
	}return L
	}return this.getSelectionDataTree(this[O](),M,true)
	},goToDocument:function(I){var K=this,J=this.getSelection4Linking(I)
	K.controller.onLink(this,K.model.getDossierInfo(J,false))
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.alert","mstrmojo.css","mstrmojo.desc","mstrmojo.dom","mstrmojo.Label","mstrmojo.ResSetLink","mstrmojo.vi.enums.EnumFeatures","mstrmojo.ui.editors.ToolbarPopup","mstrmojo.ui.editors.controls.ContextualLink","mstrmojo.vi.models.EnumFieldTypes")
	var G=mstrmojo.dom,B=mstrmojo.vi.enums.EnumFeatures,H=mstrmojo.array,E=mstrmojo.hash,J=null
	function I(L){var K=1
	if(L.tstp===769){K=2
	}else{if(L.tstp===774){K=3
	}}return K
	}function C(O){var K=mstrApp.name,N=K+"?",L=-1,M=function(Q,P){N+=Q+"="+P+"&"
	}
	if(!!O){switch(O.ttp){case 3:M("evt","4001")
	M("reportID",O.tid)
	L=I(O)
	if(L!==-1){M("reportViewMode",L)
	}break
	case 55:if(O.tstp===14080){M("evt","32001")
	M("documentID",O.tid)
	}else{if(O.tvmd&(8192|2048)&&!((O.tvmd&2048&&mstrApp.features["run-vi-flash"]))){M("evt","3140")
	M("documentID",O.tid)
	if(G.isIE6||G.isIE7||G.isIE8){mstrmojo.alert(mstrmojo.desc(15474,"To work with HTML5 dossiers, please turn off your browser Compatibility View or update your browser to one of the following browser versions: Chrome, Firefox, Safari, Internet Explorer 9 or above."))
	return null
	}}else{M("evt","2048001")
	M("objectID",O.tid)
	M("visMode","0")
	}}break
	}if(N.charAt(N.length-1)==="&"){N=N.substr(0,N.length-1)
	}}return N
	}mstrmojo._HasDocLink=mstrmojo.provide("mstrmojo._HasDocLink",{_mixinName:"mstrmojo._HasDocLink",url:"",target:"",linkEnabled:true,ifw:"",update:function F(K){var L=K.defn
	this.ourl=K.data.ourl
	this.url=K.data.url||L.url||this.ourl
	if(L.target){this.target=L.target
	}if(L.ifw){this.ifw=L.ifw
	}this._super(K)
	},postBuildRendering:function A(){if(this.url||this.ifw){mstrmojo.css.addClass(this.domNode,"hasLink")
	}var L=this.controller&&this.controller.view,K=L&&L.getCurrentLayout&&L.getCurrentLayout()
	if(K&&K.addLinkInfo){K.addLinkInfo(this.id,{url:this.url,target:this.target,src:this})
	}return this._super()
	},setLinkEnabled:function D(O){this.linkEnabled=O
	var N=this.domNode
	if(!N){return 
	}var P=N.childNodes,M=P[P.length-1],K=this.id+"_mask",L=(M.id===K)?M:null
	if(O){if(L){N.removeChild(L)
	delete this._mask
	}}else{if(!L){L=document.createElement("div")
	L.className="mstrmojo-DocLinkMask"
	L.id=K
	L.innerHTML="&nbsp
	"
	N.appendChild(L)
	}}},cancelDocLink:false,genDLAction:function(){var K=this.target==="_blank"?this.target:"_self"
	return mstrmojo.ui.editors.controls.ContextualLink.genDLAction(E.copyProps(["tid","ttp","navpage","psf","aopam","prms","dtxt"],this.node.data,{linkTarget:K}),this.model)
	},onclick:function(L){if(J===null){var M=this,K=function(){if(M.linkEnabled&&!M.isEditing){var Y=M.drillLinkItems,X=Y&&Y[0],N=M.url||(X&&X.url),P=M.node&&M.node.data,O=P&&P.navpage,W=M.model,R=mstrmojo.desc(15704,'Go to "#"'),a,S
	if(M.hasDossierLinking()){a=M.genDLAction()
	S=function(){M.model.controller.onLink(M.model,a)
	}
	R=R.replace("#",P.tnm)
	}else{if(M.ifw){W.showInfoWin(M.ifw,(M.getAnchor&&M.getAnchor())||M.domNode,"v",true,null,(P&&P.wid)?P.wid:null)
	}else{if(N){R=R.replace("#",N)
	S=function(){W.executeLink(N,M.target,M)
	}
	}else{if(P&&P.tid&&!mstrApp.isSingleTier){N=C(P)
	if(!!N){R=R.replace("#",P.tnm)
	S=function(){W.executeLink(N,M.target,M)
	}
	}}else{if(O){R=R.replace("#",P.navpagenm)
	S=function(){W.raiseEvent({name:"layoutSelected",panelKey:O,layoutKey:W.getLayoutKeyByUnitKey(O)})
	}
	}else{if(E.walk("defn.iwKey",M)){var U=(M.getAnchor&&M.getAnchor())||M.domNode
	W.showInfoWin(E.walk("defn.iwKey",M),U,undefined,undefined,G.position(U,true),undefined,undefined,true)
	}}}}}}if(S){if(!mstrApp.isVI||mstrApp.isAppStatePresentation()){S()
	return 
	}var Z=M.parent,Q=M._menu,b=function(c){if(c===mstrmojo.vi.models.EnumFieldTypes.IMAGE){return mstrmojo.desc(19694,"Edit image")
	}return mstrmojo.desc(16163,"Edit text")
	}
	if(!Q){Q=M._menu=new mstrmojo.ui.editors.ToolbarPopup({anchorElement:Z,autoCloses:true,cssClass:"link-action-cfg",children:[{scriptClass:"mstrmojo.Label",alias:"nav",cssClass:"link nav",cssDisplay:"inline",text:R,onclick:function(){S()
	this.parent.close()
	}},{scriptClass:"mstrmojo.Label",cssClass:"separator",cssDisplay:"inline-block",text:"|"},{scriptClass:"mstrmojo.Label",alias:"edit",cssClass:"link",cssDisplay:"inline-block",popupHost:Z,text:b(Z.hostType),onpopupHostChange:function(){this.set("text",b(this.popupHost.hostType))
	},onclick:function(){this.parent.close()
	this.popupHost.switchToEditMode()
	}}]})
	}else{Q.nav.set("text",R)
	Q.nav.set("onclick",function(){S()
	this.parent.close()
	})
	Q.edit.set("popupHost",Z)
	}Q.popupConfig.position=G.getMousePosition(L.e,L.hWin)
	Z.openPopup(Q)
	}}}
	J=window.setTimeout(function(){if(!M.cancelDocLink){K()
	}M.cancelDocLink=false
	J=null
	},200)
	}},hasDossierLinking:function(){var K=this.node&&this.node.data
	return(K&&K.tid&&K.tnm&&(K.isAvailable!==false)&&(K.psf!==undefined)&&mstrApp.supportFeature(B.TEXT_IMAGE_DOSSIER_LINKING)&&!mstrApp.isExpress)
	},hasActiveLink:function(){if(this.linkEnabled){var N=this.drillLinkItems,K=N&&N[0],M=this.url||(K&&K.url),L=this.node&&this.node.data
	if(L){if(this.hasDossierLinking()){return true
	}if(L.tid&&!mstrApp.isSingleTier){return true
	}if(L.navpage){return true
	}}if(M){return true
	}}return false
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocSelector","mstrmojo.TextBoxDocSelector","mstrmojo.hash","mstrmojo.array","mstrmojo.string","mstrmojo.elementHelper","mstrmojo.vi.util.A11yUtility","mstrmojo.css","mstrmojo.mstr.EnumDSSXMLObjectTypes")
	var L=mstrmojo.array,Q=mstrmojo.hash,K=mstrmojo.string,P=mstrmojo.vi.util.A11yUtility,W=mstrmojo.css,N=mstrmojo.elementHelper,U=mstrmojo.DocSelector.DATAPARAMS,c=mstrmojo.mstr.EnumDSSXMLObjectTypes,S=N.ELEM_ALL_ID
	var O=0,C=1,D=2
	var Z=1,a=3
	var X=N.ELEM_ALL
	mstrmojo.SearchBoxDocSelector=mstrmojo.declare(mstrmojo.TextBoxDocSelector,null,{scriptClass:"mstrmojo.SearchBoxDocSelector",filterElemALL:false,_buildEvent:function I(e,j){var m=[],f,h=[],l=this.defn
	L.forEach(j.items,function(p){p.n=K.multiReplace(p.n,{"
	":"\\
	"})
	m.push(p.v+"
	"+K.decodeHtmlString(p.n))
	h.push(p)
	})
	f=m.length
	if(!f){m.push(S)
	}if(m.length>0||!l.nsb||l.nsb===O){e.eid=m.join(mstrmojo.elementHelper.ELEM_SEPARATOR)
	}else{if(l.nsb===C||!l.showall){e.unset=true
	}else{if(l.nsb===D){e.eid=S
	h=[X]
	}}}if(mstrApp.isAppStatePause&&mstrApp.isAppStatePause()){var o=this.model,g=this.node,n=o.getCurrentLayoutDef(),k=n&&n.units,d=this.k
	if(k[d]){k[d].cesChange=true
	}g.data.elms=g.data.ces=h
	g.data[U.CESREADY]=true
	o.setDataReady(this.k,this.id,U.CESREADY,true,"ces",h)
	o.setDataReady(this.k,this.id,"elms",h)
	}if(l.sec){l.cek=h
	if(l.multi){this.parent.set("count",N.buildElemsCountStrByNum(f,0))
	}else{this.parent.set("count",N.buildElemsCountStrByNum(0,0))
	}}},updateWidget:function R(n){var f=this._super(n),g=n.node,m=g.defn,k=g.data,d=k.elms
	if(d&&!m.sos){f.candidates=this.setupCandidates(m,d)
	}if(m.srcid){var h=[],l,j=[],e={}
	if(d&&d.length>0){L.forEach(d,function(q,p){e[q.v]=p
	})
	L.forEach(k.ces,function(p){if(p.v!=="u
	"){if(p.v in e){j.push(d[e[p.v]])
	}else{j.push(p)
	}}})
	}else{j=L.filter(k.ces,function(p){return p.v!=="u
	"
	})
	}if(j&&j.constructor===Array){if(m.dfm===Z){for(l=0
	l<j.length
	l++){if(j[l].t!==a){h.push(j[l])
	}}}else{h=j.concat()
	}}if(!m.sos){var o=[]
	L.forEach(h,function(p){if(L.find(f.candidates.items,"v",p.v)>-1){o.push(p)
	}})
	h=o
	}f.items=h
	if(n.isRecursiveAttributeSelector&&n.isRecursiveAttributeSelector()){f.srcid=m.srcid
	f.srct=m.srct||f.srct
	f.emptyText=mstrmojo.desc(4325,"Search")+" "+(m.ttl||"")
	}}return f
	},getCekEvtListener:function b(e,d){return function(f){e.handleActionInSyncPhase(function(){d.set("items",f.value)
	})
	}
	},getWidgetConfig:function G(o,h,l,d){var n=o.getFormats(),g=o.node.data,k=this._super(o,h,l,d),e=100,j=mstrApp.isVI,f=j&&(o.isRecursiveAttributeSelector()||o.node.defn.iase===false),m=this,p=f?{posType:mstrmojo.tooltip.POS_TOPLEFT,cssClass:"vi-regular pulldown",contentNodeCssClass:"srch htEnter",content:mstrmojo.desc(15764,"Hit Enter to search")}:{posType:mstrmojo.tooltip.POS_TOPLEFT,cssClass:"vi-regular pulldown",contentNodeCssClass:"srch",onclick:function(){var r=m.content,u=r.getSearchPattern(),t=m.id
	m.model.changeFilterStyle(m,m.style,m.multi,false)
	this.set("allowOtherTooltips",false)
	r.hideTooltip()
	if(mstrApp.isWaiting()){var q=mstrApp.getWaitBox()
	var v=q.attachEventListener("visibleChange",q.id,function(w){if(w.value===false){mstrmojo.all[t].content.showInfoTooltip(u)
	v.clear()
	}})
	}},content:'<div class="auto">'+mstrmojo.desc(15910,"Searching...")+'</div><div class="separator"><div class="wait">'+mstrmojo.desc(15911,"Tired of waiting?")+'</div><div class="actn">'+mstrmojo.desc(15912,"Disable Instant Search")+"</div></div>"}
	k={scriptClass:k.scriptClass,cssText:n.height?"height: "+n.height:"",emptyText:mstrmojo.desc(4325,"Search")+" "+(l.ttl||""),richTooltip:j?p:null,items:l.srcid?(g.ces?g.ces.concat():[]):[],REQUEST_THRESHOLD:(mstrApp&&mstrApp.SEARCH_REQUEST_THRESHOLD)||55,suggestCount:(mstrApp&&mstrApp.SEARCH_SUGGESTION_LENGTH)||e,hitEnterToTest:f,stifleIntermediateSearch:true,srcid:l.srcid||"",srct:l.srct||c.Attribute,dsrc:l.dsrc||"",useClientForm:l.srct===c.Consolidation,onitemsChange:function(){if(!o._inSyncPhase){o.showInfoWin()
	o.selectorControlChange(this)
	}}}
	if(d&&!l.sos){k.candidates=this.setupCandidates(l,d)
	}else{k.useKeyDelay=true
	k.noCache=true
	}if(!l.multi){k.maxObjectCount=1
	}return k
	},isSelectAll:function F(){var d=this.children&&this.children[0]
	return d===undefined?true:(!d.items||d.items.length===0)
	},isFilterNothing:function M(){return this.isSelectAll()
	},setupCandidates:function B(e,f){var d=e.srcid?f:[]
	if(this.filterElemALL){d=L.filter(d,function(g){return g.v!=="u
	"
	})
	}return{isComplete:true,items:d}
	},isValidSelection:function Y(){var e=this.node.data,d=this.model
	if(d.isSelWarnFlagOn(this.k)&&e.ces&&e.ces.length===0){return e.elms.length!==0
	}return true
	},getSelectedItemAria:function J(){var e=this.content.items,d=""
	L.forEach(e,function(f){d+=f.n+", "
	})
	return d
	},getStyleSpecificAria:function H(){return mstrmojo.desc(8967,"Search Box")
	},toggleSearchFocus:function A(f){var e=this.navList,l=this.content,d=l.emptyTextNode,m=l.inputBox,h,k,g,j
	if(!e.length){this.buildNavList()
	}h=f?m:d
	e[e.length-2]=h
	k=h.getAttribute("aria-label")
	g=f?m.value:l.emptyText+", type"
	j=K.encodeHtmlString(g,true)
	if(j!==k){h.setAttribute("aria-label",j)
	}if(h.grabFocus){h.grabFocus(true)
	}},buildNavList:function E(){if(!this.hasRendered){return 
	}var m=this,e=[],l=this.content,k=l.itemsContainerNode.children,o,j,h,g=l.emptyText,d=l.emptyTextNode,n=l.inputBox,f=Q.walk("parent.menuBtnInfo.btn",this)
	L.forEach(k,function(p){if(p!==d&&p!==n){j=p.getElementsByClassName("elem")[0]
	h=p.getElementsByClassName("mstrmojo-SimpleObjectInputBox-del")[0]
	o=j.textContent
	P.enableAccessibility({domNode:j},"text",o)
	P.enableAccessibility({domNode:h},"button","delete "+o)
	e.push(j,h)
	}},m)
	if(d){P.enableAccessibility({domNode:d},"searchbox",g+", type")
	if(W.getStyleValue(d,"display")!=="none"){e.push(d)
	}}if(n){P.enableAccessibility({domNode:n},"searchbox",n.value)
	if(W.getStyleValue(n,"display")!=="none"){e.push(n)
	}}if(f){e.push(f)
	}this.navList=e
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.MetricQualDocSelector","mstrmojo.css","mstrmojo.vi.util.A11yUtility")
	var D=mstrmojo.hash,J=mstrmojo.vi.util.A11yUtility,F=mstrmojo.css
	mstrmojo.MetricSliderDocSelector=mstrmojo.declare(mstrmojo.MetricQualDocSelector,null,{scriptClass:"mstrmojo.MetricSliderDocSelector",_ieformatHandlers:{domNode:["F","text-align","vertical-align","line-height","z-index","top","left"],contentNode:["height","width","B","P"],filterNode:["height","width","B","P","fx","background-color"],item:["color","font","text-decoration","text-align","line-height"]},formatHandlers:{domNode:["F","text-align","vertical-align","line-height","z-index","top","left"],contentNode:["height","width","B","P","fx","background-color"],item:["color","font","text-decoration","text-align","line-height"]},newAndInitWidget:function G(K){var L=this._super(K)
	K.attachEventListener("includeChange",L.id,function(M){this.set("include",M.value)
	})
	return L
	},getWidgetConfig:function E(O,M,L,N){var K=this._super(O,M,L,N)
	O.extCls="extSlider"
	K.isHoriz=true
	K.include=L.include
	return K
	},isSelectAll:function A(){var K=this.children&&this.children[0]
	return K===undefined?true:K.unSet
	},isFilterNothing:function C(){return false
	},getSelectedItemAria:function B(){var K=D.walk("content.summary.text",this)||""
	if(K){K+=", "
	}return K
	},getStyleSpecificAria:function H(){return mstrmojo.desc(4730,"Slider")
	},buildNavList:function I(){if(!this.hasRendered){return 
	}var O=[],M=D.walk("parent.menuBtnInfo.btn",this),L=this.content,Q=L.typeHelper,K=L.rankon,N=L.handle1Node,P=L.handle2Node
	if(K){O.push(K)
	}if(N&&F.getStyleValue(N,"display")!=="none"){J.enableAccessibility({domNode:N})
	O.push(N)
	}if(P&&F.getStyleValue(P,"display")!=="none"){J.enableAccessibility({domNode:P})
	O.push(P)
	}if(Q&&Q.update2ThumbAria){Q.update2ThumbAria()
	}if(M){O.push(M)
	}this.navList=O
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo.dom","mstrmojo.expr","mstrmojo.hash","mstrmojo.string","mstrmojo.vi.ui.HierarchyElementsCheckListBrowser","mstrmojo.vi.ui.ElementsBrowser","mstrmojo.ValidationTextBox","mstrmojo.DateTextBox","mstrmojo.Label","mstrmojo._IsList","mstrmojo.rw.ConditionWalkProviderBase","mstrmojo.ui.Pulldown","mstrmojo.ui.SearchablePulldown","mstrmojo.ui.CheckList","mstrmojo.ui.ColumnContainer","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo._HasItemAliases")
	var P=mstrmojo.array,X=mstrmojo.css,F=mstrmojo.string,M=mstrmojo.expr,Y=mstrmojo.dom,Z=mstrmojo.hash,AA=M.ET,b=M.ET2TGT,p=M.DTP2FN_DTP,a=M.FN,o=M.FNT,S=M.FN_MRP,u=mstrmojo.rw.ConditionWalkProviderBase,e=u.onWalkChange,r=u.updateList,AL=u.fnItem,AK=u.isComparisonAllowed,c=u.clearInvalid,D=u.shouldShowCst,f=u.getConstant,G=u.getConstantDataType,z=u.getConstantValue,AM=u.isDATE,g=u.getCstListCompareTgts,h=u.fmJson,AD=u.allowedTargetTypes,L=u.updatePulldown,U=u.onWalkChangeThroughPulldown,q=mstrmojo.mstr.EnumDSSXMLObjectTypes,AH=mstrmojo.mstr.EnumDSSXMLObjectSubTypes,AP=mstrmojo.vi.ui.DatasetUnitMenuUtils,B=mstrmojo.ui._HasListTooltip
	var E=mstrmojo.ui.ColumnContainer.prototype.updateColumnContainer
	var Q=mstrmojo.meta.TP,AG=mstrmojo.meta.STP,C="-2"
	var N={SELECT:0,QUALIFICATION:1}
	var j={TEMPLATE_LEVEL:0,DATASET_LEVEL:1}
	var W={VALUE:1,RANK_PERCENTAGE:2,BOTH:3}
	var n=0,t=1
	var H=368,AF=H-5,AO=5,R=26,K=10
	var AN=2147761857,AJ=2147786389
	var x={}
	x[AA.MQ]={key:"metricFns",def:M.METRIC_FNS}
	x[AA.MC]={key:"metricFns",def:M.METRIC_FNS}
	x[AA.AQ]={key:"formFns",def:M.FORM_FNS}
	x[AA.AL]={key:"formFns",def:M.FORM_FNS}
	x[AA.AC]={key:"formFns",def:M.FORM_FNS}
	x[AA.AE]={key:"elemFns",def:M.ELEM_FNS}
	function AI(AQ){return'<div class="unit item '+AP.getUnitCssClass(AQ)+'">'+F.encodeHtmlString(AQ.n)+"</div>"
	}function AC(AQ){var AR=this.selectedNode
	P.forEach(AR.classList,function(AS){if(AS&&F.startsWith(AS,"ic")){X.removeClass(AR,AS)
	}})
	X.addClass(AR,"unit")
	X.addClass(AR,"item")
	X.addClass(AR,AP.getUnitCssClass(AQ))
	return F.encodeHtmlString(AQ.n)
	}function m(AR,AZ){var AV=AR.model,AY=AV.et,Aa=AV&&AV[b[AY]]&&AV[b[AY]][AR.columnWalk.target.itemIdField||"did"],AU=AV&&AV.fm,Ad=AU&&AU.dtp,AS=AK(AV,AR.ets)
	if(this.targetsLastMod&&this.targetsLastMod===AR.targetsLastMod&&Aa&&Aa===this._lastTargetId&&this.lastFmDtp===Ad&&this.lastFnTp===AS&&this.lastEt===AY){return 
	}var AX=this.attMxPd,Ac=this.attMxLabel
	if(!AS){AX.set("items",[])
	Ac.set("visible",false)
	AX.set("visible",false)
	}else{var Ab=AV.a?mstrmojo.desc(518,"Attribute"):AV.m?mstrmojo.desc(517,"Metric"):"",AW=g(AR),AQ=AV[b[AV.et]+(2+AZ)],AT=AQ?P.find(AW,"did",AQ.did):undefined
	Ac.set("text",Ab)
	AX.items=AW
	AX.selectedIndex=AT>=0?AT:undefined
	AX.refresh()
	Ac.set("visible",true)
	AX.set("visible",true)
	}this._lastTargetId=Aa
	this.lastFnTp=AS
	this.lastFmDtp=Ad
	this.lastEt=AY
	this.targetsLastMod=AR.targetsLastMod
	}function J(AY,Ab){AY.updating=true
	var AU=AY.parent.parent.parent,Aa=D(AU,Ab)
	if(!Aa){AY.updating=false
	return 
	}var AS=AU.model||{},AX=f(AU,Ab),AT=G(AU,AX),Ac=z(AU,Ab),AZ=AS.fn,AW=M.fn_List(AZ,AS.fnt),AQ=AM[AT]
	var AV=AQ?AY.dateInput:AY.txtInput
	var AR=AQ?AY.txtInput:AY.dateInput
	AR.set("visible",false)
	AV.updating=true
	AV.set("dtp",AT)
	AV.set("isList",AW)
	AV.set("value",Ac)
	AV.set("visible",true)
	AV.set("hint",AW?mstrmojo.desc(8191,"value1## value2## ...## valueN").replace(/##/g,mstrConfig.listSep||"
	"):"")
	AV.updating=false
	if(AZ===1||AZ===2){AV.constraints.min=0
	}if(AV.clearValidation&&AV.inputNode){AV.clearValidation()
	}m.call(AY,AU,Ab)
	switch(AS.et){case AA.AQ:case AA.AL:case AA.MQ:AY.attMxPd.set("selectedIndex",undefined)
	break
	}AY.updating=false
	}function AE(){var AT=this.parent,AR=AT.parent.parent.parent,AS=(this.isValid&&this.isValid())||(!this.isValid&&!F.isEmpty(this.value)),AQ=AR.model
	AR["invalid"+AT.cstIndex]=!AS
	if(!this.updating){this.updating=true
	if(AQ){AQ.edit(AT.alias,{v:this.value,dtp:this.dtp})
	}this.updating=false
	}if(AR.updateOkBtn){AR.updateOkBtn()
	}}function I(AQ){if(AQ){var AS=AQ.n,AR=AQ.dsName
	if(AS&&AR){return'<div class="name">'+F.encodeHtmlString(AS,true)+'</div><div class="dsc dataset">'+F.encodeHtmlString(AR,true)+"</div>"
	}else{return B.getTooltipText.call(this,AQ)
	}}}function l(AQ){return Z.copy(AQ,{scriptClass:"mstrmojo.Box",children:[{scriptClass:"mstrmojo.ValidationTextBox",alias:"txtInput",cssText:"width: 100%",required:true,constraints:{trigger:mstrmojo.validation.TRIGGER.VALUESET},onValid:AE,onInvalid:AE,onClearValidation:c,size:6,visible:true},{scriptClass:"mstrmojo.DateTextBox",alias:"dateInput",cssDisplay:"inline-block",required:true,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL},onValid:AE,onInvalid:AE,onClearValidation:c,calendarToBody:true,autoFormat:false,calConfig:{onmousedown:function(AT){Y.stopPropogation(AT.hWin,AT.e)
	}},visible:true},{scriptClass:"mstrmojo.Label",cssClass:"attMxLabel",text:"Attribute",alias:"attMxLabel"},{scriptClass:"mstrmojo.ui.Pulldown",alias:"attMxPd",itemIdField:"did",cssClass:"conditionWalk-attMxPd",onSelectedItemChange:function AR(AU){if(this.hasRendered){var AT=this.parent.parent.parent.parent
	U.call(this,AT,AU,"c0")
	}},getPulldownTextInnerHTML:AI,getPopupListConfig:function AS(){var AT=mstrmojo.ui.Pulldown.prototype.getPopupListConfig.call(this)
	AT.showTooltipForLargeText=false
	AT.getItemProps=function AU(AX,AV){var AW=mstrmojo._IsList.getItemProps.call(this,AX,AV)
	AW.title=""
	AW.style=this.parent.itemCssText||""
	AW.addCls("unit "+AP.getUnitCssClass(AX))
	return AW
	}
	AT.getTooltipText=I
	return AT
	}}],update:function(){J(this,this.cstIndex)
	this.parent.updateScrollbars()
	},postCreate:function(){this._super()
	this.parent.parent.parent.attachEventListener("updateTargets",this.id,function(){this.update()
	})
	}})
	}function v(AQ){return AQ[Q]===q.Attribute&&AQ[AG]===AH.AttributeRecursive
	}function w(AQ){var AS=AQ[Q]===q.Consolidation&&AQ[AG]===AH.ConsolidationManaged,AR=mstrApp&&mstrApp.rootCtrl&&mstrApp.rootCtrl.docCtrl&&mstrApp.rootCtrl.docCtrl.model
	if(AS&&AR&&AR.findUnitInDataSet){AQ=AR.findUnitInDataSet(AQ.did)
	if(AQ&&AQ.attId){return v(AR.findUnitInDataSet(AQ.attId))
	}}}mstrmojo.vi.ui.ConditionWalkProvider=mstrmojo.declare(mstrmojo.rw.ConditionWalkProviderBase,[mstrmojo._HasItemAliases],{scriptClass:"mstrmojo.vi.ui.ConditionWalkProvider",getTargetNodeProps:function k(){var Aa=this
	return{alias:"target",isAttribute:false,isMetric:false,showChooseMethod:true,showLevel:false,children:[{scriptClass:"mstrmojo.Label",cssClass:"baseOn",text:mstrmojo.desc(15115,"Based on")},{scriptClass:"mstrmojo.ui.SearchablePulldown",alias:"target",itemIdField:"did",cssClass:"conditionWalk-target",allowEmptyText:true,onRender:function(){if(this.hasRendered){this[this.editableSlot].setAttribute("placeholder",mstrmojo.desc(10,"Search"))
	}},postCreate:function(){this.parent.parent.parent.attachEventListener("updateTargets",this.id,function(){this.update()
	})
	},getEditableTextInnerHTML:function Ab(){var Ad=this.selectedIndex,Ac=this.getPopupList(),Ae=Ac&&Ac.items
	if(this.selectedNode&&Ae&&Ae[Ad]){return this.getPulldownTextInnerHTML(Ae[Ad])
	}else{return""
	}},update:function AW(){var Af=this.parent.parent.parent,Ae=Af.model,Ac=Af.targetsLastMod,An=Af.editor.docModel,Am=Af.editor.xtab,Ai=Am&&Am.gridInfo,Aj=Ae&&Ae.et
	if(this.lastModel!==Ae||this.targetsLastMod!==Ac){this.lastModel=Ae
	this.targetsLastMod=Ac
	var Ad=Af.targets,Ag=Af.ets
	if(Ag&&Ad&&Ad.length){var Ah=AD(Af.ets)
	Ad=P.filter(Ad,function(Aq){return Ah[Aq[Q]]
	})
	}var Ao=Ae&&Ae[b[Aj]],Al=Af.objectBrowsingEnabled,Ap=Al&&(!Ad||P.find(Ad,"did",C)===-1)
	if(Aj===AA.ANDOR){Ao=Ae.a||Ae.m||null
	}Ao=Ao&&Ao.did&&Ao.n?Ao:undefined
	this.set("objectBrowsingEnabled",Al)
	if(Ap){Ad=Ad||[]
	var Ak=mstrmojo.desc(15346,"Browse Metadata Objects...")
	Ad.push({did:C,n:Ak,t:-1,title:Ak})
	}if(An){P.forEach(Ad,function(Aq){Aa.adjustItemName(Aq,An,Ai)
	})
	}L(this,true,M.getSortedObjectsByTypeGroup(Ad),Ao)
	if((!Al||Ap)&&!Ao){this.set("isEditing",true)
	this.openPopup(this.getPopupList())
	}}},onitemSelected:function AR(Ad){if(this.hasRendered){var Ac=this.parent.parent.parent
	U.call(this,Ac,Ad,"target")
	}},preisEditingChange:function AX(){if(this.hasRendered&&this.isEditing){var Ac=this.selectedNode
	this._lastText=Ac.innerHTML
	X.removeClass(Ac,"unit")
	X.removeClass(Ac,"item")
	}return true
	},postisEditingChange:function AY(){if(this.hasRendered&&!this.isEditing){var Ac=this.selectedNode
	if(this._lastText){Ac.innerHTML=this._lastText
	X.addClass(Ac,"unit")
	X.addClass(Ac,"item")
	}else{Ac.innerHTML=""
	}delete this._lastText
	}},onPopupWidgetClosed:function AZ(Ae){if(this.objectBrowsingEnabled&&Ae&&Ae.pressingEnter){var Ac=this.getPopupList(),Ah=Ac._oldItems,Ag=this.text
	if(Ah&&Ag){var Af=P.filterOne(Ah,function(Ai){return Ai.n===Ag
	})
	Af=Af||Ac.items[0]
	if(!Af){delete Ac._oldItems
	Ac.set("items",Ah)
	return 
	}if(Af.did===C){var Ad=this.parent.parent.parent
	Ad.browse(this)
	delete Ac._oldItems
	Ac.set("items",Ah)
	return 
	}}}mstrmojo.ui.SearchablePulldown.prototype.onPopupWidgetClosed.call(this,Ae)
	},getPulldownTextInnerHTML:AC,getPopupListConfig:function AQ(){var Ac=mstrmojo.ui.SearchablePulldown.prototype.getPopupListConfig.call(this)
	Ac.showTooltipForLargeText=false
	Ac.getItemProps=function Ad(Ai,Ag){var Ah=mstrmojo._IsList.getItemProps.call(this,Ai,Ag)
	Ah.title=""
	Ah.style=this.parent.itemCssText||""
	Ah.addCls("unit "+AP.getUnitCssClass(Ai))
	Ah.addCls(Ai.isInvalid?"invalid":"")
	return Ah
	}
	Ac.doItemSelect=function Ae(Aj,Ag){if(Aj.did===C){var Ah=this.parent
	Ah.parent.parent.parent.browse(Ah)
	}else{if(Aj.isInvalid){var Ai=this
	window.setTimeout(function(){Ai.showTooltip({target:Ai._getItemNode(Aj._renderIdx)},window)
	},0)
	}else{mstrmojo._IsList.doItemSelect.call(this,Aj,Ag)
	}}}
	Ac.showTooltip=function Af(Al,Ak){if(!this.hasOpenTooltip&&!(this._lastOpened&&this._lastOpened.visible)){var Aj=Y.eventTarget(Ak,Al),Ai=this.getItemFromTarget(Aj)
	if(Ai&&Ai.isInvalid){var Ah=this.getItemNodeFromTarget(Aj),Ag=Y.position(Ah)
	this.richTooltip={content:mstrmojo.desc(15391,"This is an invalid object. Please contact your administrator for more information."),cssClass:"vi-warning triangle-warning vi-tooltip-C A-center",left:Ag.x+168,top:Ag.y}
	mstrmojo._HasTooltip.showTooltip.call(this,Al,Ak)
	}else{this.constructor.prototype.showTooltip.call(this,Al,Ak)
	}}}
	Ac.tooltipOpenDelay=700
	Ac.getTooltipText=I
	return Ac
	}},{scriptClass:"mstrmojo.Label",cssClass:"baseOn",text:mstrmojo.desc(15116,"Choose elements by"),alias:"attrLabel",bindings:{visible:"this.parent.isAttribute && this.parent.showChooseMethod"}},{scriptClass:"mstrmojo.ui.Pulldown",alias:"chooseMethodPd",cssClass:"targetMethod",exceedsLimit:false,items:null,visible:false,bindings:{visible:"this.parent.isAttribute && this.parent.showChooseMethod"},onitemSelected:function AR(Af){var Ae=this.parent.fm,Ad=Ae&&Ae.cssClass,Ac=Ae&&Ae.domNode,Ag=Ae&&Ae.selectedItem
	if(Af.v===N.SELECT){X.toggleClass(Ac,"forms",false)
	if((Ad||"").indexOf(" forms")>-1){Ae.cssClass=Ad.replace(" forms","")
	}if((!Ag)||Ag.did!=="1,22"&&Ag.did!=="1,57"){Ae.singleSelectByField("1,22","did")
	}}else{X.toggleClass(Ac,"forms",true)
	if((Ad||"").indexOf(" forms")===-1){Ae.cssClass=(Ad||"")+" forms"
	}if(!Ag||Ag.did==="1,22"||Ag.did==="1,57"){Ae.singleSelect(2)
	}}Ae.updateScrollbars()
	},update:function AW(){var Ah=this.parent.parent.parent,Af=Ah&&Ah.model,Ad=Ah&&Ah.disableElementsBrowsing,Ac=Af&&Af.a,Ae=Ac&&Ad&&Ad(Ac)
	if(Ae){this.set("items",[{n:mstrmojo.desc(15117,"Qualification on"),v:N.QUALIFICATION}])
	}else{if(this.exceedsLimit){this.set("items",[{n:mstrmojo.desc(15118,"Selecting in list"),v:N.SELECT,cls:"disabled invalid",dsbld:true,ttp:mstrmojo.desc(19839,"This object exceeds the maximum row limit defined by the server's governing settings. Reduce the item count by filtering the data via qualifications.")},{n:mstrmojo.desc(15117,"Qualification on"),v:N.QUALIFICATION}])
	this.selectItemByField("v",N.QUALIFICATION)
	}else{if(Ac.ndetype===1){this.children[0].showTooltipForLargeText=false
	this.set("items",[{n:mstrmojo.desc(15118,"Selecting in list"),v:N.SELECT,ttpDisabled:true},{n:mstrmojo.desc(15117,"Qualification on"),v:N.QUALIFICATION,cls:"disabled",dsbld:true,ttp:mstrmojo.desc(16184,"This method is not available for this object type.")}])
	}else{this.set("items",[{n:mstrmojo.desc(15118,"Selecting in list"),v:N.SELECT},{n:mstrmojo.desc(15117,"Qualification on"),v:N.QUALIFICATION}])
	}}}var Ag=this.getSelectedItem()
	switch(Af.et){case AA.AQ:case AA.AL:case AA.AC:if(!Ag||Ag.v!==N.QUALIFICATION){this.selectItemByField("v",N.QUALIFICATION)
	}break
	default:if(!Ag||Ag.v!==N.SELECT){this.selectItemByField("v",N.SELECT)
	}break
	}this.exceedsLimit=false
	},getPopupListConfig:function AQ(){var Ac=mstrmojo.ui.Pulldown.prototype.getPopupListConfig.call(this)
	Ac.showTooltipForLargeText=false
	return Ac
	}},h({scriptClass:"mstrmojo.ui.CheckList",alias:"fm",fmPost:"",itemIdField:"did",filter:false,isFirstFm:true,multiSelect:false,minimumSelectCnt:0,hasDummyLabel:false,lastAttrId:null,height:AF-R*4-K*2-AO+"px",onchange:function AU(Ac){e.call(this,Ac,"fm")
	},bindings:{visible:"this.parent.isAttribute && this.parent.showChooseMethod"},onvisibleChange:function(){this.lastAttrId=null
	}}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(15119,"Output Level"),cssClass:"baseOn",alias:"metricLabel",bindings:{visible:"this.parent.isMetric && this.parent.showLevel"}},{scriptClass:"mstrmojo.ui.Pulldown",alias:"outputLevelPd",items:[{n:mstrmojo.desc(12178,"Visualization level"),v:j.TEMPLATE_LEVEL},{n:mstrmojo.desc(13519,"Dataset level"),v:j.DATASET_LEVEL}],selectedIndex:0,bindings:{visible:"this.parent.isMetric && this.parent.showLevel"},onSelectedItemChange:function AS(Ad){var Ac=this.parent.parent.parent,Ae=Ac.condition
	Ae.level=Ad.v
	}}],updateColumnContainer:function AT(){this.target.update()
	var Af=this.parent,Ak=Af.parent,An=Ak.model,Av=An&&An.et,Ao=this.idx,As=this.next,At=An&&An.a,Al=An&&An.fm,Ai=Ak&&Ak.inRelation
	if(Av){switch(Av){case AA.AQ:case AA.AL:case AA.AC:case AA.AE:case AA.ANDOR:if(At){this.set("isMetric",false)
	this.set("isAttribute",true)
	var Ar=Ak.disableElementsBrowsing,Ae=At&&Ar&&Ar(At),Ap=Ak.getAttributeInfo(At.did),Aj=v(Ap)||w(Ap),Am=Ak.disableHierarchyLevel
	if(Aj){An.et=AA.AE
	this.set("showChooseMethod",false)
	}var Ah=(An.etWas&&An.etWas===AA.AE)?t:n,Aq=n
	if(An.et===AA.AE&&!Ae){Aq=t
	}if(Ah!==Aq||Aq===n||!Af.next){Af.removeTrailingContainer(Ao)
	if(Aq===n&&Al){Af.addNextColumn(Aa.getFnNodeProps())
	}else{if(Aq===t){Af.addNextColumn(Aa.getEsNodeProps(Aj,Am))
	}}}Ak.condition.level=j.DATASET_LEVEL
	var Au=this.fm
	Au.updating=true
	Au.update()
	this.chooseMethodPd.update()
	Au.updating=false
	}break
	case AA.MQ:case AA.MC:if(An.m){this.set("isMetric",true)
	this.set("isAttribute",false)
	var Ad=Ak.isMDXDM(An.m.did),Ac=Ak.condition.level,Ag=Ak.editor&&Ak.editor.showLimits
	if(Ac!==j.TEMPLATE_LEVEL&&Ac!==j.DATASET_LEVEL){Ac=Ak.condition.level=Ag?j.TEMPLATE_LEVEL:j.DATASET_LEVEL
	}if(!Ai&&!Ad&&Ag){this.set("showLevel",true)
	this.outputLevelPd.set("selectedIndex",Ac)
	}else{this.set("showLevel",false)
	}if(!(As&&As.fn)){this.parent.insertAndRemoveTrailing(Ao,Aa.getFnNodeProps())
	}}break
	case AA.R:case AA.F:case AA.XML:this.set("isMetric",false)
	this.set("isAttribute",false)
	Ak.condition.level=j.DATASET_LEVEL
	this.parent.removeTrailingContainer(Ao)
	break
	}}else{this.set("isMetric",false)
	this.set("isAttribute",false)
	}E.call(this)
	},setupScrollNodes:function AV(){this.scrollNode=null
	}}
	},getEsNodeProps:function A(AX,AS){var AW=AX?"HierarchyElementsCheckListBrowser":"ElementsBrowser",AR=[{scriptClass:"mstrmojo.vi.ui."+AW,alias:"es",height:AF-5+"px",disableLevel:AS,update:function AV(){var Ab=this.parent.parent.parent,Ac=Ab.model,Aa=Ac&&Ac.a,AZ=!!Aa&&!Aa.ilk
	if(!AZ){return 
	}this.set("ifDataSource",Ab.getIfDataSource())
	this.onUpdateBrowseElementsParams=function(Af){Ab.onUpdateBrowseElementsParams(Af)
	}
	if(!Ac.es){Ac.es=[]
	}if(AX){var Ae=Ab.getAttributeInfo(Aa.did)
	Z.copyProps(["t","st"],Ae,Aa)
	if(Ae&&Ae.attId){Ae=Ab.getAttributeInfo(Ae.attId)
	}Z.copyProps(["fs","lvfs"],Ae,Aa)
	}else{if(!Aa.fs){Z.copyProps(["fs"],Ab.getAttributeInfo(Aa.did),Aa)
	}}var Ad=Z.clone(AX?Ac.data:Ac.es)
	this.set("attribute",Aa)
	this.set("selectedItems",Ad)
	},onBrowseElementsFailure:function AQ(Ac){var Ae=this.attributeId,AZ=this.parent.parent,Ab=AZ.parent,Ad=AZ.target.chooseMethodPd,Aa=P.filterOne(Ab.targets,function(Ag){return Ag.did===Ae
	})
	if(Ac===AN||Ac===AJ){Ad.exceedsLimit=true
	Ad.update()
	}else{if(Aa){Aa.isInvalid=true
	Aa.cls=(Aa.cls||"")+" invalid"
	}Ab.set("model",{et:5,isNew:true,defaultETAttr:5})
	var Af=AZ.target.target
	Af.openPopup(Af.getPopupWidget())
	}},onItemsSelectionChange:function AY(AZ){var Aa=this.parent.parent.parent,Ab=Aa.model
	Ab.edit(AX?"data":"es",AZ)
	}}]
	return{alias:"es",children:AR,cssClass:"lastStage",updateColumnContainer:function AT(){this.es.update()
	},setupScrollNodes:function AU(){this.scrollNode=null
	}}
	},getFnNodeProps:function d(){var AU=this,AR=[{scriptClass:"mstrmojo.Label",cssClass:"baseOn",text:mstrApp.isWSStyling?mstrmojo.desc(15006,"Operator"):mstrmojo.desc(9579,"Condition")},{scriptClass:"mstrmojo.ui.Pulldown",alias:"fnTypePulldown",items:[{n:mstrmojo.desc(15302,"By Value"),v:W.VALUE},{n:mstrmojo.desc(15303,"By Rank"),v:W.RANK_PERCENTAGE}],onSelectedItemChange:function AV(){var AX=this.parent
	AX.fn.update()
	}},h({scriptClass:"mstrmojo.ui.CheckList",alias:"fn",multiSelect:false,allowUnlistedValues:false,hideCheckMark:true,itemIdField:"did",onchange:function AQ(AX){e.call(this,AX)
	},update:function(){var AZ=this.parent,Ad=AZ.parent.parent,AY=Ad.model||{},Ae=AY.et,Ac,Af=false,Ag,AX,Ai=W.BOTH
	switch(Ae){case AA.AE:Af=!!AY.a
	break
	case AA.AQ:case AA.AC:case AA.AL:Af=!!(AY.fm&&AY.fm.did)
	Ac=Af?AY.fm.dtp:null
	break
	case AA.MQ:case AA.MC:Af=!!AY.m
	Ac=Af?M.METRIC_DTP:null
	Ai=AZ.fnTypePulldown.getSelectedItem().v
	break
	}if(!Af){return 
	}var Ah=p[Ac]
	if((this.lastEt!==Ae)||(this.lastFnDtp!==Ah)||(this.lastFnTypeToDisplay!==Ai)){this.lastEt=Ae
	this.lastFnDtp=Ah
	this.lastFnTypeToDisplay=Ai
	var Ab=Ae?x[Ae]:null,Aa=Ab&&Ab.key
	Ag=(Aa&&Ad[Aa])||Ab.def||[]
	if(typeof (Ag)==="object"){Ag=Ag[Ah]||Ag["*"]
	}if(Ai!==W.BOTH){Ag=P.filter(Ag,function(Aj){var Ak=Aj.tp===o.PER||Aj.tp===o.RANK
	return Ai===W.RANK_PERCENTAGE?Ak:!Ak
	})
	}AX=AL(AY.fn,AY.fnt||1)
	AX=P.filterOne(Ag,function(Aj){return Aj.did===(AX&&AX.did)
	})
	r(this,Af,Ag,AX)
	if(!AX){this.set("selectedIndex",0)
	}}this.parent.updateScrollbars()
	}})]
	return{alias:"fn",children:AR,updateColumnContainer:function AW(){var Af=this.parent,Ab=Af.parent,Aa=Ab.model,Ac=Aa&&Aa.fn,Ae=Aa&&Aa.fnt,Ad=Aa&&Aa.et,AZ=this.next,AY=Ac===a.IS_NULL||Ac===a.IS_NOT_NULL,AX=(Ad===AA.MC||Ad===AA.MQ)
	this.changeFnTypePdVisibility(AX)
	if(AX){this.fnTypePulldown.getPopupList().singleSelectByField((Ae===o.RANK||Ae===o.PER)?W.RANK_PERCENTAGE:W.VALUE,"v")
	}else{this.fn.update()
	}if(Ac&&AY){Af.removeTrailingContainer(this.idx)
	}else{if(Ac&&!(AZ&&AZ.c0)){Af.insertAndRemoveTrailing(this.idx,AU.getC0NodeProps())
	}}AZ=this.next
	if(AZ){AZ.updateColumnContainer()
	}},changeFnTypePdVisibility:function AT(AY){this.fnTypePulldown.set("visible",AY)
	var AX=AF-AO-R
	if(AY){AX-=(R+K)
	}this.fn.set("height",AX+"px")
	},setupScrollNodes:function AS(){this.scrollNode=null
	}}
	},getC0NodeProps:function O(){return{alias:"c0",children:[{scriptClass:"mstrmojo.Label",cssClass:"baseOn",text:mstrmojo.desc(527,"Value")},l({alias:"c0",cstIndex:0}),{scriptClass:"mstrmojo.Label",alias:"btwn",cssClass:"btwn",text:mstrmojo.desc(308,"and"),visible:false},l({alias:"c1",cstIndex:1,visible:false}),{alias:"browseLink",scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-walkstep-browse",text:mstrmojo.desc(7926,"Browse..."),onclick:function(){this.parent.parent.parent.browse(this.parent.c0)
	},visible:false},h({scriptClass:"mstrmojo.ui.CheckList",alias:"fm2",fmPost:2,itemIdField:"did",filter:false,multiSelect:false,minimumSelectCnt:0,hasDummyLabel:false,height:AF-R*4-K*2-AO+"px",onchange:function AQ(AT){e.call(this,AT,"fm2")
	}})],updateColumnContainer:function AS(){this.c0.update()
	var AU=this.parent,AX=AU.parent,AY=AU.parent.model,AZ=AY&&AY.fn,AW=AZ===a.BETWEEN||AZ===a.NOT_BETWEEN||AZ===S.BETWEEN||AZ===S.BETWEEN_DESCENDING,AT=AZ===a.EQUAL||AZ===a.NOT_EQUAL||AZ===a.GREATER||AZ===a.GREATER_EQUAL||AZ===a.LESS||AZ===a.LESS_EQUAL
	this.browseLink.set("visible",AX.objectBrowsingEnabled&&AK(AY,AX.ets))
	this.btwn.set("visible",AW)
	var Aa=this.c1
	Aa.set("visible",AW)
	if(AW){Aa.update()
	}else{if(AY.c1){AY.edit("c1",{v:null,dtp:null,skipET:true},true)
	}}if((!AY.a)&&AY.m&&this.domNode){X.addClass(this.domNode,"lastStage")
	}var AV=this.fm2
	if(AY.a2&&AT){AV.update()
	AV.set("visible",true)
	}else{AV.set("visible",false)
	}E.call(this)
	},setupScrollNodes:function AR(){this.scrollNode=null
	}}
	},browseObjs:function AB(AV,AU,AX){var AT=Y.position(AV.parent.containerNode)
	AX=AX||{}
	AX.x=AT.x+40
	AX.y=AT.y
	this._super(AV,AU,AX)
	var AR=AV.ob.browser,AQ=AV.parent.opener.docModel,AS=AU.alias,AW=AV.model.et
	AQ.controller.rootCtrl.loadDataProvider(function(AY){if(AS==="target"||AW===AA.AQ){AR.rootFolder={did:"6F55FB47F9974EABA18CB0C5FF46785C"}
	}else{if(AW===AA.MQ){AR.rootFolder={did:"E0CCB9CF22104A489CBE78D974AFD19E"}
	}}AR.model=AQ
	AR.set("dataProvider",AY)
	AR.set("opened",true)
	})
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.models.editors.EditorModel","mstrmojo.models.FormatModel","mstrmojo.ui.editors.controls.CharacterGroup","mstrmojo.ui.editors.controls.ContainerGroup","mstrmojo.vi.ui.TextAlignButtonBar","mstrmojo.ui.editors.CharacterToolbarPopup","mstrmojo.array","mstrmojo.hash","mstrmojo.VisEnum")
	var B=0,I=mstrmojo.array,J=mstrmojo.ui.editors.controls.ContainerGroup.CTRL_FLAGS,a=mstrmojo.models.FormatModel,H=a.ENUM_PROPERTY_NAMES.TEXT_ALIGN,N=mstrmojo.hash,b=B,R=B,L=mstrmojo.VisEnum.SERVER_JSON_ERROR_TYPE,Y=mstrmojo.vi.ui.TextAlignButtonBar.TEXT_ALIGN
	function O(h,c,e,j,f){var d=h===this.getTitleFormatCode(),g
	if(e===H){g=function(k){return this.titleAlignButtonBar.items.filter(function(l){return l.v===k
	})[0].id
	}.bind(this)
	}this.getHost().parent.changeUnitFormats(d,h,c,e,j,f,g,function(k){this.raiseEvent({name:"BEMFormatChange",propertyName:e,value:k,isTitle:d})
	}.bind(this))
	}function X(d,e){var c=new mstrmojo.vi.ui.TextAlignButtonBar({includeJustify:false})
	this.titleAlignButtonBar=c
	c.singleSelect(c.items.map(function(f){return f.id
	}).indexOf(d))
	c.onValueChange=function(g,f){e(H,g,f)
	}
	return c
	}function C(f){var l=this.getHost(),j=l.getFormats(),m=j.ttl,e=l.hideTitleCtrl&&l.hideTitleCtrl(),k=[]
	if(m&&!e){var g=this,c=O.bind(this,this.getTitleFormatCode(),j),d=l.parent.getTitleBarVisibility(),h=[this.getCharacterGroup(c,m),X.call(this,a.getFormatBlockValue(m,H),c),this.getContainerGroup(m,c,J.FILL_COLOR+J.FILL_ALPHA,{showBackgroundNoFill:true})]
	h.forEach(function(n){n.set("enabled",d)
	})
	k.push(this.getEditorGroup([this.getGroupTitle(mstrmojo.desc(4756,"Title")),this.getCheckboxAndLabel(d,mstrmojo.desc(13599,"Show Title Bar"),function(o){var n=g.getHost()
	if(n){n.parent.toggleTitleBar(!!o)
	}})].concat(h),{cssClass:"bem-tc-title",showDivider:false}))
	}k.push(this.getEditorGroup([this.getGroupTitle(mstrmojo.desc(11917,"Container")),this.getContainerGroup(j,O.bind(this,this.getContainerFormatCode(),j),this.getContainerCtrlFlags(),{showBackgroundNoFill:true,showBorderNoFill:true})],{cssClass:"bem-tc-container"}))
	this.replaceChildControls(f,k.concat(this.getTitleAndContainerControls()))
	}function D(c){var e=this.getTargetPulldownItems(c)
	var d=this.getPulldown(e,function(f){if(e.length>1){b=f
	}else{b=R
	}e[e.map(function(g){return g.v
	}).indexOf(f)].h(f)
	if(c&&c.postUpdateFn){c.postUpdateFn()
	}})
	if(d.items&&d.items.length){d.set("selectedIndex",Math.max(e.map(function(f){return f.v
	}).indexOf(b),0))
	}return d
	}mstrmojo.vi.models.editors.BaseEditorModel=mstrmojo.declare(mstrmojo.vi.models.editors.EditorModel,null,{scriptClass:"mstrmojo.vi.models.editors.BaseEditorModel",titleAlignButtonBar:null,init:function U(c){this._super(c)
	R=this.getInitialTarget(b)
	b=R
	},selectTargetByValue:function P(c){if(c!==undefined){var d=this._targetPulldown
	if(d){d.selectItemByField("v",c)
	}}},getInitialTarget:function Z(){return B
	},getEditorContents:function S(c){var d=this.getEditorGroup([],{cssClass:"bem-dynamic-grp",showDivider:false,isNested:true,isContainer:true,postUpdateFn:c})
	var g=this._targetPulldown
	if(g&&"function"===typeof g.destroy){I.removeItem(this.disposables,g)
	g.destroy()
	}var f=this._targetPulldown=D.call(this,d),e=[d].concat(this.getCommonControls())
	if(f.items.length>1){e.unshift(this.getEditorGroup([f]))
	}this.addDisposable(f)
	return e
	},getFormattingToolbar:function F(d,j,e){if(d===B){var h=this.getHost(),c=h.getFormats(),g=c.ttl
	if(g){g=N.copy(g)
	if(!this.titleAlignButtonBar){this.titleAlignButtonBar=new mstrmojo.vi.ui.TextAlignButtonBar({includeJustify:false})
	}g[H]=this.titleAlignButtonBar.items.filter(function(k){return k.id===g["text-align"]
	})
	g[H]=g[H].length>0?g[H][0].v:Y.LEFT
	var f=new mstrmojo.ui.editors.CharacterToolbarPopup(N.copy({onGroupValueChange:O.bind(this,this.getTitleFormatCode(),c),textAlignJustify:false,textAlignFmtName:H,anchorElement:j},e))
	f.setFormatSource(g)
	return f
	}}return null
	},getCommonControls:function E(){return[]
	},getContainerCtrlFlags:function A(){var c=this.isContainerPositionSizeEnabled()
	return J.FILL_COLOR+J.BORDER+(c?J.SIZE_POSITION:0)+J.FILL_ALPHA
	},getTitleAndContainerControls:function W(){return[]
	},getTargetPulldownItems:function G(d){var f=this.getHost(),c=f.getFormats(),e=[]
	if(c&&(f.showTitleAndContainerFormats!==false)&&!mstrApp.isInVFConfigMode){e.push({n:mstrmojo.desc(12049,"Title and Container"),v:B,h:C.bind(this,d)})
	}return e
	},getTitleFormatCode:function K(){return 2
	},getContainerFormatCode:function M(){return 1
	},isNormalOrExcludeAllDataButNotInPauseMode:function Q(e){var c=!e.isEmpty()||e.errorType===L.EMPTY_DATA,d=mstrApp.isAppStatePause&&mstrApp.isAppStatePause()
	return c&&!d
	}})
	mstrmojo.vi.models.editors.BaseEditorModel.TITLE_CONTAINER_VALUE=B
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.dom","mstrmojo.func","mstrmojo.vi.controllers.UICmdMgr")
	var b=mstrmojo.func,X=mstrmojo.hash,R=mstrmojo.array,H=mstrmojo.dom,O=mstrmojo.vi.controllers.UICmdMgr.STATES,L={SHARED:0,SEPARATE:1},P={AND:19,OR:20},h=function h(m,l){var j={},k=function(p,o){var n=[]
	if(!o){return p
	}R.forEach((o||[]),function(q){n.push(q)
	})
	R.forEach((p||[]),function(r){var q=R.find(o,"id",r.id)
	if(!~q){n.push(r)
	}})
	return n
	}
	X.forEach(l,function(n,o){j[o]=n
	})
	X.forEach(m,function(n,o){j[o]=k(n,l[o])
	})
	return j
	},D=function D(j){var k=[]
	X.forEach(j,function(l){k.push({ft:P.AND,d:l})
	})
	return k
	},M=function(k){var j={},l=function(m){var n=X.keyarray(m)[0]
	return{id:n,d:m[n][0]}
	}
	X.forEach(k,function(p){var o={},m=l(p),n=o[m.id]
	if(m.id){if(!n){o[m.id]=n=[]
	}n.push(m.d)
	}j=h(j,o)
	},this)
	return[{ft:P.OR,d:j}]
	},C=function C(o,v,u,n){var p=n||this.model,t,k=[],l=mstrmojo.vi.ui.rw.SelectionType,q=true,m=false,r=false,j=this
	if(!v){v=this.getSelectionType()
	}if(!X.isEmpty(o)){if(v===l.METRICS){t=D.call(this,o)
	}else{t=M.call(this,o)
	}}X.forEach(t,function(w){q=false
	var x=[]
	X.forEach(w.d,function(AA,AF){var AE
	if(u){AE=n?n.supportsDSLKViewFilter(AF):p.supportsDSLKViewFilter(AF)
	}else{AE=n?n.supportsViewFilterActions(AF):j.isSupportViewFilterForSelection(AF)
	}if(AE){m=true
	var AB=[],z=AA.reverse(),AD={id:AF,elems:AB,fm:AA[0].fm,v:R.map(z,function(AG){return AG.n
	})},AC=p.getObjectInfo(AF)
	if(AC){AD.t=AC.t
	AD.st=AC.st
	if(j.isVIXtab&&v===l.ATTS&&j.model.isRecursiveAttribute(AC.did)){r=true
	}if(AC.st===12033){AD.attId=AC.attId
	}}R.forEach((z||[]),function(AG){AB.push(AG.id)
	})
	x.push(AD)
	}})
	if(x.length){k.push({ft:w.ft,d:x})
	}})
	k.hasElements=m
	k.clearSelections=q
	k.isRecursiveAttribute=r
	return k
	},F=function F(l){var j=this.getContextMenuSelectionType(),k=[]
	k=C.call(this,l,j)
	return k
	},J=function J(){var k=X.walk("event.target",window),j=H.isTouchOptimizationEnabled()
	if(!k&&j){k=this.tapElement
	}return k
	},e=function e(r,u,l,j){var q=this.selectorControl,n,m,t,p=this,o,k
	if(q){if(r.clearSelections||r.hasElements){n=this.controller
	if(u){m=n.model
	k=q.navPage
	o=m.getLayoutKeyByUnitKey(k)
	this.clearSelections()
	this.setSelectionCache()
	}q.exp=null
	if(n.onGridSelector){t=function(){n.onGridSelector(p,{type:mstrmojo.EnumRWUnitType.GRID,ck:q.ck,tks:q.tks,cgb:X.valarray(q.cgb),ifwCgbNodes:j,ctlKey:q.ckey,sliceId:this.sid,isBranch:l,isUConDS:q.isUConDS,isNavigation:u,fromKeyboard:p.isHandlingKeyboard,layoutKey:o,panelKey:k,ct:q.ct,anchor:J.call(p),anchorPos:X.walk("event.anchorPos",window),selections:r})
	}
	if(this.multiUnitCtrlInterval){window.clearInterval(this.multiUnitCtrlInterval)
	this.multiUnitCtrlInterval=null
	}if(n.cmdMgr.state===O.BUSY){this.multiUnitCtrlInterval=window.setInterval(function(){if(n.cmdMgr.state!==O.BUSY){window.clearInterval(p.multiUnitCtrlInterval)
	if(!p.destroyed){p.multiUnitCtrlInterval=null
	t()
	}}},1000)
	}else{t()
	}}}}},B=function B(l){var j={type:mstrmojo.vi.ui.rw.SelectionType.ATTS,data:l},k=function(m,n){if(parseInt(m.fn,10)===22&&parseInt(n,10)===19){j.type=mstrmojo.vi.ui.rw.SelectionType.METRICS
	}R.forEach((m.nds||[]),function(o){k(o,m.fn)
	})
	}
	k(l,null)
	return j
	},f=function f(){return this.parent.model.getCurrentLayoutDef().cgbMap
	},Q=function Q(){var j=f.call(this),k=[]
	X.forEach(j,function(m,l){if(this.k===m){k.push(l)
	}},this)
	return k
	},g=function g(){var j=this.controller&&this.controller.cmdMgr
	if(j&&j.isUndoRedo()){return true
	}return false
	}
	mstrmojo.vi.ui.rw.selectors._IsMultiUnitControl=mstrmojo.provide("mstrmojo.vi.ui.rw.selectors._IsMultiUnitControl",{_mixinName:"mstrmojo.vi.ui.rw.selectors._IsMultiUnitControl",selectorControl:null,multiUnitCtrlInterval:null,postBuildRendering:function c(){if(this._super){this._super()
	}var j=mstrApp.isInVFConfigMode||this.isCustomSort?null:this.findSelectorControl()
	if(g.call(this)){this.clearSelections()
	}if(j&&!j.isNavigation&&!X.isEmpty(j.exp)&&this.addSelectionsFromExpression){this.addSelectionsFromExpression(B(j.exp))
	if(this.highlight){this.highlight(this.getSelectionType(),this.getSelectionHash(),true)
	}}},getSelectorDataFromExpression:B,getSelectionDataTree:C,getContextMenuSelectionDataTree:F,deleteSelectorControl:function E(){if(this._super){return this._super()
	}this.throwAbstractMethodError("deleteSelectorControl")
	},findSelectorControl:function a(){if(this._super){return this._super()
	}this.throwAbstractMethodError("findSelectorControl")
	},handlesMultiSelection:function I(j){return(this._super&&this._super(j))||!!this.selectorControl
	},isSupportViewFilterForSelection:function K(k){var j=this.model
	return j.supportsViewFilterActions(k)
	},isLinkedFilter:function(){var j=this.findSelectorControl&&this.findSelectorControl()
	return j&&j.isNavigation
	},isLinkedFilterEnabled:function(){return this.isLinkedFilter()&&this.getContextMenuSelectionHash&&!X.isEmpty(this.getContextMenuSelectionHash())
	},getTargetIWCGBKeysFromLinkedFilter:function W(){var o=this.findSelectorControl&&this.findSelectorControl(),k=X.walk("parent.model",this),j=b.safeCall("getCGBMap",k)(),n=X.valarray(o&&o.cgb),m=o&&o.isNavigation
	if(!m||!n){return undefined
	}var l=n.filter(function(q){var p=j&&j[q]
	return b.safeCall("isInfoWindow",k)(p)
	})
	if(l.length>0){return l
	}return undefined
	},handleContextMenuSelectionData:function G(k,j){this.isNavigation=k
	this.isBranch=j
	this.onContextMenuSelectionChange(this.getContextMenuSelectionHash&&this.getContextMenuSelectionHash())
	},onSelectionChange:function S(l){var m=(this.model.getSelectorControlMapInfo?this.model.getSelectorControlMapInfo():[]),o=false,r=this.isNavigation,j=this.getTargetIWCGBKeysFromLinkedFilter(),p=(typeof this.getVisType==="function"?this.getVisType():{}).s
	if(r){delete this.isNavigation
	}if(this._super){o=this._super(l)
	}if(!j&&!r&&this.isLinkedFilter()){return true
	}if(m.length>0){this.singleUnitSelect()
	o=true
	}else{if(!!this.selectorControl&&!this.isCustomSort){if(this.hasElementSelection){delete this.hasElementSelection
	}var q=C.call(this,l)
	e.call(this,q,r,q.isRecursiveAttribute&&this.selectionContainsOnlyLeafNode&&!this.selectionContainsOnlyLeafNode(),j)
	var t=X.walk("model.docModel",this),u=this.selectorControl.tks,n=!!u&&u.split("\u001e"),k=t&&n&&n.length===1&&t.getTargetInfoWin(n[0]).length
	if(k){return o
	}return true
	}}return o
	},onContextMenuSelectionChange:function N(l){var o=(this.model.getSelectorControlMapInfo?this.model.getSelectorControlMapInfo():[]),n=false,m=this.isNavigation,j=this.isBranch
	if(m){delete this.isNavigation
	}if(j){delete this.isBranch
	}if(this._super){n=this._super(l)
	}if(!m&&this.isLinkedFilter()){return true
	}if(o.length>0){this.singleUnitSelect()
	n=true
	}else{if(!!this.selectorControl){var k=F.call(this,l)
	e.call(this,k,m,j)
	return true
	}}return n
	},singleUnitSelect:function A(){if(this._super){this._super()
	}},clearAllSelections:function Z(){return this.selectorControl&&this.selectorControl.showall
	},onClearBrushing:function d(j){if(this.selectorControl){return true
	}if(this._super){return this._super(j)
	}return false
	},getFilterType:function U(){return this.defn.ins||L.SHARED
	},switchFilterType:function Y(w){var q=this,v,r=q.getFilterType(),o=q.parent.model,n,m={actions:[]},x,l=f.call(q),j,p=false,t,AB,u,AA,k
	if(r!==w){v=Q.call(q)
	t=o.getCurrentLayoutDef().units
	if(v.length&&r===L.SHARED){x=R.filterOne(v,function(AC){AB=t[AC]
	if(AB){u=AB.scs||[]
	return true
	}n=o.getSourceControls(q.parent,AC)
	u=n
	return n.length
	})
	if(!n||!n.length){n=o.getSourceControls(q.parent,x)
	n=R.filter(n,function(AC){AA=AC.control.key
	return !R.find(u,"ckey",AA)
	})
	u=u.concat(n)
	}R.forEach(u,function(AC,AD){if(AD!==0){j=o.getNextKey()
	l[j]=q.k
	m.actions.push(o.redoFilterAssociations(true,AC.ckey||AC.control.ckey,AC.pnk||AC.sourceKey,q.k,x,j))
	p=true
	}}.bind(q))
	}else{k=""
	R.forEach(v,function(AC){AB=t[AC]
	if(!AB){n=o.getSourceControls(q.parent,AC)
	AB=n.length&&n[0]
	if(!AB){return true
	}AB.pnk=AB.sourceKey
	AB.ckey=AB.control.ckey
	}if(!k){k=AC
	}else{delete l[AC]
	u=(AB.scs&&AB.scs[0])||AB
	m.actions.push(o.redoFilterAssociations(false,u.ckey,u.pnk,q.k,AC,k))
	p=true
	}}.bind(q))
	}m.actions.push(o.getUnitFormatAction(q,1,{FormattingSelector:{IndependentNodeSelector:w}},true))
	var z=false
	m.callback=({success:function(){q.defn.ins=z?r:w
	z=!z
	}})
	if(p){m.callback=b.wrapMethods(m.callback,o.getRebuildCallback())
	}}m.extras={style:{params:{treesToRender:3}}}
	return m
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.form","mstrmojo._IsDocController","mstrmojo.AdvancedSortEditor","mstrmojo._DocToolbarActions","mstrmojo.func","mstrmojo.vi.controllers.UICmdMgr","mstrmojo.fe._HasFilterEditor","mstrmojo.dom")
	var J=3,B="mstrmojo-advancedSort"
	var l=mstrmojo.func,a=mstrmojo.array,X=mstrmojo.dom,G=mstrmojo.form
	function b(){return X.windowDim().w
	}function S(){return X.windowDim().h
	}mstrmojo.rw.DocController=mstrmojo.declare(mstrmojo.Obj,[mstrmojo._IsDocController,mstrmojo._DocToolbarActions,mstrmojo.fe._HasFilterEditor],{scriptClass:"mstrmojo.rw.DocController",start:function W(){var q=this.model
	q.lastSavedStid=q.stid||0
	this.cmdMgr=new mstrmojo.vi.controllers.UICmdMgr({controller:this,model:q})
	this.cmdMgr.dataService=q.getDataService()
	},onCmdMgrChanged:function k(){},getSorts:function f(u){var r=[],q=u.axis-1,t=[],v=[]
	r[q]=t
	t.push({key:u.sortKey,metricSortKey:u.metricSortKey,isAsc:u.isAsc})
	v[q]=u.subTotalsPos
	return{sorts:r,subTotalsPos:v,columnSetKey:u.columnSetKey}
	},onSort:function p(q,t){var r=this.getSorts(t)
	this.onAdvancedSort(q,r.sorts,r.subTotalsPos,t.stt,null,t.columnSetKey)
	},onAdvancedSort:function A(r,u,q,v,t,w){r.model.sort({sorts:u,stp:q,stt:v,rp:t,columnSetKey:w},this._getXtabCallback(r))
	},onClearSort:function K(q,r){q.model.sort({sorts:r},this._getXtabCallback(q))
	},onGetAdvSortData:function H(r,w,v,t){var x=this,q=function q(z,AA){var AD=mstrmojo.all[B]||mstrmojo.insert({scriptClass:"mstrmojo.AdvancedSortEditor",id:B,postCreate:function AB(){if(mstrmojo.dom.isIE8){mstrmojo.css.addWidgetCssClass(this,"ie8")
	}}})
	var AC=z
	a.forEach(AA,function(AI){if(AI&&AI.ndeForms){var AF,AE,AH=[]
	var AG=r.model.getGridInfo()
	if(a.find(AG.rows||[],"did",AI.did)>=0){AF="rows"
	}else{AF="cols"
	AH=AC&&AC[AF].length>0?AC[AF][0].v.split("!"):[]
	}AC=AC||{rows:[],cols:[],appliedRows:[],appliedCols:[],hierarchicalSort:{}}
	AE=AC[AF]
	AH[0]=AI.t
	AH[1]=AI.did
	a.forEach(AI.ndeForms||[],function(AK){if(AK.obf){AH[2]=AK.fid
	AH[3]=AK.t
	var AL=AH.join("!")
	var AM=AI.n+" ("+AK.fnm+")"
	var AJ=a.find(AE,"v",AL)
	if(AJ<0){AE.push({n:AM,v:AL})
	}else{AE[AJ].n=AM
	}}})
	}})
	AD.set("sortData",AC)
	AD.set("controller",x)
	AD.set("xtab",r)
	AD.set("sourceAxis",w||1)
	AD.set("sourceType",v||-1)
	AD.open()
	}
	r.model.getAdvSortData({partialDisplayKeys:r.k,gridStyle:"AdvSortDataStyle"},this.model.newCallback({success:function(z){q(z&&z.grids&&z.grids[0],t)
	},failure:function u(z){mstrmojo.alert(z.code+": "+z.message)
	}}))
	},onPivot:function D(q,r){q.model.pivot(this._addNodeKeyToAction(q,r),this._getXtabCallback(q))
	},onSubmitTemplateUpdates:function U(q,r,t){q.model.submitTemplateActions(q.k,r,l.wrapMethods(this._getXtabCallback(q),t))
	},onShowTotals:function N(q,r){q.model.showTotals(this._addNodeKeyToAction(q,r),this._getXtabCallback(q))
	},onDrill:function d(q,v,x){var t=this.model,r=this.model.prefs,w=r.rtprnt,u=r.rtthld
	if(!v){return 
	}if(v.isWithin){if(!this.isInRequest()){v.retainParent=isNaN(w)?"":w
	this.submitDrillWithin(q,v,x)
	}}else{if(!r.drillnw){mstrApp.showWait()
	}G.send({evt:3125,displayMode:-1,drillPathKey:v.drillPathKey,elementList:v.drillElements,rwMesageID:t.mid,retainParent:isNaN(w)?"":w,retainThresh:isNaN(u)?"":u,rwGroupByElements:this.getGroupByElements(q).join(","),sliceId:q.sid||0},null,null,((r.drillnw)?"_blank":null))
	}},onDrillGraph:function M(q,v,x){var t=this.model,r=this.model.prefs,w=r.rtprnt,u=r.rtthld
	if(v.isWithin){if(!this.isInRequest()){v.retainParent=r.rtprnt
	this.submitDrillWithin(q,v,x)
	}}else{if(!r.drillnw){mstrApp.showWait()
	}G.send({evt:3126,drillPathKey:v.drillPathKey,retainParent:isNaN(w)?"":w,retainThresh:isNaN(u)?"":u,rwMesageID:t.mid,"3126.x":v.x,"3126.y":v.y,graphHeight:v.graphHeight,graphWidth:v.graphWidth,rwGroupByElements:this.getGroupByElements(q).join(","),sliceId:q.model.data.sid||0,displayMode:v.displayType||2},null,null,((r.drillnw)?"_blank":null))
	}},submitDrillWithin:function g(q,r,t){q.model.drillGrid(this._addNodeKeyToAction(q,r),mstrmojo.func.wrapMethods(this._getXtabCallback(q),t))
	},onExecuteNewObject:function R(r,t){if(t){var q={}
	if(t.objType===J){q.evt=4001
	q.reportID=t.did
	q.reportViewMode=1
	if(t.forceExec){q.execFlags=1
	q.doNotUpdateCaches=true
	}}else{q.evt=2048001
	q.objectID=t.did
	if(t.forceExec){q.freshExec=true
	q.doNotUpdateCaches=true
	}}if(t.linkAnswers){q.linkAnswers=t.linkAnswers
	}G.send(q,null,"POST",null)
	}},onReExecute:function(q,u){var r=q.model,t={evt:2048030,src:r.bp+".2048030",rwb:r.bs}
	if(u){t.ignoreStatus=true
	G.send(t,null,"POST",null)
	}else{G.send(t,null,"POST",null)
	}},isAutoRefreshEnabled:function O(){return this.model&&this.model.rf
	},isAutoRefreshStarted:function C(){return !!this.autoRefreshHandler
	},startAutoRefresh:function P(){var q=this.model,r=q.rf,t=this
	if(this.autoRefreshHandler){this.stopAutoRefresh()
	}this.autoRefreshHandler=setTimeout(function(){q.getDataService().refresh({sessionState:mstrApp?mstrApp.sessionState:""},{success:function u(v){q.loadLayout(v)
	if(t.autoRefreshHandler){t.startAutoRefresh()
	}}})
	},r*1000)
	},stopAutoRefresh:function h(){clearTimeout(this.autoRefreshHandler)
	this.autoRefreshHandler=null
	},offlineTransactionsSubmitted:function m(q){},transactionDiscarded:function Z(q){},openOfflineTransactions:function o(){},invalidClientCache:function E(){},confirmMsgBeforeSubmit:function F(){},onLink:function I(z,t){if(t.link){var u,AB,x=t.link,r=(x.prms?x.prms.length:0)
	for(u=0
	u<r
	u++){AB=x.prms[u]
	if(AB.pa&&AB.pa.v){AB.pa.v=mstrmojo.string.decodeHtmlString(AB.pa.v,false)
	}}var AA=t.link.toXml()
	if(AA){t.linkAnswers=AA
	}delete t.link
	}if(t.linkInfo&&t.linkInfo.so>0){t.originMessageID=this.model.mid
	if(!t.linkAnswers){t.promptAnswerMode="0"
	}t.selectorMode=t.linkInfo.so
	}var w=t.target||t.linkTarget||"_self",v=!mstrmojo.isUrlExternal(t.url||""),AC=(typeof mstrApp.getWSLiveMode==="function")&&mstrApp.getWSLiveMode()
	if(w==="_self"&&(v||(t.linkInfo&&t.linkInfo.target))){mstrApp.showWait({showCancel:true,onCancel:mstrApp.hideWait})
	}if(t.url){if(t.url.toLowerCase().indexOf("javascript:")>=0&&!mstrConfig.isLinkJSEnabled){return 
	}if(mstrApp.isSingleTier){window.FormWrapper.openPage(t.url)
	}else{if(t.submitAsPost||t.url.length>2083){var q=G.createDynamicForm(t.url)
	q.target=w
	if(mstrApp.optimizeFitToPage){G.createHiddenInput(q,"innerWidth",Math.floor(b()))
	G.createHiddenInput(q,"innerHeight",Math.floor(S()))
	}G.safeSubmitForm(q)
	}else{window.open(t.url,w,"noopener,noreferrer")
	}}}else{if(mstrApp.optimizeFitToPage){t.innerWidth=Math.floor(b())
	t.innerHeight=Math.floor(S())
	}if(AC&&t.isDossierLink){this.linkToDossierOnWorkstation(t)
	}else{G.send(t,null,"POST",w)
	}}},linkToDossierOnWorkstation:function(q){var t={linkingInfo:{sourceInstanceId:q.originMessageID,promptsAnswers:q.linkAnswers,selectorMode:q.selectorMode,targetPageKey:q.targetPageKey,vizSelection:q.vizSelection,passFilter:q.passFilter}},r={taskId:"linkToDossier",objectID:q.objectID,resolveOnly:false,params:JSON.stringify(t)}
	mstrApp.serverRequest(r,{success:function(){},failure:function(u){mstrmojo.err(u)
	}},{silent:true})
	},onTransactionUpdates:function e(t,v,u,q){var r={name:"TransactionUpdates",ctlKey:q}
	if(u){t.autoRefresh(r)
	}},onDownloadGridData:function Q(q,r,t){this.model.downloadGridData(this._addNodeKeyToAction(q,r),t)
	},onGroupBy:function j(q,v){var t=q.model,r=v.groupbyKey,u=false
	v.flags=t.agb===2?2:0
	u=!!v.flags
	t.getDataService().changeDocGroupBy(v,{success:function(w){if(u){q.parent.parent.unloadGbLayuts(r)
	}t.loadLayout(w)
	}})
	},_getAdvSortCallback:function(t,q){var w=this,v=w.model,r=function r(z){var AA=mstrmojo.all[B]
	if(!AA){AA=mstrmojo.insert({scriptClass:"mstrmojo.AdvancedSortEditor",gridData:z,controller:w,model:v,xtab:t,subTotalsPos:q})
	}else{AA.set("gridData",z)
	}AA.open()
	}
	return v.newCallback({submission:mstrmojo.emptyFn,success:function x(z){r(z.grids[0])
	},failure:function u(z){mstrmojo.alert(z.code+": "+z.message)
	},complete:mstrmojo.emptyFn})
	},onXtabColumnsResized:function Y(q,r){q.model.resizeXtabColumn(this._addNodeKeyToAction(q,r))
	},addScrollPosition:function L(q,t,r){if(window.sessionStorage){window.sessionStorage.setItem("sp."+q,JSON.stringify({x:t,y:r}))
	}},getScrollPosition:function c(q){var r=(window.sessionStorage&&window.sessionStorage.getItem("sp."+q))
	if(r){r=JSON.parse(r)
	}return r
	},onRemoveUnit:function n(q,r){q.model.removeUnit(this._addNodeKeyToAction(q,r),this._getXtabCallback(q))
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.array","mstrmojo.hash","mstrmojo.array","mstrmojo.Container","mstrmojo.TreeBrowserNode","mstrmojo.TreeBrowser","mstrmojo.TreeBrowserSelector","mstrmojo.DynamicClassFactory","mstrmojo._HasLayout","mstrmojo.ObjectBrowserDataProvider","mstrmojo.ui._HasScroller","mstrmojo.ui.SearchBox","mstrmojo.ui._HasUITheme","mstrmojo.vi.ui._IsDropTarget","mstrmojo.vi.ui._IsViPanel","mstrmojo.vi.ui.UnitList","mstrmojo.vi.ui._HasUnitListAvatar","mstrmojo.vi.ui.toolbars._HasToolbar","mstrmojo.vi.ui.CollapsibleTitleBar","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo.vi.models.EnumDragSources","mstrmojo.vi.ui._CanDropFromSchema","mstrmojo.css","mstrmojo.vi.ui.theme")
	var G=mstrmojo.DynamicClassFactory,W=mstrmojo.array,I=mstrmojo.hash,H=mstrmojo.dom,A=mstrmojo.css,k=mstrmojo.string,F=mstrmojo.vi.ui.theme,c=mstrmojo.vi.ui.DatasetUnitMenuUtils,j=[4,12,1,47]
	var J={n:mstrmojo.desc(15348,"No applicable objects"),t:0},R={n:mstrmojo.desc(15559,"No result matches your search."),t:0}
	function L(r){var q=[],p=[],w=this._shiftStartIndex,v=this.selectedIndices,u=Math.min(w,r),t=Math.max(w,r)
	W.forEach(this.items,function(x,z){if(u<=z&&z<=t){if(!v[z]){q.push(z)
	}}else{if(v[z]){p.push(z)
	}}})
	this.addSelect(q)
	this.removeSelect(p)
	}function P(){return !mstrmojo.resolveFeature("hide-objects-description")
	}function Z(q){var p=mstrmojo.vi.enums.EnumDSSAccessRightFlags
	return q.acg&&(q.acg&p.DssAccessRightUseFlag)&&(q.acg&p.DssAccessRightExecuteFlag)
	}function l(q,u){var t=q.itemsContainerNode,r=H.isMetaKey(u.src.hWin,u.src.e),w=H.eventTarget(u.src.hWin,u.src.e),p=-1
	if(t&&w){W.forEach(t.childNodes,function(x,z){if(H.contains(x,w,true,x)){p=z
	return false
	}})
	}if(p!==-1){var v=q.items[p]
	if(!r&&!q.selectedIndices[p]){q.tree.clearTreeSelect()
	}if(W.indexOf(j,v.t)>=0){q.addSelect(p)
	}return true
	}return false
	}function d(r,p){var q=this.listSelector
	if(q){q[r](this,this.itemsContainerNode,p)
	}}function M(q,r){var p=false
	if(q.itemsContainerNode){W.forEach(q.ctxtBuilder.itemWidgets,function(t){if(H.contains(t.itemsContainerNode,r,t.domNode)){p=true
	}})
	}return p
	}mstrmojo.vi.ui.BrowserNodesAvatarContent=G.newComponent(mstrmojo.vi.ui.UnitList,null,{getItemProps:function(r,p){var q=this._super(r,p)
	q.addCls("isAvatar")
	return q
	}})
	mstrmojo.vi.ui.TreeBrowserSelector=I.copy({premousedown:function(r,t,q){r.tree._selectNode=H.eventTarget(q.hWin,q.e)
	},premouseup:function D(AB,q,AD){if(H.isPrimaryMouseBtn(AD.e)){var u=AD.hWin,x=AD.e,z=H.eventTarget(u,x),t=H.shiftKey(AD.hWin,AD.e),AC=AB._shiftStartIndex,v=M(AB,z),AA=AB.listMapper.findIndex(AB,q,z)
	if(AA>-1&&!v&&AB.tree._selectNode===z){var r=W.indexOf(j,AB.items[AA].t)!==-1
	if(t&&AC>-1&&r){AB.rangeSelect(AA)
	}else{AB.toggleSelect(AA)
	if(AB.selectedIndices[AA]&&r){AB._shiftStartIndex=AA
	}}}}}},mstrmojo.TreeBrowserSelector)
	mstrmojo.vi.ui.TreeBrowser=G.newComponent(mstrmojo.TreeBrowser,[mstrmojo.vi.ui._HasUnitListAvatar],{containerResizable:false,draggable:true,avatarCssClass:"mstrmojo-VIUnitList",rangeSelect:L,_selectNode:null,_shiftStartIndex:-1,blockBegin:1,blockCount:50,getContent:function(q,v){q=q||this
	var r=(q===this),p=this,x=function(w){if(r){mstrmojo.css.removeClass(p.domNode,["loading"])
	}p.updateTreeContent(q,w)
	},t=function(w){q.contentRetrieved=true
	q.set("items",[p.failItemCreaterFunc()])
	mstrmojo.err(w)
	},u={success:x,failure:t}
	if(r){mstrmojo.css.addClass(p.domNode,["loading"])
	}if(mstrApp.objectsBlockCount){this.blockCount=parseInt(mstrApp.objectsBlockCount,10)
	}this.getContentThroughTaskCall({isRoot:r,data:q.data,blockBegin:v||q.blockBegin,blockCount:parseInt(mstrApp.objectsBlockCount,10)||p.blockCount},u)
	},getDragData:function m(q){q.dragUnitHelper=new mstrmojo.vi.ui.VIDragUnit()
	var u=this,v=function(AA){W.forEach(AA.ctxtBuilder.itemWidgets,function(AB){var AC=H.eventTarget(q.src.hWin,q.src.e)
	if(AC&&H.contains(AB.itemsContainerNode,AC,true,AB.itemsContainerNode)){u=AB
	v(AB)
	return false
	}})
	}
	v(this)
	var r=l(u,q)
	var w=r?this.getSelectedItems().filter(function(AA){return W.indexOf(j,AA.t)!==-1
	}):null
	var p=this.id,t=function t(AA){var AD=mstrmojo.all[p],AB=AD.avatar
	if(AB){var AC=[AD.avatarCssClass,"hasOwnAvatar",AA]
	AB.className=AC.join(" ")
	}}
	return{items:w,item:w&&w[0],src:mstrmojo.vi.models.EnumDragSources.ALL_OBJECT_LIST,setAvatarClass:function x(AA){t(AA)
	},setInvalidAvatarClass:function z(){t("icn clsx_sub")
	}}
	},getSelectedItems:function(){var p=this.ctxtBuilder,q=[]
	if(p){W.forEach(p.itemWidgets,function(r){if(r.state===1){q=q.concat(r.getSelectedItems())
	}})
	}q=(this._super()||[]).concat(q)
	return q
	},createAvatar:function(r,q){var p=document.createElement("div")
	this.avatarContent=new mstrmojo.vi.ui.BrowserNodesAvatarContent({items:q.src.data.items})
	this.avatarContent.render()
	A.addClass(this.avatarContent.domNode,[F.getThemeClass.call(this)])
	p.appendChild(this.avatarContent.domNode)
	return p
	},ondragend:function(p){this._super(p)
	if(this.avatarContent&&this.avatarContent.destroy){this.avatarContent.destroy()
	}delete this.avatarContent
	},isDragValid:function S(q){var p=q.src.data.items
	return(p&&p.length)||this._super(q)||false
	},contentRetrieved:false,onvisibleChange:function(){if(!this.contentRetrieved){this.getContent(this)
	}}})
	mstrmojo.vi.ui.TreeBrowserNode=G.newComponent(mstrmojo.TreeBrowserNode,[{_mixinName:"newClass"}],{containerResizable:false,draggable:false,_shiftStartIndex:-1,rangeSelect:L,premousedown:function(p){this.tree._selectNode=H.eventTarget(p.hWin,p.e)
	},premouseup:function(q){if(H.isPrimaryMouseBtn(q.e)){var v=H.isMetaKey(q.hWin,q.e),u=H.shiftKey(q.hWin,q.e),w=H.eventTarget(q.hWin,q.e),x=H.contains(this.itemsContainerNode,w,true,this.domNode),t=x&&M(this,w),r=(this.state===2),p=!r&&(w!==this.stateNode&&w!==this.textNode)&&!x
	if(t||this.tree._selectNode!==w){return 
	}if((!v&&!u)||this.tree.isSelectedFolder||p){this.tree.clearTreeSelect()
	}if(p){this.tree.isSelectedFolder=true
	}else{if(!x){this.tree.isSelectedFolder=false
	}}if(!r&&(w===this.stateNode||w===this.textNode)){this.toggleState()
	this.tree.updateScroller()
	H.stopPropogation(q.hWin,q.e)
	}else{if(x){d.call(this,"premouseup",q)
	}else{this.handleNodeClicked()
	}}}},getSelectedItems:function(){var p=this.ctxtBuilder,q=[]
	if(p){W.forEach(p.itemWidgets,function(r){if(r.state===1){q=q.concat(r.getSelectedItems())
	}})
	}q=(this._super()||[]).concat(q)
	return q
	}})
	function a(r){var q=this
	return I.copy(r,{scriptClass:"mstrmojo.vi.ui.TreeBrowser",alias:"contents",slot:"containerNode",isSelectedFolder:false,browserNodeClass:mstrmojo.vi.ui.TreeBrowserNode,noCheckBox:true,itemIdField:"did",useRichTooltip:true,dataProvider:this.dataProvider,listSelector:mstrmojo.vi.ui.TreeBrowserSelector,showTooltip:function v(AF,AB){var AD=AF.target||H.eventTarget(AF.hWin,AF.e),AA=H.findWidget(AD),x=AA.data
	if(x&&x.n){var AE=AA.domNode.firstChild,w=function(){var AI=I.walk("anc.items",x),AH=[]
	W.forEach(AI,function(AJ){AH.push(AJ.n)
	})
	return AH.join(" > ")
	},AG=w()
	var AC='<div class="name">'+k.encodeHtmlString(x.n,true)+"</div>"+(AG.length>0?'<div class="path">'+k.encodeHtmlString(AG,true)+"</div>":"")+(x.desc?'<div class="dsc">'+k.encodeHtmlString(x.desc,true)+"</div>":"")
	var z=H.position(AE)
	this.richTooltip={posType:mstrmojo.tooltip.POS_TOPLEFT,cssClass:"vi-regular vi-tooltip-C",content:AC,top:z.y-4,left:z.x+z.w+6}
	this.constructor.prototype.showTooltip.call(this,AF,AB)
	}},updateScroller:function(){q.updateScrollbars()
	},isBranch:function(w){return w.t===8
	},items:null,bindings:{data:"this.parent.rootFolder"},setDimensions:mstrmojo.emptyFn,item2textCss:function p(x){var AA={8:"folder",3:"report",12:"attribute",4:"metric",47:"consolidation",1:"custom-group",0:"no-obj"},w=mstrmojo.TreeBrowser.prototype.item2textCss(x)||AA[x.t],z=this.parent&&this.parent.highlightItems
	if(z&&z.indexOf(x.did)!==-1){w+=" highlight"
	}return w
	},onnodechange:function u(w){this.constructor.prototype.onnodechange.call(this,w)
	this.parent.onSelectedItemsChange(w)
	},getTotalSelections:function(){return[]
	},getContentThroughTaskCall:function t(AE,AB){var w=this.parent,AA=AE.data||{fty:w.rootFolderType},z=AE.isRoot,x=w.folderList,AC=AE.blockBegin,AD=AE.blockCount
	this.dataProvider.fetchFolderContents({sId:mstrApp.sessionState,browsableTypes:w.getObjectSubTypes().join(","),includeObjectDesc:true,folderLinksContextId:w.folderLinksContextId||29,blockCount:AD||50},{fid:AA.did,fty:AA.fty,blockBegin:AC||1},{success:function(AG){var AF=AG.items?AG.items.filter(function(AI){return AI.t===8||Z(AI)
	}):[]
	AB.success({items:AF.length?AF:[J],sz:AG.sz,bb:AG.bb,bc:AG.bc})
	if(z&&!x.initialized){x.set("items",AG.sc)
	var AH=W.find(AG.sc,"did",AG.did)
	if(AH!==-1){x.set("selectedIndex",AH)
	}}x.initialized=true
	q.updateScrollbars()
	},failure:AB.failure})
	}})
	}function g(q,r){if(q.state===2){var p=q.data
	A.toggleClass(q.textNode,"highlight",p&&(r.indexOf(p.did)!==-1))
	}else{q.ctxtBuilder.itemWidgets.forEach(function(t){g(t,r)
	})
	}}mstrmojo.vi.ui.AllObjectsBrowser=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout,mstrmojo.vi.ui._IsDropTarget,mstrmojo.vi.ui._IsViPanel,mstrmojo.ui._HasScroller,mstrmojo.vi.ui.toolbars._HasToolbar,mstrmojo.ui._HasUITheme],{scriptClass:"mstrmojo.vi.ui.AllObjectsBrowser",markupString:'<div id="{@id}" class="mstrmojo-VIPanel mstrmojo-VIAllObjectsBrowser {@cssClass}" style="{@cssText}"><div class="mstrmojo-VIPanel-titlebar"></div><div class="filter"></div><div class="search-box"></div><div class="horizontal-line"></div><div class="mstrmojo-VIPanel-contentContainer"><div style="overflow:hidden
	"><div class="mstrmojo-VIPanel-content"></div></div></div></div>',markupSlots:{titlebarNode:function n(){return this.domNode.firstChild
	},filterNode:function B(){return this.domNode.childNodes[1]
	},searchBox:function Q(){return this.domNode.childNodes[2]
	},contentNode:function o(){return this.domNode.childNodes[4].firstChild
	},containerNode:function U(){return this.domNode.childNodes[4].firstChild.firstChild
	}},title:mstrmojo.desc(5679,"All Objects"),model:null,rootFolder:null,rootFolderType:null,highlightItems:null,allResultsLoaded:false,getObjectSubTypes:function(){var p=[2048,3072,1024]
	if(!mstrApp.isSingleTier){p.push(12032)
	p.push(257)
	p.push(2560)
	}return p
	},layoutConfig:{h:{titlebarNode:"30px",filterNode:"30px",searchBox:"33px",containerNode:"100%"},w:{titlebarNode:"100%",searchBox:"100%",containerNode:"100%"},xt:true},opened:false,dataProvider:null,onSelectedItemsChange:mstrmojo.emptyFn,onopenedChange:function(){if(!this.searchList&&this.opened){var p=this.folderList,q=p.getSelectedItem(),r=this.rootFolder
	if(q&&r&&q.did!==r.did){p.initialized=false
	}this.addChildren([a.call(this,{ondataChange:function(){if(this.data){this.getContent(this)
	}},ondblclick:this.dblClickOnNodes.bind(this)}),a.call(this,{alias:"searchList",visible:false,contentRetrieved:true,ondblclick:this.dblClickOnNodes.bind(this)})])
	}},reset:function(){if(this.contents){this.removeChildren(this.contents)
	}if(this.searchList){this.removeChildren(this.searchList)
	}},dblClickOnNodes:function N(q){var u=q.getTarget(),t=H.findWidget(u).data,r=this.model,p=r.getSelectedViUnit()
	if(p&&t&&W.indexOf(j,t.t)!==-1){this.dataProvider.loadObjects([t],{success:function(){var v=c.getCfgForAddUnitFromAllObject([t],r.datasets)
	if(p){p.getZonesModel().addUnitsFromDataSource([t],v.dsid,v.actions,r.getDatasetsUpdateCallback())
	}}},true)
	}},getSelectedItems:function K(){var q=this.contents,p=q.visible?q:this.searchList
	return p.getSelectedItems()
	},getLayoutOffsets:function(){return{w:18,h:0}
	},children:[{scriptClass:"mstrmojo.vi.ui.CollapsibleTitleBar",cssClass:"vi-allObjects-tb",slot:"titlebarNode",alias:"titleBar",editTitleOnDoubleClick:false,getLayoutOffsets:function(){return{w:0,h:5}
	},onclick:function X(){this.close()
	},close:function(){this.parent.close()
	},bindings:{title:"this.parent.title"}},{scriptClass:"mstrmojo.ui.Pulldown",slot:"filterNode",alias:"folderList",initialized:false,getLayoutOffsets:function(){return{w:0,h:9}
	},onitemSelected:function(p){if(this.initialized){this.parent.set("rootFolder",p)
	this.parent.obSearchBox.clearSearch(true)
	}}},{scriptClass:"mstrmojo.ui.SearchBox",slot:"searchBox",alias:"obSearchBox",getLayoutOffsets:function(){return{w:0,h:13}
	},searchTriggered:function O(x,v){this.text=x
	if(!x){this.clearSearch(true)
	return 
	}var w=this.parent,q=w.contents.visible?w.contents:w.searchList,t=q.getSelectedItems(),AA=w.folderList,u=this.parent.dataProvider,p=AA.items[AA.selectedIndex],r=p&&p.did,z=this
	t.forEach(function(AB){if(AB.t===8){r=AB.did
	return false
	}})
	A.addClass(q.domNode,["loading"])
	u.fetchFolderContents({browsableTypes:w.getObjectSubTypes().join(","),includeObjectDesc:true,folderLinksContextId:w.folderLinksContextId||29,blockCount:50,enableQuickSearch:!!(mstrApp.useQuickSearch&&mstrApp.useQuickSearch())},{blockBegin:v||1,fid:r,searchPattern:x,recursive:1},{success:function(AB){A.removeClass(q.domNode,["loading"])
	if(z.inputNode.value===x){w.contents.set("visible",false)
	w.searchList.set("visible",true)
	var AC=w.searchList||this
	if(!v||v<=1){AC.set("items",null)
	}AC.add(AB.items||[R])
	z.parent.allResultsLoaded=AC.items.length>=AB.sz
	w.updateScrollbars()
	}}})
	},onkeyup:function h(q){var p=q.hWin,r=q.e||p.event
	if((mstrApp.useQuickSearch&&mstrApp.useQuickSearch())||((r.keyCode===13||r.keyCode===27||!this.inputNode.value))){this.constructor.prototype.onkeyup.call(this,q)
	}},postClearSearch:function(){var p=this.parent,r=p.contents,q=p.searchList
	if(r){r.set("visible",true)
	}if(q){q.set("visible",false)
	}q.parent.allResultsLoaded=false
	}}],getDropAvatarIcon:function C(p){return" "
	},passToolbarCfg:function E(p){this.titleBar.set("toolbarCfg",p)
	},updateToolbar:function b(p){p.hasCloseButton=true
	p.closeButtonText=""
	return p
	},onhighlightItemsChange:function Y(){var p=this.highlightItems
	if(p){g(this.contents,p)
	g(this.searchList,p)
	}},setupScrollNodes:function e(){this.scrollNode=this.containerNode
	},onscroll:function f(p){var r=this.scrollNode,u=this.obSearchBox,q=this.searchList,t=u.inputNode.value
	if(Math.ceil(r.offsetHeight+r.scrollTop)>=r.scrollHeight&&!this.allResultsLoaded){u.searchTriggered(t,q.items.length+(q.blockBegin||1))
	}if(this._super){this._super(p)
	}},updateScrollbars:function(){this._super()
	if(this.scrollNode&&this.hasCustomScrollbar){var q=this.scrollNode,p=H.getComputedScrollbarWidth(q)
	q.style.marginRight=-p+"px"
	q.style.paddingRight=p+"px"
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.SharedXtabBase","mstrmojo._HasScrollbox","mstrmojo.XtabZone","mstrmojo._ShowsStatus","mstrmojo.boxmodel","mstrmojo._IsLockableXtab","mstrmojo._IsDocumentTemplate","mstrmojo.hash","mstrmojo.array","mstrmojo.chart.model.enums.EnumDSSBaseFormType","mstrmojo.models.template.DataInterface","mstrmojo.chart.model.enums.EnumDSSBaseFormType","mstrmojo.string","mstrmojo.tooltip","mstrmojo.vi.ui.DatasetUnitMenuUtils")
	var e=mstrmojo.models.template.DataInterface,t=e.ENUM_LOCKED_HEADERS,Y=t.OFF,I=t.BOTH,c=mstrmojo.dom,j=mstrmojo.array,P=mstrmojo.hash,x=mstrmojo.tooltip,q=mstrmojo.vi.ui.DatasetUnitMenuUtils,AD=mstrmojo.string,AC=mstrmojo.EnumRWUnitType,R=mstrmojo.chart.model.enums.EnumDSSBaseFormType,p,M="-1",J=-1
	var X=c.isTouchOptimizationEnabled()?["touchstart"]:["click","mousemove","mouseleave","selectstart","touchstart","keydown","scroll","wheel"]
	function Q(AI){var AJ=c.findWidget(AI),AH=[]
	while(AJ){if(AJ.defn&&AJ.defn.t===AC.PANEL&&AJ.domNode.style&&AJ.domNode.style.display==="none"){return AJ
	}AJ=AJ.parent
	}}function E(AH){return AH&&(AH.show?(AH.items&&AH.items.length||1):0)-1
	}mstrmojo.XtabBase=mstrmojo.declare(mstrmojo.SharedXtabBase,[mstrmojo._IsLockableXtab,mstrmojo._HasScrollbox,mstrmojo._ShowsStatus,mstrmojo._IsDocumentTemplate],{scriptClass:"mstrmojo.XtabBase",dataRenderMode:"vscroll",shouldClipLockableXtab:true,handleClicks:function F(){return true
	},markupString:'<div {@rtlHTML} id="{@id}" k="{@k}" class="mstrmojo-Xtab {@cssClass}" title="{@tooltip}" style="{@domNodeCssText}"><div style="display: none
	{@msgNodeCssText}"><div class="text"><div class="warning-icon"></div><div>&nbsp
	</div></div></div><div class="mstrmojo-Xtab-overlay"></div><div class="mstrmojo-Xtab-content {@cssDefault}" title="{@tooltip}" style="{@viewportCssText}" mstrAttach:'+X.join(",")+'><table cellspacing="0" cellpadding="0"><tr><td style="vertical-align:top
	padding:0
	"><div style="position: relative
	"><div class="mstrmojo-progress" style="display:none"><div class="mstrmojo-progress-barbg"><div class="mstrmojo-progress-bar"></div></div><div class="mstrmojo-progress-text"></div></div><div id="{@id}_scrollbox" style="position:relative
	{@scrollboxNodeCssText}
	{@scrollboxNodeOverflow}"></div></div></td></tr></table></div></div>',markupSlots:{overlayNode:function(){return this.domNode
	},msgNode:function(){return this.domNode.firstChild
	},maskNode:function(){return this.domNode.childNodes[1]
	},viewport:function(){return this.domNode.lastChild
	},contentNode:function(){return this.domNode.lastChild.firstChild
	},scrollboxNode:function(){return this.domNode.lastChild.firstChild.rows[0].cells[0].firstChild.lastChild
	},tableContainerNode:function(){return this.domNode.lastChild.firstChild.rows[0].cells[0].firstChild
	},_STATUS:function(){return this.domNode.lastChild.firstChild.rows[0].cells[0].firstChild.firstChild
	},_STATUS_TXT:function(){return this.domNode.lastChild.firstChild.rows[0].cells[0].firstChild.firstChild.lastChild
	},_STATUS_BAR:function(){return this.domNode.lastChild.firstChild.rows[0].cells[0].firstChild.firstChild.firstChild
	},_TB_CELL:function(){return this.domNode.lastChild.firstChild.rows[0].cells[0]
	}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=(this.visible)?"block":"none"
	}},zone:null,lockHeadersCase:I,interactiveCellsArray:null,numRowFixed:false,heightLimit:0,height:0,widthLimit:0,width:0,useTouchScrolling:false,scrollInterval:0,selections:null,getCellUnitIndex:function m(AH){if(AH.lo!==undefined){return AH.lo
	}else{if(AH.o!==undefined){return AH.o
	}}return AH._ei
	},getCellTitleId:function d(AH){var AI=""
	if(AH.axis&&AH.ui!==undefined){AI=AH.axis+"A"+(AH.ui+1)
	}else{if(AH.mix!==undefined){AI="0A"+AH.mix
	}}return AI
	},getCellTooltip:function n(AU,AQ){var AK=this.shouldEncodeHtmlContent(),AN=c.position(AQ)
	if(AK&&AU.ts===R.DssBaseFormHTMLTag&&!AU.isDynamicLink){return{cssClass:"vi-regular vi-tooltip-C",posType:x.POS_TOPLEFT,content:mstrmojo.desc(19767,"This content has been disabled.##Please contact your administrator.").replace("##","</br>"),top:AN.y-6,left:AN.x+AN.w-6,keepArrowYPos:true,enableHover:true}
	}var AI=AU._e&&AU._e.oid,AW=!!AI,AM=AU.id,AV=!!AM,AR,AP,AS,AJ,AT,AO,AL,AH
	if(AV){AR=q.getUnitFromDataset(this.model.docModel.datasets,AM)
	}else{if(AW){AR=q.getUnitFromDataset(this.model.docModel.datasets,AI,AU._e.otp)
	}}AP=AR&&(AR.dsc||AR.desc)
	if(!AP){return null
	}if(AU.isObjHeader){AS=AN.y+AN.h+3
	AJ=AN.x+(AN.w/2)
	AT=x.POS_TOPCENTER
	AO="vi-regular vi-tooltip-A A-center"
	AL=true
	}else{AS=AN.y-6
	AJ=AN.x+AN.w-6
	AT=x.POS_TOPLEFT
	AO="vi-regular vi-tooltip-C"
	AH=true
	}return{cssClass:AO,posType:AT,content:'<div class="name">'+AU.v+'</div><div  class="dsc">'+AD.encodeHtmlString(AP,true)+"</div>",top:AS,left:AJ,keepArrowXPos:!!AL,keepArrowYPos:!!AH,enableHover:true}
	},updateTooltipConfig:function AE(AI){var AJ=AI.target||c.eventTarget(AI.hWin,AI.e),AH=this.getCellForNode(AJ)
	if(AH){this.richTooltip=this.getCellTooltip(AH,AJ)
	}},update:function k(AJ){var AK=P.walk("data.gsi",AJ),AI=function(AL){if(!AL){return 
	}if(AL.mx&&AL.mx.length){["cols","rows"].some(function(AM){return AL[AM].some(function(AN){if(AN.did===M){AN.n=mstrmojo.desc(11808,"Metric Names")
	return true
	}})
	})
	}}
	if(!j.isArray(AK)){AI(AK)
	}this.set("gridData",AJ.data[0]||AJ.data)
	var AH=this.defn||AJ.defn
	this.sid=this.gridData.sid
	this.treeType=(AH&&AH.tt)||1
	this.interactiveCellsArray=[]
	if(this._super){return this._super(AJ)
	}return true
	},preBuildRendering:function C(){var AJ=this.gridData,AH=this.height,AI=this.width,AK=AJ.rw
	this.usesTouches=this.usesTouches||c.isTouchOptimizationEnabled()
	this.lockHeadersCase=AJ.lhv||Y
	this.selections={}
	this.numRowFixed=!!(!AH&&AK&&AK.row&&(AK.row.bc<AK.row.tc))
	this.prepareCP()
	if(AI){this.widthLimit=parseInt(AI,10)
	}if(AH){this.heightLimit=parseInt(AH,10)
	}return this._super()
	},renderEmptyGrid:function r(){var AK=this.gridData,AI=this.msgNode,AJ=AI.style,AH=this.viewport
	AI.firstChild.childNodes[1].innerText=AK.eg
	if(AK.eg!==""&&!this.excludeData){AJ.display="block"
	AJ.overflow="hidden"
	AI.className="mstrmojo-message"
	AH.style.display="none"
	}return true
	},postBuildRendering:function S(){var AQ=this.gridData,AI=!!this.viewport&&AQ,AJ=this.msgNode,AN=this.viewport,AK=AQ.gts,AO
	if(AQ.eg===undefined){if(AJ.style.display==="block"){AJ.style.display="none"
	AN.style.display="block"
	}}else{return this.renderEmptyGrid()
	}j.forEach(AK.row,function(AR){AR.isObjHeader=true
	})
	j.forEach(AK.col,function(AR){if(AR.otp===-1){j.forEach(AR.es,function(AS){AS.isObjHeader=true
	})
	}else{AR.isObjHeader=true
	}})
	if(!this.interactiveCellsArray){this.interactiveCellsArray=[]
	}if(AI){AQ.ghs=AQ.ghs||[]
	AQ.gts=AQ.gts||[]
	this._setupZone(AQ)
	this._setupCP(AQ)
	var AL=this.zone
	if(AL.parent!==this){this.addChildren(AL)
	}this.shouldClipLockableXtab=!this.zone.icr.isIncremental
	if(this.scrollboxNode){var AM=this.heightLimit
	this.scrollboxHeightFixed=!isNaN(AM)&&(AM>0)
	if(this.scrollboxHeightFixed){this.scrollboxHeight=AM
	}this.scrollboxLeft=this.scrollboxTop=0
	this.connectScrollbox(this)
	}}this.renderChildren()
	if(this.controller&&this.controller.getScrollPosition){var AP=this.controller.getScrollPosition(this.controller.model.oid+"."+this.gridData.k)
	if(AP){this.scrollTo(AP)
	}}AO=this._super()
	if(this.numRowFixed){if(!this.height){this.heightLimit=this.zone.getPageHeight(0)
	this.height=this.heightLimit+"px"
	}else{this.heightLimit=parseInt(this.height,10)
	}}if((AI&&this.scrollboxNode&&AQ.afc)||this.numRowFixed){this.resizeScrollBox()
	}this.onGridWidthChanged(AQ.afc||AQ.afw)
	this._onContainerGrowShrink(this.widthLimit,this.heightLimit)
	if(this.scrollboxNode&&this.scrollboxNode.childNodes&&this.scrollboxNode.childNodes[0]){this.scrollboxNode.style.zIndex=this.scrollboxNode.childNodes[0].style.zIndex
	}if(this.lockHeadersCase&&this.initLock){if(this.scrollboxNode.clientWidth===0&&this.scrollboxNode.clientHeight===0){var AH=Q.call(this,this.scrollboxNode.parentNode)
	if(mstrApp.isExpress&&AH){AH.refreshWhenVisible=true
	}}this.initLock({top:this.scrollboxTop,left:this.scrollboxLeft})
	}if(this.configureActions){this.configureActions()
	}return AO
	},onclick:function o(AI){var AK=mstrmojo.dom,AM=AI.getTarget(),AL=AM&&AK.findAncestorByName(AM,"td",true,this.viewport)
	if(AM.nodeName.toLowerCase()==="a"&&AL.getAttribute("ei")){try{var AJ=this.interactiveCellsArray[parseInt(AL.getAttribute("ei"),10)]
	if(AJ&&AJ.ts===mstrmojo.chart.model.enums.EnumDSSBaseFormType.DssBaseFormHTMLTag){AM.href=mstrmojo.addCSRFTokenToURL(AM.href)
	}}catch(AN){}}if(AL){var AH=AK.findAncestorByName(AM,"span",true,AL)
	if(AH&&!AI.shiftKey&&!AI.ctrlKey){this.defaultAction(AL)
	}else{this.doSelection(AI.e,AI.hWin,AL)
	}}if(this.isSelectingText){this.isSelectingText=false
	}},ontouchend:function f(AI,AH){this.onclick(mstrmojo._HasMarkup.newDomEvent("click",AH,AI))
	},onselectstart:function u(AI,AH){if(this.isHandleNode&&this.isHandleNode(AI.getTarget())){c.preventDefault(AH,AI)
	}return false
	},onscroll:function w(){var AH=this.zone.icr
	if(AH&&AH.isIncremental){window.clearTimeout(this.scrollingTimeOut)
	this.scrollingTimeOut=window.setTimeout(function(){this.zone.renderPageInView(true)
	this._alignHeaders()
	}.bind(this),100)
	}else{this._alignHeaders()
	}if(this.controller&&this.controller.addScrollPosition){this.controller.addScrollPosition(this.controller.model.oid+"."+this.gridData.k,this.scrollboxLeft,this.scrollboxTop)
	}},resizeScrollBox:function G(){var AK=this.scrollboxNode,AJ=AK&&AK.style,AI=this._TB_CELL
	if(!AJ||!AI){return 
	}var AH=this.heightLimit
	if(!AH){AJ.height="auto"
	this.scrollboxHeightFixed=false
	}else{if(AH>0){AJ.height=AH+"px"
	this.scrollboxHeight=AH
	this.scrollboxHeightFixed=true
	}}this._resizeScrollBoxWidth()
	},_onContainerGrowShrink:function AG(AI,AL){var AH=mstrmojo.findAncestor(this,"fixedSizeCanGrowShrink",null,mstrmojo.DocSection),AK=AI||null,AJ=AL||null
	if(AK||AJ){if(AH){AH.fixedSizeCanGrowShrink(this,AJ,AK)
	}}else{if(AH){AH.performCanGrowCanShrink([this],true)
	}}},_resizeScrollBoxWidth:function W(){var AO=this.scrollboxNode,AM=AO.scrollWidth+(AO.offsetWidth-AO.clientWidth),AK=AO&&AO.style,AI=this._TB_CELL
	if(this.useTouchScrolling||!AK||!AI){return 
	}var AL=this.widthLimit
	if(!AL){var AN=AO.firstChild.style,AJ=c.isChrome&&window.devicePixelRatio!==1?0.5:0,AH=AN.position
	AN.position="relative"
	AK.width="auto"
	AM=AO.firstChild.firstChild.offsetWidth+(AO.offsetWidth-AO.clientWidth)
	if(AM>0){AM+=AJ
	}AO.firstChild.style.position=AH
	}if((AM&&(AM>0))&&(!AL||(AL&&(AM<AL)))&&(AO.firstChild.firstChild.offsetWidth>=AO.clientWidth)){AK.width=AM+"px"
	}},onGridWidthChanged:function b(AI){if(!AI){this._resizeScrollBoxWidth()
	}var AH=this.widthLimit
	if(!AH){this.width=p
	}this._onContainerGrowShrink(AH,null)
	},getGridDimension:function N(AK){var AI=1,AJ=AK===AI?"Height":"Width",AL=AJ.toLowerCase(),AH=this[AL+"Limit"]
	if(!AH&&(this[AL]===p||this[AL]===0)){AH=this.viewport["offset"+AJ]
	this[AL]=AH+"px"
	return AH
	}return AH||parseInt(this[AL],10)
	},_alignHeaders:function B(AH){var AJ=this.scrollboxLeft,AI=this.scrollboxTop
	if(this.lockHeadersCase&&this.alignLockNodes){this.alignLockNodes(AJ,AI)
	}},defaultAction:function O(AM,AI){var AH=AI||this.getCellForNode(AM),AL=AM&&AM.className.indexOf("sc_")>0
	if(this.model&&this.model.data&&this.model.data.visName&&this.model.data.visName==="InteractiveGridAjaxVisualizationStyle"){AL=this.isReselectedTD(AH)
	if(AL&&this.hasSelectAll&&this.hasSelectAll(AH)){this.IGCurrentSelectedCell=null
	}else{this.IGCurrentSelectedCell=AH
	}}var AK=this.model.getAction(this.getActionCells(AH),AM,AL),AJ=AK&&AK.h
	this._currentSelectedTD=AM
	if(AJ&&this.controller[AJ]){this.controller[AJ](this,AK.a)
	return true
	}return false
	},createZone:function h(AI){var AJ=AI||{},AH=this._super&&this._super(AJ)
	if(!AH){AH=new mstrmojo.XtabZone(AJ)
	}return AH
	},_setupZone:function v(AL){this.zones={}
	if(!this.zone){this.zone=this.createZone({renderMode:this.dataRenderMode,cssText:"z-index: 1",slot:"scrollboxNode"})
	}var AH=this.zone
	this.zones.origin=AH
	AH.rh=AL.rh
	AH.autoFitWindow=!!AL.afw
	AH.autoFitContent=!!AL.afc
	if(!this.isVIXtab){AH.tableCssClass="r-cssDefault"+(this.k?"_"+this.k:"")
	}AH.numColumnCanMerge=AL.gts&&AL.gts.cws?(AL.gts.cws.length-1):0
	var AM=[],AJ=undefined,AO=null,AK,AI
	mstrmojo.array.forEach(AL.gts&&AL.gts.row,function(AP){AK=AO&&AO.id===AP.id
	if(AK){AM[AM.length-1]+=AP.fs&&AP.fs.length||1
	}else{if(AP.otp===J){AJ=0
	mstrmojo.array.forEach(AM,function(AQ){AJ+=AQ
	})
	}AM.push(AP.fs&&AP.fs.length||1)
	}AO=AP
	})
	AH.acws=AM
	var AN=e.getGSI(AL.gsi)
	AH.rowMerge=AN&&AN.prop&&AN.prop.rows&&AN.prop.rows.mg!=="0"
	AI=AL.ghs&&AL.ghs.chs
	this.updateHeaderOffset(AI)
	AH.mxPos=AJ
	AH.icr.isIncremental=AI&&AI.cws&&AI.cws.length>AH.icr.limit&&mstrmojo.resolveFeature("use-grid-inc-col-render")
	},onColHeadersRotated:function l(AH){this.updateHeaderOffset(AH)
	},updateHeaderOffset:function U(AI){var AH=this.zone
	if(AH){AH.headerOffset=E(AI)
	}},ongridDataChange:function Z(){var AH=this.model
	if(AH){AH.set("data",this.gridData)
	this.initDataBlocks(this.gridData)
	}},gridPagesRendered:function a(){if(this._super){this._super()
	}},showDownloadStatus:function L(AH){if(!AH){return 
	}if(this.showingStatus){this.numRowsToDownload+=AH
	}else{this.numRowsToDownload=AH
	this.numRowsDownloaded=0
	}if(this.showStatus){this.showStatus(true,mstrmojo.desc(8301,"Retrieving Data ..."),this.numRowsDownloaded*100/this.numRowsToDownload)
	}},closeDownloadStatus:function g(){this.numRowsToDownload=0
	if(this.showStatus){this.showStatus(false)
	}},download:function H(AK,AH,AO){var AN=this.gridData.rw,AJ=AN.row,AL=AN.col,AM=AJ.rm,AI=AJ.bc
	this.rhsCPList[AK].isDownloading=this.valuesCPList[AK].isDownloading=true
	if(AI){this.controller.onDownloadGridData(this,this.model.getDownloadAction(AK*AI+1,AI,AL.bb,AL.bc,this.id,AM,{blockNum:AK},AH),AO)
	}},unrender:function D(AH){this.width=this.widthLimit=this.height=this.heightLimit=0
	this.disconnectScrollbox(this)
	this._super(AH)
	},getCellForNode:function AB(AI){var AH=AI&&parseInt(AI.getAttribute("ei"),10)
	if(isNaN(AH)){return null
	}return this.interactiveCellsArray[parseInt(AH,10)]
	},getActionCells:function K(AH){var AI=[],AK=this.selections
	var AL=AH.axis+"A"+(AH.ui+1),AM=AK[AL],AJ
	if(AM&&AM[AH.o]){for(AJ in AM){var AN=this.getCellForNode(AM[AJ][0])
	AI.push(AN)
	}}else{AI.push(AH)
	}return AI
	},setModel:function AF(AH){this.model=AH
	if(AH.data){this.set("gridData",AH.data)
	}},delegateGridAction:function A(AH,AI){if(this._shouldResponseToAction(AI)){AH(this.zone)
	}},_shouldResponseToAction:function z(AH){return AH!=="refreshOnDataDownloaded"
	},destroy:function AA(){var AH=this.model
	if(this.controller&&this.controller.addScrollPosition){this.controller.addScrollPosition(this.gridData.datasetId+"."+this.gridData.k,this.scrollboxLeft,this.scrollboxTop)
	}if(AH&&AH.destroy){AH.destroy()
	}this._super()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.viz.GraphMatrixHelper","mstrmojo.vi.viz.MapHelper","mstrmojo.vi.viz.KnownVisualizations","mstrmojo.vi.viz.EnumVisualizationTemplates","mstrmojo.vi.util.ThresholdUtils","mstrmojo.gm.GMEnums","mstrmojo.gmaps.MapEnums","mstrmojo.chart.model.enums.EnumDSSObjectType","mstrmojo.vi.viz.EnumDSSDropZones","mstrmojo.gmaps._AreaMapHelper","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo.models.template.DataInterface","mstrmojo.ag.models.template.AgDataInterface","mstrmojo.DocDataService","mstrmojo.expr")
	var a=mstrmojo,b=a.array,C=a.vi.viz,N=a.gm.EnumGMZoneIds,Z=C.EnumVisualizationTemplates,M=a.gmaps,d=C.GraphMatrixHelper,c=C.EnumDSSDropZones,X=C.KnownVisualizations,J=a.vi.util.ThresholdUtils,l=a.chart.model.enums.EnumDSSObjectType,g=M.EnumGraphicType,H=M.EnumPropertyType,B=M.EnumDefaultShapeFormatStyle,q=a.gm.EnumABLDirection,n=C.MapHelper,p=a.vi.ui.DatasetUnitMenuUtils,F=M.CustomShapeId,Q=mstrmojo.expr,Y=Q.TP,f=mstrmojo.vi.viz.EnumDSSDropZones,m=mstrmojo.models.template.DataInterface,o=mstrmojo.ag.models.template.AgDataInterface,k=mstrmojo.DocDataService.EnumTreesToRender,L="-1"
	function R(r){return r&&r.getHostModel&&r.getHostModel()
	}function P(u){var t=false
	if(u.t!==4){b.forEach(u.fs||[],function(r){if(r.ftr||r.bftp===1||r.bftp===8||r.bftp===9){t=true
	return false
	}})
	}return t
	}function D(t,v){var r=t.getHost(),u=r.GMController
	if(u){switch(v){case"bp":return u.isBoxPlot
	case"wf":return u.isWaterfall
	case"hg":return u.isHistogram
	default:break
	}}return false
	}function G(AX,AG,At,AB,AN){var AL=At.dz,AR=At.gsi||{},Al=[],Ar=false,v=false,Aa=false,AD=AB.getHost(),Ai=AD.GMController,t=parseInt(Ai.property.hGetPropValue("visType")),AU=t===Z.GRAPHMATRIXGRIDCHART,AA=t===Z.GRAPHCOMBINATIONBARAREADUALAXIS,Ak=t===Z.VERTICALDUALAXISLINECHART||t===Z.HORIZONTALDUALAXISLINECHART,AS=AD.getChartStyle()==="NewGraphMatrixVisualizationStyle",AI=D(AB,"bp"),Ap=D(AB,"wf"),Af=D(AB,"hg"),AH=Ai.isDualAxis,AE=["Reserved","Rows","Columns","XAxis","YAxis","BreakBy","SliceBy","ColorBy","SizeBy"],Ab=function(Aw){switch(parseInt(Aw.visType)){case Z.GRAPHMATRIXVERTICALBARAUTOMATIC:case Z.GRAPHMATRIXHORIZONTALBARAUTOMATIC:return true
	default:return false
	}},Ac=function(Aw){switch(parseInt(Aw.visType)){case Z.GRAPHMATRIXVERTICALBARCLUSTERED:case Z.GRAPHMATRIXVERTICALBARSTACKED:case Z.GRAPHMATRIXVERTICALBARPERCENT:case Z.GRAPHMATRIXHORIZONTALBARCLUSTERED:case Z.GRAPHMATRIXHORIZONTALBARSTACKED:case Z.GRAPHMATRIXHORIZONTALBARPERCENT:case Z.GRAPHMATRIXVERTICALAREASTACKED:case Z.GRAPHMATRIXHORIZONTALAREASTACKED:case Z.GRAPHMATRIXVERTICALAREACLUSTERED:case Z.GRAPHMATRIXHORIZONTALAREACLUSTERED:return true
	default:return false
	}},AJ=function(Aw){switch(parseInt(Aw.visType)){case Z.GRAPHMATRIXVERTICALBARCLUSTERED:case Z.GRAPHMATRIXVERTICALBARSTACKED:case Z.GRAPHMATRIXVERTICALBARPERCENT:case Z.GRAPHMATRIXHORIZONTALBARCLUSTERED:case Z.GRAPHMATRIXHORIZONTALBARSTACKED:case Z.GRAPHMATRIXHORIZONTALBARPERCENT:case Z.VERTICALSYNCHRONIZEDAXISBAR:case Z.HORIZONTALSYNCHRONIZEDAXISBAR:case Z.VERTICALCLUSTEREDSYNCHRONIZEDAXISBAR:case Z.GRAPHMATRIXVERTICALLINEAUTOMATIC:case Z.GRAPHMATRIXHORIZONTALLINEAUTOMATIC:case Z.VERTICALDUALAXISLINECHART:case Z.HORIZONTALDUALAXISLINECHART:case Z.GRAPHMATRIXVERTICALAREASTACKED:case Z.GRAPHMATRIXHORIZONTALAREASTACKED:case Z.GRAPHMATRIXVERTICALAREACLUSTERED:case Z.GRAPHMATRIXHORIZONTALAREACLUSTERED:return true
	default:return false
	}},AO=function(Aw){switch(parseInt(Aw.visType)){case Z.GRAPHMATRIXVERTICALBARCLUSTERED:case Z.GRAPHMATRIXVERTICALBARSTACKED:case Z.GRAPHMATRIXVERTICALBARPERCENT:case Z.VERTICALSYNCHRONIZEDAXISBAR:case Z.VERTICALCLUSTEREDSYNCHRONIZEDAXISBAR:case Z.GRAPHMATRIXVERTICALBARAUTOMATIC:return true
	default:return false
	}},w=function(Aw){switch(parseInt(Aw.visType)){case Z.GRAPHMATRIXHORIZONTALBARCLUSTERED:case Z.GRAPHMATRIXHORIZONTALBARSTACKED:case Z.GRAPHMATRIXHORIZONTALBARPERCENT:case Z.HORIZONTALSYNCHRONIZEDAXISBAR:case Z.GRAPHMATRIXHORIZONTALBARAUTOMATIC:return true
	default:return false
	}},Au=function(Aw){return AO(Aw)||w(Aw)
	},AZ=function(Aw){switch(parseInt(Aw.visType)){case Z.HORIZONTALSYNCHRONIZEDAXISBAR:case Z.VERTICALSYNCHRONIZEDAXISBAR:case Z.VERTICALCLUSTEREDSYNCHRONIZEDAXISBAR:return true
	default:return false
	}},An=function(Aw){switch(parseInt(Aw.visType)){case Z.GRAPHMATRIXVERTICALLINEAUTOMATIC:case Z.GRAPHMATRIXHORIZONTALLINEAUTOMATIC:case Z.VERTICALDUALAXISLINECHART:case Z.HORIZONTALDUALAXISLINECHART:return true
	default:return false
	}},AF=function(Aw){switch(parseInt(Aw.visType)){case Z.GRAPHMATRIXVERTICALAREACLUSTERED:case Z.GRAPHMATRIXVERTICALAREASTACKED:case Z.GRAPHMATRIXHORIZONTALAREACLUSTERED:case Z.GRAPHMATRIXHORIZONTALAREASTACKED:return true
	default:return false
	}},AY=function(Aw){return Au(Aw)||An(Aw)||AF(Aw)
	},x=function(Az){var Ay=parseInt(Az.visType),Aw=!Az.breakByObjects.length&&Az.metricsDropZone!=="BreakBy",Ax=""
	switch(Ay){case Z.GRAPHMATRIXVERTICALBARCLUSTERED:case Z.GRAPHMATRIXHORIZONTALBARCLUSTERED:case Z.VERTICALCLUSTEREDSYNCHRONIZEDAXISBAR:case Z.GRAPHMATRIXVERTICALAREACLUSTERED:case Z.GRAPHMATRIXHORIZONTALAREACLUSTERED:Ax=d.PROP_SUBTYPE_CLUSTERED
	break
	case Z.GRAPHMATRIXVERTICALBARSTACKED:case Z.GRAPHMATRIXHORIZONTALBARSTACKED:Ax=d.PROP_SUBTYPE_STACKED
	break
	case Z.GRAPHMATRIXVERTICALAREASTACKED:case Z.GRAPHMATRIXHORIZONTALAREASTACKED:Ax=(Az.subtype===d.PROP_SUBTYPE_PERCENT)?d.PROP_SUBTYPE_PERCENT:d.PROP_SUBTYPE_STACKED
	break
	case Z.GRAPHMATRIXVERTICALAREAPERCENT:case Z.GRAPHMATRIXHORIZONTALAREAPERCENT:Ax=Aw?d.PROP_SUBTYPE_STACKED:d.PROP_SUBTYPE_PERCENT
	break
	case Z.GRAPHMATRIXVERTICALBARPERCENT:case Z.GRAPHMATRIXHORIZONTALBARPERCENT:Ax=d.PROP_SUBTYPE_PERCENT
	break
	case Z.GRAPHMATRIXVERTICALBARAUTOMATIC:case Z.GRAPHMATRIXHORIZONTALBARAUTOMATIC:Ax=d.PROP_SUBTYPE_AUTOMATIC
	break
	case Z.VERTICALSYNCHRONIZEDAXISBAR:case Z.HORIZONTALSYNCHRONIZEDAXISBAR:Ax=(Az.subtype!=="Automatic"&&Az.subtype)||d.PROP_SUBTYPE_CLUSTERED
	break
	}return Ax
	},r=function(Aw){return Aw.shape==="Pie"||Aw.shape==="Ring"
	},Av=function(){var Aw=AB.getHost()
	return Aw&&Aw.GMController&&Aw.GMController.isBubbleOrScatter()
	},Aq=function(Aw,A2,A1,Ay){var A0=Ay||AX
	Al.push({ax:A1?A1:0,act:"addDropZoneUnit",zoneId:Aw,datasetId:AG,unitId:A0.did,unitType:A0.t,unitPos:A2||0})
	Ar=true
	Aa=(Aw===c.ColorBy)
	v=(Aw===c.AdditionalMetrics)
	var Az=AE[Aw],Ax=A0.t===4?"TemplateMetric":"TemplateUnit"
	if(AL[Az]){if(!AL[Az][Ax]){AL[Az][Ax]=[]
	}A0.ax=A1?A1:0
	AL[Az][Ax].push(A0)
	}},u=function(Aw,Ax){if(Ax){Al.push({act:"removeDropZoneUnit",zoneId:Aw,unitId:Ax.did,unitType:Ax.t})
	}},Aj=function(Aw){Al.push({act:"addDropZoneUnit",zoneId:Aw,unitId:"00000000000000000000000000000000",unitType:0})
	},AP=new C.GraphMatrixHelper({data:At}),AC=function(Aw){if(!AP.shape){AP.shape=Aw
	AN=true
	}},AK=function(Aw){if(!AP.subtype||AP.subtype!==Aw){AP.subtype=Aw
	if(!AN){delete AL.visProp.fmt.LegendVisibleness
	delete AL.visProp.fmt.ShwAllLbl
	AN=true
	}}},Ao=function(A3,Aw){var A1=(Aw===N.XAXIS),A2=A1?A3.rowObjects:A3.columnObjects,A0=A1?A3.columnObjects:A3.rowObjects,Az=A1?A3.yAxisObjects.slice(1):A3.xAxisObjects.slice(1),Ay=Az.concat(A0).concat(A2),Ax=Ay[Ay.length-1]
	if(Ax){Aq(c.BreakBy,undefined,undefined,Ax)
	if(!A3.exists(AX,"colorByObjects")&&!AB.isMetricZone(c.ColorBy)){Aq(c.ColorBy,undefined,undefined,Ax)
	}}},Ae=function(Ay,Aw,Ax){if(AY(Ay)&&!AZ(Ay)&&!Ak){if(AJ(Ay)&&!Ay.breakByObjects.length){Aj(c.BreakBy)
	}else{Aj(Aw)
	}}else{Aj(Ax)
	}},AM=function(Az,A4){var A6,A5=AE[Az],A3=AL[A5]||[],A0=A3.TemplateMetric?A3.TemplateMetric.length:0,A2=!AP.breakByObjects.length,A9=AB.getHost(),A7=A9.GMController,Aw,A8=!AA,Ay=A7.getChartInfo(),Ax={dndGM:false}
	if(AA||AH||Ak){A7.shallWeUseGroupInfo=true
	}if(!AP.metricsDropZone){if(Az===c.XAxis&&AP.xAxisObjects.length){Ae(AP,c.Rows,c.Columns)
	}else{if(Az===c.YAxis&&AP.yAxisObjects.length){Ae(AP,c.Columns,c.Rows)
	}}}if(A7.shallWeUseGroupInfo){if(Ak||AA){Aw=AB.fillGroupInfo(Ax,A7.getGroupInfo(),AX.did,false,false,true)
	for(var A1=0
	A1<Aw.length
	A1++){if(Aw[A1][0]===AX.did){A6=0
	break
	}if(Aw[A1][1]===AX.did){A6=1
	break
	}}}else{Aw=!AA||!A0?A7.getGroupInfo():A7.getDummyGroupInfo()
	if((Ay.dirc===q.VERTICAL&&Az===c.YAxis)||(Ay.dirc===q.HORIZONTAL&&Az===c.XAxis)){Aw=AB.fillGroupInfo(Ax,Aw,AX.did,A6?false:true,A8)
	}}A7.setGroupInfo(Aw)
	AN=true
	}Aq(Az,A4,A6)
	if(Ac(AP)&&!A0&&A2){Ao(AP,Az)
	}}
	AP.setData(At.dz)
	AP.setMetricsDropZone(At.dz)
	AP.visType=Ai.property.hGetPropValue("visType")
	if(AX.t===l.DssTypeMetric){if(Af){if(!AP.yAxisObjects.length){Aq(c.YAxis)
	}else{u(c.YAxis,AP.yAxisObjects[0])
	u(c.AdditionalMetrics,AP.tooltipMetrics.filter(function(Aw){return Aw.t===l.DssTypeMetric
	})[0])
	Aq(c.YAxis)
	}}else{if(AU){var AQ=!AP.colorByObjects.length?c.ColorBy:(!AP.sizeByObjects.length?c.SizeBy:c.AdditionalMetrics)
	if(AQ!==c.AdditionalMetrics||(!AP.exists(AX,"colorByObjects")&&!AP.exists(AX,"sizeByObjects"))){Aq(AQ)
	if(AQ===c.ColorBy&&AX.t===4){var Ad=J.getDefaultGMThreshold(Z.GRAPHMATRIXGRIDCHART)
	J.addThresholds(AD.model,AD,AD.node,AX,Al,Ad.colors,Ad.ranges,false)
	}}}else{if(AP.exists(AX,"yAxisObjects")||AP.exists(AX,"xAxisObjects")||AP.exists(AX,"sizeByObjects")||AP.exists(AX,"colorByObjects")||AP.exists(AX,"angleObjects")){var AT=!AP.exists(AX,"yAxisObjects")&&!AP.exists(AX,"xAxisObjects")
	if(AT&&(!AP.yAxisObjects.length||AP.yAxisObjects[0].t===4)){AM(c.YAxis)
	}else{if(AT&&(!AP.xAxisObjects.length||AP.xAxisObjects[0].t===4)){AM(c.XAxis)
	}else{if(!AP.angleObjects.length&&r(AP)){Aq(c.Angle)
	}else{if(!AI&&!AP.colorByObjects.length&&AP.secondaryMetricsDropZone!=="ColorBy"){Aq(c.ColorBy)
	}else{if(!AP.sizeByObjects.length||(!AP.exists(AX,"sizeByObjects")&&Av())){Aq(c.SizeBy)
	}}}}}}else{if(!AI&&!AP.angleObjects.length&&r(AP)){Aq(c.Angle)
	}else{if((!AP.yAxisObjects.length)&&(!AP.xAxisObjects.length)){if(w(AP)){Aq(c.XAxis)
	}else{Aq(c.YAxis)
	}if(!AI&&!Ap){AC(d.PROP_SHAPE_BAR)
	}}else{if(AP.yAxisObjects.length&&!AP.xAxisObjects.length){if((AI||Ap)&&AP.yAxisObjects[0].t===4){AM(c.YAxis)
	}else{if(!AP.exists(AX,"yAxisObjects")){if((AY(AP)||AA)&&AP.yAxisObjects[0].t===4){AM(c.YAxis)
	if(AA&&(AP.metricsDropZone!==d.PROP_COLUMNS&&AP.metricsDropZone!==d.PROP_ROWS&&(!AP.colorByObjects.length||AP.colorByObjects[0].t!==4))){Aj(c.ColorBy)
	}}else{AM(c.XAxis)
	}if(!AI&&!Ap){AC(AB.isMetricZone(c.YAxis)?d.PROP_SHAPE_CIRCLE:d.PROP_SHAPE_BAR)
	}}}}else{if((!AP.yAxisObjects.length)&&AP.xAxisObjects.length){if((AI||Ap)&&AP.xAxisObjects[0].t===4){AM(c.XAxis)
	}else{if(!AP.exists(AX,"xAxisObjects")){if((AY(AP)||AA)&&AP.xAxisObjects[0].t===4){AM(c.XAxis)
	if(AA&&(AP.metricsDropZone!==d.PROP_COLUMNS&&AP.metricsDropZone!==d.PROP_ROWS&&(!AP.colorByObjects.length||AP.colorByObjects[0].t!==4))){Aj(c.ColorBy)
	}}else{AM(c.YAxis)
	}if(!AI&&!Ap){AC(AB.isMetricZone(c.XAxis)?d.PROP_SHAPE_CIRCLE:d.PROP_SHAPE_BAR)
	}}}}else{if((AP.xAxisObjects[0].t!==4)&&(AP.yAxisObjects[0].t===4)&&!AP.exists(AX,"yAxisObjects")&&!AP.exists(AX,"sizeByObjects")&&!AP.exists(AX,"colorByObjects")){AM(c.YAxis)
	if(AP.metricsDropZone!==d.PROP_COLUMNS&&AP.metricsDropZone!==d.PROP_ROWS&&(!AP.colorByObjects.length||AP.colorByObjects[0].t!==4)){Aj(c.ColorBy)
	}}else{if((AP.xAxisObjects[0].t===4)&&(AP.yAxisObjects[0].t!==4)&&!AP.exists(AX,"xAxisObjects")&&!AP.exists(AX,"sizeByObjects")&&!AP.exists(AX,"colorByObjects")){AM(c.XAxis)
	if(AP.metricsDropZone!==d.PROP_COLUMNS&&AP.metricsDropZone!==d.PROP_ROWS&&(!AP.colorByObjects.length||AP.colorByObjects[0].t!==4)){Aj(c.ColorBy)
	}}else{if((AP.xAxisObjects[0].t===4)&&(AP.yAxisObjects[0].t===4)&&!AP.exists(AX,"xAxisObjects")&&!AP.exists(AX,"yAxisObjects")&&!AP.exists(AX,"sizeByObjects")&&!AP.exists(AX,"colorByObjects")){if(!AI&&!AP.colorByObjects.length&&AP.metricsDropZone!==d.PROP_COLORBY){Aq(c.ColorBy)
	}else{if(!AP.sizeByObjects.length&&AP.shape!=="Area"){Aq(c.SizeBy)
	}else{if(AP.xAxisObjects.length===1){AM(c.XAxis)
	}else{if(AP.yAxisObjects.length===1){AM(c.YAxis)
	}else{if(AP.sizeByObjects.length===1&&AP.shape!=="Area"){Aq(c.SizeBy)
	}else{if(!AP.exists(AX,"tooltipMetrics")){Aq(c.AdditionalMetrics)
	}}}}}}}else{if(!AI&&!AP.colorByObjects.length&&AP.metricsDropZone!==d.PROP_COLORBY){Aq(c.ColorBy)
	}else{if(!AP.sizeByObjects.length){Aq(c.SizeBy)
	}else{if(!AP.exists(AX,"tooltipMetrics")){Aq(c.AdditionalMetrics)
	}}}}}}}}}}if((!v)&&Ar){if(AP.exists(AX,"tooltipMetrics")){var As=b.find(AP.tooltipMetrics,"did",AX.did)
	if(As>-1){AP.tooltipMetrics.splice(As,1)
	u(c.AdditionalMetrics,AX)
	}}}}if(Ar&&Aa){var AD=AB.getHost(),AW=AD.getVisType().vt,Ad=J.getDefaultGMThreshold(AW)
	J.addThresholds(AD.model,AD,AD.node,AX,Al,Ad.colors,Ad.ranges,false)
	}}}}else{if(Af){Aq(c.XAxis)
	}else{if((AR.rows||[]).concat(AR.cols||[]).some(function(Aw){return Aw.did===AX.did
	})){if(AI&&AP.exists(AX,"breakByObjects")){}else{if(!AP.colorByObjects.length||(AP.colorByObjects[0].t!==4&&!AP.exists(AX,"colorByObjects"))){if(!Ab(AP)&&!AU){Aq(c.ColorBy)
	}}}}else{if(!AI&&!AP.sliceObjects.length&&r(AP)){Aq(c.SliceBy)
	if(!AP.colorByObjects.length){Aq(c.ColorBy)
	}}else{if((!AP.yAxisObjects.length)&&(!AP.xAxisObjects.length)){if(w(AP)){Aq(c.YAxis)
	}else{Aq(c.XAxis)
	}if(!AI&&!Ap){AC(P(AX)?d.PROP_SHAPE_LINE:d.PROP_SHAPE_BAR)
	}}else{if((AP.yAxisObjects.length)&&(!AP.xAxisObjects.length)){if((AI||Ap)&&AP.yAxisObjects[0].t!==4){Aq(c.Rows)
	}else{if(AP.yAxisObjects[0].t!==4&&(AY(AP)||AA)){Aq(c.Rows)
	}else{Aq(c.XAxis)
	}if(!AI&&!Ap){AC(P(AX)&&AP.yAxisObjects[0]===4?d.PROP_SHAPE_LINE:d.PROP_SHAPE_BAR)
	}}}else{if((!AP.yAxisObjects.length)&&(AP.xAxisObjects.length)){if((AI||Ap)&&AP.xAxisObjects[0].t!==4){Aq(c.Columns)
	}else{if(AP.xAxisObjects[0].t!==4&&(AY(AP)||AA)){Aq(c.Columns)
	}else{Aq(c.YAxis)
	}if(!AI&&!Ap){AC(P(AX)&&AP.xAxisObjects[0]===4?d.PROP_SHAPE_LINE:d.PROP_SHAPE_BAR)
	}}}else{if((AP.xAxisObjects[0].t!==4)&&(AP.yAxisObjects[0].t===4)){if(AI&&!AP.breakByObjects.length){Aq(c.BreakBy)
	}else{if(!AP.colorByObjects.length&&!AI&&!Ab(AP)&&AP.secondaryMetricsDropZone!=="ColorBy"){Aq(c.ColorBy)
	if(!AP.exists(AX,"breakByObjects")){Aq(c.BreakBy)
	}}else{if(AJ(AP)&&!AP.breakByObjects.length&&AP.metricsDropZone!=="BreakBy"){Aq(c.BreakBy)
	if(!AP.exists(AX,"colorByObjects")&&!AB.isMetricZone(c.ColorBy)){Aq(c.ColorBy)
	}}else{Aq(c.Columns)
	}}}}else{if((AP.xAxisObjects[0].t===4)&&(AP.yAxisObjects[0].t!==4)){if((AI||Ap)&&!AP.breakByObjects.length){Aq(c.BreakBy)
	}else{if(!AP.colorByObjects.length&&!AI&&!Ab(AP)&&AP.secondaryMetricsDropZone!=="ColorBy"){Aq(c.ColorBy)
	if(!AP.exists(AX,"breakByObjects")&&AP.metricsDropZone!=="BreakBy"){Aq(c.BreakBy)
	}}else{if(AJ(AP)&&!AP.breakByObjects.length&&AP.metricsDropZone!=="BreakBy"){Aq(c.BreakBy)
	if(!AP.exists(AX,"colorByObjects")&&!AB.isMetricZone(c.ColorBy)){Aq(c.ColorBy)
	}}else{Aq(c.Rows)
	}}}}else{if((AP.xAxisObjects[0].t!==4)&&(AP.yAxisObjects[0].t!==4)){if(w(AP)){Aq(c.Rows)
	}else{Aq(c.Columns)
	}}else{if((AP.xAxisObjects[0].t===4)&&(AP.yAxisObjects[0].t===4)){if((AI||Ap)&&!AP.breakByObjects.length){Aq(c.BreakBy)
	}else{if(!AP.colorByObjects.length&&!AI){Aq(c.ColorBy)
	if(!AP.exists(AX,"breakByObjects")){Aq(c.BreakBy)
	}}else{if(!AP.columnObjects.length&&AP.rowObjects.length&&AP.rowObjects[0].t!==4){Aq(c.Rows)
	}else{Aq(c.Columns)
	}}}}}}}}}}}}}}var Ah=[]
	if(Al.length){if(AS){Aq(c.AdditionalMetrics,AB.getTooltipDropzoneIdx(AX)+1)
	}var Ag=AB.getUpdateTemplateAction(Al)
	var z=AB.docModel,AV=z.controller.view.builder,Am=AV.getLayoutVIMap(z.getCurrentLayoutKey()).getComponent(mstrmojo.vi.models.VIComponentMap.TYPES.FILTER_STACK)
	if(Am&&!mstrApp.isInVFConfigMode){Ag.partialRetrieval.nodes.push(Am.k)
	}Ah.push(Ag)
	}if(Au(AP)||AF(AP)){AK(x(AP))
	}if(AN){Ah.push({act:"setProperty",nodeKey:At.k,prs:"FormattingWidget",pri:4,v:mstrmojo.string.encodeXMLAttribute(AP.getXml(AD))})
	}if(Ah.length){AB.clearCardinalityFlags()
	AB.findLargeItemsForAddUnits([AX])
	}return Ah
	}function E(v,x,w,r){var t,u=true
	function z(AD,AF,AC){var AE=r.getZoneModelByZoneId(AD)
	if(r.getUnitIndexInZone(AE,v)===-1&&(!AC||AC(AE))){var AB=AF?0:AE.items.length
	t=r.getAddItemActions(AE,[v],AB,false,AF?AE.items[AB]:null,x)
	AE.items.push(v)
	return false
	}return true
	}function AA(AB){return AB.items.length===0
	}if(!r.isMetric(v)){u=z(c.ColorBy,false,AA)
	u=u&&z(c.Grouping)
	if(t){r.clearCardinalityFlags()
	r.findLargeItemsForAddUnits([v])
	}}else{u=z(c.SizeBy,false,AA)
	u=u&&z(c.ColorBy,false,AA)
	u=u&&z(c.SizeBy,true,function(AB){return AB.items[0].did===r.getZoneModelByZoneId(c.ColorBy).items[0].did
	})
	u=u&&z(c.AdditionalMetrics,false,function(){return r.getUnitIndexInZone(r.getZoneModelByZoneId(c.SizeBy),v)===-1&&r.getUnitIndexInZone(r.getZoneModelByZoneId(c.ColorBy),v)===-1
	})
	}return t?[r.docModel.getDataService().getUpdateTemplateAction(r.getHost().k,t)]:[]
	}function W(u,w,v,r){var t=null,x=!r.isMetric(u)?[c.FromItem,c.ToItem]:[c.ColorBy,c.ItemSize,c.SizeBy]
	b.forEach(x,function(z){var AA=r.getZoneModelByZoneId(z)
	if(AA.items.length===0){t=r.getAddItemActions(AA,[u],0,w)
	AA.items.push(u)
	return false
	}})
	if(t){r.clearCardinalityFlags()
	r.findLargeItemsForAddUnits([u])
	return[r.docModel.getDataService().getUpdateTemplateAction(r.getHost().k,t)]
	}return[]
	}function e(AB,w,t,AA){var r=null,v=!AA.isMetric(AB)?[c.BreakBy,c.Trend]:[c.Metric],z=AA.getZoneModelByZoneId(c.Trend)
	if(p.isTimeAttr(AB)&&z.items.length===0){r=AA.getAddItemActions(z,[AB],0,w)
	z.items.push(AB)
	}else{for(var u=0
	u<v.length
	u++){var x=AA.getZoneModelByZoneId(v[u])
	if(x.items.length===0){r=AA.getAddItemActions(x,[AB],0,w)
	x.items.push(AB)
	break
	}}}if(r){AA.clearCardinalityFlags()
	AA.findLargeItemsForAddUnits([AB])
	return[AA.docModel.getDataService().getUpdateTemplateAction(AA.getHost().k,r)]
	}return[]
	}function K(u,w,v,r){var t=null,x=!r.isMetric(u)?[c.GeoAttribute,c.Layout]:[c.ColorBy,c.SizeBy,c.AdditionalMetrics]
	b.forEach(x,function(z){var AA=r.getZoneModelByZoneId(z)
	if((z===c.AdditionalMetrics||AA.items.length===0)&&r.isZoneAvalaible(z)){t=r.getAddDropZoneUnitsActions(AA,[u],0,{datasetId:w})
	return false
	}})
	return t?[r.docModel.getDataService().getUpdateTemplateAction(r.getHost().k,t)]:[]
	}function O(AR,AD,Ad,v,u,Af){var AK=Ad.gsi||{},AZ=v.getHost(),w=AZ.fnGetWidget(),Ab=w&&w.scriptClass==="mstrmojo.mapbox.VisMapbox",AW=[],AX=false,AS=v.getZoneModelByZoneId(c.GeoAttribute),AF=v.getZoneModelByZoneId(c.Geometry),AC=v.getZoneModelByZoneId(c.Latitude),AY=v.getZoneModelByZoneId(c.Longitude),AP=v.getZoneModelByZoneId(c.ColorBy),AA=v.getZoneModelByZoneId(c.SizeBy),AI=v.getZoneModelByZoneId(c.Angle),AG=v.getZoneModelByZoneId(c.SliceBy),AV=v.getZoneModelByZoneId(c.AdditionalMetrics),Ac=false,AB=function(Ao,An,Aj,Ap){if(Ao){var Am=v.getCreateDropZonesAction(Aj)
	AW=AW.concat(Am.length?v.getUpdateTemplateAction(Am):[])
	AW.push(v.getUpdateTemplateAction([{act:"addDropZoneUnit",zoneId:Aj,unitId:Ao,unitType:An,datasetId:Ap}]))
	if(Aj===c.ColorBy){var Al=J.getDefaultMapThreshold()
	AW.push(v.getUpdateTemplateAction(J.addThresholds(AZ.model,AZ,AZ.node,AR,undefined,Al.colors,Al.ranges)))
	}}switch(Aj){case c.GeoAttribute:u.geoAttribute=Ao
	break
	case c.Latitude:u.latitude=Ao
	break
	case c.Longitude:u.longitude=Ao
	break
	case c.Geometry:u.geometry=Ao
	break
	case c.SliceBy:if(!u.slice){u.slice=[]
	}u.slice.push(Ao)
	break
	case c.ColorBy:u.colorBy=Ao
	break
	case c.SizeBy:u.sizeBy=Ao
	break
	case c.Angle:u.angle=Ao
	break
	case c.AdditionalMetrics:u.tooltip.push(Ao)
	break
	}var Ak=v.getZoneModelByZoneId(Aj)
	if(Ak&&b.isArray(Ak.items)){Ak.items.push(AR)
	}Ac=true
	},AH=function(Al,Ak,Aj,Am){AB(Al,Ak,Aj,Am)
	if(Ab&&n.shouldSyncItemToTooltipZone(Al,Aj,u&&u.tooltip)){AB(Al,Ak,c.AdditionalMetrics,Am)
	}},AJ=function(Am,Al,Aj){if(Am){AW.push(v.getUpdateTemplateAction([{act:"removeDropZoneUnit",zoneId:Aj,unitId:Am,unitType:Al}]))
	}switch(Aj){case c.geoAttribute:u.geoAttribute=""
	break
	case c.Latitude:u.latitude=""
	break
	case c.Longitude:u.longitude=""
	break
	case c.Geometry:u.geometry=""
	break
	case c.SliceBy:var Ak=u.slice.indexOf(Am)
	if(Ak!==-1){u.slice(Ak,1)
	}break
	case c.Angle:u.angle=""
	break
	case c.ColorBy:u.colorBy=""
	break
	case c.SizeBy:u.sizeBy=""
	break
	case c.AdditionalMetrics:u.tooltip=b.filter(u.tooltip,function(An){return An!==Am
	},{max:u.tooltip.length})
	break
	}},r=function(Aj,Ak){AW.push(v.getUpdateTemplateAction({act:"addForm",unitId:Aj,attFormId:Ak,unitPos:0}))
	}
	u.setWidget(AZ)
	b.forEach((AK.rows||[]).concat(AK.cols||[]),function(Aj){if(Aj.did===AR.did){AX=true
	return false
	}})
	if(AX){return[]
	}switch(AR.t){case Y.METRIC:if(AP&&!AP.items.length){AH(AR.did,AR.t,c.ColorBy,AD)
	}else{if(AA&&!AA.items.length){AH(AR.did,AR.t,c.SizeBy,AD)
	}else{if(AI&&!AI.items.length){AH(AR.did,AR.t,c.Angle,AD)
	}else{if(AV){var t=AR.did
	if(u.colorBy.indexOf(t)<0&&u.sizeBy.indexOf(t)&&u.angle.indexOf(t)&&u.tooltip.indexOf(t)<0){AH(t,AR.t,c.AdditionalMetrics,AD)
	}}}}}break
	default:var Ag=w.edtModel.getEditingPropertyVal(H.graphicType),x=Ag===g.Area,AL=AS?!AS.items.length:true,AO=AC?!AC.items.length:true,AM=AY?!AY.items.length:true,Aa=AF?!AF.items.length:true,AQ=AL&&((!x&&AO&&AM)||(x&&Aa)),Ai=n.getGeoForm(AR,function(Aj){return n.isGeoRoleSupportArea(Aj.fgr)
	}),AT=n.getLatitudeForm(AR),AN=n.getLongitudeForm(AR),AE=n.getGeometryForm(AR),Ae=function(){var Aj=u.vp,Al=u.tooltip
	if(!n.canShowSizeByZone(Aj)&&u.sizeBy&&Al.indexOf(u.sizeBy)<0){AH(u.sizeBy,4,c.AdditionalMetrics)
	AJ(u.sizeBy,4,c.SizeBy)
	}if(!n.canShowColorByZone(Aj)&&u.colorBy&&Al.indexOf(u.colorBy)<0){AH(u.colorBy,4,c.AdditionalMetrics)
	AJ(u.colorBy,4,c.ColorBy)
	}if(!n.showAngleZone(Aj)&&u.angle&&Al.indexOf(u.angle)<0){AH(u.angle,4,c.AdditionalMetrics)
	AJ(u.angle,4,c.Angle)
	}if(!n.showSliceZone(Aj)&&u.slice&&u.slice.length>0){var Ak=u.slice
	b.forEach(Ak,function(Am){AH(Am,12,c.AdditionalMetrics)
	AJ(Am,12,c.SizeBy)
	})
	}}
	if(Ab&&AQ&&AE){u.setMapType(g.Area)
	u.setShapeFile(F)
	if(Ai){AH(AR.did,AR.t,c.GeoAttribute,AD)
	r(AR.did,AE.fid)
	AH(AE.fid,21,c.Geometry,AD)
	u.setUseAttributeForm(true)
	}else{AH(AR.did,AR.t,c.Geometry,AD)
	r(AR.did,AE.fid)
	u.setUseAttributeForm(false)
	}u.setBorderStyle(B.BORDER_STYLE)
	}else{if(AQ&&Ai&&!(!x&&(AT||AN))){u.setMapType(g.Area)
	if(Ab){u.setBorderStyle(B.BORDER_STYLE)
	}u.setUseAttributeForm(false)
	AH(AR.did,AR.t,c.GeoAttribute,AD)
	r(AR.did,Ai.fid)
	}else{var AU=(Af&&AR.card>500)?g.Density:(!x?Ag:g.Marker)
	if(AT&&AN&&AQ){AH(AR.did,AR.t,c.GeoAttribute,AD)
	u.setMapType(AU)
	if(Ab&&AU===g.Marker&&x){u.setBorderStyle(B.BORDER_STYLE_CIRCLE)
	}u.setUseAttributeForm(true)
	r(AR.did,AT.fid)
	r(AR.did,AN.fid)
	AH(AT.fid,21,c.Latitude,AD)
	AH(AN.fid,21,c.Longitude,AD)
	}else{if((AT||n.isLatitude(AR.n))&&(!AN&&!n.isLongitude(AR.n))&&AL&&AO){AH(AR.did,AR.t,c.Latitude,AD)
	u.setMapType(AU)
	u.setUseAttributeForm(false)
	}else{if((!AT&&!n.isLatitude(AR.n))&&(AN||n.isLongitude(AR.n))&&AL&&AM){AH(AR.did,AR.t,c.Longitude,AD)
	u.setMapType(AU)
	u.setUseAttributeForm(false)
	}else{if(!AT&&!AN&&!Ai&&AG){AH(AR.did,AR.t,c.SliceBy,AD)
	}else{if(u.tooltip.indexOf(AR.did)<0){AH(AR.did,AR.t,c.AdditionalMetrics,AD)
	}}}}}}}if(Ac){Ae()
	}break
	}if(Ac){AW.push({act:"setProperty",nodeKey:Ad.k,prs:"FormattingWidget",pri:4,v:mstrmojo.string.encodeXMLAttribute(u.getXml())})
	}if(AW.length){var z=Ad.visName,Ag=u.getMapType(),Ah=u.getLayerName()
	v.addAttributeNameAndTargetVisForAddUnits(Ad,[AR],z,Ag,Ah)
	v.clearCardinalityFlags()
	v.findLargeItemsForAddUnits([AR])
	}return AW
	}function S(AB,z,x,v,AC,u){var AA,r,w,t
	AA=!!b.filterOne(v,function(AD){return AD.t!==Y.METRIC
	})
	r=!!b.filterOne(AC,function(AD){return AD.t!==Y.METRIC
	})
	w=!!b.filterOne(AC,function(AD){return AD.did==="-1"
	})
	if(AB.t===Y.METRIC){t=f.Columns
	if(u.length===0){if(!r&&AA){t=f.Rows
	z.findEstimatedTotalRow([AB],t)
	}else{x+=v.length
	}}else{if(w){z.findEstimatedTotalRow([AB],f.Rows)
	}}x+=u.length
	}else{if(AA&&!r){t=f.Columns
	x+=v.length
	z.findLargeItemsForAddUnits([AB])
	z.findTotalColumnCount([AB],null)
	}else{t=f.Rows
	x+=AC.length
	z.findEstimatedTotalRow([AB],t)
	}}return{axis:t,idx:x}
	}function h(x,u,t,w,v){var r=x?(x.rows||[]).concat(x.cols||[]).concat(x.mx||[]):[]
	if(u&&(v.length||mstrmojo.array.find(r,"did",t.did)!==-1)){v.push({act:"editNode",nodeKey:w,datasetId:u})
	}}function j(AR,AC,AY,AH,AE){var AX=AH.getHost(),AB=AX.model,AL=AH.activeTemplateSet,AK=AL,AS=AX.gridData.gsi,AJ=AE||0,z,r,AG,AI,AN,AT,AQ,v,AP,w,AU,u=AR.t===Y.METRIC,x=true,AA=-1,AV=false,AW,t,AD=function(AZ){return !o.hasMicrocharts(AZ)
	},AF=[]
	for(var AO=AS.length-1
	AO>=0
	AO--){var AM=AS[AO]
	if(AD(AM)){AA=AO
	break
	}}AV=AK===-1||AA===-1
	if(AK===-1){AK=AA
	}z=m.getGSI(AS,AK)||{}
	r=z.k
	x=AD(z)
	if(!x){AV=true
	}AG=z.rows||[]
	AI=z.cols||[]
	AN=z.mx||[]
	AT=x&&b.find(AG.concat(AI).concat(AN),"did",AR.did)>-1
	AH.clearCardinalityFlags()
	if(!AT&&!AB.hasSameRecursiveAttributeGroup(AR)){AQ=S(AR,AH,AJ,AI,AG,AN)
	v=AQ.axis
	AJ=AQ.idx
	AP=b.find(AG,"did",L)
	AU=AP>-1
	AP=AU?AP:b.find(AI,"did",L)
	if(u&&AU){AJ=AP+AN.length
	v=f.Rows
	}else{if(AR.t===Y.ATTR){v=f.Rows
	}}if(v===f.Rows){m.forEachGSI(AS,function(AZ,Aa){AF.push(AH.getUpdateTemplateAction(AH.getAddAction(AX,AR,v,AC,AJ,AK,false),Aa))
	})
	}else{if(v===f.Columns){if(u){if(AP>0){AJ++
	}}else{w=b.findLast(AI,"t",Y.ATTR)
	if(w>-1){AJ=w+1
	}else{AJ=0
	}}if(AV){AW=AH.getAddColumnSetAction()
	AF.push.apply(AF,AW)
	AK=AS.length
	r=b.filterOne(AW,function(AZ){return AZ.act==="copyUnit"
	}).newKey
	AH.activeTemplateSet=AK
	}t=AH.getAddAction(AX,AR,v,AC,AJ,AK,false)
	if(u&&AV){t.push(AX.model.getValuesDefaultFormatGridZoneAction([AR],true,r,true))
	}AF.push(AH.getUpdateTemplateAction(t,r))
	}}}if(!AY.dataSourceState&&!z.datasetId){h(z,AC,AR,z.k,AF)
	}return AF
	}function A(AF,x,w,AE,r){var AD=AE.getHost(),AH=AD.model,AC=w.gsi||{},AG=AC.rows||[],AA=AC.cols||[],z=AC.mx||[],v=[],t,AB=r||0,u
	if(AD.hasArrayGSI){return j(AF,x,w,AE,r)
	}AE.clearCardinalityFlags()
	if(b.find(AG.concat(AA).concat(z),"did",AF.did)===-1&&!AH.hasSameRecursiveAttributeGroup(AF)){u=S(AF,AE,AB,AA,AG,z)
	t=u.axis
	AB=u.idx
	v.push({act:"updateTemplate",keyContext:w.k,actions:[AH.getAddTemplateUnitAction(AF,x,t,AB)]})
	}return v
	}var I=function(t,v,u,r){var x=[]
	var w=r.getActionsForDoubleClick(t,v)
	if(b.isArray(w)&&w.length>0){x.push(r.getUpdateTemplateAction(w))
	}return x
	}
	mstrmojo.vi.models.DatasetDoubleClick=mstrmojo.provide("mstrmojo.vi.models.DatasetDoubleClick",{addObject:function(AB,v,z,r){var u=R(z),t=[],x=z.getHost()
	if(!AB||!u){return t
	}var AC=u.visName||"Grid"
	switch(X.getDefinition(AC).id){case X.GRAPHMATRIX:case X.NEWGRAPHMATRIX:t=G(AB,v,u,z)
	break
	case X.ESRIMAP:case X.GOOGLEMAP:t=O(AB,v,u,z,new C.MapHelper({data:u}),true)
	break
	case X.MAPBOX:t=O(AB,v,u,z,new C.MapHelper({data:u}),false)
	break
	case X.HEATMAP:t=E(AB,v,u,z)
	break
	case X.NETWORK:t=W(AB,v,u,z)
	break
	case X.KPICARD:t=e(AB,v,u,z)
	break
	case X.IMAGELAYOUT:t=K(AB,v,u,z)
	break
	case X.CUSTOM:if(z.getCustomDropZones&&z.getCustomDropZones()){t=I(AB,v,u,z)
	}else{t=A(AB,v,u,z,r)
	}break
	default:t=A(AB,v,u,z,r)
	break
	}if(!u.dataSourceState&&!u.datasetId){var AA=z.getHost()
	if(!AA.hasArrayGSI){var w=AA.model.data.gsi
	h(w,v,AB,x.k,t)
	}}return t
	},getExtras:function U(t){var r=t.getHost(),u=r.scriptClass
	if(u==="mstrmojo.vi.ui.rw.MultiXtab"||u==="mstrmojo.ag.AgXtab"){return{style:{params:{treesToRender:k.BOTH}}}
	}return{style:{params:{treesToRender:k.DATA}}}
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.array","mstrmojo.hash","mstrmojo.func","mstrmojo.vi.ui.DatasetUnitMenuUtils","mstrmojo.vi.models.EnumDragSources","mstrmojo.vi.viz.EnumVisualizationTemplates","mstrmojo.chart.model.enums.EnumDSSObjectType","mstrmojo.vi.models.DatasetDoubleClick","mstrmojo.vi.models._CheckDataCards","mstrmojo.vi.util.TemplateUtils")
	var Z=mstrmojo.hash,q=mstrmojo.array,AI=mstrmojo.func,g=mstrmojo.vi.util.TemplateUtils,AB=mstrmojo.vi.ui.DatasetUnitMenuUtils,d="00000000000000000000000000000000",r=mstrmojo.vi.models.EnumDragSources,c=mstrmojo.chart.model.enums.EnumDSSObjectType,k=mstrmojo.vi.enums.EnumFeatures,J=mstrmojo.vi.viz.EnumVisualizationTemplates,e=mstrmojo.vi.viz.EnumDSSDropZones
	var f={ABOVE:0,ON:1,BELOW:2}
	mstrmojo.vi.models.DropZoneItemType=null
	mstrmojo.vi.models.DropZoneType=null
	mstrmojo.vi.models.DropZonesEditorConfigType=null
	function L(AR,AN,AP,AS,AV,AQ,AT,AU){var AO={act:AR,zoneId:AN,unitId:AP,unitType:AS}
	if(AV!==undefined){AO.unitPos=AV+1
	}if(AU!==undefined){AO.is_disableonly=AU
	}if(AQ){AO.datasetId=String(AQ)
	AO.datasetType=String(AT)
	}return AO
	}function S(AN){return function(AO){var AP=[{t:AN,did:NaN}]
	return !!this.getAllowDropInfo(AO,AP,AO.items.length-1,f.BELOW,{src:{data:{src:r.DATASETS}}}).allowedItems.length
	}
	}function I(AS,AU){var AR=this.getZoneModelByZoneId(e.XAxis).items,AW=this.getZoneModelByZoneId(e.YAxis).items,AT
	if(AR.length&&this.isMetric(AR[0])){AT=false
	}else{if(AW.length&&this.isMetric(AW[0])){AT=true
	}else{if(AR.length&&!AW.length){AT=true
	}else{if(!AR.length&&AW.length){AT=false
	}else{AT=AU.isBar?AU.isVerticalBarVis(AU.getVisType()):true
	}}}}var AX,AN=AT?AR:AW,AP=AT?AW:AR,AO=[],AQ=[],AV=[]
	while(AS.length){AX=AS.shift()
	if(this.isMetric(AX)){AQ.push(AX)
	}else{AO.push(AX)
	}}if(AO.length&&!AN.length){AV.push(AO.shift())
	}if(AQ.length&&!AP.length){AV.push(AQ.shift())
	}return AV.concat(AO).concat(AQ)
	}function b(AO){var AN=[],AQ=false,AP=this
	q.forEach(AO,function(AR){if(AP.isMetric(AR)&&!AQ){AN.push(AR)
	AQ=true
	}else{if(!AP.isMetric(AR)){AN.push(AR)
	}}})
	return AN
	}mstrmojo.vi.models.DropZonesModel=mstrmojo.declare(mstrmojo.Obj,[mstrmojo.vi.models._CheckDataCards],{scriptClass:"mstrmojo.vi.models.DropZonesModel",hostId:"",docModel:null,getDropZones:mstrmojo.emptyFn,postAddActions:mstrmojo.emptyFn,getDZFlatStruct:function N(){var AQ=this.getHost().model.data,AR=AQ.gsi||{},AN=(AR.rows||[]).concat(AR.cols||[]),AP={},AO={}
	AN.forEach(function(AS){if(AS.hasOwnProperty("st")&&AS.hasOwnProperty("did")){AP[AS.did]=AS.st
	}})
	if(AQ.dz){Object.keys(AQ.dz).forEach(function(AW){var AS=AQ.dz[AW],AT=AS.TemplateUnit||[],AV=AS.TemplateMetric||[],AU=AT.concat(AV)
	AU.forEach(function(AX){var AY=AX.id
	if(AX.st===undefined&&AP.hasOwnProperty(AY)){AX.st=AP[AY]
	}})
	if(AT.length>0&&AV.length>0){AU.sort(function(AY,AX){return AY.idx-AX.idx
	})
	}AO[AW]=AU
	})
	}return AO
	},getAvatarIconClass:function j(){throw new Error(this.scriptClass+" must implement getAvatarIconClass method.")
	},canSwapAxis:function AA(){return false
	},swapAxis:function A(){if(this.canSwapAxis()){throw new Error(this.scriptClass+" must implement swapAxis method if this.canSwapAxis returns true.")
	}},canDefineSubtotals:function(){var AN=this.getHost()
	if(AN&&AN.GMController&&AN.GMController.isWaterfall){return true
	}return false
	},hasVisibleSubtotals:function p(){var AN=this.getHost()
	return AN.getWidgetPropertyValue("totalShw")
	},showQuickSubtotals:function K(){var AN=this.getHost()
	AN.writeGlobalProperty("totalShw",true)
	},hideDefinedSubtotals:function AH(){var AN=this.getHost()
	AN.writeGlobalProperty("totalShw",false)
	},getZoneMenuItems:function AD(AO,AN){},getUnitMenuItems:function u(AO,AN,AQ,AP){},getMultiUnitsMenuItems:function o(AO,AN,AP){var AQ=this.id
	if(!mstrApp.isInVFConfigMode&&AB.getMultiSelectionShortcutMetricFunctions(AP).length&&mstrmojo.resolveFeature(k.INSERT_NEW_METRIC)){AO.addSubMenuItem(mstrmojo.desc(5188,"Calculation"),"",this.id,function(){return mstrmojo.all[AQ].getMultipleMetricsCalcMenus(AN,AP,true)
	})
	}AO.addMenuItem(mstrmojo.desc(190,"Remove"),"xt",function(){mstrmojo.all[AQ].deleteItems(AN,AP)
	})
	},deleteItem:function M(AO,AN){this.throwAbstractMethodError("deleteItem")
	},deleteItems:function M(AN,AO){this.throwAbstractMethodError("deleteItems")
	},addZoneItem:function n(AQ,AR){AQ.t=AQ.t||4
	if(AQ.did===undefined){AQ.did=AQ.id
	}var AP=this.getHost(),AU=Z.walk("model.data.gsi",AP),AN=AU&&g.findUnitsById(AU,AQ.did)[0]
	if(AN){Z.copyProps(["n","um"],AN,AQ)
	}var AO=this.docModel.datasets,AT=false,AS=AQ.t===4?"mx":"att"
	Object.keys(AO).every(function(AV){(AO[AV][AS]||[]).every(function(AX){if(AX.did===AQ.did){AT=true
	var AY,AW=AX.n
	for(AY in AX){if(!AQ.hasOwnProperty(AY)){AQ[AY]=AX[AY]
	}}if(AW!==AQ.n){AQ.objectNameinDataset=AW
	}}return !AT
	})
	return !AT
	})
	AR.push(AQ)
	},getZone:function AC(AS,AR,AQ,AN,AO){var AP=[]
	(AQ||[]).forEach(function(AT){this.addZoneItem(Z.copy(AT),AP,AO)
	},this)
	return{n:AS,id:AR,enabled:!AN,cssClass:(AO&&AO.allowSingle)?"singleUnitZone":"",getDropIconCls:function(){return"pivot"
	},title:(AO&&AO.title)||"",items:AP}
	},getZoneForObject:function X(AO){var AN=null
	this.getDropZones().zones.every(function(AP){if(q.find(AP.items,"did",AO)>-1){AN=AP
	return false
	}return true
	})
	return AN
	},getUnitIndexInZone:function z(AN,AO){return q.find(AN.items,"did",AO.did)
	},isZoneDropAllowed:function a(AN){if(!AN.enabled){return false
	}return true
	},getAllowDropInfo:function C(AO,AP,AN,AQ){return{allowedItems:AP.concat(),removeReplaced:AQ===f.ON&&AO&&AO.items&&AO.items[AN]&&q.find(AP,"did",AO.items[AN].did)===-1}
	},getTargetEdgePortion:function U(AN){return 0.33
	},allowInsertNewMetric:function(AN){return AN.id!==e.SizeBy&&S(4).call(this,AN)
	},allowInsertNewAttribute:S(12),unitsDropped:function AJ(AN,AO,AP,AR,AQ){if(this.unitDropped!==mstrmojo.vi.models.DropZonesModel.prototype.unitDropped){return this.unitDropped(AN,AO,AP.idx,AP.edge,AR,AQ)
	}this.throwAbstractMethodError("unitsDropped")
	},getHost:function l(){return mstrmojo.all[this.hostId]
	},getHostModel:function B(){this.throwAbstractMethodError("getHostModel")
	},shouldMetricNameShowIcon:function AM(){return true
	},addUnitsFromDataSource:function H(Aa,AW,AY,Ac){var Ah=this,Ae=Ah.docModel,Ab=Ae.controller,Ai=this.getHost(),Ag=Ai&&Ai.GMController,AN=Ag&&Ag.isBar,Ad=Ag&&Ag.isHistogram,Af=Ag&&Ag.isArea,AZ=Ag&&Ag.isLine,AO=Ag&&Ag.getVisType()===J.GRAPHCOMBINATIONBARAREADUALAXIS,AU,AT
	if(AN||Af||AZ||AO){Aa=I.call(this,Aa,Ag)
	}if(Ad){Aa=b.call(this,Aa)
	}AY=AY||[]
	var AR=false,AX=[],AQ,AV=mstrmojo.vi.models.DatasetDoubleClick.getExtras(this)
	[].concat(Aa).forEach(function(Ak,Aj){AQ=this.isMetric(Ak)
	AR=AQ||AR
	AU=mstrmojo.vi.models.DatasetDoubleClick.addObject(Ak,AW,this,Aj)
	AT=AU&&Z.walk("0.actions",AU)
	AY=AY.concat(AU)
	if(AQ){AX.push(Ak)
	}},this)
	if(AY&&AY.length){if(AR&&AT){AT.push(Ai.model.getValuesDefaultFormatGridZoneAction(AX,true))
	}var AS=Ab._getXtabCallback(this.getHost())
	if(Ac){AS=AI.wrapMethods(Ac,AS)
	}var AP=function(){Ae.checkAndNotifyVFChangeOnDZUnitsUpdate({actions:AY,zm:Ah},function(){AY=Ae.wrapUnsetVisualizationFilterAction(AY)
	return Ab.submitUndoRedoUpdates(AY,{},AS,AV)
	},function(){return Ab.submitUndoRedoUpdates(AY,{},AS,AV)
	})
	}
	if(this.existLargeOrManyItems()){this.warnAndExecCallBackForAddUnits(function(){AP()
	})
	return 
	}if(this.getHost().isOutlineMode){this.warnAndExecCallBackForOutlineAddUnits(function(){AP()
	})
	return 
	}AP()
	}},changeZoneUnits:function x(AO,AN,AP){},getZoneAddCandidates:function h(AN){return[]
	},getRequiredItemsInfo:function t(AO){if(!AO){return 0
	}var AN=[]
	this.getDropZones().zones.forEach(function(AP){AN=AN.concat(AP.items)
	})
	return Number(AN.reduce(function(AP,AQ){if(parseInt(AQ.did,10)!==-1&&AQ.t===AO){return AP+1
	}return AP
	},0))
	},getUpdateCallback:function Y(){var AN=this.id
	return{success:function(){var AR=mstrmojo.all[AN]
	if(!AR){return 
	}var AT=AR.getHost()
	if(!AT){return 
	}var AS=mstrmojo.all.visualizationFilterToolbar,AQ=AR.docModel,AV,AP,AU,AO
	if(mstrApp.isInVFConfigMode){AV=AT.zonesModel
	AT.parent.selectVIUnit(true)
	AO=AV&&AV.isTemplateContainAttCategoryItem()
	mstrApp.isEnableSaveBtn=AO
	AS.toggleSaveBtn(AO)
	}else{if(AT.isAMSelector&&AT.isAMSelector()){AP=AT.k
	}else{AP=AT.parent&&AT.parent.k
	}AU=AQ.getPanel().getUnitByKey(AP)
	if(AU){AU.selectVIUnit(true)
	}}}}
	},getUpdateTemplateAction:function R(AN,AO){return this.docModel.getDataService().getUpdateTemplateAction(AO||this.getHost().k,AN)
	},getReplaceCandidates:function Q(AQ,AV){var AR=[],AP=AV.t,AN=AV.did,AO=this.getHostModel().datasetId,AT=AQ.id===e.AdditionalMetrics,AU=this.getHost(),AS=AU.getChartStyle&&AU.getChartStyle()==="NewGraphMatrixVisualizationStyle"
	this.getDropZones().zones.forEach(function(AW){((AW&&AW.items)||[]).forEach(function(AY){var AZ=AY.t,AX=AY.did
	if(AZ!=undefined&&AX!=undefined&&AZ!==21&&AX!=="-1"&&AX!==d&&((AZ===4&&AP===4)||(AZ!==4&&AP!==4))&&AX!==AN&&q.find(AR,"did",AX)===-1){AR.push(AY)
	}})
	})
	if(!AS||!AT){if(AO){this.docModel.getDatasetUnits(AP===4?["mx"]:["att"],null,AO).forEach(function(AW){if(q.find(AR,"did",AW.did)===-1&&AW.did!==AN&&!AW.hide&&!AU.model.hasSameRecursiveAttributeGroup(AW,AU.gridData,AV)){AR.push(AW)
	}})
	}}return AB.getSortedDatasetUnits(AR)
	},getDropTargetIndex:function E(AO,AQ){var AN=AQ.idx,AP=(AQ.edge===f.ON&&!AQ.removeReplaced)?f.BELOW:AQ.edge,AS=AN,AR=this,AT={}
	AQ.allowedItems.forEach(function(AV){var AU=AR.getUnitIndexInZone(AO,AV)
	if(AU!==-1){AT[AU]=AV
	}})
	Z.forEach(AT,function(AV,AW){var AU=parseInt(AW,10)
	if(AU<AN){AS--
	}else{if(AU===AN){AP=f.ON
	}}})
	return AP===f.BELOW?(AS+1):AS
	},getAddDropZoneUnitAction:function w(AO,AQ,AN,AP){return L("addDropZoneUnit",AO.id,AQ.did,AQ.t,AN,AP&&AP.datasetId,(AP&&AP.datasetType)||c.DssTypeReportDefinition)
	},getAddDropZoneUnitsActions:function AL(AO,AP,AN,AQ){return AP.reverse().map(function(AR){return L("addDropZoneUnit",AO.id,AR.did,AR.t,AN,AQ&&AQ.datasetId,(AQ&&AQ.datasetType)||c.DssTypeReportDefinition)
	})
	},getRemoveThresholdsActions:function P(AN,AP){var AU=AP.id||AP.did
	var AQ=this.getHostModel(),AT=AQ&&AQ.gsi,AR=AT&&AT.thresholds&&AT.thresholds[AU]||[],AS=[]
	for(var AO=AR.length-1
	AO>=0
	AO--){AS.push({act:"clearThreshold",unitId:AU,unitType:AP.t,tid:AR[AO].tid})
	}return AS
	},getRemoveDropZoneUnitActions:function G(AN,AQ,AR){if(AR===undefined||AR===null){AR=1
	}var AS=[]
	var AP=this.getHost(),AO=AP.isCustomVis
	if(AN.id===e.ColorBy&&this.isMetric(AQ)&&!AO){AS=this.getRemoveThresholdsActions(AN,AQ)
	}if(AQ){AS.push(L("removeDropZoneUnit",AN.id,AQ.did,AQ.t,undefined,undefined,undefined,AR))
	}return AS
	},checkAndAddThresholdAction:function AG(AP,AN,AO){return false
	},getAllZones:function(){return this.getDropZones().zones||[]
	},getClearAllUnitsActions:function W(){var AN=[]
	(this.getAllZones()).forEach(function(AO){((AO&&AO.items)||[]).forEach(function(AP){Array.prototype.push.apply(AN,this.getRemoveDropZoneUnitActions(AO,AP))
	},this)
	},this)
	return AN
	},getClearAllUnitsUnTemplateActions:function m(){return[]
	},clearAllDropZones:function AF(AR){var AO=this.docModel,AQ=this,AN=AQ.getAllZones().filter(function(AT){return AT&&AT.items&&AT.items.length
	}).map(function(AT){return AT.id
	}),AP=function(){AR=AR||{actions:[]}
	AR.actions=AO.wrapUnsetVisualizationFilterAction(AR.actions)
	AQ.clearAllDropZonesDeferred(AR)
	},AS=function(){AQ.clearAllDropZonesDeferred(AR)
	}
	return AO&&AO.checkAndNotifyVFChangeOnClearAll({zm:AQ,ca:AN,cmb:true},AP,AS)
	},postClearAllFn:mstrmojo.emptyFn,clearAllDropZonesDeferred:function D(AW){var Aa=this,AP=this.getClearAllUnitsActions(),AR=this.getClearAllUnitsUnTemplateActions(),AZ=this.getHost(),AU=AZ.id,AQ=AZ.gridData||AZ.model.data||AZ.node.data,AT=AQ.vlexpr,AY=this.docModel,AO=AZ.model,AS=AY.controller,AV=AI.wrapMethods({success:function(){var Ab=mstrmojo.all[AU]
	if(Ab._viSelections){Ab.clearSelections()
	Ab.endSelections()
	}}},AS._getXtabCallback(AZ),{success:function AX(){var Ab=mstrmojo.all[AU]
	Ab.raiseEvent({name:"regenerateToolbar"})
	if(Aa.postClearAllFn){Aa.postClearAllFn()
	}}}),AN=AO.getKeepOnlyActionsForAssociatedNodes([],AV)
	if(AT){AN.actions.push(AS.dataService().getUpdateTemplateAction(AZ.k,AO.getRemoveMetricLimitsAction(AT)))
	}if(AW){AW.actions=[].concat(AW.actions).concat(AN.actions)
	AW.callback=AI.wrapMethods(AW.callback,AN.callback)
	}else{AW=AN
	}if(AR&&AR.length>0){AW.actions=AW.actions.concat(AR)
	}this.submitDropZoneTemplateUpdates(AP,AW)
	},getUngroupAddActions:function AE(AO,AR,AN){var AQ=this.getHost(),AP=AQ.model,AS=[Z.copy({isUngroup:1,deId:AR.did},AP.getAddTemplateUnitAction(AN,AR.dsId,AO.id,q.find(AO.items,"did",AR.did)))]
	return[this.getUpdateTemplateAction(AS)]
	},submitDropZoneUpdates:function v(AT,AU,AP){var AR=this.getHost(),AO=this.docModel,AN=AO.controller,AQ=[].concat(AT||[])
	if(AQ&&AQ.length){var AS=AU||AN._getXtabCallback(AR)
	AN.cmdMgr.execute({execute:function(){this.submit(AQ,AS,AP)
	},urInfo:{callback:AS}})
	}},submitDropZoneTemplateUpdates:function F(AN,AP){var AO=(AN&&AN.length)?[this.getUpdateTemplateAction(AN)]:[]
	if(AP&&AP.actions){AO=AO.concat(AP.actions)
	}this.submitDropZoneUpdates(AO,AP&&AP.callback,AP&&AP.extras)
	},getHighlightTargets:function AK(AO,AN){return[AN]
	},getHostKey:function O(){var AN=this.getHost()
	return AN.k
	}})
	mstrmojo.vi.models.DropZonesModel.ENUM_TARGET_POSITION=f
	mstrmojo.vi.models.DropZonesModel.ENUM_REQUIREMENT_TYPE={ATTRIBUTE:12,METRIC:4,LONGITUDE:"long",LATITUDE:"lat"}
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.XtabBase","mstrmojo._Formattable","mstrmojo._IsSelectorTarget","mstrmojo._IsDocXtab","mstrmojo._XtabSelections","mstrmojo._XtabCellHoverMgr","mstrmojo.XtabCellHoverPopup","mstrmojo._HasPopup","mstrmojo._HasContextualLink","mstrmojo.dom","mstrmojo.array","mstrmojo.vi.ui.rw._SupportTabNav","mstrmojo.vi.ui.rw.CustomSortDisplayPanel","mstrmojo.mstr.EnumWebAPIErrorCodes","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.mstr.EnumDSSXMLObjectSubTypes")
	var c=0,A=1,AD=2,M=3,n="overflow:auto",k="overflow:hidden",Q=mstrmojo.dom,Y=Q.position,m=mstrmojo.array,AC="mstrmojo.DocPanelStack",AG="px",I=mstrmojo.DocDataService.SUPPRESS_DATA,v=mstrmojo.models.template.DataInterface,N=v.ENUM_GRID_RESIZE,AB=N.FIXED,J=Q.isIOSTouch,D=mstrmojo.css
	var o=function P(AI,AJ){var AK=AI&&AI.parent
	while(AK&&AK.scriptClass!==AC){if(AK.scriptClass===AJ){return AK
	}AK=AK.parent
	}return AK
	}
	function x(){var AO=36
	var AJ=this.model.docModel.getPanel(),AL=AJ.containerNode,AK=Y(AL),AI=mstrApp.rootCtrl.view.toolbar,AP=Y(AI.domNode)
	var AN={}
	AN.x=AK.x
	AN.w=AK.w
	AN.y=(AP.y+AP.h)-AO
	AN.h=(AK.y+AK.h)-AN.y
	var AM=AK.y-(AP.y+AP.h)
	return{csPanelPos:AN,spacerHeight:AM}
	}function F(){var AI=window.event,AJ=AI.target,AP=AI.keyCode
	var AO=Q.findWidget(this),AR=AO&&AO.zone.tableNode.rows
	if(AJ.getAttribute("role")==="grid"&&(AI.keyCode===37||AI.keyCode===38||AI.keyCode===39||AI.keyCode===40)){var AQ=AO.getCellFromTableToBeFocussed(AJ.rows[0].cells[0],AO)
	AQ.focus()
	D.addClass(AQ,"xtabCellFocus")
	AI.preventDefault()
	}else{if(AJ.tagName==="TD"||AJ.tagName==="TABLE"){var AQ,AM=AJ.parentElement.rowIndex
	switch(AP){case 37:case 39:var AN=AP===37
	AQ=r.call(this,AR,AM,AJ,AN,AO)
	AI.preventDefault()
	break
	case 38:case 40:var AL=AP===40
	AQ=S.call(this,AR,AM,AJ,AL,AO)
	AI.preventDefault()
	break
	case 121:if(AI.shiftKey&&AO&&AO.cellHoverMgr&&AO.cellHoverMgr.oncontextmenu){AO.cellHoverMgr.oncontextmenu(AI,self,AJ)
	}break
	case 13:var AK=AJ.firstChild
	if(AK.tagName==="A"&&AI.altKey){window.open(AK.getAttribute("href"),"_blank")
	}else{E.call(this,AJ,AO)
	}break
	}if(AQ){window.setTimeout(function(){AQ.focus()
	D.removeClass(AJ,"xtabCellFocus")
	D.addClass(AQ,"xtabCellFocus")
	},100)
	}}}}function r(AN,AM,AL,AO,AI){var AK=AO?AL.previousElementSibling:AL.nextElementSibling,AJ=AO?AN[AM-1]:AN[AM+AL.rowSpan]
	if(AK===null&&AJ){AK=AO?AJ.lastChild:AJ.firstChild
	}if(AK){return AI.getCellFromTableToBeFocussed(AK,AI)
	}}function E(AK,AI){var AJ=Q.findAncestorByName(AK,"table",false)
	if(AJ){AI.handleSelection(event,AJ,AK)
	}}function S(AQ,AZ,AM,AN,AL){var AU=AN?AQ[AZ+AM.rowSpan]:AQ[AZ-1],AX=AM.parentElement,AR=AX.childElementCount,AV=AM.cellIndex,AJ,AW
	var AP=[],AY=[],AT=[],AS=[],AO=0,AK=0,AI=0
	for(AW=0
	AW<AR
	AW++){AP[AW]=AX.childNodes[AW].colSpan
	AO=AO+AP[AW]
	if(AW===0){AT[0]=AP[0]
	}else{AT[AW]=AT[AW-1]+AP[AW]
	}}if(AU){AJ=AU.childElementCount
	for(AW=0
	AW<AJ
	AW++){AY[AW]=AU.childNodes[AW].colSpan
	AK=AK+AY[AW]
	if(AW===0){AS[0]=AY[0]
	}else{AS[AW]=AS[AW-1]+AY[AW]
	}}}AI=AT[AV]-AP[AV]
	if(AO<AK){AV=AI+(AK-AO)
	}else{if(AO>AK){AV=AI-(AO-AK)
	}else{AV=AI
	}}for(AW=0
	AW<AS.length
	AW++){if((AS[AW]-AY[AW])<=AV&&AV<(AS[AW])){AV=AW
	break
	}}if(AV<0&&AZ>0){AZ=AZ-1
	return S.call(this,AQ,AZ,AM,AN,AL)
	}else{if(AZ>0||AN){return AL.getCellFromTableToBeFocussed(AU.cells[AV],AL)
	}}}function U(){var AJ=false,AK=this.gridData,AL=(AK&&AK.olm&&!(AK.rw&&AK.rw.row.bc>0)&&!this.defn.txi),AI=this.defn.txi,AM=false
	if(this.model.hasRecursiveAttribute){AM=this.model.hasRecursiveAttribute(AK)
	}if(mstrApp.isDossier&&mstrApp.enableGridAccessibility&&mstrApp.isVI&&!AL&&!AM&&!AI&&!J){AJ=true
	}return AJ
	}function j(AM){var AJ=this,AI=AJ.clonedColHeader&&AJ.clonedColHeader.isRendered()&&AJ.clonedColHeader.getTableNode(),AK=AJ.clonedRowHeader&&AJ.clonedRowHeader.isRendered()&&AJ.clonedRowHeader.getTableNode(),AL=AJ.clonedTitle&&AJ.clonedTitle.isRendered()&&AJ.clonedTitle.getTableNode()
	if(AI){D.toggleClass(AI,"displayBorder",AM)
	}if(AK){D.toggleClass(AK,"displayBorder",AM)
	}if(AL){D.toggleClass(AL,"displayBorder",AM)
	}}mstrmojo.Xtab=mstrmojo.declare(mstrmojo.XtabBase,[mstrmojo._Formattable,mstrmojo._IsSelectorTarget,mstrmojo._IsDocXtab,mstrmojo._XtabSelections,mstrmojo._HasContextualLink,mstrmojo._HasPopup,mstrmojo.vi.ui.rw._SupportTabNav,],{scriptClass:"mstrmojo.Xtab",cellHoverMgr:"mstrmojo._XtabCellHoverMgr",cellHoverPopupRef:"mstrmojo.XtabCellHoverPopup",preBuildRendering:function B(){var AK=this._super()
	var AJ=this.gridData
	var AI=this.lockHeadersCase===c&&AJ.co
	this.scrollboxNodeOverflow=AI&&!this.numRowFixed?k:n
	var AL=this.getFormats()
	if(mstrmojo.dom.isIE8&&!AJ.co&&this.lockHeadersCase===c&&(!AJ.rw||(AJ.rw&&(AJ.rw.row.bc>=AJ.rw.row.tc)))&&mstrmojo.string.isEmpty(AL.height)&&mstrmojo.string.isEmpty(AL.width)){this.scrollboxNodeOverflow=""
	}this._useFilter=this._useFilter||AJ.cssflt||false
	return AK
	},postBuildRendering:function p(){var AN=this.gridData,AM=this._super(),AK=this.scrollboxNode
	var AP=this
	if(this.viewport){var AO=function(){AP.addDisposable(AP.requiresContrib("cellHoverMgr",true))
	if(J){AP.viewport.ontouchstart=null
	}else{AP.viewport.onmouseover=null
	}if(event.type==="focus"&&AP.hasAccessibility&&AP.lockHeadersCase){j.call(AP,true)
	}}
	if(J||Q.isTouchOptimizationEnabled()){this.viewport.ontouchstart=AO
	}else{this.viewport.onmouseover=AO
	}}if(!this.getFormats().width&&this.model.docModel.addAutoWidthID&&(this.parent&&this.parent.scriptClass!=="mstrmojo.ExpressDocPanel")){this.model.docModel.addAutoWidthID(this.id)
	AN=this.gridData
	var AL=AN&&AN.afc
	if(AL&&mstrmojo.dom.isIE7){var AI=o(this,AC)
	if(AI&&AI.scriptClass===AC){this.viewport.style.width=this.contentNode.offsetWidth+(this.scrollboxNode.offsetWidth-this.scrollboxNode.clientWidth)+"px"
	}}}if(Q.isIE&&!Q.isIE8&&this._useFilter){window.setTimeout(function(){var AR=document.createElement("img")
	AK.appendChild(AR)
	AK.removeChild(AR)
	},0)
	}if(U.call(this)){var AQ=this.zone&&this.zone.tableNode
	this.hasAccessibility=true
	if(AQ){this.domNode.onkeydown=this.keyDownHandler
	AQ.onfocus=AO
	AQ.onblur=this.onblur
	mstrmojo.css.addClass(this.zone.gridContainerNode,"gridAccessible")
	if(this.isMenuClicked){AQ.focus()
	this.isMenuClicked=false
	}}else{if(this.isMenuClicked){this.isMenuClicked=false
	this.parent.menuBtnInfo.btn.focus()
	}}if((this.lockHeadersCase&M)||(this.lockHeadersCase&AD)){var AJ=this.clonedColHeader&&this.clonedColHeader.isRendered()&&this.clonedColHeader.getTableNode()
	if(AJ){D.addClass(AJ.parentElement,"gridAccessible")
	AJ.tabIndex="-1"
	}}}return AM
	},isValidTarget:function O(AJ){if(!this._super(AJ)){return false
	}var AI=true
	if(AJ.classList&&AJ.classList.contains("invalid")){AI=false
	}return AI
	},initTabNavigation:function(){if(this.viewDataDialog){return 
	}this._super()
	},buildNavList:function z(){var AK=this.parent,AI=AK&&AK.menuBtnInfo&&AK.menuBtnInfo.btn,AM=AK&&AK.filterBtnNode,AL=AK&&AK.maxRestoreBtnNode,AJ=[AM,AL,AI]
	if(U.call(this)){AJ.unshift(this)
	}this.navList=AJ
	},enterUnit:function g(){this.resetTabNav()
	this.grabFocus()
	this.navigateToFirstValidTarget()
	},grabFocus:function K(AI){if(this._super){this._super(AI)
	}var AJ=this.zone&&this.zone.tableNode
	if(AJ&&AI&&U.call(this)){AJ.focus()
	}},loseFocus:function t(AJ){if(this._super){this._super(AJ)
	}var AI=this.zone&&this.zone.tableNode
	if(AI&&AJ){AI.blur()
	}},onkeydown:function X(AI){if(this._super){this._super(AI)
	}if(this.viewDataDialog){return 
	}var AK=AI.e||AI,AJ=AK.key
	if(this.handleTab(AI)){return 
	}if(AJ==="Escape"){AI.preventDefault()
	AK.stopPropagation()
	this.navigateToParent(true)
	}},onCGBMapChange:function(AI){if(this._resolveCGBToTKS(AI.cgbMap)&&this._currentSelectedTD){this.defaultAction(this._currentSelectedTD)
	}},_resolveCGBToTKS:function w(AQ){if(!AQ){return false
	}var AO=this.model.scm,AK="\u001E",AM,AJ,AN,AL,AI,AP=false
	for(AJ in AO){AN=AO[AJ]
	AL=AN.cgb
	for(AM in AL){AI=AQ[AL[AM]]
	if(AI){if(!AN.tks){AN.tks=AI
	AP=true
	}else{if(AN.tks&&(AN.tks.indexOf(AI)<0)){AN.tks+=AK+AI
	AP=true
	}}}}}return AP
	},onGridWidthChanged:function e(AI){if(this._super){this._super(AI)
	}if(this.cellHoverMgr.onXtabWidthChanged){this.cellHoverMgr.onXtabWidthChanged()
	}},getDim:function(){var AI=this.contentNode
	return{w:AI.scrollWidth,h:AI.scrollHeight}
	},unrender:function C(AI){var AJ=this.cellHoverMgr
	if(AJ&&AJ.shutdown){AJ.shutdown()
	}this._super(AI)
	},link:function H(AJ,AI){this.controller.onLink(this,this.model.getLinkAction(AJ,AI))
	},customSort:function AF(AP,AK){var AN=this,AR=this.model,AO=AR.getDataService(),AQ=AR.docModel,AI=AQ.getUnitDefinitions(this.k)[this.k].pnk,AM=AQ.currlaykey,AJ=AQ.getNextKey(),AL=AR.getCreateCSVizActions(AP,AK,AJ)
	AO.submitUpdates(AL,{success:function(AX,AT){var AW=AX.data,AV=m.filterOne(AW.layouts,function(Ab){return Ab.k===AM
	}),AS={}
	AS[AJ]=AV.xtabStyles[AJ]
	AQ.controller.view.updateXtabStyles(AM,AS)
	AQ.updateDefnCache(AX.defn,[AJ,AI])
	AQ.updateDataCache(AW,AQ.getTargetDefn(AJ))
	var Aa=x.call(AN),AY=Y(AN.domNode),AU=600,AZ=mstrmojo.insert({scriptClass:"mstrmojo.vi.ui.rw.CustomSortDisplayPanel",model:AQ,nodeKey:AJ,srcPanelKey:AI,srcLayoutKey:AM,srcViz:AN,srcUnit:AP,srcAxis:AK,width:Math.max(AY.w,AU)+"px",height:Aa.csPanelPos.h+"px",left:((typeof AY.x==="number")?AY.x:0)+"px",top:((typeof Aa.csPanelPos.y==="number")?Aa.csPanelPos.y:0)+"px",spacer:Aa.spacerHeight})
	AZ.setVizBoxPortalStateRestore()
	AZ.open()
	AZ.parent=mstrmojo.findAncestor(AN,"openXtabCellMenu")
	},failure:function(AV,AW){var AT=6,AX=10000,AU=0,AS=function(){AO.submitUpdates({act:"undo",stid:AO.stid},{success:function(AY,AZ){mstrApp.hideWait()
	},failure:function(AY,AZ){if(++AU<AT&&AY.code==mstrmojo.mstr.EnumWebAPIErrorCodes.MSI_ADDUSERJOB_ERROR){setTimeout(AS,AX)
	}else{mstrApp.hideWait()
	}}},{config:{silent:true},hideCancel:true,noUpdate:true,preserveStid:true,noDeltaXML:true})
	}
	mstrApp.showWait()
	AS()
	}},{style:{params:{treesToRender:3}},noUpdate:true,preserveStid:true,noDeltaXML:true,hideCancel:true})
	},pivot:function R(AI,AJ){this.controller.onPivot(this,this.model.getPivotAction(AI,AJ))
	},drill:function AE(AI,AJ){this.controller.onDrill(this,this.model.getDrillAction(this.getActionCells(AI),AJ))
	},removeUnit:function Z(AI){this.controller.onRemoveUnit(this,this.model.getRemoveTemplateUnitAction({id:AI._e?AI._e.oid:AI.id,t:AI._e?AI._e.otp:AI.otp}))
	this.onDemandDrillItems=null
	this.onDemandDrillDynamicItems=null
	},showViewFilter:function b(AI){this.controller.onShowFilterEditor(this,AI)
	},showTotal:function L(AI,AK,AJ){this.controller.onShowTotals(this,this.model.getTotalsAction(AI,AK,AJ))
	},supportAdvancedSort:function AA(){return !mstrApp.isDossier&&!this.hasArrayGSI
	},deleteSelectorControl:function W(){var AI=this.gridData,AJ=AI.sc
	if(AJ&&parseInt(AJ.ct,10)===6){delete AI.sc
	}},findSelectorControl:function G(){var AI=this.gridData.sc
	if(AI&&parseInt(AI.ct,10)===6){this.selectorControl=AI
	}else{delete this.selectorControl
	}return this.selectorControl
	},handlesMultiSelection:function u(AJ){var AI=this.getCellForNode(Q.findAncestorByName(AJ.getTarget(),"td",true,this.viewport)),AL=AI&&this.model.data.gts[AI.axis===1?"row":"col"][AI.tui||AI.ui],AK=AL&&AL.id&&AL.sc
	return !!(this.findSelectorControl()||AK)
	},setAllXtabWidths:function AH(AI){},changeResizeScenario:function q(AQ,AV,AW,AR){var AY=new mstrmojo.models.template.DataInterface(this.gridData),AK=this.gridData.twm||{},AL=AK.bottom,AI=AY.getColumnHeaderData(true),AS=this,AO=this.model,AJ=this.id,AX=this.k,AM=[],AN=[],AP=1,AU=[]
	if(AV){AM.push({act:"changeXtabColWidthScenario",value:AQ})
	AI.forEach(function(Ab,Aa){var Ag=Ab.oid||Ab.id,Ae=function(Ah){return Ah.unitId===Ag&&Ah.depth===AP
	}
	if(!(Ab.fs&&Ab.fs.length>0)){AP=1
	}var Ad=Ag===(AW&&AW.did)
	if(!AU.some(Ae)){AU.push({unitId:Ag,depth:AP})
	var Af=Af||AO&&AO.docModel.getZoomFactor(),Ac=Ad?AW.width:parseInt((AL[Aa].w)||0,10),AZ=Math.round(Ac/Af)
	AN.push({colIndex:Aa,value:Ad?AW.width+AG:Ac+AG})
	if(AQ===AB){AM.push(AO.getColumnResizeAction(Ag,Ab.otp,AZ,AP,Ad?AW.isExtra:false))
	}}AP++
	})
	var AT=function AT(AZ,Ab){var Aa=mstrmojo.all[AJ]
	if(AZ===AB){AS.updateRelatedColWidths(Ab)
	}AS.updateScenario(AZ)
	}
	AT(AQ,AN)
	AS.submitColumnWidthChange(AM,AR)
	}return AR?AM:undefined
	},submitColumnWidthChange:function d(AK,AI){if(!AI){this.model.getDataService().submitTemplateUpdates(this.k,AK,{success:function AJ(){}},I)
	}},changeColumnWidth:function a(AN,AU,AK,AV,AL,AR){var AY=new mstrmojo.models.template.DataInterface(this.gridData),AI=AY.getColumnHeaderData(true),AP=this.model,AM=[],AT=this,AO=[],AQ=1,AS=-1,AW=[]
	if(AY.getColResizeScenario()!==AB){AM=this.changeResizeScenario(AB,true,{did:AN,t:AU,width:AK,depth:AV,isExtra:AL},AR)
	return AR?AM:undefined
	}var AJ=AJ||this.model.docModel.getZoomFactor(),AX=Math.round(AK/AJ)
	if(AN==="all"){AI.forEach(function(Aa,AZ){var Ad=Aa.oid||Aa.id,Ac=function(Ae){return Ae.unitId===Ad&&Ae.depth===AQ
	},Ab=AI[AZ-1]
	if(!(Aa.fs&&Aa.fs.length>0)||(Ab&&Ad!==(Ab.oid||Ab.id))){AQ=1
	}if(!AW.some(Ac)){AW.push({unitId:Ad,depth:AQ})
	AO.push({colIndex:AZ,value:AK+AG})
	AM.push(AP.getColumnResizeAction(Ad,Aa.otp,AX,AQ,false))
	}AQ++
	})
	}else{AI.every(function(Aa,AZ){var Ab=(Aa.oid===AN||Aa.id===AN)
	if(Ab){AS=AZ+AV-1
	}return !Ab
	})
	if(AS>=0){AO.push({colIndex:AS,value:AK+AG})
	AM.push(AP.getColumnResizeAction(AN,AU,AX,AV,AL))
	}}AT.updateRelatedColWidths(AO)
	AT.submitColumnWidthChange(AM,AR)
	return AR?AM:undefined
	},keyDownHandler:function l(){F.call(this)
	},onblur:function f(){var AI=Q.findWidget(this),AJ=AI&&AI.parent
	if(AJ){j.call(AJ,false)
	}},getCellFromTableToBeFocussed:function h(AL,AT){var AK=AL,AS=AT.getCellForNode(AL),AM=AT.model.getCellInfo(AS),AQ=AL.parentElement&&AL.parentElement.rowIndex||0,AR=AL.cellIndex,AO=AT.lockHeadersCase,AI=AT.zone.tableNode
	if(AO){var AJ=AT.clonedColHeader&&AT.clonedColHeader.isRendered()&&AT.clonedColHeader.getTableNode(),AP=AT.clonedRowHeader&&AT.clonedRowHeader.isRendered()&&AT.clonedRowHeader.getTableNode(),AN=AT.clonedTitle&&AT.clonedTitle.isRendered()&&AT.clonedTitle.getTableNode()
	if(AM.isTitle){if((AO!==M)&&(AO&A)){AK=AP?AP.rows[AQ].cells[AR]:AI.rows[AQ].cells[AR]
	}else{if((AO!==M)&&(AO&AD)&&(AJ)){AK=AJ.rows[AQ].cells[AR]
	}else{AK=AN?AN.rows[AQ].cells[AR]:AJ.rows[AQ].cells[AR]
	}}}else{if(AM.isHeader){if((AO!==M)&&(AO&A)){AK=AI.rows[AQ].cells[AR]
	}else{AK=AJ.rows[AQ].cells[AR]
	}}else{if(AS&&AS.axis===2){if((AO&AD)&&(AJ)){AK=AJ.rows[AQ].cells[AR]
	}else{AK=AI.rows[AQ].cells[AR]
	}}else{AK=(!AM.isMetric&&AT.clonedRowHeader&&AT.clonedRowHeader.isRendered())?AP.rows[AQ].cells[AR]:AI.rows[AQ].cells[AR]
	}}}}AI.rows[AQ].cells[AR].focus()
	return AK
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo._HasPopup","mstrmojo.Popup","mstrmojo.hash","mstrmojo.expr","mstrmojo.Container","mstrmojo.ConditionModel","mstrmojo.Widget","mstrmojo.Button","mstrmojo.ui.ColumnWalk","mstrmojo.rw.ConditionWalk","mstrmojo.mstr.EnumNodeDimty","mstrmojo.vi.ui.ConditionWalkProvider","mstrmojo.vi.ui.AllObjectsBrowser")
	var U=mstrmojo.Widget,M=mstrmojo.array,G=mstrmojo.dom,Q=mstrmojo.hash,c=mstrmojo.css,W=mstrmojo.Button.newWebButton,L=mstrmojo.expr,C=L.ET,A=mstrmojo.mstr.EnumNodeDimty,N=M.hash([A.NodeDimtyOutputLevel])
	var O=mstrmojo.rw.ConditionWalk.getAttForms,E=mstrmojo.rw.ConditionWalk.isMdxDM
	function F(){var e=this.model
	if(e){if(!e.attachEventListener){Q.make(e,mstrmojo.ConditionModel,{defaultETAttr:e.defaultETAttr,data:e.data})
	}e.attachEventListener("edit",this.id,"onmodeledit")
	}}function P(f,e){if(e&&e.detachEventListener){e.detachEventListener("edit",f.id,"onmodeledit")
	}}mstrmojo.vi.ui.ConditionWalk=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.vi.ui.ConditionWalk",markupString:'<div id="{@id}" class="mstrmojo-vi-ui-ConditionWalk" mstrAttach:click><div class="walk"></div></div>',markupSlots:{walkNode:function(){return this.domNode.firstChild
	}},markupMethods:{onvisibleChange:U.visibleMarkupMethod,onheightChange:U.heightMarkupMethod,onwidthChange:U.widthMarkupMethod},layoutConfig:{h:{walkNode:"100%"},xt:true},editor:undefined,columnWalk:undefined,walkProvider:null,objectBrowsingEnabled:false,children:[{scriptClass:"mstrmojo.ui.ColumnWalk",alias:"columnWalk",slot:"walkNode",height:"370px",width:"600px"}],postCreate:function B(){if(this._super){this._super()
	}if(!this.walkProvider){this.walkProvider=this.addDisposable(mstrmojo.insert(mstrmojo.vi.ui.ConditionWalkProvider))
	}},initWalk:function X(){var e=this.columnWalk,f=this.walkProvider
	e.removeTrailingContainer(-1)
	e.addNextColumn(f.getTargetNodeProps())
	e.target.updateColumnContainer()
	this.updateOkBtn()
	},ob:{scriptClass:"mstrmojo.Popup",cssClass:"mstrmojo-vi-ui-ConditionWalk ObjectBrowserPopup mojo-theme-light",children:[{scriptClass:"mstrmojo.vi.ui.AllObjectsBrowser",alias:"browser",title:mstrmojo.desc(5298,"Select an Object"),layoutConfig:null,onSelectedItemsChange:function K(){var e=this.getSelectedItems(),f=e&&e[0],g=f&&f.t
	this.parent.buttons.selectBtn.set("enabled",g&&g!==L.TP.FOLDER)
	},browse:function R(e){Q.copy(e,this)
	},getObjectSubTypes:function(){var e=this.browsableTypes
	if(e){return e.split(",")
	}return this.constructor.prototype.browsableTypes()
	},dblClickOnNodes:function b(e){var h=this.onSelectCB,g=e.getTarget(),f=G.findWidget(g).data
	h[0][h[1]](f)
	}},{scriptClass:"mstrmojo.Box",alias:"buttons",cssClass:"buttons",children:[W(mstrmojo.desc(221,"Cancel"),function(){this.parent.parent.opener.closePopup()
	}),W(mstrmojo.desc(547,"Select"),function(){var g=this.parent.parent,h=g.browser,j=h.onSelectCB,f=h.getSelectedItems(),e=this.parent.parent.opener
	if(f&&f.length>0){j[0][j[1]](f[0])
	}else{e.closePopup()
	}},true,{alias:"selectBtn",enabled:false})]}],onOpen:function H(){var j=this.shadowNode,e=document.body,f=document.documentElement,h=j.style,g=this.domNode
	this.browser.obSearchBox.clearSearch(true)
	h.width=Math.max(e.clientWidth,f.scrollWidth)+"px"
	h.height=Math.max(e.clientHeight,f.scrollHeight)+"px"
	window.setTimeout(function(){c.addClass(g,"open")
	},1)
	},onClose:function D(){c.removeClass(this.domNode,"open")
	var e=this.browser
	e.opened=false
	e.reset()
	}},_set_model:function a(h,e){var f=this.model,g=(e!==f)
	if(g){P.call(this,f)
	e.dimtyTypes=this.dimtyTypes||N
	this.model=e
	F.call(this,e)
	this.initWalk()
	}return g
	},onmodeledit:function J(f){var e=this.columnWalk[f.prop==="c1"?"c0":f.prop]
	if(f.prop==="fm"){e=this.columnWalk.target
	}if(e){e.updateColumnContainer()
	}this.updateOkBtn()
	this.postmodeledit(f)
	},postmodeledit:mstrmojo.emptyFn,updateOkBtn:function d(){var h=true,e=this.model,f,g=e&&L.fnCstCount(e.fn,e.fnt)
	if(!e){return 
	}switch(e.et){case C.AQ:case C.AL:case C.MQ:for(f=0
	f<g
	f++){h=h&&!this["invalid"+f]
	}break
	}h=h&&!!e.completed
	this.delegateUpdateOkBtn(h)
	},delegateUpdateOkBtn:mstrmojo.emptyFn,browse:function I(g){var j=this.parent.editorNode,h=function(l,n){var k=G.position(l,true),m=G.position(n,true)
	return{x:k.x+k.w,y:m.y}
	},e=this.columnWalk,f=this.walkProvider
	switch(g&&g.alias){case"target":case"dmy":f.browseObjs(this,g)
	break
	case"c0":case"c1":f.browseObjs(this,g)
	break
	case"es":f.browseEs(this,g,h(e.es.domNode,j))
	break
	}},onOBSelect:function(k){var m=k.t
	if(m===L.TP.FOLDER||m===0||m===undefined){return 
	}var h=this.ob.browser,n=h.target
	this.closePopup()
	if(n.alias==="c0"){n=n.attMxPd
	}var g=this.targets,l=n.itemIdField,j=g||[],e=M.find(g,l,k[l])
	if(e===-1){j.push(k)
	this.targets=j
	this.targetsLastMod=new Date()
	this.raiseEvent({name:"updateTargets",targets:this.targets})
	}n.list.set("selectedIndex",M.find(n.items,"did",k.did))
	if(n.onObjBrowsed){n.onObjBrowsed(k)
	}},getDatasets:mstrmojo.emptyFn,getAttributeForms:function Y(g){var f=this.editor
	if(f&&f.getAttributeForms){return f.getAttributeForms(g)
	}var e=this.getDatasets()
	return O(g,e)
	},getAttributeInfo:function Z(e){var f,h=this.editor
	if(h&&h.model&&h.model.targets){M.forEach(h.model.targets,function(j){if(j.did===e){f=Q.clone(j)
	return false
	}})
	}else{var g=this.getDatasets()
	Q.forEach(g,function(j){f=Q.clone(j.att.filter(function(k){return k.did===e
	})[0])
	if(f){return false
	}})
	}if(f){f.fs=this.getAttributeForms(e)
	}return f?f:{}
	},isMDXDM:function S(e){return E(e,this.getDatasets())
	},getIfDataSource:mstrmojo.emptyFn,onUpdateBrowseElementsParams:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.rw.DocController","mstrmojo.func")
	var C=mstrmojo.func
	var B="44px"
	mstrmojo.OIVMDocController=mstrmojo.declare(mstrmojo.rw.DocController,null,{scriptClass:"mstrmojo.OIVMDocController",openPage:function A(G){var F=this.model
	G=parseInt(G,10)
	if(G>-1&&F.drillStateStack){var H=F.drillStateStack,E=H.splice(H.indexOf(G)),J=E[0]
	mstrApp.removeBackButtonItems(E.length)
	F.getDataService().refresh({stateID:J-1},{success:function I(K){F.loadLayout(K)
	}})
	}else{this._super(G)
	}},submitDrillWithin:function D(I,F,K){var G=this.model
	var E=F.attrObj||{n:""}
	var H=this._addNodeKeyToAction(I,F),M=E.sc&&E.sc.tks,L=M&&M.split("\u001E")||[]
	H.updateNodeKey=[H.nodeKey].concat(L)
	delete F.attrObj
	I.model.drillGrid(H,C.wrapMethods({success:function J(N){var O=G.drillStateStack=G.drillStateStack||[],P=N.stid
	if(P!==undefined){O.push(P)
	mstrApp.addBackButtonItem({n:mstrmojo.desc(13778,"Back to: ##").replace("##",E.n),dssid:P})
	}}},C.wrapMethods(this._getXtabCallback(I),K)))
	},togglePathbar:function(I){if(!mstrApp.pathInfo){return 
	}var H=I.src,G=this.view.parent.parent,F=G.pathbar,K=F.visible
	H.set("iconClass",H.iconClass.replace(/ on/,"")+(!K?" on":""))
	H.domNode.setAttribute("title",K?mstrmojo.desc(13997,"Hide Navigation Bar"):mstrmojo.desc(13996,"Show Navigation Bar"))
	var J=!K,E=G.pathbarNode
	F.set("visible",J)
	G.layoutConfig.h.pathbarNode=J?B:"0px"
	G.doLayout()
	if(!J){E.style.height="0px"
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocSelector","mstrmojo.vi.ui.rw._HasVisSelections","mstrmojo.vi.ui.rw.selectors._IsMultiUnitControl","mstrmojo.vi.ui.rw.selectors._BrushesAndHighlights","mstrmojo.hash","mstrmojo.array","mstrmojo.func","mstrmojo.VisUtility","mstrmojo.PerformanceLogOutput")
	var S=mstrmojo,J=S.hash,W=S.vi.ui.rw,H=S.VisUtility,R=W._HasVisSelections,O=W.selectors._IsMultiUnitControl,E=W.selectors._BrushesAndHighlights,U=mstrmojo.func.wrapMethods,G=S.PerformanceLogOutput
	function M(a){var Y,e,c=a.sc.exp,Z=c&&c.nds,X=a&&a.gts,d=a&&a.k,b=mstrmojo.DocXtabModel.prototype,f=J.copy(R,{k:d,model:b})
	if(!a||!X||!c||!Z||Z.length<=0){return{}
	}Y=(X.row||[]).concat(X.col||[])
	H.modifyScExp(c,Y,b,{})
	e=O.getSelectorDataFromExpression(c)
	f.addSelectionsFromExpression(e)
	return f.getSelectionHash()
	}mstrmojo.VisDocSelector=mstrmojo.declare(mstrmojo.DocSelector,null,{scriptClass:"mstrmojo.VisDocSelector",postBuildRendering:function Q(){this._super()
	var Z=this,X=Z.model,Y=Z.parent
	if(Y&&Y.refreshFilterSummaryBar){Y.refreshFilterSummaryBar()
	}if(X){this.clearSelectorListener=X.attachEventListener("clearSelector",this.id,function(a){if(a.k===Z.k){var b=this.content
	if(b){b.updateSummaryText({})
	}}})
	}},onAppStateChange:function L(X){var c=mstrmojo.vi.VisualInsightApp.APP_STATES,Y=c.PAUSE,Z=mstrApp.isAppStatePause&&mstrApp.isAppStatePause(),b=!!(X.valueWas&Y)
	if(Z!==b){var a=this.parent
	if(a){a.updateSummaryBar()
	}}},getWidgetConfig:function D(d,Z,Y,b){var a=d.node&&d.node.data,c=a&&a.sc,X=this._super(d,Z,Y,b)
	if(c){X.exp=c&&c.exp
	X.include=c.include
	}return X
	},getSelectionInfo:function C(){var Y,X=this.node&&this.node.data,a=X&&X.sc,Z=a&&a.exp
	if(Z&&Z.nds){return M(X)
	}Y=R.getSelectionCache.call(this)
	return Y&&Y._viSelections
	},updateWidget:function K(X){var Y=this._super(X)
	if(Y){Y.include=this.include
	if(Y.updateSummaryText){Y.updateSummaryText(this.getSelectionInfo())
	}}return Y
	},clearSelector:function P(f){G.startTimer({functionName:"VisFilter.unsetFilter",purpose:"from Unset filter to End"},"timerid_VisFilter_unsetFilter")
	var e,a=this.parent,X=this.content,b=this.node&&this.node.data,d=b&&b.sc,Y=(b&&(b.sid!==undefined))?b.sid:1,Z=this.getSelectionInfo(),c=!Z||Object.keys(Z).length===0
	if(a&&a.closeVisSelectorPanel){a.closeVisSelectorPanel()
	}if(!d||c){return 
	}e={ck:d.ck,ct:d.ct,ctlKey:d.ckey,selections:[],sid:Y,tks:d.tks,type:521,isNavigation:false,ignoreTargetData:true}
	e[f?"forceApply":"forceBuffer"]=true
	d.exp=null
	R.setSelectionCache.call(this,{})
	E.clearSelections.call(this)
	this.slice(e)
	if(X){X.updateSummaryText({})
	}},update:function I(Y){if(mstrApp.isInVFInteractMode){var X=this.parent
	if(X){X.updateVizSelectorPanel()
	}}this._super(Y)
	},supportsInclude:function N(){return true
	},applySelections:function A(X){X.include=this.include
	this.slice(X)
	},initControlInfo:function F(){this._super()
	var X=this.node,Y=X&&X.data,Z=Y&&Y.sc
	if(Z){J.copyProps(["allselected","ckey","ck","tks","style","showall","ct","include"],Z,this)
	}},onincludeChange:function B(h){var Z=h.value,f=this.model,a=this.isInFilterPanel()&&this.getFilterPanel(),e=f.getDataService().newUpdate(a)
	this.include=Z
	if(a&&a._bufferedSlices){a.applyBufferedSlices(true,e)
	}var g=this,c=this.node.k,b=f.getDataService(),Y=f.getSliceCallback({type:parseInt(this.type,10),src:this.k,ck:this.ck,ctlKey:this.ckey,tks:this.tks,include:this.include,changeInclude:true}),d=[b.getSelectorIncludeAction({ck:this.ck,ckey:this.ckey,type:this.type,include:Z})],j=U(Y,{success:function(k){g.set("wait",false)
	f.partialUpdate(k.data,f.getTargetDefn(c))
	}})
	var X=this.deferredEvt
	if(!!X){f.sliceDeferred(e,X)
	}d[0].partialRetrieval=b.newRetrievalKeysConfig().addNode(c)
	d=!!X?d.concat(e.actions):(e.actions||[]).concat(d)
	this.set("wait",true)
	f.controller.cmdMgr.execute({execute:function(){this.submit(d,j)
	},urInfo:{extraPuKeys:g.ck.split("\u001E").slice(1),treesToRender:3}})
	},generateSummaryText:function(X){if(this.include){return X>1?mstrmojo.desc(15291,"## data points included").replace("##",X):mstrmojo.desc(15292,"1 data point included")
	}else{return X>1?mstrmojo.desc(15293,"## data points excluded").replace("##",X):mstrmojo.desc(15294,"1 data point excluded")
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.models.editors.BaseEditorModel","mstrmojo.vi.models._GridFormats","mstrmojo.ui.editors.controls.CharacterGroup","mstrmojo.ui.editors.controls.ContainerGroup","mstrmojo.ui.editors.controls.XtabResizeGroup","mstrmojo.ui.editors.CharacterToolbarPopup","mstrmojo.vi.enums.EnumThemeProperties","mstrmojo.Label","mstrmojo.hash","mstrmojo.array","mstrmojo.VisUtility","mstrmojo.models.FormatModel","mstrmojo.models.template.DataInterface","mstrmojo.ui.editors.controls.ColumnSetGroup","mstrmojo.util.XtabHelper","mstrmojo.vi.models.editors.EnumXtabEditorModelStyles","mstrmojo.vi.models.editors._XtabEditorModelStyle")
	mstrmojo.requiresDescs(15191,15192,15193,15230,15231,15232,15792)
	var A=2,H=3,K=4,k=5,E=5000,N=[k,A,K],c=[A,K]
	var u=mstrmojo.ui.editors.controls.ContainerGroup.CTRL_FLAGS,b=mstrmojo.models.FormatModel.ENUM_PROPERTY_NAMES,O=mstrmojo.vi.models.editors.EnumXtabEditorModelStyles,h=mstrmojo.models.FormatModel.getFormatUpdate,M=mstrmojo.hash,Y=mstrmojo.array,p=mstrmojo.VisUtility,o=mstrmojo.models.template.DataInterface,I=mstrmojo.util.XtabHelper,R=mstrmojo.num,Q=mstrConfig
	var B="st"
	var Z={}
	Z[H]="SUBTOTAL_FORMAT_USE_ROWHEADERS"
	Z[A]="SUBTOTAL_FORMAT_USE_COLUMNHEADERS"
	Z[K]="SUBTOTAL_FORMAT_USE_VALUES"
	var J={left:2,center:3,right:4,justify:6}
	function S(){var z=this,AA=z.getHost(),w=AA.gridData,AC=z.columnSetKey,AB=w&&o.getGSI(w.gsi,AC),v=M.walk("prop.sb",AB),x=function(AD){AA.showBanding(AD)
	}
	return z.getCheckboxAndLabel(!!v,mstrmojo.desc(15758,"Enable Banding"),x)
	}var q=function q(){var v=this.getHost()
	v.showOutlineModeOption(true)
	}
	function n(){var AC=this.getHost(),z=AC.gridData,x=AC.defn,AB=this,v=I.isDisplayOutline(z,x),AA=function AA(AD){var AE=parseInt(AC.rhsCP&&AC.rhsCP.rc||0,10)
	if(AD&&AE&&AE>mstrmojo.vi.models.editors.XtabEditorModel.ENUM_MAX_ROWS_OUTLINE){var AG=function AG(AH){AH.checked=false
	}
	var AF=this
	mstrmojo.confirm(mstrmojo.desc(15792,"The dossier will attempt to display more than 5000 rows in outline mode. This may affect performance and stability. Do you want to continue?"),null,{id:"OutlineModeWarningDialog",title:mstrmojo.desc(15759,"Enable Outline"),allowHTML:false,buttons:[mstrmojo.Button.newWebButton(mstrmojo.desc(212,"Continue"),q.bind(AB)),mstrmojo.Button.newWebButton(mstrmojo.desc(3416,"Cancel"),AG(AF))],onPreClose:function(){AG()
	return true
	}})
	}else{AC.showOutlineModeOption(AD)
	}},w=this.getCheckboxAndLabel(!!v,mstrmojo.desc(15759,"Enable Outline"),AA)
	if(mstrApp.isAppStatePause&&mstrApp.isAppStatePause()||AC.model.hasRecursiveAttribute(z)){w.set("enabled",false)
	}return w
	}function t(v,w){return this.getButtonBar([{n:mstrmojo.desc(7575,"Top"),v:1,css:"top"},{n:mstrmojo.desc(8631,"Middle"),v:2,css:"middle"},{n:mstrmojo.desc(7576,"Bottom"),v:3,css:"bottom"}],v[b.VERTICAL_ALIGN]-1,function(x,z){w(x.v,z&&z.v)
	},{cssClass:"cellAlign"})
	}function g(v,w){return this.getTextAlign(M.keyarray(J).filter(function(x){return v[b.TEXT_ALIGN]===J[x]
	})[0],w,J)
	}function W(AA,v){var x=this.getGridCellFormats(AA),w=this.targetFormatMap,AB=w[AA]
	if(!v){return x[AB]
	}var z=x[B]||{}
	return z[AB]||x[AB]
	}function d(AA,v){var z=this,AB=z.getHost(),x=this.targetFormatMap,AC=this.columnSetKey,w=AB.getSubtotalFormatUseGridFormat(AA,AC)
	return function(AE,AF){if(!v||(v&&!w)){var AG=z.columnSetKey,AD=AG
	if(!AG&&AB.hasArrayGSI){AD=[]
	Y.forEach(AB.gridData.gsi,function(AH){AD.push(AH.k)
	})
	}AB.formatGridZone(x[AA],h(AE,AF),{isSubtotalFormat:v,isSubtotalUseGridFormatting:w},AG,AD)
	}else{AB.updatePropAndFormatGridZone(AA,h(AE,AF),{isSubtotalFormat:v,isSubtotalUseGridFormatting:w},z.columnSetKey)
	}}
	}function a(w,AB){var AA=this,AC=AA.getHost(),x=AC.gridData,z=x&&x.gsi,v=function(AD){AA.columnSetKey=AD
	P.call(AA,w,AB)
	}
	return c.indexOf(AB)>-1&&AC.hasArrayGSI?new mstrmojo.ui.editors.controls.ColumnSetGroup({value:AA.columnSetKey,gsi:z,docModel:AC.model.docModel,callback:v}):null
	}function U(x,AA,w){var v=W.call(this,AA,w),AB=d.call(this,AA,w),z=function(AC){return function(AD){AB(AC,AD)
	}
	}
	return[a.call(this,x,AA),this.getCharacterGroup(AB,v),g.call(this,v,z(b.TEXT_ALIGN)),t.call(this,v,z(b.VERTICAL_ALIGN)),this.getContainerGroup(v,AB,u.FILL_COLOR+u.FILL_ALPHA,{showBackgroundNoFill:true}),this.getContainerGroup(v,AB,u.BORDER,{borderTitle:mstrmojo.desc(12130,"Horizontal lines"),targetBorder:"bottom"}),this.getContainerGroup(v,AB,u.BORDER,{borderTitle:mstrmojo.desc(12131,"Vertical lines"),targetBorder:"right"}),this.getWrapText(!!v[b.TEXT_WRAP],z(b.TEXT_WRAP))]
	}function F(z,v){var AA={}
	AA[A]=mstrmojo.desc(15232,"Same as Column Headers")
	AA[H]=mstrmojo.desc(15231,"Same as Row Headers")
	AA[K]=mstrmojo.desc(15230,"Same as Values")
	var AD=this.getHost(),AC=this.columnSetKey,w=AD.getSubtotalFormatUseGridFormat(v,AC),AB=AD.hasSubtotal(v),x=function(AF){AD.applyGridCellFormatForSubtotalChange(AF,v,AC)
	},AE=[]
	AE.push(this.getCheckboxAndLabel(w,AA[v],x))
	if(!w&&AB){return AE.concat(U.call(this,z,v,true))
	}return AE
	}function L(z,x){var AC={}
	AC[A]=mstrmojo.desc(15191,"Subtotal Column Headers")
	AC[H]=mstrmojo.desc(15192,"Subtotal Row Headers")
	AC[K]=mstrmojo.desc(15193,"Subtotal Values")
	var v=[this.getGroupTitle(AC[x])].concat(F.call(this,z,x)),w=v.slice(),AB=this.getHost(),AA=AB.hasSubtotal(x)
	if(!AA){p.toggleControlEnabled(w,false)
	}return v
	}function P(v,w){if(c.indexOf(w)===-1){this.columnSetKey=null
	}this.replaceChildControls(v,[this.getEditorGroup(U.call(this,v,w)),this.getEditorGroup(L.call(this,v,w))])
	}var G="#fff"
	var D=O.ENUM_STYLE_NAME,r=O.COLOR_ITEMS
	var m=O.DEFAULT_TEMPLATE_PROPS
	function X(){var AE=this,AL=this.getHost(),AG=this.getGridCellFormats(),z=AE.isColumnHeaderFillColor(AG,G),AD=AE.getSelectedGridStyle(AG),AA=AD===D.CUSTOM?(z?D.FLAT:D.CLASSIC):AD,AK=r[AA],AC=AE.getSelectedColorIndex(AG,AK),v=AC<0?AK[0].css:AK[AC].css,AH=this.getStyleItems(),AM=this.getStyleItemIndexMap(),AJ=AE.getLabelAndControl(mstrmojo.desc(6242,"Color"),new mstrmojo.ui.CheckList({items:AK,selectedIndex:AC,hideCheckMark:true,cssClass:"color",orientation:"h",multiSelect:false,itemMarkup:null,postselectionChange:function AB(AO){var AP=AO.added[0],AN=this.items[AP]
	AL.formatGridColor(m,AN)
	},getItemMarkup:function AI(AN){if(!this.itemMarkup){this.itemMarkup=mstrmojo.ui.List.prototype.getItemMarkup.apply(this,AN).replace('title="{@en@title}">{@en@n}<','title="{@en@n}"><div class="color" style="background-color: {@en@iconBc}"></div><')
	}return this.itemMarkup
	},getItemProps:function AF(AP,AN){var AO=mstrmojo.ui.CheckList.prototype.getItemProps.call(this,AP,AN)
	AO.iconBc=AP.iconBc
	return AO
	}}),"30%","70%",false,{cssClass:"gt-color",showIcon:true,alias:"gtColor"}),w=AE.getLabelAndControl(mstrmojo.desc(1400,"Style"),new mstrmojo.ui.CheckList({items:AH,selectedIndex:AM[AD],cssClass:"style",orientation:"v",multiSelect:false,postselectionChange:function AB(AO){var AQ=AO.added[0],AN=this.items[AQ],AP=(AC)>-1?r[AN.id][AC]:null
	AL.formatGridStyle(AN,AP,m)
	}}),"30%","70%",false,{cssClass:"gt-style",showIcon:true,alias:"gtStyle"}),x=new mstrmojo.Box({alias:"gt",cssClass:"gt "+v,children:[AJ,w]})
	return x
	}function f(AG){var AO=this.getHost(),AJ=AO.gridData,z=new mstrmojo.models.template.DataInterface(AJ),AL=AJ&&o.getGSI(AJ.gsi),AH=(AL&&AL.prop)||{},AB=this.targetFormatMap
	this.columnSetKey=null
	var v=new mstrmojo.ui.editors.controls.XtabResizeGroup({fnColChange:function(AQ,AP){AO.changeColumnWidth(AP.did,AP.t,Math.round(R.convertUnits(Q.units,R.UNIT.PX,AQ)),AP.depth||1,false)
	},fnRowChange:function(AP){AO.changeRowHeight(Math.round(R.convertUnits(Q.units,R.UNIT.PX,AP)))
	},fnScenarioChange:function(AP,AQ){AO.changeResizeScenario(AP,AQ)
	}})
	v.setFormatSource(AO)
	AO.attachEventListener("xtabColsMeasured",v.id,function(){v.setFormatSource(AO)
	})
	var AE=z.getAggregatePadding(),AC=mstrApp.getThemeProps(mstrmojo.vi.enums.EnumThemeProperties.SUBTYPE.GRID),AA=AC.paddingSize,AK=0,x=[AA,AA],AI=AA,AF=false
	if(AE){x=[AE.h,AE.v].sort(function(AQ,AP){return AQ-AP
	})
	AI=x[1]
	AK=Math.max(Math.min(Math.round((AI-AA)/AA),2),0)
	AF=true
	}var AM=this.getLabelAndControl(mstrmojo.desc(13579,"Padding"),this.getButtonBar([{n:mstrmojo.desc(12141,"S"),v:AA,css:"small"},{n:mstrmojo.desc(12142,"M"),v:AA*AC.mRatio,css:"medium"},{n:mstrmojo.desc(12140,"L"),v:AA*AC.lRatio,css:"large"}],AK,function(AP){AO.formatPadding(AP.v,AP.v*(x[0]/AI),{isSubtotalUseGridFormatting:true})
	},{cssClass:"cellPadding",showIcon:false}))
	AM.set("enabled",AF)
	var w=function(AP,AQ){AO.batchFormatGridZones([A,H,K].map(function(AR){return AB[AR]
	}),Y.isArray(AQ)?AQ.map(function(AR){return h(AP,AR)
	}):[A,H,K].map(function(){return h(AP,AQ)
	}),{isSubtotalUseGridFormatting:true})
	},AN=[],AD=[this.getEditorGroup([]),this.getEditorGroup([S.call(this),n.call(this)]),AC.gridTemplateVisible?this.getEditorGroup([this.getGroupTitle(mstrmojo.desc(16044,"Grid Template")),X.call(this)]):null,this.getEditorGroup([this.getGroupTitle(mstrmojo.desc(14006,"All Grid Fonts")),this.getCharacterGroup(w,this.getAllGridFontsFormat(),23),this.getGroupTitle(mstrmojo.desc(12129,"Grid Size")),AM,v]),this.getEditorGroup([this.getMoreOptionsEditorLink(AH,true,AJ&&AJ.lhv,!AO.hasArrayGSI)])]
	AN=AN.concat(AD)
	this.replaceChildControls(AG,AN)
	}mstrmojo.vi.models.editors.XtabEditorModel=mstrmojo.declare(mstrmojo.vi.models.editors.BaseEditorModel,[mstrmojo.vi.models._GridFormats,mstrmojo.vi.models.editors._XtabEditorModelStyle],{scriptClass:"mstrmojo.vi.models.editors.XtabEditorModel",help:"format_panel_grid.htm",columnSetKey:null,getInitialTarget:function j(){return k
	},getMergeCellFormats:function C(){return N
	},getTargetPulldownItems:function e(z){var AC=this.getHost(),w=new mstrmojo.models.template.DataInterface(AC.gridData),AB=this._super(z)
	if(!w.isEmpty()){var v=AC.getFormats(),x=P.bind(this,z)
	AB.unshift({n:mstrmojo.desc(6560,"General Settings"),v:k,h:f.bind(this,z)})
	if(v){var AA=this.getGridCellFormats()
	if(AA){if(AA.ch){AB.push({n:mstrmojo.desc(12132,"Column Headers"),v:A,h:x})
	}if(AA.rh){AB.push({n:mstrmojo.desc(12133,"Row Headers"),v:H,h:x})
	}if(AA.va){AB.push({n:mstrmojo.desc(12134,"Values"),v:K,h:x})
	}}}}return AB
	},getFormattingToolbar:function l(v,z,AA){var AF=this.getHost(),w=AF.model,AE=AF.getCellForNode(z),AD=(v===K&&w.isSubtotalValue(AE)),x=(AE&&AE.stt===1)||AD,AB=W.call(this,v,x)
	if(AB){var AC=new mstrmojo.ui.editors.CharacterToolbarPopup(M.copy({onGroupValueChange:d.call(this,v,x),textAlignValueMap:J,anchorElement:z},AA))
	AC.setFormatSource(AB)
	return AC
	}return this._super(v,z,AA)
	},getTargetFormatHandler:d,getTargetFormats:W})
	mstrmojo.vi.models.editors.XtabEditorModel.ENUM_EDITOR_TARGETS={GENERAL:k,COLUMNS:A,ROWS:H,VALUES:K}
	mstrmojo.vi.models.editors.XtabEditorModel.ENUM_TARGET_SUBTOTAL_FORMAT_PROPNAME=Z
	mstrmojo.vi.models.editors.XtabEditorModel.ENUM_MAX_ROWS_OUTLINE=E
	mstrmojo.vi.models.editors.XtabEditorModel.DEFAULT_GRID_COLOR=r[D.FLAT][0]
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocLayout","mstrmojo.DocLayoutHoriz","mstrmojo.DocSection","mstrmojo.DocSubsection","mstrmojo.DocPanelStack","mstrmojo.DocPanel","mstrmojo.DocTextfield","mstrmojo._CanSupportTransaction","mstrmojo._IsEditableTextfield","mstrmojo._HasDocLink","mstrmojo.DocImage","mstrmojo.DocLine","mstrmojo.DocRectangle","mstrmojo.DocRoundRectangle","mstrmojo.EnumRWUnitType","mstrmojo.DynamicClassFactory","mstrmojo.Button","mstrmojo.ToolBar","mstrmojo.DocSelector","mstrmojo.FilterPanelMenu","mstrmojo.DocPortlet","mstrmojo.DocXtabGraph","mstrmojo.DocGridGraph","mstrmojo.DocVisualization","mstrmojo.DocXtabModel","mstrmojo.hash","mstrmojo.dom")
	var H=mstrmojo.hash,E=mstrmojo.dom,A=mstrmojo.EnumRWUnitType,N=mstrmojo.DynamicClassFactory.newComponent,R=mstrmojo.elementHelper,S=mstrmojo.Button.newIconButton,L={}
	function K(Y){return function(){return this.parent.parent["on"+Y]()
	}
	}var M=K("maximize"),U=K("restore"),G=K("minimize")
	function X(Z,d,a,Y,b){return S(Z,d,a,null,{ds:Y,visible:(b!==Y)})
	}function I(Y,c,b){var a=this.classMap[c].n+(b?"Hover":""),Z=L[a]
	if(!Z){Z=L[a]=N(Y,[mstrmojo._HasDocLink].concat(this.getLinkDrillMixins(b)))
	}return Z
	}function Q(f,b,a){var c=H.walk(a.scriptClass,window),d=b&&b.defn,Z=b&&b.data,j=(d&&d.t),h=(j===A.TEXTFIELD&&((d&&d.dpst)))
	if(j===A.TEXTFIELD||j===A.IMAGE){var g=Z.dl,e=d.dl,Y=(g&&g.items&&g.items.length)||(e&&e.items&&e.items.length>0)
	if(Y||Z.url||d.url||d.ifw){c=I.call(this,c,j+(h?"B":""),Y)
	}else{if((j===A.TEXTFIELD)&&d.txi){c=N(c,[mstrmojo._CanSupportTransaction,mstrmojo._IsEditableTextfield])
	}else{if(j===A.TEXTFIELD&&b.defn.iifs){c=mstrmojo.DocSummaryTextfield
	}}}}return this.newRWUnitInstance(f,b,c)
	}mstrmojo.rw._IsReportServicesDocBuilder=mstrmojo.provide("mstrmojo.rw._IsReportServicesDocBuilder",{_mixinName:"mstrmojo.rw._IsReportServicesDocBuilder",createClassMap:function B(){var Y=this._super()
	Y[A.LAYOUT]={n:"Layout"}
	Y[A.SUBSECTION]={scriptClass:"mstrmojo.DocSubsection"}
	Y[A.PANELSTACK]={n:"PanelStack",scriptClass:"mstrmojo.DocPanelStack"}
	Y[A.PANEL]={n:"Panel",scriptClass:"mstrmojo.DocPanel"}
	Y[A.TEXTFIELD]={n:"Textfield",scriptClass:"mstrmojo.DocTextfield"}
	Y[A.IMAGE]={n:"Image",scriptClass:"mstrmojo.DocImage"}
	Y[A.LINE]={n:"Line",scriptClass:"mstrmojo.DocLine"}
	Y[A.RECTANGLE]={n:"Rectangle",scriptClass:"mstrmojo.DocRectangle"}
	Y[A.ROUNDEDRECTANGLE]={n:"RoundedRectangle"}
	Y[A.GRAPH]={n:"XtabGraph",scriptClass:"mstrmojo.DocXtabGraph"}
	Y[A.GRIDGRAPH]={n:"GridGraph",scriptClass:"mstrmojo.DocGridGraph"}
	Y[A.VISUALIZATION]={n:"Visualization",scriptClass:"mstrmojo.DocVisualization"}
	return Y
	},getLayoutViewerClass:function D(Y){this.throwAbstractMethodError("getLayoutViewerClass")
	},newLayout:function W(d,b){var a=[],Z=b.data,c=b.defn,Y=this.getLayoutViewerClass(b),g=new Y({n:c.title,model:d,node:b,controller:this.parent.controller,tbc:c.tbc,slot:"containerNode",visible:false,ifs:Z.ifs,gb:Z.gbys})
	var e=g.defn=H.copy(c)
	e.fmts=H.copy(c.fmts)
	function h(m,n){var j=m.length
	if(j){for(var k=0
	k<j
	k++){var l=this.build([m[k]],d)[0]
	l.slot=n
	a.push(l)
	}}}h.call(this,d.getFixedHeaders(b),"fixedHeaderNode")
	var f=c.horiz?mstrmojo.DocLayoutHoriz:mstrmojo.DocLayout
	a.push(new f({slot:"layout",id:b.id,k:b.k,minHeight:Z.mh,formatResolver:d.formatResolver,rules:c.rules,builder:this,node:b,defn:c,model:d}))
	h.call(this,d.getFixedFooters(b),"fixedFooterNode")
	g.addChildren(a)
	return g
	},newSection:function O(Y,Z){return this.newRWUnitInstance(Y,Z,(Z.defn.horiz&&Z.data.subsections.length>1)?mstrmojo.DocSectionHoriz:mstrmojo.DocSection)
	},newPanelStack:function F(Z,a,Y){return this.newRWUnitInstance(Z,a,Y.cls||H.walk(Y.scriptClass,window))
	},newTextfield:Q,newImage:Q,newButton:Q,newRoundedRectangle:function J(Y,Z){return this.newRWUnitInstance(Y,Z,E.supports(E.cssFeatures.ROUND_CORNERS)?mstrmojo.DocRectangle:mstrmojo.DocRoundRectangle)
	},getPortletExportGridToolbar:mstrmojo.emptyFn,createPortlet:function C(AH,q,AE){var AM=q.defn,c=AM.ds,AD=(AM.iifp||!(AH===A.PANELSTACK||(AM.ttl===undefined&&AM.qsm)||AH===A.SELECTOR)),f=(AH===A.GRAPH||AH===A.GRIDGRAPH),m=[],AI="",u="",o="",Z=(AH===A.GRID||f||AH===A.VISUALIZATION||AH===A.MOJOVISUALIZATION)&&parseInt(AM.eo,10)!==2,Y=[],AF="mstrmojo-oivmSprite ",x=false,b
	if(AM.qsm){AI="qks"
	var d=function(AP,t,w){return S(AP,AF+t,function(){return this.parent.parent.content.quickSwitch()
	},{visible:"this.parent.parent.defn.qsm !== this.qsm"},{qsm:w})
	}
	m.push({scriptClass:"mstrmojo.ToolBar",slot:"leftToolbarNode",alias:"leftToolbar",cssClass:(!AD)?"grouped":"",children:[d(mstrmojo.desc(3547,"View: Grid"),"tbGrid",1),d(mstrmojo.desc(3548,"View: Graph"),"tbGraph",2)]})
	}if(Z){b=this.getPortletExportGridToolbar(AE)
	if(b){u=b.css
	Y=b.node
	m.push(Y)
	}}if(AD){if(AM.iifp){AI="wrap"
	m.push({scriptClass:"mstrmojo.ToolBar",slot:"leftToolbarNode",alias:"leftToolbar",children:[X(mstrmojo.desc(8973,"Collapse"),"co",null,1,c),X(mstrmojo.desc(8972,"Expand"),"ex",null,0,c)]})
	}else{var AA=[X(mstrmojo.desc(4539,"Minimize"),"mn",G,1,c),X(mstrmojo.desc(4540,"Restore"),"rs",U,0,c),X(mstrmojo.desc(4541,"Maximize"),"mx",M,2,c)]
	if(Z&&b){Y.children=(Y.children||[]).concat(AA)
	}else{u="resize"
	m.push({scriptClass:"mstrmojo.ToolBar",slot:"toolbarNode",alias:"rightToolbar",children:AA})
	}}}AE.slot="contentNode"
	AE.alias="content"
	AE.title=AM.ttl||""
	if(AM.sec){var AJ=q.data.elms,l=q.data.ces,v=q.data.unset,AL=(l&&l.length)||0,AN=(AJ&&AJ.length)||0,AK
	if(AM.sos){AE.contentClass="fpsb"
	for(AK=AL-1
	AK>=0
	AK--){if(l[AK]._did_){AL--
	}}AE.count=R.buildElemsCountStrByNum(AL,AN)
	}if(l&&AJ&&AJ.length&&AM.style!==mstrmojo.DocSelector.STYLES.SCROLLER){if(AM.multi){if(v){AE.count=R.buildElemsCountStr(AJ,AJ)
	}else{AE.count=R.buildElemsCountStr(l,AJ,!AM.include)
	}}else{AE.count=R.buildElemsCountStr(AJ,AJ)
	}}}m.push(AE)
	if(AH===A.PANELSTACK){var h=function(AQ,w,AP,t){return S(AQ,AF+w,function(){return this.parent.parent.content.switchToPanel(t)
	},{enabled:"this.parent.parent."+AP})
	},k=[],a=[],p=!!q.sw,j=!!AM.ifw,e=!!AM.ifp
	if(p){a.push(h(mstrmojo.desc(1058,"Previous"),"tbPrev","prevEnabled",-1))
	k.push(h(mstrmojo.desc(2917,"Next"),"tbNext","nextEnabled",1))
	}if(j){k.push(S(mstrmojo.desc(2102,"Close"),AF+"mstrmojo-DocInfoWindow-close",function(){this.parent.parent.parent.close()
	}))
	}if(e){o="ifp"
	var AB=mstrmojo.desc(2164,"Apply")
	m.push({scriptClass:"mstrmojo.HBox",slot:"buttonbarNode",alias:"buttonbar",cssClass:"buttonBox",children:[{scriptClass:"mstrmojo.Button",alias:"resetBtn",title:mstrmojo.desc(8329,"Unset"),text:mstrmojo.desc(8329,"Unset"),cssClass:"mstrmojo-FilterPanel-Btn apply",bindings:{visible:function(){return !AM.cas
	},enabled:function(){return this.parent.parent.clearEnabled
	}},onclick:function AC(){if(AE&&AE.clearBuffSlices){AE.clearBuffSlices()
	AE.clearAllFilter()
	AE.applyBufferedSlices()
	}}},{scriptClass:"mstrmojo.Button",alias:"applyNow",title:AB,text:AB,cssClass:"mstrmojo-FilterPanel-Btn apply",bindings:{visible:function(){return !AM.cas
	},enabled:function(){return this.parent.parent.applyEnabled
	}},onclick:function AC(){if(AE&&AE.applyBufferedSlices){AE.applyBufferedSlices()
	}}}]})
	k.push({scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-oivmSprite tbDown",alias:"btnMenu",onclick:function AC(){this.openPopupMenu()
	},openPopupMenu:function(){var t=mstrmojo.findAncestor(this,"openPopupMenu")
	if(t){t.openPopupMenu("mstrmojo.FilterPanelMenu",{openerButton:this,fps:AE,cmPos:this.cmPos,lockIW:AE})
	}}})
	x=true
	}if(j||e){var AO=[]
	if(p){AO[0]="pst-l"
	}if(e){AO.push("ifp")
	}a.push({scriptClass:"mstrmojo.Box",cssClass:AO.join(" ")})
	}if(j||p||e){var r=j?"ifw ":"",AG=e?"ifp ":"",g=!AM.cas?"cas ":""
	u=(p?"pst-r ":"")+r+AG+g
	AI=(p?"pst-l ":"")+r+AG+g
	m.push({scriptClass:"mstrmojo.ToolBar",slot:"leftToolbarNode",alias:"leftToolbar",children:a})
	m.push({scriptClass:"mstrmojo.ToolBar",slot:"toolbarNode",alias:"rightToolbar",children:k})
	}}if(AH===A.SELECTOR&&AE.spm){u="spm"
	m.push({scriptClass:"mstrmojo.ToolBar",slot:"toolbarNode",alias:"rightToolbar",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-oivmSprite tbDown",alias:"btnMenu",onclick:function AC(t){t.cancel()
	this.openPopupMenu()
	},openPopupMenu:function(){var t=mstrmojo.findAncestor(this,"openPopupMenu")
	if(t){t.openPopupMenu("mstrmojo.SelectorMenu",{openerButton:this,selector:AE,cmPos:this.cmPos})
	}}}]})
	x=true
	}var z=AD?mstrmojo.DocResizablePortlet:mstrmojo.DocPortlet,n={k:AE.k,defn:AE.defn,model:AE.model,children:m,title:AE.title,count:AE.count,floatingTitle:(AM.ttl===undefined&&AM.qsm),leftToolbarNodeClass:AI,loadDataOnResize:f,toolbarNodeClass:u,buttonbarNodeClass:o,attachContextMenuEvent:x}
	if(AH===A.PANELSTACK){n.bindings={title:"this.children[0].title"}
	if(q.sw){n.bindings.prevEnabled=function(){return this.children[0].hasPreviousPanel
	}
	n.bindings.nextEnabled=function(){return this.children[0].hasNextPanel
	}
	}if(AM.ifp){n.bindings.applyEnabled=function(){return this.children[0].applyEnabled
	}
	n.bindings.clearEnabled=function(){return this.children[0].clearEnabled
	}
	}}if(AM.iifp){n.onclicktitle=function(){if(AE.defn.ds===1){AE.parent.onexpand()
	}else{AE.parent.oncollapse()
	}}
	}return new z(n)
	},newXtabModel:function P(Y){return new mstrmojo.DocXtabModel(Y)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.array","mstrmojo.hash","mstrmojo.dom","mstrmojo.Container","mstrmojo._HasLayout","mstrmojo._HasContextualLink","mstrmojo._Formattable","mstrmojo._IsDocumentTemplate","mstrmojo.Label","mstrmojo.VisUtility","mstrmojo.ui.menus.MenuConfig","mstrmojo.vi._MonitorsAppState","mstrmojo.vi.ui.rw._SupportViewFilterInVizBox","mstrmojo.util.FontLoader")
	mstrmojo.requiresClsP("mstrmojo.vi.viz","EnumVisualizationTemplates","EnumVizStyles","EnumWidgetTypes")
	var O=mstrmojo.dom
	var b={top:"top",left:"left","z-index":"zIndex",width:"width",height:"height"}
	var Q=["background-color","fx"],K={width:"width",height:"height"},h=mstrmojo.array,P=mstrmojo.hash,a=mstrmojo.VisUtility
	$FORMAT_MODEL=mstrmojo.models.FormatModel,$ENUM_REACT_FORMAT_TABS=$FORMAT_MODEL.ENUM_REACT_FORMAT_TABS
	mstrmojo.VisBase=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout,mstrmojo._Formattable,mstrmojo._IsDocumentTemplate,mstrmojo._HasContextualLink,mstrmojo.vi.ui.rw._SupportViewFilterInVizBox,mstrmojo.vi._MonitorsAppState],{scriptClass:"mstrmojo.VisBase",updated:false,waitingForData:false,node:null,excludeData:false,skipReRender:false,triggerReRender:false,updateFormatsOnUpdate:true,bgFormats:{},init:function n(w){this.excludeData=!!(mstrConfig.resolveOnly||mstrApp.isAppStatePause&&mstrApp.isAppStatePause())
	if(this._super){this._super(w)
	}},setModel:function q(w){this.set("model",w)
	},destroy:function m(){var w=this.model
	if(w&&w.destroy){w.destroy()
	delete this.model
	}this._super()
	},resize:function S(){var w=this.getFormats()
	if(parseInt(w.height,10)===0||parseInt(w.width,10)===0){this.domNode.style.display="none"
	}else{this.setDimensions(w.height,w.width)
	this.domNode.style.display=""
	}},setDimensions:function l(AA,z){var x=this._super(AA,z)
	if(x&&this.hasRendered&&!this.skipReRender){this.reRender()
	}return x
	},reRender:function N(){this.unrender()
	this.render()
	},unrender:function E(w){mstrmojo.util.FontLoader.cancelLoadRequests(this.id,true)
	this._super(w)
	},getWidth:function r(){return parseInt(this.width,10)
	},getHeight:function g(){return parseInt(this.height,10)
	},getLeft:function e(){return parseInt(this.left,10)
	},getTop:function B(){return parseInt(this.top,10)
	},needExtraPaddingTop4Legend:function(){var w=a.isOnExpressMode()
	return !w&&this.parent&&this.parent.showTitleBar===false
	},getFonts:mstrmojo.emptyFn(),loadFonts:function H(w,x){if(mstrmojo.util.FontLoader.load(this.id,w,x)){x.success()
	}},getNodeKey:function I(){return this.node.k
	},getTemplateKey:function X(){return this.node.k
	},preBuildRendering:function A(){if(this.requirePreload){var w=function w(){this.requirePreload=false
	this.render()
	}
	if(mstrmojo.util.FontLoader.load(this.id,this.getFonts(),{success:w.bind(this),failure:w.bind(this)})){return this._super()
	}else{return false
	}}return this._super()
	},buildRendering:function D(){this.height=this.getHeight()
	this.width=this.getWidth()
	this.left=this.getLeft()
	this.top=this.getTop()
	if(!this.updated){this.update()
	}this._super()
	},initFromVisProps:function k(){},postBuildRendering:function(){var w=this.isEmpty()
	this._super()
	this.raiseEvent({name:"toggleCtrlOverlay",visible:w||this.excludeData,controls:this.getVisEmptyMsgControls()})
	this.applyBackground()
	return !w
	},applyBackground:function f(){var x=this.bgFormats,AA,w,AB,z
	if(mstrApp.isExpress&&!P.isEmpty(x)){AA=this.formatHandlers=this.formatHandlers||{}
	AB=AA.domNode=AA.domNode||[]
	w="BG"
	z=h.indexOf(AB,w)
	if(z<0){AB.push(w)
	}this.applyCSSFormatToNode("domNode",x)
	}},parseBgFormats:function J(){var w=this.id
	return{success:function(AD){var AA,AF,AC,x,AE,z,AB=mstrmojo.all[w],AG=AB&&AB.getDocModel()
	if(AD.defn&&AD.defn.layouts&&AB&&AG){AF=AD.defn.layouts
	AA=h.find(AF,"k",AG.getCurrentLayoutKey())
	AC=AF[AA]
	x=AC&&AC.units&&AC.units[AB.k]
	AE=x&&x.fmts
	if(AE){z=AB.bgFormats={}
	h.forEach(Q,function(AH){if(AE[AH]){z[AH]=AE[AH]
	}})
	}}}}
	},onAppStateChange:function(w){var x=mstrApp.isAppStatePause&&mstrApp.isAppStatePause(),z=w.valueWas&mstrmojo.vi.VisualInsightApp.APP_STATES.PAUSE
	this.excludeData=!!(mstrConfig.resolveOnly||x)
	if(this._super){this._super(w)
	}if((x&&!z)||(!x&&z&&!mstrApp.enableUpdate)){this.raiseEvent({name:"toggleCtrlOverlay",visible:this.excludeData||this.isEmpty(),controls:this.getVisEmptyMsgControls()})
	if(this.triggerReRender){this.refresh()
	this.triggerReRender=false
	}}},refresh:function t(w){if(this.excludeData){this.raiseEvent({name:"toggleCtrlOverlay",visible:true,controls:this.getVisEmptyMsgControls()})
	return 
	}this._super(w)
	},update:function j(AA){AA=AA||this.node
	if(AA){var w=AA.data
	if(w){this.model.set("data",w)
	}this.waitingForData=!!w.nsj
	if(this.waitingForData){var x="ServerJsonRWDStyle"
	var AB=this.model,z=AB.getDataService(),AC={host:this,nodes:[this.k]},AE
	if(w.wid!==undefined){AC.slices=[w.wid]
	}AE=mstrmojo.func.wrapMethods(this.parseBgFormats(),AB.docModel.getUpdateColorMapCallback(),AB.docModel.getUpdateThemePaletteCallback(true),AB.controller._getXtabCallback(this,false))
	z.retrieveServerJson(AC,AE,{preserveUndo:true,style:{name:x,params:{treesToRender:3}},params:{styleName:x}})
	this.updated=true
	return false
	}this.updateContentFormats(AA)
	}if(this.model){var AF=this.model&&this.model.docModel
	this.initFromVisProps(this.model.vp)
	if(AF&&AF.getDocBuilder){var AD=AF.getDocBuilder().getMojoVisName(AA)
	if(AD){AA.data.visName=AD
	}}}this.updated=true
	if(this._super){return this._super(AA)
	}return true
	},updateContentFormats:function R(AB){var z,AC,x,AA=AB.defn,w=this.builder
	if(this.updateFormatsOnUpdate&&AA){if(w&&w.isPortlet&&w.isPortlet(AA)){AC=K
	}else{AC=b
	}x=AA.fmts||AA.units[this.model.k].fmts
	for(z in AC){if(AC.hasOwnProperty(z)&&x.hasOwnProperty(z)){this[AC[z]]=x[z]
	}}}},isEmpty:function U(){return false
	},canDuplicate:function Z(){return true
	},getVisEmptyMsgControls:function M(){return[{scriptClass:"mstrmojo.Label",cssClass:"dropMsg",text:mstrmojo.desc(11668,"Drag objects here.")}]
	},getModel:function u(){return this.model
	},getData:function Y(){return this.model.data
	},getRowsAndCols:function(){var w=this.model.data.gts
	return(w.row||[]).concat(w.col||[])
	},getExp:function(){var w=this.model.data,x=w&&w.sc&&w.sc.exp
	return x
	},getDocModel:function o(){return this.model&&this.model.docModel
	},getTitleRMCPopup:mstrmojo.emptyFn,getMenuHandler:function d(){return mstrmojo.emptyFn
	},renderErrorMessage:function v(w){var x=document.createElement("div")
	x.className="mstrmojo-message"
	x.textContent=w
	this.domNode.appendChild(x)
	},getMessageID:function c(){return this.model.docModel.mid||this.model.mid
	},performAction:function p(w){var x=this.model,AB=this.scriptClass==="mstrmojo.heatmap.vi.VisHeatMap",AA=AB?x.getHMAction(w):x.getAction(w),z=AA&&AA.h
	if(z&&this.controller[z]){this.controller[z](this,AA.a)
	return true
	}return false
	},deleteSelectorControl:function W(){var w=this.getData(),x=w.sc
	if(x&&parseInt(x.ct,10)===6){delete w.sc
	}},findSelectorControl:function G(){var x=this.getData(),w=x&&x.sc
	if(w&&parseInt(w.ct,10)===6){this.selectorControl=w
	this.isMultiSelect=true
	}else{delete this.selectorControl
	}return this.selectorControl
	},displayVizBoxVisFilterIndicator:function C(w,x){if(w&&x&&x.displayVisFilterIndicator){x.displayVisFilterIndicator()
	}},isCurrentVizBoxSelected:function L(){var x=this.getDocModel(),z,w
	if(x&&typeof x.getSelectedViUnit==="function"){z=x.getSelectedViUnit()
	w=z&&z.boxContent
	return w===this
	}},supportFeatureImpl:function(z,AB,x,AA){var w=z[AB][x]
	if(AA!==undefined&&w!==undefined){return(AA&w)>0
	}return false
	},syncWithReactFormatPanel:function F(x){if(mstrApp.supportFeature&&mstrApp.supportFeature(mstrmojo.vi.enums.EnumFeatures.DOSSIER_REACT_FORMAT_PANEL)){var w
	if(!x){w=$ENUM_REACT_FORMAT_TABS.PROPERTY_TAB
	}this.raiseEvent({name:"updateFormatPanelSelection",tabId:w})
	}},})
	if(O.isTouchOptimizationEnabled()){mstrmojo.mixin(mstrmojo.mobile.vi.ui.rw._IsInPanelStack,mstrmojo.VisBase.prototype)
	mstrmojo.mixin(mstrmojo.mobile._VisBaseSupportsTouches,mstrmojo.VisBase.prototype)
	}}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.func","mstrmojo.vi.models.DocXtabModel","mstrmojo.EnumRWUnitType")
	var C=mstrmojo.array,B=mstrmojo.hash
	var F="Metrics",D=2,H="\u001E",E="\u001F"
	mstrmojo.vi.models.DocVisModel=mstrmojo.declare(mstrmojo.vi.models.DocXtabModel,null,{scriptClass:"mstrmojo.vi.models.DocVisModel",getHMSelecAttrElemIdsInfo:function(R){var Q=R[0],L=Q.tid,N=Q.tids,M=Q.selections,K={},S=[],P=this.scm,O=(L&&P&&P[L])
	C.forEach(M,function(W){var U=(W&&W.length)||0,X=U>0?W[U-1]:{},Y=X.tid
	if(P[Y]){if(!K[Y]){K[Y]=[]
	}K[Y].push(X.eid)
	}})
	B.forEach(K,function(U){S.push(U.join(H))
	})
	if(O&&O.showall&&S.length===0){C.forEach(N,function(U){S.push("OA:(All)")
	K[U]=[]
	})
	}return{eids:S.join(E),tids:Object.keys(K)}
	},getSelectedAttributeElementIdStr:function(S){var R=S[0],K=R.tid,L,M=R.selections,N=[],P=[]
	C.forEach(M||[],function(U){N=N.concat(C.filter(U,function(W){return W.tid===K
	}))
	})
	N=C.distinct(N,"eid")
	(N||[]).forEach(function(U){P.push(U.eid)
	})
	L=P.join(H)
	var Q=this.scm,O=(K&&Q[K])
	if(O&&O.showall&&P.length===0){L="OA:(All)"
	}return L
	},getHMAction:function A(a){var Z=a[0],N=Z&&Z.at,R=Z.anchor,M=Z.selections,X=this.scm,K=[],O=[],Q=[],b=[],S,U,Y,L,W,P
	W=this.getHMSelecAttrElemIdsInfo(a)
	L=W.eids
	if(M.length!==0&&L===""){return null
	}if(N&&((N&D)>0)&&X){C.forEach(W.tids,function(d){var c=X[d]
	if(c){K.push(c)
	O.push(c.ck)
	Q.push(c.ckey)
	b.push(c.tks)
	}})
	S=O.join(E)
	U=Q.join(E)
	Y=b.join(H)
	if(K.length&&L!==""){P={h:"onGridSelector",a:{type:mstrmojo.EnumRWUnitType.GRID,anchor:R,ck:S,tks:Y,eid:L,ctlKey:U,sliceId:this.xtab.sid,isUConDS:K[0].isUConDS,isDocVis:true}}
	}}return P
	},getDrillWithinActionsForAssociatedNodes:function G(K,L,Q,R){var O=this,U=this.docModel,M=[U.getDataService().getDrillGridAction(this.getDrillAction(this.xtab.k,L,K))],S=!!R?R:this.xtab,N=!mstrApp.isInVFConfigMode?(S.getAssociatedNodes&&S.getAssociatedNodes()||[]):[]
	Q=mstrmojo.func.wrapMethods(Q,{success:function P(){C.forEach(N,function(X){var W=U.getPanel().getUnitByKey(X.k)
	if(W&&W.boxContent){W.boxContent.raiseEvent({name:"regenerateToolbar"})
	}})
	}})
	C.forEach(N,function(W){M.push(U.getDataService().getDrillGridAction(O.getDrillAction(W.k,L,K)))
	})
	return{actions:M,callback:Q}
	},getDrillAction:function I(L,N,K){function M(S){var R=[]
	for(var Q=0,O=S.length
	Q<O
	Q++){var W=S[Q]
	for(var P=0,X=W.length
	P<X
	P++){var U=W[P]
	if(mstrApp.useBinaryFormat){R.push(U.axis+"A"+(U.ui+1)+"A"+U.o)
	}else{R.push(U.axis+"A"+(U.ui+1)+"A"+U.o)
	}}}return(mstrApp.useBinaryFormat)?R:R.join(",")
	}return{srcMsgId:this.data.mid,sliceId:this.xtab.sid,nodeKey:L,retainParent:K.retainParent||"",isWithin:K.drillPath.within,drillPathKey:K.drillPath.k,drillPathIndex:K.drillPath.dpi,drillElements:M(N)}
	},getAction:function J(U){var S=U[0],N=S&&S.at,P=S.anchor,K=S.tid,L,O,M=S.selections
	L=this.getSelectedAttributeElementIdStr(U)
	if(M.length!==0&&L===""){return null
	}if(N&&((N&D)>0)){var R=this.scm
	var Q=(K&&R[K])||R[F]
	if(Q&&L!==""){O={h:"onGridSelector",a:{type:mstrmojo.EnumRWUnitType.GRID,anchor:P,ck:Q.ck,tks:Q.tks,eid:L,ctlKey:Q.ckey,sliceId:this.xtab.sid,isUConDS:Q.isUConDS,isDocVis:true}}
	}}return O
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.array","mstrmojo.hash","mstrmojo.color","mstrmojo._HasLayout","mstrmojo.vi.ui._IsPanel","mstrmojo._HasPopup","mstrmojo._HasOwnAvatar","mstrmojo.vi.controllers.EnumEvents","mstrmojo.vi.ui._HasTargets","mstrmojo.vi.ui._IsBoxLayoutChild","mstrmojo.vi.ui._IsDropTarget","mstrmojo.vi._MonitorsAppState","mstrmojo.vi._MonitorsLayoutMode","mstrmojo._Formattable","mstrmojo.vi.ui._IsUnitContainerTitleBar","mstrmojo.DynamicClassFactory","mstrmojo.Box","mstrmojo.css","mstrmojo.dom","mstrmojo.func","mstrmojo.string","mstrmojo.models.FormatModel","mstrmojo.DocDataService","mstrmojo.vi.ui.TitleBar","mstrmojo.vi.models.EnumDragSources","mstrmojo.vi.enums.EnumThemeProperties","mstrmojo.vi.ui.rw._HasVisFilterIndicator","mstrmojo.EnumRWUnitType","mstrmojo.vi.ui._CanGroup","mstrmojo._IsAccessibleMenu","mstrmojo.util.ui._HostsSplitter","mstrmojo.vi.ui._CanFreeformGroup","mstrmojo.vi.ui._SupportLayerNode","mstrmojo.vi.ui.rw._boxCornerResizer","mstrmojo.vi.ui.BoxLayoutConfig","mstrmojo.VisUtility","mstrmojo.VisBase","mstrmojo.Xtab","mstrmojo.vi.util.A11yUtility","mstrmojo.vi.ui.rw._SupportTabNav")
	mstrmojo.requiresDescs(629,1388,3099,3100,3101,3102,3499,3500,3501,3502,3503,3504,3506,3507,11477,11478)
	var B5=mstrmojo.array,CG=mstrmojo.vi.ui.BoxLayoutConfig.EnumBoxType,Bk=mstrmojo.css,BH=mstrmojo.dom,Ax=mstrmojo.hash,AJ=mstrmojo.func,A8=mstrmojo.string,AD=mstrmojo.color,p=mstrmojo.vi.util.A11yUtility,BM=mstrmojo.vi.models.EnumDragSources,AF=mstrmojo.models.FormatModel,A1=AF.ENUM_PROPERTY_NAMES,Ba=AF.ENUM_REACT_FORMAT_TABS,AA=mstrmojo.vi.enums.EnumFeatures,Bj=mstrmojo.vi.ui.BoxLayoutConfig.EnumModeHidden,Bz=mstrmojo.EnumRWUnitType,CI=mstrmojo.VisUtility,By=mstrmojo.vi.controllers.EnumEvents,M=1,G="visible",B7="mouse-left",CJ="no-menu",BB="ctrlOverlay",Au="or-v",AN="or-h",BC="accessible",A2=3.5,Bc=5,AX=2,CY=0
	var Bq=BH.isTouchOptimizationEnabled()?[]:["mouseenter","mouseover","mouseleave","mousemove","mouseout","click","contextmenu","keydown","keyup","focus","blur"]
	var B6={SHORT:"ghost-short",TALL:"ghost-tall",GRANDE:"ghost-grande",VENTI:"ghost-venti",HIDE_TITLE:"ghost-hide-title",HIDE_DESC:"ghost-hide-desc"}
	var Af={BLACK:"ghost-black",WHITE:"ghost-white",GREY:"ghost-grey"}
	var e=Ax.valarray(B6)
	var W=Ax.valarray(Af)
	var D=e.concat(W)
	var CE={W_LV1:{H_LV1:[B6.VENTI],H_LV2:[B6.GRANDE],H_LV3:[B6.TALL],H_LV4:[B6.TALL,B6.HIDE_TITLE],H_LV5:[B6.SHORT,B6.HIDE_TITLE],H_LV6:[B6.SHORT,B6.HIDE_TITLE,B6.HIDE_DESC]},W_LV2:{H_LV1:[B6.GRANDE],H_LV2:[B6.GRANDE],H_LV3:[B6.TALL],H_LV4:[B6.TALL,B6.HIDE_TITLE],H_LV5:[B6.SHORT,B6.HIDE_TITLE],H_LV6:[B6.SHORT,B6.HIDE_TITLE,B6.HIDE_DESC]},W_LV3:{H_LV1:[B6.TALL],H_LV2:[B6.TALL],H_LV3:[B6.TALL],H_LV4:[B6.TALL,B6.HIDE_TITLE],H_LV5:[B6.SHORT,B6.HIDE_TITLE],H_LV6:[B6.SHORT,B6.HIDE_TITLE,B6.HIDE_DESC]},W_LV4:{H_LV1:[B6.SHORT],H_LV2:[B6.SHORT],H_LV3:[B6.SHORT],H_LV4:[B6.SHORT,B6.HIDE_TITLE],H_LV5:[B6.SHORT,B6.HIDE_TITLE],H_LV6:[B6.SHORT,B6.HIDE_TITLE,B6.HIDE_DESC]},W_LV5:{H_LV1:[B6.SHORT],H_LV2:[B6.SHORT],H_LV3:[B6.SHORT],H_LV4:[B6.SHORT,B6.HIDE_TITLE],H_LV5:[B6.SHORT,B6.HIDE_TITLE,B6.HIDE_DESC],H_LV6:[B6.SHORT,B6.HIDE_TITLE,B6.HIDE_DESC]}}
	function h(Ce){var Ch=Ce?Ce.c1||Ce:"",Cg=AD.getLuminance(Ch),Cd=255,Ci=68.7914,Cf=Math.max(Cd/Cg,Cg/Cd),Cj=Math.max(Ci/Cg,Cg/Ci)
	if(Cf>=Cj){return Af.WHITE
	}if(Cg<190){return Af.BLACK
	}return Af.GREY
	}function q(Ch,Ce){var Cj,Ci,Cg
	if(Ch>=1024){Cj="W_LV1"
	}else{if(Ch>=640){Cj="W_LV2"
	}else{if(Ch>=320){Cj="W_LV3"
	}else{if(Ch>=100){Cj="W_LV4"
	}else{Cj="W_LV5"
	}}}}if(Ce>=1024){Ci="H_LV1"
	}else{if(Ce>=640){Ci="H_LV2"
	}else{if(Ce>=320){Ci="H_LV3"
	}else{if(Ce>=200){Ci="H_LV4"
	}else{if(Ce>=100){Ci="H_LV5"
	}else{Ci="H_LV6"
	}}}}}Cg=CE[Cj][Ci]
	if(this.getFormats){var Cd=this.getFormats(),Cf=Cd&&Cd["background-color"]
	Cg=Cg.concat(h(Cf))
	}return Cg
	}function AB(Cd){Cd=document.createElement("div")
	Cd.className="hover-drag-icon-btn"
	Cd.setAttribute("tabindex","0")
	Cd.setAttribute("role","button")
	Cd.setAttribute("data-icon-type","drag")
	var Ce="Drag Icon for "+this.title
	Cd.setAttribute("aria-label",Ce)
	if(this.menuBtnInfo.btn){this.domNode.insertBefore(Cd,this.menuBtnInfo.btn)
	}else{this.domNode.appendChild(Cd)
	}return Cd
	}mstrmojo.vi.ui.rw.UnitContainerTitleBar=mstrmojo.DynamicClassFactory.newComponent(mstrmojo.vi.ui.TitleBar,[mstrmojo.vi.ui._IsUnitContainerTitleBar],{scriptClass:"mstrmojo.vi.ui.rw.UnitContainerTitleBar"})
	var AS={n:mstrmojo.desc(11477,"Hide Titlebar"),cls:"htb",fn:function(){this.toggleTitleBar(false)
	},dsbld:false}
	var CH={n:mstrmojo.desc(11478,"Show Titlebar"),cls:"stb",fn:function(){this.toggleTitleBar(true)
	},dsbld:false}
	function E(Ce,Cd,Cf){var Cg=mstrApp.isAppStatePresentation(),Ch=this.domNode
	Bk.toggleClass(this.domNode,"pulse",Ce&&!Cg&&!Cf)
	if(Cd){setTimeout(function(){Bk.toggleClass(Ch,"pulse",false)
	},500)
	}}function BT(Cg,Cd){var Ce=mstrmojo.all[Cg],Cf=Ce.getNodeDataByKey(Cd).id
	return mstrmojo.all[Cf].parent
	}function AI(Cd,Ce){Bk.toggleClass(Cd,G,Ce)
	Bk.toggleClass(Cd,B7,!Ce)
	}function AT(){var Cg=this.menuBtnInfo,Ci=Cg&&Cg.menuCfg,Cf=Ci&&Ci.menus,Ch=(Cf&&Cf.length>0)&&!BH.isTouchOptimizationEnabled(),Cd=Cg&&Cg.btn,Ce=this.dragIcon
	if(Cd){Cd.style.display=Ch?"block":"none"
	}Bk.toggleClass(this.domNode,CJ,!Ch)
	AI(Ce,this.draggable&&!Ch&&!mstrApp.isAppStatePresentation())
	}function CF(Cd,Cf){var Ce=this.getContextDragData(Cd)
	return !!(Ce&&(Ce.src===Cf))
	}function AY(Cd){return CF.call(this,Cd,BM.FILTERS)
	}function CO(Cd){return CF.call(this,Cd,BM.DATASETS)
	}function A7(Cd){return CF.call(this,Cd,BM.ALL_OBJECT_LIST)
	}function BI(Cd){return CF.call(this,Cd,BM.VIZ_GALLERY)
	}function AK(Cd){var Ce=Cd.children
	if(Ce&&Ce.length){Cd.removeChildren()
	Ce.forEach(function(Cf){Cf.destroy()
	})
	}}function b(){var Cd=this.boxContent
	if(Cd&&Cd.getFormats){return Cd.getFormats()
	}return null
	}function Bt(Cd){if(Cd.visible){if(Cd.controls){this.showControlOverlay(Cd.controls)
	}else{throw new Error('mstrmojo.vi.ui.rw.UnitContainer: "controls" should be provided when showing the control overlay')
	}}else{this.hideControlOverlay()
	}}function BO(Ch,Ce){var Cf=this.model.controller,Cg="propertiesPanel",Cd=function(){var Cj=this.getFormatMenuItemTarget(Ch)
	var Cl=this.getEditorModel()
	if(Cl.selectTargetByValue){Cl.selectTargetByValue(Cj,Ch&&Ch.data)
	}if(Ce){Ce(Cj)
	}var Ci=Cf.getViPanel(Cg),Ck=Ci&&Ci.parent
	if(Ck&&Ck.highlightSelected){Ck.highlightSelected()
	}}.bind(this)
	if(Cf.getViPanel(Cg)){Cf.selectViPanel(Cg)
	Cd()
	}else{Cf.openViPanel(Cg,{success:Cd})
	}}function Bd(Cf,Cd){var Ce=Cf?"titlebarNode":"domNode"
	this.clearCache()
	this.clearSlotBackgroundCSS(Ce)
	this.applyCSSFormatToNode(Ce,Cd)
	}function Ad(Cd){Bk.toggleClass(this.domNode,"hasLink",Cd||this.hasActiveLink())
	}mstrmojo.vi.ui.rw.UnitContainer=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout,mstrmojo._Formattable,mstrmojo._HasPopup,mstrmojo._HasOwnAvatar,mstrmojo.vi.ui._IsBoxLayoutChild,mstrmojo.vi.ui._IsDropTarget,mstrmojo.vi._MonitorsAppState,mstrmojo.vi._MonitorsLayoutMode,mstrmojo.vi.ui._HasTargets,mstrmojo.vi.ui.rw._HasVisFilterIndicator,mstrmojo.vi.ui._CanGroup,mstrmojo.util.ui._HostsSplitter,mstrmojo.vi.ui.rw._boxCornerResizer,mstrmojo.vi.ui._CanFreeformGroup,mstrmojo.vi.ui._SupportLayerNode,mstrmojo.vi.ui.rw._SupportTabNav],{scriptClass:"mstrmojo.vi.ui.rw.UnitContainer",markupString:'<div id="{@id}" tabindex = "-1" role="widget" aria-label="{@en@ariaLabel}" class="mstrmojo-UnitContainer {@cssClass}" style="{@cssText} {@domNodeCssText}" mstrAttach:'+Bq.join(",")+'><div class="mstrmojo-UnitContainer-SplitterHost"><div class="mstrmojo-UnitContainer-ContentBox"><div class="mstrmojo-UnitContainer-titlebar" style="{@titlebarNodeCssText}"></div><div class="mstrmojo-UnitContainer-content"></div><div class="mstrmojo-VIDND-mask"></div></div></div></div>',markupSlots:{titlebarNode:function(){return this.domNode.firstChild.firstChild.firstChild
	},containerNode:function(){return this.domNode.firstChild.firstChild.childNodes[1]
	},splitterHostNode:function(){return this.domNode.firstChild
	},maskNode:function(){return this.domNode.firstChild.firstChild.lastChild
	}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,ontopChange:mstrmojo.Widget.topMarkupMethod,onleftChange:mstrmojo.Widget.leftMarkupMethod,onzIndexChange:function(){this.domNode.style.zIndex=this.zIndex||M
	},ondraggableChange:function(){if(this.titleBar.lblTitle.domNode){this.titleBar.lblTitle.domNode.style.cursor=this.draggable?"move":"auto"
	}if(!this.draggable){AI(this.dragIcon,this.draggable&&!this.getTitleBarVisibility())
	}},onresizableChange:function(){if(this.resizerCache){var Cd=this
	this.resizerCache.forEach(function(Cf,Ce){Cf.style.cursor=Cd.resizable?(Ce&2?"s":"n")+(Ce===0||Ce===3?"w":"e")+"-resize":"auto"
	})
	this.splitterCache.forEach(function(Cf,Ce){Cf.style.cursor=Cd.resizable?(Ce%2?"ns":"ew")+"-resize":"auto"
	})
	}},onmaxRestoreActiveChange:function(){if(this.maxRestoreBtnNode){this.maxRestoreBtnNode.style.display=this.maxRestoreActive&&this.toolbarActive?"":"none"
	}},ontoolbarActiveChange:function(){if(this.menuBtnInfo&&this.menuBtnInfo.btn){this.menuBtnInfo.btn.style.display=this.toolbarActive?"":"none"
	}},oneditableChange:function(){this.editable=this.editable&&mstrApp.allowWebDashboardDesign()
	var Cd=this.editable
	if(this.titleBar.lblTitle){this.titleBar.lblTitle.set("editOnDoubleClick",Cd)
	}this.set("draggable",Cd)
	this.set("resizable",Cd)
	},onenabledChange:function(){Bk.toggleClass(this.domNode,"inactive",!this.enabled)
	},onorientationChange:function(){var Ce=this.ctrlOverlay.domNode,Cd=this.orientation
	Bk.toggleClass(Ce,Au,Cd==="v")
	Bk.toggleClass(Ce,AN,Cd==="h")
	this.orientationHasChanged()
	},onghostImgCssChange:function(){var Ce=this.ctrlOverlay.domNode,Cd=this.ghostImgCss
	Bk.removeClass(Ce,D)
	Bk.addClass(Ce,Cd)
	},onariaLabelChange:function(){this.domNode.setAttribute("aria-label",A8.encodeHtmlString(this.ariaLabel,true))
	},ontitleChange:function(){this.updateAriaLabel()
	}},layoutConfig:{h:{titlebarNode:"auto",containerNode:"100%"},w:{titlebarNode:"100%",containerNode:"100%"},xt:true},formatHandlers:{domNode:["B","BG"],titlebarNode:{src:"ttl",props:["F","BG","text-align"]}},ariaLabel:"",onlyRedraw:false,updateOverlay:mstrmojo.emptyFn,getCacheKey:function j(){return this._super()+"-vi-uc"
	},getPanelForAddAction:function m(){return"propertiesPanel"
	},getExcludedPanels:function A(){return["editPanel"]
	},getEditorPanelContents:function Al(Ce,Cf,Cd){return undefined
	},getEditorPanelContentsBase:function d(Cs,Cj,Cz){var Cy=this,Ct=[],Ck=Cy.openMoreOptions
	var Co=(!!mstrApp.isWSStyling)?"mstrmojo.vi.ui.VisualizationEditorPanelPortlet":"mstrmojo.vi.ui.PanelPortlet",Cn=function(C0){return{scriptClass:C0.scriptClass==="mstrmojo.gmaps.MapLayerZone"?"mstrmojo.vi.ui.PanelPortlet":Co,title:C0.n,panelId:Cz,canCollapse:false,enabled:C0.enabled,portletSrc:C0,children:[C0]}
	},Cx=function(C2){var C1=Cs.getEditorListCls?Cs.getEditorListCls(C2):"mstrmojo.vi.ui.VisualizationEditorUnitList",C0={scriptClass:Co,title:C2.n,getTitleBarCfg:function(){return Ax.copy({useRichTooltip:true,shouldShowTooltip:function(){return true
	},getTooltipContent:function(){return C2.title
	}},this.constructor.prototype.getTitleBarCfg.call(this))
	},panelId:Cz,canCollapse:false,enabled:C2.enabled,portletSrc:C2,children:[{scriptClass:C1,items:C2.items,alias:"unitList",cssClass:C2.cssClass,panelId:Cz,zonesModel:Cs,zonesSource:C2}]}
	if(C2.siblings){C0.children=C0.children.concat(C2.siblings)
	}return C0
	},Cq=[],Cl=Cs.docModel.datasets,Cw=function(C0){(C0||[]).forEach(function(C1){if(C1.usedInDropZones){C1.usedInDropZones=false
	}})
	},Cf=function(C0,C2){var C1=B5.find(C0,"did",C2.did)
	if(C1>-1){C0[C1].usedInDropZones=true
	return true
	}return false
	},Ci=new mstrmojo.ui.menus.ToolbarConfig({supportsScroll:true,alignWithAnchor:true,isHostedWithin:false,maxHeight:BH.getMaxScrollHeight()})
	(Cj.zones||[]).forEach(function(C0){Cq=Cq.concat(C0.items)
	})
	var Cu=this.isAMSelector()
	if(!Cu){if(Cs.canSwapAxis()){Ci.addToolbarBtn(mstrmojo.desc(11658,"Swap"),"swap",function(){Cs.swapAxis()
	})
	}else{Ci.addDisabledToolbarBtn(mstrmojo.desc(11658,"Swap"),"swap")
	}if(Cs.canDefineSubtotals()){Ci.addToggleToolbarButton(mstrmojo.desc(6193,"Show Totals"),"totals",function(){Cs.showQuickSubtotals()
	},function(){Cs.hideDefinedSubtotals()
	},null,Cs.hasVisibleSubtotals())
	}else{Ci.addDisabledToolbarBtn(mstrmojo.desc(6193,"Show Totals"),"totals")
	}}var Cd=function(C5,C4){var C3=C5&&C5.boxContent,C1=C3&&C3.isVisMap,C2,C0=C4.docModel
	if(!mstrApp.isInVFConfigMode&&C3.isInFilterPanel&&C3.isInFilterPanel()){if(C1){C2=C0.clearVisAsFilterActionForMapLayer(C5,C3.getEditingHost(),false)
	}else{C2=C0.clearVisAsFilterAction(C5,false)
	}}C4.clearAllDropZones(C2)
	}
	var Cp=mstrmojo.all[Cs.hostId]
	if(Cu){Ci.addToolbarBtn(mstrmojo.desc(14389,"Remove Data"),"clearall",function(){Cy.objects=[]
	Cy.getUpdateCandAction()
	})
	}else{Ci.addToolbarBtn(mstrmojo.desc(14389,"Remove Data"),"clearall",function(){Cd(Cy,Cs)
	})
	}if(Ck){Ci.addToolbarDivider()
	Ci.addToolbarBtn(mstrmojo.desc(9126,"More Options"),"moreOptions",Ck.bind(Cy))
	}Ct.push({scriptClass:"mstrmojo.vi.ui.toolbars.Toolbar",alias:"toolbar",visible:true,useRichTooltip:true,cssClass:"VizEditorToolbar",getItemMarkup:function Ch(C0){return this.constructor.prototype.getItemMarkup.call(this,C0).replace("{@en@n}",'<div class="icn"></div>')
	},getLayoutOffsets:function(){return{w:6}
	}})
	Ax.keyarray(Cl).forEach(function(C0){Cw(Cl[C0].att)
	Cw(Cl[C0].mx)
	(Cq||[]).forEach(function(C1){if(!Cf(Cl[C0].att,C1)){Cf(Cl[C0].mx,C1)
	}})
	})
	(Cj.zones||[]).forEach(function(C0){if(C0.scriptClass){Ct.push(Cn(C0))
	}else{Ct.push(Cx(C0))
	}})
	if(Cu){var Cv=this.id,Cg=this.selectorHasSource(),Ce=this.hasTargets(),Cm=function(C0){var C1=mstrmojo.all[Cv]
	mstrApp.rootCtrl.view.openInlineDialog({scriptClass:"mstrmojo.vi.ui.FilterBoxInlineDialog",vis:C1})
	C0.cancel()
	},Cr=mstrmojo.Button.newWebButton(Ce?mstrmojo.desc(16874,"Edit Targets"):mstrmojo.desc(13629,"Select Targets"),Cg?Cm:mstrmojo.emptyFn,true,{alias:"btnSelect",enabled:Cg})
	Cr.cssClass+=" btn-select-targets"
	Ct.push(Cr)
	}return{contents:Ct,toolbarCfg:Ci}
	},titleBarCss:"",orientation:"h",k:"",boxContent:null,parent:null,enabled:true,isUnitContainer:true,draggable:true,editable:true,resizable:true,ctrlOverlay:null,model:null,title:"",titleBar:null,showTitleBar:false,bubbleMouseOver:true,dimensionsSet:false,getEditOverlayControls:mstrmojo.emptyFn,isNewUnitContainer:false,ghostImgCss:[],isGhstImgVisible:false,splittersInfo:null,resizerInfo:null,splitterCache:null,resizerCache:null,timer:null,shouldShowCustomizeContextMenu:function(Cd){var Ce=Cd.getTarget(),Cf=Ce&&Ce.nodeName.toLowerCase()
	return Cf&&!(Cf==="textarea"||(Cf==="input"&&Ce.type.toLowerCase()==="text"))
	},switchToEditMode:function c(){this.showControlOverlay(this.getEditOverlayControls())
	},init:function CR(Cf){this._super(Cf)
	var Ci=this.id,Ce=this.model,Ch=this.boxContent,Cd
	Ce.attachEventListener(By.SELECT_UNIT,Ci,function(Cj){var Ck=this
	if(!((Cj&&(Cj.ctrlKey||Cj.metaKey)&&!mstrApp.isLayoutModePreview())&&Ck.model._multiSelectUnits&&Ck.model.isCurPanelManual())){this.toggleBoxSelection(Ci===Cj.id)
	}if(Ck.model.isCurPanelManual()){if(Ci===Cj.id&&this.parent.groupTreeLayoutConfig&&this.parent.groupTreeLayoutConfig.getFloatGroupTree()){this.selectGroup()
	}}})
	Ce.attachEventListener("viIconTabClicked",Ci,function(Ck){var Cj=Ce.hgl
	if(Ce.getSelectedViUnit()&&Ck.id!=="vi_flt"&&!Cj){E.call(this,Ci===Ce.getSelectedViUnit().id,true,false)
	}})
	Ce.attachEventListener("viVizEditorDrag",Ci,function(Ck){var Cj=Ce.hgl
	if(Ce.getSelectedViUnit()&&Ck.id!=="vi_flt"&&!Cj){E.call(this,Ci===Ce.getSelectedViUnit().id,false,!Ck.isIn)
	}})
	this.addChildren([this.getTitleBarCfg(),{scriptClass:"mstrmojo.Box",cssClass:BB,alias:"ctrlOverlay",slot:"containerNode",visible:false}],0)
	Cd=this.titleBar
	if(Cd&&Cd.tbToolbar){Cd.tbToolbar.toolbarClicked=function(){Ce.selectVIUnit(Ci)
	}
	}this.menuBtnInfo={}
	this.showTitleBar=!!this.defn.httl
	this.draggable=mstrApp.allowWebDashboardDesign()
	Ch.attachEventListener("toggleCtrlOverlay",this.id,Bt)
	var Cg=Ch.edtModel
	if(Cg){Cg.attachEventListener("BEMFormatChange",this.id,"updateGhostImgCss")
	}this.applyNoFillClass()
	},getDocModel:function v(){return this.model
	},getBoxBorderWidth:function S(){var Cd=b.call(this),Cg=Cd&&Cd.border
	if(Cg){if(mstrApp.isExporting||!this.domNode){var Ch=[2.66,5.34]
	return Cg.indexOf("2pt")>-1?Ch[1]:Ch[0]
	}var Cf=window.getComputedStyle(this.domNode),Ce=2*parseFloat(Cf["border-width"]||Cf.borderTopWidth)
	return Ce
	}return 0
	},onFormat:function Bf(){var Cd=this.boxContent
	if(Cd.execFormatHandler){Cd.execFormatHandler()
	return 
	}BO.call(this)
	},showControlOverlay:function Aa(Cf,Ce){var Cg=this.ctrlOverlay,Ch=Cg.domNode
	if(Ch){var Cd=[BB]
	Cd.push((this.orientation==="v")?Au:AN)
	Cd=Cd.concat(this.ghostImgCss)
	if(Ce){Cd.push(Ce)
	}Ch.className=Cd.join(" ")
	}Cg.set("visible",true)
	AK(Cg)
	if(Cf){Cg.addChildren(Cf)
	this.isGhstImgVisible=true
	}},hideControlOverlay:function BN(){var Cd=this.ctrlOverlay
	Cd.set("visible",false)
	AK(Cd)
	this.isGhstImgVisible=false
	},editingTitleCallback:function Bv(Cd){var Ce=this.menuBtnInfo
	Bk.toggleClass(Ce.btn,"editing-title",Cd)
	},getTitleBarCfg:function Bl(){return{scriptClass:"mstrmojo.vi.ui.rw.UnitContainerTitleBar",slot:"titlebarNode",alias:"titleBar",title:this.title,editTitleOnDoubleClick:mstrApp.allowWebDashboardDesign(),beganEditingTitlebar:function Cf(){this.parent.editingTitleCallback(true)
	},titleEdited:function Cd(){this.parent.editingTitleCallback(false)
	},close:function(){this.parent.deleteSelf()
	},getLayoutOffsets:function Ce(){return{h:mstrApp.getThemeProps(mstrmojo.vi.enums.EnumThemeProperties.SUBTYPE.LAYOUT).ucTBLOHeight,w:1}
	}}
	},getDisplayName:function Bs(){return this.title
	},updateDisplayName:function CU(Cg,Ch,Ci,Cd){var Ce=this.model,Cf=this.k
	if(Cd){Ce.renameRWUnitTitle(Cg,Ch,Cf,AJ.wrapMethods({success:function(Cj){this.set("title",Cj)
	}.bind(this),failure:function(Cj){mstrmojo.err(Cj)
	this.set("title",Ch)
	}.bind(this)},Ci))
	}else{Ce.renameRWUnit(Cg,Ch,Cf,AJ.wrapMethods({success:function(){this.set("title",Cg)
	this.synchronizeEditors()
	}.bind(this)},Ci))
	}},ontitleChange:function o(){this.titleBar.set("title",this.title)
	if(!this._skipLayerUpdate&&this.parent){this.parent.buildLayers()
	}},oncontextmenu:function Bh(Cp){if(mstrApp.isDossier){this.toggleTitleBarButtonCSS(false)
	}if(mstrApp.isInVFInteractMode||(this.boxContent&&this.boxContent.isCustomSort)){BH.preventDefault(window,Cp.e)
	}else{if(this.shouldShowCustomizeContextMenu(Cp)){var Cw=this.addContextMenuItems(new mstrmojo.ui.menus.MenuConfig({position:BH.getMousePosition(Cp.e,Cp.hWin),isHostedWithin:false}),Cp)
	BH.preventDefault(window,Cp.e)
	var Cr=this.model&&this.model._multiSelectUnits,Cm=this.parent.boxLayoutConfig,Ct=function Co(){var C2=Cm.box.floatChildren.children,C1=Ch.getMultiSelectUnits(),C0=C1.map(function(C3){return mstrmojo.all[C3]
	}),Cz={},Cy
	C2.forEach(function(C5){if(C5.t==="g"){var C3=C5.children
	for(var C4=0
	C4<C3.length
	C4++){Cy=Cn.parent.getUnitByKey(C3[C4].k)
	if(!Cz[C5.k]&&C1.indexOf(Cy.id)!==-1){Cz[C5.k]=C5
	}}}else{Cy=Cn.parent.getUnitByKey(C5.k)
	if(C1.indexOf(Cy.id)!==-1){Cz[C5.k]=C5
	}}})
	return Cz
	}
	if(!!Cr&&Cr.length>1&&Cm&&this.model.isCurPanelManual()&&!mstrApp.isLayoutModePreview()){var Cn=this,Ch=this.model,Ck=function Ck(Cy){Cn.parent.saveBoxLayout(Cy)
	},Ci=function Ci(Cz,Cy){return{execute:function(){Ck(this)
	},urInfo:{callback:mstrmojo.DocDataService.EMPTY_CALLBACK,extras:mstrmojo.DocDataService.SUPPRESS_DATA},undoUIState:Cz,redoUISTate:Cy}
	},Cu=Ct(),Cg=function Cg(C0,C6,C4,C2,Cy,C1){C0.preBoxOp()
	if(!C1){C4(C0,Cy)
	}Cm.updateFloatLayout(null,C0)
	C0.updateSelfSplitter()
	C0.parent.snapGuide.boxIntervalOperations(C0,"insert")
	var Cz=C0.parent.model.getUIState(),C3=C2.length,C5=C2.indexOf(C0)
	if((!C1&&C5===C3-1)||(!!C1&&C5===C3-2)){Ch.execute(Ci(C6,Cz))
	}},Cl=function Cl(C2){var C4=Number.MAX_VALUE,C1=Number.MAX_VALUE,C0=0,C6=0,C3
	if(B5.isArray(C2)){C3=C2.map(function(DC){var DB=mstrmojo.all[DC],DA=DB.domNode.style,C9=!!DB.getBoxBorderWidth?parseInt(DB.getBoxBorderWidth(),10):0
	C4=Math.min(parseInt(DA.top,10),C4)
	C1=Math.min(parseInt(DA.left,10),C1)
	C0=Math.max(parseInt(DA.left,10)+parseInt(DA.width,10)+C9,C0)
	C6=Math.max(parseInt(DA.top,10)+parseInt(DA.height,10)+C9,C6)
	return DB
	})
	}else{for(var C8 in C2){var C7=C2[C8],Cz=!!C7.getBoxBorderWidth?parseInt(C7.getBoxBorderWidth(),10):0
	C4=Math.min(parseInt(C7.top.split("|")[1],10),C4)
	C1=Math.min(parseInt(C7.left.split("|")[1],10),C1)
	C0=Math.max(parseInt(C7.left.split("|")[1],10)+parseInt(C7.width.split("|")[1],10)+Cz,C0)
	C6=Math.max(parseInt(C7.top.split("|")[1],10)+parseInt(C7.height.split("|")[1],10)+Cz,C6)
	}}var Cy=Math.floor((C6+C4)/2),C5=Math.floor((C1+C0)/2)
	return{vizArr:C3,lowestTop:C4,lowestLeft:C1,biggestRight:C0,biggestBottom:C6,center:Cy,mid:C5}
	},Ce=function Ce(C3,C5,C4){var Cy=0,C7,C0,C6
	for(var C1=1
	C1<C3.length
	C1++){C7=C3[C1]
	C0=C3[C1-1]
	C6=!C4?parseInt(C0[C5?"top":"left"],10)+parseInt(C0[C5?"height":"width"],10):parseInt((C0[C5?"top":"left"]).split("|")[1],10)+parseInt((C0[C5?"height":"width"]).split("|")[1],10)
	var C2=!C4?parseInt(C7[C5?"top":"left"],10):parseInt((C7[C5?"top":"left"]).split("|")[1],10),Cz=C2-C6
	Cy+=Cz
	}return Cy/(C3.length-1)
	},Cf=function Cf(C1){var Cz=Cl(Ch._multiSelectUnits),Cy=Cz.vizArr,C0=Cn.parent.model.getUIState()
	B5.forEach(Cy,function(C2){Cg(C2,C0,C1,Cy,Cz)
	})
	Cn.parent.applyGroupTree()
	},Cq=function Cq(C6,C2){var C5=C6==="v",Cy=Cl(Ch.getMultiSelectUnits()),C8=C2.parent.model.getUIState(),C3=Cy.vizArr.sort(function(DA,C9){var DC=parseInt(DA[C5?"top":"left"],10)+parseInt(DA[C5?"height":"width"],10)/2,DB=parseInt(C9[C5?"top":"left"],10)+parseInt(C9[C5?"height":"width"],10)/2
	return DC-DB
	}),Cz,C7,C4=Ce(Cy.vizArr,C5),C0
	for(C0=1
	C0<C3.length-1
	C0++){var C1=C3[C0]
	Cz=C3[C0-1]
	C7=parseInt(Cz.domNode.style[C5?"top":"left"],10)+parseInt(Cz[C5?"height":"width"],10)
	C1.domNode.style[C5?"top":"left"]=C7+C4+"px"
	Cg(C1,C8,null,C3,Cy,true)
	}},Cd=function(C9){var C8=Ch.getMultiSelectUnits().map(function(DF){return mstrmojo.all[DF]
	}),Cy=Cl(Cu),DE=Cn.parent.model.getUIState()
	for(var DB in Cu){var DA=Cu[DB]
	if(DA.t==="g"){var C2=parseInt(DA.left.split("|")[1]),Cz=parseInt(DA.width.split("|")[1]),C7=parseInt(DA.top.split("|")[1]),DD=parseInt(DA.height.split("|")[1])
	switch(C9){case"left":DA.delta={x:Cy.lowestLeft-C2,y:0}
	break
	case"right":DA.delta={x:Cy.biggestRight-C2-Cz,y:0}
	break
	case"top":DA.delta={x:0,y:Cy.lowestTop-C7}
	break
	case"middle":DA.delta={x:0,y:Cy.center-(C7+Math.floor(DD/2))}
	break
	case"center":DA.delta={x:Cy.mid-(C2+Math.floor(Cz/2)),y:0}
	break
	default:DA.delta={x:0,y:Cy.biggestBottom-C7-DD}
	}}else{DA=Cn.parent.getUnitByKey(DB)
	DA.preBoxOp()
	var C4=DA.domNode.style,C2=parseInt(C4.left,10),Cz=parseInt(C4.width,10),C7=parseInt(C4.top,10),DD=parseInt(C4.height,10),C5=!!DA.getBoxBorderWidth?parseInt(DA.getBoxBorderWidth(),10):0
	switch(C9){case"left":DA.domNode.style.left=Cy.lowestLeft+"px"
	break
	case"center":DA.domNode.style.left=(C2+(Cy.mid-(C2+Math.floor(Cz/2)+Math.floor(C5/2))))+"px"
	break
	case"right":DA.domNode.style.left=(C2+(Cy.biggestRight-C2-Cz-C5))+"px"
	break
	case"top":DA.domNode.style.top=Cy.lowestTop+"px"
	break
	case"middle":DA.domNode.style.top=(C7+(Cy.center-(C7+Math.floor(DD/2)+Math.floor(C5/2))))+"px"
	break
	case"bottom":DA.domNode.style.top=(C7+(Cy.biggestBottom-C7-DD-C5))+"px"
	break
	}Cm.updateFloatLayout(null,DA)
	DA.updateSelfSplitter()
	DA.parent.snapGuide.boxIntervalOperations(DA,"insert")
	}}for(var DB in Cu){var DA=Cu[DB]
	if(DA.t==="g"){var C1=DA.children
	for(var C3=0
	C3<C1.length
	C3++){var C0=Cn.parent.getUnitByKey(C1[C3].k),C6=parseInt(C0.domNode.style.left,10),DC=parseInt(C0.domNode.style.top,10)
	C0.preBoxOp()
	if(C9==="left"||C9==="center"||C9==="right"){C0.domNode.style.left=C6+DA.delta.x+"px"
	}else{C0.domNode.style.top=DC+DA.delta.y+"px"
	}Cm.updateFloatLayout(null,C0)
	C0.updateSelfSplitter()
	C0.parent.snapGuide.boxIntervalOperations(C0,"insert")
	}}}Ch.execute(Ci(DE,Cn.parent.model.getUIState()))
	Cn.parent.applyGroupTree()
	},Cs=function Cs(DB){var C8=Ch.getMultiSelectUnits().map(function(DF){return mstrmojo.all[DF]
	}),DA=DB==="v",Cy=Cl(Cu),C2=Cv.sort(function(DG,DF){var DI=parseInt(DG[DA?"top":"left"],10)+parseInt(DG[DA?"height":"width"],10)/2,DH=parseInt(DF[DA?"top":"left"],10)+parseInt(DF[DA?"height":"width"],10)/2
	return DI-DH
	}),C5=Ax.clone(C2),DE=Cn.parent.model.getUIState(),DC,C1,C9=Ce(C5,DA,true)
	for(var C4=1
	C4<C5.length
	C4++){DC=C5[C4]
	var C7=C5[C4-1],DD=parseInt(C7[DA?"top":"left"].split("|")[1],10)+parseInt(C7[DA?"height":"width"].split("|")[1],10)
	if(DC.t==="g"){var C6=parseInt(DC[DA?"top":"left"].split("|")[1],10)
	C5[C4][DA?"top":"left"]="|"+(DD+C9)+"px"
	if(DA){DC.delta={x:0,y:DD+C9-C6}
	}else{DC.delta={x:DD+C9-C6,y:0}
	}}else{C1=Cn.parent.getUnitByKey(DC.k)
	C5[C4][DA?"top":"left"]="|"+(DD+C9)+"px"
	}}for(C4=1
	C4<C5.length
	C4++){DC=C5[C4]
	if(DC.t==="g"){var C0=DC.children
	for(var C3=0
	C3<C0.length
	C3++){var Cz=Cn.parent.getUnitByKey(C0[C3].k)
	Cz.preBoxOp()
	if(DA){Cz.domNode.style.top=parseInt(Cz.domNode.style.top,10)+DC.delta.y+"px"
	}else{Cz.domNode.style.left=parseInt(Cz.domNode.style.left,10)+DC.delta.x+"px"
	}Cm.updateFloatLayout(null,Cz)
	Cz.updateSelfSplitter()
	Cz.parent.snapGuide.boxIntervalOperations(Cz,"insert")
	}}else{C1=Cn.parent.getUnitByKey(DC.k)
	C1.domNode.style[DA?"top":"left"]=DC[DA?"top":"left"].split("|")[1]
	Cm.updateFloatLayout(null,C1)
	C1.updateSelfSplitter()
	C1.parent.snapGuide.boxIntervalOperations(C1,"insert")
	}}Ch.execute(Ci(DE,Cn.parent.model.getUIState()))
	}
	Cw.menus.length=0
	var Cj=false,Cv=[]
	for(var Cx in Cu){Cv.push(Cu[Cx])
	}if(Cv.length>1&&Cv.some(function(Cy){return Cy.children
	})){Cj=true
	}Cw.addMenuItem(mstrmojo.desc(3499,"Align Left"),"align align-left",function(){if(!Cj){Cf(function(Cz,Cy){Cz.domNode.style.left=Cy.lowestLeft+"px"
	})
	}else{Cd("left")
	}})
	Cw.addMenuItem(mstrmojo.desc(3500,"Align Center"),"align align-center",function(){if(!Cj){Cf(function(C1,Cy){var C0=C1.domNode.style,Cz=!!C1.getBoxBorderWidth?parseInt(C1.getBoxBorderWidth(),10):0
	C1.domNode.style.left=(parseInt(C0.left,10)+(Cy.mid-(parseInt(C0.left)+Math.floor(parseInt(C0.width)/2)+Math.floor(Cz/2))))+"px"
	})
	}else{Cd("center")
	}})
	Cw.addMenuItem(mstrmojo.desc(3501,"Align Right"),"align align-right",function(){if(!Cj){Cf(function(C1,Cy){var C0=C1.domNode.style,Cz=!!C1.getBoxBorderWidth?parseInt(C1.getBoxBorderWidth(),10):0
	C1.domNode.style.left=(parseInt(C0.left,10)+(Cy.biggestRight-parseInt(C0.left,10)-parseInt(C0.width,10)-Cz))+"px"
	})
	}else{Cd("right")
	}})
	Cw.addSeparator()
	Cw.addMenuItem(mstrmojo.desc(3502,"Align Top"),"align align-top",function(){if(!Cj){Cf(function(Cz,Cy){Cz.domNode.style.top=Cy.lowestTop+"px"
	})
	}else{Cd("top")
	}})
	Cw.addMenuItem(mstrmojo.desc(3503,"Align Middle"),"align align-middle",function(){if(!Cj){Cf(function(C1,Cy){var C0=C1.domNode.style,Cz=!!C1.getBoxBorderWidth?parseInt(C1.getBoxBorderWidth(),10):0
	C1.domNode.style.top=(parseInt(C0.top,10)+(Cy.center-(parseInt(C0.top)+Math.floor(parseInt(C0.height)/2)+Math.floor(Cz/2))))+"px"
	})
	}else{Cd("middle")
	}})
	Cw.addMenuItem(mstrmojo.desc(3504,"Align Bottom"),"align align-bottom",function(){if(!Cj){Cf(function(C1,Cy){var C0=C1.domNode.style,Cz=!!C1.getBoxBorderWidth?parseInt(C1.getBoxBorderWidth(),10):0
	C1.domNode.style.top=(parseInt(C0.top,10)+(Cy.biggestBottom-parseInt(C0.top,10)-parseInt(C0.height,10)-Cz))+"px"
	})
	}else{Cd("bottom")
	}})
	Cw.addSeparator()
	Cw.addMenuItem(mstrmojo.desc(3506,"Distribute Horizontally"),"align dist-h",function(){if(Cj){Cs("h")
	}else{Cq("h",Cn)
	}Cn.parent.applyGroupTree()
	})
	Cw.addMenuItem(mstrmojo.desc(3507,"Distribute Vertically"),"align dist-v",function(){if(Cj){Cs("v")
	}else{Cq("v",Cn)
	}Cn.parent.applyGroupTree()
	})
	this.addContextMenuGroupingMenuItem(Cw,Cr)
	this.openPopup(Cw.newInstance())
	}else{if(Cw.hasMenuItems()){this.addContextMenuGroupingMenuItem(Cw)
	this.openPopup(Cw.newInstance())
	}}}}Cp.cancel()
	},addContextMenuItems:function f(Ch,Cd){var Cg=this.getEditorModel(),Ce
	if(Cg.getFormattingToolbar){Ce=function(Ci){var Cj=Cg.getFormattingToolbar(Ci,Cd.getTarget())
	if(Cj){this.openPopup(Cj)
	}}.bind(this)
	}var Cf=this.boxContent
	if(Cf&&(Cf instanceof mstrmojo.SharedXtabBase||Cf instanceof mstrmojo.VisBase)){CI.addChangeVizContextMenu(Ch,Cf)
	}if(!mstrApp.isInVFConfigMode){this.addFormatMenuItem(Ch,Cd,Ce)
	}return Ch
	},addFormatMenuItem:function AW(Cf,Ce,Cd){if(!mstrApp.isAppStatePresentation()&&mstrApp.allowWebDashboardDesign()){Cf.addMenuItem(mstrmojo.desc(1918,"Format"),"",function(){this.launchFormatEditor(Ce,Cd)
	}.bind(this))
	}return Cf
	},launchFormatEditor:function Ag(Cf,Cd){this.selectVIUnit()
	BO.call(this,Cf,Cd)
	if(!!Cf&&mstrApp.supportFeature(AA.DOSSIER_REACT_FORMAT_PANEL)){var Ce=this.getFormatMenuItemTarget(Cf)===mstrmojo.vi.models.editors.BaseEditorModel.TITLE_CONTAINER_VALUE?Ba.TITLE_TAB:Ba.PROPERTY_TAB
	this.raiseEvent({name:"switchTab",tabId:Ce})
	}},updateSelfSplitter:function AE(){if(this.getSplitterHost&&this.calculateContainerRect){this.calculateContainerRect()
	this.updateSplitters()
	}},preBoxOp:function Bw(){if(this.timer){clearTimeout(this.timer)
	if(this.originBox){this.parent.snapGuide.boxIntervalOperations([],"delete",this.originBox)
	this.originBox=null
	}this.timer=null
	}else{this.parent.snapGuide.boxIntervalOperations(this,"delete")
	}},shouldSaveBoxDimensionChange:function Bb(){return !mstrApp.hasRequests()
	},postBoxOp:function B9(Ch,Cj,Cg,Ce){var Ci=this.id,Cf=this.parent.id,Cd=this.model
	if(Ch){Ce=Ce||function(Cm){var Cl=mstrmojo.all[Ci],Ck=mstrmojo.all[Cf]
	Cl.updateLayout(Cg)
	Cl.raiseEvent({name:"member_snap_guide_changed_pre"})
	Ck.applyGroupTree(undefined,Cl.getPUKeys(false))
	Cl.updateSelfSplitter()
	Ck.snapGuide.boxIntervalOperations(Cl,"insert")
	Cl.raiseEvent({name:"member_snap_guide_changed_post"})
	Ck.saveBoxLayout(Cm)
	},exe={execute:function(){Ce(this)
	},urInfo:{extras:mstrmojo.DocDataService.SUPPRESS_DATA}}
	if(Cj){exe.undoUIState=Cj
	}if(this.shouldSaveBoxDimensionChange()){Cd.execute(exe)
	}else{Ce()
	}}},createGuidesDiv:function AP(Cd){return this.parent.createGuidesDiv(Cd)
	},updateGuidesDiv:function u(Cf,Ce,Cd){return this.parent.updateGuidesDiv(Cf,Ce,Cd)
	},toggleGuidesDiv:function a(Ce,Cd){this.parent.toggleGuidesDiv(Ce,Cd)
	},getResizerInfo:function CB(Ce,Ch){if(this.parent){var Cg=this.parent.parentRect,Cf=(this.parent.getScrollPosition&&this.parent.getScrollPosition())||{scrollLeft:0,scrollTop:0},Ci=Ch?this.splitterCache[Ce].getBoundingClientRect():this.resizerCache[Ce].getBoundingClientRect(),Cd=Ci.left+Cf.scrollLeft,Cj=Ci.top+Cf.scrollTop
	return{min:{x:Cg.left+4,y:Cg.top+4},max:{x:Cg.right-4,y:Cg.bottom-4},axis:{x:(Ch&&Ce===AX||!(Ch&&Ce===CY))?Cd:Cd+A2,y:(Ch&&(Ce===AX||Ce===CY))?Cj:Ch?Cj+A2:Cj+Bc}}
	}},resizerMouseDown:function J(Cd){if(!Cd.skipGuideOperation){this.preBoxOp()
	}Cd.parentRect=this.parent.parentRect
	Cd.parentScrollPos=(this.parent.getScrollPosition&&this.parent.getScrollPosition())||{scrollLeft:0,scrollTop:0}
	this.getSplitterHost().appendChild(Cd.boxOverlay)
	},splitterMouseDown:function AG(){if(this.parent&&this.parent.snapGuide){this.preBoxOp()
	}},resizerMouseUp:function C(Cg,Ce){var Cd=Ce.parentRect,Cf=Ce.parentScrollPos,Ch={left:(Cg.x-Cd.left-Cf.scrollLeft)+"px",top:(Cg.y-Cd.top-Cf.scrollTop)+"px",width:Cg.width,height:Cg.height}
	this.getSplitterHost().removeChild(Ce.boxOverlay)
	this.postResizerMouseUp(Ch)
	},postResizerMouseUp:function CM(Cg){var Cf=this,Cd=this.parent,Ce=this.model,Ch=Ce.getUIState()
	Cd.boxLayoutConfig.updateFloatLayout(Cg,Cf)
	this.postBoxOp(true,Ch,Cg)
	},getSplitterHost:function A6(){return this.splitterHostNode
	},getSplitterInfo:function AU(Cg){if(this.parent){var Cd=this.parent.parentRect,Ce=this.domNode.getBoundingClientRect(),Cf=Cg.orientation
	return{splitter:Cg,min:Cf&2?4:Cf%2?Cd.top-Ce.top+10:Cd.left-Ce.left+10,max:Cf&2?Cf%2?Cd.bottom-Ce.top-10:Cd.right-Ce.left-10:Cf%2?Ce.height:Ce.width}
	}},getNewNode:function Bm(Cd,Ce){var Cf=document.createElement("div")
	Cf.setAttribute("unselectable","on")
	Cf.className=Cd
	Cf.setAttribute("pos",Ce%4)
	return Cf
	},calculateContainerRect:function P(){if(!this.domNode){return 
	}var Cd=this,Ce=this.getSplitterHost().getBoundingClientRect()
	["left","top","right","bottom"].forEach(function(Cf,Cg){(Cd.splittersInfo=Cd.splittersInfo||[]).push({left:(Cg%2?Ce.left:Ce[Cf]-3.5)+"px",top:(Cg%2?Ce[Cf]-3.5:Ce.top)+"px",width:(Cg%2?Ce.width:7)+"px",height:(Cg%2?7:Ce.height)+"px"})
	(Cd.resizerInfo=Cd.resizerInfo||[]).push({left:((Cg===0||Cg===3)?Ce.left:(Ce.right-5))+"px",top:(Cg&2?Ce.bottom-5:Ce.top-5)+"px",width:"7px",height:"7px"})
	})
	},updateSplitters:function AR(){if(!this.splittersInfo){return 
	}var Ci=this,Cg=this.splitterCache=this.splitterCache||[],Ch=this.resizerCache=this.resizerCache||[],Cf=this.splittersInfo,Ce=this.resizerInfo,Cj=this.getSplitterHost(),Cd=this.getSplitterHost().getBoundingClientRect(),Ck=this.parent.maximizedBox
	if(Cj){[].concat(Cf,Ce).forEach(function(Cp,Cn){var Cm=Cn&1<<2?"resizer":"edge",Cl=Cm==="resizer"?"resizer":"splitter",Cq=this[Cl+"Cache"]||[],Co=Cq[Cn%4]
	if(!Co){Cq[Cn%4]=Co=this.getNewNode(Cm,Cn)
	if(Cm==="edge"){Co.style.position="absolute"
	Co.isV=false
	if((Cn%2)===0){Bk.addClass(Co,["v"])
	Co.isV=true
	}Co.style.cursor=Ci.resizable?(Cn%2?"ns":"ew")+"-resize":"auto"
	Co.isSide=true
	this.registerResizerHandler(Co)
	}else{Co.style.position="absolute"
	Co.style.cursor=Ci.resizable?(Cn&2?"s":"n")+(Cn===4||Cn===7?"w":"e")+"-resize":"auto"
	this.registerResizerHandler(Co)
	}if(!Co.parentNode){Cj.appendChild(Co)
	}}Cp.left=(parseFloat(Cp.left)-Cd.left)+"px"
	Cp.top=(parseFloat(Cp.top)-Cd.top)+"px"
	Ax.copy(Cp,Co.style)
	Co.style.display=(this.unDocked&&!mstrApp.isAppStatePresentation()&&!Ck&&!mstrApp.isLayoutModePreview())?"block":"none"
	Co.style.zIndex=this.unDocked?this.zIndex:M
	},this)
	this.splittersInfo=this.resizerInfo=null
	}},splitterMoved:function B4(Cv,Cu){var Cl=this,Cd=Cu&&Cu.splitter,Cm=mstrmojo.all[this.model.id].getPanel(),Ct=this.model.getUIState(),Cj=Cm.boxLayoutConfig,Co=Cj.box.floatChildren,Cp=Cd.orientation
	if(Cd){if(Cj&&Cj.findFloatKey(this)){var Cf=Cp%2?"height":"width",Ci=B5.find(Co,"k",this.k)
	if(Ci!==-1){var Ch=Co[Ci],Cs=Cj.getBoxTreeRoots(Cm,Ch.rk),Ck=Cs[Cf],Cr=Cv/Ck*100,Cq=Ch[Cf].split("|"),Cg=parseFloat(Cq[0]),Ce=parseFloat(Cq[1])
	Ch[Cf]=Cp&2?(Cg+Cr)+"|"+(Ce+Cv):(Cg-Cr)+"|"+(Ce-Cv)
	if(!(Cp&2)){var Cn=Cp?"top":"left"
	Cq=Ch[Cn].split("|")
	Cg=parseFloat(Cq[0])
	Ce=parseFloat(Cq[1])
	Ch[Cn]=(Cg+Cr)+"|"+(Ce+Cv)+"px"
	}this.postBoxOp(true,Ct,Cm.calculateFloatBoxLayout(Ch,Cs,Cl.fixed))
	}}else{this.updateSplitters()
	}}},toggleDock:function BS(){this.unDocked=!this.unDocked
	if(!this.unDocked){this.set("zIndex",1)
	}},getGroupOperationCallback:function z(Cg,Cf,Ch){var Ce,Cd,Ci=function(Cj,Ck,Cl){return function(){var Cm=Ck.parent,Co=Cm.id,Cn=Cm.model,Cq=mstrmojo.DocDataService,Cp=Cm.model.getUIState()
	Cn.execute({execute:function(){var Cr=mstrmojo.all[Co]
	Cl(Cj,Ck,Ch)
	Cr.applyGroupTree(undefined,Cd)
	Cr.snapGuide.reconstructTree(Cr)
	Cr.saveBoxLayout(this)
	Cr.buildLayers()
	},urInfo:{extras:Cq.SUPPRESS_DATA},undoUIState:Cp})
	}
	}
	if(Cg==="ungroup"){Ce=Ci(Cf,this,function(Cl,Ck){var Cm=Cl[0].getParentGroup(),Cj=Cm.parent
	Cd=[Cj.k].concat(Cm.getPUKeys())
	Cl.forEach(function(Cn){Cn.unGroup()
	})
	})
	}else{if(Cg==="moveToGroup"){Ce=Ci(Cf,this,function(Ck,Cj,Cl){Ck.forEach(function(Cm){Cm.moveToGroup(Cl)
	})
	})
	}else{Ce=Ci(Cf,this,function(Ck,Cj){var Cl=Cj.createGroup(Ck)
	Cl.editable=true
	Cl.displayGroupNode(true,true)
	Cd=undefined
	})
	}}return Ce
	},addGroupingMenuItem:function Z(Ck,Cd){if(!Cd||Cd.length===0){Cd=[this]
	}var Ch=Cd[0],Cg,Cj
	for(var Cf=0
	Cf<Cd.length
	Cf++){var Ci=Cd[Cf]
	if(!Ci.editable){Cg=true
	Cj=true
	break
	}if(Ci.isGrouped()){Cg=true
	}else{Cj=true
	}if(Cd.length===1){Cg=true
	}if(Cg&&Cj){break
	}}var Ce=[]
	if(B5.find(Ck.getMenuItems(),"ctxt","group")<0&&!Cg){Ce.push({text:mstrmojo.desc(17264,"Group"),cls:"",ctxt:"group",fn:Ch.getGroupOperationCallback("group",Cd)})
	}if(B5.find(Ck.getMenuItems(),"ctxt","ungroup")<0&&!Cj){Ce.push({text:mstrmojo.desc(17333,"Remove from group"),cls:"",ctxt:"ungroup",fn:Ch.getGroupOperationCallback("ungroup",Cd)})
	}if(Ce.length>0){Ck.addSeparator()
	}Ce.forEach(function(Cl){Ck.addMenuItem(Cl.text,Cl.cls,Cl.fn,Cl.ctxt)
	})
	},addToolbarGroupingMenuItem:function Bi(Cd){if(!this.isInfoWindowBox()&&Ax.walk("parent.groupTreeLayoutConfig.getFloatGroupTree",this)){this.addGroupingMenuItem(Cd)
	}},addContextMenuGroupingMenuItem:function Q(Cf,Cd){if(Ax.walk("parent.groupTreeLayoutConfig.getFloatGroupTree",this)){var Ce=[this]
	if(Cd&&Cd.indexOf(this.id)>-1){Ce=Cd.filter(function(Ch){return Ch
	}).map(function(Ch){return mstrmojo.all[Ch]
	})
	}var Cg=B5.some(Ce,function(Ch){return !!(Ch.isInfoWindowBox&&Ch.isInfoWindowBox())
	})
	if(!Cg){this.addGroupingMenuItem(Cf,Ce)
	}}},addUnDockMenuItem:function BK(Cj){if(!this.isInfoWindowBox()&&!mstrApp.isLayoutModePreview()&&!(mstrApp.isInVFConfigMode||mstrApp.isInVFInteractMode)){var Ci=this.k,Cd=this.parent
	if(this.unDocked){if(Cd.boxOperation&&Cd.groupTreeLayoutConfig.getFloatGroupTree()&&this.editable){var Ch=[[true,true],[true,true]]
	if(Cd.maximizedBox){Ch[0]=Ch[1]=[false,false]
	}else{var Ce=Cd.groupTreeLayoutConfig.getFloatGroupTreeNode(Ci)
	if(Ce.parent){Ce.parent.children.sort(function(Cm,Cl){return parseFloat(Cm.zIndex)-parseFloat(Cl.zIndex)
	})
	if(Ce.parent.children[0].k===Ci){Ch[1]=[false,false]
	}else{if(Ce.parent.children[Ce.parent.children.length-1].k===Ci){Ch[0]=[false,false]
	}}}}var Cg=Ch.reduce(function(Cl,Cm){return Cl.concat(Cm)
	})
	var Cf=[{strId:3100,fn:"bringToFront"},{strId:3102,fn:"bringForward"},{strId:3099,fn:"sendToBack"},{strId:3101,fn:"sendBackward"}],Ck=""
	B5.forEach(Cf,function(Cm,Cl){Ck=mstrmojo.desc(Cm.strId,Cm.fn)
	if(Cg[Cl]){Cj.addMenuItem(Ck,"",function(){Cd.boxOperation(Cm.fn,Cd.getUnitByKey(Ci))
	})
	}else{Cj.addDisabledMenuItem(Ck,"")
	}})
	}}}return Cj
	},unrender:function U(){this.splitterCache=null
	this.resizerCache=null
	return this._super()
	},getFormatMenuItemTarget:function Bu(Cd){return mstrmojo.vi.models.editors.BaseEditorModel.TITLE_CONTAINER_VALUE
	},applyBoxSize:function BF(Cd,Cf,Ci,Ch){this._super(Cd,Cf,Ci,Ch)
	this.dimensionsSet=true
	var Cg=parseInt(Cf,10),Cj=parseInt(Cd,10)
	var Ce=Cg>Cj?"h":"v"
	if(Ce!==this.orientation){this.set("orientation",Ce)
	}this.set("ghostImgCss",q.call(this,Cg,Cj))
	},childRenderCheck:function AV(Ce){var Cd=this._super(Ce)
	if(Ce===this.boxContent){Cd=Cd&&this.dimensionsSet
	}return Cd
	},postUpdateLayout:function Bo(Cg){var Cj=this.boxContent
	var Ci=true
	if(this._currentLayout&&Cg&&Math.abs(parseFloat(Cg.width)-parseFloat(this._currentLayout.width))<0.1&&Math.abs(parseFloat(Cg.height)-parseFloat(this._currentLayout.height))<0.1){Ci=false
	}if(!this.domNode){return 
	}if(!Cj.hasRendered){Cj.render()
	var Cf=this.parent,Cd=this.model,Ce=Cd.getLatestSelectedViObjKey(),Ch=Ce&&Cf.getUnitByKey(Ce)
	if(!Ch){Cf.selectFirstBox()
	}else{if(!Ch.isIfw){Cd.selectVIUnit(Ch.id)
	}}}else{if(Ci){this.updateVisFilterIndicator()
	Cj.refresh(null,!mstrApp.isPartialUpdate)
	}}this.isNewUnitContainer=false
	},orientationHasChanged:mstrmojo.emptyFn,onRender:function H(){this._super()
	var Cd=this.model.getSelectedViUnit()
	this.toggleBoxSelection(Cd&&Cd.k===this.k)
	},onAppStateChange:function Ay(Cl){var Cg=mstrmojo.vi.VisualInsightApp.APP_STATES,Ck=Cg.SELECTOR_TARGETING,Ci=Cg.PRESENTATION,Cm=Cg.PAUSE,Cj=mstrApp.isAppStatePresentation(),Cf=mstrApp.isAppStatePause(),Ch=this.dragIcon
	if(Cj||Cl.valueWas&Ci){this.draggable=!(Cj||mstrApp.isLayoutModePreview())
	this.generateToolbar()
	}if(Cl.valueWas&Ck||mstrApp.isAppStateSelection()||Cf||Cl.valueWas&Cm){this.generateToolbar()
	}var Cd=this.model.getSelectedViUnit(),Ce=Cd&&Cd.k===this.k
	this.toggleBoxSelection(Ce)
	if(Ch){AI(Ch,this.draggable&&!Cj&&Ce&&!this.getTitleBarVisibility())
	}},onLayoutModeChange:function Am(Cd){var Ce=mstrApp.isLayoutPreview(Cd.value)
	this.set("editable",!(mstrApp.isAppStatePresentation()||Ce))
	if(Ce||mstrApp.isLayoutPreview(Cd.valueWas)){this.generateToolbar()
	}},selectVIUnit:function A3(Cd,Ce){var Cf=this.parent
	if(this.enabled&&Cf&&Cf.selectVIUnit&&!(mstrApp.isAppStateSelection()&&mstrApp.isLayoutModePreview())){var Ch=Bz.SURVEYCONTAINER
	if(Cf._tgtSelections&&this.defn.t===Ch){var Cg=Cf.getTargetKeysByType([Ch])
	B5.forEach(Cg,function(Ci){var Cj=Cf.getUnitByKey(Ci)
	Cj.toggleBoxSelection(Cj.parent.selectVIUnit(Cj,Cd,Ce))
	})
	}else{if(this.defn.t!==Bz.PANELSTACK&&Ax.walk("e",Ce)){Ce.e.stopPropagation()
	}this.toggleBoxSelection(this.parent.selectVIUnit(this,Cd,Ce))
	}}},toggleTabSelectionEffect:function Bg(Cd){if(this.domNode){Bk.toggleClass(this.domNode,p.CSS_FOCUS_VISIBLE,Cd)
	}},grabFocus:function I(Cd){if(this._super){this._super()
	}this.selectVIUnit()
	this.toggleTabSelectionEffect(true)
	this.toggleTitleBarButtonCSS(true)
	if(Cd){this.domNode.focus()
	}},loseFocus:function Y(Cd){if(this._super){this._super()
	}this.toggleTabSelectionEffect(false)
	this.toggleTitleBarButtonCSS(false)
	if(Cd){this.domNode.blur()
	}},buildNavList:function CX(){if(Ax.walk("menuBtnInfo.btn",this)){this.navList=[this.menuBtnInfo.btn]
	}else{this.navList=[]
	}},isValidTarget:function A0(Ce){if(!this._super(Ce)){return false
	}var Cd=true
	if(Ce.classList&&Ce.classList.contains("invalid")){Cd=false
	}return Cd
	},enterUnit:function CD(){if(this.boxContentSupportAccessibility()){return 
	}else{this.toggleTabSelectionEffect(false)
	this.resetTabNav()
	this.navigateToFirstValidTarget()
	}},boxContentSupportAccessibility:function B8(){return this.boxContent&&this.boxContent.canTab
	},getLayerActionIconConfig:function Aq(){var Cd=this.parent,Cg=Cd.model,Cj=Cd._tgtSelections,Ci=Cj&&mstrmojo.all[Cj.id],Ch=!!Cj?Cj.getSelections():Cg.getMultiSelectUnitKeys(),Ck=!!Ax.walk("targetMask.candidatePicker.rplObj",this),Cf,Ce=function(Cl,Cn,Cm){Cf={}
	Cf.cssClassName=Cl
	Cf.role=Cn
	Cf.ariaLabel=Cm
	}
	if(!Ci){return undefined
	}if(Ci.k===this.k){Ce("source","img",mstrmojo.desc(4283,"Source"))
	}else{if(Ch.indexOf(this.k)!==-1){Ce(!Ci.isAMSelector()?"target":Ck?"target with-default":"target without-default","button",!Ci.isAMSelector()?mstrmojo.desc(4787,"Target"):Ck?mstrmojo.desc(17531,"Target without a default value"):mstrmojo.desc(17532,"Target with a default value"))
	}}return Cf
	},synchronizeEditors:function CS(){if(this.model.getLatestSelectedViObjKey()===this.k){this.selectVIUnit(true)
	}},addToggleTitleMenuItem:function AZ(Cd){var Ce=[AS,CH]
	if(!this.showTitleBar){Ce.reverse()
	}Cd.addDualStateItem(this.id,Ce[0],Ce[1])
	},canShowDesignMenuItems:function CC(){return mstrApp.allowWebDashboardDesign()
	},updateToolbar:function Ah(Cd){var Ce=Cd.ENUM_CORNERS,Cf=this.boxContent,Ch=Cf&&Cf.node,Cg=Ch&&(!Ch.defn.vis||!Ch.defn.vis.ve)
	Cd.setAlignment(Ce.BOTTOM_RIGHT,Ce.TOP_RIGHT)
	Cd.isHostedWithin=false
	Cd.showContextMenu=false
	if(this.canShowDesignMenuItems()&&!mstrApp.isAppStatePresentation()){Cd.addSeparator()
	if(!(mstrApp.isInVFConfigMode&&!Cg)){this.addFormatMenuItem(Cd)
	}if(this.showTitleBar){Cd.addMenuItem(mstrmojo.desc(1388,"Rename"),"rnm",function(){this.draggable=false
	this.titleBar.editTitle()
	}.bind(this))
	}if(!(this.isContentDisabled&&this.isContentDisabled())&&this.editable&&undefined!==this.getEditOverlayControls()){Cd.addMenuItem(mstrmojo.desc(3272,"Edit"),"cls",this.switchToEditMode.bind(this))
	}this.addDeleteMenuItem(Cd)
	this.addUnDockMenuItem(Cd)
	this.addToolbarGroupingMenuItem(Cd)
	}return Cd
	},addDeleteMenuItem:function Av(Ce){if(!mstrApp.isLayoutModePreview()&&!(mstrApp.isInVFConfigMode||mstrApp.isInVFInteractMode)&&this.editable){var Cd=this.k,Cf=this.model.id
	Ce.addMenuItem(mstrmojo.desc(629,"Delete"),"cls",function(){BT(Cf,Cd).deleteSelf()
	})
	}return Ce
	},deleteSectionNodeDefn:function BW(Cj,Ce,Cf){if(Cj&&Ce&&Cf&&Cf.length){var Cg=function Ci(){var Cl=Ce.getCGBMap(),Cm=Ce.getCurrentLayoutDef(),Ck=Cm&&Cm.units
	if(Cl&&Ck){B5.forEach(Cf,function(Cn){delete Cl[Cn]
	delete Ck[Cn]
	})
	}}
	Cj.addCallbacks({success:Cg})
	var Ch=Ce.cmdMgr(),Cd=Ax.walk("curCmd.urInfo",Ch)
	if(Cd){Cd.callback=AJ.wrapMethods({success:Cg},Cd.callback||mstrmojo.emptyFn)
	}}},cleanSelfAndDescendants:function CA(Cg){var Cd=this.model,Cf=Cd.data,Ce=function(Ck,Cj){var Ci=Cd.extractChildren(Ck),Ch
	if(Ci){for(Ch=0
	Ch<Ci.length
	Ch++){if((Ci[Ch]&&Ci[Ch].k)===Cj){B5.removeIndices(Ci,Ch,1)
	return 
	}else{Ce(Ci[Ch],Cj)
	}}}}
	Ce(Cf,this.k)
	Cd.deleteDataCache(this.boxContent&&this.boxContent.id)
	},deleteLastUnitHandler:function BY(Cf,Ce,Cg,Cd){if(!Cf){Ce.addVisualizationDeferred(Cg,Cd.k)
	}},getTargetedInfoWindowKeys:function Be(){if(this.getSelectedIFW){var Cd=this.getSelectedIFW()
	return Cd?[Cd]:[]
	}return[]
	},deleteSelf:function F(Ci){var Co,Ce=this.k,Cg=this.model,Cj=Cg.id,Cl=BT(Cj,Ce).parent,Cq=Cl.k,Cn=[Cq],Cr=[],Cs=[],Cu,Ch={success:function(){var Cx=Cg.getNodeDataByKey(Cq),Cv=Cg.getOwningNodeByType(Bz.PANELSTACK,Cx.k),Cy=Cg.extractChildren(Cv.data),Cw=B5.find(Cy,"k",Cx.k)
	if(Cw>=0){Cy[Cw]=Cx.data
	}Cx.p=Cv.data
	if(Cu){Cg.syncPageIfwData(Cs)
	}}},Cf=AJ.wrapMethods(Cg.getRebuildCallback(),Ch,{}),Cd=AJ.wrapMethods({success:function(){var Cv=BT(Cj,Ce)
	Cv.cleanSelfAndDescendants(Cs)
	}},Cg.getRebuildCallback(),Ch,{}),Ck=function(Cw){var Cv=mstrmojo.all[Cj]
	Cv.syncLayerDefn(Ce,Co,Cw)
	}
	Cr=Cr.concat(Cg.getSourceFilterKeys(Ce,true))
	Cr=Cr.concat(Cg.getTargetFilterKeys(this))
	Cr=Cr.concat(Cg.getPanelSelectorKeys(this.k))
	if(!this.isIfw){Cs=this.getTargetedInfoWindowKeys()
	Cr=Cr.concat(Cs)
	Cu=Cs.length>0
	}var Cp=function Cp(){Cg.clearCGBMapForTargets(Cs)
	}
	this.model.execute({execute:function(){var Cw=BT(Cj,Ce)
	if(Cw){var Cv=Cw.parent,Cx=mstrmojo.all[Cj],C0=Cx.getDataService().newUpdate()
	var Cy=Cv.hasMultipleChildren()
	C0.addUpdate(Cw.createDeleteUpdate())
	Co=Cx.getMapLayerKeys(Cw.boxContent)
	C0.addActions(Cx.getDeleteMapLayersActions(Co))
	C0.addCallbacks({success:function Cz(C1){Cx.partialUpdate(C1.data,Cx.getTargetDefn(Cr),C1.defn,Cr)
	Cp()
	Cw.cleanSelfAndDescendants(Cs)
	Cx.syncLayerDefn(Ce,Co,true)
	Cw.destroy()
	Cv.selectFirstBox(true)
	}})
	Cv.deleteBoxAndSubmitDeferred(C0,Cw,null,true)
	Cw.deleteLastUnitHandler(Cy,Cx,C0,Cv)
	if(Cw.isMaxed){Cv.toggleCurtain(false)
	}Cv.selectFirstBox()
	Cv.buildLayers()
	C0.addCallbacks(Ci)
	C0.addExtras({style:{params:{treesToRender:Cu?mstrmojo.DocDataService.EnumTreesToRender.DATA:mstrmojo.DocDataService.EnumTreesToRender.NONE}}})
	this.submitUpdate(C0)
	}},urInfo:{undo:function Ct(){Ck(false)
	this.urInfo.callback=Cf
	},redo:function Cm(){Ck(true)
	this.urInfo.callback=AJ.wrapMethods(Cd,{success:Cp})
	},puKeys:Cn,extras:mstrmojo.DocDataService.REQUEST_DEFN_DATA}})
	},undoInsert:function B2(){var Cd=this.parent,Ce=mstrmojo.all[this.model.id]
	Cd.deleteBoxAndSubmitDeferred(Ce.getDataService().newUpdate(),this,null,true)
	Cd.selectFirstBox()
	Cd.buildLayers()
	this.destroy()
	},createDeleteUpdate:function AH(){},getKeyDownHandler:function(Cd){return function(Ce){var Ch=BH.findWidget(this),Cg=Ch.boxContent,Cf=Ch.boxContentSupportAccessibility(),Ci=Cf?Cg:Ch
	if(Ci.handleTab(Ce,this)){return 
	}switch(Ce.keyCode){case mstrmojo.Enum_Keys.ESCAPE:Ce.stopPropagation()
	if(this.loseFocus){this.loseFocus(true)
	}Ci.navigateToParent(!!Cf)
	if(!Cf){Ci.grabFocus(true)
	}break
	case mstrmojo.Enum_Keys.ENTER:case mstrmojo.Enum_Keys.SPACE:Ce.stopPropagation()
	Cd(Ce)
	break
	}}
	},getTitleBarVisibility:function Aw(){return this.titleBar&&this.showTitleBar
	},setTitleBarVisibility:function t(Cd){var Ch=this.titleBar
	Ch.set("visible",Cd)
	var Cj=this.menuBtnInfo,Ce=Cj&&Cj.btn
	if(Cj){if(!Cj.menuCfg){Cj.menuCfg=Ch.getMenuConfig()
	}if(mstrApp&&mstrApp.isInVFInteractMode){Cj.menuCfg=null
	}if(!Ce){var Cg=this.boxContentSupportAccessibility(),Cf=Cg?this.boxContent.canTab:this.canTab
	Ce=Cj.btn=document.createElement("div")
	Ce.className="hover-menu-btn"
	Ce.setAttribute("tabindex","-1")
	Ce.setAttribute("role","button")
	Ce.setAttribute("aria-label",mstrmojo.desc(9917,"More"))
	var Ck=this.id
	var Ci=function(Cn){var Cm=mstrmojo.all[Ck],Cl=Cj.menuCfg,Cp=Cm.boxContent.hasAccessibility||Cf
	Cl.hostId=Ck
	Cl.hostElement=Ce
	Cl.supportsScroll=true
	Cl.isHostedWithin=false
	Cl.maxHeight=BH.getMaxScrollHeight()
	Cl.hasAccessibility=Cp
	var Co=mstrmojo.ui.menus.Menu
	if(Cf){Co=mstrmojo.DynamicClassFactory.newComponent(Co,[mstrmojo._IsAccessibleMenu,mstrmojo.vi.ui.rw._SupportTabNav])
	Cm.boxContent.isMenuClicked=true
	}else{if(Cp){Co=mstrmojo.DynamicClassFactory.newComponent(Co,[mstrmojo._IsAccessibleMenu])
	Cm.boxContent.isMenuClicked=true
	}}Cm.addToolbarGroupingMenuItem(Cl)
	var Cq=new Co({popupConfig:Cl})
	if(Cp){Cq.onCloseMenuCallBack=Cm.onMenuClose
	}if(mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation()&&BH.isMobile){Cq.orientationAngle=window.orientation||Ax.walk("screen.orientation.angle",window)
	}Cq.navMode=p.isKeyBoardEvent(Cn)
	if(Cq.navMode){Cm.attachEventListenerOnce("menuClosed",Ck,function(Cr){if(Cr&&Cr.needFocus){this.menuBtnInfo.btn.grabFocus(true)
	}})
	}Cm.openPopup(Cq)
	Cn.preventDefault()
	}
	if(this.menuBtnInfo&&this.menuBtnInfo.btn){BH.attachEvent(this.menuBtnInfo.btn,"mousedown",function(){this.generateToolbar()
	}.bind(this))
	}BH.attachEvent(Ce,"click",Ci)
	BH.attachEvent(Ce,"keydown",this.getKeyDownHandler(Ci))
	if(Cf){p.enableAccessibility({domNode:Ce})
	}}this.domNode.appendChild(Ce)
	}AT.call(this)
	this.doLayout()
	},refresh:function An(){delete this._currentLayout
	if(!this.parent.boxLayoutConfig.dirty){this._super()
	if(this.hasRendered&&this.parent.isManualMode()){this.updateSelfSplitter()
	}}else{Bd.call(this,false,this.getFormats())
	Bd.call(this,true,this.getFormats())
	}this.applyNoFillClass()
	},addFormatProps:function w(Ce,Cd){return Ce
	},isKBSupportEditing:function BG(){return !((mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation())||(mstrApp.isLayoutModePreview&&mstrApp.isLayoutModePreview())||(mstrApp.isAppStateSelection&&mstrApp.isAppStateSelection())||mstrApp.isInVFConfigMode||mstrApp.isVisBuilder)
	},isKBSupportAccessibility:function A9(){return this.isKBSupportEditing()||(mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation())
	},onkeydown:function CZ(Co){var Cu=this,Cv=Co.e.key,Cl=Cu.parent,Ce=Cu.isKBSupportEditing(),Cp=Cu.isKBSupportAccessibility(),Cj=Cl&&Cl.isRootPanel()
	if(!Cp||Cu.isDragging||!Cl){return 
	}if(Cv==="Escape"){this.loseFocus(true)
	}var Ci=Co.e.keyCode,Cg=Co.e.target,Cn=Cl.model?B5.map(Cl.model._multiSelectUnits,function(Cx){return mstrmojo.all[Cx]
	}):[],Cm=Cn.length===1,Cq,Ck,Cf,Ct=function(){return B5.some(Cn,function(C1){if(Co.keyboardSupport){var Cy=Cg&&Cg.tagName
	return !(typeof Cy==="string"&&Cy.toUpperCase()==="INPUT")
	}var C0=Cg===C1.domNode||Cg===C1.domNode.getElementsByClassName("hover-drag-icon-btn visible")[0]
	if(BH.isIE11){if(!!(Cg.getAttribute&&Cg.getAttribute("spellcheck"))){return false
	}var Cx=BH.findAncestorByAttr(Cg,"onkeydown",true),Cz=function(C2){return B5.some(["mstmojo-ghostImgTableCell","ghost-vis-img","ctrlOverlay","hover-drag-icon-btn mouse-left"],function(C3){return C2.indexOf(C3)!==-1
	})
	}
	return C0||(Cz(Cg.className)&&Cx&&Cx.node===C1.domNode)
	}return C0
	})
	},Cr=function(){var Cy=document.createElement("div"),Cx=Cy.style
	Cx.left="0px"
	Cx.top="0px"
	Cx.position="fixed"
	Cx.right="0px"
	Cx.bottom="0px"
	Cx.visible="true"
	Cx.opacity=0
	Cx.zIndex=99999
	Cy.id="disableClickOverlay"
	Cy.onclick=function(){Cu.onkeyup({e:null,stopMoveNow:true})
	}
	document.body.appendChild(Cy)
	}
	if(!Cj){if(Ci===27){this.loseFocus(true)
	Co.e.preventDefault()
	Co.e.stopPropagation()
	var Cw=Cl.parent,Cd=Cw&&Cw.parent
	if(Cw.isSwitchModeNone()){Cd.grabFocus(true)
	}else{Cw.restoreFocus()
	}return 
	}}if(Cm&&Ci===mstrmojo.Enum_Keys.ENTER){Cf=Ct()
	}else{if(Ce&&Cm&&(Ci===46||Ci===8)){Ck=Ct()
	}else{if(Ce&&Ci>=37&&Ci<=40){Co.e.stopPropagation()
	if(!this.isMaxed&&Cl.isManualMode()){Cq=Ct()
	}}}}if(Ck&&!Cl.isKeyboardMoving){Co.e.preventDefault()
	Co.e.stopPropagation()
	B5.some(Cn,function(Cx){Cx.deleteSelf()
	})
	}else{if(Cq){var Ch
	Co.e.preventDefault()
	Co.e.stopPropagation()
	window.clearTimeout(Cl.updatePanelDataTimer)
	if(!Cl.isKeyboardMoving){Cl.isKeyboardMoving=true
	Cr()
	B5.forEach(Cn,function(Cx){Cl.snapGuide.boxIntervalOperations(Cx,"delete")
	})
	}Cl.curKeyBoardMoveCount+=1
	if(Co.e.shiftKey){Cl.curKeyBoardMoveCount=0
	Ch=10
	}else{Ch=Math.min(Cl.maxKeyBoardMoveSpeed,Math.floor(Cl.curKeyBoardMoveCount/10)+1)
	}var Cs=Cl.getCanvasWidthAndHeight()
	B5.forEach(Cn,function(Cy){var Cx
	switch(Ci){case 37:Cx=parseFloat(Cy.left)
	if(Cx-Ch>=10-parseFloat(Cy.width)){Cy.set("left",Cx-Ch+"px")
	}break
	case 38:Cx=parseFloat(Cy.top)
	if(Cx-Ch>=10-parseFloat(Cy.height)){Cy.set("top",Cx-Ch+"px")
	}break
	case 39:Cx=parseFloat(Cy.left)
	if(Cx+Ch<=parseFloat(Cs.width)-10){Cy.set("left",Cx+Ch+"px")
	}break
	case 40:Cx=parseFloat(Cy.top)
	if(Cx+Ch<=parseFloat(Cs.height)-10){Cy.set("top",Cx+Ch+"px")
	}break
	}})
	}else{if(Cf){this.enterUnit()
	Co.cancel()
	Co.preventDefault()
	}}}},onkeyup:function n(Ce){if(!this.isKBSupportEditing()){return 
	}var Cd=this.parent
	if(Cd&&Cd.isKeyboardMoving){Ce.e.preventDefault()
	Ce.e.stopPropagation()
	Cd.curKeyBoardMoveSpeed=1
	Cd.curKeyBoardMoveCount=0
	var Cg=B5.map(Cd.model._multiSelectUnits,function(Ci){return mstrmojo.all[Ci]
	}),Ch=function(){Cd.updateBoxDimensionByKeyBoardMove(Cg)
	Cd.isKeyboardMoving=false
	var Ci=document.getElementById("disableClickOverlay")
	if(Ci){document.body.removeChild(Ci)
	}}
	if(Ce&&Ce.stopMoveNow){Ch()
	}else{var Cf=Ax.walk("e.keyCode",Ce)
	if(!(Cf&&Cf>=37&&Cf<=40)){return 
	}Cd.updatePanelDataTimer=window.setTimeout(function(){Ch()
	},300)
	}}},onclick:function BE(Cd){Cd.e.justSwitched=this.k!==this.getDocModel().getLatestSelectedViObjKey()
	this.selectVIUnit(null,Cd)
	if(!Cd.e.ptvSelected&&this.switchPropertyOnClick(Cd)){this.boxContent.edtModel.selectTargetByValue(mstrmojo.vi.models.editors.BaseEditorModel.TITLE_CONTAINER_VALUE)
	}if(Ax.walk("parent.updateCanTab",this)){this.parent.updateCanTab(true)
	}},switchPropertyOnClick:function BR(){var Cd=this.boxContent.edtModel
	return !!(Cd&&Cd.selectTargetByValue)
	},getZonesModel:function CP(){return null
	},getEditorModel:function AL(){return this.boxContent.edtModel
	},onmouseenter:function CW(){var Cg=this.menuBtnInfo,Ce=this.dragIcon
	if(Cg&&Cg.menuCfg){Bk.addClass(Cg.btn,G)
	Bk.removeClass(Cg.btn,B7)
	}if(Ce&&!this.showTitleBar&&!mstrApp.isAppStatePresentation()&&!mstrApp.isLayoutModePreview()){AI(Ce,this.draggable)
	}if(Ax.walk("parent.groupTreeLayoutConfig.getFloatGroupTree",this)&&this.parent.groupTreeLayoutConfig.getFloatGroupTree()){var Ch=this.getParentGroup()
	if(Ch&&Ch.editable){this.parent.groupTreeLayoutConfig.editGroup()
	}this.selectGroup()
	}if(this.boxContent){var Cf=this.boxContent,Cd=!!Ax.walk("defn.iwKey",Cf)
	if((Cf.scriptClass==="mstrmojo.vi.ui.rw.DocTextfield"||Cf.scriptClass==="mstrmojo.vi.ui.rw.DocImage")){Ad.call(Cf,Cd)
	}}},onmouseleave:function Ai(){var Ce=this.menuBtnInfo,Cd=this.dragIcon
	if(Ce&&Ce.menuCfg){Bk.addClass(Ce.btn,B7)
	Bk.removeClass(Ce.btn,G)
	}if(Cd&&this.model.getLatestSelectedViObjKey()!==this.k&&!this.showTitleBar&&!mstrApp.isAppStatePresentation()){AI(Cd,false)
	}},onfocusin:function BZ(){var Ce=BH.findWidget(this),Cd=Ce&&Ce.boxContent&&Ce.boxContent.hasAccessibility
	if(Cd){Ce.toggleTitleBarButtonCSS(true)
	}},onMenuClose:function K(){var Cf=window.event,Cg=Cf&&Cf.currentTarget
	if(Cg&&Cg.tagName==="BODY"){var Ce=this.opener&&this.opener.containerNode,Cd=Ce&&BH.findWidget(Ce)
	if(Cd&&Cd.toggleTitleBarButtonCSS){Cd.toggleTitleBarButtonCSS(false)
	}}},onfocusout:function l(){var Ci=BH.findWidget(this),Cf=Ci&&Ci.boxContent&&Ci.boxContent.hasAccessibility,Cg=window.event
	if(Cf){var Ce=BH.findWidget(Cg.currentTarget),Ch=BH.findWidget(Cg.relatedTarget),Cd
	if(Ch&&(Ch.isUnitContainer||Ch.parent)){Cd=Ch.isUnitContainer?Ch:Ch.parent.parent
	}if(Ce&&Cd&&Ce.isUnitContainer&&Cd.isUnitContainer&&Ce!==Cd){Ce.toggleTitleBarButtonCSS(false)
	Cd.toggleTitleBarButtonCSS(true)
	}else{if(Ce&&Ce.isUnitContainer&&!Ch){Ce.toggleTitleBarButtonCSS(false)
	}}}},onblur:function O(){this.toggleTabSelectionEffect(false)
	},toggleTitleBarButtonCSS:function B3(Cg){var Cf=this.menuBtnInfo,Cd=this.filterBtnNode&&this.filterMenuCfg,Ce=this.maxRestoreBtnNode
	if(Cf&&Cf.menuCfg){Bk.toggleClass(Cf.btn,BC,Cg)
	}if(Cd){Bk.toggleClass(this.filterBtnNode,BC,Cg)
	}if(Ce){Bk.toggleClass(Ce,BC,Cg)
	}},onmouseover:function Ao(Cd){if(!mstrApp.isInteractive()){return 
	}if(!this.bubbleMouseOver){Cd.cancel()
	}var Ce=this._panelTimeout
	if(Ce){window.clearTimeout(Ce)
	delete this._panelTimeout
	}if(this.titleBar.visible&&!mstrApp.isAppStateSelection()){this.titleBar.setToolbarVisibility(true)
	}},onmouseout:function At(){var Cd=this.id
	this._panelTimeout=window.setTimeout(function(){var Ce=mstrmojo.all[Cd]
	if(Ce){Ce.titleBar.setToolbarVisibility(false)
	}},200)
	},menuDisplayCallback:function g(Ce){var Cd=this.menuBtnInfo
	Bk.toggleClass(Cd.btn,G,Ce)
	Bk.toggleClass(Cd.btn,B7,!Ce)
	},onmousemove:function r(){var Cd=this,Ce=Cd.menuBtnInfo
	if(Cd.titleBar&&!Cd.titleBar.visible&&Ce&&Ce.menuCfg){if(!!Cd.mouseMovingTimer){clearTimeout(Cd.menuDisplayTimeout)
	}Cd.mouseMovingTimer=setTimeout(function(){clearTimeout(Cd.menuDisplayDelay)
	Cd.menuDisplayDelay=null
	clearTimeout(Cd.menuDisplayTimeout)
	Cd.menuDisplayTimeout=setTimeout(function(){Cd.menuDisplayCallback(false)
	},1500)
	},100)
	if(!Cd.menuDisplayDelay){Cd.menuDisplayDelay=setTimeout(function(){Cd.menuDisplayCallback(true)
	},500)
	}}},isDragValid:function Ab(Ce){var Cg=Ce.src.node,Cd=Cg.tagName,Cf=Cg.getAttribute("class")
	Cd=(Cd&&Cd.toLowerCase())||""
	Cf=(Cf&&Cf.toLowerCase())||""
	if(Cd==="input"||Cd==="textarea"||Cf.indexOf("hover-menu-btn")>-1||Cf.indexOf("icn")>-1||Cf.indexOf("edge")>-1||Cf.indexOf("resizer")>-1){return false
	}return(this.unDocked&&this.parent.hasFloatChildren())||this.parent.hasMultipleChildren()
	},initializeDrag:function Cb(){if(this._super()!==false){this.selectVIUnit()
	}},getTargetDropZone:function BL(Cd){if(CO.call(this,Cd)||A7.call(this,Cd)){return""
	}return this._super(Cd)
	},allowDrop:function R(Cd){var Cg=Cd.src,Cf=Cg&&Cg.widget,Ce=this.parent,Ch=false
	if(Ce&&Ce.isManualMode&&typeof Ce.isManualMode==="function"){Ch=Ce.isManualMode()
	}if(this.boxContent&&this.boxContent.hasArrayGSI&&Ax.walk("widget.scriptClass",Cg)!=="mstrmojo.vi.ui.VizGalleryContainer"&&!Ax.isEmpty(this.getContextDragData(Cd))){return false
	}if(Cf&&Cf===this){return false
	}if(Ch&&Cf&&Cf.isUnitContainer&&Ce===Cf.parent){return false
	}if(AY.call(this,Cd)&&this.allowDropFromFilter(Cd)&&!Ch){return true
	}if(BI.call(this,Cd)&&this.allowDropFromVizGallery(Cd)&&!Ch){return true
	}if(CO.call(this,Cd)&&this.allowDropFromDataset(Cd)){return true
	}if(A7.call(this,Cd)&&this.allowDropFromAllObjectsBrowser(Cd)){return true
	}return this._super(Cd)
	},allowDropFromFilter:function CN(Cd){var Cf=Cd&&Cd.src,Ce=Cf&&Cf.widget
	return mstrApp.allowWebDashboardDesign()&&!(Ce&&Ce.isVisFilter())
	},allowDropFromVizGallery:function AQ(Cd){return true
	},allowDropFromDataset:function CV(Cd){return false
	},allowDropFromAllObjectsBrowser:function Aj(Cd){return this.allowDropFromDataset(Cd)
	},allowContainerSwitch:function Cc(Cd){return false
	},getSelectedViUnitFnName:function Ap(){return undefined
	},close:function(){this.parent.deleteBoxAndSubmit(this)
	this.parent.removeChildren(this)
	mstrApp.rootCtrl.generateToolbar()
	this.destroy()
	},createAvatar:function BX(){this.domNode.style.zIndex="-1"
	var Cd=document.createElement("div")
	Cd.className=this.getAvatarCls().join(" ")
	Cd.textContent=this.getDisplayName()
	return this.offsetAvatar(Cd)
	},duplicateUnit:function L(Cd){return 
	},canDuplicate:function(){var Cd=this.boxContent
	return !!Cd.canDuplicate&&Cd.canDuplicate()
	},ondragstart:function BD(Cd){this.isDragging=true
	this._super(Cd)
	},ondragmove:function BV(Cd){if(Cd.src.widget&&Cd.src.widget.unDocked&&(Cd.delay=Cd.delay^1)){this.parent.processGuidesMove(Cd)
	}},ondragend:function Bp(Cd){this.domNode.style.zIndex=Cd.floatIndex?Cd.floatIndex:M
	this.isDragging=false
	this._super(Cd)
	},wasDropped:function Ac(Cd){this.domNode.style.zIndex=M
	this._super(Cd)
	},ondrop:function CQ(Cd){var Cg=AY.call(this,Cd),Ck=BI.call(this,Cd),Cf=this.maskNode.zone,Ci,Cn=this.getDocModel(),Cm=this
	if(Cg){Ci=Cd.src.widget.selector.node
	}this._super(Cd)
	if(CO.call(this,Cd)){Cn.selectVIUnit(this.id)
	this.dropFromDataset(Cd)
	}if(A7.call(this,Cd)){var Cj=Cd.src.widget,Ch=Cj&&Cj.dataProvider
	if(Ch){Ch.loadObjects(Cd.getCtxtDragData().items,{success:function(){Cm.dropFromAllObjects(Cd)
	}})
	}}var Cl
	if(Cg){Cl=this
	if(!Cf){Cf=this.parent.getPanelTargetEdge(Cd)
	if(Cf){Cl=null
	}}this.parent.restoreAnyMaxedVizBox()
	this.model.insertExistingFilter(Ci,Cl,Cf,Cl.parent)
	}else{if(Ck){Cl=this
	var Co=Cd.getCtxtDragData().vizItem
	if(!Cf){Cf=this.parent.getPanelTargetEdge(Cd)
	if(Cf){Cl=null
	}}this.parent.restoreAnyMaxedVizBox()
	this.model.dndInsertNewBox(Co,{targetBox:Cl,targetPanelKey:Cl.parent.k,edge:Cf})
	var Ce=Ax.walk("mstrApp.rootCtrl.datasetsPanel",window)
	if(Ce&&typeof Ce.showAddDataToVizTutorialOnce==="function"){Ce.showAddDataToVizTutorialOnce()
	}}}},postDropBox:function CL(){this.domNode.style.zIndex=M
	},rebuildBoxContent:function AM(Cd){var Cg=this.boxContent,Ce=this.parent
	this.removeChildren(Cg)
	Cg.destroy()
	if(Cd){var Cf=Ce.builder.build([Cd],this.model,{pk:Ce.k})[0]
	Cg=Cf.boxContent
	Cf.removeChildren(Cg)
	Cf.destroy()
	}else{Cg=this.model.rebuildUnitFromDataCache(Cg.id,Ce.k,Ce.builder).boxContent
	}this.defn=Cg.defn
	this.addChildren([Cg])
	},dropFromDataset:mstrmojo.emptyFn,dropFromAllObjects:mstrmojo.emptyFn,generateToolbar:function N(){var Cd=this.titleBar,Ce=Cd.toolbarCfg,Cf=this.menuBtnInfo
	if(Cf){if(Ce){Ce.destroy()
	}if(Cf.menuCfg&&Cf.menuCfg.destroy){Cf.menuCfg.destroy()
	}if(mstrApp&&mstrApp.isInVFInteractMode||mstrApp.isAppStateSelection()){Cf.menuCfg=null
	}else{Cd.set("toolbarCfg",this.updateToolbar(new mstrmojo.ui.menus.ToolbarConfig()))
	Cf.menuCfg=Cd.getMenuConfig()
	}}if(this.hasRendered){AT.call(this)
	}if(BH.isTouchOptimizationEnabled()){if(this.isToolbarShow&&this.isToolbarShow()){this.showMobileDossierToolbar()
	}}},getTitleVisibilityFmts:function B1(Cd){return{FormattingView:{ShowTitleBar:Cd}}
	},toggleTitleBar:function BU(Ce){var Cj=this.boxContent.id,Ch=this.model,Ci=function Ci(Ck){var Cm=mstrmojo.all[Cj],Cl=Cm.parent
	clearTimeout(Cl.mouseMovingTimer)
	clearTimeout(Cl.menuDisplayTimeout)
	clearTimeout(Cl.menuDisplayDelay)
	Cl.setTitleBarVisibility(Ck)
	Cl.parent.selectVIUnit(Cl,true)
	Cl.applyBoxSize(Cl.height,Cl.width,Cl.top,Cl.left)
	Cl.showTitleBar=Ck
	Cl.generateToolbar()
	Cm.refresh(null,true)
	},Cd=this.id
	Ci(Ce)
	Ch.controller.cmdMgr.execute({execute:function(){var Ck=mstrmojo.all[Cj].parent
	this.submit([Ch.getUnitFormatAction(Ck,Ck.defn.t===Bz.SELECTOR?5:1,Ck.getTitleVisibilityFmts(Ce?1:0),true)],{success:function Cm(){mstrmojo.all[Cd].defn.httl=Ce
	},failure:function Cl(){Ci(!Ce)
	}},mstrmojo.DocDataService.RAPID_EXEC)
	Ci(Ce)
	},urInfo:{silent:true,undo:function Cf(){Ci(!Ce)
	},redo:function Cg(){Ci(Ce)
	}}})
	},getFormats:function As(){var Cd=this.boxContent
	if(Cd){return Cd.getFormats()
	}return null
	},clearFormats:function B(){var Cd=this.boxContent
	if(Cd&&Cd.clearFormats){Cd.clearFormats()
	}},preBuildRendering:function CT(){var Cd=this.boxContent
	if(Cd){Cd.attachEventListener("regenerateToolbar",this.id,"generateToolbar")
	}this.generateToolbar()
	return this._super()
	},postBuildRendering:function A5(){var Cd=this.showTitleBar
	this.setTitleBarVisibility(Cd)
	if((mstrApp.isAppStatePresentation&&mstrApp.isAppStatePresentation())||(mstrApp.isLayoutModePreview&&mstrApp.isLayoutModePreview())){this.draggable=false
	}this._super()
	this.titleBar.setToolbarVisibility(false)
	this.applyBoxSize(this.height,this.width,this.top,this.left)
	this.updateSplitters()
	if(!mstrApp.isInVFConfigMode&&!mstrApp.isInVFInteractMode&&!(this.boxContent&&this.boxContent.isCustomSort)){this.dragIcon=AB.call(this,this.dragIcon)
	}this.updateAriaLabel()
	this.canTab=true
	return true
	},updateAriaLabel:function Bn(){var Cd=this.title+", Unit Container"
	if(Cd!==this.ariaLabel){this.set("ariaLabel",Cd)
	}},changeUnitFormats:function B0(Cg,Cj,Cn,Cl,Cf,Cd,Ch,Ck){var Ci=function(Cu){if(Ch){Cu=Ch(Cu)
	}AF.updateFormatBlock(Cg?Cn.ttl:Cn,Cl,Cu)
	var Cr=this.parent,Cs=Cr?this:this.model.getSelectedViUnit()
	if(Cr&&Cr.isManualMode()&&Cn.border){Cr.snapGuide.boxIntervalOperations(Cs,"delete")
	}var Cq=Cn
	if(typeof Cs.filterFormats==="function"){Cq=Cs.filterFormats(Cg,Cn)
	}Bd.call(Cs,Cg,Cq)
	this.applyNoFillClass()
	if(Cr&&Cr.isManualMode()&&Cn.border){Cr.snapGuide.boxIntervalOperations(Cs,"insert")
	}var Ct=this.boxContent
	if(!Ct.excludeData){if(!Cg&&Ct.restylePlotly&&Ct._slots){Ct.restylePlotly(Cn)
	}}if(Ck){Ck(Cu)
	}Cs.synchronizeEditors()
	if(Cg&&Cl===A1.FONT_SIZE){Cs.doLayout()
	Cs.postUpdateLayout()
	}},Cm=function(Cs){var Cr,Cq=this.model.currlaykey
	Cr=B5.filterOne(Cs.defn.layouts,function(Ct){return(Ct.k===Cq&&Ct.loaded)
	})
	Cn.border=Cr.units[this.k].fmts.border
	},Co={success:Ci.bind(this,Cf)}
	var Cp="none",Ce=mstrmojo.DocDataService.SUPPRESS_DATA
	if(Cl===A1.BORDER_STYLE&&Cd===Cp){Ce=mstrmojo.DocDataService.REQUEST_ONLY_DEFINITION
	Co=mstrmojo.func.wrapMethods({success:Cm.bind(this)},Co)
	}this.model.saveUnitFormatProperty(this,[{formatType:Cj,propertyName:Cl,newValue:Cf,oldValue:Cd}],Co,Ce,{silent:true,undo:Ci.bind(this,Cd),redo:Ci.bind(this,Cf)})
	},redraw:function Ae(){if(this.onlyRedraw||this.boxContent.redraw()===true){return true
	}return this._super()
	},getAvatarCls:function Bx(){return["mstrmojo-VIUnit-avatar","icn-avi",mstrApp.getThemeClassName()]
	},addDragHandle:function Br(){var Cd=document.createElement("div")
	Cd.className="uc-drag-handle"
	this.domNode.appendChild(Cd)
	},toggleDragHandleVisibility:function k(Cd){Bk.toggleClass(this.domNode,"no-handler",!Cd)
	},toggleBoxSelection:function Ca(Cg){if(mstrApp.isInVFInteractMode){return 
	}var Ci=mstrApp.isAppStatePresentation(),Ce=mstrApp.isAppStatePrintPreview(),Ck=this.domNode,Cj=this.dragIcon,Cf=this.model.getMultiSelectUnits(),Ch=Cf.length>1,Cd=Cf.length===2&&mstrmojo.all[Cf[0]]
	Bk.toggleClass(Ck,"selected",Cg&&!(Ci||Ce))
	if(this.isGhstImgHidden()){if(Ch){this.ctrlOverlay.set("visible",Cg)
	if(Cd&&!Cd.ctrlOverlay.visible){Cd.ctrlOverlay.set("visible",Cg)
	}}else{this.ctrlOverlay.set("visible",false)
	}}if(Cj&&!this.showTitleBar&&!mstrApp.isAppStatePresentation()){AI(Cj,this.draggable&&Cg)
	}if(!Cg){this.toggleTabSelectionEffect(Cg)
	}},isGhstImgHidden:function BQ(){return !this.isGhstImgVisible
	},updateGhostImgCss:function CK(Cd){if(Cd.propertyName===A1.BACKGROUND_COLOR&&!Cd.isTitle){var Ce=this.ghostImgCss||[]
	Ce=B5.filter(Ce,function(Cf){return W.indexOf(Cf)===-1
	})
	Ce=Ce.concat(h(Cd.value))
	this.set("ghostImgCss",Ce)
	}},isAMSelector:function AO(){return this.scriptClass==="mstrmojo.vi.ui.rw.AMSelectorBox"
	},isPanelSelector:function BA(){return this.scriptClass==="mstrmojo.vi.ui.rw.PanelSelectorBox"
	},isPanelStackBox:function X(){return this.scriptClass==="mstrmojo.vi.ui.rw.PanelStackBox"
	},isInfoWindowBox:function Ak(){return this.scriptClass==="mstrmojo.vi.ui.rw.InfoWindowBox"
	},applyNoFillClass:function BJ(){var Cd=this.getFormats(),Cf=Ax.walk("background-color",Cd),Ce=Cf==="transparent"||Cf===undefined
	if(!Cd){return 
	}if(this.domNode){if(Ce){Bk.addClass(this.domNode,"noFill")
	}else{Bk.removeClass(this.domNode,"noFill")
	}}else{if(Ce){Bk.addWidgetCssClass(this,"noFill")
	}}},getUnitType:function A4(){return this.defn.t
	},selectFromLayer:function Az(Ce,Cd){var Ci=this.parent._tgtSelections,Ck=Ax.clone(this.model._multiSelectUnits)||[],Ch=Ck.indexOf(this.id)!==-1,Cg=Ce.indexOf(this.id)!==-1,Cf=Cd&&(Cd.ctrlKey||Cd.metaKey)&&this.parent.isManualMode(),Cj=Ce.length===1&&!Cf
	this.parent.infoWindowViewHandler(this)
	if(Ci){this.selectVIUnit(true)
	}else{if(Cj){this.selectVIUnit()
	}else{if(Cg&&!Ch){this.toggleBoxSelection(true)
	}else{if(!Cg&&Ch){this.toggleBoxSelection(false)
	}}}}this._super()
	},renameFromLayer:function Ar(Cf,Cd,Ce){this.updateDisplayName(Cf,Cd,Ce)
	},deleteFromLayer:function x(){this.deleteSelf()
	},formatFromLayer:function AC(){this.launchFormatEditor()
	},showErrorMessageOverlay:function BP(Ce,Cf){var Cd=[{scriptClass:"mstrmojo.Container",cssClass:"error-msg"+(Cf?" include-warning-icon":""),markupString:'<div class="{@cssClass}"><div class="error-content"><div class="text">'+Ce+"</div></div></div>",markupSlots:{containerNode:function(){return this.domNode
	}}}]
	this.showControlOverlay(Cd)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.dom","mstrmojo.vi.ui.rw._HasVisSelections","mstrmojo.css","mstrmojo.chart.model.enums.EnumDSSObjectType","mstrmojo.vi.models.editors.XtabEditorModel","mstrmojo.elementHelper")
	var B=mstrmojo.css,I=mstrmojo.hash,H=mstrmojo.dom,Z=mstrmojo.array,N=mstrmojo.chart.model.enums.EnumDSSObjectType,S=mstrmojo.elementHelper,A=mstrmojo.vi.models.editors.XtabEditorModel.ENUM_EDITOR_TARGETS,R={cssClass:"grpHlt",left:"grpLeft",right:"grpRight",top:"grpTop",bottom:"grpBot",noBorder:"grpNoBorder",seperate:"grpSep"},n=function(r,q){var o=this.zone,v=this.isOutlineMode
	q=q||(o&&o.tableNode)
	if(q){var p=[],u=q.tBodies,w=function(AA,z){var AC=AA.length,x=-1,AB
	while(AC-x>1){if(AA[AB=AC+x>>1].getAttribute("ei")<z){x=AB
	}else{AC=AB
	}}return(AA[AC]&&parseInt(AA[AC].getAttribute("ei"),10)===z)?AA[AC]:null
	},t=function(z,x){var AA=null
	Z.forEach(z,function(AB){if(parseInt(AB.getAttribute("ei"),10)===x){AA=AB
	return false
	}})
	return AA
	}
	Z.forEach(r,function(z){var AD=z._ei,AB
	for(AB=0
	AB<u.length
	AB++){var x=u[AB],AA=x.getElementsByClassName(z.css),AC=v?t(AA,AD):w(AA,AD)
	if(AC){p.push(AC)
	}}})
	return p
	}return[]
	},b=function(p){var q=this.model.data,o=q.gts,r=[]
	Z.forEach((o.row||[]).concat(o.col||[]),function(t){if(t.id===p.id){r=r.concat(t.fs)
	}})
	return r.length>0?r.length:1
	},C=function(z,p,q,v,AA){var o=R
	var x=0
	var u=p.length
	while(x<u){var w=this.isDerivedElementForHighlight(z[x])
	css=[o.cssClass,o.noBorder]
	if(w){if(x===0){css.push(v?o.top:o.left)
	}css.push(v?o.left:o.top)
	css.push(v?o.right:o.bottom)
	if(x===u-1){css.push(v?o.bottom:o.right)
	}B.addClass(p[x],css)
	x++
	}else{if(x===0){p.slice(x,x+q).forEach(function(AB){B.addClass(AB,css.concat(v?o.top:o.left))
	})
	}var r=p[x]
	B.addClass(r,css.concat(v?o.left:o.top))
	var t=p[x+q-1]
	B.addClass(t,css.concat(v?o.right:o.bottom))
	if(x===u-q){p.slice(x,x+q).forEach(function(AB){B.addClass(AB,css.concat(v?o.bottom:o.right))
	})
	}x=x+q
	}}},U=function U(t){var r=t&&t.axis||1,o=E.call(this,t),q=[],w=t._e&&t._e.id,v=(r===1)
	if(v){var p=H.findAncestorByName(o,"tr")
	Z.forEach(p&&p.children,function(z){if(H.checkTagName(z,"td")){var x=this.getCellForNode(z)
	if(x._e&&x._e.id===w){q.push(x)
	}}},this)
	}else{var u=t.colIx
	q=this.interactiveCellsArray.filter(function(x){return x.colIx===u&&I.walk("_e.id",x)===w
	})
	}return q
	},E=function(o){return n.call(this,[o])[0]
	},G=function(r){var q=r&&r.axis||1,t=(q===1),o=this[t?"clonedRowHeader":"clonedColHeader"],p=(o?o.getTableNode():this.zone.tableNode)
	return{isRowAxis:t,tableNode:p,}
	},W=function(o){var q=this.model.getCellDataUnion(o),p={}
	Z.forEach(q,function(r){p[r.tid]=[{id:r.eid,n:r.v}]
	})
	return p
	},F=function(t,u){var o=[],q,r=this,p=this.model,v={}
	I.forEach(t,function(w){Z.forEach(I.keyarray(w),function(x){if(o.indexOf(x)===-1){o.push(x)
	}})
	})
	return n.call(this,Z.filter(this.interactiveCellsArray,function(x){if(x.hasOwnProperty("mix")){var z=W.call(r,x)
	q=Z.filter(o,function(AA){var AB=p.getLinkedAttributes(AA),AC=false
	if(!!z[AA]){v[AA]=AA
	AC=true
	}else{Z.forEach(AB,function(AD){if(!!z[AD]){v[AA]=AD
	AC=true
	return false
	}})
	}return AC
	})
	if(!u&&I.keyarray(z).length!==q.length){return false
	}var w=false
	I.forEach(t,function(AA){if(!u&&I.keyarray(AA).length!==q.length){w=false
	}else{Z.forEach(q,function(AB){var AC=z[v[AB]],AD=AA[AB]
	if(!AC||!AD||!p.compareElementsId(AC[0].id,AD[0].id)){w=false
	return false
	}w=true
	})
	}if(w){return false
	}})
	return w
	}return false
	}))
	},D=function(t,x){var z=(function(){var AB=[]
	I.forEach(t,function(AC){I.forEach(AC,function(AD,AE){Z.forEach(AD,function(AF){AB.push([AE,AF.id])
	})
	})
	})
	return AB
	}()),w,u=this,o=Z.filter(this.interactiveCellsArray,function(AC){w=false
	var AD=!AC.hasOwnProperty("mix")&&AC._e&&AC.fi===undefined,AB=!AD&&W.call(u,AC)
	if(AD){Z.forEach(z,function(AE){if((!x||u.model.getCellTitleInfo(AC).title.id===AE[0])){w=u.model.compareElementsId(AC._e.id,AE[1])
	}if(w){return false
	}})
	}else{if(!x&&AB){I.forEach(AB,function(AE){Z.forEach(z,function(AF){Z.forEach((AE||[]),function(AG){if(AG.id){w=u.model.compareElementsId(AG.id,AF[1])
	}})
	if(w){return false
	}})
	if(w){return false
	}})
	}}return w
	}),v=n.call(this,o),AA=[],r,q,p
	if(x){AA=v
	}else{Z.forEach(v,function(AB){r=o[Z.find(o,"_ei",AB.getAttribute("ei"))]
	if(r.axis===1){var AE=0,AD=AB.rowSpan||1,AC=AB.parentNode
	do{p=AC.childNodes
	for(q=0
	q<p.length
	q++){AA.push(p[q])
	}}while((++AE<AD)&&(AC=AC.nextSibling))
	}else{AA.push(AB)
	}})
	}if(this.zone){AA=AA.concat(this.zone.getSpecClonedNodesByPositions(o))
	}return AA
	},m=function(t,p){if(!this.getFormatTargetFromCell){return[]
	}var r=this.getSubtotalFormatUseGridFormat(t),q=this.model
	var u=this.id,o
	return n.call(this,Z.filter(this.interactiveCellsArray,function(v){o=mstrmojo.all[u].getFormatTargetFromCell(v)===t
	if(p){return(o&&(v.stt===1||q.isSubtotalValue(v)))
	}if(!r){return(o&&!(v.stt===1||q.isSubtotalValue(v)))
	}return o
	}))
	},L=function(q){var t=[],u
	var r=this.getSubtotalFormatUseGridFormat(A.COLUMNS)
	if(this.getFormatTargetFromCell){Z.forEach(this.interactiveCellsArray,function(v){if(this.getFormatTargetFromCell(v)!==A.COLUMNS){return false
	}if((q&&v.stt===1)||(!q&&(r||(!r&&v.stt!==1)))){t.push(v)
	}return true
	},this)
	}var p=this.xtabClonedNodes
	if(p){var o=Z.filterOne(p,function(v){return v.lockType===2
	})
	if(o){u=o.domNode.getElementsByTagName("table")[0]
	}}return n.call(this,t,u)
	},g=function(o,p,r){var q=["xtabSel"].concat(H.isIE||H.isIEW3C?"ie":[],"sc_"+this.k)
	if(!p||r){q.push("range")
	}if(!p){q=q.concat(I.valarray(R))
	}B.toggleClass(o,q,p)
	},l=function(o,p){var q=["XtabContextMenuSel"].concat(H.isIE||H.isIEW3C?"ie":[],"sc_"+this.k)
	B.toggleClass(o,q,p)
	},h=function(o,p){Z.forEach(p,function(q){if(Z.indexOf(o,q)===-1){o.push(q)
	}})
	},c=function(p){var o=this
	return n.call(this,Z.filter(this.interactiveCellsArray,function(q){var r=o.model.getCellInfo(q)
	if(r.isHeader||r.isTitle){return false
	}if(q.hasOwnProperty("mix")){if(p.target.id===q._tp._e.oid){var u=true
	var t=o.model.getCellDataUnion(q)
	return !Z.some(t,function(v){return p.parentElementIds.indexOf(v.eid)<0
	})
	}}return false
	}))
	},P=function(p){var o=this
	return n.call(o,Z.filter(o.interactiveCellsArray,function(q){var t=!q.hasOwnProperty("mix")&&q._e&&q.fi===undefined
	if(t){if(p.target.id===q._e.id){var r=q
	while(r.hasOwnProperty("_p")){if(p.parentElementIds.indexOf(r._p._e.id)<0){return false
	}else{r=r._p
	}}return true
	}}return false
	}))
	}
	mstrmojo.vi.ui.rw._XtabHighlights=mstrmojo.provide("mstrmojo.vi.ui.rw._XtabHighlights",{_mixinName:"mstrmojo.vi.ui.rw._XtabHighlights",highlights:null,borderHighlights:null,formHighlights:null,contextMenuHighLights:null,highlight:function k(q,t,o,u){if(this._super){this._super.apply(this,arguments)
	}var r=mstrmojo.vi.ui.rw.SelectionType,p=[]
	this.clearHighlights()
	switch(q){case r.METRICS:p=F.call(this,t,u)
	break
	case r.ATTS:p=D.call(this,t,o)
	break
	}this.highlightCells(p,o)
	},highlightAttrOrMetricCell:function X(r){var q=this,o=[],p=mstrmojo.vi.ui.rw.SelectionType
	this.clearHighlights()
	Z.forEach(r,function(t){if(t.target.selectionType===p.ATTS){o=o.concat(P.call(q,t))
	}else{o=o.concat(c.call(q,t))
	}})
	this.highlightCells(o,false)
	},highlightRange:function a(q,u,o){var r=mstrmojo.vi.ui.rw.SelectionType,t=u?this.highlights.slice():null,p=[]
	this.clearHighlights()
	switch(q){case r.COL_HEADERS:p=L.call(this,o)
	break
	case r.ROW_HEADERS:p=m.call(this,A.ROWS,o)
	break
	case r.METRIC_VALUES:p=m.call(this,A.VALUES,o)
	break
	}Z.forEach(p,function(x){var w=true
	if(t){var v=Z.indexOf(t,x)
	w=v===-1
	if(!w){t.splice(v,1)
	}}g.call(this,x,true,w)
	},this)
	this.highlights=p
	},clearSelections:function Y(){if(this._super){this._super()
	}this.clearHighlights()
	},clearCxtMnuSelection:function e(){if(this._super){this._super()
	}this.clearContextMenuHighlights()
	},clearHighlights:function J(){Z.forEach(this.highlights,function(u){g.call(this,u,false)
	},this)
	if(this.isVIXtab&&this.model.hasRecursiveAttribute(this.gridData||this.node&&this.node.data)){this.clearExtraHighlights()
	this.clearHighlightsForExpand()
	}this.highlights=[]
	try{var p=this.getCellForNode(this.lastSelectedCell),t=p&&this.gridData.gts[p.axis===1?"row":"col"],o=t&&t[p.tui||p.ui],q=o&&o.id
	if(q){this.zone.clearHilites(q)
	}}catch(r){}},clearContextMenuHighlights:function f(){Z.forEach(this.contextMenuHighLights,function(o){l.call(this,o,false)
	},this)
	this.contextMenuHighLights=[]
	},highlightCellsById:function O(u,t,r){var q=this.model,o=function(v,w,x){return v[w]&&v[w]._e&&v[w]._e[x]===u
	},p=n.call(this,Z.filter(this.interactiveCellsArray,function(w){var v=false
	if(t===N.DssTypeMetric){v=o(w,"_tp","oid")||o(w,"_lp","oid")
	}else{if(t===N.DssTypeAttribute){if(r){v=o(w,"_tp","id")||o(w,"_lp","id")
	}else{if(q&&q.getNormalizedFormElementId&&w._e&&w._e.id){v=S.getAttributeId(q.getNormalizedFormElementId(w._e.id))===u
	}}}}return v
	}))
	this.clearHighlights()
	this.highlightCells(p)
	},highlightCells:function(p,o){if(this._super){this._super(p,o)
	}this.highlights=p
	this.formHighlights=[]
	this.borderHighlights=[]
	Z.forEach(p,function(q){if(this.isVIXtab&&this.model.hasRecursiveAttribute()&&!this.isCustomSort){this.formHighlights=this.formHighlights.concat(this.highlightAllFormCell(q))
	}if(this.shouldBranchHighlight(q)){try{this.borderHighlights=this.borderHighlights.concat(this.highlightBranchCell(q))
	}catch(r){g.call(this,q,true)
	}}else{g.call(this,q,true)
	}},this)
	},shouldBranchHighlight:function(o){var p=this.getCellForNode(o)
	return !this.isCustomSort&&p.hcd&&p.epd&&p.fi===undefined
	},highlightAllFormCell:function(v){var x=this.getCellForNode(v)
	var w=this.isAttributeElementForHighlight(x)
	if(!w){return 
	}var o=["xtabSel"].concat(H.isIE||H.isIEW3C?"ie":[],"sc_"+this.k),r=G.call(this,x),q=U.call(this,x)
	var t=n.call(this,q,r.tableNode),u=this.model.getCellTitleInfo(x).title,p=b.call(this,u)
	Z.forEach(t,function(z){B.addClass(z,o)
	})
	C.call(this,q,t,p,r.isRowAxis)
	return t
	},isDerivedElementForHighlight:function(p){if(!p){return false
	}var q=this.getDEInfo(p),o=q&&q.de
	return !!o
	},isAttributeElementForHighlight:function(o){return o&&!o.hasOwnProperty("mix")&&o._e
	},highlightBranchCell:function(o){if(this.allowRAcellsHighlight()){return 
	}var p=this.getCellForNode(o)
	return this.highlightRACellGroupBorder(p)
	},highlightCellsWithContextMenuSelection:function(o){Z.forEach(o,function(p){l.call(this,p,true)
	},this)
	this.contextMenuHighLights=o
	},configureActions:function d(){if(this._super){this._super()
	}if(!!this.selectorControl&&!this.isCustomSort){this.highlight(this.getSelectionType(),this.getSelectionHash(),true)
	}},highlightCellsForExpand:function K(o){this._expandHighlight=this.highlightRACellGroupBorder(o)
	},clearHighlightsForExpand:function M(){var p=this._expandHighlight
	if(p){delete this._expandHighlight
	}var o=I.valarray(R)
	Z.forEach(p,function(q){B.toggleClass(q,o,false)
	})
	},highlightRACellGroupBorder:function j(AE){var r=this.getRACellGroup(AE),v=G.call(this,AE),x=this.model.getCellTitleInfo(AE).title,o=b.call(this,x),p=n.call(this,r,v.tableNode),AC=[],w=[]
	var AD=n.call(this,U.call(this,AE),v.tableNode)
	Z.forEach(AD,function(AG){B.removeClass(AG,[R.left,R.right,R.top,R.bottom])
	},this)
	if(v.isRowAxis){var q=-1
	var AF=-1
	var AB=1
	Z.forEach(p,function(AH,AG){AF=H.findAncestorByName(AH,"tr").rowIndex
	if(q===-1){q=AF
	AB=parseInt(AH.getAttribute("rowspan"))
	w.push(r[AG])
	return 
	}if(q+AB!==AF){AC.push(w)
	if(r[AG]){w=[r[AG]]
	}else{w=[]
	}}AB=parseInt(AH.getAttribute("rowspan"))
	q=AF
	if(r[AG]){w.push(r[AG])
	}})
	if(w.length>0){AC.push(w)
	}}else{var u=-1
	var t=-1
	var z=1
	Z.forEach(r,function(AH){t=AH.colIx
	var AG=E.call(this,AH)
	if(u===-1){u=t
	z=AG?parseInt(AG.getAttribute("colSpan")):1
	w.push(AH)
	return 
	}if(u+z!==t){AC.push(w)
	w=[AH]
	}z=AG?parseInt(AG.getAttribute("colSpan")):1
	u=t
	w.push(AH)
	},this)
	if(w.length>0){AC.push(w)
	}}var AA=[]
	Z.forEach(AC,function(AI){var AH=[],AG=[]
	Z.forEach(AI,function(AJ){AH=AH.concat(U.call(this,AJ))
	},this)
	AG=n.call(this,AH,v.tableNode)
	AA=AA.concat(AG)
	C.call(this,AH,AG,o,v.isRowAxis,v.tableNode)
	},this)
	return AA
	},clearExtraHighlights:function Q(){var o=["xtabSel"].concat(H.isIE||H.isIEW3C?"ie":[],"sc_"+this.k)
	o=o.concat(I.valarray(R))
	Z.forEach((this.borderHighlights||[]).concat(this.formHighlights||[]),function(p){B.toggleClass(p,o,false)
	})
	}})
	mstrmojo.vi.ui.rw._XtabHighlights.GROUP_BORDER_CSS=R
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.DynamicClassFactory","mstrmojo.ListDocSelector","mstrmojo.TextBoxDocSelector","mstrmojo.SearchBoxDocSelector","mstrmojo.MetricQualDocSelector","mstrmojo.MetricSliderDocSelector","mstrmojo.AttrQualDocSelector","mstrmojo.VisDocSelector","mstrmojo.DynamicListDocSelector","mstrmojo._DocActionSelector","mstrmojo._IsThresholdConditionTarget")
	var B=4,G=12,E=47,I=12033,C=3076
	var D={"default":"ListDocSelector",dynamic:"DynamicListDocSelector",7:"MetricSliderDocSelector",8:"MetricQualDocSelector",9:"SearchBoxDocSelector",10:"TextBoxDocSelector",11:"AttrQualDocSelector",12:"VisDocSelector"}
	function H(J){return J.srct===G&&J.srcst===C||J.srct===E&&J.srcst===I&&J.ndetype===2
	}mstrmojo.DocSelectorViewFactory=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.DocSelectorViewFactory",getDocSelectorClass:function F(L,O,K,P){var N=O.defn,M=N.style,J=D[M]||D["default"]
	if(H(N)&&M===B&&N.iifp){J=D.dynamic
	}if(O.defn.ct==="4"){return(mstrmojo.DynamicClassFactory.newComponent(mstrmojo[J],[mstrmojo._DocActionSelector,mstrmojo._IsThresholdConditionTarget],{scriptClass:"mstrmojo.DocActionXSelector"}))
	}return mstrmojo[J]
	},newDocSelector:function A(K,M,J,O){var N=this.getDocSelectorClass(K,M,J,O),L={id:M.id,node:M,model:K}
	return new N(L)
	}})
	mstrmojo.DocSelectorViewFactory.CLASS_MAP=D
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.Editor","mstrmojo.Label","mstrmojo.Button","mstrmojo.mstr.EnumNodeDimty","mstrmojo.vi.ui.ConditionWalk","mstrmojo.fe.FilterUtils","mstrmojo.expr")
	mstrmojo.requiresDescs(15540)
	var I=mstrmojo.array,M=mstrmojo.hash,R=mstrmojo.Button.newWebButton,G=mstrmojo.mstr.EnumNodeDimty,P=I.hash([G.NodeDimtyUnspecified,G.NodeDimtyNone]),B=mstrmojo.fe.FilterUtils,J=mstrmojo.expr,Q=J.ET
	mstrmojo.vi.ui.ConditionEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.vi.ui.ConditionEditor",cssClass:"mstrmojo-vi-ui-ConditionEditor",help:"Create_Edit_Delete_Qualifications_In_Advanced_Filter_Editor.htm",title:mstrmojo.desc(15540,"Edit Qualification"),objectBrowsingEnabled:false,targets:null,targetsLastMod:null,ets:null,condition:null,model:null,hasPrompt:false,disableElementsBrowsing:null,inRelation:null,editor:null,children:[{scriptClass:"mstrmojo.Box",markupString:'<div id="{@id}" class="mstrmojo-Box {@cssClass}" style="{@cssText}"></div>',cssDisplay:"inline-block",cssClass:"conditionBar",model:null,alias:"conditionBar",bindings:{model:"this.parent.model"},update:function(){var E=this.model,U=B.getExprNodeHtmlAndText(E.data?E.data:E,{emptyText:mstrmojo.desc(15413,"Qualification Details"),elemsEmpty:" "})
	if(this.containerNode){this.containerNode.innerHTML=U.html
	this.containerNode.title=U.text
	}}},{scriptClass:"mstrmojo.vi.ui.ConditionWalk",alias:"walk",dimtyTypes:P,delegateUpdateOkBtn:function D(W){var E=this.parent,X=E&&E.btnHbox,U=X&&X.okBtn
	if(U){U.set("enabled",!!W)
	}},onOK:function O(){var U=this.condition,E=this.editor
	E.onConditionEdit(U,this.model.get())
	},close:function L(){var E=this.condition
	if(E&&E.isEmpty()){E.del()
	}},postmodeledit:function H(E){this.parent.updateConditionBar()
	},getIfDataSource:function S(){return this.parent.getIfDataSource()
	},onUpdateBrowseElementsParams:function N(E){this.parent.onUpdateBrowseElementsParams(E)
	},getDatasets:function F(){return this.parent.getDatasets()
	}}],buttons:[R(mstrmojo.desc(1442,"OK"),function(){var E=this.parent.parent
	E.walk.onOK()
	E.close()
	},true,{enabled:true,alias:"okBtn"}),R(mstrmojo.desc(221,"Cancel"),function(){var E=this.parent.parent
	E.close()
	})],updateConditionBar:function A(){this.conditionBar.update()
	},open:function K(W,E){this._super(W,E)
	var U={objectBrowsingEnabled:this.objectBrowsingEnabled,targets:this.targets,targetsLastMod:this.targetsLastMod,ets:this.ets,condition:this.condition,hasPrompt:this.hasPrompt,disableElementsBrowsing:this.disableElementsBrowsing,disableHierarchyLevel:this.disableHierarchyLevel,inRelation:this.inRelation,editor:this.editor}
	M.copy(U,this.walk)
	if(!(this.disableElementsBrowsing&&this.disableElementsBrowsing())){this.model.defaultETAttr=Q.AE
	}this.walk.set("model",this.model)
	this.updateConditionBar()
	},onClose:function C(){this.walk.close()
	},getDatasets:mstrmojo.emptyFn,getIfDataSource:mstrmojo.emptyFn,onUpdateBrowseElementsParams:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.vi.models.DropZonesModel","mstrmojo.vi.models._DropZoneCommon","mstrmojo.vi.ui.DatasetUnitMenuUtils")
	var B=mstrmojo.hash
	mstrmojo.vi.models.AMSelectorDropZones=mstrmojo.declare(mstrmojo.vi.models.DropZonesModel,[mstrmojo.vi.models._DropZoneCommon],{scriptClass:"mstrmojo.vi.models.AMSelectorDropZones",getHostModel:function H(){return this.getHost().selectorModel.data
	},getHost:function J(){var K=this._super()
	return K.parent
	},getDropZones:function I(){var L=this.getHost(),K=[this.getZone(mstrmojo.desc(2870,"Objects"),1,L.objects,false,{title:mstrmojo.desc(16873,"Add attributes or metrics here"),})]
	this.dropZones=K
	return{n:this.getHost().defn.ttl,zones:K}
	},getAllowDropInfo:function F(P,N,R,M,K){var L=this._super(P,N,R,M,K),S=this.getHost(),Q={edge:M},O=S.getAllowedDragItems(K,Q)
	return B.copy({allowedItems:O},L)
	},unitsDropped:function D(K,L,M){var N=this.getHost()
	N.dropFromDataSource(L,M)
	},deleteItem:function C(L,K){var M=this.getHost()
	M.objects.splice(K,1)
	M.getUpdateCandAction()
	},deleteItems:function E(K,L){var M=this.getHost()
	M.objects.splice(L[0]._renderIdx,L.length)
	M.getUpdateCandAction()
	},getUnitMenuItems:function A(L,K,O,M){var N=this
	L.addMenuItem(mstrmojo.desc(190,"Remove"),"xt",function(){N.deleteItem(K,N.getUnitIndexInZone(K,O))
	})
	},addUnitsFromDataSource:function G(K,M){var L=this.getHost()
	L.dropFromDataSource({getCtxtDragData:function(){return{items:K}
	}})
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo.dom","mstrmojo.hash","mstrmojo.expr","mstrmojo.Box","mstrmojo.Button","mstrmojo.Editor","mstrmojo.Dial","mstrmojo.Label","mstrmojo.fe.CreateSetEditor","mstrmojo.fe.FilterEditor","mstrmojo.vi.ui.tabs.TabStrip","mstrmojo.vi.ui.tabs.Tab","mstrmojo.vi.ui.editors.fe.RWViewLimitExprTree","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.vi.ui.ConditionWalk","mstrmojo.vi.ui.ConditionEditor","mstrmojo.vi.ui.editors.fe.ConditionWalk","mstrmojo.vi.ui.editors.fe.RWViewFilterExprTree","mstrmojo.warehouse.EnumObjectTypes","mstrmojo.models.template.DataInterface")
	mstrmojo.requiresDescs(118,2397,5758,14915,15540,15005,15014,15091)
	var W=mstrmojo.hash,f=mstrmojo.array,C=mstrmojo.css,M=mstrmojo.dom,L=mstrmojo.expr,r=L.TP,w=L.STP,q=mstrmojo.models.template.DataInterface,P=mstrmojo.mstr.EnumDSSXMLObjectTypes,G={TEMPLATE:0,DATASET:1},e=L.ET,l=L.BRANCH_FNS,u=mstrmojo.warehouse.EnumObjectTypes,D=mstrmojo.mstr.EnumNodeProperties,AA="VFEmpty"
	var a=10,S=46,d=116,U=286,m=369,g=42,p=26
	mstrmojo.vi.ui.editors.ColumnSetTab=mstrmojo.declare(mstrmojo.vi.ui.tabs.Tab,null,{scriptClass:"mstrmojo.vi.ui.editors.ColumnSetTab",valid:true,editable:false,postBuildRendering:function Q(){if(this._super){this._super()
	}var AB=this,AC=AB.lbl
	AC.editOnDoubleClick=this.editable
	},onclick:function j(AB){var AC=M.eventTarget(AB.hWin,AB.e)
	if(AC===this.menuBtnNode){this.tabDeleted()
	}else{if(!this.isSelected){this.tabSelected()
	}}}})
	function O(AH,AM,AB){var AJ=AH.tabStrip,AE=AH.colSetTabs,AF=AE[AM]||{},AG=AE[AB],AI=AH.colSetModelsCache,AO,AD
	if(AM!==AB){AH.tabIdx=AB
	AO=W.clone(AH.model)
	AO.expr.nds=AH.mainExpr.items.slice()
	AO.limitExpr.nds=AH.limitExpr.items.slice()
	if(!!AF.k){AI[AF.k]=AO
	}if(!AI[AG.k]){var AK={taskId:"getRWGridViewFilter",nodeKey:AH.xtab.k,colSetKey:AG.k,rwb:AH.docModel.bs,msgID:AH.docModel.mid},AL=AH.docModel.newCallback({success:function AN(AP){AI[AG.k]=AP
	if(AP.targets){AP.targets=f.filter(AP.targets,function(AQ){switch(AQ.t){case r.FILTER:return(AQ.st!==w.CUSTOMGROUP)
	case r.CONS:return AQ.st===w.NDE
	}return !AQ.olap
	})
	}AH.set("model",AP)
	},failure:function AC(AP){mstrmojo.alert(AP.code+": "+AP.message)
	}})
	AH.docModel.dataService.getViewFilter(AK,AL)
	}else{AH.set("model",AI[AG.k])
	}AD=AJ.setSelectedTab(AG.k)
	AJ.setTabProperties()
	if(AD&&(AD.isCutoff||AD.isHidden)){AJ.updateTabTable(true)
	}}}function k(AD,AE,AF){var AC=f.find(AE,"k",AF.k)
	return{scriptClass:"mstrmojo.vi.ui.editors.ColumnSetTab",cssClass:"mstrmojo-ColumnSet-Tab "+(AC===0?"mstrmojo-ColumnSet-IDTab":""),title:AF.n,draggable:false,editable:false,getMenuActions:function(){return null
	},tabSelected:function(){O(AD,AD.tabIdx,AC)
	},tabDeleted:function AB(){var AI=this.index<=AD.tabIdx?AD.tabIdx-1:AD.tabIdx,AG=AD.colSetTabs.slice(0)
	var AH=W.clone(AD.model)
	AH.expr.nds=[]
	AH.limitExpr.nds=[]
	AH.exprForest=[]
	AH.limitExprForest=[]
	AD.colSetModelsCache[this.k]=AH
	AG.splice(this.index,1)
	AD.tabIdx=AI
	AD.set("colSetTabs",AG)
	O(AD,-1,AI)
	}}
	}function t(){var AE=this.xtab,AD=AE.gridData,AF=AD.gsi,AB=AE.model.docModel,AC
	if(!!AD.stitchSectionKey&&AF.length>0){AC=AF.slice()
	f.forEach(AC,function(AI){var AH=AI.k,AG=AB.getTargetDefn(AH)[AH]
	AI.n=AG.ttl
	})
	}}function A(){var AE=this.xtab,AD=AE.gridData,AF=AD.gsi,AB=AE.model.docModel,AC
	if(!!AD.stitchSectionKey&&AF.length>0){AC=AF.slice()
	this.tabStrip.setTabs(AC,AC[0].k)
	this.set("colSetTabs",this.tabStrip.tabObjects)
	}}function K(AC){var AB={et:AC.defaultExpressionType}
	if(AC.disableElementsBrowsing&&AC.disableElementsBrowsing()){AB={et:e.AQ}
	}AC.mainExpr.newCondition(AB,true)
	}function o(AB){var AC=a
	if(AB<a){AC=a
	}else{if(AB<=S){AC=S
	}else{AC=d
	}}return AC
	}function R(AG,AQ){var AM=AG&&AG.domNode,AK=AQ&&AQ.domNode,AC=AM&&AM.style,AL=AK&&AK.style
	var AE=AG.parent.domNode.offsetHeight
	if(!AQ){AC.height=AE+"px"
	if(AG.updateScrollbars){AG.updateScrollbars()
	}return 
	}if(AM&&AK){var AJ=m-U
	if(!AG.editor.showLimits){AJ-=g+p
	}var AB=AE-AJ
	var AD=M.position(AG.itemsContainerNode),AH=M.position(AQ.itemsContainerNode),AO=AD.h,AP=AH.h
	var AF=o(AP),AN=AB-AF
	var AI=Math.min(a+AO,AN)
	AC.height=AI+"px"
	AL.height=AB-AI+"px"
	if(AG.updateScrollbars){AG.updateScrollbars()
	}if(AQ.updateScrollbars){AQ.updateScrollbars()
	}}}function E(AC){var AD=W.clone(AC)
	if(AC&&AC.et===e.ANDOR&&(AC.node&D.CONDITION)){var AE=W.valarray(L.findTargets(AC,"did"))[0],AB={et:e.ANDOR,data:AD}
	switch(AE&&AE.t){case P.Attribute:AB.a=AE
	break
	case P.Metric:AB.m=AE
	break
	}return AB
	}return AD
	}mstrmojo.vi.ui.editors.FilterEditor=mstrmojo.declare(mstrmojo.fe.FilterEditor,null,{scriptClass:"mstrmojo.vi.ui.editors.FilterEditor",titleMarkupString:'<div class="mstrmojo-Editor-title-container"><div class="mstrmojo-Editor-title"></div><div class="edt-title-btn mstrmojo-Editor-help" tooltip="'+mstrmojo.desc(1143,"help")+'"></div><div class="edt-title-btn mstrmojo-Editor-close" tooltip="'+mstrmojo.desc(2102,"Close")+'"></div></div><div class="mstrmojo-ColumnSet-TabStrip"></div><div class="mstrmojo-Editor-subtitle-container"></div><div class="mstrmojo-Editor-titleSpacer"></div>',markupSlots:W.copy({modalNode:function N(){return this.domNode.firstChild
	},subTitleNode:function J(){return this.showTitle?this.domNode.firstChild.children[2]:null
	},tabStripNode:function v(){return this.domNode.firstChild.childNodes[1]
	},containerNode:function Z(){return this.domNode.firstChild.childNodes[4]
	},buttonNode:function I(){return this.domNode.firstChild.childNodes[5]
	},curtainNode:function z(){return this.domNode.lastChild
	}},W.copy(mstrmojo.fe.FilterEditor.prototype.markupSlots)),help:"view_filter_editor_for_dossiers.htm",cssClass:"mstrmojo-charcoalboxe mstrmojo-FE mstrmojo-vi-ui-FE",tabIdx:0,colSetTabs:[],colSetModelsCache:null,conditionEditorNotDraggable:false,onxtabChange:function c(AB){var AE=this,AG=(AB.value||{}).hasArrayGSI
	if(AG&&!this.tabStrip){this.addChildren({scriptClass:"mstrmojo.vi.ui.tabs.TabStrip",slot:"tabStripNode",alias:"tabStrip",position:"top",isAlignRight:false,isStatic:false,isCustomAddBtn:true,getTabCfg:function AD(AI,AJ,AH){return mstrmojo.hash.copy(k(AE,AI,AJ),AH)
	},addTab:function AF(AK){var AJ=AE.colSetTabs,AH=AJ.length,AI=AJ.slice(0)
	AI.push(AK)
	AE.set("colSetTabs",AI)
	O(AE,AE.tabIdx,AH)
	},onclick:function AC(AH){if(!this.isValidMode()){return 
	}var AM=AH.getTarget()
	if(AM===this.addBtnImgNode||AM===this.addBtnTxtNode){var AN=new mstrmojo.ui.menus.MenuConfig(),AI=this,AL=AI.parent,AK=AL.colSetTabs,AJ=f.filter(AL.xtab.gridData.gsi,function(AO){return f.find(AK,"k",AO.k)===-1
	})
	f.forEach(AJ,function(AO){AN.addMenuItem(AO.n,"",function(){AI.addTab(AO)
	},this)
	})
	AN.hostId=this.id
	AN.isHostedWithin=false
	AN.hostElement=this.addBtnImgNode
	this.openPopup(AN.newInstance())
	}}},0)
	}},postCreate:function Y(){this.children=mstrmojo.hash.clone(this.children).concat([{scriptClass:"mstrmojo.Box",slot:"subTitleNode",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(14915,"New Qualification"),cssDisplay:"inline-block",cssClass:"mstrmojo-relation-relateby-text",bindings:{text:function(){return this.editor.isNewCond?mstrmojo.desc(14915,"New Qualification"):mstrmojo.desc(15540,"Edit Qualification")
	},editor:"this.parent.parent",visible:function(){return !!this.editor.showCondWalk
	}}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton",alias:"newQualificationBtn",cssText:"float: left",cssDisplay:"inline-block",text:mstrmojo.desc(15005,"Add New Qualification"),onclick:function(){K(this.editor)
	},bindings:{enabled:function(){return !this.editor.readOnly
	},visible:function(){return !this.editor.showCondWalk
	},editor:"this.parent.parent"}}]}])
	if(this._super){this._super()
	}},editorTitle:mstrmojo.desc(5758,"Filter Editor"),defaultExpressionType:e.AE,disableElementsBrowsing:function n(AB){return !(!AB||(AB.did&&AB.n))
	},onvizTitleChange:function(){this.set("title",this.editorTitle+" - "+this.vizTitle)
	},getExpressionContainerCfg:function(){var AB=this._super()
	AB.cssDisplay="flex"
	return AB
	},onOpen:function X(){var AD=this.mainExpr,AJ=this.limitExpr,AI=this.xtab,AG=AI&&AI.hasArrayGSI
	if(AD){R(AD,AJ)
	}if(!this.model.expr){K(this)
	}if(AG){var AE=this.tabStrip,AC=this.colSetTabs,AF=AI.gridData.gsi,AH=false
	AE.setSelectedTab(AC[0].k)
	this.tabIdx=0
	this.colSetModelsCache={}
	AH=AF.length!==AC.length
	t.call(this)
	if(!AH){var AB
	q.forEachGSI(AF,function(AL,AM,AK){AB=AC[AK]
	if(AM!==AB.k||AL.n!==AB.n){AH=true
	return false
	}})
	}if(AH){A.call(this)
	}else{AE.updateTabTable()
	}if(AF.length===AC.length){AE.addBtnNode.style.display=AE.tabStripMenuNode.style.display="none"
	}}},postBuildRendering:function Q(){if(this._super){this._super()
	}var AB=this.xtab,AC=AB&&AB.hasArrayGSI
	if(AC){t.call(this)
	A.call(this)
	}C.toggleClass(this.modalNode,"mstrmojo-ColumnSet-FE",AC)
	C.toggleClass(this.tabStripNode,"hide",!AC)
	},oncolSetTabsChange:function H(){var AD=this.colSetTabs,AC=AD[this.tabIdx].k,AB=this.tabStrip
	AB.setTabs(AD,AC)
	if(this.colSetTabs.length===this.xtab.gridData.gsi.length){AB.addBtnNode.style.display=AB.tabStripMenuNode.style.display="none"
	}else{AB.addBtnNode.style.display=AB.tabStripMenuNode.style.display=""
	}},getExpressionContentsConfig:function(){return[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-FE-expr-header dl",text:mstrmojo.desc(15091,"Metric values are not aggregated."),bindings:{visible:"this.parent.parent.parent.showLimits"}},{scriptClass:"mstrmojo.vi.ui.editors.fe.RWViewFilterExprTree",alias:"ve",level:G.DATASET,bindings:{items:"this.editor.model.exprForest || []"},onBlankClick:function(AG){this.parent.clearSelect(AG)
	},supportRelation:true,postApplyProperties:function(){this.editor=this.parent.parent.parent
	this.editor.set("mainExpr",this)
	},onNew:function(AH){AH.data.isNew=true
	if(!AH.data.ph){this.editor.openWalk(AH.data,AH.widget.ctxtBuilder.itemWidgets[AH.index],"condition")
	}var AG=this.parent.vle
	R(this,AG)
	},onadd:function AB(){C.toggleClass(this.parent.domNode,AA,this.items.length===0)
	var AG=this.parent.vle
	R(this,AG)
	},onremove:function AD(){C.toggleClass(this.parent.domNode,AA,this.items.length===0)
	var AG=this.parent.vle
	R(this,AG)
	},onnodeadd:function AC(){var AG=this.tree.parent.vle
	R(this.tree,AG)
	},onnoderemove:function AF(){var AG=this.tree.parent.vle
	R(this.tree,AG)
	},onitemsChange:function AE(){var AH=this.items.length===0,AG=this.parent
	if(this.hasRendered){C.toggleClass(AG.domNode,AA,AH)
	}else{if(AH){C.addWidgetCssClass(AG,AA)
	}else{C.removeWidgetCssClass(AG,AA)
	}}}},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-FE-expr-header tl",text:mstrmojo.desc(15014,"Metric values are aggregated based on the attributes in the visualization."),bindings:{visible:"this.parent.parent.parent.showLimits"}},{scriptClass:"mstrmojo.vi.ui.editors.fe.RWViewLimitExprTree",alias:"vle",level:G.TEMPLATE,validExprTypes:f.hash([e.MQ,e.MC]),bindings:{visible:"this.editor.showLimits",items:"this.editor.model.limitExprForest || []"},onBlankClick:function(AG){this.parent.clearSelect(AG)
	},postApplyProperties:function(){this.editor=this.parent.parent.parent
	this.editor.set("limitExpr",this)
	},onnodeadd:function AC(){var AG=this.tree.parent.ve
	R(AG,this.tree)
	},onnoderemove:function AF(){var AG=this.tree.parent.ve
	R(AG,this.tree)
	},onadd:function AB(){var AG=this.parent.ve
	R(AG,this)
	},onremove:function AD(){var AG=this.parent.ve
	R(AG,this)
	}}]
	},getConditionWalkConfig:function B(){return undefined
	},toggleOkButtonStatus:function F(AB){var AC=this.buttonBar.children[0].btnSave
	AC.set("enabled",!!AB)
	},andOrPopupRef:{scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-FE-andOrPopup mstrmojo-ConditionWalk",contentNodeCssClass:"mstrmojo-balloon",slot:"containerNode",modal:false,autoClose:true,showTitle:false,draggable:false,openEffect:null,closeEffect:null,onOpen:function(){var AB=this.condition,AE=AB&&AB.data&&AB.data.not,AF=AB&&AB.parent,AC=AF&&AF.data,AD=(AC&&AC.fn)+(AE?21:0)
	this.list.opening=true
	this.list.set("selectedItem",isNaN(AD)?null:{did:AD})
	this.list.opening=false
	},children:[{scriptClass:"mstrmojo.Dial",cssClass:"mstrmojo-CGE-andOrDial",alias:"list",animate:false,renderOnScroll:false,itemMarkup:'<div class="dial-item {@css}">{@n}</div>',itemIdField:"did",items:[{did:19,n:l[19]},{did:20,n:l[20]},{did:19+21,n:l["19_21"]},{did:20+21,n:l["20_21"]}],onchange:function(){if(this.opening){return 
	}var AC=this.parent,AB=AC.condition,AH=this.selectedItem,AG=AH&&AH.did,AF=AG>21?true:null,AE=AG-(AF?21:0)
	AC.close()
	var AD=AB&&AB.parent
	if(AD&&AD.data&&AD.data.et===e.ANDOR){AD.edit(AB,AE,AF)
	}else{var AI=AB&&AB.data
	if(AI&&(AI.not!==AF)){AI.not=AF
	AB.paint()
	}}}}]},createSetPopupRef:{scriptClass:"mstrmojo.fe.CreateSetEditor",contentNodeCssClass:"",cssClass:"VI-CreateSet-Editor",slot:"containerNode",autoClose:true,showTitle:false,isHostedWithin:false},conditionEditorPopupRef:{scriptClass:"mstrmojo.vi.ui.ConditionEditor",isHostedWithin:false,getIfDataSource:function b(){return this.editor.getIfDataSource()
	},getDatasets:function h(){return this.editor.getDatasets()
	},onUpdateBrowseElementsParams:function x(AB){this.editor.onUpdateBrowseElementsParams(AB)
	}},docModel:null,targetMetrics:null,_set_model:function(AE,AC){var AD=this._super(AE,AC)
	if(AD){var AB=this.model.targets
	this.targetMetrics=f.filter(AB,function(AF){AF.title=AF.n||""
	return AF.t===P.Metric
	})
	}return AD
	},openWalk:function(AF,AG,AK,AL){var AI=this,AC=M.delta(AG.domNode,AI.containerNode)
	AC.y+=(AK==="andor"?16:parseInt(AG.domNode.offsetHeight,10))
	var AJ={condition:AG,zIndex:AI.zIndex+10,left:AC.x+"px",top:AC.y+"px"},AB
	switch(AK){case"andor":if(AI.skipAndOrPopup){return 
	}AB="andOrPopupRef"
	break
	case"createSet":case"createSetOpt":if(mstrApp&&mstrApp.isWSStyling&&AL&&AL.e&&AL.e.target){var AD=AL&&AL.e&&AL.e.target,AE=M.delta(AD,AI.containerNode)
	AJ.left=AE.x+"px"
	AJ.top=AE.y+parseInt(AD.offsetHeight,10)+"px"
	}var AH=AI.model.targets
	AB="createSetPopupRef"
	AJ.type=AK
	AJ.model={attrs:f.filter(AH,function(AN){return AN.t===u.ATTRIBUTE
	}),metrics:f.filter(AH,function(AN){return AN.t===u.METRIC
	})}
	if(AK==="createSetOpt"){AJ.condition=AG.parent
	AJ.model.childIdx=AG.childIndex()
	}break
	case"condition":var AM=M.position(this.titleNode)
	AJ=W.copy({editor:AI,objectBrowsingEnabled:AI.objectBrowsingEnabled,showLimits:AI.showLimits,targets:AI.model.targets,targetsLastMod:AI.modelLastSet,ets:AG.tree.validExprTypes||AI.validExprTypes,condition:AG,hasPrompt:AI.model.hasPrompt,disableElementsBrowsing:AI.disableElementsBrowsing,inRelation:AG.inRelation,model:E(AF),left:AM.x+50+"px",top:AM.y+20+"px",draggable:!AI.conditionEditorNotDraggable},AJ)
	if(!!AF.isNew){AJ.title=mstrmojo.desc(14915,"New Qualification")
	}else{AJ.title=mstrmojo.desc(15540,"Edit Qualification")
	}AB="conditionEditorPopupRef"
	}AI.openPopup(AB,AJ)
	},getIfDataSource:function b(){if(this.docModel){return this.docModel.getDataService()
	}return null
	},onUpdateBrowseElementsParams:mstrmojo.emptyFn,getDatasets:function h(){if(this.docModel){return this.docModel.datasets
	}return null
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocSelectorViewFactory","mstrmojo.RadioList","mstrmojo.CheckList","mstrmojo.color","mstrmojo.ListBoxHoriz","mstrmojo.ListBoxSelector","mstrmojo.LinkList","mstrmojo.ButtonList","mstrmojo.DropDownList","mstrmojo.Slider","mstrmojo.AttributeSlider","mstrmojo.TextBoxSelector")
	var I=mstrmojo.DocSelector.STYLES,A=mstrmojo.color
	var E={}
	E[I.RADIO]=["RadioListHoriz","RadioList"]
	E[I.CHECKBOX]=["CheckListHoriz","CheckList"]
	E[I.LIST]=["ListBoxHoriz","ListBoxSelector"]
	E[I.LINK]=["LinkListHoriz","LinkList"]
	E[I.BUTTON]=["ButtonListHoriz","ButtonList"]
	E[I.SCROLLER]="AttributeSlider"
	E[I.METRIC_SLIDER]="MetricSlider"
	E[I.METRIC_QUAL]="MetricQualification"
	E[I.SEARCH_BOX]="SearchBoxSelector"
	E[I.TEXT_BOX]="TextBoxSelector"
	var C={_mixinName:"_oivmDocSelector",preBuildRendering:function H(){var U=this._super(),R=this.style,K=this.children[0],M=this.node,S=M.defn,Z=S.horiz,X=this.getFormats(),N,a,Y,L,c,b=R===I.PULLDOWN
	if(S.hm===0&&R!==I.SCROLLER&&R!==I.METRIC_SLIDER){this.contentNodeCssText+="overflow-"+(Z?"x":"y")+":hidden
	"
	}if(X){K.color=N=X.color
	a=X.height
	Y=X["background-color"]
	L=X["background-opacity"]
	c=X["text-decoration"]
	if(c){mstrmojo.css.addWidgetCssClass(this,c)
	}}if(b){if(X){if(N){this.itemCssText+="color:"+N+"
	"
	}}K.cssText=this.itemCssText
	}else{K.cellCssClass=""
	K.tableCssText="table-layout:"+((S.iwm===0)?"fixed":"auto")+"
	"
	if(a!==undefined){if(R===I.LIST){if(a.indexOf("px")==a.length-2){var Q=parseInt(a.substr(0,a.length-2))
	if(Q>4){Q=Q-4
	}a=Q+"px"
	}}K.cssText="height:"+a+"
	"
	}if(R===I.LIST&&Y){if(isNaN(L)){K.cssText+="background-color:"+Y+"
	"
	}else{K.cssText+="background-color:"+A.rgb2rgba(Y,L)+"
	"
	}}switch(R){case I.RADIO:case I.CHECKBOX:K.labelCssText=this.itemCssText
	break
	case I.BUTTON:case I.LINK:case I.LIST:if(R===I.BUTTON){if(N){this.itemCssText+="color:"+N+"
	"
	}}if(Z){this.itemCssText+="height:"+a+"
	"
	}K.itemCssText=this.itemCssText
	this["background-color"]=Y
	break
	}}var W=this,P=W.model.getTargetInfoWin(S.tks),O=(b&&K.list)?K.list:K
	if(S.ifw||(P&&P.length)){O.makeSelection=function(d){W.showInfoWin(d&&d.selItem)
	}
	if(O.selectionPolicy!==undefined){if(!S.multi){O.selectionPolicy="reselect"
	}if(!O.makeSelHandler&&S.ct!=="4"){O.makeSelHandler=O.attachEventListener("selectionChange",O.id,function(e){if(e){var g=e.added||[],f=e.removed||[],d=g.length?g[0]:f[0]
	if(d!==undefined&&d!==null&&K.hasRendered){if(b){this.makeSelection({selItem:K.domNode})
	}else{this.makeSelection({selItem:this._getItemNode(d)})
	}}}})
	}}}return U
	},newPulldown:function J(K){return new mstrmojo.DropDownList({k:K.ck,cssDisplay:"block",cssClass:"mstrmojo-DocSelector-DropDownList",selectCssClass:"mstrmojo-DocSelector-DropDownList-select",onselectedChange:function(){if(!K._inSyncPhase){K.showInfoWin()
	K.selectorControlChange(this)
	}}})
	},allowHTML:function B(){return mstrConfig.allowHTMLOnSelector
	},getWidgetClass:function D(N,M,L){var K=E[M]
	if(K){if(K.constructor===Array){K=K[L?0:1]
	}return K
	}else{return this._super(N,M,L)
	}}}
	mstrmojo.OIVMDocSelectorViewFactory=mstrmojo.declare(mstrmojo.DocSelectorViewFactory,null,{scriptClass:"mstrmojo.OIVMDocSelectorViewFactory",getDocSelectorClass:function G(L,M){var K=this._super(L,M)
	return mstrmojo.DynamicClassFactory.newComponent(K,[C],null)
	},getOIVMDocSelectorMixin:function F(){return C
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.rw.UnitContainer","mstrmojo.vi.ui.rw.selectors._HasFilterContextMenu","mstrmojo.vi.ui.TargetSelector","mstrmojo.vi.ui.FilterBoxInlineDialog","mstrmojo.Label","mstrmojo.dom","mstrmojo.css","mstrmojo.func","mstrmojo.array","mstrmojo.hash","mstrmojo.tooltip","mstrmojo.DocSelector","mstrmojo.vi.ui._HasMask","mstrmojo.vi.ui._CanDropFromSchema","mstrmojo.vi.models.EnumDragSources","mstrmojo.models.FormatModel","mstrmojo.EnumRWUnitType","mstrmojo.vi.enums.EnumFeatures","mstrmojo.DocDataService")
	var H=mstrmojo.css,Z=mstrmojo.dom,AP=mstrmojo.func,u=mstrmojo.array,AR=mstrmojo.string,b=mstrmojo.hash,D="\u001E",AG=mstrmojo.EnumRWUnitType,AF=mstrmojo.models.FormatModel,AH=AF.getFormatUpdate,AA=AF.ENUM_PROPERTY_NAMES,X=mstrmojo.DocSelector.STYLES,c=mstrmojo._HasTooltip.TOOLTIP_OPEN_DELAY,AN=mstrmojo.vi.ui.rw.GhostImageContainer,AI=[{scriptClass:"mstrmojo.vi.ui.rw.GhostImageContainer",cssClass:"amselector",visDesc:AN.getVisDesc("amselector")}],v=mstrmojo.DocDataService.EnumTreesToRender,N=mstrmojo.vi.enums.EnumFeatures
	function L(AW){return AW&&AW.did!=="-1"&&AW.t!==14
	}function W(AW){var AX=AW.getCtxtDragData()
	return(AX.items||[]).filter(L)[0]
	}function E(AX){var AY=AX.getCtxtDragData(),AW=AY.items||[]
	return AY.src&&AW.some(L)
	}function K(){var AX=this.getSelectorSource(),AW=this.model.getDatasetUnits(["att","mx"],function(AY){return AY.did===AX
	})
	return(AW.length&&AW[0])||null
	}function Q(){var AW=this
	this.showControlOverlay([mstrmojo.Button.newWebButton(mstrmojo.desc(1088,"Edit"),function(){var AX=AW.boxContent
	if(AX&&AX.expandOrEditToFetchElements){AX.expandOrEditToFetchElements()
	}AW.hideControlOverlay()
	},false,{alias:"ctrlEditBtn",enabled:true,cssClass:"filterBoxEdit"})])
	H.toggleClass(this.ctrlOverlay&&this.ctrlOverlay.domNode,"editOverLay",true)
	}function AS(AW){return{scriptClass:"mstrmojo.vi.ui.FilterBoxInlineDialog",vis:AW}
	}function I(){var AW=this,AX=mstrmojo.Button.newWebButton(mstrmojo.desc(4799,"Select Target"),function(AY){var AZ=mstrmojo.all[AW.id]
	AZ.selectVIUnit(null,AY)
	mstrApp.rootCtrl.view.openInlineDialog(AS(AZ))
	AY.cancel()
	},true,{alias:"btnSelect"})
	AX.cssClass+=" btn-select-targets"
	this.showControlOverlay([AX])
	this.setSelectTargetsState(true)
	}function U(){var AW=this.boxContent
	if(AW.isInvalid){this.showInvalidMessage()
	return 
	}if(!this.isPanelSelector()&&(!this.selectorHasSource()||(mstrApp&&(mstrApp.isAppStatePresentation()||mstrApp.isAppStatePrintPreview())))){return 
	}if(this.getTargetKeys().length>0){if(b.walk("boxContent.node.data.disabled",this)){Q.call(this)
	}else{this.hideControlOverlay()
	}return 
	}I.call(this)
	}function l(){return !this.defn.ob
	}function AV(AW){this.set("useRichTooltip",AW)
	}function Y(){H.toggleClass(this.domNode,"horizontal",!!this.defn.horiz)
	}mstrmojo.vi.ui.rw.FilterBox=mstrmojo.declare(mstrmojo.vi.ui.rw.UnitContainer,[mstrmojo.vi.ui.rw.selectors._HasFilterContextMenu,mstrmojo.vi.ui._CanDropFromSchema,mstrmojo.vi.ui._HasMask],{scriptClass:"mstrmojo.vi.ui.rw.FilterBox",targetSelector:null,useRichTooltip:true,isDynamicTooltip:true,tooltipOpenDelay:c,maskTooltip:mstrmojo.desc(15274,"Selector cannot be selected as target"),allowFilters:true,shouldHideDynamicSelIcon:false,markupMethods:b.mergeHashes(mstrmojo.vi.ui.rw.UnitContainer.prototype.markupMethods,{onenabledChange:function(){H.toggleClass(this.domNode,"inactive",!this.enabled)
	this.targetMask.set("useRichTooltip",!this.enabled)
	}}),init:function AQ(AY){this._super(AY)
	if(mstrApp.isDossier){var AX=this.boxContent,AW=b.walk("node.defn",AX)||{}
	if(AX.hasDynamicSelection(true)){AX._dynamicSelDefn={sus:AW.sus,suc:AW.suc}
	}}H.addWidgetCssClass(this,"mstrmojo-FilterBox")
	},getSelectorSource:function x(){return this.boxContent.defn.srcid
	},selectorHasSource:function AT(){return !!this.getSelectorSource()
	},onclick:function z(AW){var Aa=Z.isPrimaryMouseBtn(AW.e),AX=this.selectorHasSource(),AZ=Z.contains(this.containerNode,AW.getTarget(),true,this.domNode),AY
	if(Aa&&AX){if(AZ){AY=true
	AW.e.ptvSelected=true
	}else{if(!Z.contains(this.titlebarNode,AW.getTarget(),true,this.domNode)){AW.e.ptvSelected=true
	}}}this._super(AW)
	if(AY){this.getEditorModel().selectTargetByValue(mstrmojo.vi.models.editors.FilterEditorModel.SELECTOR_VALUE)
	}},onmouseenter:function R(){this._super()
	var AW=this.boxContent,AX
	if(this.selectorHasSource()&&this.dynamicSelIcon&&AW.hasDynamicSelection()&&!mstrApp.isAppStatePresentation()&&!mstrApp.isAppStateSelection()){AX=AW.isDsIconVisible()
	this.dynamicSelIcon.set("visible",AX)
	this.shouldHideDynamicSelIcon=AX
	}},onmouseleave:function k(){this._super()
	if(this.shouldHideDynamicSelIcon){this.dynamicSelIcon.set("visible",false)
	this.shouldHideDynamicSelIcon=false
	}},moveTooltip:function f(AW,AY){var AX=Z.findWidget(AW.target)
	if(AX.id!==this.boxContent.id){return 
	}this.richTooltip={posType:mstrmojo.tooltip.POS_TOPLEFT,cssClass:"vi-regular vi-tooltip-A",content:this.getTooltipContent(),top:AW.clientY+15,left:AW.clientX-15}
	this._super(AW,AY)
	},getTooltipContent:function AU(){var Ab=K.call(this),AZ=Ab&&Ab.n,AW=this.getDisplayName(),AX=this.isAMSelector(),AY=(AW!==AZ),Aa='<div class="name">'+AR.encodeHtmlString(AW,true)+"</div>"
	return(AX||!AY)?Aa:(Aa+'<div class="dsc">'+AR.encodeHtmlString(mstrmojo.desc(15112,"Name in Dataset:")+" "+AZ,true)+"</div>")
	},setSelectTargetsState:function m(AW){var AX=(this.ctrlOverlay||{}).btnSelect
	if(AX){AX.set("enabled",AW)
	AX.set("visible",AW)
	}},postBuildRendering:function g(){Y.call(this)
	this._super()
	this.generateToolbar()
	var Aa=this.boxContent,AX=this.isAMSelector(),AW=this.isPanelSelector(),AZ=mstrApp.isAppStatePresentation(),AY=mstrApp&&mstrApp.supportFeature(N.DYNAMIC_SEL_AND_SORT)
	if(AW){if(!this.getTargetKeys().length){I.call(this)
	}}else{if(!this.selectorHasSource()){this.setSelectTargetsState(false)
	Aa.set("visible",false)
	if(AX){this.showControlOverlay(AI)
	}else{this.showControlOverlay([{scriptClass:"mstrmojo.Label",cssClass:"dropMsg",text:mstrmojo.desc(13258,"Drag object here.")}])
	}}else{if(Aa&&Aa.isInvalid){this.showInvalidMessage()
	}else{if(!this.getTargetKeys().length&&!AZ){I.call(this)
	}else{if(b.walk("node.data.disabled",Aa)){Q.call(this)
	}}}}}if(AY&&!AZ){var Ab=this.addDisposable(Aa.createDynamicSelectionIcon())
	Ab.render()
	this.domNode.insertBefore(Ab.domNode,this.menuBtnInfo.btn)
	this.dynamicSelIcon=Ab
	}if(this.model){this.model.itemsFitContent=this.defn.iwm===1?true:false
	H.toggleClass(this.domNode,"items-fit-content",this.model.itemsFitContent)
	}},showInvalidMessage:function P(){this.showControlOverlay([{scriptClass:"mstrmojo.Label",cssClass:"invalidMsg",text:this.boxContent.getInvalidTooltip()}])
	},onRender:function F(){if(this._super){this._super()
	}AV.call(this,!this.showTitleBar)
	if(mstrApp.isAppStatePause&&mstrApp.isAppStatePause()&&this.model&&this.model.hasRADataset()){this.set("isMasked",true)
	}},orientationHasChanged:function r(){if(l.call(this)){var AW=this.orientation,AZ=AW==="h",AY=this.boxContent,AX=AY.content
	this.defn.horiz=AZ
	if(AY.isRecursiveAttributeSelector()&&AX.isHoriz!==AZ){u.removeItem(this.boxContent.disposables,AY.defn)
	this.rebuildBoxContent(AY.node)
	this.doLayout()
	}else{AX.isHoriz=AZ
	AX.set("orientation",AW)
	}Y.call(this)
	}},addFormatProps:function AJ(AY,AX){AY=this._super(AY,AX)
	var AW=this.orientation,AZ=AW==="h"
	if(!this.skipOrientationAction&&l.call(this)){AY=AY||this.model.getUnitFormatAction(this,NaN,null,AX)
	mstrmojo.models.FormatModel.getFormatUpdate(mstrmojo.models.FormatModel.ENUM_PROPERTY_NAMES.CONTROL_ORIENTATION,AZ?1:0,AY.format)
	}this.skipOrientationAction=false
	return AY
	},createDeleteUpdate:function w(){var AX=this.model,Aa=AX.getRemoveControlUpdate(this.k,this.parent.k,this.defn.tks||""),AW=this.boxContent,AY=AW.isFilterNothing&&AW.isFilterNothing()
	if(this.isPanelSelector()){Aa.setTreesToRender(v.DEFN)
	}else{if(this.defn.tks&&(!AY||AW.hasDynamicSelection(true))){Aa.setTreesToRender(v.BOTH)
	}}Aa.addUpdate(AX.associatedNodesUpdate(this.parent.children))
	if(this.isAMSelector&&this.isAMSelector()){var AZ=b.valarray(this.defn.cgb)
	this.deleteSectionNodeDefn(Aa,AX,AZ)
	}return Aa
	},updateToolbar:function AC(AW){U.call(this)
	var AY=this.boxContent,AX=AY.isAMSelector()
	if(AY&&this.selectorHasSource(this)){if(mstrApp.isDossier){if(!this.addClearFilterMenuItem(AW,AY)){this.addDynamicSelConsumptionItems(AW,AY)
	}}else{if(this.canShowDesignMenuItems()){if(this.isSortingAllowed(AY)){this.addAttributeSortMenuItem(AW,AY,true)
	this.addAttributeSortMenuItem(AW,AY,false)
	if(AY.defn.sorts){this.addClearSortMenuItem(AW,AY)
	}AW.addSeparator()
	}this.addModeMenuItems(AW,AY)
	AW.addSeparator()
	this.addDynamicSelectionMenuItem(AW,AY)
	if(!this.addClearFilterMenuItem(AW,AY)){this.addDynamicSelConsumptionItems(AW,AY)
	}AW.addSeparator()
	if(!AX){this.addQualMenuItems(AW,AY)
	this.addSetDisplayFormsMenuItem(AW,AY)
	AW.addSeparator()
	}this.addFilterStyleMenuItem(AW,AY)
	this.addMultiSelectMenuItem(AW,AY)
	if(!AX){this.addAutoSearchMenuItem(AW,AY)
	}AW.addSeparator()
	if(!AX){this.addMenuItemIfSelectTargetsValid(AW,AY,mstrmojo.desc(12288,"Target the following elements:"))
	}else{this.addSelectorTargetsMenuItem(AW,AY)
	}AW.addSeparator()
	this.addToggleTitleMenuItem(AW)
	AW.addSeparator()
	if(!AX){this.addReplaceWithMenuItem(AW,AY)
	AW.addSeparator()
	}this.addBFAMenuItem(AW,AY)
	}else{this.addModeMenuItems(AW,AY)
	AW.addSeparator()
	this.addClearFilterMenuItem(AW,AY)
	}}}return this._super(AW)
	},showControlOverlay:function t(AX,AW){this._super(AX,AW)
	H.addClass(this.domNode,"overlay")
	},hideControlOverlay:function C(){this._super()
	H.removeClass(this.domNode,"overlay")
	},onAppStateChange:function AB(AW){var Aa=mstrmojo.vi.VisualInsightApp.APP_STATES,AY=mstrApp.isAppStatePause(),AZ=!!(AW.valueWas&Aa.PAUSE),AX=mstrApp.isAppStateSelection()
	if(AY!==AZ){if(this.model.hasRADataset()){this.set("isMasked",AY)
	}}if(AX){if(this.dynamicSelIcon){this.dynamicSelIcon.set("visible",false)
	}}if(this._super){this._super(AW)
	}},addContextMenuItems:function AM(AY,AX){this._super(AY,AX)
	var AW=this.boxContent
	if(!AW.isAMSelector()&&this.selectorHasSource()&&!(AW&&AW.isInvalid)){this.addMenuItemIfSelectTargetsValid(AY,AW,mstrmojo.desc(12288,"Target the following elements:"),false)
	}if(AW&&AW.isInvalid){this.addDeleteMenuItem(AY)
	}return AY
	},getFormatMenuItemTarget:function G(AW){if(!AW||!Z.contains(this.titlebarNode,AW.getTarget(),true,this.domNode)){return mstrmojo.vi.models.editors.FilterEditorModel.SELECTOR_VALUE
	}return this._super(AW)
	},getTargetInfo:function e(){var AZ=this.parent,AX=this.model,AY=[AG.GRID,AG.GRAPH,AG.MOJOVISUALIZATION,AG.SURVEYCONTAINER,AG.PANELSTACK].concat(AX.isFromSolrCube(this.getSelectorSource())?[]:[AG.SELECTOR]),Aa=AZ&&AZ.getTargetKeysByType(AY),AW=[]
	u.forEach(Aa,function(Ab){var Ad=AZ.getUnitByKey(Ab),Ac=Ad.defn
	if(!((Ad.isAMSelector instanceof Function&&Ad.isAMSelector())||(Ad.isPanelSelector instanceof Function&&Ad.isPanelSelector())||Ad.isIfw)){AW.push({n:Ad.getDisplayName(),id:Ab,st:Ac.style,src:AX.getObjectInfo(Ac.srcid),fgk:Ac.fgk})
	}})
	AW=AW.filter(function(Ab){return Ab.id!==this.k&&Ab.st!==X.ATTR_QUAL
	},this)||[]
	return{keys:this.getTargetKeys(),items:AW}
	},toggleTitleBar:function j(AW){this._super(AW)
	AV.call(this,!AW)
	},updateDisplayName:function J(AW,AX,AY){this._super(AW,AX,AY,true)
	},getAvatarCls:function AD(){return this._super().concat(["filterAvatar"])
	},allowDropFromDataset:function h(AW){return !this.selectorHasSource()&&E.call(this,AW)&&mstrApp.allowWebDashboardDesign()
	},getFormatRelatedActions:function O(Aj){var AZ=[],AY=this.boxContent,Ae=AY.isAMSelector(),Ac=this.getDocModel(),AX=this.defn,Af=0,Ai=this.height,Ag=Ae?AX.style:Ac.getCtrlStyleFromDatasetUnit(Aj),AW=Ae?(AX.horiz?1:0):(this.orientation==="v"?0:1)
	AZ=AZ.concat(Ac.getCtrlActionsByStyle(Aj,AY.ck,Ag,AW,parseInt(this.height,10),parseInt(this.width,10),undefined,undefined,Ae))
	if(!Ae){if(Aj.t===4){AZ.push(Ac.getUnitFormatAction(this,5,AH(AA.SHOW_TITLE_BAR,true)))
	if(Ai==="40px"){Af=20
	}}if(this.orientation==="h"){var Ah=this.parent,Ad=Ah.boxLayoutConfig,Ab=Ad.box,Aa=Ab&&Ab.children&&Ab.children[Ad.getBoxPath(this)]
	Af=Af+Ac.getICSCtrlMoveHeightByStyle(Ag)
	if(Aa&&Aa.f){Aa.l=Aa.l+Af
	AZ=AZ.concat(Ah.getChildPositionActions(true))
	AZ=AZ.concat(Ah.getBoxLayoutActions(true))
	}}}return AZ
	},dropFromDataSource:function AO(AW){var Ai=W.call(this,AW)
	if(Ai){var Ad=this.getDocModel(),Ag=Ad.getDataService(),AY=this.defn,Aa=this.getTargetKeys(),AZ=[this.k].concat(Aa),Ab=this.boxContent,AX=Ab.k,Af=b.valarray(AY.cgb).map(function(Aj){return[Aj,true]
	}),Ac=(AW.actions||[]).concat([Ag.getSetCtrlSourceAction(AY.ck,Ai.did,Ai.t,Af)]),Ah=AP.wrapMethods(AW.callback,{success:function(Aj){var Al=Ad.getVizContentPanel().getUnitByKey(AX),Ak
	Ad.partialUpdate(Aj.data,Ad.getTargetDefn(AZ.join(D)),Aj.defn,[Ab.defn.ckey])
	if(!(mstrApp.isAppStatePause&&mstrApp.isAppStatePause())){Al=Al.parent.rebuildChild(Al)
	}Ak=b.walk("defn.srcid",Al)
	Al.boxContent.set("visible",!!Ak)
	Al.generateToolbar()
	}})
	if(AY.sus){Ac.push(Ag.getUnsetSelectorAction({ck:AY.ck,ckey:AY.ckey,resetSuc:true}))
	}Ac.push(Ad.getUnitFormatAction(this,1,AH(AA.TITLE,Ai.n)))
	var Ae=this.getFormatRelatedActions(Ai)
	Ac=Ac.concat(Ae)
	Ad.controller.cmdMgr.execute({execute:function(){var Aj=Ag.newUpdate(this,{extras:mstrmojo.DocDataService.REQUEST_DEFN_DATA})
	Aj.addActions(Ac)
	Aj.addCallbacks(Ah)
	this.submitUpdate(Aj)
	},urInfo:{callback:Ah,undo:function(){var Aj=Ad.getVizContentPanel().getUnitByKey(AX)
	delete Aj.defn.srcid
	delete Aj.defn.httl
	}}})
	}},dropFromDataset:function a(AW){this.dropFromDataSource(AW)
	},dropFromAllObjects:function AL(AW){this.augmentDropContextForSchema(AW,this.getDocModel())
	this.dropFromDataSource(AW)
	},validateTarget:function B(AW,AX){return !AW&&!AX
	},setTargets:function o(AW){this.getDocModel().changeFilterTargets(this,this.getTargetKeys(),AW,true,true)
	},getTargetKeys:function A(){var AW=this.parent,AY=this.defn.tks,AX=(AY&&AY.split(D))||[],Aa=(AW&&AW.getTargetKeysByType([AG.SURVEYCONTAINER]))||[],AZ=[]
	AX=AX.concat(Aa.reduce(function(Ad,Ab){var Ac=AW.getUnitByKey(Ab),Ae=Ac.defn.fgk
	if(AX.indexOf(Ae)>-1){AZ.push(Ae)
	Ad.push(Ac.k)
	}return Ad
	},[]))
	AX=AX.filter(function(Ab){return AZ.indexOf(Ab)===-1
	})
	return AX
	},isSelectionDirty:function S(AW){return AW.length
	},getTitleBarCfg:function M(){var AW=this._super(),AX=this
	AW.titleEdited=function AY(Aa,Ae,AZ){var Ad=this.parent,Ag={success:function Af(Ah){Ad.defn.ttl=Ah
	Ad.set("title",Ah)
	},failure:function Ac(Ah){mstrApp.onerror(Ah)
	Ad.titleBar.set("title",AZ)
	}}
	Ad.draggable=true
	if(Ae){var Ab=Ad.getDocModel()
	Ab.updateTitle(Aa,this.title,Ad.k,Ab.currlaykey,"ttl",Ag)
	}Ad.editingTitleCallback(false)
	}
	AW.getTooltipContent=function(){return AX.getTooltipContent()
	}
	AW.shouldShowTooltip=function(){return !AX.isAMSelector()
	}
	AW.tooltipOpenDelay=c
	return AW
	},applyCSSFormatToNode:function q(AX,AW){var AZ=this.boxContent
	if(AZ&&AZ.content&&AZ.content.hasRendered){var AY=AZ._inSyncPhase
	AZ._inSyncPhase=true
	AZ.content.refresh()
	AZ._inSyncPhase=AY
	}this._super(AX,AW)
	},getBoxConfiguration:function d(){var AW=this._super()
	if(this.showTitleBar){AW=mstrmojo.hash.clone(AW)
	AW.f.v+=20
	}return AW
	},cancel:function p(){this.refresh()
	},updateAriaLabel:function AE(){var AW=this.title+", "+mstrmojo.desc(6189,"Filter")
	if(AW!==this.ariaLabel){this.set("ariaLabel",AW)
	}},onfocus:function AK(){var AW=this.boxContent
	if(AW.updateAriaLabel){AW.updateAriaLabel()
	}},enterUnit:function n(){this.toggleTabSelectionEffect(false)
	var AW=this.boxContent
	if(AW&&AW.enterUnit){AW.enterUnit()
	}}})
	mstrmojo.vi.ui.rw.FilterBox.boxConfiguration={f:{h:150,v:42},o:"v"}
	mstrmojo.vi.ui.rw.FilterBox.AMSelectorCtrlOverLay=AI
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.FilterBoxInlineDialog","mstrmojo.Label","mstrmojo.css","mstrmojo.func","mstrmojo.hash","mstrmojo.array","mstrmojo.DocSelector","mstrmojo.vi.models.EnumDragSources","mstrmojo.vi.models.AMSelectorDropZones","mstrmojo.vi.ui.rw.FilterBox","mstrmojo.EnumRWUnitType")
	var D=mstrmojo.css,Z=mstrmojo.array,j=mstrmojo.func,M=mstrmojo.hash,C="\u001E",O="amselector_default",K={n:mstrmojo.desc(4897,"Default"),t:18,v:O},G=mstrmojo.vi.ui.rw.FilterBox.AMSelectorCtrlOverLay,f=mstrmojo.EnumRWUnitType,E=mstrmojo.DocDataService.REQUEST_DEFN_DATA,F=mstrmojo.mstr.EnumDSSXMLObjectTypes,Q=mstrmojo.vi.models.DropZonesModel.ENUM_TARGET_POSITION
	function J(o){return o&&o.did!=="-1"&&o.t!==14
	}function c(o){return o&&o.t===F.Metric
	}function H(o){return !c(o)
	}mstrmojo.vi.ui.rw.AMSelectorBox=mstrmojo.declare(mstrmojo.vi.ui.rw.FilterBox,null,{scriptClass:"mstrmojo.vi.ui.rw.AMSelectorBox",isAllGrid:true,objects:[],replaceRelation:{},tmp_replaceRelation:{},isAttrSelector:undefined,allowFilters:false,init:function k(q){this._super(q)
	var p,r,o=mstrApp.isAppStatePause&&mstrApp.isAppStatePause()
	if((o||mstrConfig.resolveOnly)&&this.defn.elms){p=M.walk("defn.elms",this)
	r=M.walk("defn.ces",this)
	}else{p=M.walk("selectorModel.data.elms",this)
	r=M.walk("selectorModel.data.ces",this)
	}this.constructRelation(p,r)
	D.addWidgetCssClass(this,"mstrmojo-AMSelectorBox")
	},constructRelation:function Y(o,r){var u=this
	this.replaceRelation={}
	this.tmp_replaceRelation={}
	this.objects=[]
	this.isAttrSelector=undefined
	var x=this.model.getCGBMap()
	M.forEach(this.defn.cgb,function(z){var AA=u.model.getLayoutUnitDefn(z)
	if(AA){u.replaceRelation[x[z]]={id:AA.replace_object,tp:AA.replace_object_type}
	u.isAttrSelector=AA.replace_object_type!==4
	}})
	var p=M.walk("defn.tks",this)
	this.isAllGrid=!(p&&p.split(C).some(function(z){var AA=u.model.getLayoutUnitDefn(z)
	return AA.t!==f.GRID
	}))
	if(o&&o.length){var q=this.model.datasets,v=[],t,w=o.filter(function(z){return z.did!==O
	})
	u.isAttrSelector=w[0].v[0]!=="i"
	M.forEach(q,function(AA){var z=u.isAttrSelector?AA.att:AA.mx
	v=v.concat(z)
	})
	Z.forEach(w,function(z){Z.forEach(v,function(AA){if(z.did===AA.did){t=M.clone(AA)
	t.n=z.n
	u.objects.push(t)
	return false
	}})
	})
	}},hasTargets:function U(){return !M.isEmpty(this.replaceRelation)
	},getSelectorSource:function b(){return Z.map(this.objects,function(o){return o.did
	})
	},selectorHasSource:function n(){return this.objects.length
	},getZonesModel:function L(){return this.boxContent.zonesModel
	},warnClearTargets:function B(q,r,t){var p=mstrmojo.desc(16877,"This selector was used to replace ##. Add ### in this selector will clear all the selected targets. Targets need to be reselected to replace ###.").replace("##",this.isAttrSelector?"attributes":"metrics").replace(/###/g,this.isAttrSelector?"metrics":"attributes")
	var o=[]
	var u=this
	o.push(mstrmojo.Button.newWebButton(mstrmojo.desc(2544,"Continue"),function(){var v=u.defn,w=u.defn.tks.split(C),x=u.model.getDataService()
	r.actions=[].concat(w.map(function(z){return x.getRemoveCtrlTargetAction(v.ck,z,z,false)
	}))
	u.updateCandidates(q,r,t,E)
	},true))
	o.push(mstrmojo.Button.newWebButton(mstrmojo.desc(2140,"Cancel"),function(){if(mstrApp.isSingleTier){window.FormWrapper.closeWindow("{}")
	}}))
	mstrmojo.warn(p,{},{buttons:o})
	},allowDropFromDataset:function R(o){return mstrApp.allowWebDashboardDesign()&&this.getAllowedDragItems(o).length
	},getAllowedDragItems:function a(o,p){var r=o.getCtxtDragData(),q=(r.items||[]).filter(J)
	if(q.length){if(this.objects.length===0){return q.filter(c(q[0])?c:H)
	}if(this.objects.length===1&&p&&p.edge===Q.ON){return q.filter(c(q[0])?c:H)
	}if(this.isAttrSelector===undefined){this.isAttrSelector=!c(q[0])
	}if(this.isAttrSelector){return q.filter(H)
	}else{return q.filter(c)
	}}return[]
	},dropFromDataSource:function l(p,q){var o=this.getAllowedDragItems(p,q)
	if(o.length){if(!M.isEmpty(this.replaceRelation)&&this.isAttrSelector===c(o[0])&&(this.objects.length===1&&q&&q.edge===Q.ON||this.objects.length===0)){this.warnClearTargets(o,p,q)
	}else{this.updateCandidates(o,p,q)
	}}},updateCandidates:function X(o,p,r,q){this.updateObjects.call(this,o,r)
	this.getUpdateCandAction.call(this,p,q)
	},updateObjects:function I(p,q){var t=this
	this.isAttrSelector=!c(p[0])
	var u=p.map(function(v){Z.forEach(t.objects,function(w,x){if(w.did===v.did){t.objects.splice(x,1,{})
	return false
	}})
	return v
	})
	if(q){var o=q.idx,r=q.edge
	switch(r){case Q.ON:this.objects.splice(o,1)
	Z.forEach(u,function(w,v){t.objects.splice(o+v,0,w)
	})
	break
	case Q.BELOW:Z.forEach(u,function(w,v){t.objects.splice(o+1+v,0,w)
	})
	break
	case Q.ABOVE:Z.forEach(u,function(w,v){t.objects.splice(o+v,0,w)
	})
	break
	}}else{this.objects=this.objects.concat(u)
	}this.objects=this.objects.filter(function(v){return !M.isEmpty(v)
	})
	},getUpdateCandAction:function S(p,v){var o=this.id,x=this.getDocModel(),AB=x.getDataService(),q=this.defn,t=this.getTargetKeys(),r=[this.k].concat(t),u=this.boxContent,z=this.objects.map(function(AD){return{id:AD.did,tp:AD.t}
	}),w=(p&&p.actions||[]).concat([AB.getSetCandidateObjectsAction(q.ck,z)]).concat(this.getFormatRelatedActions()),AC=j.wrapMethods(p&&p.callback,{success:function(AE){var AD=mstrmojo.all[o]
	x.partialUpdate(AE.data,x.getTargetDefn(r.join(C)),AE.defn,[u.defn.ckey])
	if(AD){x.selectVIUnit(o,true)
	AD.boxContent.set("visible",true)
	AD.generateToolbar()
	if(!AD.selectorHasSource()){AD.showControlOverlay(G)
	}}}})
	var AA=mstrApp.isAppStatePause&&mstrApp.isAppStatePause()
	if(AA){v=E
	}x.controller.submitUndoRedoUpdates(w,null,AC,v)
	},dropFromDataset:function N(o){this.dropFromDataSource(o)
	},dropFromAllObjects:function h(o){this.augmentDropContextForSchema(o,this.getDocModel())
	this.dropFromDataSource(o)
	},validateTarget:function A(o,p,q){return this.id===q
	},setTargets:function W(o){this.getDocModel().changeFilterTargets(this,this.getTargetKeys(),o,false,true)
	},getPanelForAddAction:function d(){return"editPanel"
	},getExcludedPanels:function m(){return[]
	},getEditorPanelContents:function g(p,q,o){return this.getEditorPanelContentsBase(p,q,o)
	},getTemplateKey:function P(){return this.k
	},updateAriaLabel:function e(){var o=this.title+", "+mstrmojo.desc(4728,"Selector")
	if(o!==this.ariaLabel){this.set("ariaLabel",o)
	}}})
	mstrmojo.vi.ui.rw.AMSelectorBox.boxConfiguration={f:{h:150,v:42},o:"v"}
	mstrmojo.vi.ui.rw.AMSelectorBox.DefaultV=O
	mstrmojo.vi.ui.rw.AMSelectorBox.DefaultOption=K
	mstrmojo.vi.ui.rw.AMSelectorBox.DefaultOptionElm=M.copy(K,{did:O})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.DocBuilder","mstrmojo.rw._IsReportServicesDocBuilder","mstrmojo.DocLayoutViewer","mstrmojo.maps.MapInfoWindowLayoutViewer","mstrmojo.DocGroupBy","mstrmojo.DocTextfield","mstrmojo.DocHTMLContainer","mstrmojo.Xtab","mstrmojo._Formattable","mstrmojo._IsDocXtab","mstrmojo.IncFetch","mstrmojo.express.ui.DocButton","mstrmojo.ExpressDocPanel","mstrmojo._IsEditableXtab","mstrmojo._CanSupportTransaction","mstrmojo.ExpressVisList","mstrmojo.OIVMDICConfig","mstrmojo.OIVMDocSelectorViewFactory","mstrmojo.OIVMDocXtabGraph","mstrmojo.vi.models.DocVisModel","mstrmojo.vi.models.DocXtabModel","mstrmojo.MenuButton","mstrmojo._HasHoverButton","mstrmojo.ToolBar","mstrmojo.vi.ui.rw.selectors._IsMultiUnitControl","mstrmojo.vi.ui.rw._IsMultiselectXtab","mstrmojo.vi.ui.rw._HasVisSelections","mstrmojo.vi.ui.rw._XtabHighlights","mstrmojo.rw.xtab._XtabColResize")
	var B=mstrmojo.EnumRWUnitType,O=mstrmojo.DynamicClassFactory.newComponent
	mstrmojo.DocXtab=O(mstrmojo.Xtab,[mstrmojo._Formattable,mstrmojo._IsDocXtab,mstrmojo._HasOwnAvatar,mstrmojo.rw.xtab._XtabColResize,mstrmojo.vi.ui.rw._IsMultiselectXtab,mstrmojo.vi.ui.rw._HasVisSelections,mstrmojo.vi.ui.rw.selectors._IsMultiUnitControl,mstrmojo.vi.ui.rw._XtabHighlights],{scriptClass:"mstrmojo.DocXtab"})
	var D=3,M=4
	var A=function(R,Q){var P=R
	while(P){if(P.controller&&P.controller[Q]){return P.controller
	}P=P.parent
	}return null
	}
	mstrmojo.ExpressDocBuilder=mstrmojo.declare(mstrmojo.DocBuilder,[mstrmojo.rw._IsReportServicesDocBuilder],{scriptClass:"mstrmojo.ExpressDocBuilder",visList:mstrmojo.ExpressVisList,createSelectorFactory:function K(){return new mstrmojo.OIVMDocSelectorViewFactory()
	},createClassMap:function H(){var P=this._super()
	P[B.PANEL]={n:"Panel",scriptClass:"mstrmojo.ExpressDocPanel"}
	P[B.HTMLCONTAINER]={n:"HTMLContainer"}
	P[B.GRAPH]={n:"OIVMDocXtabGraph",scriptClass:"mstrmojo.OIVMDocXtabGraph"}
	P[B.TEXTFIELD+"B"]={n:"Button",scriptClass:"mstrmojo.express.ui.DocButton"}
	return P
	},getDefaultMojoVisModel:function F(){return mstrmojo.vi.models.DocVisModel
	},getLayoutViewerClass:function J(P){return mstrmojo.DocLayoutViewer
	},newLayout:function I(P,R){var Q=this._super(P,R)
	var S=R.data.gbys
	if(S&&S.showGroupby){Q.addChildren(new mstrmojo.DocGroupBy({id:S.k,slot:"groupBy",title:S.title,model:P,node:R,data:S.groupbys,controller:this.parent.controller}))
	}if(R.data.ifs){var U=new mstrmojo.IncFetch(mstrmojo.hash.copy(R.data.ifs,{slot:"incFetchNode",model:P}))
	U.attachEventListener("fetch",Q.id,function(W){P.getDataService().fetchDocPage((W.v-1)*U.ps+1,{success:function(X){P.loadLayout(X)
	}})
	})
	Q.addChildren(U)
	}return Q
	},newOIVMDocXtabGraph:function(P,Q){var R=new mstrmojo.OIVMDocXtabGraph({id:Q.id,node:Q,controller:this.parent.controller,model:P,gridInfo:Q.data.gsi})
	R.model=new mstrmojo.vi.models.DocXtabModel({xtab:R,docModel:P})
	return R
	},getEditableXtab:function G(){if(!mstrmojo.EditableXtab){mstrmojo.EditableXtab=O(mstrmojo.Xtab,[mstrmojo._CanSupportTransaction,mstrmojo._IsEditableXtab],{scriptClass:"mstrmojo.EditableXtab"})
	}return mstrmojo.EditableXtab
	},getDefaultXtab:function N(){return mstrmojo.DocXtab
	},getPortletExportGridToolbar:function C(U){var Q=U.k,S=U.node.data,R=S.wid,P=[]
	if(S.disablePDF&&S.disableEXCEL){return 
	}if(!S.disablePDF){P.push({n:mstrmojo.desc(5212,"Export to PDF"),did:D})
	}if(!S.disableEXCEL){P.push({n:mstrmojo.desc(5213,"Export to Excel"),did:M})
	}return{css:"grid-menu",node:{scriptClass:"mstrmojo.ToolBar",slot:"toolbarNode",alias:"rightToolbar",children:[{scriptClass:"mstrmojo.MenuButton",iconClass:"mstrmojo-oivmSprite tbDown",itemIdField:"did",itemField:"n",itemChildrenField:"subItms",executeCommand:function(X){var W=A(this,"exportCmd")
	if(W){W.exportCmd(X.did,Q,R)
	}},cm:P}]}}
	},newHTMLContainer:function(P,Q){return this.newRWUnitInstance(P,Q,(Q.defn.ht===0)?mstrmojo.DocHTMLContainer:mstrmojo.DocTextfield)
	},newInfoWindow:function E(P){return new mstrmojo.DocInfoWindow(P)
	},getLinkDrillMixins:function L(P){return P?[mstrmojo._HasHoverButton]:[]
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo.vi.ui.editors.FilterEditor")
	mstrmojo.requiresDescs(5758,16037)
	var C=mstrmojo.array,A=mstrmojo.hash,B=mstrmojo.mstr.EnumDSSXMLObjectTypes,E=mstrmojo.mstr.EnumDSSXMLObjectSubTypes
	mstrmojo.ME._HasConditionMetricFilterEditor=mstrmojo.provide("mstrmojo.ME._HasConditionMetricFilterEditor",{openConditionMetricFilterEditor:function D(G){var J="cmfe",K,H={},I=G.filter
	function F(){C.forEach(G.att,function(N){if(N.t!==B.Attribute||N.da){return 
	}var M=N.did,O=N.path
	H[M]={did:M,n:N.n,t:N.t,st:N.st,fs:N.fs,da:N.da||false,datasetId:N.datasetId,ttp:N.n+(O?" - "+O:""),dsName:O}
	})
	C.forEach(G.mx,function(N){var M=N.did,O=N.path
	H[M]={did:M,n:N.n,t:N.t,st:N.st||E.Metric,um:N.um,datasetId:N.datasetId,ttp:N.n+(O?" - "+O:""),dsName:O}
	})
	var L={expr:A.clone(I),targets:A.valarray(H)}
	K=J&&window.mstrmojo&&mstrmojo.all[J]
	if(!K){K=mstrmojo.insert({id:J,scriptClass:"mstrmojo.vi.ui.editors.FilterEditor",showLimits:false,docModel:G.docModel,title:mstrmojo.desc(11579,"Metric Editor")+" - "+mstrmojo.desc(16037,"Add Filter")})
	}if(G.zIndex){K.set("zIndex",G.zIndex)
	}K.set("model",L)
	K.targetMap=H
	K.onSave=G.fnOk
	K.onCancel=G.onCancel
	K.onUpdateBrowseElementsParams=G.browseParam
	K.open()
	}F()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo.dom","mstrmojo.hash","mstrmojo.expr","mstrmojo.Table","mstrmojo.CheckBox","mstrmojo.UUID","mstrmojo.ME.LevelInputBox","mstrmojo.ME.ConditionInputBox","mstrmojo.ME.TransformInputBox","mstrmojo.ME.MetricDataService","mstrmojo.Button","mstrmojo.Box","mstrmojo.Editor","mstrmojo.ME._MetricEditorHelper","mstrmojo.mstr.EnumFunction","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo.vi.ui.editors.FilterEditor","mstrmojo.fe.FilterUtils","mstrmojo.ME._HasConditionMetricFilterEditor","mstrmojo.ME.DerivedMetricOptions")
	mstrmojo.requiresDescs(1107,1281,2148,2397,2399,2827,3324,3377,4788,6223,9577,9579,9581,9582,9583,9584,11564,11565,12178,12179,12853,15004,15646)
	var U=mstrmojo.expr,I=mstrmojo.array,Y=mstrmojo.css,f=mstrmojo.dom,R=mstrmojo.hash,G=mstrmojo.UUID,l=mstrmojo.mstr.EnumDSSXMLObjectTypes,b=mstrmojo.mstr.EnumDSSXMLObjectSubTypes,X=mstrmojo.ME._MetricEditorHelper,B=mstrmojo.ME.MetricToken.brackets,k=mstrmojo.Button,P="#999",g=mstrmojo.desc(15004,"Filter Applied"),A=mstrmojo.desc(15347,"Add Filter..."),h=mstrmojo.fe.FilterUtils.getExprXml,J=mstrmojo.ME.DerivedMetricOptions.isNonAFB
	var Q,O
	var F=function(){var E=this.isDME?mstrmojo.desc(12178,"Visualization level"):mstrmojo.desc(1107,"Report Level")
	return mstrmojo.hash.copy({n:E,did:-1,t:-1,state:0})
	}
	var m={level:-4,condition:-5,transformation:-6,simple:-7},c=function(E){return E===-4||E===-5||E===-6||E===-7
	}
	var j={n:"",did:"-1",desc:""},D={1:"+",2:"*",3:"%",4:""},H={1:"",2:"!",3:"<",4:">",5:"<|",6:">|"}
	mstrmojo.ME._HasLevel=mstrmojo.provide("mstrmojo.ME._HasLevel",R.copy(mstrmojo.ME._HasConditionMetricFilterEditor,{_mixinName:"mstrmojo.ME._HasLevel",isAggFunction:false,init:function e(E){if(this._super){this._super(E)
	}Q=this.id
	O=this
	},onOpen:function N(){if(this._super){this._super()
	}if(!this.isAggFunction){return 
	}O=this
	var u=this.getLCTDefFromTokens()
	this.updateToggleBarStatus(u)
	var z=this.metricLCT.levelInput
	z.set("candidates",this.getCandidates4LCT([U.TP.ATTR,U.STP.NDE]))
	z.set("items",u.level)
	var AB=this.metricLCT.conditionInput
	if(!this.isDME){if(!this.noCache&&!AB.candidates){mstrmojo.ME.MetricDataService.getFilters({pattern:"*",blockBegin:1,blockCount:-1},{success:function(AC){if(AC){AB.set("candidates",{items:AC.items,isComplete:(AC.bc===-1||(AC.bb+AC.bc>AC.sz))})
	}},failure:function(AC){mstrmojo.alert(AC.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}})
	}else{AB.candidates=this.getCandidates4LCT([U.TP.FILTER,U.STP.PROMPT_OBJECTS])
	this.metricLCT.lblCondition.set("visible",u.filter.length>0)
	}AB.set("items",u.filter)
	}var E=this.metricLCT.transformInput
	if(!this.noCache&&!E.candidates&&!this.isDME){mstrmojo.ME.MetricDataService.getTransformations({pattern:"*",blockBegin:1,blockCount:-1},{success:function(AC){if(AC){E.set("candidates",{items:AC.items,isComplete:(AC.bc===-1||(AC.bb+AC.bc>AC.sz))})
	}},failure:function(AC){mstrmojo.alert(AC.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}})
	}else{E.candidates=this.getCandidates4LCT(U.TP.ROLE)
	this.metricLCT.lblTransform.set("visible",u.tranformation.length>0)
	}E.set("items",u.tranformation)
	if(this.useEmbeddedFilter()){var t=this.metricLCT.addFilterBox,q=t.btnAddFilter,v=t.btnClearFilter,w=this.oi,p=w&&w.conditions&&w.conditions[0],r=p&&p.exp,o=r&&r.nds&&r.nds[0],x=u.filter&&u.filter[0],n={did:x&&x.did,n:x&&x.n,exp:r,isEmbedded:!!(r||(!x))},AA=function(AG,AE){if(!AG){return 
	}var AF=AG.a||AG.m||(AG.n?AG:null),AC=mstrApp.getRootController().docCtrl.model,AD=AF?AC.findUnitNameInDataSetFromUnit(AF.did):""
	if(AD===null){AE.did=AE.n=AE.exp=null
	}}
	AA(o,n)
	q.set("filter",n)
	v.set("filter",n)
	}},hasConditionFilter:function W(){var n=this.metricLCT.addFilterBox,E=n.btnAddFilter
	return !!(E.filter&&E.filter.did)
	},clearConditionFilter:function d(){var o=this,p=o.metricLCT.addFilterBox,n=p.btnAddFilter,E=p.btnClearFilter
	n.set("filter",{isEmbedded:true})
	E.set("filter",{isEmbedded:true})
	o.onmetricModify()
	},onMpsChange:function M(){var o=this,p=o.metricLCT.addFilterBox,n=p.btnAddFilter,E=p.btnClearFilter
	n.refresh()
	E.refresh()
	},useEmbeddedFilter:function C(){return this.isDME&&!this.ide.disableConditionMetric
	},getLCTDefAsTokens:function S(){if(!this.isAggFunction){return[]
	}var x=this.metricLCT.levelInput.getSelectedObjects(),q=this.useEmbeddedFilter()?this.metricLCT.addFilterBox.btnAddFilter.getFilterObj():this.metricLCT.conditionInput.getSelectedObjects(),o=this.metricLCT.transformInput.getSelectedObjects(),u=[],n,p,r,E=function(AA,z){return AA.filtering===1?"("+z+")":z
	}
	u.push({v:"{",isDelimiter:true})
	var v=null
	for(p=0,r=x.length
	p<r
	p++){v=x[p]
	u.push({v:H[v.grouping],isDelimiter:true})
	if(X.isDimty(v.n)){u.push({v:E(v,v.n)})
	}else{if(/^@/.test(v.did)){u.push({v:E(v,v.did)})
	}else{if(v.did===-1){u.push({v:"~",isDelimiter:true})
	}else{u.push({v:B(v.n),oi:v})
	}}}u.push({v:D[v.filtering],isDelimiter:true})
	if(p<(r-1)){u.push({v:", ",isDelimiter:true})
	}}if(!this.levelFilterRest){u.push({v:"
	",isDelimiter:true})
	u.push({v:"-",isDelimiter:true})
	}if(!this.levelCanContinue){u.push({v:"
	",isDelimiter:true})
	u.push({v:"/",isDelimiter:true})
	}u.push({v:"}",isDelimiter:true})
	if(q.length>0){u.push({v:"<",isDelimiter:true})
	n={v:B(q[0].n)}
	if(q[0].did){n.oi=q[0]
	}u.push(n)
	u.push({v:"
	",isDelimiter:true})
	u.push({v:"@",isDelimiter:true})
	u.push({v:this.conditionEmbedMethod})
	u.push({v:"
	",isDelimiter:true})
	u.push({v:this.conditionIgnoreFilterElem?"-":"+",isDelimiter:true})
	u.push({v:">",isDelimiter:true})
	}var w=I.indexOf(o,j)
	r=w<0?o.length:w
	if(r>0){u.push({v:"|",isDelimiter:true})
	var t=null
	for(p=0
	p<r
	p++){t=o[p]
	n={v:B(t.n)}
	if(t.did){n.oi=t
	}u.push(n)
	if(p<(r-1)){u.push({v:", ",isDelimiter:true})
	}}u.push({v:"|",isDelimiter:true})
	}for(p=0,r=u.length
	p<r
	p++){u[p].isNew=true
	}return u
	},getLCTDefFromTokens:function Z(){var n=[],p=false,v=[],t=[],x=this.oi.tks.items,w=x.length,u
	if(this.insertMode||w===0){n.push(F.call(this))
	}else{for(u=0
	u<w
	u++){var q=x[u],z=q.tp,o=q.sctt
	switch(o){case 262144:p=true
	switch(z){case 64:case 126:case 264:case 265:case 310:var r=u,AA
	if(z===64){var E=q.v+x[++u].v
	q=x[u+1]
	if(q.tp===43||q.tp===45){E+=x[++u].v
	E+=x[++u].v
	}else{if(q.tp===41){u++
	}}AA=mstrmojo.ME.Enum.DYNAMIC_DIMTY.getDimtyObject(E,this.isDME)
	}else{AA=z===126?F.call(this):q.oi
	}AA.grouping=1
	AA.filtering=4
	switch(x[r-1].tp){case 33:AA.grouping=2
	break
	case 60:AA.grouping=3
	break
	case 62:AA.grouping=4
	break
	case 297:AA.grouping=5
	break
	case 298:AA.grouping=6
	break
	}switch(x[u+1].tp){case 37:AA.filtering=3
	break
	case 42:AA.filtering=2
	break
	case 43:AA.filtering=1
	break
	}n.push(AA)
	break
	case 45:this.levelFilterRest=false
	break
	case 47:this.levelCanContinue=false
	break
	}break
	case 327680:switch(z){case 270:case 273:v.push(q.oi)
	break
	case 262:this.conditionEmbedMethod=q.v
	break
	case 43:this.set("conditionIgnoreFilterElem",false)
	break
	case 45:this.set("conditionIgnoreFilterElem",true)
	break
	}break
	case 393216:switch(z){case 271:t.push(q.oi)
	break
	}break
	}}if(n.length===0&&!p){n.push(F.call(this))
	}}return{level:n,filter:v,tranformation:t}
	},levelCanContinue:true,levelFilterRest:true,conditionEmbedMethod:"2",conditionIgnoreFilterElem:true,_set_candidates:function(r,o){this.candidates=o
	if(this.hasRendered){var E=this.metricLCT.levelInput,p=this.metricLCT.conditionInput,q=this.metricLCT.transformInput
	E.candidates=this.getCandidates4LCT([U.TP.ATTR,U.STP.NDE])
	p.candidates=this.getCandidates4LCT([U.TP.FILTER])
	q.candidates=this.getCandidates4LCT([U.TP.ROLE])
	}return true
	},getCandidates4LCT:function L(p,E){var o=this.candidates,n
	if(o){p=I.ensureArray(p)
	n=I.filter(o.items,function(q){return I.indexOf(p,q.t)>-1||I.indexOf(p,q.st)>-1
	})
	if(I.indexOf(p,12)>-1&&E){if(this.replaceAttributeWithForms){n=this.replaceAttributeWithForms(n)
	}}return{items:n,isComplete:o.isComplete}
	}return null
	},updateToggleBarStatus:function K(E){var n=false
	if(E.level){n=E.level.length>1||E.level.length===1&&E.level[0].did!==-1
	}if(E.filter){n=n||E.filter.length>0
	}if(E.transformation){n=n||E.transformation.length>0
	}if(c(this.did)){n=true
	}this.metricLCT.toggle.set("selected",n)
	},levelAdvRef:{scriptClass:"mstrmojo.Editor",title:mstrmojo.desc(9577,"Level Advanced Options"),help:"Level_Advanced_Options_dialog_box.htm",cssClass:"mstrmojo-ME-level-options",onOpen:function(){var E=this.opener
	this.contentTable.ccCheckBox.set("checked",E.levelCanContinue)
	this.contentTable.frCheckBox.set("checked",E.levelFilterRest)
	},children:[{scriptClass:"mstrmojo.Table",alias:"contentTable",rows:3,cols:1,children:[{scriptClass:"mstrmojo.CheckBox",alias:"ccCheckBox",slot:"0,0",label:mstrmojo.desc(9583,"Allow other users to add extra units to this definition")},{scriptClass:"mstrmojo.CheckBox",alias:"frCheckBox",slot:"1,0",label:mstrmojo.desc(9584,"Include filter attributes which are not in report or level in metric calculation")}]},{scriptClass:"mstrmojo.HBox",slot:"buttonNode",cssText:"float:right
	margin: 5px 0px
	",children:[{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(1442,"OK"),onclick:function(){var E=this.parent.parent
	E.saveLevelOptions(E.contentTable.ccCheckBox.checked,E.contentTable.frCheckBox.checked)
	E.opener.onmetricModify()
	E.close()
	}},{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(221,"Cancel"),onclick:function(){var E=this.parent.parent
	E.close()
	}}],postCreate:function(){if(mstrApp.isWorkstationPlugin){this.children=[new k.newInteractiveButton(mstrmojo.desc(2397),function(){var E=this.parent.parent
	E.saveLevelOptions(E.contentTable.ccCheckBox.checked,E.contentTable.frCheckBox.checked)
	E.opener.onmetricModify()
	E.close()
	},P,{alias:"btnOk",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton hot"}),new k.newInteractiveButton(mstrmojo.desc(2399),function(){var E=this.parent.parent
	E.close()
	},P,{alias:"btnCancel",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton"})]
	}}}]},conditionAdvRef:{scriptClass:"mstrmojo.Editor",cssClass:"mstrmojo-ME-condition-options",title:"Condition Advanced Options",help:"Condition_Advanced_Options_dialog_box.htm",cssText:"width: 286px
	",onOpen:function(){var E=this.opener
	this.contentTable.emPulldown.set("value",E.conditionEmbedMethod)
	this.contentTable.irfeCheckBox.set("checked",E.conditionIgnoreFilterElem)
	},children:[{scriptClass:"mstrmojo.Table",cssText:"margin-top:5px
	",alias:"contentTable",rows:3,cols:1,children:[{scriptClass:"mstrmojo.Label",slot:"0,0",text:mstrmojo.desc(9585,"Interaction between metric filter and report filter: ")},{scriptClass:"mstrmojo.Pulldown",alias:"emPulldown",itemField:"n",itemIdField:"did",slot:"1,0",value:"2",items:[{n:mstrmojo.desc(9586,"Merge into new"),did:"1"},{n:mstrmojo.desc(9587,"Merge report filter into metric"),did:"2"},{n:mstrmojo.desc(9588,"Merge metric condition into report"),did:"3"}]},{scriptClass:"mstrmojo.CheckBox",alias:"irfeCheckBox",slot:"2,0",label:mstrmojo.desc(9589,"Ignore related report filter elements")}]},{scriptClass:"mstrmojo.HBox",slot:"buttonNode",cssText:"float:right
	margin: 5px 0px
	",children:[{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(1442,"OK"),onclick:function(){var E=this.parent.parent
	E.saveConditionOptions(E.contentTable.emPulldown.value,E.contentTable.irfeCheckBox.checked)
	E.opener.onmetricModify()
	E.close()
	}},{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(221,"Cancel"),onclick:function(){var E=this.parent.parent
	E.close()
	}}],postCreate:function(){if(mstrApp.isWorkstationPlugin){this.children=[new k.newInteractiveButton(mstrmojo.desc(2397),function(){var E=this.parent.parent
	E.saveConditionOptions(E.contentTable.emPulldown.value,E.contentTable.irfeCheckBox.checked)
	E.opener.onmetricModify()
	E.close()
	},P,{alias:"btnOk",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton hot"}),new k.newInteractiveButton(mstrmojo.desc(2399),function(){var E=this.parent.parent
	E.close()
	},P,{alias:"btnCancel",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton"})]
	}}}]},getLCTComponent:function a(){return{scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-ME-LCT",alias:"metricLCT",layout:[{cells:[{cssClass:"mstrmojo-SME-label mstrmojo-ME-LCT-label"},{}]},{cells:[{cssClass:"mstrmojo-SME-label mstrmojo-ME-LCT-label"},{}]},{cells:[{cssClass:"mstrmojo-SME-label mstrmojo-ME-LCT-label"},{}]},{cells:[{cssClass:"mstrmojo-SME-label mstrmojo-ME-LCT-label"},{cssText:"width:252px
	padding-right:6px
	"}]},{cells:[{cssClass:"mstrmojo-SME-label mstrmojo-ME-LCT-label"},{}]}],bindings:{visible:function(){return this.parent.isAggFunction
	}},labelWidth:"auto",children:[{scriptClass:"mstrmojo.Button",cssClass:"toggle",alias:"toggle",text:mstrmojo.desc(6223,"Show All"),selected:false,bindings:{visible:function(){return !this.parent.parent.isDME
	}},onclick:function(){var q=!this.selected
	this.set("selected",q)
	},slot:"0,0"},{scriptClass:"mstrmojo.Label",alias:"lblLevel",text:mstrmojo.desc(4788,"Level"),bindings:{visible:function(){return this.parent.parent.isDME||!this.parent.parent.isDME&&this.parent.toggle.selected
	},width:"this.parent.labelWidth"},onwidthChange:function(){if(this.hasRendered){this.domNode.style.width=this.width
	}},slot:"1,0"},{scriptClass:"mstrmojo.ME.LevelInputBox",emptyText:mstrmojo.desc(12179,"Search for #").replace("#",mstrmojo.desc(2148,"Attribute").toLowerCase()),alias:"levelInput",dtp:-4,xacptSugItemOnly:true,bindings:{noCache:function(){return this.parent.parent.noCache
	},isDME:function(){return this.parent.parent.isDME
	},visible:function(){return this.parent.lblLevel.visible
	}},reportLevelAdded:true,onadd:function(){var q=this.getSelectedObjects()
	this.set("reportLevelAdded",I.find(q,"did",-1)>-1)
	},onremove:function(){var q=this.getSelectedObjects()
	this.set("reportLevelAdded",I.find(q,"did",-1)>-1)
	},onitemchange:function(){this.parent.parent.onmetricModify()
	if(O.updateScrollbars){O.updateScrollbars()
	}},onSaveOnClose:function(){this.parent.parent.onmetricModify()
	},slot:"1,1"},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-ME-link-text right bold",text:mstrmojo.desc(9577,"Level Advanced Options"),bindings:{visible:function(){return !this.parent.parent.isDME&&this.parent.toggle.selected
	}},onclick:function(){var q=this.parent.parent
	q.openPopup("levelAdvRef",{saveLevelOptions:function(t,r){q.levelCanContinue=t
	q.levelFilterRest=r
	},zIndex:q.zIndex+10})
	},slot:"1,1"},{scriptClass:"mstrmojo.Label",alias:"lblCondition",text:mstrmojo.desc(9579,"Condition"),bindings:{visible:function(){return !this.parent.parent.isDME&&this.parent.toggle.selected
	}},slot:"2,0"},{scriptClass:"mstrmojo.ME.ConditionInputBox",cssClass:"mstrmojo-ME-ObjectInputBox-condition singleObject",emptyText:mstrmojo.desc(12179,"Search for #").replace("#",mstrmojo.desc(1281,"Filter").toLowerCase()),alias:"conditionInput",dtp:-4,xacptSugItemOnly:true,bindings:{visible:function(){return this.parent.lblCondition.visible
	},isDME:function(){return this.parent.parent.isDME
	},noCache:function(){return this.parent.parent.noCache
	}},onitemchange:function(){this.parent.parent.onmetricModify()
	},slot:"2,1"},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-ME-link-text right bold condition",text:mstrmojo.desc(9581,"Condition Advanced Options"),bindings:{visible:function(){return this.parent.lblCondition.visible&&!this.parent.parent.isDME
	}},onclick:function(){var q=this.parent.parent
	q.openPopup("conditionAdvRef",{saveConditionOptions:function(t,r){q.conditionEmbedMethod=t
	q.conditionIgnoreFilterElem=r
	},zIndex:q.zIndex+10})
	},slot:"2,1"},{scriptClass:"mstrmojo.Label",alias:"lblTransform",text:mstrmojo.desc(3324,"Transformation"),bindings:{visible:function(){return !this.parent.parent.isDME&&this.parent.toggle.selected
	}},slot:"3,0"},{scriptClass:"mstrmojo.ME.TransformInputBox",cssClass:"mstrmojo-ME-ObjectInputBox-transform",emptyText:mstrmojo.desc(12179,"Search for #").replace("#",mstrmojo.desc(3377,"Object").toLowerCase()),alias:"transformInput",dtp:-4,xacptSugItemOnly:true,bindings:{visible:function(){return this.parent.lblTransform.visible
	},isDME:function(){return this.parent.parent.isDME
	},noCache:function(){return this.parent.parent.noCache
	}},onitemchange:function(){this.parent.parent.onmetricModify()
	if(O.updateScrollbars){O.updateScrollbars()
	}},slot:"3,1"},{scriptClass:"mstrmojo.Label",alias:"lblFilter",text:mstrmojo.desc(1281,"Filter"),bindings:{visible:function(){return !!(this.parent.parent.useEmbeddedFilter()&&!mstrApp.isWorkstationPlugin)
	}},slot:"4,0"},{scriptClass:"mstrmojo.Box",alias:"addFilterBox",slot:"4,1",cssClass:"addFilterBox",bindings:{visible:function(){return !!(this.parent.parent.useEmbeddedFilter()&&!mstrApp.isWorkstationPlugin)
	}},children:[{scriptClass:"mstrmojo.Button",alias:"btnAddFilter",text:A,cssClass:"btnAddFilter",cssDisplay:"inline-block",getFilterObj:function o(){var r=this.filter,q=r&&r.isEmbedded
	if(!r||!r.did){return[]
	}if(q){return[].concat(r.exp?{did:r.did,t:l.Filter,st:b.Filter,n:r.n,isEmbedded:true,condition:{did:r.did,exp:r.exp}}:[])
	}return[{did:r.did,t:l.Filter,st:b.Filter,n:r.n}]
	},onfilterChange:function(){this.refresh()
	},buildRendering:function n(){if(!this.filter){this.filter={isEmbedded:true}
	}var v=this.filter,w=this.parent.parent,u=w.parent,x=u&&u.ide,r
	u=x&&x.editor
	r=u&&u.oi&&u.oi.mps
	this.text=(v.did)?g:A
	var t=this.constructor.prototype.buildRendering.call(this)
	Y.toggleClass(this.domNode,"hasFilter",v.did)
	this.set("enabled",v.isEmbedded&&(!J(r)))
	var q=!!((v.did&&!mstrApp.isWorkstationPlugin)||(mstrApp.isVI&&w.parent.useEmbeddedFilter()))
	w.lblFilter.set("visible",q)
	w.addFilterBox.set("visible",q)
	return t
	},useRichTooltip:true,updateTooltipConfig:function p(){var t=f.position(this.domNode),r=this.parent.parent.parent,u=r&&r.ide
	r=u&&u.editor
	var q=r&&r.oi&&r.oi.mps
	this.richTooltip=!J(q)?null:{content:mstrmojo.desc(15646,"This metric is not configured to aggregate from the base dataset. Please go to the Metric Options to change this behavior."),cssClass:"vi-regular vi-tooltip-C A-center",left:t.x+t.w+10,top:t.y-4}
	},onclick:function E(){var u=this.parent.parent.parent,v=this.parent.btnClearFilter,AA=u.dsUnits,x=[],AB=[],AC=mstrApp.getRootController().docCtrl.model,z=AC&&AC.getDataService(),q=this.filter,t=q&&q.exp,w=this
	I.forEach(AA&&AA.items,function(AD){if(AD.t===l.Attribute){x.push(AD)
	}else{if(AD.t===l.Metric){AB.push(AD)
	}}})
	var r=function(AE){var AD=G.create()
	w.filter={did:AD,n:AD,exp:AE.expr,isEmbedded:true}
	var AG=AE.expr
	var AF=function(){w.text=AG?g:A
	Y.toggleClass(w.domNode,"hasFilter",AG)
	u.onmetricModify()
	w.refresh()
	v.set("filter",w.filter)
	}
	if(AG){z.createEmbeddedFilter({expr:h(AG),expJson:AG,filterId:w.filter.did,filterName:w.filter.n},{success:function(){AF()
	}})
	}else{w.filter={isEmbedded:true}
	AF()
	}}
	u.openConditionMetricFilterEditor({filter:t,att:x,mx:AB,docModel:AC,invalidItems:[],fnOk:r,onCancel:mstrmojo.emptyFn,browseParam:function(AD){AD.messageID=AC.mid
	AD.datasetID=AC.findDatasetIdFromUnit(AD.attributeID)
	},zIndex:u.zIndex+1})
	}},{scriptClass:"mstrmojo.Button",alias:"btnClearFilter",text:mstrmojo.desc(2827,"Clear"),cssClass:"btnClearFilter",cssDisplay:"inline-block",buildRendering:function n(){var r=this.filter
	var q=this.constructor.prototype.buildRendering.call(this)
	this.set("visible",r&&r.did)
	return q
	},onfilterChange:function(){this.refresh()
	},onclick:function(){var r=this.parent.btnAddFilter,q=this.parent.parent.parent
	r.set("filter",{isEmbedded:true})
	this.set("filter",{isEmbedded:true})
	q.onmetricModify()
	}}]},{scriptClass:"mstrmojo.CheckBox",alias:"irfeCheckBox",cssClass:"ignoreFilterCheckBox",slot:"4,1",label:mstrmojo.desc(18262,"Ignore attribute filters from the same hierarchy"),bindings:{visible:function(){return !!(this.parent.parent.useEmbeddedFilter())
	},checked:function(){return this.parent.parent.conditionIgnoreFilterElem
	}},onclick:function(){var q=this.parent.parent
	q.conditionIgnoreFilterElem=this.checked
	q.onmetricModify()
	}}]}
	}}))
	mstrmojo.ME._HasLevel.EnumEditorComponents=m
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.boxmodel","mstrmojo.Model","mstrmojo.VisUtility","mstrmojo.elementHelper","mstrmojo._CanProxyCallback","mstrmojo.EnumRWUnitType","mstrmojo.models.template.DataInterface","mstrmojo.StringBuffer","mstrmojo.EnumReadystate","mstrmojo.vi.viz.EnumVizStyles","mstrmojo.vi.viz.EnumWidgetTypes","mstrmojo.DocSelector","mstrmojo.MetricSelectorUtility","mstrmojo.UUID","mstrmojo.ExpressVisList","mstrmojo.vi.enums.EnumThemeProperties","mstrmojo.vi.enums.EnumFeatures","mstrmojo.vi.viz.MapHelper","mstrmojo.vi.ui.rw.AMSelectorBox","mstrmojo.vi.ui.rw._HasVisSelections","mstrmojo.vi.ui.rw.selectors._BrushesAndHighlights","mstrmojo.vi.models.VIComponentMap","mstrmojo.publisher")
	var B3=mstrmojo.EnumRWUnitType,BY=mstrmojo.EnumReadystate,Ag=mstrmojo.hash,AK=Ag.forEach,z=mstrmojo.func,As=mstrmojo.Obj.free,Bg=mstrmojo.array,A1=mstrmojo.boxmodel,Aq=mstrmojo.mixin,Bh=mstrmojo.VisUtility,Bp=mstrmojo.elementHelper,Ai=mstrmojo.MetricSelectorUtility,Br=mstrmojo.UUID,AG=mstrmojo.vi.viz.EnumVizStyles,e=mstrmojo.vi.viz.EnumWidgetTypes,Bu=mstrmojo.vi.viz.EnumDSSDropZones,v=mstrmojo.vi.viz.MapHelper,BX=mstrmojo.vi.ui.rw,m=BX._HasVisSelections,BH=BX.selectors._BrushesAndHighlights,AR=mstrmojo.DocSelector.DATAPARAMS,D=mstrmojo.publisher,O="\u001E",BA=BX.AMSelectorBox.DefaultV,Ad=mstrmojo.vi.enums.EnumFeatures
	var An={},BJ={},A8="76CB9F3E366345DF89811386CBAA82CB",Aj=mstrmojo.vi.enums.EnumThemeProperties.ENUM_LAYOUT_STYLE.DEFAULT,Aa=[11826975,1381846,1810715,950271,12407690,2276796,13614615,8355711,15255470,9869567,9101208,7912447,14004421,9296859,15063710,13092807],R=mstrmojo.vi.models.VIComponentMap.TYPES.FILTER_STACK,A6={ESRIMapVisualizationStyle:"com.microstrategy.web.vf.viewer.EsriMapApplicationViewer",GoogleMapVisualizationStyle:"com.microstrategy.web.vf.viewer.GoogleMapApplicationViewer",MapboxVisualizationStyle:"com.microstrategy.web.vf.viewer.MapboxApplicationViewer",KPICardVisualizationStyle:"com.microstrategy.web.vf.viewer.KPICardApplicationViewer"},AZ="com.microstrategy.web.vf.viewer.CustomVisApplicationViewer"
	mstrmojo.MultiRWUnitFormatEventsType=null
	var AV={isObservable:function(B6){var B5=B6&&B6.t
	if((!B5&&B5!==B3.LAYOUT)||!this.hasOwnProperty(B5)||B6.scriptClass){return false
	}return(B5!==B3.SUBSECTION||!B6.dt)
	},makeObservable:function(B5){var B6=B5.audibles=this[B5.t]||{}
	if(B6.hasOwnProperty("readyState")){B5.readyState=BY.IDLE
	}return new mstrmojo.Model(B5)
	},undoObservable:function(B6){if(!B6.scriptClass){return B6
	}var B5={},B7={id:true,audibles:true,readyState:true,destroyed:true,hasInitBindings:true,disposables:true,_super:true,}
	Object.keys(B6).filter(function(B8){return !(typeof B6[B8]==="function")&&!B7[B8]
	}).forEach(function(B8){B5[B8]=B6[B8]
	})
	return B5
	}}
	AV[B3.PANELSTACK]={"*":false,selKey:true,readyState:true}
	AV[B3.GRID]={"*":false,readyState:true,ds:true}
	AV[B3.GRAPH]={"*":false,readyState:true,ds:true}
	AV[B3.GRIDGRAPH]={"*":false,qsm:true,ds:true}
	AV[B3.SUBSECTION]={"*":false,resize:true,adjustSize:true}
	AV[B3.VISUALIZATION]={"*":false,ds:true}
	AV[B3.SELECTOR]={"*":false,cek:true,ds:true,readyState:true}
	AV[B3.MOJOVISUALIZATION]={"*":false,ds:true}
	AV[B3.LAYOUT]={"*":false,readyState:true}
	var A3={}
	function Ak(B5){return A3[B5]||A3["*"]
	}A3["*"]={update:function k(B6,B7,B5,B8){if(B7.isNavigation){delete B7.exp
	}Ag.copy(B5,B7)
	if(B5&&!B5.ck){delete B7.ck
	}if(B5&&!B5.fs){delete B7.fs
	}if(B5&&!B5.sus){delete B7.sus
	delete B7.suc
	}if(B5&&!B5.sorts){delete B7.sorts
	}if(B5&&!B5.an){delete B7.an
	}}}
	A3[B3.PANEL]=Aq({update:function k(B6,B7,B5,B8){if(B7!==B5){delete B7.layoutXML
	}this._super(B6,B7,B5)
	}},Ag.copy(A3["*"]))
	function Al(CB,CC){function CA(CE,CD){Bg.forEach(CE.disposables,function(CH,CG,CF){if(CH&&CH.k===CD.k){CH.destroy()
	CF.splice(CG,1)
	return false
	}})
	return CE.addDisposable(CD)
	}var B6=CB&&CB.layoutMap&&CB.layoutMap[CC]
	if(B6){if(!B6.t){B6.t=B3.LAYOUT
	}if(AV.isObservable(B6)){B6=CB.layoutMap[CC]=CA(this,AV.makeObservable(B6))
	}return B6
	}var B5=CB&&CB.layouts,B9=(B5&&B5.length)||0,B8
	for(B8=0
	B8<B9
	B8++){if(B5[B8].k===CC){var B7=B5[B8]
	if(!B7.t){B7.t=B3.LAYOUT
	}if(AV.isObservable(B7)){B5[B8]=CA(this,AV.makeObservable(B7))
	}return B5[B8]
	}}return null
	}function j(B9,CB,B8,B7){var B6=Al.call(this,B9,CB)
	if(B8===CB){B6._lkz=CB
	return B6
	}if(B6){var CA=B6.units[B8]
	if(CA){if(parseInt(CA.t,10)===B3.GRIDGRAPH){if(!B6.units[B8+"_0"]){B6.units[B8+"_0"]={ck:CA.ck,fmts:CA.fmts.gd,txi:CA.txi,t:B3.GRID}
	B6.units[B8+"_1"]={ck:CA.ck,fmts:CA.fmts.gp,t:B3.GRAPH}
	}}if(!B7&&AV.isObservable(CA)){CA=B6.units[B8]=AV.makeObservable(CA)
	var B5=this
	CA.addDisposable({destroy:function(){var CD=B5.disposables.indexOf(CA)
	if(CD>=0){B5.disposables[CD]=null
	}if(!B6.units[B8]){return 
	}B6.units[B8]=AV.undoObservable(B6.units[B8])
	var CE=B5.getWidgetId({k:B8,wid:1},CB),CC=B5.getLayoutDataCache(CB)
	if(CC&&CC[CE]){CC[CE].defn=B5.getUnitDefinitions([B8])[B8]
	}}})
	this.addDisposable(CA)
	}CA._lkz=CB
	}}return B6&&B6.units[B8]
	}function Bs(B9,B8,B7,B5){var B6=this.getChildren(B9,B8,0)
	return(mstrApp.isMobile?(Bg.filter(B6,function(CC){var CA=B7&&B7.indexOf(CC.defn.t),CB=CC.defn.dk
	return B5?(CA>-1&&CB===-1):(CA<0||CB!==-1)
	})):(B5?[]:B6))
	}var BG=function(B5,B6){var B7=new mstrmojo.StringBuffer()
	if(B6){B7.append("*l"+B6)
	}B7.append("*k"+B5.k)
	if(B5.hasOwnProperty("wid")){B7.append("*x"+B5.wid)
	}B7.append("*t"+this.buildTime)
	return B7.toString()
	}
	function Bo(B7){var B6,B5,CA=this.delta,B8=this.pendingUpdate=this.pendingUpdate||{},B9=[]
	if(!Ag.isEmpty(CA)){B9.push("<updates>")
	for(B6 in CA){if(CA.hasOwnProperty(B6)){B5=CA[B6]
	B9.push(B5.getUpdates())
	}}B8[B7]=CA
	this.delta={}
	B9.push("</updates>")
	}return B9.join("")
	}function AA(CA,B6){var B9
	if(CA){var B5=Bg.isArray(CA)?CA:CA.split(B6||O),B8=B5.length,B7
	for(B7=0
	B7<B8
	B7++){B9=B9||{}
	B9[B5[B7]]=j.call(this,this.defn,this.currlaykey,B5[B7])
	}}return B9
	}function AO(B5,B6){return mstrmojo.all[BG.call(this,{k:B5,wid:B6},this.currlaykey)]
	}function BE(B6,B5){var B7=(typeof B6==="string")?this.getLayoutUnitDefn(B6,B5):B6
	return(B7&&B7.t===B3.PANELSTACK&&B7.ifw)
	}function AI(B6,B5){return !B5||(B6.wid===B5)
	}function G(B9,CH){var CC=this,CI=CC.getSliceCallback(CH),B7=CI.shared,CJ=CH.tks,B6=CH.eid,CF=CC.getDataService()
	if(!CJ){return 
	}var CE=j.call(CC,CC.defn,CC.currlaykey,B6)
	if(!CE){return 
	}var CB=B6,CD=B7.tgtDefs[CJ],B5=function(){CD.set("selKey",B6)
	},B8
	CD.newSelKey=B6
	if(CE.l){var CA=CE.dirtyKeys
	if(!!CA){CB=Ag.keyarray(CA).join(",")
	B7.orignalTargetDefs=B7.tgtDefs=AA.call(CC,CB,",")
	B8=function(){B5()
	AK(B7.dataCacheUpdate.upd,function(CK,CL){var CM=mstrmojo.all[CL]
	if(CM&&CM.setDirty){CM.setDirty(false)
	}})
	}
	}else{if(CH.skipServerCall){B5()
	return 
	}CF.requestPanelChangeDeferred(B9,B6,null,false,false,CC.newCallback({method:"slice",success:B5}))
	return 
	}}else{B8=function(){B5()
	CE.l=true
	}
	}var CG=CI.success
	CI.success=function(CL){if(!CC.checkStatus(CL)){return 
	}CC.updateDefnCache(CL.defn,[B6])
	CG(CL)
	B8()
	var CK=AO.call(CC,CH.tks,0)
	if(CK){CK.clearDirtyChild(B6)
	}}
	CF.requestPanelChangeDeferred(B9,B6,CB,true,!CH.hasLoader,CI)
	}function BM(B5,B6){if(B6[AR.ELMSREADY]){B5[AR.ELMSREADY]=B6[AR.ELMSREADY]
	B5.elms=B6.elms
	}if(B6[AR.CESREADY]){B5[AR.CESREADY]=B6[AR.CESREADY]
	B5.ces=B6.ces
	}if(B6[AR.ELMSREQUEST]){B5[AR.ELMSREQUEST]=B6[AR.ELMSREQUEST]
	}if(B6[AR.METRICVALUES]){Ai.restoreMetricSelectorProps(B5,B6)
	B5[AR.METRICVALUES]=B6[AR.METRICVALUES]
	}if(B6[AR.CSREADY]){B5[AR.CSREADY]=B6[AR.CSREADY]
	Ai.restoreMetricSelectorSelections(B5,B6)
	}if(B6[AR.DISABLED]){B5[AR.DISABLED]=B6[AR.DISABLED]
	}}function Bd(B7,B5,B6){if(B7.defn&&B7.defn.t>=B3.GRID){mstrmojo.models.template.DataInterface.inflateGridData(B7.data)
	}var B9=B7.id,B8=B5[B9]&&B5[B9].data
	if(mstrApp.isAppStatePause&&mstrApp.isAppStatePause()&&B8&&B7.defn.t===B3.SELECTOR){if(!B7.data){B7.data={}
	}BM(B7.data,B8)
	}if(!B6){B5[B7.id]=B7
	}return B7
	}function Q(CS,CY,CL,B6,CV,CD){var CZ=this.currlaykey,Cc
	if(CS){Cc=CS.defn
	CZ=(Cc&&Cc._lkz)||CS.k
	}var CC=this.getLayoutDataCache(CZ),CQ=(!CL&&!Ag.isEmpty(CC)),B7
	if(!CS){B7=this.data
	}else{var CK=CS.data||CS
	if(CQ){B7=CC[BG.call(this,CK,CZ)]
	B7=(B7&&B7.data)||B7||CK
	}else{B7=CK
	}}if(!!B7.sections){this._buildingLayoutKey=B7.k
	}var CF=B7?this.extractChildren(B7):[],CR=[]
	var CH=(CF&&CF.length)||0
	if(CH){Cc=this.defn
	var CT=!CS,CO=CS?CZ:null,Cf=(CS&&((CS.defn)?CS.defn.t:j.call(this,Cc,CO,CS.k).t))
	var B9=(Cf===B3.GRIDGRAPH),CM=(Cf===B3.DETAILS),Ca,CI
	CF=CY(CF)
	for(Ca=0,CI=CF.length
	Ca<CI
	Ca++){var CN=CF[Ca]
	if(B9){CN.k=CS.k
	CN.wid=CS.data.wid
	}var CG=CN.k,Cb=CN.wid,CU=BG.call(this,CN,CO),CP=!CT&&BE.call(this,CG,CO),CA
	if(!CD){if(!CT&&CP&&(!CL||!this.getInfoWinByKey(CG))){var B5=this.getLayoutUnitDefn(CG),CW=Bd({data:CN,defn:B5,id:CU,k:CG,p:B7},CC,CV)
	if(!this.getInfoWinByKey(CG,Cb)){var CB=this.infoWindows=this.infoWindows||{}
	CB[B5.n]=CW
	this.addInfoWinByKey(CG,CW)
	}continue
	}else{if(!CT&&CP&&CL){var B8=this.getInfoWinByKey(CG,Cb)
	if(B8){this.mergeInfoWin(CN,B8.data,this.getCurrentLayoutKey())
	}}}}if(B9){CU+="_"+Ca
	CA=j.call(this,Cc,CO,CN.k+"_"+Ca)
	}else{CA=j.call(this,Cc,CO||CN.k,CN.k)
	}if(CM){CA.dt=true
	}if(CC===null&&(CA.t===B3.LAYOUT)){CC=this.getLayoutDataCache(CN.k)
	}var Cd
	if(CA.t===B3.PANEL&&CC[CU]&&CQ){var CE=this.extractChildren(CN)||[],CX=this.extractChildren(CC[CU].data)||[],Ce=false
	if(CE.length!==CX.length){Bg.forEach(CX,function(Ch){var Cg=Bg.find(CE,"k",Ch.k)
	if(Cg>-1){CE[Cg]=Ch
	Ce=true
	}})
	if(Ce){CX.splice(0,CX.length)
	Bg.forEach(CE,function(Cg){CX.push(Cg)
	})
	}}Cd=CN
	}else{Cd=CQ?(CC[CU]&&CC[CU].data)||CN:CN
	}var CJ={k:CN.k,id:CU,defn:CA,data:Cd,p:B7}
	if(!CC[CU]){Bd(CJ,CC,CV)
	}CR.push(CJ)
	}}return B6?{nodes:CR,total:CH}:CR
	}function Bi(CB,B6,CA){var B5=A1.px2Inches,B7=this.getZoomProps(),B9=1,B8=2
	if((CA&B9)>0){CB.FormattingPosition={Left:B5(B7,B6.x||0),Top:B5(B7,B6.y||0)}
	}if((CA&B8)>0){CB.FormattingSize={Height:B5(B7,B6.h||0),Width:B5(B7,B6.w||0)}
	}if(B6.z){CB.FormattingOrder={ZIndex:B6.z}
	}}function AY(B6){function B5(B8,B7){return B8<B7?-1:(B8>B7?1:0)
	}B6.sort(function(B8,B7){var B9=B5(B8.levelID,B7.levelID)
	return B9!==0?B9:B5(B8.elemID,B7.elemID)
	})
	return B6
	}function Ax(B5,B6){return B5.map(function(B7){return B7[B6]
	}).join(O)
	}function AD(B5){return Ax(B5,"levelID")
	}function a(B5){return Ax(B5,"elemID")
	}function BF(B6){if(B6){BJ={}
	}An={}
	var B5=this.defn&&this.defn.epm
	if(B5){B5.forEach(function(B7){B7.epmv.forEach(function(B8){var CA=AY(B8.k.chn.map(function(CD){var CC=CD.emt!==2
	return{levelID:CC?(CD.at.did||CD.ei.split("
	").slice(-1)):"-1",elemID:CC?CD.ei:CD.mt.did}
	})),CB=AD(CA),B9=a(CA)
	if(!An[CB]){An[CB]={}
	}An[CB][B9]=JSON.parse(B8.v.vv)
	})
	})
	}}function L(B5){if(B5){B5=mstrmojo.rw.model.RetrievalKeysConfig.parseResponseFilters(B5)
	}return B5
	}function Ap(){var B6=this.data&&this.data.layouts,B5=B6[Bg.find(B6,"k",this.getCurrentLayoutKey())],B8=B5&&B5.gbys&&B5.gbys.groupbys,B7=false
	Bg.forEach(B8,function(B9){if(B9.unit&&B9.unit.elms&&B9.unit.elms[B9.unit.idx].v==="u
	"){B7=true
	return false
	}})
	return B7
	}function BP(B5,B7,B6){B5=B5.replace(B7,function(B8,B9){if(B9==="&"){return(B6+"&")
	}return B6
	})
	if(mstrmojo.dom.isIE){B5+="&cb"+mstrmojo.now()+"=1"
	}return B5
	}function BO(CI,CG,CA,CL,CB){var B7=CB?CG:CG.data,CH=this.getChildren(CG,true,undefined,undefined,undefined,true),CE=mstrmojo.all[CG.id]
	if(!CH.length){return 
	}var B8,CC=[],CK=false,CD=this.extractChildren(B7)
	for(B8 in CH){var B5=CH[B8],B6=B5.id,CJ,B9=B5.k
	if(CD){var CF=Bg.find(CD,"k",B9)
	CJ=CF>=0?CD[CF]:null
	if(CJ&&CI.hasOwnProperty(B9)){CC.push({id:B6,parentArray:CD,childData:CJ})
	if(Ag.walk("defn.t",CE)===B3.PANEL){CK=true
	}}}BO.call(this,CI,B5,CA,CL)
	}CC.forEach(function(CM){Bg.removeItem(CM.parentArray,CM.childData)
	delete CA[CM.id]
	})
	if(CK&&CE){CL.changedParentPanel[CE.id]=true
	CL.upd[CE.id]=true
	}}function BK(B7,B6,B5,CA){B6=B6||this.getCurrentLayoutKey()
	CA=CA||[]
	var B9=this,B8=B9.extractChildren(B7)||[]
	B8.forEach(function(CD){var CC=false
	if(CD.k){CC=CA.indexOf(CD.k)!==-1
	if(!CC){var CB=BG.call(B9,{k:CD.k,wid:1},B6)
	B9.deleteDataCache(CB,B6)
	B5[CD.k]=CB
	}}if(!CC){BK.call(B9,CD,B6,B5,CA)
	}})
	}mstrmojo.DocModel=mstrmojo.declare(mstrmojo.Model,[mstrmojo._CanProxyCallback],{scriptClass:"mstrmojo.DocModel",audibles:{"*":false,data:true,tsp:true},features:null,dataCache:null,searchElemsCache:null,controller:null,sdp:null,dpi:96,keySeed:0,currlaykey:"",allowHtmlContent:undefined,init:function Bw(B5){this._super(B5)
	if(!this.features){this.features=new mstrmojo.Model()
	this.disposables.push(this.features)
	}this.ondefnChange()
	BF.call(this)
	this.buildTime=mstrmojo.now()
	},hasFeatures:function C(B9){var B7=this.features
	if(!B7){return false
	}var B6=B9.split(","),B5=B6.length,B8
	for(B8=0
	B8<B5
	B8++){var CA=B6[B8],CB=CA.match(/^!/)
	if(CB){CA=CA.replace("!","")
	}if(!!CB===!!B7[CA]){return false
	}}return true
	},makeObservable:function F(B5){return AV.makeObservable(B5)
	},isObservable:function Bc(B5){return AV.isObservable(B5)
	},undoObservable:function AU(B5){return AV.undoObservable(B5)
	},checkStatus:function X(B5){if(parseInt(B5.status,10)===4){B5.message=mstrmojo.desc(5781,"Request timed out.")
	mstrmojo.err(B5)
	return false
	}return true
	},getDataService:function Ba(){var B6=this.dataService
	if(!B6){var B5={rwb:this.bs,msgId:this.mid,stid:this.stid,cbKey:this.cbKey,model:this}
	if(mstrApp.modelFactory){B6=mstrApp.modelFactory.newDataService("Document",B5)
	}else{B6=mstrApp.viewFactory.newDocDataService(B5)
	}this.dataService=B6
	this.disposables.push(B6)
	}return B6
	},getNextKey:function Bq(){return"W"+(mstrmojo.resolveFeature("guid-as-node-identifier")?Br.create():this.keySeed++)
	},resetKeySeed:function A5(B5){this.keySeed=B5
	},getWidgetId:function Bx(B5,B6){return BG.call(this,B5,B6||this.getCurrentLayoutKey())
	},getUIState:function BC(){return{}
	},ondefnChange:function AN(){var CA=this.defn,B7=CA&&CA.layouts,B6={}
	if(CA){CA.layoutMap=B6
	var B9=(B7&&B7.length)||0,B8
	for(B8=0
	B8<B9
	B8++){var B5=B7[B8]
	B6[B5.k]=B5
	}}},extractChildren:function Be(B5){return B5&&(B5.sections||B5.subsections||B5.objects||B5.panels||B5.layouts||B5.children)
	},getChildren:function S(B9,B8,CC,B7,CB,B6,B5){CC=CC||0
	var CA=function(CD){return CD.slice(CC,CC+(B7||CD.length))
	}
	return Q.call(this,B9,CA,B8,CB,B6,B5)
	},getChildrenByKey:function AF(B8,B7,B6,CA,B5){var B9=function(CC){var CB=[],CD
	Bg.forEach(B6,function(CE){CD=Bg.find(CC,"k",CE)
	if(CD!==-1){CB.push(CC[CD])
	}})
	return CB
	}
	return Q.call(this,B8,B9,B7,CA,undefined,B5)
	},getTargetDefn:function AS(B5){return AA.call(this,B5)
	},getUnitDefinitions:function(B6,B5){return AA.call(this,B6,B5)
	},getUnitInstance:function A(B5,B6){return mstrmojo.all[BG.call(this,{k:B5,wid:B6},this.currlaykey)]
	},getFirstUnitInstanceByName:function By(B8){var B5=Al.call(this,this.defn,this.currlaykey)
	if(B5){var B6=B5.units,B7
	for(B7 in B6){var B9=B6[B7]
	if(B9.n===B8){return this.getUnitInstance(B7,1)
	}}}return null
	},getLayoutUnitDefn:function Ay(B6,B5){return j.call(this,this.defn,B5||this.currlaykey,B6)
	},mergeInfoWin:function u(B9,B8,B5){if(B9.k&&B8.k&&B9.k===B8.k){var B7=this
	var B6=this.getLayoutUnitDefn(B9.k,B5)
	if(B6&&B6.t===B3.PANELSTACK){Bg.forEach(B8.panels,function(CB){var CA=Bg.filterOne(B9.panels,function(CC){return CC.k&&CC.k===CB.k
	})
	if(!CA){B9.panels.push(CB)
	}else{u.call(B7,CA,CB,B5)
	}})
	}else{Bg.forEach(B8.objects,function(CB){var CA=Bg.filterOne(B9.objects,function(CC){return CC.k&&CC.k===CB.k
	})
	if(!CA){if(B9.objects){B9.objects.push(CB)
	}}else{u.call(B7,CA,CB,B5)
	}})
	}}},getRawLayoutUnitDefn:function Bv(B6,B7,B5){return j.call(this,B7||this.defn,B5||this.currlaykey,B6,true)
	},getSelectedKey:function AH(B5){return(!B5&&this.currlaykey)||null
	},getCurrentLayoutKey:function Af(){return this.currlaykey
	},getAllLayoutKeys:function Z(){var B5=[]
	Bg.forEach(Ag.walk("defn.layouts",this),function(B6){B5.push(B6.k)
	})
	return B5
	},getLayoutKeyByUnitKey:function Bj(B9){var B7=this.defn,B8=B7&&B7.layouts,B5,B6=null
	Bg.forEach(B8,function(CA){B5=CA.units
	if(B5[B9]&&(!B5[B9]._isDeleted)){B6=CA.k
	return !B5[B9]
	}})
	return B6
	},deleteLayoutUnitDefn:function Au(B7,B5){var B6=this.getLayoutDefn(B5||this.getLayoutKeyByUnitKey(B7))
	if(B6){delete B6.units[B7]
	}},getUpdateLayoutDefaultPanelCallback:function B2(){var B5=this
	return{success:function(B6){if(B6&&B6.defn&&B6.defn.layouts){var B7=B5.defn.layoutMap
	Bg.forEach(B6.defn.layouts,function(CB){var CA=B7[CB.k]
	if(CB.units&&CA&&CA.units){var B9=CB.units,B8=CA.units
	Ag.forEach(B9,function(CD,CC){if(B8[CC]&&CD.t===B3.PANEL&&CD.l!==undefined&&CD.layoutXML){B8[CC].l=CD.l
	}if(B8[CC]&&CD.t===B3.SELECTOR&&CD.sync!==undefined){B8[CC].sync=CD.sync
	}})
	}})
	}}}
	},getLayoutDefn:function A4(B5){var B6=this.defn,B7=B6&&B6.layouts
	return B7&&B7[Bg.find(B7,"k",B5)]
	},getCurrentLayoutDef:function M(){return this.getLayoutDefn(this.getCurrentLayoutKey())
	},replaceLayout:function Ac(CD,B6,CE){var CA=this.defn,B9=this.data,B7=B6&&B6.defn,B5=B6&&B6.data,CF=this.dataCache
	if(CF&&CF[CD]){CF[CD]={}
	}var CC=(B9&&B9.layouts)||(CA&&CA.layouts),B8,CB=false
	for(B8=(CC&&CC.length-1)||0
	B8>=0
	B8--){if(CC[B8].k===CD){break
	}}if(CE&&B8<0){B8=Bg.find(B5.layouts||B7.layouts,"k",CD)
	CB=true
	}this.bs=B6.bs
	if(B5){if(CB){Bg.insert(B9.layouts,B8,[B5.layouts[B8]])
	}else{B9.layouts[B8]=B5.layouts[B8]
	}B9.elems=B5.elems
	}if(B7){if(CB){Bg.insert(CA.layouts,B8,[B7.layouts[B8]])
	}else{CA.layouts[B8]=B7.layouts[B8]
	}this.ondefnChange()
	}},loadLayout:function B(B5,B7,B6){this.replaceLayout(B5.currlaykey,B5)
	this.raiseEvent({name:"rebuildLayout",unloadCache:!!B7,restoreIW:!!B6})
	},getLayoutDataNode:function g(B6){var B5=this.data&&this.data.layouts
	return Bg.filterOne(B5,function(B7){return B7.k===B6
	})
	},getLayoutDataCache:function Bl(B6){if(!B6){return null
	}var B5=this.dataCache
	if(!B5){B5=this.dataCache={}
	}if(!B5[B6]){B5[B6]={}
	}return B5[B6]
	},saveRW:function Az(B6,B8){var B7=mstrmojo.desc,B5=this.getDataService()
	B5.saveRW({objName:B6||this.n,folderID:this.pfid,saveAsFlags:1},B8||{success:function(B9){mstrmojo.alert(B7(3819,"Document Saved")+": "+B9.n)
	}})
	},saveAsRW:function Bz(B9,B8){var B7=this,B6=!!(mstrApp.isAppStatePause&&mstrApp.isAppStatePause()||mstrConfig&&mstrConfig.resolveOnly),B5=B7.prompt_option
	switch(B5){case 0:B5=3
	break
	case 4:B5=1
	break
	default:B5=2
	}var CA=mstrmojo.hash.copy(B9,{evt:3102,applyChanges:false,executionMode:2,parentFolderID:mstrApp.saveFolderId||B7.sfid||B7.pfid,saveFromDesignMode:false,saveAsReportSaveAsFlags:B5,resolveOnly:B6,rwb:B7.bs})
	if(B8){CA.target=B8
	CA.saveAsOrigin=13
	}mstrmojo.form.send(CA,null,"post")
	},getDocPropsActions:function w(B5){var B6={act:"setDocumentProperties",props:B5}
	Ag.forEach(B5.RWDocumentProperties,function(B8,B7,B9){B9[B7]=String(B8)
	})
	return B6
	},saveDocProps:function Am(B5,B7,B8,CC){var CB=this.getDataService(),CA=B8?null:mstrmojo.DocDataService.RAPID_EXEC,B6=mstrmojo.DocDataService.REQUEST_DEFN_DATA,B9=[this.getDocPropsActions(B5)]
	if(B7){this.controller.cmdMgr.execute({execute:function(){this.submit(B9,CC||{},Ag.copy(B6,Ag.copy(CA,{})))
	},urInfo:B7})
	}else{CB.submitUpdates(B9,CC||{},Ag.copy(B6,Ag.copy(CA,{preserveUndo:true})))
	}},saveDocTimeZone:function AC(B6,B5,B7){this.controller.cmdMgr.execute({execute:function(){this.submit(B6,B7||{},{style:{params:{treesToRender:B5}}})
	}})
	},partialUpdate:function Bb(CB,B5,B8,B7,B6,CA){if(B8){this.updateDefnCache(B8,B7,B6)
	}if(CB){if(mstrApp){mstrApp.isPartialUpdate=true
	}var B9=this.updateDataCache(CB,B5,undefined,B6)
	if(CA){B9=CA(B9)
	}this.raiseEvent({name:"partialUpdate",tree:CB,ids:B9})
	if(mstrApp){mstrApp.isPartialUpdate=false
	}return B9
	}},refreshDefinition:function Bm(B8,B7,B6,B9){var B5=this.getLayoutUnitDefn(B8,B6||this.getCurrentLayoutKey())
	if(!B5){return 
	}Ak(B5.t).update(this,B5,B7,B9)
	},loadPartialData:function E(CA,B6){var B8={}
	B8[B6]=j.call(this,this.defn,this.currlaykey,B6)
	var B7=this.updateDataCache(CA,B8),B5=this.getLayoutDataCache(this.getCurrentLayoutKey()),B9=this
	Bg.forEach(CA.layouts,function(CB){var CC=CB&&CB.xtabStyles
	if(CC){B9.raiseEvent({name:"updateStyles",key:CB.k,updatedStyles:CC})
	}})
	AK(B7,function(CC,CB){if(CB==="upd"){AK(CC,function(CE,CF){var CD=mstrmojo.all[CF]
	if(CD&&CD.update){CD.update(B5[CF])
	}})
	}})
	},updateDefnCache:function J(B6,CC,B9){var CF=this.currlaykey,B8=Al.call(this,B6,CF),CH=Al.call(this,this.defn,CF),CD=function(CI,CJ){var CK
	for(CK in CJ){if(CI[CK]===undefined){CI[CK]=CJ[CK]
	}}},CG=B8&&B8.units,CE=CH&&CH.units,B7=B8&&B8.cgbMap,B5=CH&&CH.cgbMap,CA=B9&&L(B9).defn,CB=this
	Bg.forEach(CC,function(CI){CB.refreshDefinition(CI,CG&&CG[CI],null,CA&&CA[CI])
	})
	if(CG){CD(CE,CG)
	}if(B7){CD(B5,B7)
	this.raiseEvent({name:"CGBMapChange",cgbMap:B5})
	}},deleteDataCache:function BQ(B7,B6){B6=B6||this.getCurrentLayoutKey()
	var B5=this.getLayoutDataCache(B6)
	if(B5[B7]){delete B5[B7]
	}},cleanDescendantsDataCache:function BL(B7,B6,B8){var B5={}
	BK.call(this,B7,B6,B5,B8)
	return B5
	},setDataReady:function BD(CE,CB,B6,CC,B5,CF){var B9=this.extractChildren(this.data),B7=this.getLayoutDataCache(this.getCurrentLayoutKey()),CA=this,CD=false
	if(!B9){return 
	}function B8(CG){if(!CG){return 
	}Bg.forEach(CG,function(CH){if(CH.k===CE){if(B6){CH[B6]=CC
	}if(Bg.isArray(B5)&&CF){Bg.forEach(B5,function(CJ,CI){CH[CJ]=CF[CI]
	})
	}else{if(B5){CH[B5]=CF
	}}CD=true
	return false
	}else{if(!CD){B8(CA.extractChildren(CH))
	}}})
	}B8(B9)
	if(!B7[CB]){B7[CB]={}
	}B7[CB][B6]=CC
	},cleanLocalLayoutData:function Bt(B6,B9){var B5={changedParentPanel:{},upd:{}},B8=this.data.layouts,B7={}
	B6.forEach(function(CB){var CA=B9||this.getLayoutKeyByUnitKey(CB)
	if(!CA){return 
	}if(!B7[CA]){B7[CA]={}
	}B7[CA][CB]=true
	},this)
	Ag.forEach(B7,function(CD,CC){var CA=B8[Bg.find(B8,"k",CC)],CB=this.getLayoutDataCache(CC)
	BO.call(this,CD,CA,CB,B5,true)
	},this)
	return B5
	},updateDataCache:function h(CG,CF,B5,B9){var B7=this.getLayoutDataCache(this.getCurrentLayoutKey()),B6=B9&&L(B9).data,CH={changedParentPanel:{},ifws:{},upd:{},tgts:{},def:{},secs:{}},CB=this,CE=function(CK,CI){var CL=CB.extractChildren(CK.data)
	if(CL){return 
	}var CN=CB.extractChildren(CI)
	for(var CJ in (CN||[])){if(!!CN[CJ]){var CM=CN[CJ]
	if(CM.k===CK.k){if(mstrApp.isAppStatePause&&mstrApp.isAppStatePause()&&CN[CJ]&&CK.defn&&CK.defn.t===B3.SELECTOR){if(!CK.data){CK.data={}
	}BM(CK.data,CN[CJ])
	}CN[CJ]=CK.data
	}}}},CA=function(CO,CJ,CI){var CN=B7[CO]
	if(B6){var CM=mstrmojo.all[CO]
	if(CM){var CK=CN.k,CL=B6[CK]
	if(CL){if(!Ag.isEmpty(CL.exclude)){Ag.copy(CJ.data,CN.data)
	}else{CJ.data=Ag.copyProps(CL.serialized.split("
	"),CJ.data,CN.data)
	}}}}Bd(CJ,B7)
	CE(CJ,CI)
	}
	function CD(Ca,Cg,CJ,CM){var CP=false,CW=this.getChildren(Ca,true),CU
	if(!CW.length){return 
	}if(CJ){CU=mstrmojo.all[Ca.id]
	CP=!Ca.id||!!CU
	}var CO=Ca.defn,CK=Ca.data,Cc
	if(CO&&CO.t===B3.PANELSTACK&&CO.od){Cc=CK.selKey
	}var Cb,CY=false,CN=Ag.walk("defn.t",CU)===B3.PANELSTACK,CQ
	for(Cb in CW){var CX=CW[Cb],CZ=CX.id,CL=null,Cd,CT=CX.k
	if(Cg){CQ=this.extractChildren(Cg)
	if(CQ){var Ce=Bg.find(CQ,"k",CT)
	Cd=Ce>=0?CQ[Ce]:null
	if(!Cd){CQ.push(CX.data)
	if(CF.hasOwnProperty(CT)&&Ag.walk("defn.t",CU)===B3.PANEL){CY=true
	}}}else{Ag.copy(Ca.data,Cg)
	if(CF.hasOwnProperty(CT)&&Ag.walk("defn.t",CU)===B3.PANEL){CY=true
	}}}if(mstrmojo.all[CZ]){CP=true
	}if(CF.hasOwnProperty(CT)){if(BE.call(this,CT)&&AI(CX.data,B5)){CA(CZ,CX,Cg)
	var Ch=this.getInfoWinByKey(CT)
	if(!CM&&Ch){CH.ifws[CT]=Ch.id
	}}CL=CT
	if(CP){if(Cc&&Cc!==CT){continue
	}if(!CM){CH.tgts[CZ]=true
	}var CI=CU&&CU.defn,Cf=CI&&CI.t,CS=CI&&CI.ck
	if(Cf===B3.SUBSECTION&&(CS&&CS.hasOwnProperty(CT))){CH.secs[CU.id]=true
	}}}if((CM||CL)&&(!Cc||Cc===CT)){CA(CZ,CX,Cg)
	CH.def[CT]=true
	if(CP){CH.upd[CZ]=true
	}}var CR=mstrmojo.all[CZ],CO=CR?Bh.getPropertyByPath(CR,"node.defn"):null
	if(mstrApp.isInVFConfigMode&&CO&&CO.iifp){var CV=this.adjustNodeId(CX.id)
	if(mstrmojo.all[CV]){CX.id=CV
	CA(CV,CX,Cg)
	CX.id=this.restoreNodeId(CV)
	CH.upd[CV]=true
	CH.tgts[CV]=true
	}else{if((CO.t===B3.GRID||CO.t===B3.GRAPH)&&CM&&CF[mstrmojo.all[CX.id].k]){CH.upd[CX.id]=true
	CH.tgts[CX.id]=true
	}}}CD.call(this,CX,Cd,CP,CM||CL)
	}if(CY){CH.changedParentPanel[CU.id]=true
	CH.upd[CU.id]=true
	}}if(CG&&CG.layouts&&CF){var B8=Bg.filterOne(CG.layouts,function(CI){return(CI.loaded)
	}),CC=this.data.layouts
	if(B8){CD.call(this,B8,CC[Bg.find(CC,"k",B8.k)],true)
	}}return CH
	},getDimensionAndPositionAction:function Bn(B6,B5,B8){var B7=this.getUnitFormatAction(B6,null,null,B8)
	Bi.call(this,B7.format,B5,3)
	return B7
	},getDimensionAction:function Bn(B6,B5,B8){var B7=this.getUnitFormatAction(B6,null,null,B8)
	Bi.call(this,B7.format,B5,2)
	return B7
	},getUnitFormatAction:function l(CD,B6,CC,B8){var CA=CD.defn,CE=(CA&&CA.t)||1,CB=CD.k,B9=[CB]
	var B5={act:"format",unitKey:CB,unitType:CE===115?521:CE,formatType:B6||1,format:CC||{}}
	if(Ag.walk("FormattingSize.LayoutXML",CC)){B5.isJson=mstrApp.supportFeature(Ad.SUPPORT_FREE_FORM_LAYOUT)
	}if(!B8){B5.partialRetrieval={nodes:B9}
	}if(CE===B3.SELECTOR){var CF=CA.ck
	B5.keyContext=CF
	B9[0]=this.getDataService().getNodeKeyFromKeyContext(CF)
	}if(CE===B3.TEXTFIELD||CE===B3.IMAGE||CE===B3.HTMLCONTAINER||CE===B3.SURVEYCONTAINER||(mstrApp.isVI&&CE===B3.SHAPE)){var B7=CD.nk||CA.fgk
	B5.fieldKey=CB
	B5.nodeKey=B7
	B5.keyContext=CE+O+B7+O+CB
	B9[0]=B7
	}return B5
	},updateUnitFormat:function Y(B6,B8,B9,CA,B5){var B7=this.getUnitFormatAction(B6,B8,B9)
	this.getDataService().submitUpdates(B7,CA,B5)
	},selectPanelDeferred:function(CA,B9,B8,B7,B6,B5){G.call(this,CA,{type:3,tks:B9,eid:B8,sid:B7||1,ck:B9,hasLoader:B6,skipServerCall:B5})
	},getSearchElemsCache:function c(){var B5=this.searchElemsCache
	if(!B5){B5=this.searchElemsCache={}
	}return B5
	},getCGBMap:function At(){var B5=Al.call(this,this.defn,this.currlaykey)
	return B5&&B5.cgbMap
	},getIfwId:function AW(B5){return B5+"_ifw"
	},isInfoWindow:function AJ(B5){return BE.call(this,B5)
	},updateDefnForSlice:function n(B5,B8,B6){var B7=B5.events||{0:B5}
	for(var B9 in B7){var CA=B7[B9]
	if(CA.refreshDefn){this.updateDefnCache(B8.defn,[CA.ctlKey])
	}}},getSliceCallback:function BT(B5){var B8=this,B9={}
	B9.dataCacheUpdate=null
	B9.tgtDefs=B5.tks?AA.call(this,B5.tks):null
	B9.orignalTargetDefs=B9.tgtDefs
	var B7=B9.tgtDefs,B6=function(CC){var CD=B7
	if(B5.disablePU){CD=AA.call(B8,B8.currlaykey)
	}AK(CD,function(CE){if(CE&&CE.set){CE.set("readyState",CC)
	}})
	},CB=this.newCallback({method:"slice",shared:B9,submission:function(){B6(BY.WAITING)
	},success:function(CD){if(!B8.checkStatus(CD)){return 
	}if(B5.disablePU){B8.loadLayout(CD,B5.isUConDS,B5.restoreIW)
	return 
	}if(CD.pukeys){B9.tgtDefs=AA.call(B8,CD.pukeys)
	}B8.updateDefnForSlice(B5,CD,B9.tgtDefs)
	B9.dataCacheUpdate=B8.updateDataCache(CD.data,B9.tgtDefs,B5&&B5.sid,CD.puFilters)
	if(typeof CD==="object"){Ag.copyProps(["bs","exopt","dty"],CD,B8)
	}var CC={name:"partialUpdate",tree:CD.data,ids:B9.dataCacheUpdate,unloadCache:B5.isUConDS}
	if(!mstrmojo.hash.isEmpty(CC.ids.ifws)){if(B5&&!B5.suppressIW&&(B5.type===B3.GRID||B5.type===B3.GRAPH)){CC.anchor=B5.anchor
	}else{CC.ids.ifws={}
	}}if(mstrApp){mstrApp.isPartialUpdate=true
	}B8.raiseEvent(CC)
	if(mstrApp){mstrApp.isPartialUpdate=false
	}},complete:function(){B6(BY.IDLE)
	}}),CA={success:function(){AK(B9.orignalTargetDefs,function(CO,CM){var CN=AO.call(B8,CM,1)
	if(!CN){if(!!B8.sdp&&!!B8.sdp[CM]){var CL=B8.getLayoutDataCache(B8.getCurrentLayoutKey())
	var CP=BG.call(B8,{k:CM,wid:1},B8.getLayoutKeyByUnitKey(CM))
	B8.raiseEvent({name:"secondaryDataSliced",key:CM,data:CL[CP].data})
	}return 
	}if(B9.dataCacheUpdate&&!B9.dataCacheUpdate.def.hasOwnProperty(CM)){if(CN.setDirty){CN.setDirty(true)
	}}else{if(parseInt(CO.t,10)===B3.PANELSTACK){CN.setDirtyChildren()
	}}})
	var CK=B5.events||{K0:B5},CG
	for(CG in CK){var CC=AO.call(B8,CK[CG].ctlKey,1)
	if(CC&&B9.dataCacheUpdate&&!B9.dataCacheUpdate.upd.hasOwnProperty(CC.id)){var CJ=(CC.children&&CC.children[0].selectedIndices)||{},CF=CC.node.data,CD=mstrmojo.DocSelector.STYLES,CE=[]
	if(CC.isDynamicAttributeSelector()){CF.exp=CC.expr
	if(!CC.expr&&Bg.find(CF.elms,"v",Bp.ELEM_ALL_ID)>=0){CE.push(Bp.ELEM_ALL)
	}}else{if(CC.style===CD.SEARCH_BOX){var CI=(CC.children&&CC.children[0].items)||[]
	Bg.forEach(CI,function(CL){CE.push(Ag.clone(CL))
	})
	}else{Ag.forEach(CJ,function(CM,CL){if(CM){CE.push(CF.elms[CL])
	}})
	}}var CH=Bg.find(CE,"v",Bp.ELEM_ALL_ID)
	if(CH>-1){CE=[CE[CH]]
	}CF.ces=CE
	CC.selIdx=CJ
	}}}}
	if(B5.isUConDS||(parseInt(B5.type,10)===B3.GRAPH&&B5.tty===1)){CB.success=function(CC){B8.controller.setData(CC,true)
	}
	return CB
	}if((parseInt(B5.type,10)===3)){return CB
	}return z.wrapMethods(CB,CA)
	},slice:function t(B5){var B6=this.getDataService(),B7=B6.newUpdateWithoutCmd()
	this.sliceDeferred(B7,B5)
	if(B7.actions&&B7.actions.length>0){B6.addSuppressData(B7.extras)
	B7.submit()
	}},sliceDeferred:function(CE,CI){var CC={}
	try{if(!CI||(!mstrmojo.dom.isAndroid&&!CI.tks&&!CI.multiSelect&&(CI.type===3||(CI.type===B3.GRAPH&&parseInt(CI.tty,10)!==1)))){return CC
	}var B8=this.getSliceCallback(CI),CR=this,CL=this.getDataService(),CH=CR.controller.view
	var CS=parseInt(CI.type,10)
	if(CS===3){if(mstrApp.isVI){var CB=this.getOwningWidgetByType(B3.PANEL,CI.src),CK=CB.getUnitByKey(CI.tks).boxContent,CG=CI.eid,CN=CG.substring(1,CG.length-1)
	var CJ={success:function(){var CT=AO.call(CR,CI.ctlKey,1),CW=(CT.children&&CT.children[0].selectedIndices)||{},CU=CT.node.data,CV=[]
	Ag.forEach(CW,function(CY,CX){if(CY){CV.push(CU.elms[CX])
	}})
	CU.ces=CV
	CT.selIdx=CW
	}}
	CK.selectPanel(CN,false,false,null,CJ)
	}else{G.call(CR,CE,CI)
	}return 
	}if(CI.multiSelect){if(CI.selectorObjects.length>0){CL.setMultiDocSelectorElements(CI.selectorObjects,CI.multiSelect,B8)
	}return 
	}if(CS===B3.GRAPH){CE.add(CL.getGraphSelectionAction(CI.src,CI.cks,CI.sid,CI.x,CI.y,(CI.tty===1),CI.w,CI.h),B8)
	if(!!CI.showLoadingIcon){CE.addExtras({config:mstrmojo.DocDataService.PROGRESS_CONFIG})
	}return 
	}var B6=CI.events||{K0:CI},CF=[],CQ,B9={config:mstrmojo.DocDataService.PROGRESS_CONFIG},CP=B9.params={},CM,B5={},B7=function(CU,CT){if(CU){B5[CT]=CU.visName
	}}
	for(CM in B6){CI=B6[CM]
	if(!CI){break
	}if(CI.hasOwnProperty("eid")){if(CI.isUConDS){CI.disablePU=true
	}if(Ap.call(this)){CI.disablePU=true
	CI.restoreIW=true
	}if(CI.eid===BA){CI.eid=""
	}CQ=CL.getSelectorElementsAction(CI)
	if(CR.sdp){B5={}
	AK(CR.sdp,B7)
	CP.sdpKeys=JSON.stringify(B5)
	}if(CI.disablePU){CP.disablePU=true
	}}else{if(CI.fromGM){CQ=CL.getSelectorFromGMAction(CI)
	}else{if(parseInt(CI.srct,10)===4||CI.fid){if(CI.fid&&Ap.call(this)){CI.disablePU=true
	}CQ=CL.getSelectorExpressionAction(CI)
	}else{if(CI.unset){CQ=CL.getUnsetSelectorAction(CI)
	}else{if(CI.dynamicSelection){CQ=CL.getDynamicSelectionAction(CI)
	}else{if(CI.expr){CQ=CL.getAttributeSelectorExpressionAction(CI)
	}else{if(parseInt(CI.ct,10)===6){CQ=Bg.isArray(CI.ck)?CL.getCompoundGridMultiUnitSelectorAction(CI):CL.getMultiUnitSelectorAction(CI)
	CR.hasUnitSelector=CI.selections&&CI.selections.hasElements
	}else{CQ=CL.getSelectorIncludeAction(CI)
	}}}}}}}CF=CF.concat(CQ)
	}CE.add(CF,B8,B9)
	var CD=function(CT){CT.extras.style={params:{treesToRender:3}}
	CT.callback=z.wrapMethods({success:function CU(CV){CR.partialUpdate(CV.data,CR.getUnitDefinitions(CI.cgb),CV.defn,CI.cgb,CV.puFilters)
	}},CT.callback)
	return CT
	}
	if(CI.isNavigation){var CA=(CH._layouts||[]).filter(function(CT){return CT.k===CI.layoutKey
	})[0]
	if(CA){if(!CH.showLayout(CA,null,CE,CI.panelKey)){CE=CD(CE)
	CH.showPanel(CI.panelKey,CI.layoutKey,CE)
	}}else{CH.loadDocLayout({layoutKey:CI.layoutKey,panelKey:CI.panelKey},null,CE)
	}}else{CE=CD(CE)
	}}catch(CO){mstrmojo.err(CO)
	}},getInfoWindow:function W(B6){var B5=this.infoWindows
	return B5&&B5[B6]
	},getTargetInfoWin:function(B6){var B5=[],B7=AA.call(this,B6)
	if(B7){var B8
	for(B8 in B7){if(B7[B8]&&B7[B8].ifw){B5.push(B8)
	}}}return B5
	},getTargetInfoWinInLyt:function(B9,B8){var B5=this.getLayoutDefn(B8),B6=B5&&B5.units||[],B7=B9&&B9.split(O)
	return Bg.filterOne(B7,function(CA){return B6[CA]&&B6[CA].ifw
	})
	},cleanInfoWindowCache:function BN(){this.infoWinByKey={}
	},addInfoWinByKey:function B0(B6,B5){if(!this.infoWinByKey){this.infoWinByKey={}
	}if(!this.infoWinByKey[B6]){this.infoWinByKey[B6]=[B5]
	return 
	}if(Bg.find(this.infoWinByKey[B6],"id",B5.id)===-1){this.infoWinByKey[B6].push(B5)
	}},getInfoWinByKey:function AB(B7,B5,CA){var B9=null,B6=this.getCurrentLayoutKey(),B8=this.infoWinByKey
	if(B8&&B8[B7]){Bg.forEach(B8[B7],function(CB){var CC=CB&&CB.id
	if(CC&&CC.indexOf(B7)>-1&&CC.indexOf(B6)>-1){if(!B5||(CA&&B8[B7].length===1)||CC.indexOf("*x"+B5)>-1){B9=CB
	return false
	}}})
	}return B9
	},showInfoWin:function K(B9,B8,B6,CA,CC,B5,CB){var B7=this.getInfoWinByKey(B9,B5,CB)
	if(B7===null){return 
	}this.raiseEvent({name:"showInfoWin",psId:B7.id,psKey:B7.k,anchor:B8,anchorOrientation:B6,anchorPosition:CC,invalidate:CA})
	},getSelectedXtabStyles:function I(B7){var B6=B7||this.currlaykey
	var B9={}
	var B5=this.data&&this.data.layouts,B8
	for(B8 in B5){if(B5[B8].k===B6){B9=B5[B8].xtabStyles
	break
	}}return B9
	},downloadGridData:function BZ(CA,CB){var B8=this,B7=CA.xtabId,B6=CA.memo,B9=mstrmojo.all[B7],B5=this.newCallback({success:function(CJ){function CC(CN,CP){var CQ=B8.getChildren(CN,true),CO=CQ.length,CM
	for(CM=0
	CM<CO
	CM++){var CR=CQ[CM]
	if(CP===CR.id){return CR
	}var CL=CC(CR,CP)
	if(CL){return CL
	}}return null
	}var CG=Al.call(B8,CJ.data,B8.currlaykey)
	if(CG){if(B8.restoreNodeId){B7=B8.restoreNodeId(B7)
	}var CF=CC(CG,B7)
	if(CF){mstrmojo.models.template.DataInterface.inflateGridData(CF.data)
	if(B9){B9.dataDownloaded(CF,B6)
	}}var CI=CG.xtabStyles
	if(CI){B8.raiseEvent({name:"updateStyles",key:CG.k,updatedStyles:CI})
	}}var CH=j.call(B8,B8.defn,B8.currlaykey,CA.nodeKey)
	if(CH&&CH.t===B3.GRIDGRAPH&&B6.recalculating){var CE=B9.parent,CK=CE&&CE.getGraphWidget()
	if(CK&&CE.updateGraph){CE.updateGraph(CC(CG,CK.id))
	}}if(CJ.pukeys){var CD=AA.call(B8,CJ.pukeys)
	delete CD[CA.nodeKey]
	if(!Ag.isEmpty(CD)){B8.partialUpdate(CJ.data,CD)
	}}},failure:function(CC){if(B9.dataDownloadErr){B9.dataDownloadErr(CC)
	}else{mstrmojo.emptyFn()
	}}})
	this.getDataService().downloadGridData(CA,z.wrapMethods(B5,CB))
	},getFixedHeaders:function(B6,B5){return Bs.call(this,B6,B5,[B3.PAGEHEADER],true)
	},getFixedFooters:function(B6,B5){return Bs.call(this,B6,B5,[B3.PAGEFOOTER],true)
	},getNonFixedSections:function(B6,B5){return Bs.call(this,B6,B5,[B3.PAGEHEADER,B3.PAGEFOOTER],false)
	},addAutoWidthID:function A9(B7){var B6=this.aws||{},B5=B6[this.currlaykey]||[]
	B5.push(B7)
	B6[this.currlaykey]=B5
	this.aws=B6
	},getAutoWidthIDs:function AL(){var B7=this.aws,B5=this.currlaykey
	var B6=B7&&B7[B5]
	if(B6){delete B7[B5]
	}return B6
	},getTransactionUpdates:function AX(B5){return this.txDiscardTargets?"":Bo.call(this,B5)
	},clearTransactionUpdates:function Ae(B5){this.clearTxDeltaUpdate(B5)
	},resetTransactionUpdates:function B4(B5){var B6=this.pendingUpdate,B7=this.delta
	if(B6&&B6[B5]){AK(B6[B5],function(B8,B9){if(B7&&!B7[B9]){B7[B9]=B8
	}})
	delete B6[B5]
	}},transactionUpdate:function BS(B7,B6){if(!B7.data){return null
	}var B9
	if(B6&&B6.tks){B9=AA.call(this,B6.tks)
	}if(B7.pukeys){B9=AA.call(this,B7.pukeys)
	var CA
	for(CA in B9){if(B9[CA]&&B9[CA].cek){B9[CA].cek=null
	}}}if(B7.txrcd){this.txrcd=B7.txrcd
	}else{delete this.txrcd
	}var B8=this.updateDataCache(B7.data,B9,B6&&B6.sid),B5={name:"partialUpdate",tree:B7.data,ids:B8}
	if(!Ag.isEmpty(B8.ifws)){if(B6&&B6.type===B3.GRID){B5.anchor=B6.anchor
	}else{B8.ifws={}
	}}this.raiseEvent(B5)
	return B8
	},deltaUpdate:function BR(B5){var B6=this.delta
	if(!B6){B6=this.delta={}
	}B6[B5.id]=B5
	},clearTxDeltaUpdate:function BI(B6){var B9=this.txDiscardTargets,B5=!B9,B8=this.pendingUpdate,B7=this
	if(!B5){AK(B9,function(CA,CB){if(B7.delta&&B7.delta[CB]){B7.delta[CB].clear()
	delete B7.delta[CB]
	}})
	}if(B8&&B8[B6]){AK(B8[B6],function(CA){CA.clear()
	})
	delete this.pendingUpdate[B6]
	}},sendTransactionActions:function AE(B6,B5,B8){var B7=this
	mstrmojo.mask.show("Running")
	if(!B8){B8={success:function(B9){B7.transactionUpdate(B9)
	}}
	}B7.getDataService().sendTransactionActions({keyContext:B6,actions:B5,txrcd:this.txrcd},z.wrapMethods(B8,{complete:function(){mstrmojo.mask.hide()
	}}))
	},sendTransactionUpdates:function b(B5){var B7=this.getSliceCallback(B5),B6=this.getDataService()
	B6.submitUpdates([B6.getUpdateTransactionAction(B5)],B7)
	},addSDP:function Ao(B6,B5){if(!B6||!B5){return 
	}if(!this.sdp){this.sdp={}
	}this.sdp[B6]={k:B5.k,visName:B5.visName}
	},removeSDP:function AQ(B5){if(!B5||!this.sdp||!this.sdp[B5]){return 
	}delete this.sdp[B5]
	},getUpdateColorMapCallback:function x(){var B5=this
	return{success:function(B6){B5.defn.epm=B6.defn&&B6.defn.epm
	BF.call(B5)
	B5.raiseEvent({name:"colorMapChanged"})
	}}
	},getUpdateThemePaletteCallbackHandler:function f(B5){var B6=this
	return{success:function(B7){B6.thm=B7.thm
	B6.plt=B7.plt
	B6.defmts=B7.defmts
	BF.call(B6,!B5)
	B6.layoutstyle=B7.layoutstyle
	}}
	},getUpdateThemePaletteCallback:function AM(B7){var B8=this,B5,B6
	if(mstrApp.isInVFConfigMode){mstrApp.requireRestoreVFConfigMode=true
	B5=B8.getVIMap().getComponent(R)
	B6=mstrApp.getRootController()
	mstrApp.isInVFConfigPage=false
	B6.view.closeInlineDialog()
	B8.destroyVisualiztionselector()
	B6.restorePanelStatus(B5)
	B6.maskMenuToolbar(false)
	}return this.getUpdateThemePaletteCallbackHandler(B7)
	},getCurrentPaletteColors:function U(){return(this.plt&&this.plt.colors)||Aa
	},getCurrentPaletteId:function Bf(){return this.plt&&this.plt.did
	},getCurrentDefaultPaletteId:function Av(){return(this.thm&&this.thm.dplt)||A8
	},getCurrentLayoutStyle:function Ab(){return this.layoutstyle||Aj
	},getColorBy:function(CB,B5){var B9=B5.map(function(CD,CC){return{levelID:CB[CC].toString(),elemID:CD}
	})
	if(B9&&B9.length>1){AY(B9)
	}var CA=AD(B9),B8=a(B9),B7=BJ[CA]
	if(!B7){B7=BJ[CA]={_currentColorIdx:0}
	}if(!B7[B8]){var B6=this.getCurrentPaletteColors()
	B7[B8]=B6[B7._currentColorIdx]
	B7._currentColorIdx=(B7._currentColorIdx+1)%B6.length
	}if(An[CA]&&An[CA][B8]){return{color:An[CA][B8].color,isManual:true}
	}return{color:B7[B8],isManual:false}
	},getZoomFactor:function q(){return this.getCurrentLayoutDef().zf||1
	},getZoomProps:function BV(){return{dpi:this.dpi,zf:this.getZoomFactor()}
	},clearAllSelectionAndHighlightCache:function(){m.clearAllSelectionsCache()
	BH.clearAllHighlightsCache()
	},executeLink:function H(B5,B7,B9){if(B5.indexOf("prevMsgID")>0){B5=BP(B5,/prevMsgID=0($|&)/g,"prevMsgID="+this.mid)
	}if(B5.indexOf("originMessageID")>0){B5=BP(B5,/originMessageID=[a-zA-Z0-9]*($|&)/g,"originMessageID="+this.mid)
	}B5=mstrmojo.addCSRFTokenToURL(B5)
	if(B5.indexOf(mstrApp.name+"=")===-1&&!mstrmojo.isUrlExternal(B5)){var B8=mstrApp.servletState||mstrConfig.servletState||""
	var B6=mstrApp.name+"="+window.encodeURIComponent(B8)
	if(B5.indexOf("?")>-1){if(B5.charAt(B5.length-1)!=="&"){B5+="&"
	}}else{B5+="?"
	}B5+=B6
	}this.controller.onLink(this,{url:B5,target:B7,src:B9||null,submitAsPost:!mstrmojo.isUrlExternal(B5)})
	},getDatasetUnits:function Bk(B6,B5,B8,CA){var B9=this.datasets,B7=[]
	Ag.keyarray(B9).forEach(function(CC){if(!B8||CC===B8){var CD=B9[CC],CB=CD,CE=[]
	B6.forEach(function(CF){if(CA!==undefined){CB=CD.tables[CA]
	}(CB[CF]||[]).forEach(function(CG){if(!B5||B5(CG)){CE.push(CG)
	}})
	})
	B7=B7.concat(CE.map(function(CF){return mstrmojo.hash.copyProps(["did","attId","n","t","st","ndetype","formType","dt","f","hide","usedInDropZones","card","lock","fs","lvfs"],CF,{ds:CD.name,dsId:CC,dm:!!CF.um,da:!!CF.da,de:!!CF.de})
	}))
	}})
	return B7
	},getMapLayerKeys:function AT(B5){if(B5&&B5.getSdpKeyArr){return B5.getSdpKeyArr()
	}return[]
	},getDeleteMapLayersActions:function BU(B7){var B5,B8=[],B6=this
	(B7||[]).forEach(function(B9){B5=B6.getLayoutUnitDefn(B9)
	B8.push({act:"removeUnit",unitKey:B9,unitType:(B5&&B5.t)||522})
	})
	return B8
	},syncLayerDefn:function o(B9,B7,B6){var B8=this.getCurrentLayoutDef(),B5=(B8&&B8.units)||{}
	(B7||[]).forEach(function(CA){if(B5[CA]){if(B6){B5[CA]._isDeleted=true
	}else{delete B5[CA]._isDeleted
	}}})
	if(B6){mstrApp.primaryScdpMap[B9]=[]
	}else{mstrApp.primaryScdpMap[B9]=B7
	}},getFormatSDPAction:function BB(B7,B6){var B5={FormattingWidget:{SecondaryDataProviders:B6.join(",")}}
	return this.getUnitFormatAction(B7,1,B5,true)
	},addMapLayerActions:function A2(CI,CA,CD,CC){var CE=this.getNextKey(),B8=this.getPanel().k,CH=CI.scriptClass==="mstrmojo.mapbox.VisMapbox",B6=CH?AG.MAPBOX:AG.GOOGLE_MAP,B5=CH?e.MAPBOX:e.GOOGLEMAP,CG=this.getWidgetClassNameByStyle(B6,B5),CF=this.getMapLayerKeys(CI),B7=CI.defn.tt,CB={k:CE,defn:{t:521}},B9={FormattingAppearance:{Visible:0,Name:CC}}
	CA.push(this.getCopyEmptyTemplateAction(CE,B8))
	CA.push({act:"updateTemplate",keyContext:CE,actions:[{act:"createDefaultDropZones",nodeKey:CE,treeType:B7,datasetType:3,widgetType:B5}]})
	CA.push(this.getUnitChangeVizAction(B6,CG,CB,CD,B9))
	CA.push({act:"changeGridDisplayMode",nodeKey:CE,displayMode:1})
	CA.push(this.getFormatSDPAction(CI,CF.concat(CE)))
	return CE
	},removeMapLayerActions:function r(B7,B6,B8){var B5=this.getLayoutUnitDefn(B6)
	B8.push({act:"removeUnit",unitKey:B6,unitType:(B5&&B5.t)||522})
	B8.push(this.getFormatSDPAction(B7,this.getMapLayerKeys(B7)))
	},removeGeometryInfoActions:function B1(B8,B5){var CC=B8.zonesModel.getZoneModelByZoneId(Bu.Geometry),CB=CC&&CC.items&&CC.items[0],B6
	if(CB){if(CB.fs){var B7=v.getGeometryForm(CB)
	if(B7){if(CB.fs.length===1){B6=[{act:"removeDropZoneUnit",zoneId:Bu.Geometry,unitId:CB.did,unitType:CB.t}]
	}else{B6=[{act:"removeForm",unitId:CB.did,unitType:B7.t,attFormId:B7.fid}]
	}}}else{var CA=B8.zonesModel.getZoneModelByZoneId(Bu.GeoAttribute),B9=CA&&CA.items&&CA.items[0]
	B6=[{act:"removeForm",unitId:B9.did,unitType:CB.t,attFormId:CB.did}]
	}if(B6){B5.push({act:"updateTemplate",keyContext:B8.k,actions:B6})
	}}return B5
	},getExtraActionsForChangeMapViz:function d(B8,B7,CC){var B9=B8.parent,CA,B6=this,CB=z.safeCall("getSelectedIFW",B9)(),B5=B6.isFilterConditionPassed(CB)
	if(B5){CC=CC.concat(B6.passFilterContextToInfoWindowHandler(CB,false).actions)
	}if(B7&&B7.length>0){Bg.forEach(B7,function(CD){if(!B8.isPrimaryKey(CD)){CA=B6.clearVisAsFilterActionForMapLayer(B9,B8.fnGetWidget(CD),true)
	if(CA&&CA.actions){CC=CC.concat(CA.actions)
	}}})
	CC=CC.concat(this.getDeleteMapLayersActions(B7))
	CC.push(this.getFormatSDPAction(B8,[]))
	this.syncLayerDefn(B8.k,B7,true)
	}return CC
	},isMapLayerNode:function Ar(B6){var B5=false
	Ag.forEach(mstrApp.primaryScdpMap,function(B7){if(B7.indexOf(B6)>=0){B5=true
	return false
	}})
	return B5
	},getHostKeyByNodeKey:function A7(B6){var B5=B6
	Ag.forEach(mstrApp.primaryScdpMap,function(B8,B7){if(B8.indexOf(B6)>=0){B5=B7
	return false
	}})
	return B5
	},getMapLayersDataByHostKey:function P(CB){var B7={},CA,B9=this,B8=mstrApp.primaryScdpMap[CB],B6=this.getCurrentLayoutKey(),B5=this.getLayoutDataCache(B6)
	Bg.forEach(B8,function(CC){CA=B5[BG.call(B9,{k:CC,wid:1},B6)]
	B7[CC]=CA&&CA.data
	})
	return B7
	},getNodeDataByKey:function Aw(B6,B7){var B8=B7||this.getLayoutKeyByUnitKey(B6),B5=this.getLayoutDataCache(B8)
	return B5&&B5[BG.call(this,{k:B6,wid:1},B8)]
	},getMapLayerDataByLayerKey:function Aw(B5){var B6=this.getNodeDataByKey(B5)
	return B6&&B6.data
	},updatePrimaryScdpMap:function BW(B9,B7,B6){var B5,B8=mstrApp.primaryScdpMap[B9]
	if(!B8){B8=mstrApp.primaryScdpMap[B9]=[]
	}B5=B8.indexOf(B7)
	if(B6&&B5<0){B8.push(B7)
	}else{if(!B6&&B5>=0){B8.splice(B5,1)
	}}},updateWidgetsProps:function N(){this.raiseEvent({name:"updWgtsProps"})
	},restoreVFConfigMode:function Ah(){var B5=this
	return{success:function(){if(mstrApp.requireRestoreVFConfigMode){mstrApp.requireRestoreVFConfigMode=false
	var B9=B5,B6=mstrApp.isVFEditingMode,B8=mstrApp.restoreVFKey,B7=mstrApp.restoreVFTitle
	B9.checkLargeItemsForVisFilter(B8,function(){var CA=B9.addVisFilterContainer(),CD=B9.getSelectedViUnit(),CC
	B9.oldSelectedVizBoxId=CD?CD.id:null
	mstrApp.isInVFConfigMode=true
	CC=B9.insertVizBox(B8,CA,{})
	B9.controller.rootCtrl.initPanelStautsInConfigMode()
	B9.selectVIUnit(CC.id,true,{isAddAction:true})
	mstrApp.getRootController().enterVizFilterConfigMode(B7,B6)
	if(B6===false){mstrApp.restoreVFCreate=true
	var CB=mstrmojo.all.visualizationFilterToolbar
	CB.toggleSaveBtn(mstrApp.isEnableSaveBtn)
	}})
	}}}
	},getWidgetClassNameByStyle:function A0(B7,B6){var B5=mstrmojo.ExpressVisList.findWidgetName(B7)||A6[B7]
	if(!B5&&parseInt(B6)===e.CUSTOM){B5=AZ
	}return B5||""
	},clearColorByMap:function p(){BJ={}
	},shouldEncodeHtmlContent:function AP(){if(mstrApp.supportFeature){if(this.allowHtmlContent===undefined){this.allowHtmlContent=mstrApp.supportFeature(Ad.ENV_ALLOWS_CUSTOM_HTML)
	}return !this.allowHtmlContent||this.encodeHtmlContent
	}return this.encodeHtmlContent
	}})
	mstrmojo.DocModel.fnBuildId=BG
	mstrmojo.DocModel.fnGetWidget=AO
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Doc","mstrmojo.dom","mstrmojo.array","mstrmojo.ExpressDocBuilder","mstrmojo.ToolBar","mstrmojo.OIVMPage","mstrmojo.ToolBarBuilder","mstrmojo.TabContainer","mstrmojo.ScrollingTabStrip","mstrmojo.ToolBarModel","mstrmojo.OIVMDocController","mstrmojo._IsWebApp","mstrmojo.DocModel","mstrmojo.vi.enums.EnumHiddenSections")
	var G=mstrmojo.array,F=mstrmojo.vi.enums.EnumHiddenSections
	var M=mstrmojo.dom
	function J(){M.attachEvent(window,"keydown",function(O){var N=O.keyCode===8
	O=O||window.event
	if(N&&mstrApp.ignoreBackSpace){M.preventDefault(window,O)
	}})
	}function K(){var Q=mstrmojo.all[this.tbId],R=Q&&Q.children
	var N=G.find(R,"iconClass","tbBackPicker"),O=[]
	if(N>0){var P=R[N]
	O=P.items
	P.selectedIndex=0
	}return O
	}function I(N){return(N==="F1FED8AC42B57AC1B0E9518FED0F89D6")?"mojo-theme-dark":"mojo-theme-light"
	}mstrmojo.OIVMApp=mstrmojo.declare(mstrmojo.Obj,[mstrmojo._IsWebApp],{scriptClass:"mstrmojo.OIVMApp",enableWaitBox:true,hiddenSecState:null,hiddenSec:null,start:function B(){var U=new mstrmojo.Doc({slot:"stack"})
	this.hiddenSecState=this.setHiddenSections(this.hiddenSec)
	U.builder=new mstrmojo.ExpressDocBuilder({parent:U})
	this.docId=U.id
	mstrApp.pathInfo.tbModelData=this.tbModelData
	var Q=new mstrmojo.ToolBar({slot:"toolbar",cssClass:"mstrmojo.oivm.Sprite.grouped",builder:mstrmojo.ToolBarBuilder})
	this.tbid=Q.id
	var S=new mstrmojo.ui.pathbar.PathBar({slot:"pathbarNode",alias:"pathbar",pathInfo:mstrApp.pathInfo})
	if(mstrConfig.isDocAuthInWorkstation){S.visible=false
	}var P=new mstrmojo.OIVMPage({placeholder:this.placeholder,themeClassName:I(this.docModelData&&this.docModelData.thm&&this.docModelData.thm.id),error:this.error,children:(S.visible?[S]:[]).concat([Q,new mstrmojo.TabContainer({slot:"layout",layoutConfig:{h:{top:"auto",stack:"100%"},w:{top:"100%",stack:"100%"}},children:[new mstrmojo.ScrollingTabStrip({slot:"top",cssClass:"mstrmojo-layout-tabs",visible:false,bindings:{width:"this.parent.width"}}),U]})])})
	if(this.isSectionHidden(F.DOCKTOP)){P.layoutConfig.h.toolbar="0px"
	}if(!S.visible||this.isSectionHidden(F.PATH)){P.layoutConfig.h.pathbarNode="0px"
	}P.render()
	var W=this.docModelData
	if(W&&W.mstrerr){mstrmojo.err(W.mstrerr)
	}else{if(!this.error){Q.model=new mstrmojo.ToolBarModel(this.tbModelData)
	var O=U.model=new mstrmojo.DocModel(W),N=Q.target=U.controller=O.controller=new mstrmojo.OIVMDocController({view:U})
	N.set("model",O)
	N.start()
	if(S.visible){S.dc=N
	}mstrApp.docModel=O
	mstrmojo.hash.copy(Q.model.features,Q.target.model.features)
	mstrmojo.locales.load(function(){if(mstrConfig.isDocAuthInWorkstation){P.pathbarNode.style.display="none"
	P.toolbar.style.display="block"
	Q.buildChildren()
	}U.buildChildren()
	if(O.zt===1||O.zt===2){P.browserResized(P.getBrowserDimensions(),true)
	}if(mstrApp!==undefined&&window.mstrLocalStorage!==undefined){mstrLocalStorage.addScreenshot(mstrApp.getLastMsgRecoveryInfo(),P.layout)
	}})
	if(mstrApp.pendingMojoEditor&&mstrApp.pendingMojoEditor!==""){U["show"+mstrApp.pendingMojoEditor]()
	delete mstrApp.pendingMojoEditor
	}var R=U.model.rf
	if(R>0){U.model.controller.startAutoRefresh()
	}this.startSessionManager()
	if(O.isHTML5VI){mstrmojo.css.addClass(document.body,["html5vi"])
	}if(O.isPVPartialExecution){if(mstrApp.isDossier){mstrmojo.alert(mstrmojo.desc(15534,"Your personal view displays only a subset of your changes as the source dossier definition has been modified. Please contact your administrator for more information."))
	}else{mstrmojo.alert(mstrmojo.desc(15765,"Your personal view displays only a subset of your changes as the source document definition has been modified. Please contact your administrator for more information."))
	}}}}J.call(this)
	this.hidePageLoadingWaitBox()
	},hidePageLoadingWaitBox:function L(){var N=document.getElementById("pageLoadingWaitBox")
	if(N){N.style.display="none"
	}},setHiddenSections:function H(P){var O={docktop:F.DOCKTOP,path:F.PATH}
	var N=0
	if(P){P=P.toLowerCase()
	mstrmojo.hash.forEach(O,function(R,Q){if(P.indexOf(Q)>-1){N+=R
	}})
	}return N
	},isSectionHidden:function C(N){return this.hiddenSecState&&(this.hiddenSecState&N)===N
	},getVersion:function D(){return(this.buildVersion?"v="+this.buildVersion:"")+(this.appVersion?"&apv="+this.appVersion:"")
	},addBackButtonItem:function A(N){K.call(this).unshift(N)
	},removeBackButtonItems:function E(N){K.call(this).splice(0,N)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.expr","mstrmojo.dom","mstrmojo._HasPopup","mstrmojo.Label","mstrmojo.HTMLButton","mstrmojo.ObjectBrowser","mstrmojo.DataGrid","mstrmojo.Editor","mstrmojo.ME._MetricEditorHelper","mstrmojo.ME.ObjectInputBox","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.ME.MetricDataService","mstrmojo.ME._HasLevel","mstrmojo.ME._HasSortBy","mstrmojo.ME.FunctionInfo")
	mstrmojo.requiresDescs(629,2148,3377,9582,12173,12179,12852)
	var J=mstrmojo.hash,o=mstrmojo.array,M=mstrmojo.expr,Z=mstrmojo.dom,l=mstrmojo.ME._MetricEditorHelper,A=mstrmojo.ME.MetricDataService,f=mstrmojo.mstr.EnumDSSXMLObjectTypes,r=mstrmojo.ME.Enum.DYNAMIC_DIMTY,O=mstrmojo.ME.Enum.UI_OBJECT_TYPE
	var W,a
	var h=function(E){if(E.onmetricModify){E.onmetricModify()
	}},e=function(){if(a.updateScrollbars){a.updateScrollbars()
	}}
	var b=mstrmojo.ME.MetricToken.brackets,L=mstrmojo.ME.MetricToken.quotes,c=mstrmojo.ME.MetricToken.unquotes
	var g=function(){var E={"9C374236DD9F11D3B98100C04F2233EA":"Forecast","9C374233DD9F11D3B98100C04F2233EA":"Growth","9C374233DD9F11D3B98100C04F2233EA":"Trend","677E93B2786B11D4B82F00C04F356781":"Case",C41C34F0786B11D4B82F00C04F356781:"CaseV",B2C0FA4420C711D6AD1400C04F0423DE:"IF","8107C324DD9911D3B98100C04F2233EA":"Not"}
	return E.hasOwnProperty(this.fctOi.did)
	}
	var k=function(w){var v=w.split(",")[0],u=v.replace(/\d$/,""),E=v.replace(u,"")
	return{prefix:u,startAt:parseInt(E,10)}
	}
	var G=function(AC){var AB=function(){if(AC.isRepeated){var w=this.parent.dataGrid.ctxtBuilder.itemWidgets[this.parent.idx].labelWidget
	if(w){w.set("count",this.getSelectedObjects().length)
	}}}
	var u=a.getParamObjectTypes()
	var E={scriptClass:"mstrmojo.Table",cssClass:"funcParam",layout:[{cells:[{cssText:"width: 338px"},{}]}],children:[{scriptClass:"mstrmojo.ME.ObjectInputBox",alias:"paramInput",slot:"0,0",cssClass:"mstrmojo-ME-param",dtp:AC.dtp,isDME:a.isDME,hideEditButton:function(w){return true
	},hideDelButton:function(w){return this.isFull
	},hidePulldownButton:function(){return this.parent.dataGrid.parent.tbBrowsable
	},hideItemWidgetBrowseButton:function(){return !this.parent.dataGrid.parent.tbBrowsable
	},browsableTypes:u.concat([M.TP.FOLDER]).join(","),folderLinksContextId:17,emptyText:mstrmojo.desc(12179,"Search for #").replace("#",mstrmojo.desc(3377,"Object").toLowerCase()),getCandidatesThroughTaskCall:function AA(AD,w){AD.objectType=u.join(",")
	AD.rootFolderType=39
	AD.blockCount=this.blockCount
	mstrmojo.ME.MetricDataService.getMetricComponents(AD,w)
	},postCreate:function(AG){var AF=this.parent.dataGrid,AI=AF&&AF.parent
	this.noCache=AI.noCache
	if(!this.noCache){this.candidates=AI.getCandidates(function(AJ){return mstrmojo.array.indexOf(u,AJ.t)>-1
	})
	var w=this.candidates.items||[]
	if(a.isDME){w=a.replaceAttributeWithForms(o.filter(w,function(AJ){return o.indexOf(u,AJ.t)>-1&&AJ.st!==M.STP.NDE
	}))
	}for(var AE=0,AD=(AC.items||[]).length
	AE<AD
	AE++){var AH=AC.items[AE]
	if(AH&&AH.t===mstrmojo.ME.Enum.UI_OBJECT_TYPE.Sub_Expression){w.push(AH)
	}}this.candidates.items=w
	if(!AG){AF.candidatesListener.push(this.id)
	}}if(!AG){this.set("items",AC.items)
	}},onitemchange:function(){h(this.parent.dataGrid.parent)
	},onadd:function v(){AB.call(this)
	},onremove:function z(){AB.call(this)
	},obCfg:{folderLinksContextId:17,browsableTypes:u.concat([M.TP.FOLDER]).join(",")}}],getTokens:function(){var AF=this.paramInput.getSelectedObjects(),AG,w=AF.length,AE,AH=[],AD
	if(w>0){for(AE=0
	AE<w
	AE++){AG=AF[AE]
	if(AG.state===mstrmojo.Enum_OIB_States.VALID&&AG.did){if(AG.t===O.Sub_Expression){AH=AH.concat(AG.tks)
	}else{AD={v:b(AG.n)}
	if(AG.t===21){AD.oi=AG.oi
	AD.exv=AG.fmdid||AG.exv
	AD.extp=8
	AD.v=AG.fnm?b(AG.oi.n)+"@"+b(AG.fnm):AD.v
	}else{AD.oi=AG
	}AH.push(AD)
	}}else{AD={v:L(AC.dtp,AG.n)}
	AH.push(AD)
	}AH.push({v:mstrmojo.ME.MetricToken.argDelimiter,isDelimiter:true})
	}AH.pop()
	}return AH
	}}
	var x=E.children&&E.children[0]
	if(!AC.isRepeated){x.cssClass="mstrmojo-ME-ObjectInputBox-param singleObject noVerify"
	x.maxObjectCount=1
	}else{x.cssClass="mstrmojo-ME-ObjectInputBox-param noVerify"
	}return E
	}
	var C=function(v){var u=mstrmojo.all[W]
	var E=null
	if(v.isParam){E=u.getParamWidget(v)
	}else{switch(v&&v.dtp){case 11:E={scriptClass:"mstrmojo.Pulldown",cssClass:"bool mstrmojo-ME-Pulldown",popupCssClass:"mstrmojo-ME-Pulldown-Popup",items:[{n:"False",did:"0"},{n:"True",did:"-1"}],popupToBody:true,itemIdField:"did",postCreate:function(w){var x=this.data
	this.value=!!x.v?(x.v==="False"?0:-1):(x.dfv||0)
	},getTokens:function(){var w=this.data
	if(!A.isValEqual(this.value,w.dfv)){return[{v:w.n},{v:"=",isDelimiter:true},{v:A.isValEqual(this.value,"-1")?"True":"False"}]
	}return[]
	},onvalueChange:function(){h(this.parent.dataGrid.parent)
	}}
	break
	case -2:E=u.getBreakByWidget(v)
	break
	case -1:E=u.getSortByWidget(v)
	break
	default:E=u.getTextWidget(v)
	break
	}}E.alias="inputWidget"
	return E
	}
	var Y=function(w,E,u){var v={scriptClass:"mstrmojo.ui.List",alias:"labelWidget",cssClass:"mstrmojo-FunctionWidzard-labels",count:w.items&&w.items.length||0,buildItems:function(){var x=[],AA=this.count,AC=(w.isParam?"*":"")+":",AB=w.np
	if(AB){for(var z=0
	z<=AA
	z++){x.push({n:AB.n+(AB.startAt+z)+AC,title:w.desc||""})
	}}else{x.push({n:(w.dn||w.n)+AC,title:w.desc||""})
	}this.set("items",x)
	},postCreate:function(){this.buildItems()
	},oncountChange:function(){this.buildItems()
	}}
	return v
	}
	var P=function(x){var u=mstrmojo.all[W]
	return{scriptClass:"mstrmojo.ME.ObjectInputBox",alias:"breakByInput",cssClass:"mstrmojo-ME-breakby",isDME:u.isDME,dtp:x.dtp,emptyText:mstrmojo.desc(12179,"Search for #").replace("#",mstrmojo.desc(2148,"Attribute").toLowerCase()),folderLinksContextId:16,browsableTypes:[M.TP.FOLDER,M.TP.ATTR].join(","),getCandidatesThroughTaskCall:function w(AA,z){AA.rootFolderType=39
	AA.blockCount=AA.blockCount||this.blockCount
	mstrmojo.ME.MetricDataService.getAttributes(AA,z)
	},obCfg:{folderLinksContextId:16,browsableTypes:[M.TP.ATTR,M.TP.FOLDER].join(",")},postCreate:function(AB){var z=this.parent.dataGrid,AC=z&&z.parent
	this.noCache=AC.noCache
	if(!this.noCache){this.candidates=AC.getCandidates(function(AF){return AF.t===f.Attribute||AF.t===f.Consolidation
	})
	if(this.isDME){this.candidates.items=r.getItems("breakby").concat(this.candidates.items)
	}if(!AB){z.candidatesListener.push(this.id)
	}}if(!AB){var AA=x.items||[],AD=u.oi.tks,AE=!AD.met||AD.items&&(AD.items.length===0)
	if(AE&&this.isDME){AA.push(r.getAutomaticDimtyObject())
	}this.set("items",AA)
	}},onitemchange:function(){h(this.parent.dataGrid.parent)
	},onadd:function E(){e()
	},onremove:function v(){e()
	},hidePulldownButton:function(){return this.parent.dataGrid.parent.tbBrowsable
	},hideItemWidgetBrowseButton:function(){return !this.parent.dataGrid.parent.tbBrowsable
	},getTokens:function(){var AC=this.getSelectedObjects(),z=AC.length,AB,AE=[]
	if(z>0){AE.push({v:"BreakBy"})
	AE.push({v:"=",isDelimiter:true})
	AE.push({v:"{",isDelimiter:true})
	for(AB=0
	AB<z
	AB++){var AD=AC[AB],AA
	if(l.isDimty(AD.n)){AA={v:AD.n}
	}else{if(/^@/.test(AD.did)){AA={v:AD.did}
	}else{AA={v:b(AD.n),oi:AD}
	}}AE.push(AA)
	if(AB!==(z-1)){AE.push({v:",",isDelimiter:true})
	}}AE.push({v:"}",isDelimiter:true})
	}return AE
	}}
	}
	var F=function(w,x){var u=w.length,E
	for(E=0
	E<u
	E++){var v=mstrmojo.array.find(w[E].fns,"n",x)
	if(v>-1){return J.clone(w[E].fns[v])
	}}return null
	}
	var S=function(v,w){var u,E=w.length,x=v&&v.length
	if(x>0){for(u=0
	u<x-1
	u++){v[u].items=[w[u]]
	v[u].dynamicVerify=true
	}v[x-1].items=[]
	for(u=x-1
	u<E
	u++){v[x-1].items.push(w[u])
	v[x-1].dynamicVerify=true
	}}return v
	}
	var N=function(u,v,z){var x={items:[]},w={301:"}",302:")"}[z],E=v[++u]
	while(E){if(E.oi){if(z==302){E.oi.selFrm=E.exv
	E.oi.asc=E.asc
	}x.items.push(E.oi)
	}if((E=v[++u]).v===w){break
	}}return x
	}
	mstrmojo.ME.FunctionWizard=mstrmojo.declare(mstrmojo.Editor,[mstrmojo.ME._MetricEditorHelper,mstrmojo.ME._HasLevel,mstrmojo.ME._HasSortBy],{scriptClass:"mstrmojo.ME.FunctionWizard",cssClass:"mstrmojo-Editor-me mstrmojo-FunctionWidzard",title:mstrmojo.desc(9582,"Function Editor: "),help:"Function_Arguments_dialog_box.htm",fctOi:null,fctArgs:null,fctArgsDataGridCssClass:"functionArgs",fctSyntax:"",fctDesc:"",hiddenPs:[],bindings:{candidates:"this.opener.candidates"},getParamObjectTypes:function j(){var E=[M.TP.METRIC,M.TP.FACT]
	if(this.isAgg(this.fctOi)){E.push(M.TP.ATTR)
	}return E
	},getCandidates:function R(v){var u=this.candidates,E
	if(u){E=mstrmojo.array.filter(u.items,v)
	return{items:E,isComplete:u.isComplete}
	}return{}
	},_set_candidates:function(AA,u){this.candidates=u
	if(this.hasRendered&&this.visible){var x=this.argsGrid,z=x.candidatesListener,E=z.length,w
	for(w=0
	w<E
	w++){if(mstrmojo.all[z[w]]){mstrmojo.all[z[w]].postCreate(true)
	}}}if(this._super){this._super(AA,u)
	}return true
	},postProcessParamsFromToken:function(w){if(this.refOi&&this.candidates){var x=this.refOi.did
	this.refOi=mstrmojo.array.filterOne(this.candidates.items,function(AC){return AC.did===x
	})
	}var AB=[],z,v,u=w.pars,E=(u&&u.length)||0
	for(v=0
	v<E
	v++){z=J.copy(u[v])
	z.isParam=true
	if(v===0&&this.refOi){z.items=[this.refOi]
	this.refOi=null
	}AB.push(z)
	}if(w.rpc>0&&!g.call(this)){z.isRepeated=true
	var AA=k(z.n)
	z.np={n:AA.prefix,startAt:AA.startAt||1}
	}return AB
	},postProcessProsFromToken:function(w){var x=[],v,E=(w.pros&&w.pros.length)||0,u=function(z){if(o.indexOf(mstrmojo.ME.Enum.NonExposableParams,z.n)>-1){z.itemCss="hidden"
	}return z
	}
	for(v=0
	v<E
	v++){x.push(u(J.copy(w.pros[v])))
	}return x
	},buildSyntax:function(v){var u=[],w,E
	u.push(v.n)
	u.push("(")
	E=(v.pars&&v.pars.length)||0
	for(w=0
	w<E
	w++){u.push(v.pars[w].n)
	if(w!==(E-1)){u.push(", ")
	}}u.push(")")
	return u
	},onOpen:function(){W=this.id
	this._setupCandidatesCache()
	var w=this.getArgsFromTokens()
	var z=this,x=w||this.fctOi
	this.descriptionEditBox.descriptionInput.set("value",this.oi.dsc)
	var E=this.buildSyntax(x),AA=this.postProcessParamsFromToken(x)
	AA=AA.concat(this.postProcessProsFromToken(x))
	if(x.sqt===5){AA.push({n:"BreakBy",dn:mstrmojo.desc(12173,"Break By"),dtp:-2,desc:"Break By is a parameter representing the break by levels for this function.",items:x.bb&&x.bb.items})
	}if(x.ios){AA.push({n:"SortBy",dn:mstrmojo.desc(12852,"Sort By"),dtp:-1,desc:"Sort By is a parameter representing the sort by levels for this function.",items:x.sb&&x.sb.items})
	}AA=AA.concat(this.hiddenPs||[])
	z.set("fctArgs",AA)
	z.set("fctSyntax",E.join(""))
	z.set("fctDesc",mstrmojo.ME.FunctionInfo.getDescAndExample(this.fctOi).desc+"  "+mstrmojo.ME.MetricDataService.getFunctionHelpTopic(x.h))
	z.set("title",this.insertMode?x.n:mstrmojo.desc(9582,"Function Editor: ")+" "+this.oi.n)
	z.set("fctName",x.n)
	this.raiseEvent({name:"fctDidChange",did:this.fctOi.did})
	this.set("isAggFunction",this.isAgg())
	this.set("ios",x.ios)
	var v=J.walk("functionDescLabel.domNode",this)
	if(v){Z.recursiveReplaceInlineEventListeners(v,false,null)
	}if(this._super){this._super()
	}if(this.isAggFunction){var u=this.argsGrid.ctxtBuilder.itemWidgets
	if(u&&u.length>0){this.metricLCT.set("labelWidth",u[0].labelWidget&&u[0].labelWidget.domNode.clientWidth+"px")
	}}},getArgsFromTokens:function Q(){if(!this.oi||this.oi.tks.items.length===0){return null
	}var w={},z=this.oi.tks.items,AN=z.length,AI=[],u=[],AH=0,E=[],AM
	for(AM=0
	AM<AN
	AM++){var AB=z[AM],v=AB.tp,AP=AB.sctt
	if(mstrmojo.ME.MetricToken.isDelimiter(AB.v)&&(AB.v!=="("&&AB.v!==")")||AB.v==="&gt
	"||AB.v==="&lt
	"){continue
	}switch(AP){case 65536:w.n=AB.oi?AB.oi.n:AB.v
	var AC=this.fctOi=F(this.functions,w.n)
	AI=AC.pars||[]
	u=AC.pros||[]
	w.rpc=AC.rpc
	w.sqt=AC.sqt
	w.ios=AC.ios
	break
	case 196608:var AL=[],AG=[],AE,AK,AJ
	AB=z[++AM]
	while(AB&&(AB.sctt===196608||AB.sctt===196609)){if(AB.sctt===196608){AG.push(AB)
	}else{AL.push(AG)
	AG=[]
	}AB=z[++AM]
	}AL.push(AG)
	AL[AL.length-1].pop()
	for(AJ=0
	AJ<AL.length
	AJ++){AG=AL[AJ]
	var x={n:""}
	AE=AG.length
	if(AE===1){AB=AG[0]
	if(AB.extp){x={n:AB.v,did:AB.oi.did+"@"+AB.exv,exv:AB.exv,extp:AB.extp,oi:AB.oi,t:21,tk:AB}
	}else{var AF=Math.min(AI.length-1,E.length),AO=c(AB,AB.v,AI[AF].dtp)
	x=AB.oi||{n:AO,v:AO,t:O.Sub_Expression}
	}}else{for(AK=0
	AK<AE
	AK++){x.n+=AG[AK].v+" "
	}x.v=x.n
	x.did=x.n
	x.t=O.Sub_Expression
	x.tks=AG
	}E.push(x)
	}break
	case 131072:if(v==301){var AD={}
	AB=z[++AM]
	while(AB){if(AB.tp!=282){if(AB.oi){AD.items=AD.items||[]
	AD.items.push(AB.oi)
	}else{if(AB.tp===64){AD.items=AD.items||[]
	var AA=AB.v+z[++AM].v
	AB=z[AM+1]
	if(AB.tp===43||AB.tp===45){AA+=z[++AM].v
	AA+=z[++AM].v
	}AD.items.push(r.getDimtyObject(AA,this.isDME))
	}}}if((AB=z[++AM])["v"]==="}"){break
	}}w.bb=AD
	}else{if(v==302){w.sb={}
	}else{if(v==259){mstrmojo.array.forEach(u,function(AS){if(AS.n===z[AM].v){AM=AM+2
	var AR=z[AM],AQ=[]
	do{AQ.push(z[AM++].v)
	if(z[AM].sctt===131072&&z[AM].tp===62||z[AM].sctt===131073){break
	}}while(true)
	AQ=AQ.join("")
	AQ=c(AR,AQ,AS.dtp)
	AS.v=AQ
	return false
	}})
	}}}break
	}}w.pars=S(AI,E)
	w.pros=u
	return w
	},getTokens:function H(){var x=this.argsGrid.ctxtBuilder.itemWidgets,AB=x.length,AA,AF,AC=[],v=[],AG=[],AD,z,u,E,AE=this.fctOi
	for(AA=0
	AA<AB
	AA++){AF=x[AA].inputWidget
	if(AF.data.isParam){v.push(AF.getTokens())
	}else{AC.push(AF.getTokens())
	}}AG.push({v:AE.n,oi:AE})
	AB=AC.length
	if(AB>0){E=false
	AG.push({v:"<",isDelimiter:true})
	for(AA=0
	AA<AB
	AA++){AD=AC[AA]
	u=AD.length
	if(u===0){continue
	}E=true
	for(z=0
	z<u
	z++){AG.push(AD[z])
	}AG.push({v:",",isDelimiter:true})
	}AG.pop()
	if(E){AG.push({v:">",isDelimiter:true})
	}}AB=v.length
	AG.push({v:"(",isDelimiter:true})
	E=false
	for(AA=0
	AA<AB
	AA++){AD=v[AA]
	u=AD.length
	if(u===0){continue
	}E=true
	for(z=0
	z<u
	z++){AG.push(AD[z])
	}AG.push({v:mstrmojo.ME.MetricToken.argDelimiter,isDelimiter:true})
	}if(E){AG.pop()
	}AG.push({v:")",isDelimiter:true})
	for(AA=0,AB=AG.length
	AA<AB
	AA++){AG[AA].isNew=true
	}return AG
	},getMetricDefAsTokens:function t(){var E=this.getTokens()
	if(this.getLCTDefAsTokens){E=E.concat(this.getLCTDefAsTokens())
	}return E
	},handleValidation:function q(w){if(w&&!w.rjec){return 
	}var v=w&&w.rjec==="-2147214846"
	if(v){var u=w.items,x=mstrmojo.array.find(u,"sta",-1),E=u[x].v
	mstrmojo.alert('More than one object with the name "#" found. Browse to select the object or retype to select it from the search autocomplete list.'.replace("#",E))
	}else{mstrmojo.alert(w&&w.rjed)
	}},getPROPBuilder:function d(){return Y
	},getDTPBuilder:function n(){return C
	},getParamWidget:function B(E){return G(E)
	},getBreakByWidget:function U(E){return P(E)
	},getSortByWidget:function m(E){return this._super()
	},getTextWidget:function X(E){return{scriptClass:"mstrmojo.TextBox",cssClass:"mstrmojo-functionArgs-textInput",postCreate:function(u){var v=this.data
	this.value=v.v||((v.dfv||v.dfv===0)?v.dfv:"")
	},getTokens:function(){var u=this.data
	if(!mstrmojo.string.isEmpty(this.value)&&this.value!==u.dfv){return[{v:u.n},{v:"=",isDelimiter:true},{v:L(u.dtp,this.value)}]
	}return[]
	},onvalueChange:function(){h(this.parent.dataGrid.parent)
	}}
	},getDataGridRef:function D(){return{scriptClass:"mstrmojo.DataGrid",alias:"argsGrid",cssClass:this.fctArgsDataGridCssClass,makeObservable:true,banding:false,columns:[{headerText:"Property Name",dataWidgetBuilder:this.getPROPBuilder(),colCss:"name"},{headerText:"Property Type",dataWidgetBuilder:this.getDTPBuilder(),colCss:"dtp"}],postCreate:function(){this.candidatesListener=[]
	},bindings:{items:"this.parent.fctArgs"},onadd:function(){e()
	}}
	},init:function p(E){this.children=this.getChildren()
	var v=E.oi
	v.dsc=v.dsc||v.desc
	if(!v.dsc){var w=E.ide,u=J.walk("dsUnits.all",w)
	if(u){u.every(function(x){if(x.did===v.did){v.dsc=x.dsc
	return false
	}return true
	})
	}else{v.dsc=J.walk("metric.dsc",w)
	}}this._super(E)
	W=this.id
	a=this
	},isAgg:function K(E){return(E||this.fctOi||{}).sqt===1
	},getChildren:function I(){return[mstrmojo.ME._MetricEditorHelper.formatAndOptionsBarRef,mstrmojo.ME._MetricEditorHelper.nameEditBoxRef,mstrmojo.ME._MetricEditorHelper.descriptionEditBoxRef,mstrmojo.ME._MetricEditorHelper.functionNameRef,this.getDataGridRef(),mstrmojo.ME._MetricEditorHelper.enableHTMLCheckBoxRef,this.getLCTComponent(),{scriptClass:"mstrmojo.Label",slot:"buttonNode",cssClass:"mstrmojo-FE-functionSyntax",bindings:{visible:"this.parent.insertMode",text:function(){return this.parent.fctSyntax
	}}},{scriptClass:"mstrmojo.Label",slot:"buttonNode",cssClass:"mstrmojo-FE-functionDesc",allowHTML:true,alias:"functionDescLabel",bindings:{visible:"this.parent.insertMode || this.parent.simplex",text:function(){return this.parent.fctDesc
	}}},mstrmojo.ME._MetricEditorHelper.switchRef,mstrmojo.ME._MetricEditorHelper.buttonBarRef]
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ME.FunctionWizard","mstrmojo.ME._MetricEditorHelper","mstrmojo.ui._HasScroller")
	mstrmojo.requiresDescs(1058,1059,4046,4049,12853,13357,13358,13359,13360,13361)
	var K=mstrmojo.hash
	var J,C
	var G={First:"0",Last:"1",Current:"2",Previous:"3",Next:"4"},I=[{n:mstrmojo.desc(4046,"First"),did:G.First},{n:mstrmojo.desc(1058,"Previous"),did:G.Previous},{n:mstrmojo.desc(13361,"Current"),did:G.Current},{n:mstrmojo.desc(1059,"Next"),did:G.Next},{n:mstrmojo.desc(4049,"Last"),did:G.Last}],L={StartAt:-3,StopAt:-4}
	var A=function(O){var N=mstrmojo.all[J]
	var H=null
	if(O.isParam){H=N.getParamWidget(O)
	}else{switch(O&&O.dtp){case L.StartAt:case L.StopAt:H={scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-olap-type-box",children:[{scriptClass:"mstrmojo.Pulldown",alias:"winType",cssClass:"mstrmojo-olapArgs-pulldown mstrmojo-ME-Pulldown",popupCssClass:"mstrmojo-ME-Pulldown-Popup",items:{"-3":I.slice(0,4),"-4":I.slice(1)}[O.dtp],itemIdField:"did",postCreate:function(){var P=this.parent.data.type
	this.value=P.v||P.dfv
	},getTokens:function(){var P=this.parent.data.type
	if(this.value!==P.dfv){return[{v:P.n},{v:"=",isDelimiter:true},{v:this.value}]
	}return[]
	},onvalueChange:function(){C.onmetricModify()
	}},{scriptClass:"mstrmojo.ValidationTextBox",alias:"winOffset",cssClass:"mstrmojo-olap-offset",bindings:{visible:function(){return this.parent.winType.value===G.Previous||this.parent.winType.value===G.Next
	}},postCreate:function(){var P=this.parent.data.offset
	this.value=P.v||P.dfv
	},dtp:mstrmojo.expr.DTP.INTEGER,constraints:{trigger:mstrmojo.validation.TRIGGER.ONKEYUP,min:1},getTokens:function(){var P=this.parent.data.offset
	if(!mstrmojo.string.isEmpty(this.value)&&this.value!==P.dfv){return[{v:P.n},{v:"=",isDelimiter:true},{v:this.value}]
	}return[]
	}},{scriptClass:"mstrmojo.Label",bindings:{visible:function(){return this.parent.winType.value===G.Previous||this.parent.winType.value===G.Next
	},text:function(){return this.parent.winType.value===G.Previous?mstrmojo.desc(13357,"row(s) before current"):mstrmojo.desc(13358,"row(s) after current")
	}}}],getTokens:function(){var R=[],S=this.winType.getTokens(),Q=this.winOffset.getTokens(),P
	P=S.length
	if(P>0){R=R.concat(S)
	}P=Q.length
	if(P>0){R.push({v:",",isDelimiter:true})
	R=R.concat(Q)
	}return R
	}}
	break
	case -2:H=N.getBreakByWidget(O)
	break
	case -1:H=N.getSortByWidget(O)
	break
	default:H=N.getTextWidget(O)
	}}if(H){H.alias="inputWidget"
	}return H
	}
	mstrmojo.ME.OLAPEditor=mstrmojo.declare(mstrmojo.ME.FunctionWizard,[mstrmojo.ME._MetricEditorHelper,mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ME.OLAPEditor",init:function M(H){this._super(H)
	mstrmojo.css.addWidgetCssClass(this,"olap")
	J=this.id
	C=this
	},onOpen:function D(){J=this.id
	C=this
	this._super()
	var H=this.argsGrid.ctxtBuilder.itemWidgets[0].fctBox.fctPulldown
	H.set("value",this.fctOi.did)
	if(this.updateScrollbars){this.updateScrollbars()
	}},setupScrollNodes:function E(){if(!mstrmojo.dom.ISIE8){this.scrollNode=this.containerNode
	}},getPROPBuilder:function B(){return function(P){var N=null
	if(P.isParam){var O=function(){return mstrmojo.array.map(mstrmojo.ME.MetricDataService.getOLAPAggFunctions(),function(Q){Q.dn=Q.n.substring(4)
	return Q
	})
	}
	N={scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-olap-fctBox",alias:"fctBox",children:[{scriptClass:"mstrmojo.Pulldown",alias:"fctPulldown",cssClass:"mstrmojo-SME-funcs-pulldown mstrmojo-ME-Pulldown",popupCssClass:"mstrmojo-ME-Pulldown-Popup",itemIdField:"did",itemField:"dn",items:O(),onvalueChange:function(S){var U="",Z="",Y=this.selectedItem
	if(Y){Z=Y.desc+"  "+mstrmojo.ME.MetricDataService.getFunctionHelpTopic(Y.h)
	var X=Y.pars,R=[],W,Q
	R.push(Y.n)
	R.push("(")
	for(W=0,Q=X.length
	W<Q
	W++){R.push(X[W].n)
	if(W!==(Q-1)){R.push(", ")
	}}R.push(")")
	U=R.join("")
	}C.set("fctSyntax",U)
	C.set("fctDesc",Z)
	C.set("fctName",Y&&Y.n)
	C.fctOi=Y
	if(S.valueWas){C.onmetricModify()
	}C.raiseEvent({name:"fctDidChange",did:Y.did})
	}},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-SME-agg-label",text:mstrmojo.desc(12853,"of")}]}
	}else{var H=(P.dtp===-1?" sortBy":"")
	N={scriptClass:"mstrmojo.Label",markupString:'<div id="{@id}" class="mstrmojo-DataRow-text '+H+'"title="'+(P.desc||"")+'"></div>',alias:"labelWidget",text:(P.dn||P.n)+(P.isParam?"*":"")+":"}
	}return N
	}
	},getDTPBuilder:function F(){return A
	},postProcessProsFromToken:function(O){var S=[],R,N,Q=O.pros,H=(Q&&Q.length)||0,P=[]
	for(N=0
	N<H
	N++){R=K.copy(Q[N])
	switch(R.n){case"OLAPWinStType":S.push({n:mstrmojo.desc(13359,"Start At"),dtp:L.StartAt,type:K.copy(Q[N]),offset:K.copy(Q[++N])})
	break
	case"OLAPWinEndType":S.push({n:mstrmojo.desc(13360,"Stop At"),dtp:L.StopAt,type:K.copy(Q[N]),offset:K.copy(Q[++N])})
	break
	default:if(R.v!=null){P.push(R)
	}}}this.hiddenPs=P
	return S
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.expr","mstrmojo.ui._HasScroller","mstrmojo.SearchableDropDownList","mstrmojo.ME.FunctionWizard","mstrmojo.ME._DerivedMetricEditorHelper")
	mstrmojo.requiresDescs(3377,11569,12179)
	var A,C
	mstrmojo.ME.DerivedFunctionWizard=mstrmojo.declare(mstrmojo.ME.FunctionWizard,[mstrmojo.ME._DerivedMetricEditorHelper,mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ME.DerivedFunctionWizard",init:function F(G){mstrmojo.css.addWidgetCssClass(this,"dme")
	this._super(G)
	A=this.id
	C=this
	},setupScrollNodes:function E(){this.scrollNode=this.containerNode
	},onOpen:function B(){this._super()
	if(this.ide&&this.ide.action.cmd===mstrmojo.ME.ENUM.METRIC_ACTIONS.EDIT_NEW){this.dirty=true
	}if(this.updateScrollbars){this.updateScrollbars()
	}},getParamObjectTypes:function D(){var G=this.opener||{}
	return G.getValidFuncParamTypes?G.getValidFuncParamTypes(this.fctOi):this._super()
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ME.DerivedFunctionWizard","mstrmojo.ME.MetricDataService","mstrmojo.ME.AttributeEditBox","mstrmojo.expr","mstrmojo.array","mstrmojo.hash")
	var G
	var g=mstrmojo.ME.MetricDataService,W=mstrmojo.hash,N=mstrmojo.array,Y=mstrmojo.ME.AttributeEditBox.getTokenStreamXML,c=mstrmojo.expr.DTP,Q={SHOW_BAND_NAMES:-4,BANDON_UNITS:-6},B={START_END:'BandNames<ResidueName="All Others">(this@ID, "#s - #e")',BAND_NUM:'BandNames<ResidueName="All Others">(this@ID, "Band #b")',BAND_NUM_START_END:'BandNames<ResidueName="All Others">(this@ID, "Band #b: #s - #e")',NO:"No"},R=[{n:mstrmojo.desc(14145,"Start - End"),v:B.START_END},{n:mstrmojo.desc(14146,"Band #"),v:B.BAND_NUM},{n:mstrmojo.desc(14147,"Band #: Start - End"),v:B.BAND_NUM_START_END},{n:mstrmojo.desc(218,"No"),v:B.NO}],K={"8107C337DD9911D3B98100C04F2233EA":"BAND_SIZE","8107C338DD9911D3B98100C04F2233EA":"BAND_COUNT","8107C339DD9911D3B98100C04F2233EA":"BAND_POINTS"},D=function(){return[]
	}
	function a(h){return h.replace(/\s/g,"").toLowerCase()
	}function O(h){var j=[{v:"BandNames",tp:279,lv:1,oi:{did:"ACA96B1F9F99412B867045747DD88575",n:"BandNames",st:2816,t:11}},{v:"<",tp:60,lv:1},{v:"ResidueName",tp:259,lv:1},{v:"=",tp:282,lv:1},{v:'"All Others"',tp:261,lv:1},{v:">",tp:62,lv:1},{v:"(",tp:40,lv:1},{lv:1,tp:275,v:"this@ID"},{v:",",tp:44,lv:1}]
	switch(h){case B.BAND_NUM:j.push({v:'"Band #b"',tp:261,lv:1})
	break
	case B.BAND_NUM_START_END:j.push({v:'"Band #b: #s - #e"',tp:261,lv:1})
	break
	case B.START_END:j.push({v:'"#s - #e"',tp:261,lv:1})
	break
	}j.push({v:")",tp:41,lv:1})
	return j
	}function f(h){var j=""
	N.forEach(h.slice(1,-1),function(k){j+=k.v
	})
	return j
	}function J(h){if(h.t===4){return"BandOn"
	}return h.n
	}function E(h){if(h.t===4){return Q.BANDON_UNITS
	}return h.dtp
	}var C=function(h,j){return{did:"",n:"New Attribute",forms:[{n:"ID",tks:{items:[]}}]}
	}
	function U(j,h){return j.dtp===8&&j.n==="Delimiter"?'"'+h+'"':h
	}function P(l){var k=l.split(",")[0],j=k.replace(/\d$/,""),h=k.replace(j,"")
	return{prefix:j,startAt:parseInt(h,10)}
	}function L(h,j){return{scriptClass:"mstrmojo.Pulldown",cssClass:"mstrmojo-ME-Pulldown",popupCssClass:"mstrmojo-ME-Pulldown-Popup",items:h,popupToBody:true,itemIdField:"v",postCreate:function(){var k=this.data
	this.value=k.v||k.dfv
	},getTokens:j||D,onvalueChange:function(){G.set("dirty",true)
	}}
	}function I(j,l){var h=function(m){return m.inputWidget&&m.inputWidget.widgetName===l
	},k=mstrmojo.array.filterOne(j.argsGrid.ctxtBuilder.itemWidgets,h)
	return k&&k.inputWidget
	}var H=function(j){var h=null
	switch(j&&j.dtp){case Q.SHOW_BAND_NAMES:h=L(R)
	h.widgetName="bandNames"
	h.getDescTokens=function(){var k=this.selectedItem&&this.selectedItem.v
	return k===B.NO?null:O(k)
	}
	break
	case Q.BANDON_UNITS:h=G.getParamWidget(j)
	h.widgetName="bandOn"
	break
	case c.DOUBLE:case c.INTEGER:case c.VARCHAR:h=G.getTextWidget(j)
	break
	default:h=G.getParamWidget(j)
	h.onitemsChange=mstrmojo.emptyFn
	break
	}if(h){h.alias="inputWidget"
	}return h
	}
	var M=function(p,q,m,r){var n=p.did,k=p.n,h=p.dsid,j=p.forms,o={items:q},l=function(t){if(t.vs!==0){mstrmojo.alert(mstrmojo.desc(9826,"The metric definition has an error. Please correct before proceeding."),null,mstrmojo.desc(9571,"Syntax Error!"))
	return 
	}var v,u={n:"ID",formula:t.tokenXML}
	if(n){u.did=j[0].did
	v={act:"updateDA",name:k,dsid:h,attrId:n,isTokenStream:true,update:[u]}
	if(m){if(m.did&&!m.del){v.update.push(m)
	}else{if(m.did&&m.del){v.del=[{did:m.did}]
	}else{v.add=[m]
	}}}}else{v={act:"addDAToDataset",dsid:h,name:k,evFlags:1,isTokenStream:true,forms:[u].concat(m?[m]:[])}
	}r(v)
	}
	mstrmojo.ME.AttributeEditBox.validateSyntax(n,o,true,l)
	}
	var b=function(n){var m=n.forms,j=m&&m.length,l=j&&m[0],k=j&&m[1],p=N.some(l&&l.ftk,function(q){return q.oi&&K[q.oi.did]
	})
	if(!p){return false
	}if(j===1){return true
	}if(k&&k.ftk&&j===2){var h=false,o=a(f(k.ftk))
	W.forEach(B,function(q){if(a(q)===o){h=true
	return false
	}})
	return h
	}return false
	}
	mstrmojo.ME.BandingDAEditor=mstrmojo.declare(mstrmojo.ME.DerivedFunctionWizard,null,{scriptClass:"mstrmojo.ME.BandingDAEditor",ide:null,insertMode:false,init:function X(h){this._super(h)
	G=this
	},getDTPBuilder:function Z(){return H
	},getParamObjectTypes:function S(){return[mstrmojo.expr.TP.METRIC]
	},getTextWidget:function d(j){var k=P(j.n).prefix
	return{scriptClass:"mstrmojo.ValidationTextBox",emptyText:(j.dtp===c.DOUBLE||j.dtp===c.INTEGER)?mstrmojo.desc(14143,"Type a number"):"",postCreate:function(){this.value=(j.items&&j.items[0].v)||j.dfv
	},oninput:function l(m){G.set("dirty",true)
	this.createNextInputParamWidget()
	},constraints:{trigger:mstrmojo.validation.TRIGGER.ONKEYUP,min:1},dtp:j.dtp,getTokens:function(){var m=this.data
	if(!mstrmojo.string.isEmpty(this.value)&&this.value!==m.dfv){return[{v:U(m,this.value)}]
	}return[]
	},createNextInputParamWidget:function h(){var q=this.data,p=this.dataGrid,r=G._lastRpIdx
	if(!(q.isRepeated&&q.rpIdx===r)){return 
	}var n=r+1,o=k+n,m=mstrmojo.hash.copy({desc:o,n:o,items:null,dn:o,rpIdx:n},mstrmojo.hash.copy(q))
	p.items.add([m],mstrmojo.array.indexOf(p.items,q)+1)
	G._lastRpIdx=m.rpIdx
	if(G.updateScrollbars){G.updateScrollbars()
	}}}
	},onOpen:function F(){G=this
	this.oi.tks=this.oi.forms[0].tks||{items:this.oi.forms[0].ftk}
	this._super()
	if(this.updateScrollbars){this.updateScrollbars()
	}},insertOnFinish:function(){var m=mstrmojo.all.mstrDAE.attrEditBox,h=m.inputBox,l=I(this,"bandNames"),j=this.getTokens(),k=l.getDescTokens()
	h.insertTokens(j)
	if(k){m.tabstrip.addTab()
	h.insertTokens(k)
	}},validateAndSave:function A(o,n){var m=this,l=m.ide.action,h=o.forms,j=I(this,"bandNames"),q=j.getDescTokens(),k=W.copy(q?{n:"DESC",formula:Y({items:q})}:null,h[1]?{did:h[1].did}:null),p=function(t){n()
	m.ide.close()
	var r=o.did?l.onupdate:l.oncreate
	if(r){r(t)
	}}
	if(q===null&&k){k.del=true
	}M.call(m,m.oi,this.getTokens(),k,p)
	},postProcessParamsFromToken:function(l){var n=[],m,k,j=l.pars,h=(j&&j.length)||0
	for(k=0
	k<h
	k++){m=W.copy(j[k])
	m.dtp=E(m)
	m.n=J(m)
	m.isParam=true
	n.push(m)
	}m=n[n.length-1]
	if(l.rpc>0){n=n.concat(this.postProcessRepeatParam(m))
	}return n
	},postProcessRepeatParam:function e(q){var o=P(q.n),n=o.prefix,k=o.startAt||1,h=[],m,j
	q.isRepeated=true
	q.rpIdx=this._lastRpIdx=k
	q.n=n+(k++)
	var l=q.items||[]
	if(l.length>0){q.items=[l[0]]
	for(j=1
	j<=l.length
	j++){m=W.copy(q)
	m.rpIdx=k
	m.n=n+(k++)
	m.items=(j===l.length?null:[l[j]])
	h.push(m)
	}this._lastRpIdx=m.rpIdx
	}return h
	},postProcessProsFromToken:function(h){var k=[],j={dfv:B.START_END,n:"ShowBandNames",desc:mstrmojo.desc(14144,"Show band names"),dtp:Q.SHOW_BAND_NAMES}
	if(this.oi.forms.length>1){var l=a(f(this.oi.forms[1].ftk))
	W.forEach(B,function(m){if(a(m)===l){j.v=m
	return false
	}})
	}else{if(this.oi.did!==""){j.v=B.NO
	}}k.push(j)
	return k
	}})
	mstrmojo.ME.BandingDAEditor.getNewDefinition=C
	mstrmojo.ME.BandingDAEditor.showAsBandingEditor=b
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.ME.RepeatPulldownList","mstrmojo.ME.DerivedFunctionWizard","mstrmojo.ME._DerivedMetricEditorHelper","mstrmojo.RadioList")
	mstrmojo.requiresDescs(518,959,1885,1886,2789,11569,12170,12171,12172,12173,12176,12177,12179)
	var A=mstrmojo.desc
	var B=function(E){if(E.onmetricModify){E.onmetricModify()
	}}
	var D=function(E){var F={ValueList:A(2789,"Rank"),ASC:A(12170,"Rank Order"),ByValue:A(12171,"Display As"),NullInclude:A(12172,"Treat Null Value As"),BreakBy:A(12173,"Break By")}[E.n]
	return{scriptClass:"mstrmojo.Label",markupString:'<div id="{@id}" class="mstrmojo-DataRow-text"title="'+(E.desc||"")+'"></div>',alias:"labelWidget",text:F+(E.isParam?"*":"")+":"}
	}
	mstrmojo.ME._IsRankEditor=mstrmojo.provide("mstrmojo.ME._IsRankEditor",{fctArgsDataGridCssClass:"functionArgs rank",getPROPBuilder:function C(){return D
	},getDTPBuilder:function C(){var E=this
	return function(G){var F=null
	if(G.isParam){F=E.getParamWidget(G)
	}else{switch(G&&G.dtp){case 11:case 3:switch(G.n){case"ASC":F={scriptClass:"mstrmojo.Pulldown",cssClass:"asc mstrmojo-ME-Pulldown",popupCssClass:"mstrmojo-ME-Pulldown-Popup",items:[{n:A(1885,"Ascending"),did:-1},{n:A(1886,"Descending"),did:0}],popupToBody:true,itemIdField:"did",postCreate:function(){var H=this.data
	this.value=!!H.v?(H.v==="False"?0:-1):(H.dfv||0)
	},getTokens:function(){var H=this.data
	if(this.value!==H.dfv){return[{v:H.n},{v:"=",isDelimiter:true},{v:this.value===-1?"True":"False"}]
	}return[]
	},onvalueChange:function(){B(this.parent.dataGrid.parent)
	}}
	break
	case"ByValue":F={scriptClass:"mstrmojo.RadioListHoriz",itemIdField:"did",items:[{n:A(13536,"Number (1,2,3)"),did:-1},{n:A(12175,"Percentage (10%,50%,100%)"),did:0}],postCreate:function(){var I=this.data
	var H=!!I.v?(I.v==="False"||parseInt(I.v,10)===0?0:-1):(I.dfv||0)
	this.set("selectedIndex",mstrmojo.array.find(this.items,this.itemIdField,H))
	},onselectionChange:function(H){if(H.removed.length===1){B(this.parent.dataGrid.parent)
	}},getTokens:function(){var I=this.data,H=this.selectedItem[this.itemIdField]
	if(H!==parseInt(I.dfv,10)){return[{v:I.n},{v:"=",isDelimiter:true},{v:H===-1?"True":"False"}]
	}return[]
	}}
	break
	case"NullInclude":F={scriptClass:"mstrmojo.Pulldown",cssClass:"mstrmojo-ME-Pulldown",popupCssClass:"mstrmojo-ME-Pulldown-Popup",items:[{n:A(959,"Default"),did:0},{n:A(12176,"First in rank"),did:-1},{n:A(12177,"Last in rank"),did:1}],itemIdField:"did",postCreate:function(){var H=this.data
	this.value=H.v||H.dfv
	},getTokens:function(){var H=this.data
	if(this.value!==H.dfv){return[{v:H.n},{v:"=",isDelimiter:true},{v:this.value}]
	}return[]
	},onvalueChange:function(){B(this.parent.dataGrid.parent)
	}}
	break
	}break
	case -2:F=E.getBreakByWidget(G)
	break
	}}F.alias="inputWidget"
	return F
	}
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.ME.FunctionWizard","mstrmojo.ME._MetricEditorHelper","mstrmojo.ME._IsRankEditor")
	mstrmojo.requiresDescs()
	mstrmojo.ME.RankEditor=mstrmojo.declare(mstrmojo.ME.FunctionWizard,[mstrmojo.ME._MetricEditorHelper,mstrmojo.ME._IsRankEditor],{scriptClass:"mstrmojo.ME.RankEditor",init:function A(B){mstrmojo.css.addWidgetCssClass(this,"rank")
	this._super(B)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.dom","mstrmojo.css","mstrmojo.Editor","mstrmojo.tooltip","mstrmojo.SearchWidget","mstrmojo.ME._MetricEditorHelper","mstrmojo.ME.BandingDAEditor","mstrmojo.ME.Enum","mstrmojo.ME.FunctionInfo")
	mstrmojo.requiresDescs(13141,9590,4561,9591,3273,9592,9579,9593,3324,9594,11656,11657,4565,9595,9925,1088,13141,9563,9597,221)
	var S=mstrmojo.hash,Z=mstrmojo.dom,N=mstrmojo.css,b=mstrmojo.ME.Enum.SHORTCUT_FUNCTIONS
	var D={n:mstrmojo.desc(9590,"Search Result"),did:-1,fns:[]},F={n:mstrmojo.desc(4561,"All Functions"),did:-2,fns:[]},R={n:mstrmojo.desc(9591,"Metric Templates"),did:-3,fns:[{n:mstrmojo.desc(3273,"Level"),did:b.Level,desc:mstrmojo.desc(9592,"Create a level metric."),h:"standard_functions_Level"},{n:mstrmojo.desc(9579,"Condition"),did:b.Condition,desc:mstrmojo.desc(9593,"Create a conditional metric."),h:"condition"},{n:mstrmojo.desc(3324,"Transformation"),did:b.Transformation,desc:mstrmojo.desc(9594,"Create a transformation metric."),h:"transformation"},{n:mstrmojo.desc(11656,"Row Count"),desc:mstrmojo.desc(11657,"Row Count calculates the total number of rows in the dataset."),did:b.Row_Count,tks:{items:[{v:"Count",tp:280,oi:{n:"Count",did:"8107C31CDD9911D3B98100C04F2233EA",t:11,st:2816}},{v:"<",tp:60},{v:"Null",tp:259},{v:"=",tp:282},{v:"True",tp:299},{v:",",tp:44},{v:"UseLookupForAttributes",tp:259},{v:"=",tp:282},{v:"False",tp:300},{v:">",tp:62},{v:"(",tp:40},{v:'"*"',tp:261},{v:")",tp:41},{v:"{",tp:123},{v:"~",tp:126},{v:"}",tp:125}]}}]},H={n:mstrmojo.desc(4565,"Select a category:"),did:-4,fns:[]},G=function(c,d){var e=c.functionList
	c.openWizard(e.items[e.selectedIndex],d)
	},I=function(){return mstrmojo.hash.copy(mstrmojo.ME.ENUM.NEW_METRIC_DEFINITION)
	}
	var a=function(d){var c="mstrmojo-ME-fct-tip",e=this.tooltip&&this.tooltip.domNode
	if(e){N.toggleClass(e,c,d)
	}}
	mstrmojo.ME.FunctionSelector=mstrmojo.declare(mstrmojo.Editor,[],{scriptClass:"mstrmojo.ME.FunctionSelector",title:mstrmojo.desc(9595,"Select a function or template"),help:"Select_a_Function_dialog_box.htm",isDME:false,functions:null,includeFakeFuncs:true,functionItems:null,selectedCategory:1,selectedIndex:-1,disableSwitch:false,_set_disableSwitch:function E(d,c){if(this.disableSwitch===c){return false
	}this.disableSwitch=c
	mstrmojo.ME._MetricEditorHelper.wait(this.switchToMetricEdtior,c)
	return true
	},init:function W(c){this._super(c)
	N.addWidgetCssClass(this,"mstrmojo-FunctionSelector")
	},getFunctionSyntax:function M(k,e){var h=this.functionItems
	if(!h){return""
	}var j=h[k].fns[e]
	if(j.did<0){return j.n
	}var c=j.pars,m=j.pros,l=[],d,g
	l.push(j.n)
	m=mstrmojo.hash.clone(m)||[]
	if(j.ios){m.push({n:"SortBy"})
	}if(j.sqt===5){m.push({n:"BreakBy"})
	}if(this.showFullSyntax){if(m.length>0){l.push("<")
	for(d=0,g=m.length
	d<g
	d++){l.push(m[d].n)
	l.push(", ")
	}l.pop()
	l.push(">")
	}}l.push("(")
	for(d=0,g=c.length
	d<g
	d++){l.push(c[d].n)
	if(d!==(g-1)){l.push(", ")
	}}l.push(")")
	return l.join("")
	},getFunctionDesc:function Q(g,c){var e=this.functionItems
	if(!e){return""
	}var d=e[g].fns[c]
	return mstrmojo.ME.FunctionInfo.getDescAndExample(d).desc
	},getFunctionHelpTopic:function P(g,c){var e=this.functionItems
	if(!e){return""
	}var d=e[g].fns[c]
	if(d.did===b.Row_Count){return""
	}return mstrmojo.ME.MetricDataService.getFunctionHelpTopic(d.h)
	},getMetricDefAsTokens:function U(){return this.getTokens()
	},getTokens:function L(){var d=this.functionList,c=d.items[d.selectedIndex],e=[]
	if(c){if(c.did<-1){switch(c.did){case -7:e=c.tks.items
	break
	case -4:case -5:case -6:break
	}}else{e.push({v:c.n,oi:c,isNew:true})
	}}return e
	},onfunctionsChange:function Y(){if(!this.functions){return 
	}this.selectedCategory=0
	this.set("selectedCategory",1)
	this.set("selectedIndex",-1)
	var e=mstrmojo.hash.clone(this.functions),c=e.length
	if(!e.add){e=S.make(e,mstrmojo.Arr)
	}if(c>=1&&this.includeFakeFuncs){var d=e[mstrmojo.ME.MetricDataService.getBasicCategoryIndex(e)]
	d.fns.push(R.fns[0])
	if(!this.isDME){d.fns.push(R.fns[1])
	d.fns.push(R.fns[2])
	}else{d.fns.push(R.fns[3])
	}}this.set("functionItems",e)
	},onPreClose:function O(){this.cleanup()
	return true
	},cleanup:function J(){this.searchWidget.clearSearch()
	this.set("selectedIndex",-1)
	},handleCloseAction:function C(){this.close()
	},clearSearchResult:function X(d){var e=this.fcHBox.fcPulldown,f=this.functionItems||[],c=f.length-1
	if(c>-1&&f[c]===D){if(this.selectedCategory===c){if(d!==false){this.set("selectedCategory",1)
	this.set("selectedIndex",-1)
	}}f.remove(c)
	e.refresh()
	}},clearSearchPattern:function A(){var c=this.searchWidget
	if(c&&c.hasRendered){c.reset()
	this.clearSearchResult(false)
	}},openWizard:function K(f,e){var d=this,c
	if(mstrmojo.ME.MetricDataService.isBasicAggMap(f.did)||f.did<-1){c={zIndex:d.zIndex+10,did:f.did,oi:I}
	c.insertMode=false
	c.id="mstrSME"
	}else{c={functions:mstrmojo.ME.MetricDataService.getFunctionCatList(),fctOi:f,zIndex:d.zIndex+10,oi:I}
	c.id="mstrFE"
	}c.insertMode=this.insertMode
	if(c.insertMode){c.insertOnFinish=this.insertOnFinish
	}d.switch2Editor(c.id,c)
	},handleSelectedFunction:function(c){G(this)
	},onshowFullSyntaxChange:function B(){this.functionList.onchange()
	},children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-FunctionSelector-label",text:mstrmojo.desc(9925,"Functions")},{scriptClass:"mstrmojo.SearchWidget",alias:"searchWidget",cssClass:"mstrmojo-FunctionSelector-search",width:"65px",quickSearch:true,placeholderText:"",onsearch:function(k){var c=this.parent,j=c.fcHBox.fcPulldown,g=c.functionItems,l=c.functionList.itemDisplayField,h=[],d=function(n){var m=mstrmojo.hash.copy(n),p=m.n,o
	try{o=new RegExp(k,"ig")
	}catch(q){o=new RegExp(mstrmojo.string.regEscape(k),"ig")
	}if(o.test(p)){m[l]=p.replace(o,function(r){return"<em>"+mstrmojo.string.encodeHtmlString(r)+"</em>"
	})
	h.push(m)
	}},e,f
	for(e=0,f=g.length
	e<f
	e++){if(g[e]===D||g[e].did===F.did){continue
	}if(k){mstrmojo.array.forEach(g[e].fns,d)
	}}D.fns=h
	if(g[g.length-1]!==D){g.add([D])
	}j.refresh()
	c.selectedCategory=0
	c.set("selectedCategory",g.length-1)
	c.set("selectedIndex",-1)
	},onclear:function(c){this.parent.clearSearchResult()
	}},{scriptClass:"mstrmojo.HBox",alias:"fcHBox",cssClass:"mstrmojo-FunctionSelector-fctBox",children:[{scriptClass:"mstrmojo.Pulldown",cssClass:"mstrmojo-ME-Pulldown",popupCssClass:"mstrmojo-ME-Pulldown-Popup",alias:"fcPulldown",itemIdField:"did",itemField:"n",items:[],bindings:{items:function(){var d=this.parent.parent.functionItems,e=[]
	if(!d){return d
	}e=mstrmojo.ME.MetricDataService.sortFunctions(d)
	if(d[0].did!==F.did){var c=F
	c.fns=e
	d.unshift(c)
	}return d
	},selectedIndex:"this.parent.parent.selectedCategory",value:function(){var c=this.parent.parent.selectedCategory
	return this.items[c][this.itemIdField]
	}},onvalueChange:function(c){var d=this.parent.parent
	d.set("selectedCategory",this.selectedIndex)
	d.set("selectedIndex",-1)
	if(c.valueWas===D.did&&this.selectedItem.did!==D.did){this.parent.parent.clearSearchPattern()
	}}}]},{scriptClass:"mstrmojo.ME.FunctionList",alias:"functionList",itemIdField:"dssid",itemField:"n",itemDisplayField:"dn",items:[{n:"",cls:"wait"}],cssClass:"mstrmojo-FE-functionList mstrmojo-suggest-list",renderOnScroll:false,eventHandlerMap:{suggestTextNode:{mouseover:{requiredParams:["id"],handlerFn:function(c){return function(){mstrmojo.all[c.id].onmouseover(this,event)
	}
	}},mouseout:{requiredParams:["id"],handlerFn:function(c){return function(){mstrmojo.all[c.id].onmouseout(this,event)
	}
	}}}},itemMarkupFunction:function(f,c,e){var d="mstrmojo-Button mstrmojo-Editor-button mstrmojo-WebButton tbFunction"
	if(!mstrApp.isWSStyling){d+=" hot"
	}return'<div class="mstrmojo-suggest-text '+(f.cls||"fn")+'" idx="'+c+'"'+(f.did<0?'did="'+f.did+'"':"")+' mstreventmark="suggestTextNode" mstrevent="mouseover mouseout" onmouseover="mstrmojo.all[\''+e.id+"'].onmouseover(this, event)\" onmouseout=\"mstrmojo.all['"+e.id+"'].onmouseout(this, event)\">"+((e.itemDisplayField&&f[e.itemDisplayField])||f[e.itemField])+'<div class="'+d+'" t="edt"><div class="mstrmojo-Button-text" t="edt">'+mstrmojo.desc(1088,"Edit")+"</div></div></div>"
	},bindings:{items:function(){var c=this.parent.functionItems,d=this.parent.selectedCategory
	return(c&&c[d].fns)||this.items
	},selectedIndex:"this.parent.selectedIndex"},buffer:"",onkeypress:function(o){var n=this,l=o.e,g=l.keyCode||l.charCode,p=mstrmojo.Enum_Keys,c=function(r){var q=(Z.isIE&&!Z.isIE9)?r.keyCode:r.charCode
	return(q>0)?String.fromCharCode(q):""
	},m=this.items,j=m.length,d=this.selectedIndex,f=function(e){n.scrollTo(e)
	}
	switch(g){case p.UP_ARROW:this.set("selectedIndex",(d+j-1)%j)
	break
	case p.DOWN_ARROW:this.set("selectedIndex",(d+1)%j)
	break
	default:var h=(this.buffer+=c(l))
	if(j>0&&h.length>0){mstrmojo.array.forEach(m,function(r,k,e){var q=new RegExp("^"+h,"i")
	if(q.test(r[n.itemField])){if(k>-1){this.selectedIndex=-1
	this.set("selectedIndex",k)
	}return false
	}},this)
	}}if(this.selectedIndex>-1){f(this.selectedIndex)
	}window.clearTimeout(this.tmr)
	this.tmr=window.setTimeout(function(){n.buffer=""
	},300)
	mstrmojo.dom.stopPropogation(o.hWin,l)
	return false
	},onkeyup:function(c){this.onkeypress(c)
	},onchange:function(c){var e=this.parent
	if(this.selectedIndex!==e.selectedIndex){e.set("selectedIndex",this.selectedIndex)
	}var g=e.selectedCategory,d=e.selectedIndex,f=g>-1&&d>-1
	e.set("funcSyntax",f?e.getFunctionSyntax(g,d):"")
	e.set("funcDesc",f?e.getFunctionDesc(g,d)+"  "+e.getFunctionHelpTopic(g,d):"")
	if(this.changeByMouse){if(e.selectedCategory>-1&&e.selectedIndex>-1){e.handleSelectedFunction(false)
	}this.changeByMouse=false
	}},onmouseup:function(c){var e=c.getTarget(),d=e.getAttribute("t")
	if(d==="edt"){mstrmojo.dom.stopPropogation(c.hWin,c.e)
	mstrmojo.dom.preventDefault(c.hWin,c.e)
	this.openFunctionEditor()
	return false
	}},openFunctionEditor:function(){var e=this.parent.parent.parent,f=e.getTokenInputBox(),c={zIndex:e.zIndex+1,insertMode:true,oi:mstrmojo.ME.ENUM.getNewDefinition(),insertOnFinish:function(g){f.insertTokens(g)
	}},d=this.parent.functionList.selectedItem
	if(e.isBanding&&e.isBanding(d.did)){c={zIndex:e.zIndex+1,insertMode:true,fctOi:d,id:"mstrBDAE_1",oi:mstrmojo.ME.BandingDAEditor.getNewDefinition(),ide:e}
	}else{if(mstrmojo.ME.MetricDataService.isBasicAggMap(d.did)||d.did<-1){c.candidates=f.candidates
	c.did=d.did
	c.id="mstrSME_1"
	c.useGUIDefault=true
	}else{c.fctOi=d
	c.id="mstrFE_1"
	c.paramItemsPath=e.feParamItemsPath
	}}c.modal=true
	e.getModalEditor(c).open(e)
	},ondblclick:function(c){var e=this.getItemNodeFromTarget(c.getTarget())
	if(e){var d=this.parent
	if(d.selectedCategory>-1&&d.selectedIndex>-1){d.handleSelectedFunction(true)
	}}},useRichTooltip:false,onmouseover:function(f,m){var o=this,d=this.parent,n=d.selectedCategory,h=f.getAttribute("idx"),g=Z.eventTarget(window,m),c=g.getAttribute("t")==="edt"
	if((!isNaN(h)&&h>-1)||c){window.clearTimeout(o.hideTmr)
	var l='<dl class="fct-info"><dt class="fct-syntax">'+d.getFunctionSyntax(n,h)+'</dt><dd class="fct-desc">'+(d.getFunctionDesc(n,h)+"  "+d.getFunctionHelpTopic(n,h))+"</dd></dl>"
	var q=mstrmojo.dom.position(f,true),r=function(){var p=(o.tooltip&&o.tooltip.domNode.offsetWidth+15)||200,e=q.x,w=q.y-f.offsetHeight/2,v=e<p?"left":"right",u=e<p?mstrmojo.tooltip.POS_TOPLEFT:mstrmojo.tooltip.POS_TOPRIGHT
	e=e<p?q.x+q.w+8:e-10
	return{arrow_css:v,contentNodeCssClass:"me-tooltip-content "+v,posType:u,left:e,top:w}
	},k=r(),j="hidden"
	o.richTooltip=c?o.getEditBtnTooltip(g,h,k):{cssClass:j,contentNodeCssClass:"me-tooltip-content "+k.arrow_css,posType:k.posType,left:k.left,top:k.top,content:l,areaId:h}
	o.useRichTooltip=true
	o.hasOpenTooltip=false
	o.showTooltip()
	window.clearInterval(o.posTmr)
	var t=0
	if(!o.posTmr){o.posTmr=window.setInterval(function(){if(o.tooltip){var u=o.tooltip.domNode,p=u.childNodes[1].firstChild,e=k.posType
	k=r()
	if(k.posType!==e){u.style.left=k.left+"px"
	N.addClass(p,[k.arrow_css])
	}window.setTimeout(function(){N.removeClass(u,j)
	},10)
	window.clearInterval(o.posTmr)
	delete o.posTmr
	}else{if(t++>10){window.clearInterval(o.posTmr)
	}}},200)
	}a.call(this,!c)
	}},getEditBtnTooltip:function(d,e,c){var f=mstrApp.isWorkstationPlugin?-48:200
	if(c){return{posType:mstrmojo.tooltip.POS_TOPLEFT,content:mstrmojo.desc(13141,"Edit function parameters"),top:c.top+50,left:c.left+f,cssClass:"vi-regular vi-tooltip-A"}
	}if(mstrApp.isWorkstationPlugin){return{}
	}return{posType:mstrmojo.tooltip.POS_TOPRIGHT,contentNodeCssClass:"me-tooltip-content regular up tbFunction",top:28,left:67,refNode:d,content:mstrmojo.desc(13141,"Edit function parameters"),areaId:e}
	},onmouseout:function(){var c=this
	this.hideTmr=window.setTimeout(function(){a.call(c)
	c.hideTooltip()
	c.useRichTooltip=false
	},500)
	}},S.copy({slot:"buttonNode",cssText:"text-align: center
	float:left
	",text:mstrmojo.desc(9563,"Switch to Formula Editor"),title:mstrmojo.desc(9597,"Build a metric formula using metrics, facts, attributes and functions."),closeAfterSwitch:false,getEditor:function(){return this.parent
	},postBuildRendering:function(){mstrmojo.ME._MetricEditorHelper.wait(this,this.getEditor().disableSwitch)
	},postclick:function(){this.getEditor().buttonNode.style.visibility="hidden"
	},bindings:{visible:function(){return !this.parent.insertMode
	}}},S.copy(mstrmojo.ME._MetricEditorHelper.switchRef)),{scriptClass:"mstrmojo.HBox",alias:"buttonBar",slot:"buttonNode",cssClass:"mstrmojo-ME-buttonBox",cellCssClass:"subBox",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Editor-button mstrmojo-WebButton",text:mstrmojo.desc(221,"Cancel"),onclick:function(){this.parent.parent.handleCloseAction()
	if(mstrApp.isWorkstationPlugin){workstation.window&&workstation.window.close&&workstation.window.close()
	}}}]}]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.List","mstrmojo.ui._HasScroller")
	var E=mstrmojo.dom
	mstrmojo.ME.FunctionList=mstrmojo.declare(mstrmojo.List,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ME.FunctionList",setupScrollNodes:function D(){this.scrollNode=this.itemsContainerNode
	this.scrollNode.style.height=this.scrollboxNode.offsetHeight+"px"
	this.scrollboxNode=this.itemsContainerNode
	},getItemNodeFromTarget:function C(H){var G=mstrmojo.dom.findAncestorByAttr(H,"idx",true,this.domNode)
	return(G&&G.node)||null
	},premousedown:function A(H){this.changeByMouse=false
	if(E.isPrimaryMouseBtn(H.e)){var I=this.getItemNodeFromTarget(H.getTarget()),G=I&&parseInt(I.getAttribute("idx"),10)
	if(G!==null&&!isNaN(G)&&G!==this.selectedIndex){this.domNode.tabIndex=0
	this.domNode.focus()
	this.changeByMouse=true
	}this._super(H)
	}},getDragData:function B(G){if(this.isDraggingScrollBar&&this.isDraggingScrollBar(G)&&this._super){return this._super(G)
	}else{return{item:this._super(G)}
	}},premouseup:function F(G){if(E.getButton(G.hWin,G.e)===E.MOUSE_BUTTON.LEFT){this._super(G)
	return true
	}mstrmojo.dom.stopPropogation(G.hWin,G.e)
	mstrmojo.dom.preventDefault(G.hWin,G.e)
	return false
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.dom","mstrmojo.Editor","mstrmojo.SaveAsEditor","mstrmojo.UUID","mstrmojo._FormatDefinition","mstrmojo.ME.MetricDataService","mstrmojo.ME.MetricFormatEditor","mstrmojo.ColorPicker","mstrmojo.ME.MetricEditBox","mstrmojo.InlineEditBox","mstrmojo.MenuButton","mstrmojo.ME._MetricEditorHelper","mstrmojo.ME.FunctionSelector","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo.fe.FilterUtils","mstrmojo.ExpressionToolbar")
	mstrmojo.requiresDescs(517,1907,2213,2827,9559,9562,11897)
	var I=mstrmojo.desc,D=mstrmojo.array,R=mstrmojo.dom,J=mstrmojo.hash,C=mstrmojo.UUID,U=mstrmojo.mstr.EnumDSSXMLObjectTypes,H=mstrmojo.mstr.EnumDSSXMLObjectSubTypes,S=mstrmojo.fe.FilterUtils.getExprXml
	var P={functionSelector:0,advanced:65536,simple:131072,func:196608},M=mstrmojo.ME.MetricEditBox.VALIDATION_STATUS
	function B(W,Y){var X=[]
	W.oi.tks.met=P.functionSelector
	W.oi.tks.items=X
	Y.oi=W.oi
	Y.clearTokens(X)
	}mstrmojo.ME.MetricEditor=mstrmojo.declare(mstrmojo.Editor,[mstrmojo.ME._MetricEditorHelper],{scriptClass:"mstrmojo.ME.MetricEditor",cssClass:"mstrmojo-MetricEditor",zIndex:10,title:I(517,"Metric"),help:"Metric_Formula_Editor.htm",init:function Q(W){this._super(W)
	this.formulaLabel.set("visible",mstrApp&&mstrApp.isWSStyling)
	},getMetricEditBox:function K(){return this.metricEditBox
	},getTokenInputBox:function K(){return this.metricEditBox.inputBox
	},isEmpty:function L(){return this.getMetricDefAsTokens().length===0
	},onObjectInsert:function N(X){var Y=this.metricEditBox.inputBox,W={v:mstrmojo.ME.MetricToken.brackets(X.n),oi:X,isNew:true}
	Y.insertTokens([W])
	this.closePopup()
	},onOpen:function F(){var W=this.oi,X=this.metricEditBox,Y=X.inputBox
	this._setupCandidatesCache(Y)
	Y.noCache=this.noCache
	Y.useKeyDelay=this.useKeyDelay
	this.set("title",I(9559,"Formula Editor:")+" "+W.n)
	if(W&&W.tks){this.preprocessTokenStram(W.tks)
	Y.oi=W
	Y.set("items",W.tks.items)
	this.originTks=J.clone(W.tks.items)
	this.originAfb=W.mps&&W.mps.afb
	this.originSfb=W.mps&&W.mps.sfb
	}this.descriptionEditBox.descriptionInput.set("value",W.dsc)
	this.enableHTMLBox.enableHTMLCheckBox.set("checked",!!(J.walk("ahj.dirty",W)?W.ahj.mft:J.walk("mps.mft",W)))
	X.set("iStatus","")
	X.set("vStatus",W.tks.items.length>0?this.vStatus:mstrmojo.ME.MetricEditBox.VALIDATION_STATUS.UNKNOWN)
	if(Y.items.length===0){this.set("cValid",false)
	}},getMetricDefAsTokens:function O(){return(this.oi.tks.items)
	},onClose:function E(){if(this._super){this._super()
	}this.vStatus=mstrmojo.ME.MetricEditBox.VALIDATION_STATUS.UNKNOWN
	this.metricEditBox.inputBox.oi=null
	this.metricEditBox.inputBox.editNode.onblur=null
	this.metricEditBox.inputBox.resetTokensCache()
	},handleValidation:function G(W){this.metricEditBox.handleValidation(W)
	},clientSideValidation:function A(W){this.metricEditBox.clientSideValidation(W)
	},children:[mstrmojo.ME._MetricEditorHelper.formatAndOptionsBarRef,mstrmojo.ME._MetricEditorHelper.nameEditBoxRef,mstrmojo.ME._MetricEditorHelper.descriptionEditBoxRef,{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-ME-formula-label",alias:"formulaLabel",text:I(1907,"Formula")},{scriptClass:"mstrmojo.ExpressionToolbar",alias:"metricEditorOperators",onmouseup:function(X){var Y=mstrmojo.dom.eventTarget(X.hWin,X.e),W=Y.getAttribute("idx")||-1
	this.validate(X,W)
	},validate:function(d,c){this.set("selectedIndex",c)
	var b=this.parent,X=b.metricEditBox,Z=X.inputBox,Y=this.selectedItem,f=Y&&Y.v.split(""),a=[]
	if(!Y){return 
	}if(R.getButton(d.hWin,d.e)===R.MOUSE_BUTTON.LEFT){switch(Y.t){case 1:D.forEach(f,function W(g){a.push({v:g,isDelimiter:true,isNew:true})
	},this)
	var e=Z.insertTokens(a)
	if(a.length===2){Z._delaySetTextCaretPos(Z.itemsContainerNode.childNodes[e-1],1)
	}break
	case 2:X.set("vStatus",M.VALIDATING)
	b.tbValidate=this
	b.validateSyntax(this)
	break
	case 3:B(b,Z)
	Z.raiseChangeEvent({type:"clear"})
	break
	}}}},{scriptClass:"mstrmojo.ME.MetricEditBox",alias:"metricEditBox",bindings:{browseItemVisible:"!this.parent.isDME",candidates:"this.parent.candidates"},ontokensModify:function(X){this.parent.onmetricModify()
	var W=this.inputBox.items.length
	this.parent.set("cValid",W>0)
	if(W===0){this.parent.btnSwitch.set("enabled",true)
	}},continueValidataion:function(){var W=this.parent
	W.validateSyntax(W.tbValidate)
	},validateFunc:function(W){this.parent.parent.metricEditorOperators.validate(W,7)
	},editEmbeddedFilterToken:function(Z){var a=this.parent
	if(a.openConditionMetricFilterEditor){var e=a.dsUnits,c=[],f=[],g=mstrApp.getRootController().docCtrl.model,d=g&&g.getDataService(),W
	D.forEach(e&&e.items,function(h){if(h.t===U.Attribute){c.push(h)
	}else{if(h.t===U.Metric){f.push(h)
	}}})
	var b=Z.data&&Z.data.oi
	var Y=b&&b.condition||g.getEmbeddedFilter(b&&b.did)
	W=Y&&Y.exp
	var X=function(j){W=j.expr
	var k=C.create(),h=k
	var l=function(){var m=Z.data
	if(W){m.oi={did:k,n:h,t:U.Filter,st:H.Filter,isEmbedded:true,condition:{did:k,exp:W}}
	m.v=h
	}else{m.v=" "
	m.oi=null
	}Z.set("data",m)
	a.onmetricModify()
	}
	if(W){d.createEmbeddedFilter({expr:S(W),expJson:W,filterId:k,filterName:h},{success:function(){l()
	}})
	}else{l()
	}}
	a.openConditionMetricFilterEditor({filter:W,att:c,mx:f,docModel:g,invalidItems:[],fnOk:X,onCancel:mstrmojo.emptyFn,browseParam:function(h){h.messageID=g.mid
	h.datasetID=g.findDatasetIdFromUnit(h.attributeID)
	}})
	}}},mstrmojo.ME._MetricEditorHelper.enableHTMLCheckBoxRef,{scriptClass:"mstrmojo.Button",alias:"btnSwitch",cssClass:"mstrmojo-ME-switch mstrmojo-Editor-button mstrmojo-WebButton switch-to-function",text:I(9562,"Switch to Function Editor"),bindings:{enabled:function(){var X=this.parent.metricEditBox.vStatus===M.ERROR&&!this.parent.cValid,W=parseInt(this.parent.oi.tks.met,10),Y=!X&&(!W||(W&&W!==P.advanced))
	return Y
	}},onclick:function(){var X=this.parent
	var W=function(b){var c=b.oi,Z=c.tks.met||P.functionSelector,Y={zIndex:b.zIndex+1,candidates:b.candidates,oi:c,did:c.did,insertMode:false},d={0:"functionSelector",131072:"simpleMetricRef",196608:"wizard"}[Z],a={0:"mstrFSE",131072:"mstrSME",196608:"mstrFE"}[Z]
	if(Z===P.functionSelector||Z===P.func){Y.functions=b.functions
	}if(d){if(b.dirty){Y.dirty=b.dirty
	}if(b.mptf){Y.mptf=b.mptf
	}b.switch2Editor(a,Y)
	}}
	if(X.metricEditBox.inputBox.items.length===0){X.close()
	X.ide.browsersContainer.funcBrowser.handleSelectedFunction()
	if(mstrApp.isWorkstationPlugin&&mstrApp.setFormulaToggleOn){mstrApp.setFormulaToggleOn(true)
	}}else{X.cbSwtichEditor=W
	X.tbValidate=this
	X.validateSyntaxAndSwitch(this,"switch")
	}},slot:"buttonNode"},mstrmojo.ME._MetricEditorHelper.buttonBarRef]})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.css","mstrmojo.Box","mstrmojo.Pulldown","mstrmojo.Label","mstrmojo.Widget","mstrmojo.TextBoxWithLabel","mstrmojo.ME.MetricEditor","mstrmojo.ME._MetricEditorHelper","mstrmojo.ME.FunctionInfo","mstrmojo.ME.RankEditor","mstrmojo.ME.OLAPEditor","mstrmojo.func","mstrmojo.mstr.EnumDSSXMLObjectSubTypes","mstrmojo.mstr.EnumDSSXMLObjectTypes")
	mstrmojo.requiresDescs(1952,2213,8950,9560)
	var R=mstrmojo.hash,O=mstrmojo.array,g=mstrmojo.css,P=mstrmojo.ME._MetricEditorHelper,k=mstrmojo.ME.MetricDataService,Q=mstrmojo.func,M=mstrmojo.mstr.EnumDSSXMLObjectTypes,h=mstrmojo.mstr.EnumDSSXMLObjectSubTypes
	var N={SUM:"8107C31BDD9911D3B98100C04F2233EA"}
	var B=null
	mstrmojo.ME.ENUM={METRIC_ACTIONS:{ADD:"add",EDIT:"edit",EDIT_NEW:"editNew"},EDITOR_IDS:{ADVANCED:"mstrME",FORMULA:"mstrME",WIZARD:"mstrFE",SIMPLE:"mstrSME",SELECOTR:"mstrFSE"},EDITOR_TYPES:{ADVANCED:"ADVANCED",FUNCTION:"FUNCTION",SIMPLE:"SIMPLE",SELECTOR:"SELECTOR"},METRIC_EDIT_TYPES:{ADVANCED:65536,SIMPLE:131072,FUNCTION:196608},METRIC_TYPES:{65536:"ADVANCED",131072:"SIMPLE",196608:"FUNCTION"},NEW_METRIC_DEFINITION:{did:"",n:mstrmojo.desc(2213,"New Metric"),tks:{items:[],vs:0,vm:""},mhfts:{},mvfts:{}},getNewDefinition:function(){return{did:"",n:mstrmojo.desc(2213,"New Metric"),tks:{items:[],vs:0,vm:""},mhfts:{},mvfts:{}}
	}}
	var F=function(l){l=R.copy(l,{left:0,top:0})
	this.left=(parseInt(this.left||this.editorNode.style.left,10)||0)+l.left+"px"
	this.top=(parseInt(this.top||this.editorNode.style.top,10)||0)+l.top+"px"
	}
	var a=function(m){var p=this,l=p.isDME,o=m.id,n=o.replace("_1",""),q=p.getEditorHelpTopic(n)
	var r={scriptClass:p.getEditorScriptClass(n),id:o,isDME:l,zIndex:p.zIndex++,oi:m.oi,bindings:{functions:p.funcsPath||"mstrmojo.all.mstrMetricIDE.functions",candidates:p.candidatesPath||"mstrmojo.all.mstrMetricIDE.candidates",dsUnits:"this.ide.dsUnits",attrCandidates:"this.ide.attrCandidates"},tbBrowsable:!l,tbFormatable:!l,ide:p}
	if(q){r.help=q
	}R.copy(m,r)
	return r
	}
	var A=function(l){var n=this.getEditorId(l),m=mstrmojo.all[n]
	if(!m){m=mstrmojo.insert(a.call(this,l))
	m.onvisibleChange=F
	m.onPostClose=function(){this.destroy()
	}
	}R.copy(l,m)
	m.candidates=null
	m.set("candidates",this.candidates)
	return m
	}
	var E=function(l){var p=this,o=l.oi
	if(p.setExtraMetricTokens){p.setExtraMetricTokens(o)
	}var n=this.getEditorId(l)
	var m=mstrmojo.all[n]
	if(!m){var q=mstrmojo.hash.copy({slot:"editorsContainerNode",left:"0px",top:"0px",modal:false,showTitle:false,postCreate:function(){g.addWidgetCssClass(this,"mstrmojo-MetricIDE-editor inline")
	},onPostClose:function(){var r=p.curtain
	if(r){r.set("visible",false)
	r.set("refNode",null)
	}p.editorConfig=null
	p.set("editor",null)
	},onCancel:function(){if(mstrApp.isWorkstationPlugin){workstation.window&&workstation.window.close&&workstation.window.close()
	}else{p.close()
	}},onSaved:function(){p.close()
	},switch2Editor:function(t,r){if(r){r.id=t
	}p.set("editorConfig",{editorId:t,cfg:r})
	}},a.call(this,l))
	if(p.isExpEditor(n)){q.onvisibleChange=function(){var AB=B,r=p.browsersContainer.ob,AC=this.visible,z=250
	if(AC){r.set("visible",AC)
	if(!mstrApp.isWorkstationPlugin){var u=p.browsersContainer.funcBrowser,t=u.functionList,x=t.domNode,w=x.querySelector&&x.querySelector(".mstrmojo-suggest-text.fn[idx]")
	if(w){var AA=w.lastChild
	g.addClass(AA,"forceDisplay")
	window.setTimeout(function(){t.richTooltip=t.getEditBtnTooltip(AA)
	mstrmojo.tooltip.open(t)
	window.setTimeout(function(){g.removeClass(AA,"forceDisplay")
	t.hideTooltip()
	},1000)
	},z)
	}}}else{r.set("visible",AC)
	}g.toggleClass(p.editorNode,"exp",AC)
	g.addClass(p.editorNode,"transition-left")
	mstrmojo.dom.center(AB.editorNode)
	window.setTimeout(function(){g.removeClass(p.editorNode,"transition-left")
	F.call(p)
	},z)
	}
	}if(p.configInlineEditor){p.configInlineEditor(q)
	}m=mstrmojo.insert(q)
	m.attachEventListener("fctDidChange",p.browsersContainer.funcBrowser.id,"onfctDidChange")
	p.addChildren([m])
	}else{m.set("oi",o)
	m.candidates=null
	m.set("candidates",p.candidates)
	}if(l.useGUIDefault!==true){m.useGUIDefault=false
	}p.set("editor",m)
	p.set("help",m.help)
	return m
	}
	function L(){var n=this,p=500,m=function(r){var q=(r&&r.items)||[],t=n.candidates||{items:[]}
	t.items=t.items.concat(q)
	t.isComplete=t.isComplete&&(r.bc===-1||(r.bb+r.bc>r.sz))
	if(n.functions){t.items=t.items.concat(k.sortFunctions(n.functions))
	}n.candidates=null
	n.set("candidates",t)
	},l=function(q){mstrmojo.alert(q.getResponseHeader("X-MSTR-TaskFailureMsg"))
	},o=function(q){if(q){var r={items:q.items,isComplete:(q.bc===-1||(q.bb+q.bc>q.sz))}
	n.candidates=r
	}k.getMetrics({rootFolderType:k.rootFolderTypes.ALL,pattern:"*",blockBegin:1,blockCount:p},{success:m,failure:l})
	}
	if(!this.noCache&&!this.candidates){k.getMetricComponents({rootFolderType:k.rootFolderTypes.ALL,pattern:"*",blockBegin:1,blockCount:p},{success:o,failure:l})
	}else{m({bc:-1,mcComplete:true})
	}}var c=function(n,p){var o=null,m=function(z,u){if(!mstrmojo.all[p.id]||mstrmojo.all[p.id]._timeStamp!==u){return 
	}var t=p.browsersContainer,w=t&&t.funcBrowser
	if(w){w.set("disableSwitch",false)
	}if(z&&z.tks){P.preprocessTokenStram(z.tks)
	P.checkEditorFallback(k.sortFunctions(p.functions),z)
	}p.set("oi",z)
	if(!p.action.n){p.set("title",p.titleBase+" - "+z.n)
	}if(p.action.cmd!==mstrmojo.ME.ENUM.METRIC_ACTIONS.ADD){var v=p.showAsSimpleIDE(z)
	p.set("showLeftPanel",!v)
	var x=E.call(p,{id:p.editorId,oi:z,functions:o,simple:v})
	x.open(p)
	if(mstrApp&&mstrApp.isVI&&!z.did&&x.id==="mstrME"){var r=w&&w.functionList
	if(r){r.set("selectedIndex",Math.max(O.find(r.items||[],"did",N.SUM),0))
	x.close()
	w.handleSelectedFunction()
	}}}},l=function(r){mstrmojo.alert(r.message||r.getResponseHeader("X-MSTR-TaskFailureMsg"))
	},q=function(t){try{if(!mstrmojo.all[p.id]){return 
	}o=p.filterFunctions(t)
	p.set("functions",o)
	L.call(p)
	p.loadObjectDefn({success:function(u){m(u,p._timeStamp)
	},failure:l})
	}catch(r){}}
	k.getFunctions({success:q,failure:l})
	}
	mstrmojo.ME.MetricIDE=mstrmojo.declare(mstrmojo.Editor,[],{scriptClass:"mstrmojo.ME.MetricIDE",cssClass:"mstrmojo-MetricIDE",id:"mstrMetricIDE",_timeStamp:0,titleBase:mstrmojo.desc(11579,"Metric Editor"),title:this.titleBase,help:" ",zIndex:4,noCache:true,editorId:null,editor:null,editorConfig:{editorId:null,cfg:{}},getEditorHelpTopic:function X(l){switch(l){case"mstrME":return"Creating_a_new_derived_metric_from_scratch.htm"
	}return"create_derived_metric.htm"
	},getEditorScriptClass:function H(l){return"mstrmojo.ME."+{mstrFE:"FunctionWizard",mstrSME:"SimpleMetricEditor",mstrME:"MetricEditor",mstrRFE:"RankEditor",mstrOFE:"OLAPEditor"}[l]
	},oneditorConfigChange:function S(){var m=this.editorConfig,l=m.cfg
	if(this.editor){this.editor.close()
	}E.call(this,l).open(this,l)
	},showLeftPanel:true,onshowLeftPanelChange:function K(){g.toggleClass(this.editorNode,"simple",!this.showLeftPanel)
	if(this.editor){this.editor.set("simple",!this.showLeftPanel)
	this.browsersContainer.funcBrowser.set("showFullSyntax",this.isExpEditor(this.editor.id))
	}var l=this.getBrowsersContainer().domNode.offsetWith/2||120
	this.set("left",(parseInt(this.left||this.editorNode.style.left,10)||0)+(this.showLeftPanel?-1:1)*l+"px")
	if(this.showLeftPanel){this.browsersContainer.funcBrowser.functionList.refresh()
	}},filterFunctions:function j(l){return l
	},isExpEmpty:function f(){var l=mstrmojo.all.mstrME
	return l&&l.getMetricDefAsTokens().length===0
	},init:function Z(n){if(this._super){this._super(n)
	}var o=mstrApp,l=o&&o.useQuickSearch&&o.useQuickSearch(),m=l?((o&&o.searchAutoCompleteDelay&&o.searchAutoCompleteDelay())||0):0
	this.suggestDelay=m||200
	this.noCache=this.noCache&&l&&!this.isDME
	k.suggestDelay=this.suggestDelay
	k.noCache=this.noCache
	B=this
	this._timeStamp=mstrmojo.now()
	},onClose:function D(){if(this.editor){this.editor.close()
	}this.browsersContainer.funcBrowser.cleanup()
	this.destroy()
	},onOpen:function I(){F.call(this)
	this.set("showLeftPanel",true)
	c(this.metricId||this.did,this)
	if(mstrApp.isWorkstationPlugin){this.browsersContainer.funcBrowser.set("includeFakeFuncs",false)
	}this.set("title",this.titleBase+" - "+(this.action.n||mstrmojo.desc(2213,"New Metric")))
	B=this
	},setExtraMetricTokens:mstrmojo.emptyFn,getTokenInputBox:function C(){return mstrmojo.all.mstrME&&mstrmojo.all.mstrME.metricEditBox.inputBox
	},insertTokens:function(l){return this.getTokenInputBox().insertTokens(l)
	},onObjectInsert:function(l){mstrmojo.all.mstrME.onObjectInsert(l)
	},setRefOi:mstrmojo.emptyFn,children:[{scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-MetricIDE-browsers-container",alias:"browsersContainer",children:[{scriptClass:"mstrmojo.ME.FunctionSelector",cssClass:"mstrmojo-MetricIDE-editor inline",alias:"funcBrowser",left:"0px",top:"0px",modal:false,showTitle:false,disableSwitch:true,bindings:{functions:function(){return this.parent.parent.functions
	},oi:function(){return this.parent.parent.oi||mstrmojo.ME.ENUM.getNewDefinition()
	},isDME:function(){return this.parent.parent.isDME
	},activeEditor:function(){var l=this.parent.parent.editor
	this.buttonNode.style.visibility=this.parent.parent.editor?"hidden":"visible"
	if(l){this.set("showFullSyntax",B.isExpEditor(l.id))
	}}},onfctDidChange:function(n){var m=Math.max(0,k.getCategoryIndex(n.did)),l=this.fcHBox.fcPulldown,p=l.selectedItem.did
	if(p<0){return 
	}l.set("value",k.getFunctionCatList()[m].did)
	var o=this.functionList
	window.setTimeout(function(){m=mstrmojo.array.find(o.items,"did",n.did)
	o.singleSelect(m,false)
	},100)
	},switch2Editor:function(m,l){if(l){l.id=m
	}B.set("editorConfig",{editorId:m,cfg:l})
	},handleCloseAction:function(){if(this.onPreClose()){B.close()
	}},handleSelectedFunction:function(p){var l=this
	var n=B.editor
	if(n&&B.isExpEditor(n.id)){if(p){B.insertTokens(l.getTokens())
	var m=function(q){return !isNaN(q)&&q<0
	}
	if(!m(this.functionList.selectedItem.did)){B.getTokenInputBox().insertParenthesisTokens()
	}}}else{var o=l.functionList
	l.openWizard(o.items[o.selectedIndex])
	}},openWizard:function(o,n){B.help=B.getEditorHelpTopic("mstrFE")
	if(!o||o.did===-7){return 
	}var m=B,l={zIndex:m.zIndex+1,candidates:m.candidates,oi:mstrmojo.ME.ENUM.getNewDefinition()}
	if(this.parent.parent.editor){l.oi.n=this.parent.parent.editor.oi.n||mstrmojo.desc(2213,"New Metric")
	}if(k.isBasicAggMap(o.did)||o.did<-1){l.did=o.did
	l.id="mstrSME"
	l.useGUIDefault=true
	}else{l.fctOi=o
	l.id="mstrFE"
	l.paramItemsPath=m.feParamItemsPath
	}m.setRefOi(l)
	m.set("editorConfig",{cfg:l,opener:n})
	}}]},{scriptClass:"mstrmojo.Box",alias:"editorsContainer",cssClass:"mstrmojo-MetricIDE-editors-container",children:[{scriptClass:"mstrmojo.Label",cssText:"line-height:380px
	text-align:center
	",text:mstrmojo.desc(11567,"Select a function from left"),bindings:{visible:"!this.parent.parent.editor",editor:function(){return !this.parent.parent.editor
	}}}]},{scriptClass:"mstrmojo.ME.FunctionInfo",slot:"buttonNode",alias:"funcSyntaxDesc",bindings:{foi:function(){return this.parent.browsersContainer.funcBrowser.functionList.selectedItem
	},showFullSyntax:function(){return this.parent.browsersContainer.funcBrowser.showFullSyntax
	}}}],getBrowsersContainer:function e(){return this.browsersContainer
	},renderObjectsBrowser:function d(){var m=this
	var l=this.getBrowsersContainer()
	if(l){l.addChildren([{scriptClass:"mstrmojo.ObjectBrowser",cssClass:"mstrmojo-MetricIDE-ob",alias:"ob",fishEyeVisible:false,closeable:false,closeOnSelect:false,quickSearch:true,visible:false,bindings:{visible:function(){var n=this.parent.parent.editorRef
	return n&&n.id==="mstrME"
	}},onvisibleChange:function(){if(this.visible&&!this.loaded){this.browse({folderLinksContextId:23,onSelectCB:[m,"onObjectInsert"],useDblSelect:true,browsableTypes:""})
	this.loaded=true
	}},postCreate:function(){this.children=[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(1952,"All objects"),cssClass:"mstrmojo-MetricIDE-obLabel"}].concat(this.children)
	}}])
	}},postBuildRendering:function(){if(this._super){this._super()
	}this.addSlots({editorsContainerNode:this.editorsContainer.domNode})
	this.renderObjectsBrowser()
	this.set("help",this.getBrowsersContainer().funcBrowser.help)
	},onmousedown:function(m){var l=m.e.target
	var n=this.getTokenInputBox()
	if(n&&!mstrmojo.dom.contains(n.domNode,l,true,this.editorNode)){this.getTokenInputBox().handleblur()
	}},loadObjectDefn:function b(p){var m=this.metricId||this.did
	if(!this.metric&&this.datasets){var l
	R.forEach(this.datasets,function(q){O.forEach(q.mx,function(r){if(r.did===m){l=r
	return false
	}})
	if(l){return false
	}})
	this.metric=l
	}var o=this.metric&&this.metric.condition
	if(m){if(mstrApp&&mstrApp.isVI){p.success=Q.composite([function(r){if(!r.condition){r.condition=o
	}var v=r.tks,t=[],w={}
	O.forEach(v&&v.items,function(x){var z=x&&x.oi
	if(z&&z.t===M.Filter&&z.st===h.Filter){t.push(z.did)
	w[z.did]=x
	}})
	var q=mstrApp&&mstrApp.getRootController().docCtrl.model
	var u=[]
	O.forEach(t,function(z){var x=q.getEmbeddedFilter(z)
	if(x){u.push(x)
	w[z].oi.isEmbedded=true
	w[z].oi.condition=x
	}})
	r.conditions=u
	},p.success])
	}k.getMetricDefintion({id:m,msgID:this.isDME?mstrApp.getMsgID():null},p)
	}else{var n=mstrmojo.ME.ENUM.getNewDefinition()
	p.success(n)
	}},isExpEditor:function Y(l){return l==="mstrME"
	},getModalEditor:function W(l){this.setRefOi(l)
	return A.call(this,l)
	},getEditorId:function U(m){var o=m.oi,l=o&&o.tks&&o.tks.met
	if(mstrApp.isWorkstationPlugin&&P.hasPromptInTokens(o.tks.items)){l=65536
	}var n=m.id||{65536:"mstrME",131072:"mstrSME",196608:"mstrFE"}[l]||"mstrME"
	if(n==="mstrSME"||n==="mstrFE"||n==="mstrSME_1"||n==="mstrFE_1"){n=P.getSpecialFunctionEditorId(this.getRootFunction(m),m.modal)||n
	}if(mstrApp.isWorkstationPlugin&&!m.id&&parseInt(l)===65536){mstrApp.updateFormulaToggleState(true)
	}m.id=n
	return n
	},showAsSimpleIDE:function G(l){var m=false
	if(this.isDME&&l.did&&l.tks){m=parseInt(l.tks.met,10)!==mstrmojo.ME.ENUM.METRIC_EDIT_TYPES.ADVANCED&&!mstrmojo.string.isEmpty(P.getSpecialFunctionEditorId(l.tks.items[0].oi))
	}return m
	},getRootFunction:function J(l){var m=l.fctOi
	if(!m){m=P.getRootFunction(l.oi)
	}return m
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.form","mstrmojo.hash","mstrmojo.date","mstrmojo.dom","mstrmojo.expr","mstrmojo.NumberFormat","mstrmojo.mstr.EnumDSSXMLObjectTypes","mstrmojo.Button","mstrmojo.ME.MetricIDE","mstrmojo._IsWebApp","mstrmojo.vi.enums.EnumFeatures")
	var N=mstrmojo.dom,J=mstrmojo.expr,F=J.STP,C=256
	var E=mstrmojo.mstr.EnumDSSXMLObjectTypes
	var G={ExecuteCubeReport:"web-execute-cube-report",CreateAnalysis:"create-analysis"}
	function L(Q,O,S,P){var R=mstrApp.sessionManager
	if(R&&R.sessionTimedout){R.openLoginEditor({success:function(){if(P!=="_blank"){mstrApp.showWait()
	}mstrmojo.form.send(Q,O,S,P)
	}})
	}else{if(mstrApp.pageName=="homecards"&&Q.exportMode&&Q.exportMode==1){if(!P){P=!!mstrApp.features["export-new-window"]?"_blank":"mstrExportWindow"
	}}if((P!=="_blank")&&(P!=="mstrExportWindow")){mstrmojo._IsWebApp.showWait({message:mstrmojo.desc(97,"Executing...")})
	}mstrmojo.form.send(Q,O,S,P)
	}}function M(O){L(O,null,"post")
	}mstrmojo.mstr._ObjectActions=mstrmojo.provide("mstrmojo.mstr._ObjectActions",{_mixinName:"mstrmojo.mstr._ObjectActions",execute:function I(f,Q){mstrmojo.hash.copy(mstrApp.searchAppFeatures,mstrApp.features)
	var S=mstrApp.features
	var d=mstrApp.name
	var X=parseInt(f.tp||f.t,10),c=parseInt(f.stp||f.st,10),j=f.et&&parseInt(f.et,10),k=f.dssid||f.did,e=f.viewMedia||f.dvm,a=f.visMode||0,g={}
	switch(X){case E.Filter:switch(c){case 256:g={evt:3113,filterID:k,src:d+".3113"}
	break
	case 257:this.openCustomGroupEditor(f,Q)
	return 
	}break
	case E.Metric:this.openMetricEditor(f,Q)
	return 
	case E.Folder:g={evt:2001,folderID:k,src:d+".2001"}
	break
	case E.ReportDefinition:if(this.designMode){g={evt:3005,src:d+".3005",reportID:k,reportDesignMode:this.designMode}
	break
	}var h=1
	switch(c){case F.REPORT_CUBE:case F.REPORT_EMMACUBE:if(!mstrApp.features[G.CreateAnalysis]){return 
	}var W=!S.IE9Pre||S.IE9Pre&&(S["run-vi-flash"]||S["run-vi-smart"])
	if(W){var R=S.flashvi?"analysis":"HTML5VI"
	B.convertFromCube({st:c,type:R,did:k,folderId:H(f),et:j})
	}else{mstrmojo.alert(mstrmojo.desc(15474,"Please upgrade your browser or turn off Internet Explorer Compatibility View to work with HTML5 dossiers."))
	}return 
	case F.REPORT_GRID:h=1
	break
	case F.REPORT_GRAPH:h=2
	break
	case F.REPORT_GRIDGRAPH:h=3
	break
	}g={reportID:k,evt:4001,src:d+".4001",visMode:a,reportViewMode:h}
	break
	case E.DocumentDefinition:var Z={Reserved:0,ViewStatic:1,ViewInteractive:2,ViewEditable:4,ViewFlash:8,ExportExcel:16,ExportPDF:32,ExportHTML:64,ExportFlash:128,ExportExcelPlainText:256,ExportCSV:512,ExportPlainText:1024,ViewAnalysis:2048,HTML5Dashboard:8192,All:134217727},P={DATA:1,DESIGN:2,PDF:3,EXCEL:4,SAVE:5,DETAILS:6,FLASH_EXPORT:7,FLASH_VIEW:8,FLASH_BINARY_VIEW:9}
	var b={}
	b[Z.ExportPDF]=P.PDF
	b[Z.ExportExcel]=P.EXCEL
	b[Z.ExportFlash]=P.FLASH_EXPORT
	var U={}
	U[Z.ViewStatic]=2048001
	U[Z.ViewInteractive]=2048001
	U[Z.ViewEditable]=2048001
	U[Z.ExportHTML]=3130
	U[Z.ExportExcel]=3069
	U[Z.ExportFlash]=3069
	U[Z.ExportPDF]=3069
	U[Z.ViewAnalysis]=2048001
	U[Z.HTML5Dashboard]=3140
	var Y=2048001
	if(c===14081){if(this.designMode){Y=3104
	g={evt:Y,objectID:k,src:d+"."+Y,rwDesignMode:this.designMode,executionMode:2}
	}else{if(e>8){Y=U[e]
	g={evt:Y,documentID:k,src:d+"."+Y,}
	if((e===Z.ExportExcel)||(e===Z.ExportPDF)||(e===Z.ExportHTML)||(e===Z.ExportFlash)||(e===Z.ExportExcelPlainText)||(e===Z.ExportCSV)||(e===Z.ExportPlainText)){g.exportMode=1
	}if(e===Z.HTML5Dashboard){if(N.ISDXIE&&!N.isIE9){mstrmojo.alert(mstrmojo.desc(15474,"Please upgrade your browser or turn off Internet Explorer Compatibility View to work with HTML5 dossiers"))
	return false
	}}else{g.executionMode=b[e]||0
	}}else{Y=2048001
	g={evt:Y,documentID:k,src:d+"."+Y,visMode:a||0,currentViewMedia:e||2}
	if(mstrApp.optimizeFitToPage){var O=N.windowDim()
	g.innerWidth=O.w
	g.innerHeight=O.h
	}}}}else{if(c===14080){g={evt:32001,documentID:k,src:d+".32001"}
	}}break
	case E.Prompt:g={evt:3119,objectID:k,promptType:f.pt,src:d+".3119"}
	break
	default:return false
	}M(g)
	},openCustomGroupEditor:function(W,Y){var R=W.did
	var P="mstrCGE",U=mstrmojo.all[P],X=function(Z){if(!U){return 
	}Z.scriptClass="mstrmojo.Obj"
	U.set("model",mstrmojo.insert(Z))
	U.open()
	},Q=function(){var Z={success:function(a){if(!a){mstrmojo.alert("Error retrieving the Custom Group definition!")
	return 
	}X(a)
	},failure:function(a){mstrmojo.alert(a.getResponseHeader("X-MSTR-TaskFailureMsg"))
	}}
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,Z,{taskId:"getCustomGroup",customGroupId:R,styleName:"MojoCustomGroupStyle"})
	},S=function(){X({cgp:{agg:1,flat:false,pf:true,rfi:-1,ce:true,isp:true}})
	},O=R?Q:S
	if(!U){U=mstrmojo.insert(mstrmojo.CustomGroupEditor)
	U.set("noRefresh",true)
	if(Y&&Y.zIndex){U.set("zIndex",Y.zIndex)
	}}O()
	},openMetricEditor:function(Q,O){if(window.mstrApp&&!mstrmojo.resolveFeature(mstrmojo.vi.enums.EnumFeatures.USE_METRIC_EDITOR)){return 
	}var P=Q.did
	var S="mstrMetricIDE",R=mstrmojo.all[S]
	if(!R){R=mstrmojo.insert({scriptClass:"mstrmojo.ME.MetricIDE",id:S,metricId:P,noRefresh:(mstrApp.pageName!=="my"&&mstrApp.pageName!=="shared")})
	if(O&&O.zIndex){R.zIndex=O.zIndex
	}}else{R.set("metricId",P)
	}R.open(null,{action:{cmd:P?"edit":"add"}})
	},openDataImport:function(O){K(O||{})
	},createFilter:function(){var O={evt:3113,src:(mstrApp.servletName||mstrApp.name)+".3113",isNew:true}
	L(O)
	},createDashboard:function(){var P=!mstrmojo.resolveFeature("flashvi"),O={evt:3187,src:(mstrApp.servletName||mstrApp.name)+".3187"}
	if(P&&mstrmojo.dom.isIE8){mstrmojo.alert(mstrmojo.desc(15474))
	return false
	}if(P&&mstrApp.currentFolderId){O.parentFolderId=mstrApp.currentFolderId()
	}L(O)
	},openSharingEditor:A})
	var B={isCubeSupportDDA:function(O){return !!(O&&(O.dda===1||O.dda===3))
	},allowCreateReport:function(O){if(O&&O.ddam===2){mstrmojo.alert(mstrmojo.desc(13384,"The 'Create Report' option is currently not available for Live Connection Datasets."))
	}return true
	},getCubesInfo:function(O,P){mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(Q){P(Q)
	}},{taskId:"getUserDICubeInfo",cubeIds:O.join(",")})
	},convertFromCube:function(P){var S=this,R=P.type,O=P.did,Q=P.folderId
	this.getCubesInfo([O],function(W){var X=W[O],b=mstrApp.name,a=(X&&!X.published&&S.isCubeSupportDDA(X)),Z=!!a?128:0,Y={}
	if(X&&X.ddam!==2&&!X.published){if(window.mstrApp&&!mstrApp.features["web-execute-cube-report"]){mstrmojo.alert(mstrmojo.desc(14111,"This cube has not been published")+" "+mstrmojo.desc(12933,"You do not have enough privileges to perform this operation"))
	}else{mstrmojo.confirm(mstrmojo.desc(14111,"This cube has not been published"),{confirmBtn:{t:mstrmojo.desc(9242,"Republish"),fn:function U(){if(P.st===779&&(P.et&C)>0){K({CubeDesc:"",CubeName:P.executeReport,ReportId:O,folderId:Q,StatusCode:2,isEdit:false,callback:function(){S.convertFromCube(P)
	}})
	}else{var c={evt:4001,src:mstrApp.name+".4001",reportID:O,visMode:0,reportViewMode:1}
	M(c)
	}}}})
	}return 
	}switch(R){case"document":Y={evt:"3104",src:b+".3104",executionMode:"2",rwDesignMode:"1",objectType:"3",objectID:O,rwCreateFlags:0}
	if(Q){Y.saveFolderId=Q
	}break
	case"analysis":Y={evt:"3104",src:b+".3104",executionMode:"1",rwDesignMode:"0",objectType:"3",objectID:O,rwCreateFlags:16,rwViewMode:8192}
	break
	case"HTML5VI":Y={evt:"3185",src:b+".3185",executionMode:"1",rwDesignMode:"0",objectType:"3",objectID:O,rwCreateFlags:32}
	if(Q){Y.saveFolderId=Q
	}break
	case"report":if(!S.allowCreateReport(X)){return 
	}Y={evt:"3005",src:b+".3005",srcID:O,srcType:2,reportDesignMode:1}
	break
	}if(typeof Y.rwCreateFlags==="number"){Y.rwCreateFlags|=Z
	}M(Y)
	})
	}}
	function H(Q){if(Q.fdid){return Q.fdid
	}var O=Q.anc&&Q.anc.items||[],P=O[O.length-1]
	return P&&P.did
	}function D(P){var O=function(){mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(Q){if(Q){var S=Q.descriptors.length,R
	for(R=0
	R<S
	R++){var U=Q.descriptors[R]
	mstrmojo.descriptors[U.key]=U.v
	}}if(P.callback){P.callback()
	}},failure:function(){if(P.callback){P.callback()
	}}},{taskId:"getBundleDescriptors",bundle:P.bundle})
	}
	O()
	}function K(Q){var S=Q.folderId,U=this,R=window.microstrategy
	R?R.showWait():mstrmojo._IsWebApp.showWait()
	var P=function(){var X
	if(U.dataImportId){X=mstrmojo.all[U.dataImportId]
	}if(!X){O()
	mstrmojo.requiresBundle("mojo-di.js")
	X=mstrmojo.insert({scriptClass:"mstrmojo.DI.DIContainer"})
	X.dataImportCallback=function(Y){var Z=document.getElementById("formRefresh")
	if(Z&&Y&&Y.length>0){Z.submit()
	}}
	U.dataImportId=X.id
	}if(Q){mstrmojo.hash.copy(Q,X.dataImportParams)
	if(Q.callback){X.dataImportCallback=function(Y){Q.callback(Y)
	}
	}else{if(Q.isCalledByFlex){X.dataImportCallback=function(Z){if(Z&&Z.length>0){var Y
	if(navigator.appName.indexOf("Microsoft")!==-1){Y=window.MstrFlashFlashViewer
	}else{Y=document.MstrFlashFlashViewer
	}if(Y){Y.onCloseDI(Z)
	}}}
	}}}if(S){mstrmojo.hash.copy({cubeSaveFolderId:S},X.dataImportParams)
	}X.open()
	R?R.showWait(false):mstrmojo._IsWebApp.hideWait()
	}
	var W=function(){var Y={success:function(Z){if(Z){P()
	}else{if(mstrApp.onSessionExpired){mstrApp.onSessionExpired()
	}}}},X={taskId:"keepSessionAlive"}
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,Y,X)
	}
	var O=function(){var X="data-import.css"
	if(N.isIE8||N.isIE9){X="data-import-ie.css"
	}var Y=document.createElement("link")
	Y.rel="stylesheet"
	Y.href="../javascript/mojo/css/"+X
	Y.type="text/css"
	document.head.appendChild(Y)
	}
	if(!this.dataImportId){D({bundle:"mojo-di",callback:W})
	}else{W()
	}}function A(Q,a,P,X){var W="sharingEditor",O=mstrApp.oi,U=(a&&a.objId)||O.objId,R=(a&&a.objType)||O.objType,Z=(a&&a.mid)||mstrApp.getMsgID&&mstrApp.getMsgID(),Y=X&&X.showLinkOnOpen,b=function(e){var d=mstrmojo.all[W]
	if(!d){X=X||{}
	e.acls=X.acls||e.acls
	d=mstrmojo.insert(mstrmojo.hash.copy(X,{scriptClass:"mstrmojo.SharingEditor",guestModeEnabled:mstrApp.guestModeEnabled,mid:Z,id:W,oi:e,href:Q,isLinkDirty:P,viewMode:a?a.viewMode:1,lastState:a?a.lastState:0,showWait:function(){mstrApp.showWait()
	},hideWait:function c(){mstrApp.hideWait()
	},onClose:function(){this.destroy()
	}}))
	}else{d.set("oi",e)
	d.href=Q
	d.mid=Z
	d.isLinkDirty=P
	d.viewMode=a?a.viewMode:1
	d.lastState=a?a.lastState:0
	d.showLinkOnOpen=Y
	}d.open()
	},S=function(){var c={success:function(d){b(d.objects[0])
	},failure:function(d){mstrmojo.alert(d.getResponseHeader("X-MSTR-TaskFailureMsg"))
	},complete:function(){mstrApp.hideWait()
	}}
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,c,{taskId:"getObjectInfo",objectIDs:U,objectTypes:R,includeACL:mstrmojo.resolveFeature("web-use-sharing-editor"),sessionState:mstrApp.sessionState})
	}
	mstrApp.showWait()
	S()
	}}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.array","mstrmojo.string","mstrmojo.Container","mstrmojo.WidgetList","mstrmojo.ui._HasListTooltip","mstrmojo.mstr._ObjectActions")
	mstrmojo.requiresDescs(3364,3366,9202)
	var B=mstrmojo.desc,E=mstrmojo.css,G=mstrmojo.string.escape4HTMLText
	mstrmojo.mstr.search.SearchIconView=mstrmojo.declare(mstrmojo.WidgetList,[mstrmojo.mstr._ObjectActions],{scriptClass:"mstrmojo.mstr.search.SearchIconView",init:function I(L){this._super(L)
	E.addWidgetCssClass(this,"mstrmojo-SearchIconView")
	},itemFunction:function C(O,L,M){var N=new mstrmojo.mstr.search.SearchIconItem({parent:M,idx:L,data:O})
	M.attachListener4ItemWidget(N,M)
	return N
	},attachListener4ItemWidget:function K(O,P){var M=["ItemExecute"],L=M.length,N
	for(N=0
	N<L
	N++){O.attachEventListener(M[N],P.id,"itemEventHandler")
	}return O
	},itemEventHandler:function(L){var N=L.name,M=L.data
	switch(N){case"ItemExecute":this.execute(M,{zIndex:mstrmojo.mstr.search.Search.zIndex+2})
	break
	}}})
	mstrmojo.mstr.search.SearchIconItem=mstrmojo.declare(mstrmojo.Container,[mstrmojo.ui._HasListTooltip],{scritpClass:"mstrmojo.mstr.search.SearchIconItem",markupString:'<div class="mstrmojo-SearchIconItem" mstrAttach:click ><i class="mstrIcon-lg" data-role="icn"></i><div class="ttl" data-role="n"></div><div class="owner" data-role="owner"><label>'+B(3364,"Owner:")+'</label><span></span></div><div class="modified" data-role="mdt"><label>'+B(3366,"Modified:")+'</label><span></span></div><div class="desc" data-role="desc"></div></div>',markupSlots:{iconNode:function(){return this.domNode.firstChild
	},titleNode:function(){return this.domNode.childNodes[1]
	},ownerNode:function(){return this.domNode.childNodes[2].lastChild
	},modifiedNode:function(){return this.domNode.childNodes[3].lastChild
	},descNode:function(){return this.domNode.lastChild
	}},markupMethods:{ondataChange:function(){var L=this.data||{},M=L.desc||""
	E.addClass(this.iconNode,this.getIconCls(L))
	this.titleNode.innerHTML=G(L.n)
	this.ownerNode.innerHTML=G(L.owner)
	this.modifiedNode.innerHTML=G(L.mdt)
	this.descNode.innerHTML=this.allowHTMLOnObjectDesc?M:G(M)
	}},data:{},useRichTooltip:true,getIconCls:function H(L){L=L||this.data
	return L.ccss||("t"+L.t+(L.st?" st"+L.st:"")+(L.isc?" isc":"")+(L.dvm?" dvm"+L.dvm:""))
	},onclick:function J(L){var N=L.getTarget(),M=(N.dataset&&N.dataset.role)||N.getAttribute("data-role")
	if(M==="icn"||M==="n"){this.raiseEvent({name:"ItemExecute",data:this.data})
	}},getRole:function D(L){return L.getAttribute("data-role")
	},getItemFromTarget:function F(L){var M=this.getRole(L)
	if(M==="n"||M==="desc"||M==="owner"){return{ttp:this.data[M]}
	}return{}
	},getItemNodeFromTarget:function A(L){if(this.getRole(L)){return L
	}return null
	},showTooltip:function(M){var L=mstrmojo.dom.eventTarget(window,M)
	if(L.scrollWidth>L.clientWidth||L.scrollHeight>L.clientHeight){this._super(M)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.ui.menus.MenuConfig","mstrmojo.mstr.ui.EnumWebPromptsList","mstrmojo.form","mstrmojo.IVEDatasetPicker","mstrmojo.mstr.MDXCubeBrowser","mstrmojo.NewFolderEditor","mstrmojo.CustomGroupEditor","mstrmojo.mstr._ObjectActions","mstrmojo.mstr.ui.MstrFileUploadHelper","mstrmojo.string")
	var D=mstrmojo.tstid,H=mstrmojo.dom,M=mstrmojo.string
	var B={BLANK:"05B202B9999F4C1AB960DA6208CADF3D",XDA:"1ADEAA2C4754E2DE5DFEC08022DAFDC6",ICUBE:"DB8D5B064BBE3C24F541DAA81A507FDC"}
	function C(P,N,Q,O){if(window.iframe){window.iframe.showWaitPage(true)
	}mstrmojo.form.send(P,N,Q,O)
	}function I(N){if(mstrApp.currentFolderId){N.saveFolderId=mstrApp.currentFolderId()
	}}function E(P,U){function R(d){function e(g){if(g){C(g.params,null,"post")
	}}var b=d.config
	if(d.config.did===B.ICUBE){var f="mstr-create-objectExpl",c=mstrmojo.all[f]
	if(!c){c=new mstrmojo.IVEDatasetPicker({id:f,cssClass:"mstr-create-menu-cubePicker",title:mstrmojo.desc(4354,"Select Intelligent Cube"),help:"Select_Intelligent_Cube_dialog_box.htm",onOk:function(){b.params={evt:3005,src:X+".3005",srcType:2,srcID:this.item.did,reportDesignMode:1,name:"editReport"}
	I(b.params)
	e(b)
	},onCancel:function(){c.close()
	},onRender:function(){var j=false,h=this
	this.btnImport.set("visible",j)
	this.newLabel.set("visible",j)
	this.useExistingLabel.set("visible",j)
	this.ob.set("scrollableIncFetch",false)
	this.btnHBox.destroyChildren()
	var g=mstrmojo.Button.newWebButton(mstrmojo.desc(547,"Select"),function(){if(this.enabled){h.onOk()
	h.onCancel()
	}},true)
	g.bindings={enabled:function(){return this.parent.parent.multiSelect?!!this.parent.parent.selectedItems.length:!!this.parent.parent.item
	}}
	this.btnHBox.addChildren([g,mstrmojo.Button.newWebButton(mstrmojo.desc(221,"Cancel"),function(){h.onCancel()
	},false)])
	}})
	}if(b.title){c.set("title",b.title)
	}if(b.cssClass){c.set("cssClass",b.cssClass)
	}c.open()
	}else{if(d.config.did===B.XDA){(new mstrmojo.mstr.MDXCubeBrowser({onClose:function(){this.destroy()
	},onOK:function(g){var h={evt:3005,src:(mstrApp.servletName||mstrApp.name)+".3005",srcType:1,srcID:g.did,reportDesignMode:1}
	I(h)
	C(h)
	}})).open()
	}else{if(b.did){e(b)
	}}}if(d.menuOpener.createMenu&&d.menuOpener.createMenu.close){d.menuOpener.createMenu.close()
	}return true
	}function W(e,b){var d=e.config,c='<a class="mstrMenuItem subMenuItem '+d.name+' {@cls} {@newGroup}" idx="{@idx}" value="'+d.value+'"title="'+(d.desc||"")+'"><span class=""></span><span class="label">{@n}</span></a>'
	return c
	}var N=this,Q=mstrmojo.hash.clone(U||N.createMenuData.rl)||[{n:mstrmojo.desc(3693,"(None)")}],X=mstrApp.servletName||mstrApp.name
	for(var S=0
	S<Q.length
	S++){if(Q[S].did===B.BLANK){var O=Q[S]
	Q.splice(S,1)
	Q.splice(0,0,O)
	continue
	}if(Q[S].did===B.XDA||Q[S].did===B.ICUBE){var O=Q[S]
	Q.splice(S,1)
	Q.splice(1,0,O)
	continue
	}}for(var S=0
	S<Q.length
	S++){var Y=false
	var Z=Q[S].did
	if(Z===B.ICUBE){if(mstrmojo.resolveFeature("web-define-view-report")){Y=true
	}}else{Y=true
	if(!mstrmojo.resolveFeature("template-reports")||(Z===B.BLANK&&(!mstrmojo.resolveFeature("design-mode")||!mstrmojo.resolveFeature("modify-report-list")))||(Z===B.XDA&&(!mstrmojo.resolveFeature("dhtml")||!mstrmojo.resolveFeature("web-define-view-report")||!mstrmojo.resolveFeature("define-query-report-builder")))){Y=false
	}}if(!Y){continue
	}var a
	if(Q[S].t===8){a=K(Q[S],N,P,E)
	}else{a=P.addCustomMenuItem(M.encodeHtmlString(Q[S].n),"",R,W)
	Q[S].params={reportID:Q[S].did,blank_reportDesignMode:1,reportDesignMode:((mstrmojo.resolveFeature("design-mode")&&(this.reportCreationViewMode!="0"))?4:0),evt:3005,src:X+".3005",reportViewMode:1,promptStyle:"PromptsTransformCreateReport",promptsExecuteStyle:"PromptsTransformClassicSave",promptsCreateStyle:""}
	I(Q[S].params)
	if(Q[S].did===B.BLANK){Q[S].params.reportDesignMode=1
	}a.config=Q[S]
	a.menuOpener=N
	}}}function A(Q){function X(a){var b={DssXmlViewMediaViewStatic:1,DssXmlViewMediaViewInteractive:2,DssXmlViewMediaViewEditable:4}
	var Z=b.DssXmlViewMediaViewStatic
	if(a!==0){if((a&b.DssXmlViewMediaViewEditable)>0){Z=b.DssXmlViewMediaViewEditable
	}else{if((a&b.DssXmlViewMediaViewInteractive)>0){Z=b.DssXmlViewMediaViewInteractive
	}else{if((a&b.DssXmlViewMediaViewStatic)>0){Z=b.DssXmlViewMediaViewStatic
	}}}}return Z
	}var P=this,S=P.createMenuData.dl,Y=P.createMenuData.docList,U=mstrApp.servletName||mstrApp.name
	function R(Z){var b=""
	if(!Z){return b
	}for(var a=0
	a<Z.length
	a++){b+='<a title="'+Z[a].n+" - "+Z[a].desc+'" id = vt_'+Z[a].did+' class="dashboardStyleTemplate mstrMenuItem subMenuItem" idx="{@idx}" rwviewmode = "'+X(Z[a].avm)+'" data-id = "'+Z[a].did+'"></a>'
	}return b
	}function O(Z){if(!Z){return""
	}var b=""
	for(var a=0
	a<Z.length
	a++){b+='<a class="mstrMenuItem subMenuItem {@cls}" title = "'+Z[a].desc+'" idx="{@idx}" data-id = '+Z[a].did+' rwviewmode = "'+X(Z[a].avm)+'" >'+M.encodeHtmlString(Z[a].n)+"</a>"
	}return b
	}function N(){var b='<div class = "mstr-dashboard-subMenu dashboardTemplates">'+R(S)+"</div>"
	var a='<div class = "mstr-dashboard-subMenu docList" >'+O(Y)+"</div>"
	var Z=""
	if(S){Z+=b
	}if(Y){Z+="<hr>"+a
	}return Z
	}function W(a,Z){var b={blank_rwDesignMode:1,rwDesignMode:1,evt:3104,src:U+".3104",createDocument:"*-1.*-1.0.0.0"}
	b.rwViewMode=Z._evtTarget.getAttribute("rwviewmode")
	b.objectID=Z._evtTarget.getAttribute("data-id")
	I(b)
	C(b,null,"post")
	return true
	}Q.addCustomMenuItem("DashDoc Templates","",W,N)
	}function G(W){function U(X){C(X.config.params)
	return true
	}function N(Z,X){var Y=Z.config
	return"<a "+D(Y.name+"Item")+' class="mstrMenuItem subMenuItem '+Y.name+' {@cls} {@newGroup}" idx="{@idx}" value="'+Y.value+'"><span class=""></span><span class="label">{@n}</span></a>'
	}var O=mstrmojo.mstr.ui.EnumWebPromptsList.get()
	for(var P=0
	P<O.length
	P++){var S=O[P],R=mstrmojo.desc(S.descId)||S.n,Q=W.addCustomMenuItem(R,"",U,N)
	Q.config=S
	}}function K(P,S,N,O){if(!P.items&&!P.loading){P.loading=true
	var R=new mstrmojo.SimpleXHR({async:false})
	R.request("POST",mstrConfig.taskURL,{success:function Q(W){var X=W.items||[]
	if(X.length===0){X.push({n:mstrmojo.desc(3693,"(None)")})
	}P.items=X
	delete P.loading
	}},{folderID:P.did,taskId:"folderBrowse",styleName:S.folderBrowsingStyle,includeObjectDesc:true})
	}return N.addPopupMenuItem(P.n,"",function U(){var X=S.createMenu&&S.createMenu.popupConfig,W=new mstrmojo.ui.menus.MenuConfig({menuCssClass:"mstr-create-menu",hostProxyCssClass:"mstrmojo-create-menu-host",isHostedWithin:false,includeScroll:false,alignWithAnchor:true,isStaticAnchor:X.isStaticAnchor})
	O.call(S,W,P.items)
	return W
	})
	}function J(O){var P=this,N=O
	return function(){var S=document.querySelector("[tstid="+O+"Item]"),R=H.position(S),Q=mstrmojo.insert({scriptClass:"mstrmojo.ui.menus.MenuConfig",menuCssClass:"mstr-create-menu",hostProxyCssClass:"mstrmojo-create-menu-host",noInheritTheme:true,tstid:O+"Sbm",supportsScroll:true,isHostedWithin:false,includeScroll:false,alignWithAnchor:true,isStaticAnchor:this.isStaticAnchor,maxHeight:Math.max(H.windowDim().h-R.y-30,100)})
	switch(N){case"template":E.call(P,Q)
	break
	case"templateDoc":Q.menuCssClass=Q.menuCssClass+" mstr-dashboard-subMenu collapse"
	A.call(P,Q)
	break
	case"prompt":G.call(P,Q)
	break
	}return Q
	}
	}function F(b){var O=this,U=O.createMenuData.sl
	var c=mstrmojo.all["mscld-create-menuList"],X=mstrApp.servletName||mstrApp.name
	if(!c){var Y=mstrmojo.insert({scriptClass:"mstrmojo.ui.menus.MenuConfig",menuCssClass:O.cssClassName+" collapse",hostProxyCssClass:O.hostCssClassName,anchorElement:b.domNode,hostId:b.id,isHostedWithin:false,includeScroll:false,tstid:"createMenu",isStaticAnchor:true})
	if(O.alignMenuToRight){Y.setAlignment(mstrmojo.ui.PopupConfig.ENUM_CORNERS.BOTTOM_RIGHT,mstrmojo.ui.PopupConfig.ENUM_CORNERS.TOP_RIGHT)
	}function W(j,f){var h=j.config
	var g="<a "+D(h.name+"Item")+' class="mstrMenuItem '+h.name+' {@cls} {@newGroup}" idx="{@idx}" onclick=" mstrmojo.all[\''+O.id+"'].onclick('"+j.name+'\',event)" href="'+h.href+'" useIframe="'+h.iframe+'"'
	if(h.accept!==undefined){g+=' accept = "'+h.accept+'"'
	}g+=' name="'+h.name+'"><span class="micn"></span><span>{@n}</span></a>'
	return g
	}function a(j,f){var h=j.config
	var g="<label "+D(h.name+"Item")+' for ="myFile" class="mstrMenuItem '+h.name+' {@cls} {@newGroup}" idx="{@idx}" onclick=" mstrmojo.all[\''+O.id+"'].onclick('"+j.name+'\',event)" href="'+h.href+'" target="'+h.target+'" useIframe='+h.iframe+'"'
	if(h.accept!==undefined){g+=' accept = "'+h.accept+'"'
	}g+='name="'+h.name+'"><span class="micn"></span><span>{@n}</span></label>'
	return g
	}function R(g){if(g.config.name==="folder"){var f=mstrmojo.insert({scriptClass:"mstrmojo.NewFolderEditor",fId:mstrApp.currentFolderId?mstrApp.currentFolderId():"",Index:c.domNode.style.zIndex+10,navigateAfter:true,okFn:function(){var h=this,j={evt:2001,src:X+"."+mstrApp.pageName+".fbb.fb.2001",folderID:h.fId}
	C(j,mstrApp.name,"POST")
	},onClose:function(){this.destroy()
	}})
	f.open()
	}if(c&&c.close){window.setTimeout(function(){c.close()
	},10)
	}return true
	}var N=false
	for(var S=0
	S<U.sl.length
	S++){var Q=U.sl[S]
	if(Q.grp){Y.addSeparator()
	}var e={},P=N===false?"":"collapsable "
	if(Q.name==="prompt"||Q.name==="template"||Q.name==="templateDoc"){e=Y.addPopupMenuItem(Q.n,Y.id,J.call(O,Q.name))
	e.cls=e.cls+P+Q.name
	e.tstid=Q.name+"Item"
	}else{if(Q.name==="myFile"){e=Y.addCustomMenuItem(Q.n,P,R,a)
	var d='<form id="import_form" class="mstrmojo-FileUploadBox" target="hidden_import_iframe" enctype="multipart/form-data" method="post" action="'+mstrConfig.taskURL+'"><input id="myFile" name="myFile" type="file" class="mstrmojo-FileUploadBox-file mstr-create-menu-fileUpload" size="30" onchange="mstrApp.uploadMstrFileFn.upload(\'import_form\')
	" accept=".mstr" title=""><input type="hidden" name="fileFieldName" value="myFile"><input type="hidden" name="taskId" value="importAsyncSaveRWD"><input type="hidden" name="taskEnv" value="jsonp2"><input type="hidden" name="jsonp" value="parent.mstrApp.uploadMstrFileFn.callback(@R@)"><input type="hidden" name="myfile" value=""><input type="hidden" name="folderID" value="" id="import_folderID"></form>'
	d+='<iframe name="hidden_import_iframe" style="display:none
	" src="about:blank"></iframe>'
	if(!document.getElementById("import_form")){var Z=document.createElement("SPAN")
	Z.innerHTML=d
	document.body.appendChild(Z)
	}}else{e=Y.addCustomMenuItem(Q.n,P,R,W)
	e.tstid=Q.name
	}e.config=Q
	if(Q.name==="folder"){e.config.params={evt:17001,src:X+"."+mstrApp.pageName+".OMDCreateFolder.17001",targetName:"fb",iframe:true,target:"frameManager"}
	}}e.name=Q.name
	}c=Y.newInstance({id:"mscld-create-menuList"})
	}c.set("includeScroll",false)
	c.open(b)
	O.createMenu=c
	c.onClose=function(){b.toggleButtonClass(false)
	}
	}function L(P){var U=this,R=U.createMenuData
	function N(X){mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function W(Y){X.createMenuData.dl=Y.items
	X.createMenuData.loadData.dlLoaded=true
	Q()
	}},{folderID:"FCA4BAFE4AF0D00088028989D7497A4F",taskId:"folderBrowse",styleName:X.folderBrowsingStyle,includeObjectDesc:true,objectType:"55"})
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function W(Y){X.createMenuData.docList=Y.items
	X.createMenuData.loadData.dlLoaded=true
	Q()
	}},{folderID:"6C87013036D94E65B9FD227CF919327E",taskId:"searchMetadata",styleName:X.folderBrowsingStyle,recursive:1,includeAncestorInfo:false,includeObjectDesc:true,objectType:"14081"})
	}function S(X){mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function W(Y){X.createMenuData.rl=Y.items
	X.createMenuData.loadData.rlLoaded=true
	Q()
	}},{taskId:"folderBrowse",systemFolder:"16",styleName:X.folderBrowsingStyle,includeObjectDesc:true,objectType:"55"})
	}function Q(){if(U.createMenuData.sl&&O(U.createMenuData.loadData)){F.call(U,P)
	}}if(!R){U.createMenuData={}
	mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(Y){var X
	U.createMenuData.sl=Y
	U.createMenuData.loadData={}
	for(X=0
	X<Y.sl.length
	X++){var W=Y.sl[X]["feature-id"]
	switch(W){case"create-view-reports":U.createMenuData.loadData.rlLoaded=false
	S(U)
	break
	case"template-documents
	dhtml
	documents-design-mode
	document-execution":U.createMenuData.loadData.dlLoaded=false
	N(U)
	break
	}}Q()
	}},{taskId:"getShortcutsList",pageName:"createOptions"})
	}else{Q()
	}function O(Y){if(!Y){return true
	}var X=true
	for(var W in Y){X=X&&Y[W]
	}return X
	}}mstrmojo.mstr.ui.CreateMenu=mstrmojo.declare(mstrmojo.Widget,[mstrmojo.mstr._ObjectActions],{scriptClass:"mstrmojo.mstr.ui.CreateMenu",hostCssClassName:"mstrmojo-create-menu-host",cssClassName:"mstr-create-menu",opener:null,folderBrowsingStyle:"MobileFolderStyle",onclick:function(N,O){if(N!=="myFile"){mstrmojo.dom.preventDefault(window,O)
	}switch(N){case"customGroup":this.openCustomGroupEditor({})
	break
	case"metric":this.openMetricEditor({})
	break
	case"queryBuilder":this.openDataImport({})
	break
	case"filter":this.createFilter()
	break
	case"scNewIVE":this.createDashboard()
	break
	case"appSchema":location.href="?evt=3199&src="+mstrApp.name+".3199"
	break
	}},loadCreateMenu:function(){if(!this.opener){return 
	}L.call(this,this.opener)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.array","mstrmojo.Container","mstrmojo.Label","mstrmojo.ui.List","mstrmojo.ui._HasListTooltip","mstrmojo.mstr._ObjectActions","mstrmojo.mstr.search._IconCssClassBuilder")
	mstrmojo.requiresDescs(60,61,945,1050,3364,3366,9202)
	var D=mstrmojo.css,C=mstrmojo.array
	var J,A=function(K){return mstrmojo.all[J].getBuilder(K,this.dataField)
	}
	mstrmojo.mstr.search.SearchGridView=mstrmojo.declare(mstrmojo.DataGrid,[mstrmojo.mstr._ObjectActions],{scritpClass:"mstrmojo.mstr.search.SearchGridView",cssClass:"mstrmojo-Search-GridView",makeObservable:true,banding:false,columns:[{headerText:mstrmojo.desc(945,"Name"),dataField:"n",dataWidgetBuilder:A,colCss:"name"},{headerText:mstrmojo.desc(60,"Owner"),dataField:"owner",dataWidgetBuilder:A,colCss:"owner"},{headerText:mstrmojo.desc(61,"Modified"),dataField:"mdt",dataWidgetBuilder:A,colCss:"mdt"},{headerText:mstrmojo.desc(1050,"Location"),dataField:"anc",dataWidgetBuilder:A,colCss:"anc"}],init:function I(K){this._super(K)
	J=this.id
	},getBuilder:function B(L,N){var K=null
	switch(N){case"n":K={scriptClass:"mstrmojo.mstr.search.SearchGridViewItem",items:[L]}
	break
	case"anc":var M=L.anc.items.slice(2)
	K={scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-Search-Ancester",children:[{scriptClass:"mstrmojo.Label",alias:"toggle",cssClass:"toggle",text:" ",fullPath:false,onclick:function(){this.fullPath=!this.fullPath
	D.toggleClass(this.parent.domNode,"full",this.fullPath)
	},onRender:function(){this.set("bindings",{enabled:function(){return this.parent.path.ellipsized
	}})
	}},{scriptClass:"mstrmojo.ui.List",alias:"path",ellipsized:false,items:C.map(M,function(O){if(O.hid){O.n="[...]"
	}return O
	}),postclick:function(){if(!this.selectedItem.hid){this.parent.dataGrid.execute(this.selectedItem)
	}},onRender:function(){var P=this,O=P.domNode.firstChild
	window.setTimeout(function(){P.set("ellipsized",O.clientWidth<O.scrollWidth)
	},10)
	}}]}
	break
	default:K={scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-Search-nonbreakable "+N,cssDisplay:"inline-block",text:L[N]}
	break
	}K.alias="itemWidget"
	return K
	}})
	mstrmojo.mstr.search.SearchGridViewItem=mstrmojo.declare(mstrmojo.ui.List,[mstrmojo.ui._HasListTooltip,mstrmojo.mstr.search._IconCssClassBuilder],{scritpClass:"mstrmojo.mstr.search.SearchGridViewItem",useRichTooltip:true,getItemMarkup:function G(L,K){return this._super(L,K).replace("{@en@n}",'<i class="{@icnCls}"></i>{@en@n}')
	},getItemProps:function E(L,K){var M=this._super(L,K)
	M.addCls("mstrmojo-Search-GridViewItem")
	M.icnCls="mstrmojo-ListIcon "+this.getIconCssClass(L)
	M.txtCls="mstrmojo-Search-nonbreakable name"
	return M
	},onclick:function H(K){this._super(K)
	this.dataGrid.execute(this.selectedItem,{zIndex:mstrmojo.mstr.search.Search.zIndex+2})
	},showTooltip:function F(N,M){var L=mstrmojo.dom.eventTarget(M,N),K=this.getItemNodeFromTarget(L)
	if(K.scrollWidth>K.clientWidth){this._super(N,M)
	}}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.css","mstrmojo.array","mstrmojo.Model","mstrmojo.IncFetch","mstrmojo.Label","mstrmojo.ui.ButtonBar","mstrmojo.ui.List","mstrmojo.mstr.search.SearchIconView","mstrmojo.mstr.search.SearchGridView","mstrmojo.mstr._ObjectActions")
	mstrmojo.requiresDescs(3364,3366,9202,14557)
	var D=mstrmojo.desc,H=mstrmojo.css,C=mstrmojo.hash
	mstrmojo.mstr.search.SearchResults=mstrmojo.declare(mstrmojo.Container,[],{scriptClass:"mstrmojo.mstr.search.SearchResults",markupString:'<div id="{@id}" class="mstrmojo-SearchResults {@cssClass}"><div class="mstrmojo-SearchResults-list"></div><div class="mstrmojo-SearchResults-toolbar"></div><div class="mstrmojo-SearchResults-if"></idv></div>',markupSlots:{listNode:function(){return this.domNode.firstChild
	},toolbarNode:function(){return this.domNode.childNodes[1]
	},incFetchNode:function(){return this.domNode.lastChild
	}},markupMethods:{onresultsChange:function(){if(this.hasRendered){this.listNode.style.height=this.results&&this.results.items&&this.results.items.length>0?"":0
	}}},height:"430px",supportIncFetch:true,results:{},iconView:false,init:function I(L){if(this._super){this._super(L)
	}this.addChildren([this.getViewRef(),{scriptClass:"mstrmojo.Label",alias:"notFoundMsg",cssText:"text-align: center",allowHTML:true,visible:false,ontextChange:function(){this.set("visible",!mstrmojo.string.isEmpty(this.text))
	},slot:"listNode"},{scriptClass:"mstrmojo.ui.ButtonBar",items:[{n:"Icon View",v:1,css:"iconView"},{n:"Grid View",v:2,css:"gridView"}],showIcon:true,cssClass:"viewModesButtonBar",selectedIndex:1,postselectionChange:function(O){var P=this.items,Q=P[O.added[0]],R=P[O.removed&&O.removed[0]]
	if(Q.v!==R.v){this.parent.set("iconView",Q.v===1)
	}},bindings:{visible:function(){return !this.parent.notFoundMsg.visible&&this.parent.list.visible
	}},slot:"toolbarNode"}])
	if(this.supportIncFetch){var M=this
	this.addChildren([{scriptClass:"mstrmojo.IncFetch",alias:"incFetch",slot:"incFetchNode",np:0,cp:0,ds:{f:mstrmojo.desc(4046,"First"),p:mstrmojo.desc(1058,"Previous"),n:mstrmojo.desc(1059,"Next"),l:mstrmojo.desc(4049,"Last"),pgs:mstrmojo.desc(5972,"## of ### pages"),gt:mstrmojo.desc(5878,"Go to:"),v:mstrmojo.desc(6079,"This field should be # between ## and ###.")},onifsChange:function N(O){mstrmojo.hash.copy(O.value,this)
	if(this.np>1){this.children=null
	this.refresh()
	}H.toggleClass(this.domNode,"show",this.np>1)
	},onfetch:function K(O){M.onfetch(O)
	}}])
	}},getViewRef:function F(){var K=this.iconView?"mstrmojo.mstr.search.SearchIconView":"mstrmojo.mstr.search.SearchGridView"
	return{scriptClass:K,alias:"list",slot:"listNode",bindings:{visible:function(){return this.items&&this.items.length>0
	}}}
	},oniconViewChange:function A(){this.removeChildren(this.list)
	this.addChildren([this.getViewRef()])
	this.renderChildren()
	this.onresultsChange()
	},onresultsChange:function J(){this.list.set("items",this.results&&this.results.items)
	this.updateNotFoundMsg()
	this.updateIncFetch()
	},updateNotFoundMsg:function G(){var K=this.parent,L=K?K.getNotFoundMsg():""
	this.notFoundMsg.set("text",K.hasUserInput()&&C.isEmpty(this.results&&this.results.items)?L:"")
	},updateIncFetch:function B(){var K=this.results
	if(this.supportIncFetch){var L=this.getTotalSize(),N=K.bb,M=K.bc
	this.incFetch.set("ifs",{np:Math.floor(L/M)+((L%M>0)?1:0),cp:Math.floor(N/M)+((N%M>0)?1:0)})
	}},getTotalSize:function E(){return Math.min(this.maxSearchResults,this.results.sz)
	}})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.mstr.ui.CreateMenu","mstrmojo.ui.menus._HasMenuPopup")
	var B=mstrmojo.dom
	var C="mscld-create-menu"
	mstrmojo.mstr.ui.CreateButton=mstrmojo.declare(mstrmojo.Widget,[mstrmojo.ui.menus._HasMenuPopup],{scriptClass:"mstrmojo.mstr.ui.CreateButton",markupString:'<div id="mscld-create" class="mstrmojo-CreateButton mscld-create analysis" title="'+mstrmojo.desc(3291,"Create")+'" mstrAttach:click><span class="mstrMenuItemcreate"><span id="mscld-create-menu" class="mscld-create-menu">'+mstrmojo.desc(3291,"Create")+"</span></span></div>",markupSlots:{menuButtonNode:function(){return this.domNode
	}},onclick:function(){var D=mstrmojo.all[C]
	if(!D){D=mstrmojo.insert({scriptClass:"mstrmojo.mstr.ui.CreateMenu",id:"mscld-create-menu",opener:this,alignMenuToRight:this.alignMenuToRight,reportCreationViewMode:this.reportCreationViewMode})
	}this.toggleButtonClass(true)
	D.loadCreateMenu()
	},toggleButtonClass:function(D){if(this.domNode.className.indexOf("open")>0){mstrmojo.css.toggleClass(this.domNode,"open",D)
	}else{mstrmojo.css.toggleClass(this.domNode,"open",D)
	}},init:function(E){this._super(E)
	if(!this._listenerProc){var F=this
	var D=this._listenerProc=function(){F.browserResized()
	}
	B.attachEvent(window,"resize",D)
	}},browserResized:function(){if(this.timer){clearTimeout(this.timer)
	}var D=mstrmojo.all[C]
	if(D){this.timer=setTimeout(function(){D.createMenu.adjustCornersForPopupOverflow()
	},100)
	}},destroy:function A(D){if(this._listenerProc){B.detachEvent(window,"resize",this._listenerProc)
	}this._super(D)
	},onButtonClick:mstrmojo.emptyFn,onStatusClick:mstrmojo.emptyFn})
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.css","mstrmojo.Model","mstrmojo.Container","mstrmojo._HasSuggestion","mstrmojo._IsWebApp","mstrmojo.mstr.search.SearchSettings","mstrmojo.mstr.search.SearchResults")
	var J=mstrmojo.desc,C=mstrmojo.css,h=mstrmojo.array,r=mstrmojo.string
	var g=[16,1,2,4,8],c=g,G=[1,2,4,8],f=[3,8,14081],X=-1
	var I={suggest:function(x){return{success:function(AB){if(!mstrmojo.all.search){return 
	}if(!x.hasSearchPattern){x.clear()
	x.hideSuggestion()
	return 
	}x.sItems=AB.items||[]
	var AA,z=x.sItems.length
	for(AA=0
	AA<z
	AA++){x.sItems[AA].t=X
	}if(z){x.selectedSuggestionIndex=null
	}else{x.hideSuggestion()
	}var AC=AB.items&&AB.items[0]&&AB.items[0].n.toLowerCase()
	if(AC){x.suggestInputNode.value=AC.replace(new RegExp("^"+r.regEscape(x.searchPattern),"i"),x.inputNode.value)
	x.syncInputWithSuggest()
	}else{AC=x.searchPattern
	}x.suggest=AC
	if(x.last_searchPattern!==AC){x.last_searchPattern=AC
	window.setTimeout(function(){x.requestResults()
	},0)
	}},failure:function(z){mstrmojo.alert(z.status+" : "+z.statusText)
	},complete:function(z){x.showSpinnerIcon(false)
	x.handleSearchErrorAndModeSwitching(z)
	}}
	},search:function(x){return{success:function(AA){if(!mstrmojo.all.search){return 
	}var z
	for(z in x){this[z]=x[z]
	}if(!x.hasSearchPattern&&!x.allowEmptyInput){x.clear()
	x.hideSuggestion()
	return 
	}if(!AA){mstrmojo.xhr.abort()
	x.requestResults()
	return 
	}x.rItems=AA.items||[{t:0,dssid:"",n:mstrmojo.desc(9135,"No match found")}]
	if(x.showAsPopup){x.renderResultsPopup(x.rItems)
	}else{x.renderResults(AA||{})
	}},failure:function(z){mstrmojo.alert(z.status+" : "+z.statusText)
	},complete:function(z){x.showSpinnerIcon(false)
	x.handleSearchErrorAndModeSwitching(z)
	}}
	}}
	var N=function(z){var x=mstrApp.adminInfo
	return z.replace("#",(x&&x.length>0?" ("+x+")":""))
	}
	var w=function(){if(mstrmojo.dom.isDXIE||mstrmojo.dom.isSafari){var x=this.inputNode
	window.setTimeout(function(){x.focus()
	},10)
	}}
	mstrmojo.mstr.search.Search=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasSuggestion,mstrmojo._IsWebApp],{scriptClass:"mstrmojo.mstr.search.Search",noCache:true,suggestionPopupCssClss:"mstrmojo-Search-suggestion",resultsOnly:false,allowEmptyInput:false,showAsPopup:true,allowHTMLOnObjectDesc:false,searchDelay:200,doAutoComplete:true,minSearchLength:1,supportIncFetch:true,searchTootipText:mstrmojo.desc(9168,"Type to search"),enableSuggestion:true,hasSearchPattern:false,searchProps:null,quickSearch:false,includeObjectDesc:true,blockBegin:1,blockCount:10,rootFolderType:39,rootFolderID:null,nameWildcards:16,recursive:1,objectType:[3,8,14081],fields:"nameToSearch",dereferenceshortcut:"1",dateType:1,created:0,dateSubType:1,intervalUnit:1,intervalValue:1,startDate:"",endDate:"",ownerType:1,description:"",maxObjects:100,searchDomain:2,styleName:"MojoFolderStyle",clearVisible:false,spinnerVisible:false,markupString:'<div class="mstrmojo-Search {@cssClass}" style="{@cssText}"><div class="mstrmojo-Search-settings1"></div><div class="mstrmojo-Search-container"><div class="mstrmojo-Search-input" style="position: relative"  mstrAttach:mousedown><div class="mstrmojo-Search-search" style="position: relative"><input class="searchPattern" maxlength="100" autocomplete="off" {@autofocus}                                   placeholder="{@searchTootipText}"mstrAttach:mousedown,keyup,keydown,blur,paste,cut,input /><div class="SearchBox-tip" n="searchTip"></div></div><div class="mstrmojo-Search-suggest" style="background: none transparent
	"><input class="suggestPattern" maxlength="100" autocomplete="off" disabled="disabled" data-act="suggest"/></div></div><div class="mstrmojo-Search-btns" mstrAttach:click><div class="mstrmojo-Search-btnClear" data-act="clear"></div><div class="mstrmojo-Search-btnSpinner" data-act="spinner"></div><div class="mstrmojo-Search-btnSearch" data-act="search"></div></div></div><div class="mstrmojo-Search-btnSettings" data-act="settings" mstrAttach:click>'+mstrmojo.desc(14521,"Refineseaaa")+'</div><div class="mstrmojo-Search-infoIcon" data-act="info"></div><div class="mstrmojo-Search-settings"></div><div class="mstrmojo-Search-result"></div></div>',markupSlots:{settings1ContainerNode:function(){return this.domNode.firstChild
	},suggestInputNode:function(){return this.domNode.childNodes[1].firstChild.childNodes[1].firstChild
	},inputNode:function(){return this.domNode.childNodes[1].firstChild.childNodes[0].firstChild
	},searchTipNode:function(){return this.domNode.childNodes[1].firstChild.childNodes[1].childNodes[1]
	},btnsNode:function(){return this.domNode.childNodes[1].childNodes[1]
	},clearNode:function(){return this.domNode.childNodes[1].childNodes[1].childNodes[0]
	},spinnerNode:function(){return this.domNode.childNodes[1].childNodes[1].childNodes[1]
	},searchNode:function(){return this.domNode.childNodes[1].childNodes[1].childNodes[2]
	},settingsBtnNode:function(){return this.domNode.childNodes[2].childNodes[2]
	},infoIconNode:function(){return this.domNode.childNodes[3]
	},settingsContainerNode:function(){return this.domNode.childNodes[4]
	},resultsContainerNode:function(){return this.domNode.childNodes[5]
	}},markupMethods:{onclearVisibleChange:function(){C.toggleClass(this.btnsNode,"clear",this.clearVisible)
	},onspinnerVisibleChange:function(){C.toggleClass(this.btnsNode,"spinner",this.spinnerVisible)
	C.toggleClass(this.domNode,"searching",this.spinnerVisible)
	}},init:function q(z){var AA=this
	this.autofocus=mstrmojo.dom.isSafari?"":"autofocus"
	if(this._super){this._super(z)
	}if(this.resultsOnly){C.addWidgetCssClass(this,"resultsOnly")
	}this.updateQuickSearchEnabled()
	mstrmojo.hash.copy(z.searchProps,this)
	this.objectType=h.filter(this.objectType,function(AB){return h.find(AA.allowedObjectTypesData,"t",parseInt(AB,10))>-1
	})
	this.maxObjects=parseInt(this.maxSearchResults||this.blockCount,10)
	var x=new Date()
	this.endDate=mstrmojo.date.formatDateInfo({day:x.getDate(),month:parseInt(x.getMonth(),10)+1,year:x.getFullYear()},mstrmojo.locales.datetime.DATEOUTPUTFORMAT)
	this.nameWildcards=(this.pqse?16:1)
	if(this.rootFolderID){this.rootFolderType=0
	}else{this.rootFolderType=(parseInt(this.rootFolderType,10)>=0?this.rootFolderType:39)
	}this.updateQuickSearchEnabled()
	},preBuildRendering:function A(){var x=this
	this.addChildren([mstrmojo.mstr.search.SearchSettings.getLocationPulldown({rootFolderName:this.rootFolderName,rootFolderType:this.rootFolderType,slot:"settings1ContainerNode"}),mstrmojo.mstr.search.SearchSettings.getSearchTypePulldown({className:"searchType",qse:this.qse,slot:"settings1ContainerNode"}),{scriptClass:"mstrmojo.mstr.search.SearchSettings",alias:"settingsWidget",allowedObjectTypesData:this.allowedObjectTypesData,model:new mstrmojo.Model({settings:{rootFolderType:this.rootFolderType,rootFolderID:this.rootFolderID,nameWildcards:this.nameWildcards,objectType:this.objectType,dereferenceshortcut:this.dereferenceshortcut,dateType:this.dateType,created:this.created,dateSubType:this.dateSubType,intervalUnit:this.intervalUnit,intervalValue:this.intervalValue,startDate:this.startDate,endDate:this.endDate,ownerType:this.ownerType,description:this.description}}),onmodelChange:function(){mstrmojo.hash.copy(this.model.settings,x)
	x.blockBegin=1
	x.hasSearchPattern=((x.value&&(x.value.length>0))||(x.description&&(x.description.length>0)))
	x.delayedRequestResults()
	},slot:"settingsContainerNode"}])
	if(this._super){this._super()
	}},postBuildRendering:function U(){if(this._super){this._super()
	}this.showSearchInfoIcon()
	if(this.showInfoIcon){this.addChildren([{scriptClass:"mstrmojo.Label",cssDisplay:"inline-block",bindings:{visible:function(){return this.showInfoIcon||true
	}},useRichTooltip:true,richTooltip:{posType:mstrmojo.tooltip.POS_BOTTOMLEFT,cssClass:"vi-regular vi-tooltip-V",contentNodeCssClass:"mstrmojo-Search-infoIcon-tip",keepArrowXPos:true,refNode:this.infoIconNode,content:N(mstrmojo.desc(9264))},slot:"infoIconNode"}])
	this.renderChildren()
	}w.call(this)
	if(this.searchPattern){this.inputNode.value=this.searchPattern
	}},getSearchPattern:function O(){if(this.inputNode){this.searchPattern=mstrmojo.string.trim(this.inputNode.value)
	}else{this.searchPattern=null
	}return this.searchPattern
	},getRootFolderName:function t(){var x={0:this.rootFolderName,7:J(2,"Shared Reports"),20:J(3,"My Reports"),39:mstrConfig.projectName}
	return x[this.rootFolderType||39]
	},getNotFoundMsg:function b(){var x=function(AA){return"<b>"+mstrmojo.string.escape4HTMLText(AA)+"</b>"
	}
	var z=J(9202,"Your search for ## in ### returned no results").replace("###",x(this.getRootFolderName())).replace("##",x(this.getSearchPattern()))
	return z
	},onmousedown:function j(){w.call(this)
	},onkeyup:function p(z){var AD=this
	var AE=z.e
	this.value=z.getTarget().value
	var AA=this.value
	var AC=AE.keyCode
	if(AC==32&&/^\s/.test(AA)){this.value=AA.replace(/^\s+/,"")
	z.cancel()
	return false
	}AD.hasSearchPattern=((this.value&&(this.value.length>0))||(this.description&&(this.description.length>0)))
	if(!AD.doAutoComplete){if(AD.hasSearchPattern){AD.showClearIcon()
	}AD.searchPattern=this.value
	if(AE.keyCode!==13){return 
	}}var x=function(AG,AH){if(AH.indexOf("?")>-1||AH.indexOf("*")>-1){return false
	}var AF=false
	try{if(typeof AG==="string"){AF=(new RegExp("^"+AH,"")).test(AG)
	}else{var AI
	for(AI in AG){AF=(new RegExp("^"+AH,"i")).test(AG[AI].n)
	if(!AF){break
	}}}}catch(AJ){}return AF
	}
	var AB=function(){var AF=this.suggestInputNode.style.visibility,AH=mstrmojo.dom.position(this.inputNode),AG=(this.inputNode.scrollWidth>(AH&&AH.w))?"hidden":"visible"
	if(AF!==AG){this.suggestInputNode.style.visibility=AG
	}}
	AB.apply(AD)
	if(AC&&h.indexOf([8,13,27,37,38,39,40],AC)===-1&&x(AD.suggestInputNode.value,this.value)&&x(AD.sItems,this.value)){return 
	}AD.processInput(z)
	AD.syncInputWithSuggest()
	this.set("clearVisible",this.getSearchPattern().length>0)
	},onkeydown:function Q(x){if(mstrmojo.dom.isIE){var z=x.e
	if(z.keyCode===27){z.cancelBubble=true
	return false
	}}},onpaste:function v(x){var z=this
	window.setTimeout(function(){z.onkeyup(x)
	},0)
	},onclick:function m(AA){var x=AA.hWin,AB=AA.e||x.event,AC=AB.target||AB.srcElement,z=AC&&((AC.dataset&&AC.dataset.act)||AC.getAttribute("data-act"))
	switch(z){case"search":this.forceSearch()
	break
	case"clear":this.clear()
	break
	case"settings":this.settingsWidget.set("visible",!this.settingsWidget.visible)
	break
	}},processInput:function k(x){var AB=x.e,AA=AB.keyCode,z=this.inputNode.value
	this.searchPattern=z
	this.blockBegin=1
	if(!this.doAutoComplete&&AA!==13){return 
	}if(AA===13||z.length<this.minKeyLength){if(!this.hasSearchPattern){this.clear()
	}this.hideSuggestion()
	this.forceSearch()
	return 
	}else{switch(AA){case 38:case 40:if(this.updateSelectedIndex(AA)){this.delayedRequestResults()
	}else{if(this.tmrRR){window.clearTimeout(this.tmrRR)
	}}break
	case 13:case 27:this.hideSuggestion()
	this.cancel()
	break
	case 37:break
	case 39:if(this.suggestInputNode.value&&this.inputNode.value!==this.suggestInputNode.value){this.inputNode.value=this.suggestInputNode.value
	this.suggestInputNode.value=""
	}break
	default:if(!this.enableSuggestion){return 
	}this.showSpinnerIcon(true)
	this.suggestInputNode.value=""
	this.delayedRequestSuggestion(z)
	}}},cancel:function E(){mstrmojo.xhr.cancel()
	},requestSuggestion:function u(){return this.showSuggestion(this.getSearchPattern())
	},delayedRequestSuggestion:function u(x){if(this.tmrRS){window.clearTimeout(this.tmrRS)
	}if(this.tmrRR){window.clearTimeout(this.tmrRR)
	}var z=this
	this.tmrRS=window.setTimeout(function(){z.requestSuggestion(x)
	},this.searchDelay)
	},requestResults:function K(){if(!this.hasUserInput()){return 
	}if(!this.searchPattern){this.searchPattern=""
	}var z=this
	var AA=function(AE){if(!z.isMiniSearchBox){return AE.toString()
	}var AF=[],AC=f,AD
	for(AD in AC){if(h.find(AE,AC[AD])>-1){AF.push(AC[AD])
	}}return AF.toString()
	}
	var x=function(){var AD=""
	if(z.isMiniSearchBox||z.dereferenceshortcut=="1"){return AD
	}if(z.objectType.length===0||h.indexOf(z.objectType,18)===-1){return AD
	}var AE=[],AC
	for(AC=0
	AC<z.allowedObjectTypesData.length
	AC++){AE.push(z.allowedObjectTypesData[AC].t)
	}return AE.toString()
	}
	var AB={taskId:"searchMetadata",searchId:this.blockBegin>this.blockCount?this.searchId||"":"",quickSearch:this.qse,fields:this.fields,styleName:this.styleName,searchPattern:this.last_searchPattern||this.searchPattern,objectType:AA(this.objectType),targetObjectType:x(),rootFolderType:this.rootFolderType,rootFolderID:(this.rootFolderType=="0"?this.rootFolderID:""),dereferenceshortcut:this.dereferenceshortcut,searchDomain:this.searchDomain,servletName:mstrApp&&mstrApp.name,supportOMD:this.supportOMD,maxObjects:this.maxObjects,blockCount:this.blockCount,blockBegin:this.blockBegin,nameWildcards:this.nameWildcards,recursive:this.recursive,sortKey:this.qse?-1:6,dateType:this.dateType,created:this.created,dateSubType:this.dateSubType,intervalUnit:this.intervalUnit,intervalValue:this.intervalValue,startDate:this.startDate,endDate:this.endDate,ownerType:this.ownerType,description:this.description,includeObjectDesc:false,includeAncestorInfo:true,includeHiddenAncestors:true,uses:this.uses||""}
	this.serverRequest(AB,I.search(this))
	this.showSpinnerIcon(true)
	},delayedRequestResults:function K(){if(this.tmrRR){window.clearTimeout(this.tmrRR)
	}var x=this
	this.tmrRR=window.setTimeout(function(){x.requestResults()
	},this.searchDelay)
	},renderResults:function W(x){var z=this
	if(!this.resultsWidget){this.addChildren([{scriptClass:"mstrmojo.mstr.search.SearchResults",alias:"resultsWidget",slot:"resultsContainerNode",maxSearchResults:this.maxSearchResults,allowHTMLOnObjectDesc:this.allowHTMLOnObjectDesc,onfetch:function(AA){z.fetchPage(AA)
	}}])
	this.renderChildren()
	}this.resultsWidget.set("results",x)
	},renderResultsPopup:function W(z){var x=this.suggestionPopup.list.selectedIndex
	this.set("suggestionItems",z.concat(this.sItems))
	this.suggestionPopup.list.set("selectedIndex",x)
	},hasUserInput:function P(){if(!this.inputNode){return false
	}var x=this.hasSearchPattern
	x=x||!r.isEmpty(this.description)||this.ownerType==2||(this.dateType!=1)&&((this.dateSubType==1)&&!r.isEmpty(this.intervalValue)||(this.dateSubType==2)&&!r.isEmpty(this.startDate))
	return x||this.allowEmptyInput
	},forceSearch:function d(){if(!this.hasUserInput()){return 
	}this.suggestInputNode.value=""
	this.hideSuggestion()
	this.last_searchPattern=null
	this.currentPage=1
	this.blockBegin=1
	this.requestResults()
	},updateQuickSearchEnabled:function e(){this.qse=!!this.isQuickSearchEngineEnabled&&this.enableQuickSearchPref
	this.pqse=this.qse
	this.qse=this.qse&&(h.indexOf(c,parseInt(this.nameWildcards,10))>-1)
	this.doAutoComplete=this.qse&&this.enableSearchAutoComplete
	this.searchDelay=Math.max(0,this.searchAutoCompleteDelay)
	},syncInputWithSuggest:function Z(){return 
	},getSelectedIndex:function(){return this.suggestionPopup.list.selectedIndex
	},getSelectedItem:function(){return this.suggestionPopup.list.selectedItem
	},updateSelectedIndex:function Y(x){try{if(!this.suggestionShown){return 
	}if(x==38||x==40||x==13){switch(x){case 40:this.nextHighlight()
	break
	case 38:this.preHighlight()
	break
	case 13:this.hideSuggestion()
	this.selectedIndex=-1
	return 
	}var z=this.getSelectedItem()||{}
	var AB=false
	if(z.t=="-1"){AB=this.applySuggestionItem(z)
	}else{AB=false
	this.selectedIndex=this.getSelectedIndex()-((this.sItems&&this.sItems.length)||0)
	}return AB
	}}catch(AA){}},clear:function l(){this.showClearIcon(false)
	this.showSpinnerIcon(false)
	this.searchPattern=""
	this.last_searchPattern=""
	this.hasSearchPattern=false
	this.inputNode.value=""
	this.suggestInputNode.value=""
	if(this.resultsWidget){this.resultsWidget.set("results",{})
	}this.hideSuggestion()
	w.call(this)
	},showSpinnerIcon:function L(x){this.set("spinnerVisible",x)
	},showClearIcon:function D(x){this.set("clearVisible",x)
	},getCandidatesThroughTaskCall:function R(AA,x){AA={taskId:"getSearchSuggestions",keyword:this.searchPattern}
	var z=I.suggest(this)
	x=mstrmojo.func.wrapMethods(z,x)
	this.serverRequest(AA,x)
	},getSuggestionPos:function a(){var x=mstrmojo.dom.position(this.inputNode,true)
	return{left:Math.round(x.x)+"px",top:Math.round(x.y+x.h)+"px",zIndex:102}
	},onSuggestionItemSelect:function o(x){if(this.applySuggestionItem(x)){this.delayedRequestResults()
	}},applySuggestionItem:function B(x){this.inputNode.value=x.n
	this.suggestInputNode.value=this.inputNode.value
	var z=false
	if(this.last_searchPattern!=this.suggestInputNode.value){this.last_searchPattern=this.suggestInputNode.value
	z=true
	}this.selectedSuggestionIndex=this.getSelectedIndex()
	return z
	},fetchPage:function F(x){var z=Math.max(x.v-1,0)
	this.blockBegin=z*this.blockCount+1
	this.requestResults()
	},serverRequest:function H(x,z){mstrmojo.xhr.request("POST",mstrConfig.taskURL,z,x)
	},handleSearchErrorAndModeSwitching:function M(AE){if(!AE){return 
	}var AA=this
	if(AA.qse){var z=AE.getResponseHeader("X-MSTR-TaskErrorCode"),AD=AE.getResponseHeader("X-MSTR-TaskFailureMsg")||""
	if(!z||z==-2147209051){return 
	}var AB=-2147212073
	var AC=-2147212154
	if(z==AB||z==AC){AA.isQuickSearchEngineEnabled=false
	AA.updateQuickSearchEnabled()
	AA.nameWildcards={16:1,2:2,4:4,8:8}[AA.nameWildcards]
	AA.requestResults()
	this.showInfoIconOnce=true
	}else{mstrmojo.alert(AA.addAdminInfo(AD))
	}}else{var x=JSON.parse(AE.responseText).qsr
	if(this.enableQuickSearch&&x){this.isQuickSearchEnabled=true
	AA.updateQuickSearchEnabled()
	AA.nameWildcards={1:16,2:2,4:4,8:8}[AA.nameWildcards]
	AA.requestResults()
	}}},showSearchInfoIcon:function S(x){this.set("showInfoIcon",!this.qse||x)
	},destroy:function n(x){this._super(x)
	this.destroyChildren(true)
	}})
	mstrmojo.mstr.search.Search.zIndex=10
	}())
	(function(){mstrmojo.requiresCls("mstrmojo.Button","mstrmojo.mstr.search.Search")
	mstrmojo.mstr.search.SearchButton=mstrmojo.declare(mstrmojo.Button,null,{scriptClass:"mstrmojo.mstr.search.SearchButton",cssClass:"mstrmojo-SearchButton",onclick:function A(B){this.searchEditor=new mstrmojo.Editor({cssClass:"mstrmojo-Search-editor",zIndex:mstrmojo.mstr.search.Search.zIndex,children:[{scriptClass:"mstrmojo.mstr.search.Search",id:"search",searchProps:this.searchProps,showAsPopup:false,isQuickSearchEngineEnabled:mstrConfig.isQuickSearchEngineEnabled,enableQuickSearchPref:mstrConfig.enableQuickSearchPref,enableSearchAutoComplete:mstrConfig.enableSearchAutoComplete,searchAutoCompleteDelay:mstrConfig.searchAutoCompleteDelay}],onOpen:function(){var C=45
	this.set("top",mstrmojo.dom.getVerticalScroll()+C+"px")
	window.setTimeout(function(){mstrmojo.all.search.inputNode.focus()
	},200)
	},onClose:function(){this.destroy()
	}})
	this.searchEditor.open()
	}})
	}())
	var isIE=(navigator.appVersion.indexOf("MSIE")!=-1)?true:false
	var isWin=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false
	var isOpera=(navigator.userAgent.indexOf("Opera")!=-1)?true:false
	function ControlVersion(){var A
	var B
	var C
	try{B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")
	A=B.GetVariable("$version")
	}catch(C){}if(!A){try{B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6")
	A="WIN 6,0,21,0"
	B.AllowScriptAccess="always"
	A=B.GetVariable("$version")
	}catch(C){}}if(!A){try{B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3")
	A=B.GetVariable("$version")
	}catch(C){}}if(!A){try{B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3")
	A="WIN 3,0,18,0"
	}catch(C){}}if(!A){try{B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")
	A="WIN 2,0,0,11"
	}catch(C){A=-1
	}}return A
	}function GetSwfVer(){var G=-1
	if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var F=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":""
	var A=navigator.plugins["Shockwave Flash"+F].description
	var E=A.split(" ")
	var C=E[2].split(".")
	var H=C[0]
	var B=C[1]
	if(E[3]!=""){tempArrayMinor=E[3].split("r")
	}else{tempArrayMinor=E[4].split("r")
	}var D=tempArrayMinor[1]>0?tempArrayMinor[1]:0
	var G=H+"."+B+"."+D
	}}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1){G=4
	}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1){G=3
	}else{if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1){G=2
	}else{if(isIE&&isWin&&!isOpera){G=ControlVersion()
	}}}}}return G
	}function DetectFlashVer(F,D,C){versionStr=GetSwfVer()
	if(versionStr==-1){return false
	}else{if(versionStr!=0){if(isIE&&isWin&&!isOpera&&(versionStr.indexOf(" ")!=-1)){tempArray=versionStr.split(" ")
	tempString=tempArray[1]
	versionArray=tempString.split(",")
	}else{versionArray=versionStr.split(".")
	}var E=versionArray[0]
	var A=versionArray[1]
	var B=versionArray[2]
	if(E>parseFloat(F)){return true
	}else{if(E==parseFloat(F)){if(A>parseFloat(D)){return true
	}else{if(A==parseFloat(D)){if(B>=parseFloat(C)){return true
	}}}}}return false
	}}}function AC_AddExtension(C,B){if(C.indexOf("?")!=-1){var A=false
	if(B.indexOf("?")==(B.length-1)){A=true
	}return C.replace(/\?/,B+(A?"":"?"))
	}else{return C+B
	}}function AC_Generateobj(F,E,A,D){var C=""
	if(isIE&&isWin&&!isOpera){C+="<object "
	for(var B in F){C+=B+'="'+F[B]+'" '
	}for(var B in E){C+='><param name="'+B+'" value="'+E[B]+'" /> '
	}C+="></object>"
	}else{C+="<embed "
	for(var B in A){C+=B+'="'+A[B]+'" '
	}C+="> </embed>"
	}if(typeof (D)!="undefined"){var G=(typeof D=="string")?document.getElementById(D):D
	G.innerHTML=C
	}else{document.write(C)
	}}function AC_FL_RunContent(){var B=".swf"
	var A=AC_GetArgs(arguments,B,"movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash")
	AC_Generateobj(A.objAttrs,A.params,A.embedAttrs,A.parentDiv)
	}function AC_GetArgs(H,B,D,F,A){var G=new Object()
	G.embedAttrs=new Object()
	G.params=new Object()
	G.objAttrs=new Object()
	for(var E=0
	E<H.length
	E=E+2){var I=H[E].toLowerCase()
	switch(I){case"classid":break
	case"parentdiv":G.parentDiv=H[E+1]
	case"pluginspage":G.embedAttrs[H[E]]=H[E+1]
	break
	case"src":case"movie":var C=AC_AddExtension(H[E+1],B)
	if(mstrmojo){if(!mstrmojo.url){mstrmojo.requiresCls("mstrmojo.url")
	}if(mstrmojo.url){C=mstrmojo.url.getFullPath(C)
	}}H[E+1]=C
	G.embedAttrs.src=H[E+1]
	G.params[D]=H[E+1]
	break
	case"onafterupdate":case"onbeforeupdate":case"onblur":case"oncellchange":case"onclick":case"ondblClick":case"ondrag":case"ondragend":case"ondragenter":case"ondragleave":case"ondragover":case"ondrop":case"onfinish":case"onfocus":case"onhelp":case"onmousedown":case"onmouseup":case"onmouseover":case"onmousemove":case"onmouseout":case"onkeypress":case"onkeydown":case"onkeyup":case"onload":case"onlosecapture":case"onpropertychange":case"onreadystatechange":case"onrowsdelete":case"onrowenter":case"onrowexit":case"onrowsinserted":case"onstart":case"onscroll":case"onbeforeeditfocus":case"onactivate":case"onbeforedeactivate":case"ondeactivate":case"type":case"codebase":case"id":G.objAttrs[H[E]]=H[E+1]
	break
	case"width":case"height":case"align":case"vspace":case"hspace":case"class":case"title":case"accesskey":case"name":case"tabindex":G.embedAttrs[H[E]]=G.objAttrs[H[E]]=H[E+1]
	break
	default:G.embedAttrs[H[E]]=G.params[H[E]]=H[E+1]
	}}G.objAttrs.classid=F
	if(A){G.embedAttrs.type=A
	}return G
	}AC_OETagsObj.prototype=new Object()
	function AC_OETagsObj(){}	